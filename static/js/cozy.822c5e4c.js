/*! For license information please see cozy.822c5e4c.js.LICENSE.txt */
(self.webpackChunkcozy_home=self.webpackChunkcozy_home||[]).push([["611"],{1569:function(){},48424:function(e,t,n){"use strict";n.r(t)},96553:function(){},39107:function(){},7856:function(){},98326:function(){},27310:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(56493),o=r(n(89271)),c=r(n(94619)),s=r(n(39274)),u=n(57615),l=r(n(96979)),d=r(n(7530)),f=r(n(75314)),p=r(n(63274)),h=r(n(61363)),m=n(52765),v=n(22892),y="apps-menu-grid",g=function(e){var t=e.isFetchingApps,n=e.apps,r=e.shortcuts,i=e.homeApp,o=e.closeMenu,m=(0,h.default)().t;if(!t&&(!n||!n.length))return a.default.createElement(s.default,{className:"u-mh-half",color:"error"},m("no_apps"));if(t)return a.default.createElement("div",{className:y},a.default.createElement(p.default,{key:"1"}),a.default.createElement(p.default,{key:"2"}),a.default.createElement(p.default,{key:"3"}));var g=i&&i.slug,b=n.filter(function(e){return e.slug!==g}),w=(0,c.default)("apps.sort")?(0,u.sortApplicationsList)(b,(0,c.default)("apps.sort")):b,k=(0,v.getEntrypoints)(n);return a.default.createElement("div",{className:y},w.map(function(e){return a.default.createElement(l.default,{key:e.slug,app:e,onAppSwitch:o})}),r.map(function(e,t){return a.default.createElement(d.default,{key:t,shortcut:e})}),k.map(function(e){return a.default.createElement(f.default,{key:e.name,entrypoint:e})}))};g.propTypes={isFetchingApps:o.default.bool.isRequired,apps:o.default.array,homeApp:o.default.shape({isCurrentApp:o.default.bool,slug:o.default.string,href:o.default.string}),closeMenu:o.default.func},t.default=(0,i.connect)(function(e){return{isFetchingApps:(0,m.isFetchingApps)(e),apps:(0,m.getApps)(e),homeApp:(0,m.getHomeApp)(e)}})(g)},96979:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppItem=void 0;var a=r(n(16193)),i=r(n(96540)),o=n(57615),c=n(52245),s=r(n(36040)),u=r(n(62162)),l=r(n(21696)),d=r(n(39274)),f=r(n(53978)),p=n(40061),h=r(n(73791)),m=(0,c.makeStyles)(function(){return{text:{lineHeight:"22.5px",fontSize:"12px",fontWeight:400}}}),v=t.AppItem=function(e){var t=e.app,n=e.onAppSwitch,r=(0,o.getAppDisplayName)(t),c=m();return i.default.createElement(l.default,{href:t.href||"",app:t,onAppSwitch:n},function(e){var n=e.onClick,o=e.href;return i.default.createElement(s.default,{height:"auto",component:"a",target:"_blank",variant:"text",href:o,title:r,onClick:n,className:(0,f.default)("apps-menu-grid-item-wrapper","u-bdrs-5"),label:i.default.createElement("div",{className:"apps-menu-grid-item"},i.default.createElement("div",{className:"apps-menu-grid-item-icon"},i.default.createElement(u.default,(0,a.default)({app:t,key:t.slug},h.default.get.iconProps()))),i.default.createElement(d.default,{noWrap:!0,align:"center",className:"u-w-100 ".concat(c.text)},r))})})};v.propTypes={app:p.appShape.isRequired},t.default=v},63274:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppItemPlaceholder=void 0;var a=r(n(96540)),i=r(n(55540)),o=t.AppItemPlaceholder=function(){return a.default.createElement(i.default,{variant:"rect",width:48,height:48,className:"u-m-1 u-bdrs-5"})};t.default=o},75314:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EntrypointItem=void 0;var a=r(n(96540)),i=n(42895),o=n(52245),c=r(n(36040)),s=r(n(39274)),u=r(n(53978)),l=r(n(61363)),d=(0,o.makeStyles)(function(){return{text:{lineHeight:"22.5px",fontSize:"12px",fontWeight:400}}}),f=t.EntrypointItem=function(e){var t=e.entrypoint,n=(0,i.useClient)(),r=d(),o=(0,l.default)().lang,f=n.getStackClient().uri,p=n.getInstanceOptions().subdomain,h=(0,i.generateWebLink)({cozyUrl:f,subDomainType:p,slug:t.slug,pathname:"/",hash:t.hash}),m=t.title[o]||t.title.en;return a.default.createElement(c.default,{height:"auto",component:"a",target:"_blank",variant:"text",href:h,title:m,className:(0,u.default)("apps-menu-grid-item-wrapper","u-bdrs-5"),label:a.default.createElement("div",{className:"apps-menu-grid-item"},a.default.createElement("div",{className:"apps-menu-grid-item-icon"},a.default.createElement("img",{className:"u-bdrs-5 u-w-100",src:"data:image/svg+xml;base64,".concat(t.icon),alt:""})),a.default.createElement(s.default,{noWrap:!0,align:"center",className:"u-w-100  ".concat(r.text)},m))})};t.default=f},7530:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShortcutItem=void 0;var a=r(n(96540)),i=n(42895),o=n(39046),c=n(52245),s=r(n(36040)),u=r(n(39274)),l=r(n(53978)),d=(0,c.makeStyles)(function(){return{text:{lineHeight:"22.5px",fontSize:"12px",fontWeight:400}}}),f=t.ShortcutItem=function(e){var t,n=e.shortcut,r=(0,i.useClient)(),c=d(),f=(0,i.useFetchShortcut)(r,n._id),p=f.shortcutInfos,h=f.shortcutImg,m=(0,o.splitFilename)(n).filename,v=(null==p||null==(t=p.data)?void 0:t.url)||"#",y=(0,o.getShortcutImgSrc)(n);return a.default.createElement(s.default,{height:"auto",component:"a",target:"_blank",variant:"text",href:v,title:m,className:(0,l.default)("apps-menu-grid-item-wrapper","u-bdrs-5"),label:a.default.createElement("div",{className:"apps-menu-grid-item"},a.default.createElement("div",{className:"apps-menu-grid-item-icon"},y?a.default.createElement("img",{className:"u-bdrs-5 u-w-100",src:y,alt:""}):a.default.createElement("img",{className:"u-bdrs-5 u-w-100",src:h,alt:""})),a.default.createElement(u.default,{noWrap:!0,align:"center",className:"u-w-100 ".concat(c.text)},m))})};t.default=f},22892:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getEntrypoints=void 0;var a=r(n(26396));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=n(42895).models.applications,s=c.selectEntrypoints,u=c.filterEntrypoints;t.getEntrypoints=function(e){var t=e.find(function(e){return"drive"===e.slug})||{};return u(s(t.entrypoints||[],["new-file-type-text","new-file-type-sheet","new-file-type-slide"])).map(function(e){return o(o({},e),{},{slug:t.slug})})}},62338:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=r(n(27310)),c=r(n(74710)),s=r(n(90774)),u=r(n(26988)),l=r(n(83555)),d=n(24242),f=n(89184);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=(0,n(52245).makeStyles)({root:{"& .dialogContentInner":{"& .dialogContentWrapper":{paddingBottom:"0 !important"}}}});t.default=function(e){var t=e.shortcuts,n=(0,i.useState)(!1),r=(0,a.default)(n,2),p=r[0],m=r[1],v=(0,i.useRef)(),y=(0,i.useRef)(),g=(0,d.useBreakpoints)().isMobile,b=function(){m(!p)},w=h();return i.default.createElement("nav",{ref:v},i.default.createElement(c.default,{ref:y,onClick:b,className:"u-p-half"},i.default.createElement(s.default,{icon:l.default,size:"18"})),g?i.default.createElement(f.ConfirmDialog,{open:p,onClose:b,content:i.default.createElement(o.default,{shortcuts:t,closeMenu:b}),componentsProps:{dialogContent:{classes:w}},classes:{paper:"u-bdrs-7"}}):i.default.createElement(u.default,{open:p,anchorEl:y.current,container:v.current,getContentAnchorEl:null,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-10,horizontal:0},classes:{paper:"u-bdrs-7"}},i.default.createElement(o.default,{shortcuts:t,closeMenu:b})))}},85936:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(56211),c=r(n(61363));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.default=function(e){var t=e.code,n=e.links,r=(0,c.default)().t,s=(0,i.useState)(!0),u=(0,a.default)(s,2),l=u[0],d=u[1],f=(0,i.useCallback)(function(){return setTimeout(function(){d(!1)},100)},[d]);return(0,i.useEffect)(function(){f()},[f]),i.default.createElement("div",{className:"coz-bar-banner".concat(l?" unmounted":"")},i.default.createElement("p",null,r("banner.".concat(t,".description"))),n&&i.default.createElement(o.ButtonLink,{className:"coz-bar-banner-button",size:"tiny",href:n,label:r("banner.".concat(t,".CTA"))}))}},23185:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=t.mapDispatchToProps=t.default=t.Bar=void 0;var a=r(n(16193)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(56493),c=r(n(89271)),s=r(n(44819)),u=r(n(82092)),l=n(24242),d=r(n(95310)),f=n(7127),p=r(n(94619)),h=r(n(85936)),m=r(n(62338)),v=r(n(73433)),y=r(n(2964)),g=r(n(48620)),b=r(n(55843)),w=n(52765),k=n(42895),x=n(38594),O=r(n(53978));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var E=t.Bar=function(e){var t,n=e.fetchContext,r=e.fetchSettingsData,o=e.fetchApps,c=e.isPublic,w=e.barLeft,_=e.barRight,E=e.barCenter,C=e.barSearch,S=e.onLogOut,P=e.userActionRequired,A=e.searchOptions,D=e.isInvertedTheme,T=e.appSlug,R=e.hasFetchedApps,j=e.homeApp,M=e.componentsProps,I=(0,k.useClient)(),N=(0,l.useBreakpoints)().isMobile,z=(0,k.useFetchHomeShortcuts)(),F=A.enabled&&!c,L=(0,i.useCallback)(function(){!c&&(n(),r(!1),R||o())},[o,n,r,R,c]);return(0,i.useEffect)(function(){var e=function(){L()};return L(),I.on("tokenRefreshed",e),function(){I.removeListener("tokenRefreshed",e)}},[I,L]),i.default.createElement("div",(0,a.default)({},null==M?void 0:M.Wrapper,{className:(0,O.default)("coz-bar-wrapper",null==M||null==(t=M.Wrapper)?void 0:t.className),"data-testid":"coz-bar-wrapper"}),i.default.createElement("div",{id:"cozy-bar-modal-dom-place"}),i.default.createElement("div",{className:"coz-bar-container"},w||function(){if((0,f.isFlagshipApp)()||(0,p.default)("flagship.debug"))return i.default.createElement(y.default,{isInvertedTheme:D});var e=!c&&j&&j.href;if(N)return i.default.createElement(y.default,{homeHref:e});var t="home"===T;return i.default.createElement(s.default,{container:!0,alignItems:"center",className:"u-w-auto"},!t&&i.default.createElement(i.default.Fragment,null,i.default.createElement(y.default,{homeHref:e}),i.default.createElement(u.default,{orientation:"vertical",className:"u-mr-half",flexItem:!0})),i.default.createElement(d.default,{slug:T}))}(),E||null,i.default.createElement("div",{className:"u-flex-grow"},C||(F&&!N?i.default.createElement("div",{className:"u-flex-grow u-mh-2"},i.default.createElement(x.AssistantDesktop,{componentsProps:{SearchBarDesktop:{size:"small"}}})):null)),F&&N?i.default.createElement(g.default,null):null,_,!c&&("drive"===T&&N&&C?null:i.default.createElement(i.default.Fragment,null,i.default.createElement(b.default,null),i.default.createElement(m.default,{shortcuts:z}),i.default.createElement(v.default,{onLogOut:S})))),P&&i.default.createElement(h.default,P))};E.propTypes={appSlug:c.default.string,isPublic:c.default.bool,isInvertedTheme:c.default.bool,onLogOut:c.default.func,userActionRequired:c.default.object,componentsProps:c.default.shape({Wrapper:c.default.shape({className:c.default.string})})};var C=t.mapStateToProps=function(e){return{hasFetchedApps:(0,w.hasFetched)(e),homeApp:(0,w.getHomeApp)(e)}},S=t.mapDispatchToProps=function(e){return{fetchApps:function(){return e((0,w.fetchApps)())},fetchContext:function(){return e((0,w.fetchContext)())},fetchSettingsData:function(t){return e((0,w.fetchSettingsData)(t))}}};t.default=(0,o.connect)(C,S)(E)},67824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarCenter=function(e){var t=e.children,n=(0,a.useBarContext)();return(0,r.useEffect)(function(){if(n&&void 0!==n.setBarCenter)return n.setBarCenter(t),function(){n.setBarCenter(null)};console.warn("You should not use BarCenter outside of a BarProvider")},[n,t]),null};var r=n(96540),a=n(68520)},97190:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BarComponent=void 0;var a=r(n(16193)),i=r(n(22056)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(40961),s=n(52765),u=n(57275),l=r(n(23185)),d=n(56493),f=n(42895),p=r(n(85561)),h=r(n(73791)),m=n(68520);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(){var e=document.createElement("div");return e.setAttribute("id","coz-bar"),e.setAttribute("role","banner"),e.classList.add("coz-target--browser"),e},g=function(){var e=y(),t=document.querySelector(u.APP_SELECTOR);return t?(document.body.insertBefore(e,t),document.body.classList.add("has-banner"),e):(console.warn('Cozy-bar is looking for a "'.concat(u.APP_SELECTOR,"\" tag that contains your application and can't find it :'(â€¦ The BAR is now disabled")),null)};function b(e){var t=e.children,n=e.wrapperElement,r=e.setWrapperElement,a=e.wrapperId,i=void 0===a?"cozy-bar":a;return((0,o.useLayoutEffect)(function(){var e=document.getElementById(i),t=!1;return e||(t=!0,e=g(i)),r(e),function(){t&&e.parentNode&&e.parentNode.removeChild(e)}},[r,i]),null===n)?null:(0,c.createPortal)(t,n)}t.BarComponent=function(e){var t,r=e.appName,c=void 0===r?(0,u.getAppName)():r,v=e.appNamePrefix,y=void 0===v?(0,u.getAppNamePrefix)():v,g=e.appSlug,w=void 0===g?(0,u.getAppSlug)():g,k=e.iconPath,x=void 0===k?(0,u.getDefaultIcon)():k,O=e.isInvertedTheme,_=e.isPublic,E=void 0!==_&&_,C=e.onLogOut,S=e.disableInternalStore,P=void 0!==S&&S,A=e.searchOptions,D=e.componentsProps,T=(0,m.useBarContext)()||{},R=T.barSearch,j=T.barLeft,M=T.barCenter,I=T.barRight,N=T.themeVariant,z=(0,o.useState)(null),F=(0,i.default)(z,2),L=F[0],B=F[1],U=(0,f.useClient)(),V=!E&&/^\/public/.test(window.location.pathname),H=n(93761).default;t=P?U.store:H(),(0,o.useEffect)(function(){t.dispatch((0,s.setInfos)(c,y,w)),h.default.init({cozyClient:U,onCreate:function(e){return t.dispatch((0,s.onRealtimeCreate)(e))},onDelete:function(e){return t.dispatch((0,s.onRealtimeDelete)(e))}})},[c,y,w,U,t]);var q={appName:c,isInvertedTheme:O,appNamePrefix:y,appSlug:w,cozyClient:U,iconPath:x,isPublic:V||E,onLogOut:C,userActionRequired:(0,u.getUserActionRequired)(),searchOptions:void 0===A?{enabled:!0}:A,componentsProps:void 0===D?{}:D,onDrawer:function(e){L.dataset.visible=e}};return o.default.createElement(b,{wrapperElement:L,setWrapperElement:B},o.default.createElement(p.default,{variant:N,ignoreCozySettings:q.isPublic},P?o.default.createElement(l.default,(0,a.default)({},q,{barSearch:R,barLeft:j,barCenter:M,barRight:I})):o.default.createElement(d.Provider,{store:t},o.default.createElement(l.default,(0,a.default)({},q,{barSearch:R,barLeft:j,barCenter:M,barRight:I})))))}},53496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarLeft=function(e){var t=e.children,n=(0,a.useBarContext)();return(0,r.useEffect)(function(){if(n&&void 0!==n.setBarLeft)return n.setBarLeft(t),function(){n.setBarLeft(null)};console.warn("You should not use BarLeft outside of a BarProvider")},[n,t]),null};var r=n(96540),a=n(68520)},68520:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useBarContext=t.default=t.BarContext=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var c=t.BarContext=(0,i.createContext)();t.useBarContext=function(){return(0,i.useContext)(c)},t.default=(0,i.memo)(function(e){var t=e.children,n=(0,i.useState)(null),r=(0,a.default)(n,2),o=r[0],s=r[1],u=(0,i.useState)(null),l=(0,a.default)(u,2),d=l[0],f=l[1],p=(0,i.useState)(null),h=(0,a.default)(p,2),m=h[0],v=h[1],y=(0,i.useState)(null),g=(0,a.default)(y,2),b=g[0],w=g[1],k=(0,i.useState)("normal"),x=(0,a.default)(k,2),O=x[0],_=x[1],E=(0,i.useMemo)(function(){return{barCenter:o,setBarCenter:s,barRight:d,setBarRight:f,barLeft:m,setBarLeft:v,barSearch:b,setBarSearch:w,themeVariant:O,setThemeVariant:_}},[o,m,d,b,O]);return i.default.createElement(c.Provider,{value:E},t)})},13627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarRight=function(e){var t=e.children,n=(0,a.useBarContext)();return(0,r.useEffect)(function(){if(n&&void 0!==n.setBarRight)return n.setBarRight(t),function(){n.setBarRight(null)};console.warn("You should not use BarRight outside of a BarProvider")},[n,t]),null};var r=n(96540),a=n(68520)},46603:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BarRoutes=void 0;var a=r(n(96540)),i=n(42895),o=n(38594),c=n(84976);t.BarRoutes=[a.default.createElement(c.Route,{key:"assistant/:conversationId",path:"assistant/:conversationId",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(i.RealTimeQueries,{doctype:"io.cozy.ai.chat.conversations"}),a.default.createElement(o.AssistantDialog,null))}),a.default.createElement(c.Route,{key:"search",path:"search",element:a.default.createElement(o.SearchDialog,null)})]},78617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarSearch=function(e){var t=e.children,n=(0,a.useBarContext)();return(0,r.useEffect)(function(){if(n&&void 0!==n.setBarSearch)return n.setBarSearch(t),function(){n.setBarSearch(null)};console.warn("You should not use BarSearch outside of a BarProvider")},[n,t]),null};var r=n(96540),a=n(68520)},25524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarTheme=function(e){var t=e.variant,n=(0,a.useBarContext)();return(0,r.useEffect)(function(){if(n&&void 0!==n.setTheme)return n.setThemeVariant(t),function(){n.setThemeVariant("normal")};console.warn("You should not use BarTheme outside of a BarProvider")},[n,t]),null};var r=n(96540),a=n(68520)},62008:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(53978)),o=n(56493),c=r(n(94619)),s=n(84660),u=n(42895),l=n(40543),d=r(n(70879)),f=r(n(27282)),p=r(n(72637)),h=r(n(38143)),m=r(n(20375)),v=r(n(83108)),y=r(n(23325)),g=r(n(78402)),b=r(n(90240)),w=r(n(83393)),k=r(n(90774)),x=r(n(82092)),O=r(n(36040)),_=r(n(39274)),E=n(24242),C=n(52765),S=r(n(61363)),P=r(n(55657)),A=n(21732);t.default=(0,o.connect)(function(e){return{isSettingsAppInstalled:(0,C.getIsSettingsAppInstalled)(e)}})(function(e){var t=e.onLogOut,n=e.instance,r=e.diskUsage,o=e.isSettingsAppInstalled,C=e.closeMenu,D=(0,s.useWebviewIntent)(),T=(0,u.useClient)(),R=(0,S.default)().t,j=(0,E.useBreakpoints)().isMobile,M=n.data,I=M.public_name,N=M.email,z=(0,l.makeDiskInfos)(r.data.used,r.data.quota),F=z.humanDiskQuota,L=z.humanDiskUsage,B=(0,A.getSettingsLink)({client:T,hash:"menu"}),U=(0,A.getSettingsLink)({client:T,hash:"storage"}),V=j?"disabled":void 0;return a.default.createElement("div",{className:(0,i.default)("user-menu-content","u-flex u-flex-column")},a.default.createElement("div",{className:"u-flex u-flex-column u-flex-items-center u-mt-half"},a.default.createElement(P.default,{className:"u-mb-half"}),a.default.createElement(_.default,{variant:"h4"},I),a.default.createElement(_.default,{variant:"body2"},N),(0,c.default)("cozy.b2b.enabled")&&a.default.createElement(O.default,{label:R("userMenu.addAccount"),variant:"secondary",startIcon:a.default.createElement(k.default,{icon:m.default}),className:(0,i.default)("user-menu-content-add-account","u-mt-1")})),a.default.createElement(d.default,{className:"u-pb-0"},o&&a.default.createElement(f.default,{button:!0,gutters:V,size:"small",component:"a",href:B,onClick:C},a.default.createElement(p.default,null,a.default.createElement(k.default,{icon:v.default})),a.default.createElement(h.default,{primary:R("userMenu.manageProfile")})),(0,c.default)("cozy.b2b.enabled")&&a.default.createElement(f.default,{button:!0,gutters:V,size:"small",component:"a",href:(0,c.default)("cozy.b2b.createBusinessAccountUrl"),onClick:C},a.default.createElement(p.default,null,a.default.createElement(k.default,{icon:b.default})),a.default.createElement(h.default,{primary:R("userMenu.createBusinessAccount")})),o&&a.default.createElement(f.default,{button:!0,gutters:V,size:"small",component:"a",href:U,onClick:C},a.default.createElement(p.default,null,a.default.createElement(k.default,{icon:g.default})),a.default.createElement(h.default,{primary:R("userMenu.storage"),secondary:R("userMenu.storageAvailable",F-L)}),a.default.createElement(p.default,null,a.default.createElement(k.default,{icon:w.default}))),a.default.createElement(x.default,{component:"li",variant:"inset"}),a.default.createElement(f.default,{button:!0,gutters:V,size:"small",onClick:function(){return(0,A.logOut)({client:T,webviewIntent:D,onLogOut:t})}},a.default.createElement(p.default,null,a.default.createElement(k.default,{icon:y.default})),a.default.createElement(h.default,{primary:R("userMenu.logOut")}))))})},55657:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(42895),o=r(n(27998));t.default=function(e){var t=e.className,n=e.size,r=(0,i.useClient)().getStackClient().uri;return a.default.createElement(o.default,{className:t,size:void 0===n?"m":n,src:"".concat(r,"/public/avatar?fallback=initials")})}},21732:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.logOut=t.getSettingsLink=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(42895),s=n(7127);t.getSettingsLink=function(e){var t=e.client,n=e.hash;return(0,c.generateWebLink)({cozyUrl:t.getStackClient().uri,slug:"settings",hash:n,subDomainType:t.getInstanceOptions().subdomain})},r=(0,o.default)(i.default.mark(function e(t){var n,r,a,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.webviewIntent,!((a=t.onLogOut)&&"function"==typeof a)){e.next=8;break}if(!((o=a())instanceof Promise)){e.next=6;break}return e.next=6,o;case 6:e.next=11;break;case 8:return e.next=10,n.logout();case 10:return e.abrupt("return",(0,s.isFlagshipApp)()&&r?r.call("logout"):window.location.reload());case 11:case"end":return e.stop()}},e)})),t.logOut=function(e){return r.apply(this,arguments)}},73433:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=r(n(74710)),c=r(n(26988)),s=n(24242),u=n(89184),l=n(52245),d=n(42895),f=r(n(62008)),p=r(n(55657));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=(0,l.makeStyles)({root:{"& .dialogContentInner":{"& .dialogContentWrapper":{paddingBottom:"0 !important"}}}});t.default=function(e){var t=e.onLogOut,n=(0,i.useState)(!1),r=(0,a.default)(n,2),l=r[0],h=r[1],v=(0,i.useRef)(),y=(0,i.useRef)(),g=(0,s.useBreakpoints)().isMobile,b=(0,d.useInstanceInfo)(),w=b.isLoaded,k=b.instance,x=b.diskUsage,O=function(){h(!l)},_=m();return i.default.createElement("nav",{ref:v},i.default.createElement(o.default,{ref:y,onClick:O,disabled:!w,className:"u-p-0 u-ml-half"},i.default.createElement(p.default,{size:g?"s":"m"})),g?i.default.createElement(u.ConfirmDialog,{open:l,onClose:O,content:i.default.createElement(f.default,{onLogOut:t,instance:k,diskUsage:x,closeMenu:O}),componentsProps:{dialogContent:{classes:_}},classes:{paper:"u-bdrs-7"}}):i.default.createElement(c.default,{open:l,anchorEl:y.current,container:v.current,getContentAnchorEl:null,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-10,horizontal:0},classes:{paper:"u-bdrs-7"}},i.default.createElement(f.default,{onLogOut:t,instance:k,diskUsage:x,closeMenu:O})))}},61363:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(76819),i=r(n(44513)),o=r(n(46522)),c=r(n(75522)),s=r(n(39811)),u=r(n(81523)),l={en:i.default,fr:o.default,es:c.default,ru:s.default,vi:u.default};t.default=(0,a.createUseI18n)(l)},2964:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(89271)),o=r(n(94619)),c=n(7127),s=n(84660),u=r(n(80913)),l=function(e){var t=e.homeHref,n=e.isInvertedTheme,r=(0,s.useWebviewIntent)();return(0,c.isFlagshipApp)()||(0,o.default)("flagship.debug")?a.default.createElement("a",{onClick:function(){r.call("backToHome")},className:"coz-nav-apps-btns-home coz-nav-apps-btns-home--is-flagship","data-testid":"buttonCozyHome"},a.default.createElement(u.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:n})):t?a.default.createElement("a",{href:t,className:"coz-nav-apps-btns-home","data-testid":"buttonCozyHome"},a.default.createElement(u.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:n})):a.default.createElement("span",{className:"coz-nav-apps-btns-home","data-testid":"buttonCozyHome"},a.default.createElement(u.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:n}))};l.propTypes={homeHref:i.default.string,isInvertedTheme:i.default.bool},t.default=l},55843:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(56493),o=r(n(74710)),c=r(n(90774)),s=r(n(37582)),u=n(52765);t.default=(0,i.connect)(function(e){return{helpLink:(0,u.getHelpLink)(e)}})(function(e){var t=e.helpLink;return a.default.createElement(o.default,{component:"a",href:t,target:"_blank",rel:"noopener, noreferrer",className:"u-p-half"},a.default.createElement(c.default,{icon:s.default,size:"18"}))})},80913:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(24242),o=r(n(90774)),c=r(n(77395));t.default=function(){var e=(0,i.useBreakpoints)().isMobile;return a.default.createElement(o.default,{icon:c.default,size:e?28:32,className:e?"u-ml-half":void 0})}},48620:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(void 0);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),i=n(84976),o=r(n(90774)),c=r(n(74710)),s=r(n(13691));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.default=function(){var e=(0,i.useNavigate)(),t=(0,i.useLocation)().pathname,n=(0,a.useCallback)(function(){e("/search?returnPath=".concat(t))},[e,t]);return a.default.createElement(c.default,{onClick:n},a.default.createElement(o.default,{icon:s.default}))}},57275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserActionRequired=t.getDefaultIcon=t.getAppSlug=t.getAppNamePrefix=t.getAppName=t.APP_SELECTOR=void 0;var n=t.APP_SELECTOR="[role=application]",r=function(){var e=document.querySelector(n);return e&&e.dataset?e.dataset:{}},a=function(){var e=r();return e.cozy?JSON.parse(e.cozy):{app:{}}};t.getDefaultIcon=function(){var e=a(),t=r();return e.app.icon?e.app.icon:t.cozyIconPath?t.cozyIconPath:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},t.getAppName=function(){var e=a(),t=r();return e.app.name||t.cozyAppName||null},t.getAppNamePrefix=function(){var e=a(),t=r();return e.app.prefix||t.cozyAppNamePrefix||null},t.getAppSlug=function(){var e=a(),t=r();return e.app.slug||t.cozyAppSlug||null},t.getUserActionRequired=function(){var e=document.querySelector("meta[name=user-action-required]"),t=e&&e.dataset;if(t){var n=t.title,r=t.code,a=t.detail,i=t.links;if(r)return{title:n,code:r,detail:a,links:i}}}},81259:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"BarComponent",{enumerable:!0,get:function(){return a.BarComponent}}),n(48424);var a=n(97190);n(53496),n(13627),n(67824),n(25524),n(78617),n(46603),r(n(68520)),n(52765)},1969:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.UnavailableStackException=t.UnauthorizedStackException=t.ServerErrorException=t.NotFoundException=t.MethodNotAllowedException=t.ForbiddenException=void 0;var a=r(n(65044)),i=r(n(82274)),o=r(n(65611)),c=r(n(18337)),s=r(n(56994)),u=r(n(16826));function l(e,t,n){return t=(0,c.default)(t),(0,o.default)(e,d()?Reflect.construct(t,n||[],(0,c.default)(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}t.ForbiddenException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="Forbidden",n.status=403,n.message=e||"The application does not have permission to access this resource.",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error)),t.ServerErrorException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="ServerError",n.status=500,n.message=e||"A server error occurred",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error)),t.NotFoundException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="NotFound",n.status=404,n.message=e||"The ressource was not found",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error)),t.MethodNotAllowedException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="MethodNotAllowed",n.status=405,n.message=e||"Method not allowed",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error)),t.UnavailableStackException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="UnavailableStack",n.message=e||"The stack is temporarily unavailable",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error)),t.UnauthorizedStackException=function(e){function t(e){var n;return(0,i.default)(this,t),(n=l(this,t)).name="UnauthorizedStack",n.status=401,n.message=e||"The app is not allowed to access to the requested resource",n.stack=Error().stack,n}return(0,s.default)(t,e),(0,a.default)(t)}((0,u.default)(Error))},54235:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(94619)),i=r(n(47285));(0,r(n(20974)).default)(window,"cozy.debug.flagship",function(){return(0,a.default)("flagship.debug",!0)});var o=window.minilog||i.default,c=o("cozy-bar");(0,a.default)("bar.debug")||o.suggest.deny("cozy-bar","info"),t.default=c},99902:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o="io.cozy.apps";t.default=function(e){var t,n=e.getApp,r=e.onCreate,c=e.onDelete,s=e.cozyClient,u=(t=(0,i.default)(a.default.mark(function e(t){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t.slug);case 3:i=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Error("Cannot fetch app ".concat(t.slug,": ").concat(e.t0.message));case 9:"function"==typeof r&&r(i);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return t.apply(this,arguments)});try{var l=s.plugins.realtime;if(!l)throw Error("You must include the realtime plugin to use cozy-bar realtime features.");l.subscribe("created",o,u),l.subscribe("deleted",o,function(e){"function"==typeof c&&c(e)})}catch(e){console.warn("Cannot initialize realtime in Cozy-bar: ".concat(e.message))}}},86685:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.setIsSettingsAppInstalled=t.setInfos=t.setDefaultApp=t.receiveApp=t.isFetchingApps=t.isCurrentApp=t.hasFetched=t.getIsSettingsAppInstalled=t.getHomeApp=t.getApps=t.fetchApps=t.deleteApp=t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(73791)),s=r(n(85)),u=r(n(94619));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f="DELETE_APP",p="RECEIVE_APP",h="RECEIVE_APP_LIST",m="RECEIVE_HOME_APP",v="FETCH_APPS",y="FETCH_APPS_FAILURE",g="SET_INFOS",b="SET_IS_SETTINGS_APP_INSTALLED",w=t.isCurrentApp=function(e,t){return t.slug===e.appSlug};t.getApps=function(e){return e.apps?e.apps:[]},t.getHomeApp=function(e){return e.homeApp},t.isFetchingApps=function(e){return!!e&&e.isFetching},t.getIsSettingsAppInstalled=function(e){return!!e&&e.isSettingsAppInstalled},t.hasFetched=function(e){return e.hasFetched},t.deleteApp=function(e){return{type:f,app:e}},t.receiveApp=function(e){return{type:p,app:e}},t.setInfos=function(e,t,n){return{type:g,appName:e,appNamePrefix:t,appSlug:n}};var k=t.setIsSettingsAppInstalled=function(e){return{type:b,isSettingsAppInstalled:e}};t.fetchApps=function(){var e;return e=(0,o.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v}),e.next=4,c.default.get.apps();case 4:if((n=e.sent).length){e.next=7;break}throw Error("No installed apps found by the bar");case 7:return r=n.some(function(e){var t;return(null==e||null==(t=e.attributes)?void 0:t.slug)==="settings"}),e.next=10,t(k(r));case 10:return i=(0,u.default)("apps.hidden")||[],o=n.map(_).filter(function(e){return!i.includes(e.slug)}),e.next=14,t(x(o));case 14:return e.next=16,t({type:h,apps:o});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t({type:y}),console.warn(e.t0.message?e.t0.message:e.t0);case 22:case"end":return e.stop()}},e,null,[[0,18]])})),function(t){return e.apply(this,arguments)}};var x=t.setDefaultApp=function(e){var t;return t=(0,o.default)(a.default.mark(function t(n){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=E("home",e))){t.next=5;break}return t.abrupt("return",n({type:m,homeApp:r}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("Cozy-bar cannot fetch home app data: ".concat(t.t0.message));case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(e){return t.apply(this,arguments)}},O={apps:[],homeApp:null,isFetching:!0,appName:null,appNamePrefix:null,appSlug:null,hasFetched:!1,isSettingsAppInstalled:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return d(d({},e),{},{isFetching:!0});case"FETCH_APPS_SUCCESS":case y:return d(d({},e),{},{isFetching:!1});case p:return d(d({},e),{},{apps:(0,s.default)(e.apps,[_(t.app)],function(e,t){return e.slug===t.slug})});case h:var n=t.apps.map(function(t){return d(d({},t),{},{isCurrentApp:w(e,t)})});return d(d({},e),{},{isFetching:!1,hasFetched:!0,apps:n});case m:var r=t.homeApp;return w(e,r)?d(d({},e),{},{homeApp:d(d({},r),{},{isCurrentApp:!0})}):d(d({},e),{},{homeApp:r});case f:return d(d({},e),{},{apps:e.apps.filter(function(e){return e.slug!==t.app.slug})});case g:return d(d({},e),{},{appName:t.appName,appNamePrefix:t.appNamePrefix,appSlug:t.appSlug});case b:return d(d({},e),{},{isSettingsAppInstalled:t.isSettingsAppInstalled});default:return e}};var _=function(e){var t;return d(d(d({},e),!!(t=e.attributes)&&Object.keys(t).reduce(function(e,n){return e[n.split("_").map(function(e,t){return t?e.charAt(0).toUpperCase()+e.slice(1):e}).join("")]=t[n],e},{})),{},{href:e.links&&e.links.related})},E=function(e,t){return t.find(function(t){return t.slug===e})}},39978:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getHelpLink=t.fetchContext=t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(73791)),s=n(49536);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d="FETCH_CONTEXT",f="FETCH_CONTEXT_SUCCESS",p="RECEIVE_NO_CONTEXT";t.getHelpLink=function(e){return e.helpLink},t.fetchContext=function(){var e;return e=(0,o.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:d}),!n().cozyBar.context.contextNotExist){e.next=3;break}return e.abrupt("return",t({type:f,context:null}));case 3:return e.prev=3,e.next=6,c.default.get.context();case 6:return r=e.sent,e.abrupt("return",t({type:f,context:r}));case 10:return e.prev=10,e.t0=e.catch(3),e.t0.status&&404===e.t0.status&&t({type:p}),console.warn("Cannot get Cozy context"),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[3,10]])})),function(t,n){return e.apply(this,arguments)}};var h={contextNotExist:!1,helpLink:null,isFetching:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return l(l({},e),{},{isFetching:!0});case f:var n=t.context&&t.context.data&&t.context.data.attributes;return l(l({},e),{},{helpLink:n&&n.help_link||null,isFetching:!1,contextNotExist:!1});case p:return l(l({},e),{},{contextNotExist:!0});case s.LOG_OUT:return h;default:return e}}},52765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInfos=t.reducers=t.onRealtimeDelete=t.onRealtimeCreate=t.logOut=t.isSettingsBusy=t.isFetchingSettings=t.isFetchingApps=t.isCurrentApp=t.hasFetched=t.getStorageData=t.getIsSettingsAppInstalled=t.getHomeApp=t.getHelpLink=t.getApps=t.fetchSettingsData=t.fetchContext=t.fetchApps=t.default=void 0;var r=n(52570),a=s(n(86685)),i=s(n(49536)),o=s(n(39978));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var u=function(e,t){return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.apply(void 0,[n.cozyBar[e]].concat(a))}};t.fetchApps=a.fetchApps,t.setInfos=a.setInfos,t.fetchSettingsData=i.fetchSettingsData,t.logOut=i.logOut,t.fetchContext=o.fetchContext,t.getIsSettingsAppInstalled=u("apps",a.getIsSettingsAppInstalled),t.getApps=u("apps",a.getApps),t.getHomeApp=u("apps",a.getHomeApp),t.isFetchingApps=u("apps",a.isFetchingApps),t.isCurrentApp=u("apps",a.isCurrentApp),t.hasFetched=u("apps",a.hasFetched),t.getStorageData=u("settings",i.getStorageData),t.isSettingsBusy=u("settings",i.isSettingsBusy),t.isFetchingSettings=u("settings",i.isFetchingSettings),t.getHelpLink=u("context",o.getHelpLink),t.onRealtimeCreate=a.receiveApp,t.onRealtimeDelete=a.deleteApp;var l=t.reducers={cozyBar:(0,r.combineReducers)({apps:a.default,context:o.default,settings:i.default})};t.default=(0,r.combineReducers)(l)},49536:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.logOut=t.isSettingsBusy=t.isFetchingSettings=t.getStorageData=t.fetchSettingsData=t.default=t.LOG_OUT=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(73791));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="FETCH_SETTINGS",d="FETCH_SETTINGS_BUSY",f="FETCH_SETTINGS_SUCCESS",p="RECEIVE_STORAGE",h=t.LOG_OUT="LOG_OUT";t.getStorageData=function(e){return e.storageData},t.isSettingsBusy=function(e){return e.isBusy},t.isFetchingSettings=function(e){return e.isFetching};var m=function(){var e;return e=(0,o.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get.storageData();case 3:return n=e.sent,e.abrupt("return",t({type:p,storageData:n}));case 7:return e.prev=7,e.t0=e.catch(0),console.warn&&console.warn("Cannot get Cozy storage informations"),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(t){return e.apply(this,arguments)}};t.fetchSettingsData=function(){var e,t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e=(0,o.default)(a.default.mark(function e(n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:l}),r=setTimeout(function(){t&&n({type:d})},450),e.next=4,n(m());case 4:clearTimeout(r),n({type:f});case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}},t.logOut=function(){var e;return e=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,c.default.logout();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.warn("Error while logging out in the cozy-bar",e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])})),function(t){return e.apply(this,arguments)}};var v={contextNotExist:!1,isFetching:!1,isBusy:!1,storageData:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return u(u({},e),{},{isFetching:!0});case d:return u(u({},e),{},{isBusy:!0});case f:return u(u({},e),{},{isFetching:!1,isBusy:!1});case"RECEIVE_NO_CONTEXT":return u(u({},e),{},{contextNotExist:!0});case p:return u(u({},e),{},{storageData:t.storageData});case h:return v;default:return e}}},94551:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(n(92207)),u=c(n(79092)),l=n(79081),d=c(n(99902)),f=n(1969),p={401:f.UnauthorizedStackException,403:f.ForbiddenException,404:f.NotFoundException,405:f.MethodNotAllowedException,500:f.ServerErrorException},h=function(){return o.getStackClient()},m=function(){return new URL(h().uri)},v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.headers=r.headers||{};return a.Accept="application/json","GET"===e||"HEAD"===e||void 0===n||a["Content-Type"]||(a["Content-Type"]="application/json",n=JSON.stringify(n)),h().fetch(e,t,n,r).then(function(e){if("function"==typeof p[e.status])throw new p[e.status];if(!e.headers.get("content-type").includes("json"))throw Error("Server response not in JSON");return e.json()})},y=function(e){if(!e)throw Error("Missing slug");return v("GET","/apps/".concat(e)).then(function(e){if(e.error)throw Error(e.error);return e.data})};t.default={get:{app:y,apps:function(){return v("GET","/apps/").then(function(e){if(e.error)throw Error(e.error);return e.data})},context:(r=function(){return v("GET","/settings/context")},a={},i=void 0,(0,u.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=10;break}return e.prev=1,e.next=4,r();case 4:i=e.sent,e.next=10;break;case 7:var t;e.prev=7,e.t0=e.catch(1),i=["NotFoundException","NotFound","FetchError"].includes((t=e.t0).name)&&t.status&&404===t.status?a:void 0;case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,null,[[1,7]])}))),storageData:function(){return v("GET","/settings/disk-usage").then(function(e){var t=parseInt(e.data.attributes.used,10),n=parseInt(e.data.attributes.quota,10)||Math.max(1e12,10*t);return{usage:t,quota:n,isLimited:e.data.attributes.is_limited}}).catch(function(){throw new f.UnavailableStackException})},iconProps:function(){return{domain:m().host,secure:"https:"===m().protocol}},cozyURL:function(){return m().origin},intents:function(){return new l.Intents({client:o})}},updateAccessToken:function(){throw Error("updateAccessToken should not be used with a cozy-client instance initialization")},cozyFetchJSON:function(e,t,n,r){return v(t,n,r).then(function(e){var t=Object.assign({},e.data);return t.id&&(t._id=t.id),t})},logout:function(){return h().fetch("DELETE","/auth/login").then(function(e){if(401===e.status)throw new f.UnauthorizedStackException;return 204===e.status&&window.location.reload(),!0}).catch(function(){throw new f.UnavailableStackException})},init:function(e){var t=e.cozyClient,n=e.onCreate,r=e.onDelete;(o=t).isLogged&&(0,d.default)({getApp:y,onCreate:n,onDelete:r,cozyClient:o})}}},73791:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getIntents=t.default=t.cozyFetchJSON=void 0;var i=a(n(94551)),o=function(){if(!r)throw Error("client not initialized in cozy-bar");return r},c={init:function(e){return(r=i.default).init(e)},get:{app:function(){var e;return(e=o().get).app.apply(e,arguments)},apps:function(){var e;return(e=o().get).apps.apply(e,arguments)},context:function(){var e;return(e=o().get).context.apply(e,arguments)},storageData:function(){var e;return(e=o().get).storageData.apply(e,arguments)},iconProps:function(){var e;return(e=o().get).iconProps.apply(e,arguments)},cozyURL:function(){var e;return(e=o().get).cozyURL.apply(e,arguments)}},updateAccessToken:function(){var e;return(e=o()).updateAccessToken.apply(e,arguments)},logout:function(){var e;return(e=o()).logout.apply(e,arguments)},cozyFetchJSON:function(){var e;return(e=o()).cozyFetchJSON.apply(e,arguments)},getStack:o,getIntents:function(){return o().get.intents()}};t.default=c,t.cozyFetchJSON=c.cozyFetchJSON,t.getIntents=c.getIntents},93761:function(e,t,n){"use strict";var r,a=n(95709);t.default=void 0;var i=a(n(26396)),o=n(52570),c=a(n(1265)),s=n(31389),u=n(52765),l=n(79448),d=a(n(77019)),f=a(n(16920)),p=a(n(54235)),h=a(n(94619));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v={storage:d.default,key:"cozy-bar",whitelist:f.default},y=(0,l.createLogger)({logger:p.default}),g=(0,s.persistCombineReducers)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u.reducers)),b=[c.default];(0,h.default)("bar.debug")&&b.push(y),t.default=function(){return r||(r=(0,o.createStore)(g,o.applyMiddleware.apply(null,b)),(0,s.persistStore)(r)),r}},40061:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.appShape=void 0;var a=r(n(89271));t.appShape=a.default.shape({slug:a.default.string.isRequired,name:a.default.string.isRequired,namePrefix:a.default.string,comingSoon:a.default.bool,href:a.default.string,links:a.default.shape({icon:a.default.string.isRequired})})},78859:function(e,t,n){"use strict";var r=n(59500);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},89271:function(e,t,n){e.exports=n(78859)()},59500:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},56493:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:()=>k,connect:()=>Q,createProvider:()=>w,connectAdvanced:()=>I});var r,a,i,o,c,s,u,l,d,f,p,h=n(56003),m=n(96540),v=n(89271),y=n.n(v),g=y().shape({trySubscribe:y().func.isRequired,tryUnsubscribe:y().func.isRequired,notifyNestedSubs:y().func.isRequired,isSubscribed:y().func.isRequired}),b=y().shape({subscribe:y().func.isRequired,dispatch:y().func.isRequired,getState:y().func.isRequired});function w(e){void 0===e&&(e="store");var t,n=e+"Subscription",r=function(t){(0,h.A)(a,t);var r=a.prototype;function a(n,r){var a;return(a=t.call(this,n,r)||this)[e]=n.store,a}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return m.Children.only(this.props.children)},a}(m.Component);return r.propTypes={store:b.isRequired,children:y().element.isRequired},(t={})[e]=b.isRequired,t[n]=g,r.childContextTypes=t,r}let k=w();var x=n(40321),O=n(40160),_=n(54707),E=n(4146),C=n.n(E),S=n(20311),P=n.n(S),A=n(44363),D={notify:function(){}},T=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=D}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return!!this.unsubscribe},t.trySubscribe=function(){if(!this.unsubscribe){var e,t;this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}})}},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=D)},e}(),R=0,j={};function M(){}function I(e,t){void 0===t&&(t={});var n,r,a=t,i=a.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=a.methodName,s=void 0===c?"connectAdvanced":c,u=a.renderCountProp,l=void 0===u?void 0:u,d=a.shouldHandleStateChanges,f=void 0===d||d,p=a.storeKey,v=void 0===p?"store":p,y=a.withRef,w=void 0!==y&&y,k=(0,_.A)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=v+"Subscription",S=R++,D=((n={})[v]=b,n[E]=g,n),I=((r={})[E]=g,r);return function(t){P()((0,A.isValidElementType)(t),"You must pass a component to the function returned by "+s+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=o(n),a=(0,O.A)({},k,{getDisplayName:o,methodName:s,renderCountProp:l,shouldHandleStateChanges:f,storeKey:v,withRef:w,displayName:r,wrappedComponentName:n,WrappedComponent:t}),i=function(n){function i(e,t){var a;return(a=n.call(this,e,t)||this).version=S,a.state={},a.renderCount=0,a.store=e[v]||t[v],a.propsMode=!!e[v],a.setWrappedInstance=a.setWrappedInstance.bind((0,x.A)((0,x.A)(a))),P()(a.store,'Could not find "'+v+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, '+('or explicitly pass "'+v+'" as a prop to "')+r+'".'),a.initSelector(),a.initSubscription(),a}(0,h.A)(i,n);var o=i.prototype;return o.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[E]=t||this.context[E],e},o.componentDidMount=function(){f&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.componentWillReceiveProps=function(e){this.selector.run(e)},o.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=M,this.store=null,this.selector.run=M,this.selector.shouldComponentUpdate=!1},o.getWrappedInstance=function(){return P()(w,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},o.setWrappedInstance=function(e){this.wrappedInstance=e},o.initSelector=function(){var t,n,r=e(this.store.dispatch,a);this.selector=(t=this.store,n={run:function(e){try{var a=r(t.getState(),e);(a!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=a,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}}),this.selector.run(this.props)},o.initSubscription=function(){if(f){var e=(this.propsMode?this.props:this.context)[E];this.subscription=new T(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(j)):this.notifyNestedSubs()},o.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.isSubscribed=function(){return!!this.subscription&&this.subscription.isSubscribed()},o.addExtraProps=function(e){if(!w&&!l&&!(this.propsMode&&this.subscription))return e;var t=(0,O.A)({},e);return w&&(t.ref=this.setWrappedInstance),l&&(t[l]=this.renderCount++),this.propsMode&&this.subscription&&(t[E]=this.subscription),t},o.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,!e.error)return(0,m.createElement)(t,this.addExtraProps(e.props));throw e.error},i}(m.Component);return i.WrappedComponent=t,i.displayName=r,i.childContextTypes=I,i.contextTypes=D,i.propTypes=D,C()(i,t)}}var N=Object.prototype.hasOwnProperty;function z(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(z(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!N.call(t,n[a])||!z(e[n[a]],t[n[a]]))return!1;return!0}var L=n(52570);function B(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function U(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function V(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=U(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=U(a),a=r(t,n)),a},r}}let H=[function(e){return"function"==typeof e?V(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:B(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?B(function(t){return(0,L.bindActionCreators)(e,t)}):void 0}],q=[function(e){return"function"==typeof e?V(e,"mapStateToProps"):void 0},function(e){return e?void 0:B(function(){return{}})}];function W(e,t,n){return(0,O.A)({},n,e,t)}let G=[function(e){return"function"==typeof e?function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,c){var s=e(t,n,c);return o?a&&i(s,r)||(r=s):(o=!0,r=s),r}}:void 0},function(e){return e?void 0:function(){return W}}];function Z(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function K(e,t){return e===t}let Q=(i=void 0===(a=(r={}).connectHOC)?I:a,c=void 0===(o=r.mapStateToPropsFactories)?q:o,u=void 0===(s=r.mapDispatchToPropsFactories)?H:s,d=void 0===(l=r.mergePropsFactories)?G:l,p=void 0===(f=r.selectorFactory)?function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=(0,_.A)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),c=r(e,i),s=a(e,i);return(i.pure?function(e,t,n,r,a){var i,o,c,s,u,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,g,b,w;return p?(m=a,b=!d(v=h,o),w=!l(m,i),(i=m,o=v,b&&w)?(c=e(i,o),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):b?(e.dependsOnOwnProps&&(c=e(i,o)),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):w?(g=!f(y=e(i,o),c),c=y,g&&(u=n(c,s,o)),u):u):(c=e(i=a,o=h),s=t(r,o),u=n(c,s,o),p=!0,u)}}:function(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}})(o,c,s,e,i)}:f,function(e,t,n,r){void 0===r&&(r={});var a=r,o=a.pure,s=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?F:l,h=a.areStatePropsEqual,m=void 0===h?F:h,v=a.areMergedPropsEqual,y=void 0===v?F:v,g=(0,_.A)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=Z(e,c,"mapStateToProps"),w=Z(t,u,"mapDispatchToProps"),k=Z(n,d,"mergeProps");return i(p,(0,O.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:b,initMapDispatchToProps:w,initMergeProps:k,pure:void 0===o||o,areStatesEqual:void 0===s?K:s,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},g))})},31389:function(e,t,n){"use strict";n.r(t),n.d(t,{REHYDRATE:()=>i,persistCombineReducers:()=>C,PURGE:()=>s,PERSIST:()=>c,createTransform:()=>j,createPersistoid:()=>h,purgeStoredState:()=>g,DEFAULT_VERSION:()=>l,REGISTER:()=>u,persistReducer:()=>k,createMigrate:()=>R,getStoredState:()=>v,KEY_PREFIX:()=>r,FLUSH:()=>a,persistStore:()=>T,PAUSE:()=>o});var r="persist:",a="persist/FLUSH",i="persist/REHYDRATE",o="persist/PAUSE",c="persist/PERSIST",s="persist/PURGE",u="persist/REGISTER",l=-1,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t,n,r){r.debug;var a=f({},n);return e&&(void 0===e?"undefined":d(e))==="object"&&Object.keys(e).forEach(function(r){"_persist"!==r&&t[r]===n[r]&&(a[r]=e[r])}),a}function h(e){var t=e.blacklist||null,n=e.whitelist||null,a=e.transforms||[],i=e.throttle||0,o=""+(void 0!==e.keyPrefix?e.keyPrefix:r)+e.key,c=e.storage,s=!1===e.serialize?function(e){return e}:m,u={},l={},d=[],f=null,p=null;function h(){if(0===d.length){f&&clearInterval(f),f=null;return}var e=d.shift(),t=a.reduce(function(t,n){return n.in(t,e,u)},u[e]);if(void 0!==t)try{l[e]=s(t)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===d.length&&(Object.keys(l).forEach(function(e){void 0===u[e]&&delete l[e]}),p=c.setItem(o,s(l)).catch(v))}function v(e){}return{update:function(e){Object.keys(e).forEach(function(r){var a;a=r,n&&-1===n.indexOf(a)&&"_persist"!==a||t&&-1!==t.indexOf(a)||u[r]===e[r]||-1===d.indexOf(r)&&d.push(r)}),Object.keys(u).forEach(function(t){void 0===e[t]&&d.push(t)}),null===f&&(f=setInterval(h,i)),u=e},flush:function(){for(;0!==d.length;)h();return p||Promise.resolve()}}}function m(e){return JSON.stringify(e)}function v(e){var t=e.transforms||[],n=""+(void 0!==e.keyPrefix?e.keyPrefix:r)+e.key,a=e.storage;e.debug;var i=!1===e.serialize?function(e){return e}:y;return a.getItem(n).then(function(e){if(e)try{var n={},r=i(e);return Object.keys(r).forEach(function(e){n[e]=t.reduceRight(function(t,n){return n.out(t,e,r)},i(r[e]))}),n}catch(e){throw e}})}function y(e){return JSON.parse(e)}function g(e){var t=e.storage,n=""+(void 0!==e.keyPrefix?e.keyPrefix:r)+e.key;return t.removeItem(n,b)}function b(e){}var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e,t){var n=void 0!==e.version?e.version:l;e.debug;var r=void 0===e.stateReconciler?p:e.stateReconciler,u=e.getStoredState||v,d=void 0!==e.timeout?e.timeout:5e3,f=null,m=!1,y=!0,b=function(e){return e._persist.rehydrated&&f&&!y&&f.update(e),e};return function(l,p){var v=l||{},k=v._persist,x=function(e,t){var n={};for(var r in e)!(t.indexOf(r)>=0)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(v,["_persist"]);if(p.type===c){var O=!1,_=function(t,n){O||(p.rehydrate(e.key,t,n),O=!0)};if(d&&setTimeout(function(){O||_(void 0,Error('redux-persist: persist timed out for persist key "'+e.key+'"'))},d),y=!1,f||(f=h(e)),k)return l;if("function"!=typeof p.rehydrate||"function"!=typeof p.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),u(e).then(function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then(function(e){_(e)},function(e){_(void 0,e)})},function(e){_(void 0,e)}),w({},t(x,p),{_persist:{version:n,rehydrated:!1}})}if(p.type===s)return m=!0,p.result(g(e)),w({},t(x,p),{_persist:k});if(p.type===a)return p.result(f&&f.flush()),w({},t(x,p),{_persist:k});if(p.type===o)y=!0;else if(p.type===i){if(m)return w({},x,{_persist:w({},k,{rehydrated:!0})});if(p.key===e.key){var E=t(x,p),C=p.payload;return b(w({},!1!==r&&void 0!==C?r(C,l,E,e):E,{_persist:w({},k,{rehydrated:!0})}))}}if(!k)return t(l,p);var S=t(x,p);return S===x?l:(S._persist=k,b(S))}}var x=n(52570),O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e,t,n,r){r.debug;var a=_({},n);return e&&(void 0===e?"undefined":O(e))==="object"&&Object.keys(e).forEach(function(r){if("_persist"!==r&&t[r]===n[r]){var i;if(null!==(i=n[r])&&!Array.isArray(i)&&(void 0===i?"undefined":O(i))==="object"){a[r]=_({},a[r],e[r]);return}a[r]=e[r]}}),a}function C(e,t){return e.stateReconciler=void 0===e.stateReconciler?E:e.stateReconciler,k(e,(0,x.combineReducers)(t))}var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function P(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}var A={registry:[],bootstrapped:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments[1];switch(t.type){case u:return S({},e,{registry:[].concat(P(e.registry),[t.key])});case i:var n=e.registry.indexOf(t.key),r=[].concat(P(e.registry));return r.splice(n,1),S({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function T(e,t,n){var r=n||!1,l=(0,x.createStore)(D,A,t?t.enhancer:void 0),d=function(e){l.dispatch({type:u,key:e})},f=function(t,n,a){var o={type:i,payload:n,err:a,key:t};e.dispatch(o),l.dispatch(o),r&&p.getState().bootstrapped&&(r(),r=!1)},p=S({},l,{purge:function(){var t=[];return e.dispatch({type:s,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:a,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:o})},persist:function(){e.dispatch({type:c,register:d,rehydrate:f})}});return p.persist(),p}function R(e,t){return(t||{}).debug,function(t,n){if(!t)return Promise.resolve(void 0);var r=t._persist&&void 0!==t._persist.version?t._persist.version:l;if(r===n||r>n)return Promise.resolve(t);var a=Object.keys(e).map(function(e){return parseInt(e)}).filter(function(e){return n>=e&&e>r}).sort(function(e,t){return e-t});try{var i=a.reduce(function(t,n){return e[n](t)},t);return Promise.resolve(i)}catch(e){return Promise.reject(e)}}}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.whitelist||null,a=n.blacklist||null;function i(e){return!!r&&-1===r.indexOf(e)||!!a&&-1!==a.indexOf(e)}return{in:function(t,n,r){return!i(n)&&e?e(t,n,r):t},out:function(e,n,r){return!i(n)&&t?t(e,n,r):e}}}},98836:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,a){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}};var r,a=(r=n(40582))&&r.__esModule?r:{default:r}},40582:function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){}t.default=function(e){var t=e+"Storage";return!function(e){if(("undefined"==typeof self?"undefined":n(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist "+e+" test";t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?a:self[t]};var a={getItem:r,setItem:r,removeItem:r}},77019:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=(0,((r=n(98836))&&r.__esModule?r:{default:r}).default)("local")},52570:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{applyMiddleware:()=>h,combineReducers:()=>l,bindActionCreators:()=>f,createStore:()=>u,__DO_NOT_USE__ActionTypes:()=>s,compose:()=>p});var o="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e,t,n){if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error(i(1));return n(u)(e,t)}if("function"!=typeof e)throw Error(i(2));var r,a=e,c=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw Error(i(3));return c}function m(e){if("function"!=typeof e)throw Error(i(4));if(f)throw Error(i(5));var t=!0;return p(),d.push(e),function(){if(t){if(f)throw Error(i(6));t=!1,p();var n=d.indexOf(e);d.splice(n,1),l=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(i(7));if(void 0===e.type)throw Error(i(8));if(f)throw Error(i(9));try{f=!0,c=a(c,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++)(0,t[n])();return e}return v({type:s.INIT}),(r={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(i(10));a=e,v({type:s.REPLACE})}})[o]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(i(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:m(t)}}})[o]=function(){return this},e},r}function l(e){for(var t,n=Object.keys(e),r={},a=0;a<n.length;a++){var o=n[a];"function"==typeof e[o]&&(r[o]=e[o])}var c=Object.keys(r);try{Object.keys(r).forEach(function(e){var t=r[e];if(void 0===t(void 0,{type:s.INIT}))throw Error(i(12));if(void 0===t(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw Error(i(13))})}catch(e){t=e}return function(e,n){if(void 0===e&&(e={}),t)throw t;for(var a=!1,o={},s=0;s<c.length;s++){var u=c[s],l=r[u],d=e[u],f=l(d,n);if(void 0===f)throw n&&n.type,Error(i(14));o[u]=f,a=a||f!==d}return(a=a||c.length!==Object.keys(e).length)?o:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw Error(i(16));var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=d(a,t))}return n}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw Error(i(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},c=t.map(function(e){return e(o)});return r=p.apply(void 0,c)(n.dispatch),a(a({},n),{},{dispatch:r})}}}},6023:function(e,t,n){"use strict";var r=n(65606),a=n(58784),i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(15890)),c=i(n(22056)),s=i(n(21259)),u=i(n(39892)),l=i(n(92207)),d=i(n(79092)),f=i(n(82274)),p=i(n(65044)),h=i(n(26396)),m=i(n(73916)),v=i(n(44377)),y=i(n(35970)),g=i(n(50014)),b=i(n(87992)),w=i(n(39754)),k=i(n(58156)),x=i(n(56173)),O=a(n(98017)),_=n(148),E=i(n(10169)),C=n(20032),S=n(6205),P=n(88237),A=n(11071),D=n(25972),T=i(n(59165)),R=a(n(55477)),j=i(n(1769)),M=i(n(2012)),I=n(20842),N=i(n(55552)),z=n(46728),F=n(65869),L=i(n(95527)),B=n(67989),U=i(n(25473)),V=i(n(27069)),H=n(29984),q=n(5574);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){(0,h.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return K(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){return{get:function(t,n){return L.default.warn(e),t[n]}}},Y=function(e){var t;if(e&&"undefined"!=typeof window&&null!=(t=window.cozy)&&t.isSecureProtocol){var n,r=new URL(e);return r.protocol="https:",(n=r.toString()).endsWith("/")?n.slice(0,-1):n}return e},J="creation",$="update",X=function(){var e,t,n,a,i,x,j,W,K,X,ee,et,en,er,ea,ei,eo,ec,es,eu,el,ed,ef,ep,eh;function em(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,em),(0,h.default)(this,"fetchQueryAndGetFromState",(e=(0,d.default)(l.default.mark(function e(t){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.definition,a=t.options,e.prev=1,e.next=4,n.query(r,a);case 4:return e.abrupt("return",n.getQueryFromState(a.as,a));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(t){return e.apply(this,arguments)}));var a=r.link,i=r.links,o=r.schema,c=r.appMetadata,s=r.capabilities,p=r.performanceApi,m=(0,u.default)(r,["link","links","schema","appMetadata","capabilities","performanceApi"]);a&&L.default.warn("`link` is deprecated, use `links`"),this.performanceApi=p||z.defaultPerformanceApi,this.appMetadata=void 0===c?{}:c,this.loginPromise=null,m.uri=Y(m.uri),this.options=m,this.queryIdGenerator=new B.QueryIDGenerator,this.isLogged=!1,this.instanceOptions={},this.handleRevocationChange=this.handleRevocationChange.bind(this),this.handleTokenRefresh=this.handleTokenRefresh.bind(this),this.createClient();var v=this.getStackClient();if(v.on("error",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.emit.apply(n,["error"].concat(t))}),this.setLinks(Array.isArray(t=a||i||new E.default({performanceApi:this.performanceApi}))?t:[t]),this.schema=new M.default(void 0===o?{}:o,v),this.capabilities=s||null,this.plugins={},!(this.stackClient instanceof O.OAuthClient))try{this.loadInstanceOptionsFromDOM()}catch(e){}this._promiseCache=new V.default,m.uri&&m.token&&this.login(),this.storeAccesors=null,this.useCustomStore=m.useCustomStore||!1,!0!==this.useCustomStore&&this.ensureStore(),this.autoHydrate=m.autoHydrate||!1,this.disableStoreForQueries=m.disableStoreForQueries||!1}return(0,p.default)(em,[{key:"emit",value:function(){}},{key:"on",value:function(){}},{key:"removeListener",value:function(){}},{key:"registerPlugin",value:function(e,t){if(!e.pluginName)throw Error("Cannot register a plugin whose class does not have `pluginName` attribute.");if(this.plugins[e.pluginName])throw Error("Cannot register plugin ".concat(e.pluginName,". A plugin with the same name has already been registered."));var n=new e(this,t);return this.plugins[e.pluginName]=n,n}},{key:"addSchema",value:function(e){this.schema.add(e)}},{key:"registerClientOnLinks",value:function(){var e,t=Z(this.links);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.registerClient)try{n.registerClient(this)}catch(e){L.default.warn(e)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"login",value:function(e){return this.isLogged&&!this.isRevoked?(L.default.warn("CozyClient is already logged."),this.loginPromise):this.loginPromise=this._login(e)}},{key:"_login",value:(e=(0,d.default)(l.default.mark(function e(t){var n,r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("beforeLogin"),this.registerClientOnLinks(),t&&(t.uri&&this.stackClient.setUri(t.uri),t.token&&this.stackClient.setToken(t.token)),n=Z(this.links),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=13;break}if(!(a=r.value).onLogin){e.next=11;break}return e.next=11,a.onLogin();case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:if(this.isLogged=!0,this.isRevoked=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=26;break}return e.next=26,this.loadInstanceOptionsFromStack();case 26:this.emit("login");case 27:case"end":return e.stop()}},e,this,[[4,15,18,21]])})),function(t){return e.apply(this,arguments)})},{key:"logout",value:(t=(0,d.default)(l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLogged){e.next=3;break}return L.default.warn("CozyClient isn't logged."),e.abrupt("return");case 3:if(this.emit("beforeLogout"),this.isLogged=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=17;break}if(e.prev=6,!(this.stackClient.unregister&&(!this.stackClient.isRegistered||this.stackClient.isRegistered()))){e.next=10;break}return e.next=10,this.stackClient.unregister();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),L.default.warn("Impossible to unregister client on stack: ".concat(e.t0));case 15:case 20:e.next=25;break;case 17:return e.prev=17,e.next=20,this.stackClient.fetch("DELETE","/auth/login");case 22:e.prev=22,e.t1=e.catch(17),L.default.warn("Impossible to log out: ".concat(e.t1));case 25:t=Z(this.links),e.prev=26,t.s();case 28:if((n=t.n()).done){e.next=41;break}if(!(r=n.value).reset){e.next=39;break}return e.prev=31,e.next=34,r.reset();case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(31),L.default.warn(e.t2);case 39:e.next=28;break;case 41:e.next=46;break;case 43:e.prev=43,e.t3=e.catch(26),t.e(e.t3);case 46:return e.prev=46,t.f(),e.finish(46);case 49:this.store&&this.dispatch((0,R.resetState)()),this.emit("logout");case 51:case"end":return e.stop()}},e,this,[[6,12],[17,22],[26,43,46,49],[31,36]])})),function(){return t.apply(this,arguments)})},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getStackClient().collection(e,t)}},{key:"fetch",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.getStackClient().fetch(e,t,n,r)}},{key:"all",value:function(e){return L.default.warn("\nclient.all is deprecated, prefer to use the Q helper to build a new QueryDefinition.\n\nimport { Q } from 'cozy-client'\nclient.query(Q('io.cozy.bills'))"),(0,A.Q)(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return L.default.warn("client.find(doctype, selector) is deprecated, please use Q(doctype).where(selector) to build the same query."),new A.QueryDefinition({doctype:e,selector:t})}},{key:"get",value:function(e,t){return L.default.warn("client.get(".concat(e,", id) is deprecated, please use Q(").concat(e,").getById(id) to build the same query.")),new A.QueryDefinition({doctype:e,id:t})}},{key:"validate",value:function(e){return this.schema.validate(e)}},{key:"create",value:(n=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},n._type,i=G({_type:t},(0,u.default)(n,["_type"])),e.next=5,this.schema.validate(i);case 5:if(!0===e.sent){e.next=8;break}throw Error("Validation failed");case 8:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(i,r),a));case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"createAll",value:(a=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.saveAll(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"save",value:(i=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=t._type,a=(0,u.default)(t,["_type"]),r){e.next=4;break}throw Error("The document must have a `_type` property");case 4:return i=G({_type:r},a),e.next=7,this.schema.validate(i);case 7:if(!0===e.sent){e.next=10;break}throw Error("Validation failed");case 10:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(i),n));case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"updateAll",value:(x=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.saveAll(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"saveAll",value:(j=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o=this,c=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},1===Array.from(new Set(t.map(function(e){return e._type}))).length){e.next=4;break}throw Error("saveAll can only save documents with the same doctype");case 4:return e.next=6,Promise.all(t.map(function(e){return o.schema.validate(e)}));case 6:if(!((r=e.sent.filter(function(e){return!0!==e})).length>0)){e.next=11;break}throw L.default.warn("There has been some validation errors while bulk saving",r),Error("Validation failed for at least one doc");case 11:return a=t.map(function(e){return o.prepareDocumentForSave(e)}),i=void 0===t[0]._id?A.Mutations.createDocuments(a):A.Mutations.updateDocuments(a),e.abrupt("return",this.mutate(i,n));case 15:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"ensureCozyMetadata",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{event:J};if(void 0===this.appMetadata)return e;if(e._type){var r=this.schema.getDoctypeSchema(e._type);t=(0,k.default)(r,"doctypeVersion")}var a=this.appMetadata,i=a.slug,o=a.sourceAccount,c=a.sourceAccountIdentifier,u=a.version,l=new Date().toISOString(),d=(0,k.default)(e,"cozyMetadata",{});return n.event===J?d=G({metadataVersion:1,doctypeVersion:t,createdByApp:i,sourceAccount:o,sourceAccountIdentifier:c,createdAt:l,createdByAppVersion:u,updatedAt:l,updatedByApps:i?[{date:l,slug:i,version:u}]:[]},d):n.event===$&&(d=G(G({},d),{},{updatedAt:l,updatedByApps:[{date:l,slug:i,version:u}].concat((0,s.default)((0,k.default)(e,"cozyMetadata.updatedByApps",[]).filter(function(e){return e.slug!==i})))})),G(G({},e),{},{cozyMetadata:d})}},{key:"prepareDocumentForSave",value:function(e){var t=!e._rev;return this.ensureCozyMetadata((0,P.dehydrate)(e),{event:t?J:$})}},{key:"getDocumentSavePlan",value:function(e,t){var n=this,r=!e._rev,a=this.prepareDocumentForSave(e),i=r?A.Mutations.createDocument(a):A.Mutations.updateDocument(a);if(!(t&&Object.values(t).filter(function(e){return Array.isArray(e)?e.length>0:e}).length>0))return i;for(var o=0,s=Object.keys(t);o<s.length;o++){var u,l,d=s[o],f=e._type,p=this.schema.getRelationship(f,d);if(!((u=p.type).prototype.addReferences&&u.prototype.removeReferences))throw l=p.name,Error('The "'.concat(l,'" relationship does not support references. If you need to add references to a document, its relationship class must have the methods {add,remove}References'))}if(t&&!r)throw Error("Unable to save external relationships on a not-new document");return[i,function(e){var r=n.schema.getDoctypeSchema(e.data._type),a=n.hydrateDocument(e.data,r,{forceHydratation:!0});return Object.entries(t).map(function(e){var t=(0,c.default)(e,2),n=t[0],r=t[1];return a[n].addReferences(r)})}]}},{key:"triggerHook",value:function(e,t){if(em.hooks){var n,r=Z((em.hooks[t._type]||{})[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(this,t)}catch(e){r.e(e)}finally{r.f()}}}},{key:"destroy",value:(W=(0,d.default)(l.default.mark(function e(t){var n,r,a=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.triggerHook("before:destroy",t);case 3:return e.next=5,this.mutate(A.Mutations.deleteDocument(t),n);case 5:return r=e.sent,e.next=8,this.triggerHook("after:destroy",t);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"destroyAll",value:(K=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.mutate(A.Mutations.deleteDocuments(t),n));case 2:case"end":return e.stop()}},e,this)})),function(e){return K.apply(this,arguments)})},{key:"upload",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.mutate(A.Mutations.uploadFile(e,t),n)}},{key:"ensureQueryExists",value:function(e,t,n){this.ensureStore(),"loaded"===(0,R.getQueryFromState)(this.store.getState(),e).fetchStatus&&(t.skip||t.bookmark)||this.dispatch((0,R.initQuery)(e,t,n))}},{key:"query",value:(X=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,s,d,f,p,h=this,m=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=m.length>1&&void 0!==m[1]?m[1]:{}).update,a=n.executeFromStore,i=(0,u.default)(n,["update","executeFromStore"]),o=this.performanceApi.mark("client.query(".concat(t.doctype,")")),this.ensureStore(),c=i.as||this.queryIdGenerator.generateId(t),s=this.disableStoreForQueries?null:this.getQueryFromState(c,i),void 0===i.enabled||"boolean"==typeof i.enabled){e.next=9;break}throw Error("option.enabled should be a boolean for this query: ".concat(JSON.stringify(t)));case 9:if(!i.fetchPolicy){e.next=15;break}if(i.as){e.next=12;break}throw Error("Cannot use `fetchPolicy` without naming the query, please use `as` to name the query");case 12:if(i.fetchPolicy(s)){e.next=15;break}return e.abrupt("return");case 15:if(!(s&&Object.keys(s).length>0)||"loading"!==s.fetchStatus){e.next=18;break}return e.abrupt("return",this._promiseCache.get(function(){return(0,U.default)(t)}));case 18:return this.disableStoreForQueries||this.ensureQueryExists(c,t,i),e.prev=19,d=void 0!==i.backgroundFetching?i.backgroundFetching:this.options.backgroundFetching,this.disableStoreForQueries||this.dispatch((0,R.loadQuery)(c,{backgroundFetching:d})),f=a?function(){return Promise.resolve((0,R.executeQueryFromState)(h.store.getState(),t))}:function(){return h.requestQuery(t,i)},e.next=25,this._promiseCache.exec(f,function(){return(0,U.default)(t)});case 25:if(p=e.sent,!this.disableStoreForQueries){e.next=28;break}return e.abrupt("return",p);case 28:return this.dispatch((0,R.receiveQueryResult)(c,p,{update:r,backgroundFetching:d})),this.performanceApi.measure({markName:o,measureName:"".concat(o," success"),color:"primary"}),e.abrupt("return",p);case 33:if(e.prev=33,e.t0=e.catch(19),this.performanceApi.measure({markName:o,measureName:"".concat(o," error"),color:"error"}),this.dispatch((0,R.receiveQueryError)(c,e.t0)),!i.onError){e.next=41;break}i.onError(e.t0),e.next=46;break;case 41:if(!this.options.onError){e.next=45;break}this.options.onError(e.t0),e.next=46;break;case 45:throw e.t0;case 46:case"end":return e.stop()}},e,this,[[19,33]])})),function(e){return X.apply(this,arguments)})},{key:"queryAll",value:(ee=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=u.length>1&&void 0!==u[1]?u[1]:{}).as||this.queryIdGenerator.generateId(t),a=G(G({},n),{},{as:r}),e.prev=3,e.next=6,this.query(t,a);case 6:o=(i=e.sent).data;case 8:if(!(i&&i.next)){e.next=22;break}if(!i.bookmark){e.next=15;break}return e.next=12,this.query(t.offsetBookmark(i.bookmark),a);case 12:i=e.sent,e.next=19;break;case 15:return c=(0,R.getRawQueryFromState)(this.store.getState(),r),e.next=18,this.query(t.offset(c.data.length),a);case 18:i=e.sent;case 19:o.push.apply(o,(0,s.default)(i.data)),e.next=8;break;case 22:return e.abrupt("return",o);case 25:return e.prev=25,e.t0=e.catch(3),L.default.log("queryAll error for ".concat(e.t0.toString())),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[3,25]])})),function(e){return ee.apply(this,arguments)})},{key:"watchQuery",value:function(){return L.default.warn("client.watchQuery is deprecated, please use client.makeObservableQuery."),this.makeObservableQuery.apply(this,arguments)}},{key:"makeObservableQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ensureStore();var n=t.as||this.queryIdGenerator.generateId(e);return this.ensureQueryExists(n,e),new N.default(n,e,this,t)}},{key:"mutate",value:(et=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,s=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=s.length>1&&void 0!==s[1]?s[1]:{}).update,a=n.updateQueries,i=(0,u.default)(n,["update","updateQueries"]),this.ensureStore(),o=i.as||this.queryIdGenerator.generateId(t),this.dispatch((0,R.initMutation)(o,t)),e.prev=5,e.next=8,this.requestMutation(t,i);case 8:return c=e.sent,this.dispatch((0,R.receiveMutationResult)(o,c,{update:r,updateQueries:a},t)),e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(5),this.dispatch((0,R.receiveMutationError)(o,e.t0,t)),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return et.apply(this,arguments)})},{key:"requestQuery",value:(en=(0,d.default)(l.default.mark(function e(t,n){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chain.request(t,n);case 2:return r=e.sent,e.next=5,(0,q.persistVirtualDocuments)(this,t,r.data);case 5:if(t.includes){e.next=7;break}return e.abrupt("return",r);case 7:if(!this.schema.getDoctypeSchema(t.doctype).relationships){e.next=13;break}return e.next=11,this.fetchRelationships(r,this.getIncludesRelationships(t));case 11:return a=e.sent,e.abrupt("return",a);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this)})),function(e,t){return en.apply(this,arguments)})},{key:"fetchRelationships",value:(er=(0,d.default)(l.default.mark(function e(t,n){var r,a,i,o,s,u,d,f,p,h,m,v,k,x,O,_,E,C,P,D=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=!Array.isArray(t.data))||0!==t.data.length){e.next=3;break}return e.abrupt("return",t);case 3:return a=r?[t.data]:t.data,i=new Map,o=[],s=[],a.forEach(function(e){return(0,w.default)(n,function(t,n){try{var r=t.type.query(e,D,t),a=e._id;i.set(r,[a,n]),r instanceof A.QueryDefinition?s.push(r):o.push(e)}catch(e){}})}),u=(0,T.default)(s),e.next=11,Promise.all(u.map(function(e){return D.chain.request(e)}));case 11:d=e.sent,f=(0,g.default)((0,y.default)(o),"_id"),p=(0,y.default)(d.map(function(e){return e.included||e.data})).concat(f).filter(Boolean),h={},m=Z((0,b.default)(u,d));try{for(m.s();!(v=m.n()).done;)x=(k=(0,c.default)(v.value,2))[0],O=k[1],(_=i.get(x))&&(C=(E=(0,c.default)(_,2))[0],P=E[1],h[C]=h[C]||{},h[C][P]=(0,S.responseToRelationship)(O))}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",G(G({},(0,S.attachRelationships)(t,h)),{},{included:p}));case 18:case"end":return e.stop()}},e)})),function(e,t){return er.apply(this,arguments)})},{key:"requestMutation",value:(ea=(0,d.default)(l.default.mark(function e(t,n){var r,a,i,c,s=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=8;break}return a=(r=(0,o.default)(t))[0],i=r.slice(1),e.next=4,this.requestMutation(a);case 4:return c=e.sent,e.next=7,Promise.all(i.map(function(e){var t="function"==typeof e?e(c):e;return s.requestMutation(t)}));case 7:return e.abrupt("return",c);case 8:return e.abrupt("return",this.chain.request(t,n));case 9:case"end":return e.stop()}},e,this)})),function(e,t){return ea.apply(this,arguments)})},{key:"getIncludesRelationships",value:function(e){var t=this,n=e.includes,r=e.doctype;return n?(0,v.default)(n.map(function(e){return[e,t.schema.getRelationship(r,e)]})):{}}},{key:"hydrateDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.forceHydratation,i=void 0!==a&&a,o=this.schema.getDoctypeSchema(e);return o.relationships?t.map(function(e){return n.hydrateDocument(e,o,{forceHydratation:i})}):t}},{key:"hydrateDocument",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.forceHydratation;if(!e)return e;var a=t||this.schema.getDoctypeSchema(e._type),i=this.options.autoHydrate||void 0!==r&&r,o=this.hydrateRelationships(e,a.relationships,{forceHydratation:i});return G(G({},e),o)}},{key:"hydrateRelationships",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.forceHydratation,a=void 0!==r&&r,i=this.getRelationshipStoreAccessors();return(0,m.default)(t,function(t,n){var r;if(a||null!=(r=e.relationships)&&r[n])return(0,C.create)(e,t,i)})}},{key:"generateRandomId",value:function(){return this.queryIdGenerator.generateRandomId()}},{key:"getAssociation",value:function(e,t){return(0,C.create)(e,this.schema.getRelationship(e._type,t),this.getRelationshipStoreAccessors())}},{key:"getRelationshipStoreAccessors",value:function(){var e=this;return this.storeAccesors||(this.storeAccessors={get:this.getDocumentFromState.bind(this),save:function(t,n){return e.save.call(e,t,n)},dispatch:this.dispatch.bind(this),query:function(t,n){return e.query.call(e,t,n)},mutate:function(t,n){return e.mutate.call(e,t,n)}}),this.storeAccessors}},{key:"getCollectionFromState",value:function(e){try{return(0,R.getCollectionFromState)(this.store.getState(),e)}catch(t){return L.default.warn("Could not getCollectionFromState",e,t.message),null}}},{key:"getDocumentFromState",value:function(e,t){try{return(0,R.getDocumentFromState)(this.store.getState(),e,t)}catch(n){return L.default.warn("Could not getDocumentFromState",e,t,n.message),null}}},{key:"getQueryFromState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.singleDocData||!1,r=void 0!==t.hydrated?t.hydrated:this.options.autoHydrate;try{var a,i=(0,R.getQueryFromState)(this.store.getState(),e),o=i.definition&&i.definition.doctype,c=i.definition&&i.definition.id;if(!r&&!n)return i;var s=r&&o?this.hydrateDocuments(o,i.data):i.data,u=null==(a=this.schema.getDoctypeSchema(o))?void 0:a.relationships,l=u?Object.keys(u):null;return G(G({},i),{},{data:c&&n?s[0]:s,storeData:c&&n?i.data[0]:i.data,relationshipNames:l})}catch(t){return L.default.warn("Could not get query from state. queryId: ".concat(e,", error: ").concat(t.message)),null}}},{key:"register",value:function(e){return this.getStackClient().setUri(e),this.startOAuthFlow(D.authFunction)}},{key:"isReactNative",value:function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product}},{key:"startOAuthFlow",value:(ei=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getStackClient(),e.next=3,n.register();case 3:return e.next=5,this.certifyFlagship();case 5:return e.abrupt("return",this.authorize({openURLCallback:t}));case 6:case"end":return e.stop()}},e,this)})),function(e){return ei.apply(this,arguments)})},{key:"certifyFlagship",value:(eo=(0,d.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getStackClient()).oauthOptions.shouldRequireFlagshipPermissions){e.next=4;break}return e.next=4,(0,H.certifyFlagship)(t.oauthOptions.certificationConfig,this);case 4:case"end":return e.stop()}},e,this)})),function(){return eo.apply(this,arguments)})},{key:"authorize",value:(ec=(0,d.default)(l.default.mark(function e(){var t,n,r,a,i,o,c,s,u,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=y.length>0&&void 0!==y[0]?y[0]:{}).openURLCallback)?D.authFunction:n,i=void 0===(a=t.sessionCode)?void 0:a,c=void 0===(o=t.pkceCodes)?{}:o,e.prev=1,s=c.codeVerifier,u=c.codeChallenge,f=(d=this.getStackClient()).generateStateCode(),p=d.getAuthCodeURL({stateCode:f,scopes:void 0,sessionCode:i,codeChallenge:u}),e.next=8,r(p);case 8:return h=e.sent,m=d.getAccessCodeFromURL(h,f),e.next=12,d.fetchAccessToken(m,void 0,void 0,s);case 12:return v=e.sent,d.setToken(v),e.abrupt("return",{token:v,infos:d.oauthOptions,client:d.oauthOptions});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.message===_.REGISTRATION_ABORT&&this.getStackClient().unregister(),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,17]])})),function(){return ec.apply(this,arguments)})},{key:"renewAuthorization",value:function(){return this.authorize({openURLCallback:D.authFunction})}},{key:"setStore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force;if(void 0===e)throw Error("Store is undefined");if(this.store&&!(void 0!==n&&n))throw Error("Client already has a store, it is forbidden to change store.\nsetStore must be called before any query is executed. Try to\ncall setStore earlier in your code, preferably just after the\ninstantiation of the client.");this.store=e}},{key:"ensureStore",value:function(){this.store||this.setStore((0,R.createStore)(this.performanceApi))}},{key:"checkForRevocation",value:(es=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.stackClient instanceof O.OAuthClient)){e.next=4;break}return e.abrupt("return",this.stackClient.checkForRevocation());case 4:throw"checkForRevocation is only implemented for OAutClient";case 5:case"end":return e.stop()}},e,this)})),function(){return es.apply(this,arguments)})},{key:"handleRevocationChange",value:function(e){e?(this.isRevoked=!0,this.emit("revoked")):(this.isRevoked=!1,this.emit("unrevoked"))}},{key:"handleTokenRefresh",value:function(e){this.emit("tokenRefreshed"),this.options.onTokenRefresh&&(Q("Using onTokenRefresh is deprecated, please use events like this: cozyClient.on('tokenRefreshed', token => console.log('Token has been refreshed', token)). https://git.io/fj3M3"),this.options.onTokenRefresh(e))}},{key:"createClient",value:function(){this.options.client&&L.default.warn("CozyClient: Using options.client is deprecated, please use options.stackClient.");var e=void 0===this.options.warningForCustomHandlers||this.options.warningForCustomHandlers,t=this.options.client||this.options.stackClient,n={onRevocationChange:this.handleRevocationChange,onTokenRefresh:this.handleTokenRefresh};if(t){this.stackClient=t,t.options||(t.options={});for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];t.options[i]?e&&L.default.warn("You passed a stackClient with its own ".concat(i,". It is not supported, unexpected things might happen.")):t.options[i]=n[i]}}else{var o=G(G({},this.options),n);this.stackClient=this.options.oauth?new O.OAuthClient(o):new O.default(o)}this.client=new Proxy(this.stackClient,Q("Using cozyClient.client is deprecated, please use cozyClient.stackClient."))}},{key:"getClient",value:function(){return L.default.warn("CozyClient: getClient() is deprecated, please use getStackClient()."),this.getStackClient()}},{key:"getStackClient",value:function(){return this.stackClient||this.createClient(),this.stackClient}},{key:"reducer",value:function(){return(0,R.default)(this.performanceApi)}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"getInstanceOptions",value:function(){return this.instanceOptions}},{key:"loadInstanceOptionsFromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[role=application]",t=document.querySelector(e);if(!(t instanceof HTMLElement))throw Error("The selector that is passed does not return an HTMLElement");var n=t.dataset,r=n.cozy,a=(0,u.default)(n,["cozy"]);this.instanceOptions=G(G({},JSON.parse(void 0===r?"{}":r)),a),this.capabilities=this.instanceOptions.capabilities||null}},{key:"loadInstanceOptionsFromStack",value:(eu=(0,d.default)(l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.query((0,A.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities")),this.query((0,A.Q)("io.cozy.settings").getById("io.cozy.settings.instance"))]);case 2:n=(t=e.sent)[0].data,r=t[1].data,this.instanceOptions={capabilities:n,locale:r.locale,tracking:r.tracking},this.capabilities=this.instanceOptions.capabilities||null;case 7:case"end":return e.stop()}},e,this)})),function(){return eu.apply(this,arguments)})},{key:"setData",value:function(e){var t=this;this.ensureStore(),Object.entries(e).forEach(function(e){var n=(0,c.default)(e,2),r=(n[0],n[1]);t.dispatch((0,R.receiveQueryResult)(null,{data:r}))})}},{key:"setOnError",value:function(e){if(this.options&&this.options.onError)throw Error("On Error is already defined");this.options.onError=e}},{key:"toJSON",value:function(){return new F.CozyClient({uri:this.options.uri})}},{key:"setAppMetadata",value:function(e){this.appMetadata=G(G({},this.appMetadata),e)}},{key:"setLinks",value:(el=(0,d.default)(l.default.mark(function e(t){var n,r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.links=t||[new E.default({performanceApi:this.performanceApi})],this.registerClientOnLinks(),this.chain=(0,I.chain)(this.links),!this.isLogged){e.next=22;break}n=Z(this.links),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=14;break}if(!(a=r.value).onLogin){e.next=12;break}return e.next=12,a.onLogin();case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,16,19,22]])})),function(e){return el.apply(this,arguments)})},{key:"getSettings",value:(ed=(0,d.default)(l.default.mark(function e(t,n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.getSettings)(this,t,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return ed.apply(this,arguments)})},{key:"saveAfterFetchSettings",value:(ef=(0,d.default)(l.default.mark(function e(t,n,r){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.saveAfterFetchSettings)(this,t,n,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return ef.apply(this,arguments)})},{key:"resetQuery",value:(ep=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,R.isQueryExisting)(this.store.getState(),t)){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return this.dispatch((0,R.resetQuery)(t)),n=this.getQueryFromState(t),e.next=7,this.query(n.definition,{as:t});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return ep.apply(this,arguments)})}],[{key:"fromOldClient",value:function(e,t){return new em(G({uri:e._url,token:e._token.token},t))}},{key:"fromOldOAuthClient",value:(eh=(0,d.default)(l.default.mark(function e(t,n){var r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._oauth){e.next=12;break}return e.next=3,t.authorize();case 3:if(a={oauth:(r=e.sent).client,token:r.token,scope:r.token.scope},!(i=new em(G(G({uri:t._url},a),n))).loginPromise){e.next=9;break}return e.next=9,i.loginPromise;case 9:return e.abrupt("return",i);case 12:throw Error("Cannot instantiate a new client: old client is not an OAuth client. CozyClient.fromOldClient might be more suitable.");case 13:case"end":return e.stop()}},e)})),function(e,t){return eh.apply(this,arguments)})},{key:"fromEnv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||(void 0!==r?r.env:{}),a=n.COZY_URL,i=n.COZY_CREDENTIALS;if(!a||!i)throw Error("Env used to instantiate CozyClient must have COZY_URL and COZY_CREDENTIALS");try{t.oauth=JSON.parse(i)}catch(e){t.token=i.trim()}return t.uri=a.trim(),new em(G({},t))}},{key:"fromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[role=application]",n=document.querySelector(t);if(!(n instanceof HTMLElement))throw Error("Cannot find an HTMLElement corresponding to ".concat(t));if(!n||!n.dataset)throw Error("Found no data in ".concat(t," to instantiate cozyClient"));var r=n.dataset.cozy?JSON.parse(n.dataset.cozy):G({},n.dataset),a=r.domain,i=r.token;if(a&&i||(a=a||r.cozyDomain,i=i||r.cozyToken),!a||!i)throw Error("Found no data in ".concat(n.dataset," to instantiate cozyClient"));return new em(G({uri:"".concat(window.location.protocol,"//").concat(a),token:i,capabilities:r.capabilities},e))}},{key:"registerHook",value:function(e,t,n){var r=em.hooks[e]=em.hooks[e]||{};r[t]=r[t]||[],r[t].push(n)}}]),em}();X.hooks=X.hooks||{},X.fetchPolicies=j.default,X.version="60.21.0",x.default.mixin(X),t.default=X},55552:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(26396)),c=r(n(58156)),s=n(55477),u=Object.prototype.hasOwnProperty;function l(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.default=function(){function e(t,n,r,i){var c=this;if((0,a.default)(this,e),(0,o.default)(this,"handleStoreChange",function(){var e=c.currentRawResult();!function(e,t){if(l(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!u.call(t,n[a])||!l(e[n[a]],t[n[a]]))return!1;return!0}(e,c.lastResult)&&(c.lastResult=e,c.notifyObservers())}),!t||!n||!r)throw Error("ObservableQuery takes 3 arguments: queryId, definition and client");this.queryId=t,this.definition=n,this.client=r,this.observers={},this.idCounter=1,this.lastResult=this.currentRawResult(),this.options=i}return(0,i.default)(e,[{key:"currentResult",value:function(){return this.client.getQueryFromState(this.queryId,{hydrated:(0,c.default)(this.options,"hydrated",!0),singleDocData:!0})}},{key:"fetch",value:function(){return this.client.query(this.definition,{as:this.queryId})}},{key:"fetchMore",value:function(){var e=this.currentRawResult();return e.bookmark?this.client.query(this.definition.offsetBookmark(e.bookmark),{as:this.queryId}):this.client.query(this.definition.offset(e.data.length),{as:this.queryId})}},{key:"currentRawResult",value:function(){return(0,s.getRawQueryFromState)(this.getStore().getState(),this.queryId)}},{key:"notifyObservers",value:function(){var e=this;Object.keys(this.observers).forEach(function(t){return e.observers[t]()})}},{key:"subscribeToStore",value:function(){if(this._unsubscribeStore)throw Error("ObservableQuery instance is already subscribed to store.");this._unsubscribeStore=this.getStore().subscribe(this.handleStoreChange)}},{key:"unsubscribeFromStore",value:function(){if(!this._unsubscribeStore)throw Error("ObservableQuery instance is not subscribed to store");this._unsubscribeStore()}},{key:"subscribe",value:function(e){var t=this,n=this.idCounter;return this.idCounter++,this.observers[n]=e,1===Object.keys(this.observers).length&&this.subscribeToStore(),function(){return t.unsubscribe(n)}}},{key:"unsubscribe",value:function(e){if(!this.observers[e])throw Error("Cannot unsubscribe unknown callbackId ".concat(e));delete this.observers[e],0===Object.keys(this.observers).length&&(this.unsubscribeFromStore(),this._unsubscribeStore=null)}},{key:"getStore",value:function(){return this.client.store}}]),e}()},62442:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(82274)),o=a(n(65044)),c=a(n(56994)),s=a(n(65611)),u=a(n(18337)),l=a(n(26396)),d=r(n(96540)),f=a(n(95875)),p=a(n(29140)),h=f.default.shape({subscribe:f.default.func.isRequired,dispatch:f.default.func.isRequired,getState:f.default.func.isRequired}),m=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){var a;if((0,i.default)(this,r),a=n.call(this,e,t),!e.client)throw Error("CozyProvider was not passed a client instance.");return e.store&&e.client.setStore(e.store),a}return(0,o.default)(r,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store||this.props.client.store,client:this.props.client}}},{key:"render",value:function(){return d.default.createElement(p.default.Provider,{value:this.getChildContext()},this.props.children)}}]),r}(d.Component);t.default=m,(0,l.default)(m,"propTypes",{store:h,client:f.default.object.isRequired,children:f.default.oneOfType([f.default.element,f.default.arrayOf(f.default.element)]).isRequired}),(0,l.default)(m,"childContextTypes",{store:f.default.object,client:f.default.object.isRequired}),(0,l.default)(m,"contextTypes",{store:f.default.object})},60023:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.computeChildrenArgs=t.getQueryAttributes=t.default=t.fetchQuery=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(39892)),f=n(96540);r(n(6023));var p=r(n(95875));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r(n(55552));var v={},y=function(e,t){return t.fetch?t.fetch():e.query(t.definition,{as:t.queryId})};t.fetchQuery=y;var g=function(e,t){var n=e.create.bind(e),r=e.save.bind(e),a=e.destroy.bind(e),i=e.getAssociation.bind(e),o="function"==typeof t.query?t.query(e,t):t.query,c=e.makeObservableQuery(o,t),s=c.fetchMore.bind(c),u=t.mutations,l=(0,d.default)(t,["mutations"]),f="function"==typeof u?u(e,c,l):u,p=c.fetch?c.fetch.bind(c):null;return{client:e,observableQuery:c,queryDefinition:o,createDocument:n,saveDocument:r,deleteDocument:a,getAssociation:i,fetchMore:s,fetch:p,mutations:f}};t.getQueryAttributes=g;var b=function(e){var t=e.observableQuery,n=e.fetchMore,r=e.fetch,a=e.createDocument,i=e.saveDocument,o=e.deleteDocument,c=e.getAssociation,s=e.mutations;return[m({fetchMore:n,fetch:r},t.currentResult()),m({createDocument:a,saveDocument:i,deleteDocument:o,getAssociation:c},s)]};t.computeChildrenArgs=b;var w=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){(0,a.default)(this,r),i=n.call(this,e,t),(0,l.default)((0,o.default)(i),"onQueryChange",function(){i.recomputeChildrenArgs(),i.setState(v)});var i,c=t.client;if(!t.client)throw Error("Query should be used with client in context (use CozyProvider to set context)");return i.client=c,i.observableQuery=null,i.queryUnsubscribe=null,Object.assign((0,o.default)(i),g(c,e)),i.recomputeChildrenArgs(),i}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.queryUnsubscribe=this.observableQuery.subscribe(this.onQueryChange),!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"executeQueryRespectingFetchPolicy",value:function(){if(this.props.fetchPolicy){var e=this.client.getQueryFromState(this.props.as);this.props.fetchPolicy&&"function"==typeof this.props.fetchPolicy&&this.props.fetchPolicy(e)&&y(this.client,this.observableQuery)}else y(this.client,this.observableQuery)}},{key:"componentDidUpdate",value:function(e){!1===e.enabled&&!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"componentWillUnmount",value:function(){this.queryUnsubscribe&&this.queryUnsubscribe()}},{key:"recomputeChildrenArgs",value:function(){this.childrenArgs=b(this)}},{key:"render",value:function(){return(0,this.props.children)(this.childrenArgs[0],this.childrenArgs[1])}}]),r}(f.Component);t.default=w,w.contextTypes={client:p.default.object,store:p.default.object};var k=p.default.object;w.propTypes={query:p.default.oneOfType([p.default.func,k]).isRequired,enabled:p.default.bool,as:p.default.string,children:p.default.func.isRequired,fetchPolicy:p.default.func},w.defaultProps={enabled:!0}},99900:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=n(96540),c=r(n(89248)),s=n(89612),u=n(94772);t.default=(0,o.memo)(function(e){var t=e.doctype,n=(0,c.default)();return(0,o.useEffect)(function(){var e,r=n.plugins.realtime;if(!r)throw Error("You must include the realtime plugin to use RealTimeQueries");var o={};"io.cozy.files"===t&&(o.enhanceDocFn=u.ensureFilePath);var c=function(e){(0,s.dispatchCreate)(n,t,e,o)},l=function(e){(0,s.dispatchUpdate)(n,t,e,o)},d=function(e){(0,s.dispatchDelete)(n,t,e,o)};return(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.subscribe("created",t,c);case 2:return e.next=4,r.subscribe("updated",t,l);case 4:return e.next=6,r.subscribe("deleted",t,d);case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){r.unsubscribe("created",t,c),r.unsubscribe("updated",t,l),r.unsubscribe("deleted",t,d)}},[n,t]),null})},2012:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(26396)),u=r(n(38970)),l=r(n(73916)),d=r(n(55364)),f=r(n(47091)),p=r(n(44742)),h=n(20032);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(e){var t=(0,l.default)(e.relationships||{},function(e,t){return v(v({},e),{},{name:t,type:(0,h.resolveClass)(e.doctype,e.type)})});return v(v({},e),{},{relationships:(0,f.default)(t)>0?(0,u.default)(t,"name"):null})},g=function(e,t){if(!e)throw Error(t)},b=function(e,t){var n=(0,p.default)(e,t,function(e){return e.name});g(0===n.length,"Duplicated names in schemas being added: ".concat(n.map(function(e){return e.name}).join(", ")));var r=(0,p.default)(e,t,function(e){return e.doctype});g(0===r.length,"Duplicated doctypes in schemas being added: ".concat(r.map(function(e){return e.name}).join(", ")))};t.default=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,o.default)(this,n),this.byDoctype={},this.add(e),this.client=t}return(0,c.default)(n,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(e,function(e,t){return v({name:t},y(e))});b(Object.values(t),Object.values(this.byDoctype)),(0,d.default)(this.byDoctype,(0,u.default)(t,function(e){return e.doctype}))}},{key:"getDoctypeSchema",value:function(e){var t=this.byDoctype[e];return t||(t=y({name:e,doctype:e}),this.byDoctype[e]=t),t}},{key:"getRelationship",value:function(e,t){if(!e)throw TypeError("Invalid doctype ".concat(e));var n=this.getDoctypeSchema(e);if(!n)throw Error("Cannot find doctype ".concat(e," in schema"));if(!n.relationships)throw Error("Schema for doctype ".concat(e," has no relationships"));return n.relationships[t]}},{key:"validate",value:(e=(0,i.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r=this.byDoctype[t._type]){e.next=4;break}return e.abrupt("return",!0);case 4:if(r.attributes){e.next=6;break}return e.abrupt("return",!0);case 6:e.t0=a.default.keys(r.attributes);case 7:if((e.t1=e.t0()).done){e.next=15;break}return i=e.t1.value,e.next=11,this.validateAttribute(t,i,r.attributes[i]);case 11:!0!==(o=e.sent)&&(n[i]=o),e.next=7;break;case 15:if(0!==Object.keys(n).length){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"validateAttribute",value:(t=(0,i.default)(a.default.mark(function e(t,n,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.unique&&this.client)){e.next=6;break}return e.next=3,this.client.collection(t._type).checkUniquenessOf(n,t[n]);case 3:if(!0===e.sent){e.next=6;break}return e.abrupt("return","must be unique");case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),n}()},73739:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));n(11071),t.default=function(){function e(t,n,r,i){(0,a.default)(this,e);var o=i.dispatch,c=i.get,s=i.query,u=i.mutate,l=i.save;this.target=t,this.name=n,this.doctype=r,this.get=c,this.query=s,this.mutate=u,this.save=l,this.dispatch=o}return(0,i.default)(e,[{key:"raw",get:function(){throw Error("A relationship must define its raw getter")}},{key:"data",get:function(){throw Error("A relationship must define its data getter")}}],[{key:"query",value:function(e,t,n){throw Error("A custom relationship must define its query() function")}}]),e}()},52043:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.updateRelationship=t.updateHasManyItem=t.removeHasManyItem=t.setHasManyItem=t.getHasManyItems=t.getHasManyItem=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(21259)),f=r(n(58156)),p=r(n(55364)),h=n(11071),m=n(55477),v=r(n(73739)),y=r(n(95527));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e,t,n){var r=-1===t?e.length:t;return[].concat((0,d.default)(e.slice(0,r)),[n],(0,d.default)(e.slice(r+1)))},k=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){var e;(0,a.default)(this,r);for(var t=arguments.length,i=Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),(0,l.default)((0,o.default)(e),"updateRelationshipData",function(t){return function(n,r){var a=(0,m.getDocumentFromState)(r(),e.target._type,e.target._id);n((0,m.receiveQueryResult)(null,{data:b(b({},a),{},{relationships:b(b({},a.relationships),{},(0,l.default)({},e.name,t(a.relationships[e.name])))})}))}}),e}return(0,i.default)(r,[{key:"fetchMore",value:function(){throw"Not implemented"}},{key:"exists",value:function(e){return this.existsById(e._id)}},{key:"containsById",value:function(e){return void 0!==this.getRelationship().data.find(function(t){return e===t._id})}},{key:"existsById",value:function(e){return!!(this.containsById(e)&&this.get(this.doctype,e))}},{key:"add",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.addById(t)}},{key:"remove",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.removeById(t)}},{key:"addTargetRelationships",value:function(e){var t,n=this;this.target.relationships||(this.target.relationships={}),this.target.relationships[this.name]||(this.target.relationships[this.name]={data:[]});var r=(Array.isArray(e)?e:[e]).filter(function(e){return!n.existsById(e)}).map(function(e){return{_id:e,_type:n.doctype}});(t=this.target.relationships[this.name].data).push.apply(t,(0,d.default)(r)),this.updateMetaCount()}},{key:"addById",value:function(e){return this.addTargetRelationships(e),this.save(this.target)}},{key:"removeTargetRelationships",value:function(e){var t=Array.isArray(e)?e:[e];this.target.relationships[this.name].data=this.target.relationships[this.name].data.filter(function(e){var n=e._id;return!t.includes(n)}),this.updateMetaCount()}},{key:"removeById",value:function(e){return this.removeTargetRelationships(e),this.save(this.target)}},{key:"updateMetaCount",value:function(){void 0!==(0,f.default)(this.target.relationships[this.name],"meta.count")&&(this.target.relationships[this.name].meta=b(b({},this.target.relationships[this.name].meta),{},{count:this.target.relationships[this.name].data.length}))}},{key:"getRelationship",value:function(){var e=this.target[this.name],t=(0,f.default)(this.target,"relationships.".concat(this.name));return t||(e&&e.length&&y.default.warn("You're trying to access data on a relationship that appear to not be loaded yet. You may want to use 'include()' on your query"),{data:[],next:!0,meta:{count:0}})}},{key:"updateTargetRelationship",value:function(e,t){var n=e.readDocument(this.target._type,this.target._id);e.writeDocument(this.updateRelationship(n,t))}},{key:"updateRelationship",value:function(e,t){return r.updateRelationship(e,this.name,t)}},{key:"dehydrate",value:function(e){return b(b({},e),{},{relationships:b(b({},e.relationships),{},(0,l.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return this.getRelationship().data}},{key:"data",get:function(){var e=this;return this.getRelationship().data.map(function(t){var n=t._id,r=t._type;return e.get(r,n)}).filter(Boolean)}},{key:"hasMore",get:function(){return this.getRelationship().next}},{key:"count",get:function(){var e=this.getRelationship();return e.meta?e.meta.count:e.data.length}}],[{key:"query",value:function(e,t,n){var r=(0,f.default)(e,"relationships.".concat(n.name,".data"),[]).map(function(e){return e._id});return new h.QueryDefinition({doctype:n.doctype,ids:r})}}]),r}(v.default);t.getHasManyItem=k.getHasManyItem=function(e,t,n){return(0,f.default)(e,"relationships.".concat(t,".data"),[]).find(function(e){return e._id==n})},t.getHasManyItems=k.getHasManyItems=function(e,t){return(0,f.default)(e,"relationships.".concat(t,".data"),[])},t.setHasManyItem=k.setHasManyItem=function(e,t,n,r){var a=k.getHasManyItems(e,t),i=a.findIndex(function(e){return e._id===n}),o=(0,p.default)({},a[i],r),c=w(a,i,o);return k.updateRelationship(e,t,function(e){return(0,p.default)({},e,{data:c})})},t.removeHasManyItem=k.removeHasManyItem=function(e,t,n){var r=k.getHasManyItems(e,t).filter(function(e){return e._id!==n});return k.updateRelationship(e,t,function(){return{data:r}})},t.updateHasManyItem=k.updateHasManyItem=function(e,t,n,r){var a=r(k.getHasManyItem(e,t,n));return k.setHasManyItem(e,t,n,a)},t.updateRelationship=k.updateRelationship=function(e,t,n){return b(b({},e),{},{relationships:b(b({},e.relationships),{},(0,l.default)({},t,b(b({},e.relationships?e.relationships[t]:{}),n(e.relationships?e.relationships[t]:{}))))})},t.default=k},19800:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getFileDatetime=void 0;var a=r(n(92207)),i=r(n(21259)),o=r(n(26396)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(96220)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337)),h=r(n(22056)),m=r(n(58156)),v=r(n(90179)),y=r(n(63375)),g=n(11071),b=n(55477),w=n(148);r(n(73739));var k=r(n(52043));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e,t){var n=(0,h.default)(e,3),r=n[0],a=n[1],i=n[2];return[i?[r,a,i]:[r,a],t]},E=function(e){var t;return(null==(t=e.metadata)?void 0:t.datetime)||e.created_at};t.getFileDatetime=E,t.default=function(e){(0,d.default)(k,e);var t,n,r,o,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(k);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function k(){return(0,s.default)(this,k),h.apply(this,arguments)}return(0,u.default)(k,[{key:"fetchMore",value:(n=(0,c.default)(a.default.mark(function e(){var t,n,r,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.QueryDefinition({doctype:w.DOCTYPE_FILES}),r=(n=this.getRelationship().data)[n.length-1],e.next=5,this.dispatch(function(){var e=(0,c.default)(a.default.mark(function e(c,s){var u,l,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=E((0,b.getDocumentFromState)(s(),r._type,r._id)),l=_([o.target._type,o.target._id,u],n[n.length-1]._id),e.next=5,o.query(t.referencedBy(o.target).offsetCursor(l));case 5:return(d=e.sent).data.shift(),e.next=9,o.dispatch(o.updateRelationshipData(function(e){return O(O({},e),{},{data:[].concat((0,i.default)(e.data),(0,i.default)(d.data)),next:d.next})}));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"addById",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t:[t],this.addTargetRelationships(n),r=n.map(function(e){return{_id:e,_type:i.doctype}}),e.next=5,this.mutate(this.addReferences(r));case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"removeById",value:(o=(0,c.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t:[t],this.removeTargetRelationships(t),r=n.map(function(e){return{_id:e,_type:i.doctype}}),e.next=5,this.mutate(this.removeReferences(r));case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"addReferences",value:function(e){if(this.target._type===w.DOCTYPE_FILES)return g.Mutations.addReferencedBy(this.target,e);if(e[0]._type===w.DOCTYPE_FILES)return g.Mutations.addReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"removeReferences",value:function(e){if(this.target._type===w.DOCTYPE_FILES)return g.Mutations.removeReferencedBy(this.target,e);if(e[0]._type===w.DOCTYPE_FILES)return g.Mutations.removeReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"dehydrate",value:function(e){return(0,v.default)(e,[this.name,"relationships.".concat(this.name)])}},{key:"data",get:function(){var e=this;return this.target._type===w.DOCTYPE_FILES?(0,m.default)(this.target,"referenced_by",[]).map(function(t){var n=t.id,r=t.type;return e.get(r,n)}).filter(Boolean):(0,l.default)((0,p.default)(k.prototype),"data",this)}}],[{key:"query",value:function(e,t,n){if(e._type===w.DOCTYPE_FILES){var r=(0,m.default)(e,"relationships.referenced_by.data",[]),a=(0,y.default)(r.filter(function(e){return e.type===n.doctype}).map(function(e){return e.id}));return a.length>0?(0,g.Q)(n.doctype).getByIds(a):null}var i=_([e._type,e._id],"");return(0,g.Q)(n.doctype).referencedBy(e).offsetCursor(i)}}]),k}(k.default)},50517:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=n(11071);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"addById",value:function(e){this.getRelationship().push(e)}},{key:"removeById",value:function(e){var t=this.getRelationship(),n=t.indexOf(e);-1!==n&&t.splice(n,1)}},{key:"existsById",value:function(e){return -1!==this.getRelationship().indexOf(e)}},{key:"getRelationship",value:function(){return this.target[this.name]=this.target[this.name]||[],this.target[this.name]}},{key:"dehydrate",value:function(e){return f(f({},e),{},(0,a.default)({},this.name,this.raw||[]))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var e=this,t=this.doctype;return(this.raw||[]).map(function(n){return e.get(t,n)})}}],[{key:"query",value:function(e,t,n){var r=e[n.name];return r&&r>0?(0,l.Q)(n.doctype).getByIds(r):null}}]),r}(r(n(73739)).default)},39994:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(96220)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(52043)),d=n(11071);t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,[{key:"data",get:function(){var e=this;return(0,o.default)((0,u.default)(r.prototype),"data",this).filter(function(t){return t.slug===e.target.slug})}}],[{key:"query",value:function(e,t){return(0,d.Q)("io.cozy.triggers").where({worker:"konnector"})}}]),r}(l.default)},42690:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(58156)),d=r(n(63560)),f=n(11071),p=r(n(73739)),h=r(n(95527));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"add",value:function(e){return this.setRelationship(e),this.save(this.target)}},{key:"remove",value:function(){return this.setRelationship(void 0),this.save(this.target)}},{key:"setRelationship",value:function(e){if(e&&e._type!==this.doctype)throw Error("Tried to associate a ".concat(e._type," document to a HasOne relationship on ").concat(this.doctype," document"));var t="relationships[".concat(this.name,"].data");e?(0,d.default)(this.target,t,{_id:e._id,_type:e._type}):(0,d.default)(this.target,t,void 0)}},{key:"set",value:function(e){h.default.warn("set is deprecated for has-one relationships. Use `add` instead."),this.setRelationship(e)}},{key:"unset",value:function(){h.default.warn("unset is deprecated for has-one relationships. Use `remove` instead."),this.setRelationship(void 0)}},{key:"dehydrate",value:function(e){return this.raw?v(v({},e),{},{relationships:v(v({},e.relationships),{},(0,a.default)({},this.name,{data:this.raw}))}):e}},{key:"raw",get:function(){return(0,l.default)(this.target,"relationships[".concat(this.name,"].data"),null)}},{key:"data",get:function(){return this.raw?this.get(this.doctype,this.raw._id):null}}],[{key:"query",value:function(e,t,n){var r=(0,l.default)(e,"relationships.".concat(n.name,".data"),{});return r&&r._id?(0,f.Q)(n.doctype).getById(r._id):null}}]),r}(p.default)},73206:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BelongsToInPlace=t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(73739)),d=n(11071);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"dehydrate",value:function(e){return p(p({},e),{},(0,a.default)({},this.name,this.raw||void 0))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){return this.get(this.doctype,this.raw)}}],[{key:"query",value:function(e,t,n){var r=e[n.name];return t.getDocumentFromState(n.doctype,r)||(0,d.Q)(n.doctype).getById(r)}}]),r}(l.default);t.default=h,t.BelongsToInPlace=h},6205:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedById=t.getReferencedBy=t.isReferencedById=t.isReferencedBy=t.create=t.resolveClass=t.attachRelationships=t.responseToRelationship=t.pickTypeAndId=void 0;var a=r(n(26396)),i=r(n(44383)),o=r(n(71086)),c=r(n(73739)),s=r(n(42690)),u=r(n(73206)),l=r(n(52043)),d=r(n(50517)),f=r(n(19800));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return(0,i.default)(e,"_type","_id")};t.pickTypeAndId=m,t.responseToRelationship=function(e){var t;return(0,o.default)({data:Array.isArray(t=e.data)?t.map(m):m(t),meta:e.meta,next:e.next,skip:e.skip,bookmark:e.bookmark})};var v=function(e,t){return h(h({},e),{},{relationships:h(h({},e.relationships),t)})};t.attachRelationships=function(e,t){if(Array.isArray(e.data))return h(h({},e),{},{data:e.data.map(function(e){return v(e,t[e._id])})});var n=e.data;return h(h({},e),{},{data:v(n,t[n._id])})};var y={"io.cozy.files:has-many":f.default,"has-many":l.default,"belongs-to-in-place":u.default,"has-one":s.default,"has-one-in-place":u.default,"has-many-in-place":d.default};t.resolveClass=function(e,t){if(void 0===t)throw Error("Undefined type for "+e);if("string"!=typeof t)return t;var n=y["".concat(e,":").concat(t)]||y[t];if(n)return n;throw Error("Unknown association '".concat(t,"'"))},t.create=function(e,t,n){var r=t.name,a=t.type,i=t.doctype;if(e[r]instanceof c.default)throw Error("Association ".concat(r," already exists"));return new a(e,r,i,n)},t.isReferencedBy=function(e,t){var n,r;return((null==e||null==(n=e.relationships)||null==(r=n.referenced_by)?void 0:r.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t})},t.isReferencedById=function(e,t,n){var r,a;return((null==e||null==(r=e.relationships)||null==(a=r.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t&&e.id===n})},t.getReferencedBy=function(e,t){var n,r;return((null==e||null==(n=e.relationships)||null==(r=n.referenced_by)?void 0:r.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t})},t.getReferencedById=function(e,t,n){var r,a;return((null==e||null==(r=e.relationships)||null==(a=r.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t&&e.id===n})}},20032:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HasManyFiles",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"resolveClass",{enumerable:!0,get:function(){return d.resolveClass}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return d.create}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return d.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return d.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return d.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return d.getReferencedById}});var a=r(n(19800)),i=r(n(52043)),o=r(n(42690)),c=r(n(73206)),s=r(n(50517)),u=r(n(39994)),l=r(n(73739)),d=n(6205)},25972:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authFunction=void 0,t.authFunction=function(){throw"Not implemented"}},148:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES_ENCRYPTION=t.DOCTYPE_PERMISSIONS=t.DOCTYPE_FILES=t.REGISTRATION_ABORT=void 0,t.REGISTRATION_ABORT="REGISTRATION_ABORT",t.DOCTYPE_FILES="io.cozy.files",t.DOCTYPE_PERMISSIONS="io.cozy.permissions",t.DOCTYPE_FILES_ENCRYPTION="io.cozy.files.encryption"},52146:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_TYPE=void 0,t.APP_TYPE={KONNECTOR:"konnector",WEBAPP:"webapp"}},29140:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clientContext=void 0;var a=n(96540);r(n(6023));var i=(0,a.createContext)({client:null,store:null});t.clientContext=i,t.default=i},36280:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BulkEditError=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(16826)),d=r(n(30307));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.BulkEditError=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){var a;return(0,i.default)(this,r),(a=n.call(this,"Error while bulk saving")).name="BulkEditError",a.results=(0,d.default)(e,t,function(e,t){return p(p({},e),{},{doc:t})}),a}return(0,o.default)(r,[{key:"getUpdatedDocuments",value:function(){return this.results.filter(function(e){return e.ok}).map(function(e){return e.doc})}},{key:"getErrors",value:function(){return this.results.filter(function(e){return!e.ok})}}]),r}((0,l.default)(Error))},29984:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.certifyFlagship=void 0;var c=o(n(92207)),s=o(n(79092));o(n(6023));var u=n(49205),l=(r=(0,s.default)(c.default.mark(function e(t){var n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.getStackClient(),e.next=4,n.fetchJSON("POST","/auth/clients/".concat(n.oauthOptions.clientID,"/challenge"),null,{headers:{Authorization:n.registrationAccessTokenToAuthHeader()}});case 4:return r=e.sent,e.abrupt("return",r.nonce);case 8:throw e.prev=8,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while requesting a challenge from CozyStack:\n"+e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return r.apply(this,arguments)}),d=(a=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.platform,i=t.attestation,o=t.keyId,s=t.issuer,u=r.getStackClient(),e.next=5,u.fetchJSON("POST","/auth/clients/".concat(u.oauthOptions.clientID,"/attestation"),{platform:a,attestation:i,challenge:n,keyId:o,issuer:s},{headers:{Authorization:u.registrationAccessTokenToAuthHeader()}});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while giving attestation to CozyStack:\n"+e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return a.apply(this,arguments)});i=(0,s.default)(c.default.mark(function e(t,n){var r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("[FLAGSHIP_CERTIFICATION] Certification configuration is not set");case 2:return e.prev=2,e.next=5,l(n);case 5:return r=e.sent,e.next=8,(0,u.getAppAttestationFromStore)(r,t);case 8:return a=e.sent,e.next=11,d(a,r,n);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.warn('[FLAGSHIP_CERTIFICATION] Automatic certification for URI "'.concat(n.stackClient.uri,'" failed. This is expected on dev environments and non-official phones. Cozy-stack will continue with manual certification through 2FA')),console.warn(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[2,13]])})),t.certifyFlagship=function(e,t){return i.apply(this,arguments)}},49205:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getAppAttestationFromStore=void 0;var i=a(n(92207));t.getAppAttestationFromStore=(r=(0,a(n(79092)).default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("getAppAttestationFromStore can only be called from a React Native container");case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},47475:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrate=void 0;var a=r(n(22056)),i=n(20032);t.dehydrate=function(e){return Object.entries(e).reduce(function(e,t){var n=(0,a.default)(t,2),r=n[0],o=n[1],c=e;if(o instanceof i.Association)if(o.dehydrate)c=o.dehydrate(c);else throw Error("Association on key ".concat(r," should have a dehydrate method"));else c[r]=o;return c},{})}},88237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return r.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return r.deconstructRedirectLink}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return r.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return r.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return r.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return r.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return r.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return r.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return r.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return r.BlockedCozyError}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return a.dehydrate}}),Object.defineProperty(t,"editSettings",{enumerable:!0,get:function(){return i.editSettings}}),Object.defineProperty(t,"getQuery",{enumerable:!0,get:function(){return i.getQuery}}),Object.defineProperty(t,"getSettings",{enumerable:!0,get:function(){return i.getSettings}}),Object.defineProperty(t,"normalizeSettings",{enumerable:!0,get:function(){return i.normalizeSettings}}),Object.defineProperty(t,"saveAfterFetchSettings",{enumerable:!0,get:function(){return i.saveAfterFetchSettings}});var r=n(59848),a=n(47475),i=n(39472)},94772:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureFilePath=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(79092)),s=n(11071),u=a(n(6023));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=function(e){return{definition:function(){return(0,s.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),singleDocData:!0,fetchPolicy:u.default.fetchPolicies.olderThan(3e4)}}};r=(0,c.default)(i.default.mark(function e(t){var n,r,a,c,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},!t.path){e.next=3;break}return e.abrupt("return",t);case 3:return r=d(t.dir_id),e.next=6,n.client.fetchQueryAndGetFromState({definition:r.definition(),options:r.options});case 6:if(!(!(a=e.sent).data||!a.data.path)){e.next=9;break}throw Error("Could not define a file path for ".concat(t._id||t.id));case 9:return c=a.data.path+"/"+t.name,e.abrupt("return",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({path:c},t));case 11:case"end":return e.stop()}},e)})),t.ensureFilePath=function(e){return r.apply(this,arguments)}},39472:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t.extractKeys=t.editSettings=t.normalizeSettings=t.saveAfterFetchSettings=t.getSettings=void 0;var o=i(n(22056)),c=i(n(26396)),s=i(n(92207)),u=i(n(79092));i(n(6023));var l=i(n(1769)),d=n(11071);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=l.default.olderThan(36e5);r=(0,u.default)(s.default.mark(function e(t,n,r){var a,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=k(n),e.next=3,t.fetchQueryAndGetFromState({definition:a.definition,options:a.options});case 3:return i=v(e.sent.data),e.abrupt("return",w(i,r));case 6:case"end":return e.stop()}},e)})),t.getSettings=function(e,t,n){return r.apply(this,arguments)},a=(0,u.default)(s.default.mark(function e(t,n,r,a){var i,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=k(n),e.next=3,t.fetchQueryAndGetFromState({definition:i.definition,options:i.options});case 3:return o=v(e.sent.data),c=void 0,c="function"==typeof r?r(w(o,a)):h(h({},w(o,Object.keys(r))),r),u=y(n,o,c),e.next=10,t.save(u);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),t.saveAfterFetchSettings=function(e,t,n,r){return a.apply(this,arguments)};var v=function(e){return(Array.isArray(e)?e[0]:e)||{}};t.normalizeSettings=v;var y=function(e,t,n){var r=_(e);return"instance"===e?g(t,n):b(t,r,n)};t.editSettings=y;var g=function(e,t){for(var n=h(h({_id:e._id,_type:e._type,_rev:e.meta.rev},e),{},{attributes:h({},e.attributes)}),r=0,a=Object.entries(t);r<a.length;r++){var i=(0,o.default)(a[r],2),c=i[0],s=i[1];n[c]=s,n.attributes[c]=s}return n},b=function(e,t,n){for(var r=h({_type:t},e),a=0,i=Object.entries(n);a<i.length;a++){var c=(0,o.default)(i[a],2),s=c[0],u=c[1];r[s]=u}return r},w=function(e,t){var n,r={},a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r[i]=e[i]}}catch(e){a.e(e)}finally{a.f()}return r};t.extractKeys=w;var k=function(e){return"instance"===e?O(e):"passwords"===e?O("bitwarden"):x(e)};t.getQuery=k;var x=function(e){var t=_(e);return{definition:(0,d.Q)(t).limitBy(1),options:{as:t,fetchPolicy:m,singleDocData:!0}}},O=function(e){var t="io.cozy.settings",n=_(e);return{definition:(0,d.Q)(t).getById(n),options:{as:"".concat(t,"/").concat(n),fetchPolicy:m,singleDocData:!0}}},_=function(e){return["instance","bitwarden"].includes(e)?"io.cozy.settings.".concat(e):"passwords"===e?"io.cozy.settings.bitwarden":"io.cozy.".concat(e,".settings")}},59848:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRegistrationDetails=t.rootCozyUrl=t.InvalidCozyUrlError=t.BlockedCozyError=t.InvalidProtocolError=t.InvalidRedirectLinkError=t.deconstructRedirectLink=t.deconstructCozyWebLinkWithSlug=t.generateWebLink=t.ensureFirstSlash=void 0;var s=c(n(21259)),u=c(n(15890)),l=c(n(92207)),d=c(n(79092)),f=c(n(82274)),p=c(n(56994)),h=c(n(65611)),m=c(n(18337)),v=c(n(16826)),y=c(n(22056));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,m.default)(e);return n=t?Reflect.construct(r,arguments,(0,m.default)(this).constructor):r.apply(this,arguments),(0,h.default)(this,n)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){return e?e.startsWith("/")?e:"/"+e:"/"};t.ensureFirstSlash=w,t.generateWebLink=function(e){var t=e.cozyUrl,n=e.searchParams,r=e.pathname,a=e.hash,i=e.slug,o=e.subDomainType,c=new URL(t);c.host="nested"===o?"".concat(i,".").concat(c.host):c.host.split(".").map(function(e,t){return 0===t?e+"-"+i:e}).join("."),c.pathname=w(r),c.hash=w(a);var s,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(n||[]);try{for(u.s();!(s=u.n()).done;){var l=(0,y.default)(s.value,2),d=l[0],f=l[1];c.searchParams.set(d,f)}}catch(e){u.e(e)}finally{u.f()}return c.toString()},t.deconstructCozyWebLinkWithSlug=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flat",n=new URL(e),r="nested"===t?n.host.split(".")[0]:n.host.split(".")[0].split("-")[1],a="nested"===t?n.host.split(".")[1]:n.host.split(".")[0].split("-")[0];return{cozyBaseDomain:n.host.split(".").slice("nested"===t?2:1).join("."),cozyName:a,pathname:n.pathname,hash:n.hash,protocol:n.protocol,searchParams:n.searchParams.toString(),slug:r}},t.deconstructRedirectLink=function(e){var t=e.split("#"),n=(0,y.default)(t,2),r=n[0],a=n[1],i=r.split(/\/(.*)/),o=(0,y.default)(i,2),c=o[0],s=o[1];if(!c.match(/^[a-z0-9]+$/))throw new k(e);return{slug:c,pathname:s,hash:a}};var k=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Invalid redirect link ".concat(e))).redirectLink=e,r}return n}((0,v.default)(Error));t.InvalidRedirectLinkError=k;var x=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Invalid URL protocol ".concat(e.protocol))).url=e,r}return n}((0,v.default)(Error));t.InvalidProtocolError=x;var O=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Blocked cozy ".concat(e.toString()))).url=e,r}return n}((0,v.default)(Error));t.BlockedCozyError=O;var _=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"URL ".concat(e.toString()," does not seem to be a valid Cozy URL"))).url=e,r}return n}((0,v.default)(Error));t.InvalidCozyUrlError=_;var E=function(e){var t=e.protocol,n=e.hostname,r=e.port;return(""!==t?"".concat(t,"//"):"https://")+n+(""!==r?":".concat(r):"")},C=(r=(0,d.default)(l.default.mark(function e(t){var n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E(t)+"/public/prelogin");case 2:if(r=(n=e.sent).status,a=n.url,404!==r){e.next=6;break}throw new _(t);case 6:return e.next=8,S(n);case 8:if(!e.sent){e.next=10;break}throw new O(t);case 10:if(200===r){e.next=12;break}return e.abrupt("return");case 12:if(!(a&&t.origin!==new URL(a).origin)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!(!(i=n.headers.get("content-type"))||-1===i.indexOf("application/json"))){e.next=18;break}return e.abrupt("return",!1);case 18:return e.abrupt("return",n.json());case 19:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});a=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return n=e.sent,e.abrupt("return",n.rootUrl);case 4:case"end":return e.stop()}},e)})),t.rootCozyUrl=function(e){return a.apply(this,arguments)};var S=(i=(0,d.default)(l.default.mark(function e(t){var n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(503===t.status){e.next=2;break}return e.abrupt("return",!1);case 2:return a=(r=t.headers.get("content-type"))&&r.indexOf("json")>=0,e.next=6,a?t.json():t.text();case 6:if(!(null!=(i=e.sent)&&null!=(n=i.some)&&n.call(i,function(e){return"Blocked"===e.title}))){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),P=function(e){if(!["http:","https:"].includes(e.protocol))throw new x(e)},A=function(e){var t=e.hostname.split("."),n=(0,u.default)(t),r=n[0],a=n.slice(1),i=[r.replace(/-.+/,"")].concat((0,s.default)(a)).join(".");return new URL(E({protocol:e.protocol,hostname:i,port:e.port}))},D=function(e){var t=e.hostname.split(".").splice(1).join(".");return new URL(E({protocol:e.protocol,hostname:t,port:e.port}))},T=(o=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(t),e.next=3,C(t);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",{rootUrl:new URL(E({protocol:t.protocol,hostname:t.hostname,port:t.port})),isOIDC:n.OIDC});case 6:if(!/^[^.-][^.]+-[^.-]+\./.test(t.hostname)){e.next=13;break}return r=A(t),e.next=10,C(r);case 10:if(!(a=e.sent)){e.next=13;break}return e.abrupt("return",{rootUrl:r,isOIDC:a.OIDC});case 13:return i=D(t),e.next=16,C(i);case 16:if(!(o=e.sent)){e.next=19;break}return e.abrupt("return",{rootUrl:i,isOIDC:o.OIDC});case 19:throw new _(t);case 20:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});t.fetchRegistrationDetails=T},88689:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.queryConnectFlat=t.queryConnect=t.withClient=void 0;var i=a(n(26396)),o=a(n(16193)),c=r(n(96540)),s=a(n(95875)),u=a(n(71382)),l=a(n(60023)),d=a(n(89248)),f=n(54703),p=a(n(95527));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.withClient=function(e){var t=function(t){var n=(0,d.default)();return c.default.createElement(e,(0,o.default)({},t,{client:n}))};return t.displayName="withClient(".concat(e.displayName||e.name,")"),t};var v=function(e,t,n){if(!t)throw Error("withQuery has no options for ".concat(e," (wrapping ").concat(n.name,")"));return function(n){var r=function(r,a){if(!a.client)throw Error("Should be used with client in context (use CozyProvider to set context)");var o="function"==typeof t?t(r):t;return t.doc?(p.default.warn("queryOpts.doc is deprecated"),c.default.createElement(n,m((0,i.default)({},e,o.doc),r))):c.default.createElement(l.default,o,function(t){return c.default.createElement(n,m((0,i.default)({},e,t),r))})};return r.contextTypes={client:s.default.object},r.displayName="withQuery(".concat(n.displayName||n.name,")"),r}};t.queryConnect=function(e){return function(t){var n=Object.keys(e).map(function(n){return v(n,e[n],t)});return u.default.apply(null,n)(t)}},t.queryConnectFlat=function(e){return function(t){var n=function(n){var r=(0,f.useQueries)(e);return c.default.createElement(t,(0,o.default)({},n,r))};return n.displayName="queryConnectFlat(".concat(t.displayName||t.name,")"),n}}},53733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(96540);t.default=function(){var e=(0,r.useRef)();return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e}},20307:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=n(96540),o=r(n(53733));t.default=function(e){var t=(0,o.default)(),n=(0,i.useState)(e),r=(0,a.default)(n,2),c=r[0],s=r[1];return[c,(0,i.useCallback)(function(e){t.current&&s(e)},[])]}},81296:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAppLinkWithStoreFallback",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useCapabilities",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useFetchShortcut",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"useFetchHomeShortcuts",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useClient",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useQuery",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useQueries",{enumerable:!0,get:function(){return l.useQueries}}),Object.defineProperty(t,"useAppsInMaintenance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useQueryAll",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"useMutation",{enumerable:!0,get:function(){return p.useMutation}}),Object.defineProperty(t,"useInstanceInfo",{enumerable:!0,get:function(){return h.useInstanceInfo}}),Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return m.useSettings}});var i=a(n(5477)),o=a(n(51413)),c=a(n(56273)),s=a(n(22321)),u=a(n(89248)),l=r(n(54703)),d=a(n(48669)),f=a(n(6e3)),p=n(10696),h=n(76288),m=n(68519)},5477:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=n(11071),u=n(57615);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,c.useState)("loading"),l=(0,o.default)(r,2),d=l[0],f=l[1],p=(0,c.useState)(!0),h=(0,o.default)(p,2),m=h[0],v=h[1],y=(0,c.useState)(null),g=(0,o.default)(y,2),b=g[0],w=g[1];return(0,c.useEffect)(function(){var r;(r=(0,i.default)(a.default.mark(function r(){var i,o,c;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.query((0,s.Q)("io.cozy.apps"));case 3:i=r.sent,o={slug:e},v(!!(c=(0,u.isInstalled)(i.data,o))),c?w((0,u.getUrl)(c)+n):w((0,u.getStoreURL)(i.data,o)),f("loaded"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),f("errored");case 14:case"end":return r.stop()}},r,null,[[0,11]])})),function(){return r.apply(this,arguments)})()},[t,e,n]),{fetchStatus:d,isInstalled:m,url:b}}},48669:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(54703)),i=n(11071),o=r(n(6023));t.default=function(){return(0,a.default)((0,i.Q)("io.cozy.apps_registry").getById("maintenance"),{as:"io.cozy.apps_registry/maintenance",fetchPolicy:o.default.fetchPolicies.olderThan(6e5),singleDocData:!1}).data||[]}},51413:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=r(n(58156)),u=n(11071);t.default=function(e){var t=(0,c.useState)(),n=(0,o.default)(t,2),r=n[0],l=n[1],d=(0,c.useState)("idle"),f=(0,o.default)(d,2),p=f[0],h=f[1];return(0,c.useEffect)(function(){var t,n=(t=(0,i.default)(a.default.mark(function t(){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h("loading"),t.prev=1,t.next=4,e.query((0,u.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities"));case 4:n=t.sent,l((0,s.default)(n,"data",{})),h("loaded"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),h("failed");case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return t.apply(this,arguments)});e.capabilities?(l(e.capabilities),h("loaded")):n()},[e]),{capabilities:r,fetchStatus:p}}},89248:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(96540),i=r(n(29140));r(n(6023)),t.default=function(){return(0,a.useContext)(i.default).client}},22321:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(54703)),o=n(11071);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=r(n(6023)).default.fetchPolicies.olderThan(3e4);t.default=function(){var e,t,n={query:(0,o.Q)("io.cozy.files").where({path:"/Settings/Home"}).indexFields(["path"]),as:"io.cozy.files/path/Settings/Home",fetchPolicy:u},r=(0,i.default)(n.query,n),a=null==r||null==(e=r.data)||null==(t=e[0])?void 0:t._id,c={query:(0,o.Q)("io.cozy.files").where({dir_id:a,class:"shortcut"}).indexFields(["dir_id","class"]),as:"io.cozy.files/dir_id/".concat(a,"/class/shortcut"),fetchPolicy:u};return(0,i.default)(c.query,s(s({},c),{},{enabled:!!a})).data||[]}},56273:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=n(11071),u=r(n(6023));t.default=function(e,t){var n=(0,c.useState)(null),r=(0,o.default)(n,2),l=r[0],d=r[1],f=(0,c.useState)(null),p=(0,o.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)("idle"),y=(0,o.default)(v,2),g=y[0],b=y[1];return(0,c.useEffect)(function(){var n;(n=(0,i.default)(a.default.mark(function n(){var r,i,o,c,l,f;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return b("loading"),n.prev=1,n.next=4,e.fetchQueryAndGetFromState({definition:(0,s.Q)("io.cozy.files.shortcuts").getById(t),options:{as:"io.cozy.files.shortcuts/".concat(t),fetchPolicy:u.default.fetchPolicies.olderThan(6e5),singleDocData:!0}});case 4:if(!(l=null==(c=n.sent)||null==(r=c.data)||null==(i=r.metadata)||null==(o=i.target)?void 0:o.app)){n.next=13;break}return n.next=9,e.getStackClient().getIconURL({type:"app",slug:l,priority:"stack"});case 9:m(n.sent),n.next=16;break;case 13:f=new URL(c.data.url),m("".concat(e.getStackClient().uri,"/bitwarden/icons/").concat(f.host,"/icon.png"));case 16:d({data:c.data}),b("loaded"),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(1),b("failed");case 23:case"end":return n.stop()}},n,null,[[1,20]])})),function(){return n.apply(this,arguments)})()},[e,t]),{shortcutInfos:l,shortcutImg:h,fetchStatus:g}}},76288:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useInstanceInfo=void 0;var a=r(n(54703)),i=r(n(6023)),o=n(11071),c=n(42314);t.useInstanceInfo=function(){var e=s("io.cozy.settings.instance"),t=(0,a.default)(e.definition,e.options),n=s("io.cozy.settings.context"),r=(0,a.default)(n.definition,n.options),i=s("io.cozy.settings.disk-usage"),o=(0,a.default)(i.definition,i.options);return{isLoaded:null!==(0,c.hasQueryBeenLoaded)(t)&&null!==(0,c.hasQueryBeenLoaded)(r)&&null!==(0,c.hasQueryBeenLoaded)(o),instance:{data:t.data},context:{data:r.data},diskUsage:{data:o.data}}};var s=function(e){return{definition:(0,o.Q)("io.cozy.settings").getById(e),options:{as:"io.cozy.settings/".concat(e),fetchPolicy:i.default.fetchPolicies.olderThan(54e4),singleDocData:!0}}}},10696:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useMutation=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=r(n(95875)),u=r(n(89248)),l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onSuccess,r=void 0===n?void 0:n,s=t.onError,l=void 0===s?void 0:s,d=(0,u.default)(),f=(0,c.useState)("pending"),p=(0,o.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)(),y=(0,o.default)(v,2),g=y[0],b=y[1],w=(0,c.useState)(),k=(0,o.default)(w,2),x=k[0],O=k[1];return{mutate:(0,c.useCallback)((e=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(void 0),m("loading"),e.prev=2,e.next=5,d.save(t);case 5:if(O((n=e.sent).data),"function"!=typeof r){e.next=10;break}return e.next=10,r(n.data);case 10:m("loaded"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(2),m("failed"),b(e.t0),"function"!=typeof l){e.next=20;break}return e.next=20,l(e.t0);case 20:case"end":return e.stop()}},e,null,[[2,13]])})),function(t){return e.apply(this,arguments)}),[d,l,r]),mutationStatus:h,error:g,data:x}};t.useMutation=l,l.propTypes={onSuccess:s.default.func,onError:s.default.func}},54703:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useQueries=void 0;var a=r(n(22056)),i=r(n(26396)),o=n(96540),c=n(17401),s=r(n(58156)),u=r(n(89248)),l=r(n(95527)),d=n(29140);n(11071);var f=n(43832);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,c.createSelectorHook)(d.clientContext),v=function(e,t){if(!m)throw Error("You must use react-redux > 7.1.0 to use useQuery (uses useSelector) under the hood");if(!e)throw l.default.warn("Bad query",e),Error("Bad query");var n=t.as,r=t.enabled,a=void 0===r||r,i=a?"function"==typeof e?e():e:null;if(!n)throw Error("You must specify options.as when using useQuery");var c=(0,u.default)(),d=m(function(){return void 0===t.singleDocData&&null!=i&&i.id&&l.default.warn("useQuery options.singleDocData will pass to true in a next version of cozy-client, please add it now to prevent any problem in the future."),c.getQueryFromState(n,{hydrated:(0,s.default)(t,"hydrated",!0),singleDocData:(0,s.default)(t,"singleDocData",!1)})},f.equalityCheckForQuery);(0,o.useEffect)(function(){!1!==a&&c.query(i,t)},[n,a]);var p=(0,o.useCallback)(function(){var e=c.getQueryFromState(n);return c.query(e.bookmark?e.definition.offsetBookmark(e.bookmark):e.definition.offset(e.data.length),{as:n})},[n,c]),v=(0,o.useCallback)(function(){return c.query(i,t)},[c,i,t]);return h(h({},d),{},{fetchMore:p,fetch:v})};t.useQueries=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=(0,a.default)(r[n],2),o=i[0],c=i[1];t[o]=v(c.query,c)}return t},t.default=v},6e3:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540);n(11071);var s=r(n(54703)),u=r(n(20307));t.default=function(e,t){var n=(0,u.default)(!1),r=(0,o.default)(n,2),l=r[0],d=r[1],f=(0,s.default)(e,t);return(0,c.useEffect)(function(){var e;(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("loaded"===f.fetchStatus&&f.hasMore&&!l)){e.next=5;break}return d(!0),e.next=4,f.fetchMore();case 4:d(!1);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[f.hasMore,f.fetchStatus,l]),f}},68519:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=void 0;var a=r(n(39892)),i=n(96540),o=n(88237),c=n(10696),s=r(n(54703)),u=n(42314),l=n(39472);t.useSettings=function(e,t){var n=(0,o.getQuery)(e),r=(0,s.default)(n.definition,n.options),d=r.data,f=(0,a.default)(r,["data"]),p=(0,c.useMutation)(),h=p.mutate,m=(0,a.default)(p,["mutate"]),v=(0,i.useCallback)(function(t){var n=(0,o.normalizeSettings)(d);return h((0,o.editSettings)(e,n,t))},[h,d,e]),y=(0,o.normalizeSettings)(d),g=(0,u.hasQueryBeenLoaded)(f)?(0,l.extractKeys)(y,t):void 0;return{query:f,values:g,save:v,mutation:m}}},42895:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0});var i={CozyLink:!0,StackLink:!0,WebFlagshipLink:!0,DataProxyLink:!0,compose:!0,QueryDefinition:!0,Q:!0,Mutations:!0,MutationTypes:!0,getDoctypeFromOperation:!0,Association:!0,HasMany:!0,HasOne:!0,HasOneInPlace:!0,HasManyInPlace:!0,HasManyTriggers:!0,isReferencedBy:!0,isReferencedById:!0,getReferencedBy:!0,getReferencedById:!0,deconstructCozyWebLinkWithSlug:!0,deconstructRedirectLink:!0,dehydrate:!0,generateWebLink:!0,ensureFirstSlash:!0,fetchRegistrationDetails:!0,rootCozyUrl:!0,InvalidRedirectLinkError:!0,InvalidCozyUrlError:!0,InvalidProtocolError:!0,BlockedCozyError:!0,cancelable:!0,isQueryLoading:!0,hasQueryBeenLoaded:!0,isQueriesLoading:!0,hasQueriesBeenLoaded:!0,getQueryFromState:!0,dispatchCreate:!0,dispatchUpdate:!0,dispatchDelete:!0,Registry:!0,RealTimeQueries:!0,manifest:!0,CozyProvider:!0,withMutation:!0,withMutations:!0,Query:!0,queryConnect:!0,queryConnectFlat:!0,withClient:!0,models:!0,fetchPolicies:!0,BulkEditError:!0,webPerformanceApi:!0,defaultPerformanceApi:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"CozyLink",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackLink",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WebFlagshipLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"DataProxyLink",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"compose",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"QueryDefinition",{enumerable:!0,get:function(){return f.QueryDefinition}}),Object.defineProperty(t,"Q",{enumerable:!0,get:function(){return f.Q}}),Object.defineProperty(t,"Mutations",{enumerable:!0,get:function(){return f.Mutations}}),Object.defineProperty(t,"MutationTypes",{enumerable:!0,get:function(){return f.MutationTypes}}),Object.defineProperty(t,"getDoctypeFromOperation",{enumerable:!0,get:function(){return f.getDoctypeFromOperation}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return p.Association}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return p.HasMany}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return p.HasOne}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return p.HasOneInPlace}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return p.HasManyInPlace}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return p.HasManyTriggers}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return h.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return h.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return h.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return h.getReferencedById}}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return m.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return m.deconstructRedirectLink}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return m.dehydrate}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return m.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return m.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return m.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return m.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return m.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return m.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return m.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return m.BlockedCozyError}}),Object.defineProperty(t,"cancelable",{enumerable:!0,get:function(){return v.cancelable}}),Object.defineProperty(t,"isQueryLoading",{enumerable:!0,get:function(){return v.isQueryLoading}}),Object.defineProperty(t,"hasQueryBeenLoaded",{enumerable:!0,get:function(){return v.hasQueryBeenLoaded}}),Object.defineProperty(t,"isQueriesLoading",{enumerable:!0,get:function(){return v.isQueriesLoading}}),Object.defineProperty(t,"hasQueriesBeenLoaded",{enumerable:!0,get:function(){return v.hasQueriesBeenLoaded}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return y.getQueryFromState}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return y.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return y.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return y.dispatchDelete}}),Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"RealTimeQueries",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"withMutation",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"withMutations",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"queryConnect",{enumerable:!0,get:function(){return _.queryConnect}}),Object.defineProperty(t,"queryConnectFlat",{enumerable:!0,get:function(){return _.queryConnectFlat}}),Object.defineProperty(t,"withClient",{enumerable:!0,get:function(){return _.withClient}}),Object.defineProperty(t,"fetchPolicies",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"BulkEditError",{enumerable:!0,get:function(){return P.BulkEditError}}),Object.defineProperty(t,"webPerformanceApi",{enumerable:!0,get:function(){return A.webPerformanceApi}}),Object.defineProperty(t,"defaultPerformanceApi",{enumerable:!0,get:function(){return D.defaultPerformanceApi}}),t.models=t.manifest=void 0;var o=a(n(6023)),c=a(n(20842)),s=a(n(10169)),u=a(n(51111)),l=a(n(23229)),d=a(n(49870)),f=n(11071),p=n(20032),h=n(6205),m=n(88237),v=n(42314),y=n(55477),g=a(n(41520)),b=a(n(99900));t.manifest=r(n(23721));var w=a(n(62442)),k=a(n(29192)),x=a(n(46903)),O=a(n(60023)),_=n(88689);t.models=r(n(78690));var E=a(n(1769)),C=n(50661);Object.keys(C).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}})});var S=n(81296);Object.keys(S).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}})});var P=n(36280),A=n(10683),D=n(46728)},20842:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.chain=t.default=void 0;var a=r(n(21259)),i=r(n(92207)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=function(){var e,t,n;function r(e,t){(0,c.default)(this,r),"function"==typeof e&&(this.request=e),"function"==typeof t&&(this.persistCozyData=t)}return(0,s.default)(r,[{key:"request",value:(e=(0,o.default)(i.default.mark(function e(t,n,r,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("request is not implemented");case 1:case"end":return e.stop()}},e)})),function(t,n,r,a){return e.apply(this,arguments)})},{key:"persistCozyData",value:(t=(0,o.default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("persistCozyData is not implemented");case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})},{key:"reset",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("reset is not implemented");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),r}();t.default=u;var l=function(e){return"function"==typeof e?new u(e):e},d=new u(function(e,t,n){if(n)return n;if(e.execute)return e.execute();throw Error("No link could handle operation ".concat(JSON.stringify(e)))},function(e,t){});t.chain=function(e){return[].concat((0,a.default)(e),[d]).map(l).reduce(f)};var f=function(e,t){return new u(function(n,r,a,i){return e.request(n,r,a,function(e,n,r){return t.request(e,n,r,i)})},function(n,r){return e.persistCozyData(n,function(e){return t.persistCozyData(e,r)})})}},23229:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(20842)),h=r(n(40918));t.default=function(e){(0,u.default)(g,e);var t,n,r,p,m,v,y=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(g);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dataproxy;return(0,o.default)(this,g),e=y.call(this),(0,f.default)((0,s.default)(e),"_onReceiveMessage",function(t){if(t.origin.includes("dataproxy")){var n=null==t?void 0:t.data;n&&"object"==typeof n&&"DATAPROXYMESSAGE"===n.type&&"READY"===n.payload&&(h.default.info("Received message: DataProxy is ready"),e._flushQueue())}}),e.dataproxy=n||null,e._queue=[],e._drainingRequests=!1,window&&window.addEventListener("message",e._onReceiveMessage),e}return(0,c.default)(g,[{key:"registerClient",value:function(e){}},{key:"registerDataProxy",value:function(e){this.dataproxy=e,this._flushQueue()}},{key:"reset",value:(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,i.default)(a.default.mark(function e(t,n,r,i){var o,c=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(o=this.dataproxy)&&o.requestLink)){e.next=2;break}return e.abrupt("return",this.doRequest(t,n));case 2:return e.abrupt("return",new Promise(function(e,r){c._queue.push({operation:t,options:n,resolve:e,reject:r})}));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"doRequest",value:(p=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},i=performance.now(),e.next=4,this.dataproxy.requestLink(t,r);case 4:return o=e.sent,c=performance.now(),h.default.info("Request query took ".concat(c-i," ms")),e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"persistCozyData",value:(m=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})},{key:"_flushQueue",value:(v=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(null!=(t=this.dataproxy)&&t.requestLink)||this._queue.length<1)){e.next=2;break}return e.abrupt("return");case 2:h.default.info("Execute ".concat(this._queue.length," delayed requests")),this._drainingRequests=!0,e.prev=4;case 5:if(!(this._queue.length>0)){e.next=19;break}return r=(n=this._queue.shift()).operation,i=n.options,o=n.resolve,c=n.reject,e.prev=7,e.next=10,this.doRequest(r,i);case 10:s=e.sent,o(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),c(e.t0);case 17:e.next=5;break;case 19:return e.prev=19,this._drainingRequests=!1,this._queue.length>0&&this._flushQueue(),e.finish(19);case 23:case"end":return e.stop()}},e,this,[[4,,19,23],[7,14]])})),function(){return v.apply(this,arguments)})}]),g}(p.default)},10169:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transformBulkDocsResponse=void 0;var a=r(n(39892)),i=r(n(92207)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(30307)),h=n(11071),m=r(n(20842)),v=n(148),y=n(36280),g=r(n(95527)),b=n(42314),w=n(46728);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=function(e){var t=e.selector,n=e.partialFilter,r=e.sort,a=e.fields;return!!t||!!n||!!r||!!a},_=function(e,t){var n=(0,p.default)(e,t,function(e,t){return e.ok?x(x({},t),{},{_id:e.id,_rev:e.rev}):t});if(e.find(function(e){return!e.ok}))throw new y.BulkEditError(e,n);return{data:n}};t.transformBulkDocsResponse=_,t.default=function(e){(0,u.default)(y,e);var t,n,r,f,p,m=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(y);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.client,r=t.stackClient,a=t.platform,i=t.performanceApi;return(0,c.default)(this,y),e=m.call(this),n&&g.default.warn("Using options.client is deprecated, prefer options.stackClient"),e.stackClient=r||n,e.isOnline=null==a?void 0:a.isOnline,e.performanceApi=i||w.defaultPerformanceApi,e}return(0,s.default)(y,[{key:"registerClient",value:function(e){this.stackClient=e.stackClient||e.client}},{key:"reset",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.stackClient=null;case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,o.default)(i.default.mark(function e(t,n,r,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!=n&&n.forceStack)&&this.isOnline,!e.t0){e.next=5;break}return e.next=4,this.isOnline();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",a(t,n));case 7:if(e.prev=7,!t.mutationType){e.next=12;break}return e.next=11,this.executeMutation(t,n,r,a);case 11:case 14:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeQuery(t);case 17:if(e.prev=17,e.t1=e.catch(7),!(!(null!=n&&n.forceStack)&&(0,b.isReactNativeOfflineError)(e.t1))){e.next=21;break}return e.abrupt("return",a(t,n));case 21:throw e.t1;case 22:case"end":return e.stop()}},e,this,[[7,17]])})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"persistCozyData",value:(f=(0,o.default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(t));case 1:case"end":return e.stop()}},e)})),function(e,t){return f.apply(this,arguments)})},{key:"executeQuery",value:function(e){var t=e.doctype,n=e.selector,r=e.id,i=e.ids,o=e.referenced,c=e.sharingId,s=x(x({},(0,a.default)(e,["doctype","selector","id","ids","referenced","sharingId"])),{},{driveId:void 0});if(!t)throw g.default.warn("Bad query",e),Error("No doctype found in a query definition");t===v.DOCTYPE_FILES&&c&&(s=x(x({},s),{},{driveId:c}));var u=this.stackClient.collection(t,s);return r?u.get(r,e):i?u.getAll(i):o?u.findReferencedBy(o,s):O(e)?u.find(n,s):u.all(s)}},{key:"executeMutation",value:(p=(0,o.default)(i.default.mark(function e(t,n,r,o){var c,s,u,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=t.mutationType,s=t.document,u=t.documents,l=(0,a.default)(t,["mutationType","document","documents"]),e.t0=c,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?5:e.t0===h.MutationTypes.UPDATE_DOCUMENT?9:e.t0===h.MutationTypes.DELETE_DOCUMENT?10:e.t0===h.MutationTypes.DELETE_DOCUMENTS?11:e.t0===h.MutationTypes.ADD_REFERENCES_TO?12:e.t0===h.MutationTypes.REMOVE_REFERENCES_TO?13:e.t0===h.MutationTypes.ADD_REFERENCED_BY?14:e.t0===h.MutationTypes.REMOVE_REFERENCED_BY?19:e.t0===h.MutationTypes.UPLOAD_FILE?24:25;break;case 4:return e.abrupt("return",this.stackClient.collection(s._type).create(s));case 5:return e.next=7,this.stackClient.collection(u[0]._type).updateAll(u);case 7:return d=e.sent,e.abrupt("return",_(d,u));case 9:return e.abrupt("return",this.stackClient.collection(s._type).update(s));case 10:return e.abrupt("return",this.stackClient.collection(s._type).destroy(s));case 11:return e.abrupt("return",this.stackClient.collection(s._type).destroyAll(u));case 12:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).addReferencesTo(s,l.referencedDocuments));case 13:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).removeReferencesTo(s,l.referencedDocuments));case 14:if(s._type!==v.DOCTYPE_FILES){e.next=18;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).addReferencedBy(s,l.referencedDocuments));case 18:case 23:throw Error("The document type should be io.cozy.files");case 19:if(s._type!==v.DOCTYPE_FILES){e.next=23;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).removeReferencedBy(s,l.referencedDocuments));case 24:return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).upload(l.file,l.dirPath));case 25:return e.abrupt("return",o(t,n,r));case 26:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return p.apply(this,arguments)})}]),y}(m.default)},51111:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337));t.default=function(e){(0,s.default)(p,e);var t,n,r,d,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(p);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.webviewIntent;return(0,o.default)(this,p),(e=f.call(this)).webviewIntent=n,e}return(0,c.default)(p,[{key:"registerClient",value:function(e){}},{key:"reset",value:(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,i.default)(a.default.mark(function e(t,n,r,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webviewIntent.call("flagshipLinkRequest",t,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"persistCozyData",value:(d=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})}]),p}(r(n(20842)).default)},95527:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i=(0,a.default)("cozy-client");a.default.suggest.deny("cozy-client","info"),t.default=i},50661:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.createFakeClient=t.createMockClient=void 0;var a=r(n(22056)),i=r(n(92207)),o=r(n(79092)),c=r(n(26396)),s=r(n(39892)),u=r(n(55364)),l=r(n(6023)),d=n(55477),f=n(98017),p=n(11071);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=function(e,t,n){var r=n.definition,a=n.doctype,i=n.data,o=n.queryError,u=(0,s.default)(n,["definition","doctype","data","queryError"]);e.store.dispatch((0,d.initQuery)(t,r||(0,p.Q)(a))),o?e.store.dispatch((0,d.receiveQueryError)(t,o)):e.store.dispatch((0,d.receiveQueryResult)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({data:i?i.map(function(e){return(0,f.normalizeDoc)(e,a)}):i},u)))},v=function(e){var t;return t=(0,o.default)(i.default.mark(function t(n){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{data:null});case 2:if(!e[n.doctype]){t.next=6;break}return t.abrupt("return",{data:e[n.doctype]});case 6:return t.abrupt("return",{data:[]});case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}};t.createMockClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,n=e.remote,r=e.clientOptions,a=e.clientFunctions,i=jest.fn().mockImplementation(v(n));return y({queries:t,remote:n,clientOptions:r,clientFunctions:(0,u.default)({query:i,save:jest.fn(),saveAll:jest.fn(),stackClient:{fetchJSON:jest.fn()}},a)})};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,n=e.remote,r=e.clientOptions,i=e.clientFunctions,o=new l.default(r||{});o.ensureStore();for(var c=0,s=Object.entries(t||{});c<s.length;c++){var d=(0,a.default)(s[c],2);m(o,d[0],d[1])}return o.query=v(n),(0,u.default)(o,i),o};t.createFakeClient=y},47881:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isAccountWithTrigger=t.buildAccount=t.getAccountName=t.getAccountLogin=t.setContractSyncStatusInAccount=t.getContractSyncStatusFromAccount=t.muteError=t.getMutedErrors=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(26396)),s=a(n(55364)),u=n(11071),l=n(52043),d=n(23721);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return(null==e?void 0:e.mutedErrors)||[]};t.getMutedErrors=m,t.muteError=function(e,t){var n=m(e);return n.push({type:t,mutedAt:new Date().toISOString()}),h(h({},e),{},{mutedErrors:n})},t.getContractSyncStatusFromAccount=function(e,t){var n,r,a=(0,l.getHasManyItem)(e,"contracts",t);if(!a)throw Error("Cannot find contrat ".concat(t," in account"));return null==(n=null==a||null==(r=a.metadata)?void 0:r.imported)||n},t.setContractSyncStatusInAccount=function(e,t,n){return(0,l.updateHasManyItem)(e,"contracts",t,function(e){if(void 0===e)throw Error("Cannot find contrat ".concat(t," in account"));return(0,s.default)({},e,{metadata:{imported:n}})})};var v=function(e){if(e.identifier)return e.auth[e.identifier];if(e&&e.auth){var t,n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(d.legacyLoginFields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.auth[r])return e.auth[r]}}catch(e){n.e(e)}finally{n.f()}}return null};t.getAccountLogin=v,t.getAccountName=function(e){return e?e.auth&&(e.auth.accountName||v(e))||e._id:null},t.buildAccount=function(e,t){return{auth:t,account_type:e.slug,identifier:(0,d.getIdentifier)(e.fields),state:null}},r=(0,o.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,u.Q)("io.cozy.triggers").where({"message.account":n._id}).indexFields(["message.account"]).limitBy(1));case 2:return r=e.sent,e.abrupt("return",r.data.length>0);case 4:case"end":return e.stop()}},e)})),t.isAccountWithTrigger=function(e,t){return r.apply(this,arguments)}},7806:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.chatCompletion=t.extractText=void 0;var o=i(n(26396)),c=i(n(92207)),s=i(n(79092));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}i(n(6023)),r=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",n,r.name),a.append("tool",JSON.stringify({name:"extractText"})),a.append("metadata",JSON.stringify({mime:r.mime,name:r.name})),e.next=6,t.stackClient.fetch("POST","/ai/v1/tools/execute",a,{body:a});case 6:if((i=e.sent).ok){e.next=12;break}return e.next=10,null==(o=i.text)?void 0:o.call(i);case 10:throw s=e.sent,Error("Failed to extract text: ".concat(i.statusText,". ").concat(s));case 12:return e.next=14,i.json();case 14:return u=e.sent,e.abrupt("return",u.message);case 16:case"end":return e.stop()}},e)})),t.extractText=function(e,t,n){return r.apply(this,arguments)},a=(0,s.default)(c.default.mark(function e(t,n){var r,a,i=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({messages:n},i.length>2&&void 0!==i[2]?i[2]:{}),e.prev=2,e.next=5,t.stackClient.fetchJSON("POST","/ai/v1/chat/completions",r);case 5:return a=e.sent,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(2),Error("Failed to generate chat completion: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[2,9]])})),t.chatCompletion=function(e,t){return a.apply(this,arguments)}},57615:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.filterEntrypoints=t.selectEntrypoints=t.shouldDisplayEntrypoint=t.checkEntrypointCondition=t.sortApplicationsList=t.getAppDisplayName=t.getUrl=t.isInstalled=t.getStoreInstallationURL=t.getStoreURL=void 0;var a=r(n(21259)),i=r(n(94619)),o=r(n(58156)),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var n=s(e,{slug:"store"});if(!n)return null;var r=n.links&&n.links.related;return r?"".concat(r,"#/discover/").concat(t.slug):null};t.getStoreURL=c,t.getStoreInstallationURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(e,t);return n?"".concat(n,"/install"):null};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.slug===t.slug})};t.isInstalled=s,t.getUrl=function(e){return e.links&&e.links.related},t.getAppDisplayName=function(e,t){var n=(0,o.default)(e,"name_prefix"),r=(0,o.default)(e,"name"),a=(0,o.default)(e,["locales",t,"name"],r),i=(0,o.default)(e,["locales",t,"name_prefix"],n);return i&&"cozy"!==i.toLowerCase()&&"twake"!==i.toLowerCase()?"".concat(i," ").concat(a):a},t.sortApplicationsList=function(e,t){return(0,a.default)(e).sort(function(e,n){var r=t.indexOf(e.slug);-1===r&&(r=1e3);var a=t.indexOf(n.slug);return -1===a&&(a=1e3),r-a})};var u=function(e){return"flag"===e.type&&(0,i.default)(e.name)===e.value};t.checkEntrypointCondition=u;var l=function(e){return(e.conditions||[]).every(function(e){return u(e)})};t.shouldDisplayEntrypoint=l,t.selectEntrypoints=function(e,t){return e.filter(function(e){return t.includes(e.name)})},t.filterEntrypoints=function(e){return e.filter(function(e){return l(e)})}},54922:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.editAssistant=t.deleteAssistant=t.createAssistant=void 0;var c=o(n(26396)),s=o(n(92207)),u=o(n(79092));o(n(6023));var l=n(11071),d=o(n(95527));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r=(0,u.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,a={_type:"io.cozy.accounts",auth:{login:n.model,password:n.apiKey},data:{baseUrl:n.baseUrl}},e.next=5,t.save(a);case 5:if(!(!(i=e.sent).data||!i.data._id)){e.next=8;break}throw Error("Failed to create account for assistant");case 8:return r=i.data._id,o={_type:"io.cozy.ai.chat.assistants",name:n.name,prompt:n.prompt,icon:n.icon||null,isCustomModel:n.isCustomModel,relationships:{provider:{data:{_type:"io.cozy.accounts",_id:r}}}},e.next=12,t.save(o);case 12:e.next=26;break;case 14:if(e.prev=14,e.t0=e.catch(1),!r){e.next=25;break}return e.prev=17,e.next=20,t.stackClient.collection("io.cozy.accounts").destroy({_id:r});case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(17),d.default.warn("Failed to cleanup orphaned account:",e.t1);case 25:throw Error("Failed to create assistant: ".concat(e.t0.message));case 26:case"end":return e.stop()}},e,null,[[1,14],[17,22]])})),t.createAssistant=function(e,t){return r.apply(this,arguments)},a=(0,u.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.query((0,l.Q)("io.cozy.ai.chat.assistants").getById(n).include(["provider"]));case 3:return i=(a=e.sent).data,o=null==(r=a.included)?void 0:r[0],e.next=8,t.stackClient.collection("io.cozy.ai.chat.assistants").destroy({_id:n,_rev:i._rev});case 8:if(!(null!=o&&o._id&&null!=o&&o._rev)){e.next=11;break}return e.next=11,t.stackClient.collection("io.cozy.accounts").destroy({_id:o._id,_rev:o._rev});case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),Error("Failed to delete assistant: ".concat(e.t0.message));case 16:case"end":return e.stop()}},e,null,[[0,13]])})),t.deleteAssistant=function(e,t){return a.apply(this,arguments)},i=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o,c,u,d,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.query((0,l.Q)("io.cozy.ai.chat.assistants").getById(n).include(["provider"]));case 3:if(i=e.sent){e.next=6;break}throw Error("Assistant not found");case 6:if(o=i.data,c=null==i||null==(a=i.included)?void 0:a[0]){e.next=10;break}throw Error("Provider account not found for assistant");case 10:return u=p(p({},c),{},{auth:p(p({},c.auth||{}),{},{login:r.model}),data:p(p({},c.data||{}),{},{baseUrl:r.baseUrl})}),r.apiKey&&(u.auth.password=r.apiKey),e.next=14,t.save(u);case 14:if(!(!(d=e.sent).data||!d.data._id)){e.next=17;break}throw Error("Failed to edit account for assistant");case 17:return f=p(p({},o),{},{name:r.name,prompt:r.prompt,icon:r.icon||null,isCustomModel:r.isCustomModel}),e.next=20,t.save(f);case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(0),Error("Failed to edit assistant: ".concat(e.t0.message));case 25:case"end":return e.stop()}},e,null,[[0,22]])})),t.editAssistant=function(e,t,n){return i.apply(this,arguments)}},65864:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasExtensionInstalledAttribute=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(11071);r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,c.Q)("io.cozy.settings").getById("io.cozy.settings.bitwarden"),options:{as:"io.cozy.settings/io.cozy.settings.bitwarden",singleDocData:!0}});case 3:return n=e.sent.data.extension_installed,e.abrupt("return",!!n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasExtensionInstalledAttribute=function(e){return r.apply(this,arguments)}},98750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMagicLink=t.isOIDC=void 0,t.isOIDC=function(e){var t;return null!=(t=e.capabilities.can_auth_with_oidc)&&t},t.isMagicLink=function(e){var t;return null!=(t=e.capabilities.can_auth_with_magic_links)&&t}},62878:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.updateIndexFullNameAndDisplayName=t.getFormattedAddress=t.cleanFormattedAddress=t.isContact=t.getIndexByFamilyNameGivenNameEmailCozyUrl=t.getDefaultSortIndexValue=t.makeDefaultSortIndexValue=t.getDisplayName=t.makeDisplayName=t.getFullname=t.makeFullname=t.getPrimaryAddress=t.getPrimaryPhone=t.getPrimaryCozyDomain=t.getPrimaryCozy=t.getPrimaryEmail=t.getInitials=t.getPrimaryOrFirst=t.CONTACTS_DOCTYPE=void 0;var a=r(n(26396)),i=r(n(58156)),o=r(n(62193)),c=r(n(95527));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="io.cozy.contacts";t.CONTACTS_DOCTYPE=l;var d=function(e){return function(t){return t&&t[e]&&0!==t[e].length&&t[e][0]?t[e].find(function(e){return e.primary})||t[e][0]:""}};t.getPrimaryOrFirst=d,t.getInitials=function(e){if(null!=e&&null!=(t=e.name)&&t.givenName||null!=e&&null!=(n=e.name)&&n.familyName)return["givenName","familyName"].map(function(t){return(0,i.default)(e,["name",t,0],"")}).join("").toUpperCase();var t,n,r=f(e);if(r)return r[0].toUpperCase();var a=h(e);return a?a[0].toUpperCase():""};var f=function(e){return Array.isArray(e.email)?d("email")(e).address||"":e.email};t.getPrimaryEmail=f;var p=function(e){return Array.isArray(e.cozy)?d("cozy")(e).url||"":e.url};t.getPrimaryCozy=p;var h=function(e){try{return new URL(p(e)).hostname.replace(/^(www.)/g,"")}catch(t){return p(e)}};t.getPrimaryCozyDomain=h,t.getPrimaryPhone=function(e){return d("phone")(e).number||""},t.getPrimaryAddress=function(e){return d("address")(e).formattedAddress||""};var m=["namePrefix","givenName","additionalName","familyName","nameSuffix"],v=function(e,t){var n=(null==t?void 0:t.attributesFullname)||m;return e.name?n.map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():""};t.makeFullname=v,t.getFullname=function(e){return(0,i.default)(e,"fullname")?e.fullname:v(e)};var y=function(e,t){var n=v(e,t),r=f(e),a=h(e);return n&&n.length>0?n:r&&r.length>0?r:a&&a.length>0?a:""};t.makeDisplayName=y,t.getDisplayName=function(e){return(0,i.default)(e,"displayName")?e.displayName:y(e)};var g=function(e){var t=[(0,i.default)(e,"name.familyName",""),(0,i.default)(e,"name.givenName",""),f(e),h(e)].join("").trim().toLowerCase();return 0===t.length?null:t};t.makeDefaultSortIndexValue=g;var b=function(e){var t=(0,i.default)(e,"indexes.byFamilyNameGivenNameEmailCozyUrl",null);return null!==t?(0,o.default)(t)?null:t:g(e)};t.getDefaultSortIndexValue=b,t.getIndexByFamilyNameGivenNameEmailCozyUrl=function(e){return c.default.warn("Deprecation: `getIndexByFamilyNameGivenNameEmailCozyUrl` is deprecated, please use `getDefaultSortIndexValue` instead"),b(e)},t.isContact=function(e){return e._type===l};var w=function(e){var t=e.replace(/\s+/g," ").replace(/\s,/g,"").trim();return t.lastIndexOf(",")===t.length-1&&(t=t.slice(0,t.length-1)),0===t.indexOf(",")&&(t=t.slice(1)),t};t.cleanFormattedAddress=w,t.getFormattedAddress=function(e,t){return e&&e.formattedAddress?e.formattedAddress:w(t("formatted.address",{number:e.number||"",street:e.street||"",code:e.postcode||"",city:e.city||"",region:e.region||"",country:e.country||""}))},t.updateIndexFullNameAndDisplayName=function(e){return u(u({},e),{},{fullname:v(e),displayName:y(e),indexes:{byFamilyNameGivenNameEmailCozyUrl:g(e)}})}},40889:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiByCountry=t.getAllNationalities=t.getNationalityByCodeISO=t.getAllCountryNames=t.getCountryNameByCodeISO=t.getAllCountries=t.checkCountryCode=t.isCountryCodeAlpha2=t.isCountryCodeAlpha3=t.isValidCountryCodeTranslation=t.COUNTRIES_ISO=void 0;var a=r(n(21259)),i=n(56675),o=r(n(95527)),c=[{code2:"AF",code3:"AFG",number:"004"},{code2:"AL",code3:"ALB",number:"008"},{code2:"DZ",code3:"DZA",number:"012"},{code2:"AD",code3:"AND",number:"020"},{code2:"AO",code3:"AGO",number:"024"},{code2:"AG",code3:"ATG",number:"028"},{code2:"AR",code3:"ARG",number:"032"},{code2:"AM",code3:"ARM",number:"051"},{code2:"AU",code3:"AUS",number:"036"},{code2:"AT",code3:"AUT",number:"040"},{code2:"AZ",code3:"AZE",number:"031"},{code2:"BS",code3:"BHS",number:"044"},{code2:"BH",code3:"BHR",number:"048"},{code2:"BD",code3:"BGD",number:"050"},{code2:"BB",code3:"BRB",number:"052"},{code2:"BY",code3:"BLR",number:"112"},{code2:"BE",code3:"BEL",number:"056"},{code2:"BZ",code3:"BLZ",number:"084"},{code2:"BJ",code3:"BEN",number:"204"},{code2:"BM",code3:"BMU",number:"060"},{code2:"BT",code3:"BTN",number:"064"},{code2:"BO",code3:"BOL",number:"068"},{code2:"BQ",code3:"BES",number:"535"},{code2:"BA",code3:"BIH",number:"070"},{code2:"BW",code3:"BWA",number:"072"},{code2:"BV",code3:"BVT",number:"074"},{code2:"BR",code3:"BRA",number:"076"},{code2:"IO",code3:"IOT",number:"086"},{code2:"BN",code3:"BRN",number:"096"},{code2:"BG",code3:"BGR",number:"100"},{code2:"BF",code3:"BFA",number:"854"},{code2:"BI",code3:"BDI",number:"108"},{code2:"CV",code3:"CPV",number:"132"},{code2:"KH",code3:"KHM",number:"116"},{code2:"CM",code3:"CMR",number:"120"},{code2:"CA",code3:"CAN",number:"124"},{code2:"KY",code3:"CYM",number:"136"},{code2:"CF",code3:"CAF",number:"140"},{code2:"TD",code3:"TCD",number:"148"},{code2:"CL",code3:"CHL",number:"152"},{code2:"CN",code3:"CHN",number:"156"},{code2:"CX",code3:"CXR",number:"162"},{code2:"CC",code3:"CCK",number:"166"},{code2:"CO",code3:"COL",number:"170"},{code2:"KM",code3:"COM",number:"174"},{code2:"CD",code3:"COD",number:"180"},{code2:"CG",code3:"COG",number:"178"},{code2:"CK",code3:"COK",number:"184"},{code2:"CR",code3:"CRI",number:"188"},{code2:"HR",code3:"HRV",number:"191"},{code2:"CU",code3:"CUB",number:"192"},{code2:"CW",code3:"CUW",number:"531"},{code2:"CY",code3:"CYP",number:"196"},{code2:"CZ",code3:"CZE",number:"203"},{code2:"CI",code3:"CIV",number:"384"},{code2:"DK",code3:"DNK",number:"208"},{code2:"DJ",code3:"DJI",number:"262"},{code2:"DM",code3:"DMA",number:"212"},{code2:"DO",code3:"DOM",number:"214"},{code2:"EC",code3:"ECU",number:"218"},{code2:"EG",code3:"EGY",number:"818"},{code2:"SV",code3:"SLV",number:"222"},{code2:"GQ",code3:"GNQ",number:"226"},{code2:"ER",code3:"ERI",number:"232"},{code2:"EE",code3:"EST",number:"233"},{code2:"SZ",code3:"SWZ",number:"748"},{code2:"ET",code3:"ETH",number:"231"},{code2:"FK",code3:"FLK",number:"238"},{code2:"FO",code3:"FRO",number:"234"},{code2:"FJ",code3:"FJI",number:"242"},{code2:"FI",code3:"FIN",number:"246"},{code2:"FR",code3:"FRA",number:"250"},{code2:"GF",code3:"GUF",number:"254"},{code2:"PF",code3:"PYF",number:"258"},{code2:"TF",code3:"ATF",number:"260"},{code2:"GA",code3:"GAB",number:"266"},{code2:"GM",code3:"GMB",number:"270"},{code2:"GE",code3:"GEO",number:"268"},{code2:"DE",code3:"DEU",number:"276"},{code2:"GH",code3:"GHA",number:"288"},{code2:"GI",code3:"GIB",number:"292"},{code2:"GR",code3:"GRC",number:"300"},{code2:"GL",code3:"GRL",number:"304"},{code2:"GD",code3:"GRD",number:"308"},{code2:"GP",code3:"GLP",number:"312"},{code2:"GU",code3:"GUM",number:"316"},{code2:"GT",code3:"GTM",number:"320"},{code2:"GG",code3:"GGY",number:"831"},{code2:"GN",code3:"GIN",number:"324"},{code2:"GW",code3:"GNB",number:"624"},{code2:"GY",code3:"GUY",number:"328"},{code2:"HT",code3:"HTI",number:"332"},{code2:"HM",code3:"HMD",number:"334"},{code2:"VA",code3:"VAT",number:"336"},{code2:"HN",code3:"HND",number:"340"},{code2:"HK",code3:"HKG",number:"344"},{code2:"HU",code3:"HUN",number:"348"},{code2:"IS",code3:"ISL",number:"352"},{code2:"IN",code3:"IND",number:"356"},{code2:"ID",code3:"IDN",number:"360"},{code2:"IR",code3:"IRN",number:"364"},{code2:"IQ",code3:"IRQ",number:"368"},{code2:"IE",code3:"IRL",number:"372"},{code2:"IM",code3:"IMN",number:"833"},{code2:"IL",code3:"ISR",number:"376"},{code2:"IT",code3:"ITA",number:"380"},{code2:"JM",code3:"JAM",number:"388"},{code2:"JP",code3:"JPN",number:"392"},{code2:"JE",code3:"JEY",number:"832"},{code2:"JO",code3:"JOR",number:"400"},{code2:"KZ",code3:"KAZ",number:"398"},{code2:"KE",code3:"KEN",number:"404"},{code2:"KI",code3:"KIR",number:"296"},{code2:"KP",code3:"PRK",number:"408"},{code2:"KR",code3:"KOR",number:"410"},{code2:"KW",code3:"KWT",number:"414"},{code2:"KG",code3:"KGZ",number:"417"},{code2:"LA",code3:"LAO",number:"418"},{code2:"LV",code3:"LVA",number:"428"},{code2:"LB",code3:"LBN",number:"422"},{code2:"LS",code3:"LSO",number:"426"},{code2:"LR",code3:"LBR",number:"430"},{code2:"LY",code3:"LBY",number:"434"},{code2:"LI",code3:"LIE",number:"438"},{code2:"LT",code3:"LTU",number:"440"},{code2:"LU",code3:"LUX",number:"442"},{code2:"MO",code3:"MAC",number:"446"},{code2:"MG",code3:"MDG",number:"450"},{code2:"MW",code3:"MWI",number:"454"},{code2:"MY",code3:"MYS",number:"458"},{code2:"MV",code3:"MDV",number:"462"},{code2:"ML",code3:"MLI",number:"466"},{code2:"MT",code3:"MLT",number:"470"},{code2:"MH",code3:"MHL",number:"584"},{code2:"MQ",code3:"MTQ",number:"474"},{code2:"MR",code3:"MRT",number:"478"},{code2:"MU",code3:"MUS",number:"480"},{code2:"YT",code3:"MYT",number:"175"},{code2:"MX",code3:"MEX",number:"484"},{code2:"FM",code3:"FSM",number:"583"},{code2:"MD",code3:"MDA",number:"498"},{code2:"MC",code3:"MCO",number:"492"},{code2:"MN",code3:"MNG",number:"496"},{code2:"ME",code3:"MNE",number:"499"},{code2:"MS",code3:"MSR",number:"500"},{code2:"MA",code3:"MAR",number:"504"},{code2:"MZ",code3:"MOZ",number:"508"},{code2:"MM",code3:"MMR",number:"104"},{code2:"NA",code3:"NAM",number:"516"},{code2:"NR",code3:"NRU",number:"520"},{code2:"NP",code3:"NPL",number:"524"},{code2:"NL",code3:"NLD",number:"528"},{code2:"NC",code3:"NCL",number:"540"},{code2:"NZ",code3:"NZL",number:"554"},{code2:"NI",code3:"NIC",number:"558"},{code2:"NE",code3:"NER",number:"562"},{code2:"NG",code3:"NGA",number:"566"},{code2:"NU",code3:"NIU",number:"570"},{code2:"NF",code3:"NFK",number:"574"},{code2:"MP",code3:"MNP",number:"580"},{code2:"NO",code3:"NOR",number:"578"},{code2:"OM",code3:"OMN",number:"512"},{code2:"PK",code3:"PAK",number:"586"},{code2:"PW",code3:"PLW",number:"585"},{code2:"PS",code3:"PSE",number:"275"},{code2:"PA",code3:"PAN",number:"591"},{code2:"PG",code3:"PNG",number:"598"},{code2:"PY",code3:"PRY",number:"600"},{code2:"PE",code3:"PER",number:"604"},{code2:"PH",code3:"PHL",number:"608"},{code2:"PN",code3:"PCN",number:"612"},{code2:"PL",code3:"POL",number:"616"},{code2:"PT",code3:"PRT",number:"620"},{code2:"PR",code3:"PRI",number:"630"},{code2:"QA",code3:"QAT",number:"634"},{code2:"MK",code3:"MKD",number:"807"},{code2:"RO",code3:"ROU",number:"642"},{code2:"RU",code3:"RUS",number:"643"},{code2:"RW",code3:"RWA",number:"646"},{code2:"RE",code3:"REU",number:"638"},{code2:"BL",code3:"BLM",number:"652"},{code2:"SH",code3:"SHN",number:"654"},{code2:"KN",code3:"KNA",number:"659"},{code2:"LC",code3:"LCA",number:"662"},{code2:"MF",code3:"MAF",number:"663"},{code2:"PM",code3:"SPM",number:"666"},{code2:"VC",code3:"VCT",number:"670"},{code2:"WS",code3:"WSM",number:"882"},{code2:"SM",code3:"SMR",number:"674"},{code2:"ST",code3:"STP",number:"678"},{code2:"SA",code3:"SAU",number:"682"},{code2:"SN",code3:"SEN",number:"686"},{code2:"RS",code3:"SRB",number:"688"},{code2:"SC",code3:"SYC",number:"690"},{code2:"SL",code3:"SLE",number:"694"},{code2:"SG",code3:"SGP",number:"702"},{code2:"SX",code3:"SXM",number:"534"},{code2:"SK",code3:"SVK",number:"703"},{code2:"SI",code3:"SVN",number:"705"},{code2:"SB",code3:"SLB",number:"090"},{code2:"SO",code3:"SOM",number:"706"},{code2:"ZA",code3:"ZAF",number:"710"},{code2:"GS",code3:"SGS",number:"239"},{code2:"SS",code3:"SSD",number:"728"},{code2:"ES",code3:"ESP",number:"724"},{code2:"LK",code3:"LKA",number:"144"},{code2:"SD",code3:"SDN",number:"729"},{code2:"SR",code3:"SUR",number:"740"},{code2:"SJ",code3:"SJM",number:"744"},{code2:"SE",code3:"SWE",number:"752"},{code2:"CH",code3:"CHE",number:"756"},{code2:"SY",code3:"SYR",number:"760"},{code2:"TW",code3:"TWN",number:"158"},{code2:"TJ",code3:"TJK",number:"762"},{code2:"TZ",code3:"TZA",number:"834"},{code2:"TH",code3:"THA",number:"764"},{code2:"TL",code3:"TLS",number:"626"},{code2:"TG",code3:"TGO",number:"768"},{code2:"TK",code3:"TKL",number:"772"},{code2:"TO",code3:"TON",number:"776"},{code2:"TT",code3:"TTO",number:"780"},{code2:"TN",code3:"TUN",number:"788"},{code2:"TR",code3:"TUR",number:"792"},{code2:"TM",code3:"TKM",number:"795"},{code2:"TC",code3:"TCA",number:"796"},{code2:"TV",code3:"TUV",number:"798"},{code2:"UG",code3:"UGA",number:"800"},{code2:"UA",code3:"UKR",number:"804"},{code2:"AE",code3:"ARE",number:"784"},{code2:"GB",code3:"GBR",number:"826"},{code2:"UM",code3:"UMI",number:"581"},{code2:"US",code3:"USA",number:"840"},{code2:"UY",code3:"URY",number:"858"},{code2:"UZ",code3:"UZB",number:"860"},{code2:"VU",code3:"VUT",number:"548"},{code2:"VE",code3:"VEN",number:"862"},{code2:"VN",code3:"VNM",number:"704"},{code2:"VG",code3:"VGB",number:"092"},{code2:"VI",code3:"VIR",number:"850"},{code2:"WF",code3:"WLF",number:"876"},{code2:"EH",code3:"ESH",number:"732"},{code2:"YE",code3:"YEM",number:"887"},{code2:"ZM",code3:"ZMB",number:"894"},{code2:"ZW",code3:"ZWE",number:"716"},{code2:"AX",code3:"ALA",number:"248"}];t.COUNTRIES_ISO=c,t.isValidCountryCodeTranslation=function(e,t){var n=(0,i.getLocalizer)(e).polyglot;return u(t)&&n.has("nationalities.".concat(t))&&n.has("countries.".concat(t))};var s=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code3===t})};t.isCountryCodeAlpha3=s;var u=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code2===t})};t.isCountryCodeAlpha2=u,t.checkCountryCode=function(e){return u(e)||s(e)};var l=function(e){var t=(0,i.getLocalizer)(e).t;return c.map(function(e){return{code2:e.code2,code3:e.code3,number:e.number,name:t("countries.".concat(e.code2)),nationality:t("nationalities.".concat(e.code2))}})};t.getAllCountries=l;var d=function(e){return function(t){var n,r=null==e||null==(n=e.toString())?void 0:n.toUpperCase();return/^[A-Z]{2,3}$/.test(r)?t.code2===r||t.code3===r:!!/^\d+$/.test(r)&&t.number===r}};t.getCountryNameByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},n=l(t.lang).find(d(e));return n?n.name:(o.default.warn("Country with code ".concat(e," not found")),null)},t.getAllCountryNames=function(e){return l(e).map(function(e){return e.name})},t.getNationalityByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},n=l(t.lang).find(d(e));return n?n.nationality:(o.default.warn("Nationality with code ".concat(e," not found")),null)},t.getAllNationalities=function(e){return l(e).map(function(e){return e.nationality})},t.getEmojiByCountry=function(e){if(!e)return null;if(!/^[a-z]{2}$/i.test(e))return o.default.error("Country argument must be an ISO 3166-1 alpha-2 string, but got '".concat(JSON.stringify(e),"' instead.")),null;if(!c.find(function(t){return t.code2===e.toUpperCase()}))return o.default.error("Country with code ".concat(e," not found in the list of countries")),null;var t=(0,a.default)(e.toUpperCase()).map(function(e){return e.codePointAt(0)+127397});return String.fromCodePoint.apply(String,(0,a.default)(t))}},56675:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=void 0;for(var a=r(n(14682)),i=r(n(5573)),o=r(n(85990)),c={en:i.default,fr:o.default},s={},u=0,l=["fr","en"];u<l.length;u++){var d=l[u],f=new a.default;f.extend(c[d]),s[d]=f}t.getLocalizer=function(e){var t=s[e]||s.en;return{t:t.t.bind(t),polyglot:t,lang:e}}},5013:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAggregatesFromDACC=t.buildAggregateParams=t.sendMeasureToDACC=t.checkMeasureParams=t.isCorrectDateFormat=void 0;var o=i(n(92207)),c=i(n(79092)),s=i(n(40918));i(n(6023));var u=function(e){try{return!!new Date(Date.parse(e)).toISOString().startsWith(e)}catch(e){return!1}};t.isCorrectDateFormat=u;var l=function(e){var t=e.createdBy,n=e.measureName,r=e.startDate,a=e.value,i=e.group1,o=e.group2,c=e.group3;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: createdBy");if(!n||"string"!=typeof n)throw Error("Missing or wrong type parameter: measureName");if(!r)throw Error("Missing parameter: startDate");if(!u(r))throw Error("Date should be in YYYY-MM-DD format");if("number"!=typeof a)throw Error("Missing or wrong type parameter: value");if(i&&("object"!=typeof i||0===Object.keys(i).length)||o&&("object"!=typeof o||0===Object.keys(o).length)||c&&("object"!=typeof c||0===Object.keys(c).length))throw Error("Groups should be key-value objects");if(c&&(!o||!i)||o&&!i)throw Error("Group order must be respected")};t.checkMeasureParams=l,r=(0,c.default)(o.default.mark(function e(t,n,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(r),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(n),{data:JSON.stringify(r),path:"measure"});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,s.default)("error","Error while sending measure to remote doctype: ".concat(e.t0.message)),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])})),t.sendMeasureToDACC=function(e,t,n){return r.apply(this,arguments)};var d=function(e){var t=e.measureName;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: measureName");var n=e.startDate||new Date(0).toISOString(),r=e.endDate||new Date(Date.now()).toISOString();if(!u(n)||!u(r))throw(0,s.default)("error","Date should be in YYYY-MM-DD format but received: startDate: ".concat(n," | endDate: ").concat(r)),Error("Date should be in YYYY-MM-DD format");return{measureName:t,startDate:n,endDate:r}};t.buildAggregateParams=d,a=(0,c.default)(o.default.mark(function e(t,n,r){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d(r),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(n),{data:JSON.stringify(a),path:"aggregate"});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),(0,s.default)("error","Error while fetching aggregates to remote doctype: ".concat(e.t0.message)),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])})),t.fetchAggregatesFromDACC=function(e,t,n){return a.apply(this,arguments)}},25492:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.listAllDoctypes=void 0;var i=a(n(92207)),o=a(n(79092));a(n(6023)),r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stackClient.fetchJSON("GET","/data/_all_doctypes");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),t.listAllDoctypes=function(e){return r.apply(this,arguments)}},75763:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconLabelPairs=t.THEME_OTHERS_LABELS=t.THEME_INVOICE_LABELS=t.THEME_FINANCE_LABELS=t.THEME_ACTIVITY_LABELS=t.THEME_TRANSPORT_LABELS=t.THEME_HOME_LABELS=t.THEME_HEALTH_LABELS=t.THEME_WORK_STUDY_LABELS=t.THEME_FAMILY_LABELS=t.THEME_IDENTITY_LABELS=void 0,t.THEME_IDENTITY_LABELS=["identity_photo","national_id_card","passport","residence_permit","electoral_card","family_record_book","birth_certificate","driver_license","citizen_registration_certificate","note_identity_document","other_identity_document"],t.THEME_FAMILY_LABELS=["family_record_book","birth_certificate","wedding","pacs","single_parent_benefit","divorce","large_family_card","caf","payment_proof_family_allowance","note_family_document","other_family_document","person_insurance"],t.THEME_WORK_STUDY_LABELS=["diploma","work_contract","pay_sheet","unemployment_benefit","employment_center_certificate","pension","work_disability_recognition","gradebook","student_card","school_attendance_certificate","school_insurance_certificate","resume","motivation_letter","expense_claim","note_work_document","other_work_document"],t.THEME_HEALTH_LABELS=["health_certificate","health_book","national_health_insurance_card","national_health_insurance_right_certificate","health_insurance_card","prescription","health_invoice","work_disability_recognition","pregnancy_medical_certificate","note_health_document","other_health_document"],t.THEME_HOME_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","other_invoice","work_invoice","house_sale_agreeement","building_permit","technical_diagnostic_record","unfit_for_habitation_declaration","lease","rent_receipt","accommodation_proof","house_insurance","work_quote","condition_report","note_house_document","other_house_document","real_estate_insurance"],t.THEME_TRANSPORT_LABELS=["driver_license","vehicle_registration","car_insurance","transport_card","mechanic_invoice","transport_invoice","note_transport_document","other_transport_document"],t.THEME_ACTIVITY_LABELS=["personal_sporting_licence","fidelity_card","note_activity_document","other_activity_document"],t.THEME_FINANCE_LABELS=["fine","tax_certificate","tax_return","tax_notice","tax_timetable","real_estate_tax","pay_sheet","receipt","single_parent_benefit","other_tax_document","bank_details","bank_statement","loan_agreement","payment_proof_family_allowance","note_finance","expense_claim","other_bank_document","other_revenue"],t.THEME_INVOICE_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","appliance_invoice","web_service_invoice","restaurant_invoice","work_invoice","transport_invoice","health_invoice","note_invoice","expense_claim","energy_contract","grocery_invoice","other_invoice"],t.THEME_OTHERS_LABELS=["other_administrative_document"],t.iconLabelPairs=[{icon:"bank-check",labels:["bank_details"]},{icon:"bank",labels:["other_administrative_document","other_tax_document","real_estate_tax","tax_certificate","tax_notice","tax_return","tax_timetable"]},{icon:"benefit",labels:["loan_agreement","other_revenue","pay_sheet","payment_proof_family_allowance","pension"]},{icon:"bill",labels:["other_invoice"]},{icon:"car",labels:["car_insurance","driver_license","other_transport_document","transport_card","transport_invoice","vehicle_registration"]},{icon:"child",labels:["birth_certificate"]},{icon:"email",labels:["receipt"]},{icon:"euro",labels:["other_bank_document"]},{icon:"exchange",labels:["bank_statement"]},{icon:"file-type-note",labels:["note_activity_document","note_family_document","note_finance","note_health_document","note_house_document","note_identity_document","note_invoice","note_transport_document","note_work_document"]},{icon:"fitness",labels:["other_activity_document","personal_sporting_licence"]},{icon:"globe",labels:["residence_permit"]},{icon:"gouv",labels:["electoral_card"]},{icon:"heart",labels:["health_book","health_certificate","health_insurance_card","health_invoice","national_health_insurance_card","national_health_insurance_right_certificate","other_health_document","person_insurance","pregnancy_medical_certificate","prescription"]},{icon:"home",labels:["accommodation_proof","building_permit","condition_report","house_insurance","house_sale_agreeement","lease","mechanic_invoice","other_house_document","real_estate_insurance","rent_receipt","technical_diagnostic_record","unfit_for_habitation_declaration","work_invoice","work_quote"]},{icon:"image",labels:["identity_photo"]},{icon:"justice",labels:["fine"]},{icon:"laudry",labels:["appliance_invoice"]},{icon:"lightning",labels:["energy_contract","energy_invoice"]},{icon:"people",labels:["national_id_card","other_identity_document","resume","work_disability_recognition"]},{icon:"plane",labels:["passport"]},{icon:"remboursement",labels:["expense_claim"]},{icon:"restaurant",labels:["restaurant_invoice"]},{icon:"school",labels:["diploma","gradebook"]},{icon:"shop",labels:["fidelity_card","grocery_invoice"]},{icon:"team",labels:["caf","citizen_registration_certificate","divorce","family_record_book","large_family_card","other_family_document","pacs","single_parent_benefit","wedding"]},{icon:"telecom",labels:["isp_invoice","telecom_invoice","web_service_invoice"]},{icon:"telephone",labels:["phone_invoice"]},{icon:"water",labels:["water_invoice"]},{icon:"work",labels:["employment_center_certificate","motivation_letter","other_work_document","school_attendance_certificate","school_insurance_certificate","student_card","unemployment_benefit","work_contract"]}]},53369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themesList=void 0;var r=n(75763),a=n(36755),i=function(e){return e.map(function(e){try{return a.Qualification.getByLabel(e)}catch(e){return console.log("error",e),null}}).filter(function(e){return e})};t.themesList=[{id:"theme1",label:"identity",icon:"people",items:i(r.THEME_IDENTITY_LABELS),defaultItems:["birth_certificate"]},{id:"theme2",label:"family",icon:"team",items:i(r.THEME_FAMILY_LABELS),defaultItems:["family_record_book"]},{id:"theme3",label:"work_study",icon:"work",items:i(r.THEME_WORK_STUDY_LABELS)},{id:"theme4",label:"health",icon:"heart",items:i(r.THEME_HEALTH_LABELS)},{id:"theme5",label:"home",icon:"home",items:i(r.THEME_HOME_LABELS)},{id:"theme6",label:"transport",icon:"car",items:i(r.THEME_TRANSPORT_LABELS),defaultItems:["driver_license"]},{id:"theme7",label:"activity",icon:"chess",items:i(r.THEME_ACTIVITY_LABELS)},{id:"theme8",label:"finance",icon:"bank",items:i(r.THEME_FINANCE_LABELS)},{id:"theme9",label:"invoice",icon:"bill",items:i(r.THEME_INVOICE_LABELS)},{id:"theme10",label:"others",icon:"dots",items:i(r.THEME_OTHERS_LABELS)}]},71104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQualificationNote=t.getThemeByItem=void 0;var r=n(53369);t.getThemeByItem=function(e){var t=r.themesList.find(function(t){return t.defaultItems&&t.defaultItems.includes(e.label)});return t||r.themesList.find(function(t){return t.items.some(function(t){return t.label===e.label})})},t.isQualificationNote=function(e){return e.label.toLowerCase().startsWith("note_")}},162:function(e,t,n){"use strict";var r=n(58784);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Qualification",{enumerable:!0,get:function(){return a.Qualification}}),Object.defineProperty(t,"setQualification",{enumerable:!0,get:function(){return a.setQualification}}),Object.defineProperty(t,"getQualification",{enumerable:!0,get:function(){return a.getQualification}}),t.helpers=t.themes=t.locales=void 0;var a=n(36755);t.locales=r(n(73670)),t.themes=r(n(53369)),t.helpers=r(n(71104))},73670:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=t.getBoundT=void 0;var a=r(n(26396)),i=r(n(14682)),o=r(n(87834)),c=r(n(71153)),s=n(40889);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}for(var d={en:o.default,fr:c.default},f={},p=0,h=["fr","en"];p<h.length;p++){var m=h[p],v=new i.default;v.extend(d[m]),f[m]=v}t.getBoundT=function(e){var t=y(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l(l({},n),{},{smart_count:(null==n?void 0:n.smart_count)||1}),a=null==n?void 0:n.country,i="foreign"!==a?(0,s.getEmojiByCountry)(a):null,o="foreign"===a?t("country.foreign"):null;return i||o?"".concat(t(e,r)," ").concat(i||o):t(e,r)}};var y=function(e){var t=f[e]||f.en;return t.t.bind(t)};t.getLocalizer=y},36755:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasSupportedQualification=t.isSupportedQualification=t.getIconByLabel=t.getQualification=t.setQualification=t.Qualification=void 0;var i=a(n(26396)),o=a(n(82274)),c=a(n(65044)),s=a(n(63560)),u=a(n(66245)),l=r(n(81722)),d=a(n(95527)),f=n(75763);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e);var r=l.qualifications.find(function(e){return e.label===t});if(r){this.icon=n.icon||y(t),this.label=r.label;var a=n.purpose||r.purpose;a&&(this.purpose=a);var i=n.sourceCategory||r.sourceCategory;i&&(this.sourceCategory=i);var c=n.sourceSubCategory||r.sourceSubCategory;c&&(this.sourceSubCategory=c);var s=n.subjects||r.subjects;s&&(this.subjects=s)}else throw Error("No qualification found for the label ".concat(t))}return(0,c.default)(e,[{key:"checkAttributes",value:function(e){if(this.purpose!==e.purpose)if(this.purpose)throw Error("The purpose for the label ".concat(this.label," should be ").concat(this.purpose,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.purposeKnownValues.includes(e.purpose)||d.default.info("This purpose is not listed among the known values: ".concat(e.purpose,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceCategory!==e.sourceCategory)if(this.sourceCategory)throw Error("The sourceCategory for the label ".concat(this.label," should be ").concat(this.sourceCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceCategoryKnownValues.includes(e.sourceCategory)||d.default.info("This sourceCategory is not listed among the known values: ".concat(e.sourceCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceSubCategory!==e.sourceSubCategory)if(this.sourceSubCategory)throw Error("The sourceSubCategory for the label ".concat(this.label," should be ").concat(this.sourceSubCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceSubCategoryKnownValues.includes(e.sourceSubCategory)||d.default.info("This sourceSubCategory is not listed among the known values: ".concat(e.sourceSubCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if((0,u.default)(this.subjects,e.subjects).length>0)throw Error("The subjects for the label ".concat(this.label," should include ").concat(this.subjects,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");var t=(0,u.default)(e.subjects,this.subjects);if(t.length>0){var n=(0,u.default)(t,l.subjectsKnownValues);n.length>0&&d.default.info("These subjects are not listed among the known values: ".concat(n,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues")}}},{key:"setPurpose",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{purpose:t}))}},{key:"setSourceCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceCategory:t}))}},{key:"setSourceSubCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceSubCategory:t}))}},{key:"setSubjects",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{subjects:t}))}},{key:"setIcon",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{icon:t}))}},{key:"toQualification",value:function(){return{icon:this.icon,label:this.label,purpose:this.purpose,sourceCategory:this.sourceCategory,sourceSubCategory:this.sourceSubCategory,subjects:this.subjects}}}]),e}();t.Qualification=v,v.getByLabel=function(e){return new v(e)},t.setQualification=function(e,t){if(t.label){var n=t;return new v(t.label).checkAttributes(t),t.icon||(n=new v(t.label,t).setIcon(y(t.label))),(0,s.default)(e,"metadata.qualification",n)}throw Error("You must set a label to qualify")},t.getQualification=function(e){var t,n=null==e||null==(t=e.metadata)?void 0:t.qualification;return n?new v(n.label,n.qualification).toQualification():null};var y=function(e){var t,n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(f.iconLabelPairs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.labels.includes(e))return r.icon}}catch(e){n.e(e)}finally{n.f()}return d.default.info("The ".concat(e," qualification does not seem to have an icon.\n    Please open an issue on https://github.com/cozy/cozy-client/issues")),""};t.getIconByLabel=y;var g=function(e){return l.qualifications.some(function(t){return t.label===e})};t.isSupportedQualification=g,t.hasSupportedQualification=function(e){var t,n;return g(null==e||null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label)}},39046:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l,d,f,p=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=function(e){var t=e._id||e.id;return S({_id:t,id:t,_type:e._type||_.DOCTYPE_FILES},e)},t.ensureFilePath=function(e,t){if(e.path)return e;if(!t||!t.path)throw Error("Could not define a file path for ".concat(e._id||e.id));return S({path:t.path+"/"+e.name},e)},t.getParentFolderId=function(e){var t=(0,g.default)(e,"attributes.dir_id");return""===t?null:t},t.downloadFile=t.copy=t.fetchBlobFileById=t.isFromKonnector=t.hasCertifications=t.hasQualifications=t.isPlainText=t.uploadFileWithConflictStrategy=t.generateFileNameForRevision=t.generateNewFileNameOnConflict=t.overrideFileForPath=t.moveRelateToSharedDrive=t.move=t.getFullpath=t.hasMetadataAttribute=t.fetchFilesByQualificationRules=t.saveFileQualification=t.isSharingShorcutNew=t.isSharingShortcutNew=t.isSharingShorcut=t.isSharingShortcut=t.getSharingShortcutTargetDoctype=t.getSharingShortcutTargetMime=t.getSharingShortcutStatus=t.getShortcutImgSrc=t.isShortcut=t.shouldBeOpenedByOnlyOffice=t.isOnlyOfficeFile=t.isEncryptedFileOrFolder=t.isEncryptedFolder=t.getEncryptiondRef=t.isEncrypted=t.isDocs=t.isNote=t.isDirectory=t.isFile=t.splitFilename=t.ALBUMS_DOCTYPE=void 0;var h=p(n(92207)),m=p(n(79092)),v=p(n(26396)),y=n(7127),g=p(n(58156)),b=p(n(85015)),w=p(n(61448)),k=p(n(31521)),x=n(36755),O=n(11071),_=n(148);p(n(6023));var E=p(n(95527));function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,v.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P="file";t.ALBUMS_DOCTYPE="io.cozy.photos.albums";var A=/(.+)(\..*)$/,D=function(e){if(!(0,b.default)(e.name))throw Error("file should have a name property");if("file"===e.type){var t=e.name.match(A);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}};t.splitFilename=D;var T=function(e){return e&&e.type===P};t.isFile=T,t.isDirectory=function(e){return e&&"directory"===e.type};var R=function(e){return!!(e&&e.name&&e.name.endsWith(".cozy-note"))&&e.type===P&&!!e.metadata&&void 0!==e.metadata.title&&void 0!==e.metadata.version};t.isNote=R,t.isDocs=function(e){var t,n;return(null==e||null==(t=e.name)?void 0:t.endsWith(".docs-note"))&&!!(null!=e&&null!=(n=e.metadata)&&n.externalId)};var j=function(e){return!!e.encrypted};t.isEncrypted=j;var M=function(e){return(0,g.default)(e,"referenced_by",[]).find(function(e){return e.type===_.DOCTYPE_FILES_ENCRYPTION})};t.getEncryptiondRef=M;var I=function(e){return!!M(e)};t.isEncryptedFolder=I,t.isEncryptedFileOrFolder=function(e){return I(e)||j(e)};var N=function(e){return T(e)&&!R(e)&&("text"===e.class||"spreadsheet"===e.class||"slide"===e.class)};t.isOnlyOfficeFile=N,t.shouldBeOpenedByOnlyOffice=function(e){return N(e)&&!e.name.endsWith(".txt")&&!e.name.endsWith(".md")},t.isShortcut=function(e){return e&&"shortcut"===e.class},t.getShortcutImgSrc=function(e){var t,n,r=null==e||null==(t=e.metadata)?void 0:t.icon,a=null==e||null==(n=e.metadata)?void 0:n.iconMimeType;if(r)return a?"data:".concat(a,";base64,").concat(r):"data:image/svg+xml;base64,".concat(window.btoa(r))};var z=function(e){return(0,g.default)(e,"metadata.sharing.status")};t.getSharingShortcutStatus=z,t.getSharingShortcutTargetMime=function(e){return(0,g.default)(e,"metadata.target.mime")},t.getSharingShortcutTargetDoctype=function(e){return(0,g.default)(e,"metadata.target._type")};var F=function(e){return!!z(e)};t.isSharingShortcut=F,t.isSharingShorcut=function(e){return E.default.warn("Deprecation: `isSharingShorcut` is deprecated, please use `isSharingShortcut` instead"),F(e)};var L=function(e){return"new"===z(e)};t.isSharingShortcutNew=L,t.isSharingShorcutNew=function(e){return E.default.warn("Deprecation: `isSharingShorcutNew` is deprecated, please use `isSharingShortcutNew` instead"),L(e)},r=(0,m.default)(h.default.mark(function e(t,n,r){var a,i,o=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(o.length>3&&void 0!==o[3]?o[3]:{}).driveId,i=(0,x.setQualification)(n,r),e.abrupt("return",t.collection(_.DOCTYPE_FILES,{driveId:a}).updateMetadataAttribute(n._id,i.metadata));case 3:case"end":return e.stop()}},e)})),t.saveFileQualification=function(e,t,n){return r.apply(this,arguments)},a=(0,m.default)(h.default.mark(function e(t,n){var r,a,i,o;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rules,a=n.count,i=(0,O.Q)(_.DOCTYPE_FILES).where(S({},r)).partialIndex({trashed:!1}).indexFields(["cozyMetadata.updatedAt","metadata.qualification"]).sortBy([{"cozyMetadata.updatedAt":"desc"}]).limitBy(a||1),e.next=4,t.query(i);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}},e)})),t.fetchFilesByQualificationRules=function(e,t){return a.apply(this,arguments)},t.hasMetadataAttribute=function(e){var t=e.file,n=e.attribute;return(0,w.default)(t,"metadata.".concat(n))};var B=(i=(0,m.default)(h.default.mark(function e(t,n,r){var a,i,o,c,s=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>3&&void 0!==s[3]?s[3]:void 0,n){e.next=3;break}throw Error("You must provide a dirId");case 3:return i=(0,O.Q)(_.DOCTYPE_FILES).getById(n),a&&(i=i.sharingById(a)),e.next=7,t.query(i);case 7:return o=e.sent.data,c=(0,k.default)(o.path,"/"),e.abrupt("return","".concat(c,"/").concat(r));case 11:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)});t.getFullpath=B,o=(0,m.default)(h.default.mark(function e(t,n,r){var a,i,o,c,s,u,l,d,f,p=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0!==(i=(a=p.length>3&&void 0!==p[3]?p[3]:{}).force)&&i,c=a.driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==n._type){e.next=10;break}if("io.cozy.remote.nextcloud.files"!==r._type){e.next=7;break}return e.next=6,t.collection("io.cozy.remote.nextcloud.files").move(n,r);case 6:case 9:case 13:return e.abrupt("return",{moved:void 0,deleted:null});case 7:return e.next=9,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(n,r);case 10:if("io.cozy.remote.nextcloud.files"!==r._type){e.next=14;break}return e.next=13,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(r,n);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return s=t.collection(_.DOCTYPE_FILES,{driveId:c}),e.prev=20,e.next=23,s.updateFileMetadata(n._id,{dir_id:r._id});case 23:return u=e.sent,e.abrupt("return",{moved:u.data,deleted:null});case 27:if(e.prev=27,e.t1=e.catch(20),!(409===e.t1.status&&o)){e.next=44;break}return e.next=32,B(t,r._id,n.name);case 32:return l=e.sent,e.next=35,s.statByPath(l);case 35:return d=e.sent,e.next=38,s.destroy(d.data);case 38:return e.next=40,s.updateFileMetadata(n._id,{dir_id:r._id});case 40:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 44:throw e.t1;case 45:case"end":return e.stop()}},e,null,[[1,16],[20,27]])})),t.move=function(e,t,n){return o.apply(this,arguments)},c=(0,m.default)(h.default.mark(function e(t,n,r,a){var i,o;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.collection(_.DOCTYPE_FILES,{driveId:"move"}),e.prev=1,e.next=4,i.moveRelateToSharedDrive(n,r,a);case 4:return o=e.sent,e.abrupt("return",{moved:o.data,deleted:null});case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])})),t.moveRelateToSharedDrive=function(e,t,n,r){return c.apply(this,arguments)},s=(0,m.default)(h.default.mark(function e(t,n,r,a){var i,o,c,s,u,l,d,f,p,m=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(m.length>4&&void 0!==m[4]?m[4]:{}).driveId,(o=n).endsWith("/")||(o+="/"),c=t.collection(_.DOCTYPE_FILES,{driveId:i}),e.prev=4,e.next=7,c.statByPath(o+r.name);case 7:return u=(s=e.sent.data).id,l=s.dir_id,e.next=11,c.updateFile(r,{dirId:l,fileId:u,metadata:a});case 11:return d=e.sent,e.abrupt("return",d);case 15:if(e.prev=15,e.t0=e.catch(4),!/Not Found/.test(e.t0)){e.next=25;break}return e.next=20,c.ensureDirectoryExists(o);case 20:return f=e.sent,e.next=23,c.createFile(r,{dirId:f,metadata:a});case 23:return p=e.sent,e.abrupt("return",p);case 25:throw e.t0;case 26:case"end":return e.stop()}},e,null,[[4,15]])})),t.overrideFileForPath=function(e,t,n,r){return s.apply(this,arguments)};var U=function(e,t){var n=(null==t?void 0:t.delimiter)||"_",r=new RegExp("(".concat(n,")([0-9]+)$")),a=e.match(r);if(!a)return"".concat(e).concat(n,"1");var i=parseInt(a[2]);return i++,e.replace(new RegExp("(".concat(n,")([0-9]+)$")),"".concat(n).concat(i))};t.generateNewFileNameOnConflict=U,t.generateFileNameForRevision=function(e,t,n){var r=D(e),a=r.filename,i=r.extension;return"".concat(a,"_").concat(n(t.updated_at,"DD MMMM - HH[h]mm")).concat(i)};var V=(u=(0,m.default)(h.default.mark(function e(t,n,r){var a,i,o,c,s,u,l,d,f,p,m,v,y;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.name,i=r.dirId,o=r.conflictStrategy,c=r.conflictOptions,s=r.driveId,u=t.collection(_.DOCTYPE_FILES,{driveId:s}),e.prev=2,e.next=5,B(t,i,a,s);case 5:return l=e.sent,e.next=8,u.statByPath(l);case 8:if(d=e.sent.data.id,"erase"!==o){e.next=17;break}return e.next=13,u.updateFile(n,S(S({},r),{},{fileId:d}));case 13:return f=e.sent,e.abrupt("return",f);case 17:return m=(p=D({name:a,type:"file"})).filename,v=p.extension,y=U(m,c)+v,e.abrupt("return",V(t,n,S(S({},r),{},{name:y})));case 20:e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(2),!/Not Found/.test(e.t0.message)){e.next=26;break}return e.abrupt("return",u.createFile(n,r));case 26:throw e.t0;case 27:case"end":return e.stop()}},e,null,[[2,22]])})),function(e,t,n){return u.apply(this,arguments)});t.uploadFileWithConflictStrategy=V,t.isPlainText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?/^text\//.test(e):/\.(txt|md)$/.test(t)},t.hasQualifications=function(e){return!!(0,g.default)(e,"metadata.qualification")},t.hasCertifications=function(e){return(0,g.default)(e,"metadata.carbonCopy",!1)||(0,g.default)(e,"metadata.electronicSafe",!1)},t.isFromKonnector=function(e){return(0,w.default)(e,"cozyMetadata.sourceAccount")},l=(0,m.default)(h.default.mark(function e(t,n){var r,a,i,o,c=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(c.length>2&&void 0!==c[2]?c[2]:{}).driveId,a=t.collection(_.DOCTYPE_FILES,{driveId:r}),e.next=4,a.fetchFileContentById(n);case 4:return i=e.sent,e.next=7,i.blob();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e)})),t.fetchBlobFileById=function(e,t){return l.apply(this,arguments)},d=(0,m.default)(h.default.mark(function e(t,n,r){var a,i,o,c,s,u=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(u.length>3&&void 0!==u[3]?u[3]:{}).driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==n._type||"io.cozy.remote.nextcloud.files"!==r._type){e.next=7;break}return e.next=5,t.collection("io.cozy.remote.nextcloud.files").copy(n,r);case 5:return i=e.sent,e.abrupt("return",i);case 7:if("io.cozy.remote.nextcloud.files"!==n._type||"io.cozy.files"!==r._type){e.next=12;break}return e.next=10,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(n,r,{copy:!0});case 10:return o=e.sent,e.abrupt("return",o);case 12:if("io.cozy.remote.nextcloud.files"!==r._type){e.next=17;break}return e.next=15,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(r,n,{copy:!0});case 15:return c=e.sent,e.abrupt("return",c);case 17:return e.next=19,t.collection(_.DOCTYPE_FILES,{driveId:a}).copy(n._id,void 0,r._id);case 19:return s=e.sent,e.abrupt("return",s);case 23:throw e.prev=23,e.t0=e.catch(1),e.t0;case 26:case"end":return e.stop()}},e,null,[[1,23]])})),t.copy=function(e,t,n){return d.apply(this,arguments)},f=(0,m.default)(h.default.mark(function e(t){var n,r,a,i,o,c,s;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.file,a=t.url,i=t.webviewIntent,o=t.driveId,c=n.collection(_.DOCTYPE_FILES,{driveId:o}),!((0,y.isFlagshipApp)()&&i&&!j(r))){e.next=19;break}return e.next=5,null==i?void 0:i.call("isAvailable","downloadFile");case 5:if(e.t1=s=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==s;case 9:if(!e.t0){e.next=13;break}e.t2=s,e.next=14;break;case 13:e.t2=!1;case 14:if(!e.t2){e.next=19;break}return e.next=18,i.call("downloadFile",r);case 18:return e.abrupt("return",e.sent);case 19:if(!j(r)){e.next=21;break}return e.abrupt("return",c.forceFileDownload(a,r.name));case 21:return e.abrupt("return",c.download(r));case 22:case"end":return e.stop()}},e)})),t.downloadFile=function(e){return f.apply(this,arguments)}},3260:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedFolder=t.createFolderWithReference=t.ensureMagicFolder=t.MAGIC_FOLDERS=void 0;var c=o(n(92207)),s=o(n(79092)),u=o(n(33031));o(n(6023));var l=n(148),d=n(11071),f="io.cozy.apps",p="administrative",h="photos",m={ADMINISTRATIVE:"".concat(f,"/").concat(p),PHOTOS:"".concat(f,"/").concat(h),PHOTOS_BACKUP:"".concat(f,"/").concat(h,"/mobile"),PHOTOS_UPLOAD:"".concat(f,"/").concat(h,"/upload"),NOTES:"".concat(f,"/notes"),HOME:"".concat(f,"/home"),PAPERS:"".concat(f,"/").concat(p,"/papers"),COACH_CO2:"".concat(f,"/").concat(p,"/coachco2")};t.MAGIC_FOLDERS=m,r=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={_type:f,_id:n},e.next=3,y(t,a);case 3:if(!(i=e.sent)){e.next=6;break}return e.abrupt("return",i);case 6:if((o=Object.values(m)).includes(n)){e.next=9;break}throw Error("Cannot create Magic folder with id ".concat(n,". Allowed values are ").concat(o.join(", "),"."));case 9:if(r){e.next=11;break}throw Error("Magic folder default path must be defined");case 11:return e.abrupt("return",v(t,r,a));case 12:case"end":return e.stop()}},e)})),t.ensureMagicFolder=function(e,t,n){return r.apply(this,arguments)};var v=(a=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(l.DOCTYPE_FILES),e.next=3,a.ensureDirectoryExists(n);case 3:return i=e.sent,e.next=6,a.addReferencesTo(r,[{_id:i}]);case 6:return e.next=8,a.get(i);case 8:return o=e.sent.data,e.abrupt("return",o);case 11:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)});t.createFolderWithReference=v;var y=(i=(0,s.default)(c.default.mark(function e(t,n){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,d.Q)(l.DOCTYPE_FILES).partialIndex({type:"directory",trashed:!1}).referencedBy(n));case 2:return r=e.sent.included,e.abrupt("return",r.length>0?(0,u.default)(r,"created_at").pop():null);case 5:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)});t.getReferencedFolder=y},8435:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.deltaLatitude=t.deltaLongitude=t.computeSphericalCenter=t.geodesicDistance=t.computeSpeed=void 0,t.computeSpeed=function(e,t){return e&&t?Math.round(e/t*100)/100:0};var r=function(e){return e*Math.PI/180},a=function(e){return 180*e/Math.PI},i=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};t.geodesicDistance=function(e,t){if((null==e?void 0:e.lon)===void 0||(null==e?void 0:e.lat)===void 0||(null==t?void 0:t.lon)===void 0||(null==t?void 0:t.lat)===void 0)return null;var n=r(e.lon),a=r(e.lat),o=r(t.lon),c=r(t.lat);return i(6378137*(2*Math.asin(Math.sqrt(Math.pow(Math.sin((c-a)/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin((o-n)/2),2)))),2)},t.computeSphericalCenter=function(e){if(e.length<1)return null;if(1===e.length)return e[0];var t,o=0,c=0,s=0,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}(e);try{for(u.s();!(t=u.n()).done;){var l=t.value,d=r(l.lon),f=r(l.lat),p=Math.cos(f)*Math.cos(d),h=Math.cos(f)*Math.sin(d),m=Math.sin(f);o+=p,c+=h,s+=m}}catch(e){u.e(e)}finally{u.f()}var v=o/e.length,y=c/e.length,g=s/e.length,b=a(Math.atan2(y,v));return{lat:i(a(Math.atan2(g,Math.sqrt(v*v+y*y))),13),lon:i(b,13)}},t.deltaLongitude=function(e,t){return i(a(t/(6378137*Math.cos(r(e)))),13)},t.deltaLatitude=function(e){return i(e/(40075e3/360),13)}},78690:function(e,t,n){"use strict";var r=n(58784);Object.defineProperty(t,"__esModule",{value:!0}),t.assistant=t.ai=t.doctypes=t.geo=t.user=t.paper=t.dacc=t.sharing=t.timeseries=t.document=t.contact=t.utils=t.permission=t.note=t.account=t.konnectorFolder=t.folder=t.file=t.applications=t.instance=t.trigger=t.accounts=t.triggers=void 0;var a=r(n(22902));t.trigger=a,t.instance=r(n(40543)),t.applications=r(n(57615)),t.file=r(n(39046)),t.folder=r(n(3260)),t.konnectorFolder=r(n(93841));var i=r(n(47881));t.account=i,t.note=r(n(73544)),t.permission=r(n(395)),t.utils=r(n(93923)),t.contact=r(n(62878)),t.document=r(n(162)),t.timeseries=r(n(66224)),t.sharing=r(n(50134)),t.dacc=r(n(5013)),t.paper=r(n(95948)),t.user=r(n(90799)),t.geo=r(n(8435)),t.doctypes=r(n(25492)),t.ai=r(n(7806)),t.assistant=r(n(54922)),t.triggers=a,t.accounts=i},40543:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDiskInfos=t.hasPasswordDefinedAttribute=t.buildPremiumLink=t.hasAnOffer=t.shouldDisplayOffers=t.getUuid=t.isFreemiumUser=t.arePremiumLinksEnabled=t.isSelfHosted=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(58156)),s=n(11071),u=function(e){return!(0,c.default)(e,"context.data.manager_url")};t.isSelfHosted=u;var l=function(e){return!!(0,c.default)(e,"context.data.enable_premium_links")};t.arePremiumLinksEnabled=l;var d=function(e){return 5e10>=parseInt((0,c.default)(e,"diskUsage.data.quota",!1))};t.isFreemiumUser=d;var f=function(e){return(0,c.default)(e,"instance.data.uuid")};t.getUuid=f,t.shouldDisplayOffers=function(e){return!u(e)&&l(e)&&f(e)&&d(e)},t.hasAnOffer=function(e){return!u(e)&&l(e)&&f(e)&&!d(e)},t.buildPremiumLink=function(e){var t=(0,c.default)(e,"context.data.manager_url",!1),n=(0,c.default)(e,"instance.data.locale","en"),r=f(e);return t&&r?"".concat(t,"/cozy/instances/").concat(r,"/premium?lang=").concat(n):null},r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,s.Q)("io.cozy.settings").getById("io.cozy.settings.instance"),options:{as:"io.cozy.settings/io.cozy.settings.instance",singleDocData:!0}});case 3:return n=e.sent.data.password_defined,e.abrupt("return",!!n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasPasswordDefinedAttribute=function(e){return r.apply(this,arguments)};var p=function(e){return 1e-9*e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e%1?e.toFixed(t):e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return{diskQuota:p(t),diskUsage:p(e),percentUsage:e/t*100}};t.makeDiskInfos=function(e,t){var n=m(+e,t?+t:void 0),r=n.diskQuota,a=n.diskUsage,i=n.percentUsage;return{humanDiskQuota:h(r),humanDiskUsage:h(a),percentUsage:Math.round(i).toString()}}},93841:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.findKonnectorAccountFolderByReference=t.buildFolderPermission=t.buildMainFolderPath=t.buildFolderPath=t.statDirectoryByPath=t.createDirectoryByPath=t.ensureKonnectorFolder=void 0;var d=l(n(92207)),f=l(n(22056)),p=l(n(79092)),h=n(3260);l(n(6023));var m=n(47881),v=n(73670),y=n(11071),g="io.cozy.files";r=(0,p.default)(d.default.mark(function e(t,n){var r,a,i,o,c,s,u,l,p,y,g,O,_,E,C;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.konnector,a=n.account,i=n.lang,o=t.collection("io.cozy.permissions"),c=(0,v.getLocalizer)(i),e.next=5,Promise.all([(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.ADMINISTRATIVE,c("MagicFolders.administrative")),(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.PHOTOS,c("MagicFolders.photos"))]);case 5:return s=e.sent,l=(u=(0,f.default)(s,2))[0],p=u[1],y=(0,m.getAccountName)(a),e.next=12,I({client:t,slug:r.slug,sourceAccountIdentifier:y});case 12:if(!(g=e.sent)){e.next=15;break}return e.abrupt("return",g);case 15:return e.next=17,N({client:t,slug:r.slug});case 17:if(!(O=e.sent)){e.next=22;break}return e.next=21,function(e){return z.apply(this,arguments)}({client:t,mainFolder:O,konnector:r,sourceAccountIdentifier:y});case 21:return e.abrupt("return",e.sent);case 22:return _=x(r,{administrative:l.path,photos:p.path}),e.next=25,w(t,_);case 25:if(e.t0=e.sent,e.t0){e.next=30;break}return e.next=29,b(t,_);case 29:e.t0=e.sent;case 30:return j({client:t,folder:e.t0,konnector:r}),E=k(r,a,{administrative:l.path,photos:p.path}),e.next=35,w(t,E);case 35:if(e.t1=e.sent,e.t1){e.next=40;break}return e.next=39,b(t,E);case 39:e.t1=e.sent;case 40:return C=e.t1,e.next=43,Promise.all([o.add(r,A(C)),j({client:t,folder:C,konnector:r}),M({client:t,folder:C,sourceAccountIdentifier:y})]);case 43:return e.abrupt("return",C);case 44:case"end":return e.stop()}},e)})),t.ensureKonnectorFolder=function(e,t){return r.apply(this,arguments)};var b=(a=(0,p.default)(d.default.mark(function e(t,n){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(g).createDirectoryByPath(n);case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.createDirectoryByPath=b;var w=(i=(0,p.default)(d.default.mark(function e(t,n){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection(g).statByPath(n);case 3:if(!(r=e.sent).data.trashed){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r.data);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0&&404===e.t0.status)){e.next=13;break}return e.abrupt("return",null);case 13:throw Error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return i.apply(this,arguments)});t.statDirectoryByPath=w;var k=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=D(((null==e||null==(n=e.folders)||null==(r=n[0])?void 0:r.defaultDir)||"$administrative/$konnector/$account").replace(/(\/+)/g,"/"),"/");O(i)||(i="$administrative/"+i);var o=i.split("/",1),c=E(i,o[0]),s=C(o[0],a),u=S(c,{konnector:e.name,account:(0,m.getAccountName)(t).replace(P,"-")});return"/".concat(s,"/").concat(u)};t.buildFolderPath=k;var x=function(e){var t,n,r,a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=D(((null==e||null==(t=e.folders)||null==(n=t[0])||null==(r=n.defaultDir)||null==(a=r.split("/"))||null==(i=a.slice(0,-1))?void 0:i.join("/"))||"$administrative/$konnector").replace(/(\/+)/g,"/"),"/");O(c)||(c="$administrative/"+c);var s=c.split("/",1),u=E(c,s[0]),l=C(s[0],o),d=S(u,{konnector:e.name});return"/".concat(l,"/").concat(d)};t.buildMainFolderPath=x;var O=function(e){return _.some(function(t){return e.startsWith(t)})},_=["$administrative","$photos"],E=function(e,t){var n=e.substring(t.length);return""===n&&(n="$konnector/$account"),n},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D((t[e.slice(1)]||"Administrative").replace(/(\/+)/g,"/"),"/")},S=function(e,t){return D(e.replace(/(\/+)/g,"/"),"/").split("/").map(function(e){return(null==t?void 0:t[e.slice(1)])||e}).join("/")},P=/\//g,A=function(e){return{saveFolder:{type:g,values:[e._id],verbs:["GET","PATCH","POST"]}}};t.buildFolderPermission=A;var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return e.replace(new RegExp("^([".concat(t,"]*)(.*?)([").concat(t,"]*)$")),"$2")},T=function(e,t){var n;return!!(null==(n=e.referenced_by)?void 0:n.find(function(e){return"io.cozy.konnectors"===e.type&&e.id==="io.cozy.konnectors/"+t}))},R=function(e,t){var n;return!!(null==(n=e.referenced_by)?void 0:n.find(function(e){return"io.cozy.accounts.sourceAccountIdentifier"===e.type&&(!t||e.id===t)}))},j=(o=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.folder,a=t.konnector,i=n.collection(g),T(r,a.slug)){e.next=5;break}return e.next=5,i.addReferencesTo(a,[r]);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),M=(c=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.folder,a=t.sourceAccountIdentifier,i=n.collection(g),R(r,a)){e.next=5;break}return e.next=5,i.addReferencesTo({_id:a,_type:"io.cozy.accounts.sourceAccountIdentifier"},[r]);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),I=(s=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.slug,a=t.sourceAccountIdentifier,e.next=3,n.query((0,y.Q)(g).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(r)}));case 3:return i=e.sent.included,e.abrupt("return",i.find(function(e){return R(e,a)}));case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});t.findKonnectorAccountFolderByReference=I;var N=(u=(0,p.default)(d.default.mark(function e(t){var n,r,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.slug,e.next=3,n.query((0,y.Q)(g).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(r)}));case 3:return a=e.sent.included,e.abrupt("return",a.find(function(e){return!R(e)}));case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});function z(){return(z=(0,p.default)(d.default.mark(function e(t){var n,r,a,i,o,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.mainFolder,a=t.konnector,i=t.sourceAccountIdentifier,o=r.path+"/"+i,e.next=4,w(n,o);case 4:if(e.t0=e.sent,e.t0){e.next=9;break}return e.next=8,b(n,o);case 8:e.t0=e.sent;case 9:return c=e.t0,e.next=12,j({client:n,folder:c,konnector:a});case 12:return e.next=14,M({client:n,folder:c,sourceAccountIdentifier:i});case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},23721:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeCategories=h,t.areTermsValid=m,t.isPartnershipValid=v,t.sanitize=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return!e.categories&&e.category&&"string"==typeof e.category&&(t.categories=[e.category],delete t.category),t.categories=h(t.categories),"object"==typeof e.name&&(t.name=e.name.en),e.available_version&&(t.availableVersion=e.available_version,delete t.available_version),e.latest_version&&(t.latestVersion=e.latestVersion,delete t.latest_version),t.terms&&!m(t.terms)&&delete t.terms,t.partnership&&!v(t.partnership)&&delete t.partnership,t.fields&&(t.fields=g(e.fields)),t},t.getIdentifier=t.sanitizeIdentifier=t.legacyLoginFields=t.ROLE_IDENTIFIER=void 0;var a=r(n(26396)),i=r(n(49870)),o=r(n(88055)),c=r(n(20826));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l="identifier";t.ROLE_IDENTIFIER=l;var d=["login","identifier","new_identifier","email"];t.legacyLoginFields=d;var f=["secret","dob","code","answer","access_token","refresh_token","appSecret"],p=["banking","cozy","energy","health","host_provider","insurance","isp","mes_infos","online_services","others","partners","press","productivity","ptnb","public_service","shopping","social","telecom","transport"];function h(e){if(!e)return["others"];var t=e.filter(function(e){return p.includes(e)});return t.length?t:["others"]}function m(e){return!!(e&&e.id&&e.url&&e.version)}function v(e){return!!(e&&e.description)}var y=function(e){var t=(0,o.default)(e),n=!1;for(var r in t)t[r].role===l&&(n?delete t[r].role:n=!0);if(n)return t;var a,i=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(d);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(t[c])return t[c].role=l,t}}catch(e){i.e(e)}finally{i.f()}for(var u in t)if("password"!==t[u].type){t[u].role=l;break}return t};t.sanitizeIdentifier=y,t.getIdentifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.default)(y(e),function(e){return e.role===l})||null};var g=(0,i.default)([function(e){var t=(0,o.default)(e);return delete t.advancedFields,t},y,function(e){var t=(0,o.default)(e);for(var n in t){var r=t[n],a=void 0===r.required?r.isRequired:r.required;t[n].required="boolean"!=typeof a||a}return t},function(e){var t=(0,o.default)(e);for(var n in t){var r=t[n];"boolean"!=typeof r.encrypted&&(r.encrypted="password"===r.type||f.includes(n))}return t}])},73544:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchURL=t.generateUrlForNote=t.generatePrivateUrl=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(88237),s=a(n(95527)),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.returnUrl,a=new URL(e);return r&&a.searchParams.set("returnUrl",r),a.hash="#/n/".concat(t.id),a.toString()};t.generatePrivateUrl=u,t.generateUrlForNote=function(e,t){return s.default.warn("generateUrlForNote is deprecated. Please use models.note.generatePrivateUrl instead"),u(e,t)},r=(0,o.default)(i.default.mark(function e(t,n){var r,a,o,s,u,l,d,f,p,h,m,v=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:{},e.next=3,t.getStackClient().collection("io.cozy.notes",{driveId:r.driveId}).fetchURL({_id:n.id});case 3:if(o=(a=e.sent.data).note_id,s=a.subdomain,u=a.protocol,l=a.instance,d=a.sharecode,f=a.public_name,!d){e.next=18;break}return(h=[["id",o]]).push(["sharecode",d]),f&&h.push(["username",f]),e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(u,"://").concat(l),searchParams:h,pathname:null!=(p=r.pathname)?p:"/public/",slug:"notes",subDomainType:s}));case 18:return e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(u,"://").concat(l),pathname:null!=(m=r.pathname)?m:"",slug:"notes",subDomainType:s,hash:"/n/".concat(o)}));case 19:case"end":return e.stop()}},e)})),t.fetchURL=function(e,t){return r.apply(this,arguments)}},95948:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isForeignPaper=t.makeExpirationDescription=t.makeExpiresInMessage=t.makeExpiredMessage=t.formatContactValue=t.getTranslatedNameForContact=t.formatOtherMetadataValue=t.getTranslatedNameForOtherMetadata=t.formatInformationMetadataValue=t.getTranslatedNameForInformationMetadata=t.formatDateMetadataValue=t.getTranslatedNameForDateMetadata=t.getMetadataQualificationType=t.formatMetadataQualification=t.makeMetadataQualification=t.isExpiringSoon=t.isExpired=t.computeExpirationNoticeLink=t.computeExpirationNoticeDate=t.computeExpirationDate=t.isExpiring=t.KNOWN_BILLS_ATTRIBUTES_NAMES=t.KNOWN_OTHER_METADATA_NAMES=t.KNOWN_INFORMATION_METADATA_NAMES=t.KNOWN_DATE_METADATA_NAMES=void 0;var a=r(n(21259)),i=r(n(93165)),o=r(n(266)),c=r(n(97793)),s=r(n(70173)),u=n(73670),l=n(56675),d=n(62878),f=r(n(58156)),p=n(40889),h={national_id_card:"https://www.service-public.fr/particuliers/vosdroits/N358",residence_permit:"https://www.service-public.fr/particuliers/vosdroits/N110",passport:"https://www.service-public.fr/particuliers/vosdroits/N360",driver_license:"https://permisdeconduire.ants.gouv.fr/demarches-en-ligne/perte-vol-deterioration-fin-de-validite-ou-changement-d-etat-civil"},m=["AObtentionDate","BObtentionDate","CObtentionDate","DObtentionDate","obtentionDate","expirationDate","referencedDate","issueDate","shootingDate","date","datetime"];t.KNOWN_DATE_METADATA_NAMES=m;var v=["number","bicNumber","country","refTaxIncome","contractType","netSocialAmount","employerName","vehicle.licenseNumber","vehicle.confidentialNumber","noticePeriod"];t.KNOWN_INFORMATION_METADATA_NAMES=v;var y=["contact","page","qualification"];t.KNOWN_OTHER_METADATA_NAMES=y;var g=["amount","subtype","employer"];t.KNOWN_BILLS_ATTRIBUTES_NAMES=g;var b=function(e){var t,n,r,a,i,o=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label,c=null==(r=e.metadata)?void 0:r.country,s=null==(a=e.metadata)?void 0:a.expirationDate,u=null==(i=e.metadata)?void 0:i.noticePeriod;return"national_id_card"===o&&(!c||"fr"===c)&&!!s&&!!u},w=function(e){var t,n,r=null==(t=e.metadata)?void 0:t.expirationDate,a=null==(n=e.metadata)?void 0:n.noticePeriod;return!!r&&!!a},k=function(e){var t,n,r,a=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label,i=null==(r=e.metadata)?void 0:r.referencedDate,o=e.created_at;return"personal_sporting_licence"===a&&(!!i||!!o)};t.isExpiring=function(e){return!!(b(e)||w(e)||k(e))};var x=function(e){if(b(e)||w(e)){var t;return new Date(null==(t=e.metadata)?void 0:t.expirationDate)}if(k(e)){var n,r=null==(n=e.metadata)?void 0:n.referencedDate,a=e.created_at;return(0,i.default)(new Date(null!=r?r:a),{days:365})}return null};t.computeExpirationDate=x;var O=function(e){if(b(e)||w(e)){var t;return parseInt(null==(t=e.metadata)?void 0:t.noticePeriod,10)}return k(e)?15:null},_=function(e){var t=x(e);if(null==t)return null;var n=O(e);return null==n?null:(0,o.default)(t,{days:n})};t.computeExpirationNoticeDate=_,t.computeExpirationNoticeLink=function(e){var t,n,r=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label;return r&&h[r]||null},t.isExpired=function(e){var t=new Date,n=x(e);return null!=n&&n<=t},t.isExpiringSoon=function(e){var t=new Date,n=x(e),r=_(e);return null!=n&&null!=r&&r<=t&&t<n};var E=function(e){var t=e.metadata,n=e.knownMetadataPath,r=e.value||(0,f.default)(t,n,null)||null;return Object.keys(t).some(function(e){return n.startsWith(e)})||"contact"===n?{name:n,value:r}:null};t.makeMetadataQualification=E,t.formatMetadataQualification=function(e){var t=m.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean).filter(function(e,t,n){return n.length>1?"datetime"!==e.name:e}),n=v.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean),r=y.map(function(t){var n,r="qualification"===t?null==(n=e[t])?void 0:n.label:e[t];return E({metadata:e,knownMetadataPath:t,value:r})}).filter(Boolean);return[].concat((0,a.default)(t),(0,a.default)(n),(0,a.default)(r))},t.getMetadataQualificationType=function(e){return m.includes(e)?"date":v.includes(e)?"information":y.includes(e)?"contact"===e?"contact":"other":g.includes(e)?"bills":null},t.getTranslatedNameForDateMetadata=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.qualification.date.title.".concat(e))},t.formatDateMetadataValue=function(e,t){var n=t.lang,r=t.f,a=(0,u.getLocalizer)(n);return e?r(e,"en"===n?"LL/dd/yyyy":"dd/LL/yyyy"):a("Scan.qualification.noInfo")},t.getTranslatedNameForInformationMetadata=function(e,t){var n=t.lang,r=t.qualificationLabel,a=(0,u.getLocalizer)(n);return a("number"===e?"Scan.qualification.information.title.".concat(r,".").concat(e):"Scan.qualification.information.title.".concat(e))},t.formatInformationMetadataValue=function(e,t){var n=t.lang,r=t.name,a=t.qualificationLabel,i=(0,u.getLocalizer)(n),o=(0,l.getLocalizer)(n).t;return"number"==typeof e||e?"noticePeriod"===r?"".concat(e," ").concat(i("Scan.qualification.information.day",{smart_count:e})):"contractType"===r?i("Scan.attributes.contractType.".concat(e),{_:e}):"refTaxIncome"===r||"netSocialAmount"===r||"amount"===r||"number"===r&&"pay_sheet"===a?"".concat(e," â‚¬"):"country"===r&&(0,p.isValidCountryCodeTranslation)(n,e)?o("countries.".concat(e)):e:i("Scan.qualification.noInfo")},t.getTranslatedNameForOtherMetadata=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.qualification.".concat(e))},t.formatOtherMetadataValue=function(e,t){var n=t.lang,r=t.name,a=(0,u.getLocalizer)(n);return"qualification"===r?a("Scan.items.".concat(e),{smart_count:1}):a("Scan.qualification.".concat(e))},t.getTranslatedNameForContact=function(e){var t=e.lang;return(0,u.getLocalizer)(t)("Scan.qualification.contact")},t.formatContactValue=function(e){return e&&e.length>0?e.map(function(e){return"".concat((0,d.getDisplayName)(e))}).join(", "):""},t.makeExpiredMessage=function(e){var t=e.lang;return(0,u.getLocalizer)(t)("Scan.expiration.expired")},t.makeExpiresInMessage=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.expiration.expiresIn",{duration:(0,c.default)(new Date(e),{locale:"fr"===n?s.default:void 0})})},t.makeExpirationDescription=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.expiration.description",{duration:(0,c.default)(new Date(e),{locale:"fr"===n?s.default:void 0})})},t.isForeignPaper=function(e){var t;return null!=(t=e.metadata)&&!!t.country&&"fr"!==e.metadata.country.toLowerCase()}},395:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnly=v,t.fetchOwn=y,t.isForType=b,t.isDocumentReadOnly=function(e){return k.apply(this,arguments)},t.isShortcutCreatedOnTheRecipientCozy=void 0;var a=r(n(26396)),i=r(n(92207)),o=r(n(79092)),c=r(n(21259)),s=r(n(5287)),u=r(n(58156));r(n(6023));var l=n(11071),d=n(39046),f=n(148),p=r(n(95527));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.writability;return e.verbs&&e.verbs.length>0&&0===(0,s.default)(e.verbs,["ALL"].concat((0,c.default)(void 0===n?["PATCH","POST","PUT","DELETE"]:n))).length}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection("io.cozy.permissions"),e.next=3,n.fetchOwnPermissions();case 3:if(r=e.sent,a=(0,u.default)(r,"data.attributes.permissions")){e.next=7;break}throw"Can't get self permissions";case 7:return e.abrupt("return",Object.values(a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return e.type===t||e.type+".*"===t}function w(){return(w=(0,o.default)(i.default.mark(function e(t){var n,r,a,c,s,u,p,h,v,g,w;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w=function(){return(w=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.doc,r=t.client,!(o=(a=t.perms).find(function(e){if(!e.values)return!0;var t=n[e.selector||"id"];return e.values.includes(t)}))){e.next=6;break}return e.abrupt("return",o);case 6:if(s!==f.DOCTYPE_FILES){e.next=16;break}if(e.t0=c=(0,d.getParentFolderId)(n),!e.t0){e.next=13;break}return e.next=12,h(c);case 12:e.t0=e.sent;case 13:if(!(u=e.t0)){e.next=16;break}return e.abrupt("return",g({doc:u,perms:a,client:r}));case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)},g=function(e){return w.apply(this,arguments)},v=function(){return(v=(0,o.default)(i.default.mark(function e(t){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.Q)(f.DOCTYPE_FILES).getById(t),e.next=3,r.query(n);case 3:return a=e.sent,e.abrupt("return",a&&a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return v.apply(this,arguments)},n=t.document,r=t.client,a=t.permissions,c=n._id||n.id,s=n._type||n.type,u=m(m({},n),{},{id:c,type:s}),!a){e.next=12;break}e.t0=a,e.next=15;break;case 12:return e.next=14,y(r);case 14:e.t0=e.sent;case 15:return p=e.t0.filter(function(e){return b(e,s)}),e.abrupt("return",g({doc:u,client:r,perms:p}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.document,r=t.client,a=t.writability,void 0!==(o=t.permissions)){e.next=10;break}return e.next=7,y(r);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=o;case 11:if(!((c=e.t0).length<=1)){e.next=16;break}e.t1=c[0],e.next=19;break;case 16:return e.next=18,function(e){return w.apply(this,arguments)}({document:n,client:r,permissions:c});case 18:e.t1=e.sent;case 19:if(!(s=e.t1)){e.next=24;break}return e.abrupt("return",v(s,{writability:a}));case 24:return p.default.warn("can't find the document in current attached permissions"),e.abrupt("return",void 0);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.isShortcutCreatedOnTheRecipientCozy=function(e){if(!e.included)return!1;var t=e.included.find(function(e){return"io.cozy.sharings.members"===e.type});return!!t&&!!t.attributes.instance}},50134:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeSharingLink=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(79092)),s=n(148);a(n(6023));var u=n(88237);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r=(0,c.default)(i.default.mark(function e(t,n){var r,a,o,c,l,f,p,h,m,v,y=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(o=y.length>2&&void 0!==y[2]?y[2]:{}).ttl,l=o.password,p=void 0===(f=o.verbs)?["GET"]:f,h=d(d({_type:s.DOCTYPE_PERMISSIONS,permissions:{files:{type:s.DOCTYPE_FILES,values:n,verbs:p}}},c&&{ttl:c}),l&&{password:l}),e.next=4,t.save(h);case 4:return m=e.sent.data,v=(0,u.generateWebLink)({cozyUrl:t.getStackClient().uri,searchParams:[["sharecode",null==m||null==(r=m.attributes)||null==(a=r.shortcodes)?void 0:a.code]],pathname:"/public",slug:"drive",subDomainType:t.capabilities.flat_subdomains?"flat":"nested"}),e.abrupt("return",v);case 8:case"end":return e.stop()}},e)})),t.makeSharingLink=function(e,t){return r.apply(this,arguments)}},66224:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTimeSeriesByIntervalAndSource=t.saveTimeSeries=void 0;var o=i(n(92207)),c=i(n(79092)),s=n(11071),u=function(e){if(!e.startDate||!e.endDate)throw Error("You must specify a startDate and endDate for the time serie");if(!Date.parse(e.startDate)||!Date.parse(e.endDate))throw Error("Invalid date format for the time serie");if(!e.dataType)throw Error("You must specify a dataType for the time serie");if(!e.series||!Array.isArray(e.series))throw Error("You must specify a series array for the time serie")};r=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,s,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dataType,a=n.series,i=n.startDate,c=n.endDate,s=n.source,l=n.theme,u({dataType:r,series:a,startDate:i,endDate:c,source:s}),d={_type:"io.cozy.timeseries.".concat(r),startDate:i,endDate:c,source:s,theme:l,series:a},e.abrupt("return",t.save(d));case 5:case"end":return e.stop()}},e)})),t.saveTimeSeries=function(e,t){return r.apply(this,arguments)},a=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,u,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.startDate,a=n.endDate,i=n.dataType,c=n.source,u=n.limit,l="io.cozy.timeseries.".concat(i),d=(0,s.Q)(l).where({source:c,startDate:{$gte:r},endDate:{$lte:a}}).indexFields(["source","startDate","endDate"]).sortBy([{source:"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(u||5),e.abrupt("return",t.query(d));case 4:case"end":return e.stop()}},e)})),t.fetchTimeSeriesByIntervalAndSource=function(e,t){return a.apply(this,arguments)}},22902:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.triggers=t.triggerStates=void 0;var a=r(n(26396)),i=n(47881),o=r(n(95527));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=["CHALLENGE_ASKED","DISK_QUOTA_EXCEEDED","TERMS_VERSION_MISMATCH","USER_ACTION_NEEDED","USER_ACTION_NEEDED.CHANGE_PASSWORD","USER_ACTION_NEEDED.ACCOUNT_REMOVED","USER_ACTION_NEEDED.WEBAUTH_REQUIRED","USER_ACTION_NEEDED.SCA_REQUIRED","LOGIN_FAILED"],l={getLastExecution:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_execution},getLastSuccess:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_success},getLastsuccess:function(e){var t;return o.default.warn("Deprecated, please use getLastSuccess instead of getLastsuccess"),null==e||null==(t=e.current_state)?void 0:t.last_success},isErrored:function(e){var t;return(null==e||null==(t=e.current_state)?void 0:t.status)==="errored"},getLastErrorType:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_error}};t.triggerStates=l;var d={isKonnectorWorker:function(e){return"konnector"===e.worker},isKonnector:function(e){return"konnector"===e.worker||"client"===e.worker},getKonnector:function(e){return d.isKonnector(e)?e.message&&e.message.konnector?e.message.konnector:e.message&&e.message.Data?JSON.parse(atob(e.message.Data)).konnector:void 0:null},getAccountId:function(e){var t,n,r=null==e||null==(t=e.message)?void 0:t.Data;return r?JSON.parse(atob(r)).account:null==e||null==(n=e.message)?void 0:n.account},isLatestErrorMuted:function(e,t){var n=l.getLastErrorType(e),r=l.getLastSuccess(e),a=r?new Date(r):new Date;return(0,i.getMutedErrors)(t).some(function(e){return e.type===n&&(!r||new Date(e.mutedAt)>a)})},hasActionableError:function(e){var t;return u.includes(null==e||null==(t=e.current_state)?void 0:t.last_error)},buildTriggerAttributes:function(e){var t=e.account,n=e.cron,r=e.folder,a=e.konnector,i={account:t._id,konnector:a.slug};r&&(i.folder_to_save=r._id);var o=a.clientSide?{type:"@client"}:{type:"@cron",arguments:void 0===n?"0 0 0 * * 0":n};return s(s({},{worker:"konnector",message:i}),o)}};t.triggers=d},90799:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasPassword=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(40543),s=n(65864),u=n(98750);r=(0,o.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.hasExtensionInstalledAttribute)(t);case 2:return n=e.sent,e.next=5,(0,c.hasPasswordDefinedAttribute)(t);case 5:return r=e.sent,e.abrupt("return",!((0,u.isMagicLink)(t)||(0,u.isOIDC)(t))||n||r);case 7:case"end":return e.stop()}},e)})),t.hasPassword=function(e){return r.apply(this,arguments)}},93923:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getFlagshipDownloadLink=t.getCreatedByApp=t.hasBeenUpdatedByApp=void 0;var a=r(n(58156)),i=n(7127),o=r(n(94619));t.hasBeenUpdatedByApp=function(e,t){var n=(0,a.default)(e,"cozyMetadata.updatedByApps");return!!(n&&n.find(function(e){return e.slug===t}))},t.getCreatedByApp=function(e){return(0,a.default)(e,"cozyMetadata.createdByApp")},t.getFlagshipDownloadLink=function(e){if((0,i.isAndroid)()){var t=(0,o.default)("flagship.playstore-id")||"io.cozy.flagship.mobile";return"https://play.google.com/store/apps/details?id=".concat(t,"&hl=").concat(e)}if((0,i.isIOS)()){var n=(0,o.default)("flagship.appstore-id")||"id1600636174";return"https://apps.apple.com/".concat(e,"/app/").concat(n)}return(0,o.default)("flagship.download-link")||"https://cozy.io/".concat(e,"/download")}},46728:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPerformanceApi=void 0,t.defaultPerformanceApi={measure:function(e){},mark:function(e){return e}}},10683:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.webPerformanceApi=void 0;var a=r(n(97200));t.webPerformanceApi={measure:function(e){var t=e.measureName,n=e.markName,r=e.category,a=e.color,i=null!=t?t:n;performance.measure(i,{start:n,detail:{devtools:{track:null!=r?r:"CozyClient",color:null!=a?a:"secondary"}}})},mark:function(e){var t="".concat((0,a.default)()," ").concat(e);return performance.mark(t),t}}},1769:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={olderThan:function(e){return function(t){return!t||!t.lastUpdate||Date.now()-t.lastUpdate>e}},noFetch:function(){return!1}}},27069:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));t.default=function(){var e;function t(){(0,o.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),(i=this.pending[r])?o=i:(o=t(),this.pending[r]=o),e.prev=3,e.next=6,o;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[r]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,n){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),n=this.pending[t];return n||null}}]),t}()},11071:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryDefinition=t.MutationTypes=t.Mutations=t.getDoctypeFromOperation=t.uploadFile=t.removeReferencedBy=t.addReferencedBy=t.removeReferencesTo=t.addReferencesTo=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocuments=t.createDocument=t.isAGetByIdQuery=t.Q=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(20826)),s=r(n(95527));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this.doctype=t.doctype,this.id=t.id,this.ids=t.ids,this.selector=t.selector,this.fields=t.fields,this.indexedFields=t.indexedFields,this.partialFilter=t.partialFilter,this.sort=t.sort,this.includes=t.includes,this.referenced=t.referenced,this.limit=t.limit,this.skip=t.skip,this.cursor=t.cursor,this.bookmark=t.bookmark,this.sharingId=t.sharingId}return(0,o.default)(e,[{key:"checkSortOrder",value:function(e){var t=e.sort,n=e.selector,r=e.indexedFields,a=this.sort||t,i=this.selector||n||{},o=this.indexedFields||r;if(a){var c=o||Object.keys(i);if(c&&!(c.length<1)){if(a.length>c.length)return void s.default.warn("You should not sort on non-indexed fields.\n\n        Sort: ".concat(JSON.stringify(a),"\n\n        Indexed fields: ").concat(c));for(var u=0;u<a.length;u++)if(Object.keys(a[u])[0]!==c[u])return void s.default.warn("The sort order should be the same than the indexed fields.\n\n          Sort: ".concat(JSON.stringify(a),"\n\n          Indexed fields: ").concat(c,"\n"))}}}},{key:"checkSelector",value:function(e){(0,c.default)(e,["$exists",!1])&&s.default.warn('The "$exists: false" predicate should be defined as a partial index for better performance.\n\n        Selector: '.concat(JSON.stringify(e))),(0,c.default)(e,"$ne")&&s.default.info("The use of the $ne operator is more efficient with a partial index.\n\n        Selector: ".concat(JSON.stringify(e)));var t=(0,c.default)(e,function(e){return Array.isArray(e)});if(t&&!t.startsWith("$"))throw Error("You pass ".concat(JSON.stringify(e),", this is a valid mango operation, \n\n        but sift doesn't support it so CozyClient can not evaluate \n\n        the request in memory. You must use a MongoDB operator \n\n        like $in or $or operator instead, preferably in a partial index, \n\n        to avoid costly full-scan"))}},{key:"checkSelectFields",value:function(e){var t=e.fields,n=e.selector,r=e.partialFilter,a=this.fields||t,i=this.selector||n,o=this.partialFilter||r;if(a&&(i||o)&&!Object.keys(l(l({},i),o)).every(function(e){return a.includes(e)}))throw Error("The .select should includes all the fields used in where or partialIndex.\n        Please fix this query: fields: ".concat(JSON.stringify(this.toDefinition())))}},{key:"getById",value:function(t){if(!t)throw Error("getById called with undefined id");return new e(l(l({},this.toDefinition()),{},{id:t}))}},{key:"getByIds",value:function(t){return new e(l(l({},this.toDefinition()),{},{ids:t}))}},{key:"where",value:function(t){return this.checkSortOrder({selector:t}),this.checkSelector(t),this.checkSelectFields({selector:t}),new e(l(l({},this.toDefinition()),{},{selector:t}))}},{key:"select",value:function(t){return this.checkSelectFields({fields:t}),new e(l(l({},this.toDefinition()),{},{fields:t}))}},{key:"indexFields",value:function(t){return this.checkSortOrder({indexedFields:t}),new e(l(l({},this.toDefinition()),{},{indexedFields:t}))}},{key:"partialIndex",value:function(t){return this.checkSelectFields({partialFilter:t}),new e(l(l({},this.toDefinition()),{},{partialFilter:t}))}},{key:"sortBy",value:function(t){if(!Array.isArray(t))throw Error('Invalid sort, should be an array ([{ label: "desc"}, { name: "asc"}]), you passed '.concat(JSON.stringify(t),"."));return this.checkSortOrder({sort:t}),new e(l(l({},this.toDefinition()),{},{sort:t}))}},{key:"include",value:function(t){if(!Array.isArray(t))throw Error("include() takes an array of relationship names");return new e(l(l({},this.toDefinition()),{},{includes:t}))}},{key:"limitBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{limit:t}))}},{key:"UNSAFE_noLimit",value:function(){return new e(l(l({},this.toDefinition()),{},{limit:null}))}},{key:"offset",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,cursor:void 0,skip:t}))}},{key:"offsetCursor",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,skip:void 0,cursor:t}))}},{key:"offsetBookmark",value:function(t){return new e(l(l({},this.toDefinition()),{},{skip:void 0,cursor:void 0,bookmark:t}))}},{key:"referencedBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{referenced:t}))}},{key:"sharingById",value:function(t){return new e(l(l({},this.toDefinition()),{},{sharingId:t}))}},{key:"toDefinition",value:function(){return{doctype:this.doctype,id:this.id,ids:this.ids,selector:this.selector,fields:this.fields,indexedFields:this.indexedFields,partialFilter:this.partialFilter,sort:this.sort,includes:this.includes,referenced:this.referenced,limit:this.limit,skip:this.skip,cursor:this.cursor,bookmark:this.bookmark,sharingId:this.sharingId}}}]),e}();t.QueryDefinition=d,t.Q=function(e){return new d({doctype:e})},t.isAGetByIdQuery=function(e){if(!e)return!1;var t=Object.values(e);return 0!==t.length&&2===t.filter(function(e){return void 0!==e}).length&&void 0!==e.id};var f="CREATE_DOCUMENT",p="CREATE_DOCUMENTS",h="UPDATE_DOCUMENT",m="UPDATE_DOCUMENTS",v="DELETE_DOCUMENT",y="DELETE_DOCUMENTS",g="ADD_REFERENCES_TO",b="UPLOAD_FILE",w=function(e){return{mutationType:T.CREATE_DOCUMENT,document:e}};t.createDocument=w;var k=function(e){return{mutationType:T.CREATE_DOCUMENTS,documents:e}};t.createDocuments=k;var x=function(e){return{mutationType:T.UPDATE_DOCUMENT,document:e}};t.updateDocument=x;var O=function(e){return{mutationType:T.UPDATE_DOCUMENTS,documents:e}};t.updateDocuments=O;var _=function(e){return{mutationType:T.DELETE_DOCUMENT,document:e}};t.deleteDocument=_;var E=function(e){return{mutationType:T.DELETE_DOCUMENTS,documents:e}};t.deleteDocuments=E;var C=function(e,t){return{mutationType:T.ADD_REFERENCES_TO,referencedDocuments:t,document:e}};t.addReferencesTo=C;var S=function(e,t){return{mutationType:T.REMOVE_REFERENCES_TO,referencedDocuments:t,document:e}};t.removeReferencesTo=S;var P=function(e,t){return{mutationType:T.ADD_REFERENCED_BY,referencedDocuments:t,document:e}};t.addReferencedBy=P;var A=function(e,t){return{mutationType:T.REMOVE_REFERENCED_BY,referencedDocuments:t,document:e}};t.removeReferencedBy=A;var D=function(e,t){return{mutationType:T.UPLOAD_FILE,file:e,dirPath:t}};t.uploadFile=D,t.getDoctypeFromOperation=function(e){if(!e.mutationType)return e.doctype;var t=e.mutationType;switch(t){case f:return e.document._type;case p:return e.documents[0]._type;case h:return e.document._type;case m:return e.documents[0]._type;case v:return e.document._type;case y:return e.documents[0]._type;case g:case b:throw Error("Not implemented");default:throw Error("Unknown mutationType ".concat(t))}},t.Mutations={createDocument:w,createDocuments:k,updateDocument:x,updateDocuments:O,deleteDocument:_,deleteDocuments:E,addReferencesTo:C,removeReferencesTo:S,addReferencedBy:P,removeReferencedBy:A,uploadFile:D};var T={CREATE_DOCUMENT:f,CREATE_DOCUMENTS:p,UPDATE_DOCUMENT:h,UPDATE_DOCUMENTS:m,DELETE_DOCUMENT:v,DELETE_DOCUMENTS:y,ADD_REFERENCES_TO:g,REMOVE_REFERENCES_TO:"REMOVE_REFERENCES_TO",ADD_REFERENCED_BY:"ADD_REFERENCED_BY",REMOVE_REFERENCED_BY:"REMOVE_REFERENCED_BY",UPLOAD_FILE:b};t.MutationTypes=T},59165:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(73916)),i=r(n(94394)),o=r(n(35970)),c=r(n(2404)),s=r(n(63375)),u=r(n(9063)),l=n(11071),d=function(e){var t=(0,i.default)(e,function(e){return e.id||e.ids?"idQueries":"others"}),n=t.idQueries,r=void 0===n?[]:n,a=t.others,d=r.length>0?new l.QueryDefinition({doctype:e[0].doctype,ids:(0,s.default)((0,o.default)(r.map(function(e){return e.id||e.ids})))}):[];return(0,u.default)(void 0===a?[]:a,c.default).concat(d)};t.default=function(e){var t=(0,i.default)(e,function(e){return e.doctype});return(0,o.default)(Object.values((0,a.default)(t,d)))}},41520:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.registryEndpoint=t.transformRegistryFormatToStackFormat=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(26396)),u=r(n(58156));n(48318);var l=r(n(33844)),d=n(52146);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.transformRegistryFormatToStackFormat=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:(0,u.default)(e,"latest_version.manifest.source"),attributes:(0,u.default)(e,"latest_version.manifest")},e)},t.registryEndpoint="/registry/";var p=function(e){var t=new URLSearchParams(e).toString();return t?"?".concat(t):""},h=function(e){var t=e.type,n=t===d.APP_TYPE.KONNECTOR||"node"===t?"konnectors":"apps";return"/".concat(n)};t.default=function(){var e,t,n;function r(e){if((0,o.default)(this,r),!e.client)throw Error("Need to pass a client to instantiate a Registry API.");this.client=e.client}return(0,c.default)(r,[{key:"installApp",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.slug,i=t.terms,o={},(c=t.installed)&&(o.PermissionsAcked=c),n&&(o.Source=n),s=p(o),!i){e.next=9;break}return e.next=9,l.default.save(this.client,i);case 9:return u=t.installed?"PUT":"POST",d=h(t),e.abrupt("return",this.client.stackClient.fetchJSON(u,"".concat(d,"/").concat(r).concat(s)));case 12:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"uninstallApp",value:(t=(0,i.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slug,r=h(t),e.abrupt("return",this.client.stackClient.fetchJSON("DELETE","".concat(r,"/").concat(n)));case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"fetchApps",value:(n=(0,i.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.channel,r=t.type,s=new URLSearchParams(c={limit:o=void 0===(i=t.limit)?"200":i,versionsChannel:n,latestChannelVersion:n}).toString(),r&&(s+="&filter[type]=".concat(r)),e.next=6,this.client.stackClient.fetchJSON("GET","/registry?".concat(s));case 6:return u=e.sent.data,e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"fetchAppsInMaintenance",value:function(){return this.client.stackClient.fetchJSON("GET","/registry/maintenance")}},{key:"fetchApp",value:function(e){return this.client.stackClient.fetchJSON("GET","/registry/".concat(e))}},{key:"fetchAppVersion",value:function(e){if(!e.slug)throw Error("Need to pass a slug to use fetchAppVersion");var t=e.slug,n=e.channel,r=e.version,a=n||r&&"latest"!==r?n:"stable",i="/registry/".concat(t,"/");return a?i+="".concat(a,"/").concat(r||"latest"):i+="".concat(r),this.client.stackClient.fetchJSON("GET",i)}}]),r}()},5574:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.persistVirtualDocuments=t.shouldDocumentBePersisted=t.shouldEnforcePersist=t.ENFORCE_LIST=void 0;var o=i(n(92207)),c=i(n(79092));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}i(n(6023)),n(11071);var u=["io.cozy.files.shortcuts"];t.ENFORCE_LIST=u;var l=function(e){return u.includes(e.doctype)};t.shouldEnforcePersist=l;var d=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&!e.cozyLocalOnly&&((null==(t=e.meta)||!t.rev)&&!e._rev||!!n||!!e.driveId&&"io.cozy.files"===e._type)};t.shouldDocumentBePersisted=d,r=(0,c.default)(o.default.mark(function e(t,n,r){var a,i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l(n),"io.cozy.apps_registry"!==n.doctype){e.next=5;break}return e.next=4,f(t,{_type:"io.cozy.apps_registry",_id:n.id,cozyPouchData:r},a);case 4:return e.abrupt("return",e.sent);case 5:if(Array.isArray(r)){e.next=10;break}return e.next=8,f(t,r,a);case 8:e.next=28;break;case 10:i=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(r.filter(function(e){return d(e,a)})),e.prev=12,i.s();case 14:if((c=i.n()).done){e.next=20;break}return u=c.value,e.next=18,f(t,u,a);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[12,22,25,28]])})),t.persistVirtualDocuments=function(e,t,n){return r.apply(this,arguments)};var f=(a=(0,c.default)(o.default.mark(function e(t,n,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(n,r)){e.next=3;break}return e.next=3,t.chain.persistCozyData(n);case 3:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})},93791:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndMergeDocument=t.getCollectionFromSlice=t.getDocumentsFromSlice=t.getDocumentFromSlice=t.default=t.mergeDocumentsWithRelationships=void 0;var a=r(n(26396)),i=r(n(58156)),o=r(n(90179)),c=r(n(32017)),s=r(n(95051)),u=r(n(95527)),l=n(67989),d=n(11071),f=n(48981),p=n(51264);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=(0,s.default)({mergeArray:function(e){var t=e.clone;return function(e,n){return t(n)}}}),y=function(e,t){var n=t._type;if(!n)throw Error("Document without _type");if(!(0,p.properId)(t))throw Error("Document without id");var r=(0,i.default)(e,[n,(0,p.properId)(t)]);return(0,c.default)(r,t)?e:m(m({},e),{},(0,a.default)({},n,m(m({},e[n]),{},(0,a.default)({},(0,p.properId)(t),g(r,t)))))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m(m({},e),t);return(e.relationships||t.relationships)&&(n.relationships=m(m({},e.relationships),t.relationships)),n};t.mergeDocumentsWithRelationships=g,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!(0,l.isReceivingData)(t)&&!(0,f.isReceivingMutationResult)(t))return e;if(t&&t.definition){if(t.definition.mutationType===d.MutationTypes.DELETE_DOCUMENT){var n=t.definition.document._id,r=t.definition.document._type;return m(m({},e),{},(0,a.default)({},r,(0,o.default)(e[r],n)))}else if(t.definition.mutationType===d.MutationTypes.DELETE_DOCUMENTS){var i=t.definition.documents.map(function(e){return e._id}),c=t.definition.documents[0]._type;return m(m({},e),{},(0,a.default)({},c,(0,o.default)(e[c],i)))}}var s=t.response,u=s.data,p=s.included;if(!u||Array.isArray(u)&&0===u.length)return e;var h=p?p.reduce(y,e):e;return Array.isArray(u)?b(u,h):y(h,u)},t.getDocumentFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");if(!n)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined id");return e[t]&&e[t][n]?e[t][n]:null},t.getDocumentsFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined doctype");if(!n||n.length<1)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined ids");return e[t]?n.map(function(n){return e[t][n]}).filter(Boolean):[]},t.getCollectionFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");return e[t]?Object.values(e[t]):null};var b=function(e,t){var n=e[0]._type;if(!n)throw u.default.info("Document without _type",e[0]),Error("Document without _type");var r=new Map(e.map(function(e){return[(0,p.properId)(e),e]})),a=Object.assign({},t);a[n]=Object.assign({},t[n]),a[n]||(a[n]={});var i=!1;return(r.forEach(function(e,t){var r=a[n][t];r?(0,c.default)(r,e)||(a[n][t]=v(a[n][t],e),i=!0):(a[n][t]=e,i=!0)}),i)?a:t};t.extractAndMergeDocument=b},51264:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.properId=void 0,t.properId=function(e){return e.id||e._id}},55477:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initQuery",{enumerable:!0,get:function(){return f.initQuery}}),Object.defineProperty(t,"loadQuery",{enumerable:!0,get:function(){return f.loadQuery}}),Object.defineProperty(t,"resetQuery",{enumerable:!0,get:function(){return f.resetQuery}}),Object.defineProperty(t,"receiveQueryResult",{enumerable:!0,get:function(){return f.receiveQueryResult}}),Object.defineProperty(t,"receiveQueryError",{enumerable:!0,get:function(){return f.receiveQueryError}}),Object.defineProperty(t,"executeQueryFromState",{enumerable:!0,get:function(){return f.executeQueryFromState}}),Object.defineProperty(t,"initMutation",{enumerable:!0,get:function(){return p.initMutation}}),Object.defineProperty(t,"receiveMutationResult",{enumerable:!0,get:function(){return p.receiveMutationResult}}),Object.defineProperty(t,"receiveMutationError",{enumerable:!0,get:function(){return p.receiveMutationError}}),Object.defineProperty(t,"getStateRoot",{enumerable:!0,get:function(){return h.getStateRoot}}),Object.defineProperty(t,"getCollectionFromState",{enumerable:!0,get:function(){return h.getCollectionFromState}}),Object.defineProperty(t,"getDocumentFromState",{enumerable:!0,get:function(){return h.getDocumentFromState}}),Object.defineProperty(t,"getQueryFromStore",{enumerable:!0,get:function(){return h.getQueryFromStore}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return h.getQueryFromState}}),Object.defineProperty(t,"getRawQueryFromState",{enumerable:!0,get:function(){return h.getRawQueryFromState}}),Object.defineProperty(t,"isQueryExisting",{enumerable:!0,get:function(){return h.isQueryExisting}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return m.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return m.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return m.dispatchDelete}}),t.resetState=t.createStore=t.default=t.StoreProxy=void 0;var i=a(n(26396)),o=a(n(82274)),c=a(n(65044)),s=a(n(94619)),u=n(91107),l=a(n(1265)),d=a(n(93791)),f=r(n(67989)),p=n(48981),h=n(3219),m=n(89612);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g="COZY_CLIENT.RESET_STATE";t.resetState=function(){return{type:g}};var b=function(){function e(t){(0,o.default)(this,e),this.state=t}return(0,c.default)(e,[{key:"readDocument",value:function(e,t){return this.state.documents[e][t]}},{key:"writeDocument",value:function(e){this.setState(function(t){return y(y({},t),{},{documents:y(y({},t.documents),{},(0,i.default)({},e._type,y(y({},t.documents[e._type]),{},(0,i.default)({},e._id,e))))})})}},{key:"setState",value:function(e){this.state=e(this.state)}},{key:"getState",value:function(){return this.state}}]),e}();t.StoreProxy=b;var w={documents:{},queries:{}},k=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0,r=e.mark("combinedReducer");if(n.type==g)return e.measure({markName:r,measureName:"".concat(r," reset"),category:"CozyClientStore"}),w;if(!(0,f.isQueryAction)(n)&&!(0,p.isMutationAction)(n))return e.measure({markName:r,measureName:"".concat(r," no query nor mutate action"),category:"CozyClientStore"}),t;if(n.update){var a=new b(t);n.update(a,n.response);var i={documents:a.getState().documents,queries:(0,f.default)(e,a.getState().queries,n,a.getState().documents)};return e.measure({markName:r,measureName:"".concat(r," update action"),category:"CozyClientStore"}),i}var o=(0,d.default)(t.documents,n),c=o!==t.documents,s={documents:o,queries:(0,f.default)(e,t.queries,n,o,c)};return e.measure({markName:r,measureName:"".concat(r," queries"),category:"CozyClientStore"}),s}};t.default=k;var x=(0,s.default)("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.compose;t.createStore=function(e){return(0,u.createStore)((0,u.combineReducers)({cozy:k(e)}),x((0,u.applyMiddleware)(l.default)))}},48981:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMutationError=t.receiveMutationResult=t.initMutation=t.isReceivingMutationResult=t.isMutationAction=void 0;var a=r(n(26396));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c="INIT_MUTATION",s="RECEIVE_MUTATION_RESULT",u="RECEIVE_MUTATION_ERROR";t.isMutationAction=function(e){return -1!==[c,s,u].indexOf(e.type)},t.isReceivingMutationResult=function(e){return e.type===s},t.initMutation=function(e,t){return{type:c,mutationId:e,definition:t}},t.receiveMutationResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(o({type:s,mutationId:e,response:t},n),{},{definition:r})},t.receiveMutationError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:u,mutationId:e,error:t,definition:n}}},67989:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryIDGenerator=t.getQueryFromSlice=t.mapIdsToDocuments=t.resetQuery=t.receiveQueryError=t.receiveQueryResult=t.loadQuery=t.initQuery=t.default=t.updateData=t.makeSorterFromDefinition=t.executeQueryFromState=t.mergeSelectorAndPartialIndex=t.convert$gtNullSelectors=t.sortAndLimitDocsIds=t.isReceivingData=t.isQueryAction=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(22056)),c=r(n(26396)),s=r(n(21259)),u=r(n(73916)),l=r(n(94394)),d=r(n(66245)),f=r(n(5287)),p=r(n(92078)),h=r(n(11331)),m=r(n(63375)),v=r(n(42877)),y=r(n(85015)),g=r(n(58156)),b=r(n(14745)),w=r(n(94619)),k=n(93791),x=n(48981),O=n(51264),_=n(11071),E=r(n(95527)),C=n(3219);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A="INIT_QUERY",D="LOAD_QUERY",T="RECEIVE_QUERY_RESULT",R="RECEIVE_QUERY_ERROR",j="RESET_QUERY",M=(0,w.default)("debug"),I=function(e){return -1!==[A,D,T,R,j].indexOf(e.type)};t.isQueryAction=I,t.isReceivingData=function(e){return e.type===T};var N={id:null,definition:null,fetchStatus:"pending",isFetching:null,lastFetch:null,lastUpdate:null,lastErrorUpdate:null,lastError:null,hasMore:!1,count:0,fetchedPagesCount:0,data:[],storeData:[],bookmark:null,relationshipNames:[]},z=function(e,t,n,r){var a,i=r.count,o=r.fetchedPagesCount,c=(0,s.default)(n);if(e.definition.sort&&t){var u=W(e.definition),l=t[e.definition.doctype];c=u(l?c.map(function(e){return l[e]}).filter(Boolean):[]).map(O.properId)}var d=e.definition.limit;return d&&(a=i<d?o>1?d*(o-1)+i:i:d*o,c=c.slice(0,a)),c};t.sortAndLimitDocsIds=z;var F=function(e,t,n,r){var a=r.count,i=r.fetchedPagesCount,o=(0,m.default)([].concat((0,s.default)(e.data),(0,s.default)(t.data.map(O.properId))));return z(e,n,o,{count:a,fetchedPagesCount:i})},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;switch(n.type){case A:if(t.lastUpdate&&t.id===n.queryId&&t.definition===n.queryDefinition)return t;return P(P({},t),{},{id:n.queryId,definition:n.queryDefinition,options:n.options,fetchStatus:t.lastUpdate?t.fetchStatus:"pending"});case D:if("loading"===t.fetchStatus)return t;if("loaded"===t.fetchStatus&&n.backgroundFetching)return P(P({},t),{},{fetchStatus:"loaded",isFetching:!0});return P(P({},t),{},{fetchStatus:"loading"});case T:var a=e.mark("RECEIVE_QUERY_RESULT"),i=n.response;if(!i.data)return e.measure({markName:a,measureName:"".concat(a," with no data"),category:"CozyClientStore"}),P(P({},t),{},{fetchStatus:"loaded",isFetching:!n.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()});var o=P({fetchStatus:"loaded",isFetching:!n.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()},M&&{execution_stats:i.execution_stats});if(!Array.isArray(i.data))return e.measure({markName:a,measureName:"".concat(a," with object"),category:"CozyClientStore"}),P(P(P({},t),o),{},{hasMore:!1,count:1,data:[(0,O.properId)(i.data)]});var c=i.meta&&i.meta.count?i.meta.count:i.data.length;if(n.backgroundFetching)return e.measure({markName:a,measureName:"".concat(a," with background fetching"),category:"CozyClientStore"}),P(P(P({},t),o),{},{bookmark:i.bookmark||null,hasMore:void 0!==i.next?i.next:t.hasMore,count:c,data:i.data.map(O.properId)});var s=t.fetchedPagesCount+1,u=F(t,i,r,{count:c,fetchedPagesCount:s});return e.measure({markName:a,measureName:"".concat(a," default"),category:"CozyClientStore"}),P(P(P({},t),o),{},{bookmark:i.bookmark||null,hasMore:void 0!==i.next?i.next:t.hasMore,count:c,fetchedPagesCount:s,data:u});case R:return P(P({},t),{},{id:n.queryId,fetchStatus:"failed",isFetching:!n.backgroundFetching&&null,lastError:n.error,lastErrorUpdate:Date.now()});case j:return P(P({},N),{},{id:n.queryId,definition:t.definition,options:t.options});default:return t}},B=function e(t){for(var n={},r=0,a=Object.entries(t);r<a.length;r++){var i=(0,o.default)(a[r],2),c=i[0],s=i[1],u=(0,h.default)(s)?e(s):s;n["$gt"===c&&null===u?"$gtnull":c]=u}return n};t.convert$gtNullSelectors=B;var U=function(e){return P(P({},(0,g.default)(e,"selector")),(0,g.default)(e,"partialFilter"))};t.mergeSelectorAndPartialIndex=U;var V=function(e){if(e.selector||e.partialFilter){var t=U(e);return b.default.use({$gtnull:function(e,t){return!!t}}),(0,b.default)(B(t))}if(e.id){var n={_id:e.id};return(0,b.default)(n)}if(!e.ids)return null;var r={_id:{$in:e.ids}};return(0,b.default)(r)};t.executeQueryFromState=function(e,t){var n,r=!!t.id;if(t.id){var a=(0,C.getDocumentFromState)(e,t.doctype,t.id);n=a?[a]:[]}else if(t.ids)n=(0,C.getDocumentsFromState)(e,t.doctype,t.ids);else{var i=(0,C.getCollectionFromState)(e,t.doctype);n=null==i?void 0:i.filter(H(t))}return!n||n.length<1?{data:r?null:[]}:r?{data:n[0]}:{data:W(t)(n)}};var H=function(e){var t=e.doctype,n=V(e);return function(e){return e._type===t&&!e._deleted&&(!n||!!n(e))}},q=function(e){return function(t){var n=(0,g.default)(t,e);return(0,y.default)(n)?n.toLowerCase():n}},W=function(e){var t=e.sort;if(!t)return function(e){return e};if(!Array.isArray(e.sort))return E.default.warn("Correct update of queries with a sort that is not an array is not supported. Use an array as argument of QueryDefinition::sort"),function(e){return e};var n=t.map(function(e){return Object.entries(e)[0]}),r=n.map(function(e){return e[0]}).map(q),a=n.map(function(e){return e[1]});return function(e){return(0,v.default)(e,r,a)}};t.makeSorterFromDefinition=W;var G=function(e,t,n){var r=H(e.definition),a=(0,u.default)((0,l.default)(t,r),function(e){return e.map(O.properId)}),i=a.true,o=void 0===i?[]:i,c=a.false,s=e.data,h=e.options&&e.options.autoUpdate,m=!h||!1!==h.remove,v=!h||!1!==h.add,y=!h||!1!==h.update,g=m?(0,f.default)(s,void 0===c?[]:c):[],b=v?(0,d.default)(o,s):[],w=y?(0,f.default)(s,o):[],k=g.length||b.length||w.length,x=(0,d.default)((0,p.default)(s,b),g),_=e.fetchedPagesCount,E=z(e,n,x,{count:x.length,fetchedPagesCount:_});return P(P({},e),{},{data:E,count:E.length,fetchedPagesCount:_,lastUpdate:k?Date.now():e.lastUpdate})};t.updateData=G;var Z=function(e,t){return function(n){var r=(0,g.default)(e,"response.data")||(0,g.default)(e,"definition.document");return r&&(Array.isArray(r)||(r=[r]),r.length&&n.definition.doctype===r[0]._type)?G(n,r,t):n}};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(n.type==A){var i=L(e,t[n.queryId],n,r);return i===t[n.queryId]?t:P(P({},t),{},(0,c.default)({},n.queryId,i))}if(I(n)){var o=Z(n,r);return(0,u.default)(t,function(t){return t.id==n.queryId?L(e,t,n,r):a?o(t):t})}if((0,x.isReceivingMutationResult)(n)){var s=n.updateQueries?function(e){var t=n.updateQueries,a=n.response,i=t[e.id];if(!i)return e;var o=i(K(r,e.definition.doctype,e.data),a).map(O.properId);return P(P({},e),{},{data:o,count:o.length,lastUpdate:Date.now()})}:Z(n,r);return(0,u.default)(t,s)}return t},t.initQuery=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.doctype)throw Error("Cannot init query with no doctype");return{type:A,queryId:e,queryDefinition:t,options:n}},t.loadQuery=function(e,t){return P({type:D,queryId:e},t)},t.receiveQueryResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P({type:T,queryId:e,response:t},n)},t.receiveQueryError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P({type:R,queryId:e,error:t},n)},t.resetQuery=function(e){return{type:j,queryId:e}};var K=function(e,t,n){return n.map(function(n){return(0,k.getDocumentFromSlice)(e,t,n)}).filter(function(e){return!!e})};t.mapIdsToDocuments=K,t.getQueryFromSlice=function(e,t,n){if(!e||!e[t])return P(P({},N),{},{id:t,data:null});var r=e[t];return n?P(P({},r),{},{data:K(n,r.definition.doctype,r.data)}):r};var Q=function(){function e(){(0,a.default)(this,e),this.idCounter=1}return(0,i.default)(e,[{key:"generateRandomId",value:function(){var e=this.idCounter;return this.idCounter++,e.toString()}},{key:"generateId",value:function(e){if(!(0,_.isAGetByIdQuery)(e))return this.generateRandomId();var t=e.id,n=e.doctype;return"".concat(n,"/").concat(t)}}]),e}();t.QueryIDGenerator=Q,Q.UNNAMED="unnamed"},89612:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchDelete=t.dispatchUpdate=t.dispatchCreate=void 0;var s=c(n(92207)),u=c(n(79092)),l=c(n(26396)),d=n(11071),f=n(48981);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e,t){return h({id:e._id,_type:t},e)},v=(r=(0,u.default)(s.default.mark(function e(t,n){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n.enhanceDocFn){e.next=4;break}return e.next=3,n.enhanceDocFn(t,{client:n.client});case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),y=function(e,t,n){e.dispatch((0,f.receiveMutationResult)(e.generateRandomId(),{data:t},{},n(t)))};a=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(r,n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.createDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchCreate=function(e,t,n){return a.apply(this,arguments)},i=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(r,n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.updateDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchUpdate=function(e,t,n){return i.apply(this,arguments)},o=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(h(h({},r),{},{_deleted:!0}),n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.deleteDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchDelete=function(e,t,n){return o.apply(this,arguments)}},43832:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.equalityCheckForQuery=void 0,t.equalityCheckForQuery=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||e.id!==t.id||e.fetchStatus!==t.fetchStatus)return!1;var i=e.storeData,o=t.storeData;if(!i||!o||!Array.isArray(i)&&!Array.isArray(o)&&i!==o||Array.isArray(i)&&Array.isArray(o)&&!a(i,o))return!1;if(Array.isArray(i)&&Array.isArray(o)){for(var c=0;c<i.length;c++)if(i[c]!==o[c])return!1}if(e.relationshipNames){var s=e.data,u=t.data;if(!Array.isArray(s)&&!Array.isArray(u))return r(s,u);if(!a(s,u))return!1;if(Array.isArray(s)&&Array.isArray(u))for(var l=0;l<s.length;l++){var d,f=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}(e.relationshipNames);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=s[l][p],m=u[l][p];if(h&&m&&!r(h,m))return!1}}catch(e){f.e(e)}finally{f.f()}}}return!0};var r=function(e,t){return!!e._rev&&!!t._rev&&(null==e?void 0:e._rev)===(null==t?void 0:t._rev)},a=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length}},3219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryExisting=t.getRawQueryFromState=t.getQueryFromState=t.getQueryFromStore=t.getDocumentsFromState=t.getDocumentFromState=t.getCollectionFromState=t.getStateRoot=void 0;var r=n(93791),a=n(67989),i=function(e){return e.cozy||{}};t.getStateRoot=i,t.getCollectionFromState=function(e,t){return(0,r.getCollectionFromSlice)(i(e).documents,t)},t.getDocumentFromState=function(e,t,n){return(0,r.getDocumentFromSlice)(i(e).documents,t,n)},t.getDocumentsFromState=function(e,t,n){return(0,r.getDocumentsFromSlice)(i(e).documents,t,n)},t.getQueryFromStore=function(e,t){return o(e.getState(),t)};var o=function(e,t){return(0,a.getQueryFromSlice)(i(e).queries,t,i(e).documents)};t.getQueryFromState=o,t.getRawQueryFromState=function(e,t){return(0,a.getQueryFromSlice)(i(e).queries,t)},t.isQueryExisting=function(e,t){return void 0!==i(e).queries[t]}},33844:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(39892)),c=r(n(79092));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="io.cozy.terms";function d(){return(d=(0,c.default)(a.default.mark(function e(t,n){var r,i,c,s,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=(0,o.default)(n,["id"]),e.next=3,t.query({doctype:l,selector:{termsId:r,version:i.version},limit:1});case 3:if(!((c=e.sent.data)&&c.length)){e.next=13;break}if((s=c[0]).termsId!=r||s.version!=i.version||s.url==i.url){e.next=11;break}return d=u(u({_type:l},s),{},{url:i.url}),e.next=11,t.save(d);case 11:e.next=16;break;case 13:return f=u(u({_type:l},i),{},{termsId:r,accepted:!0,acceptedAt:new Date}),e.next=16,t.save(f);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.default={save:function(e,t){return d.apply(this,arguments)}}},65869:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.CozyClient=void 0;var a=r(n(56994)),i=r(n(65611)),o=r(n(18337)),c=r(n(82274));t.CozyClient=function(e){(0,a.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,o.default)(r);return e=t?Reflect.construct(n,arguments,(0,o.default)(this).constructor):n.apply(this,arguments),(0,i.default)(this,e)});function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return r}(function e(t){(0,c.default)(this,e),Object.assign(this,t)})},98854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(11071),t.default={}},42314:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=t.isReactNativeOfflineError=t.hasQueriesBeenLoaded=t.isQueriesLoading=t.hasQueryBeenLoaded=t.isQueryLoading=t.cancelable=void 0;var a=r(n(94619)),i=r(n(95527));t.cancelable=function(e){var t,n=new Promise(function(n,r){t=r,e.then(n),e.catch(r)});return n.cancel=function(){t({canceled:!0})},n};var o=function(e){return e?"loading"===e.fetchStatus||"pending"===e.fetchStatus:(i.default.warn("isQueryLoading called on falsy value."),!1)};t.isQueryLoading=o;var c=function(e){return e.lastFetch};t.hasQueryBeenLoaded=c,t.isQueriesLoading=function(e){return Object.values(e).some(function(e){return o(e)})},t.hasQueriesBeenLoaded=function(e){return Object.values(e).some(function(e){return c(e)})},t.isReactNativeOfflineError=function(e){return"Network request failed"===e.message},t.isDebug=function(){return!!(0,a.default)("debug")}},29192:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(16193)),o=a(n(82274)),c=a(n(65044)),s=a(n(41972)),u=a(n(56994)),l=a(n(65611)),d=a(n(18337)),f=a(n(26396)),p=r(n(96540)),h=a(n(95875));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.displayName||n.name||"Component",a=function(a){(0,u.default)(v,a);var h,m=(h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(v);return e=h?Reflect.construct(t,arguments,(0,d.default)(this).constructor):t.apply(this,arguments),(0,l.default)(this,e)});function v(n,a){var i;if((0,o.default)(this,v),i=m.call(this,n,a),(0,f.default)((0,s.default)(i),"mutate",function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i.client.mutate(e.apply(null,r),t)}),i.client=n.client||a.client,!i.client)throw Error('Could not find "client" in either the context or props of '.concat(r));return i}return(0,c.default)(v,[{key:"render",value:function(){var e=(0,f.default)({},t.name||"mutate",this.mutate);return p.default.createElement(n,(0,i.default)({},e,this.props))}}]),v}(p.Component);return(0,f.default)(a,"contextTypes",{client:h.default.object}),a.displayName="WithMutation(".concat(r,")"),a}}},46903:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(16193)),o=a(n(82274)),c=a(n(65044)),s=a(n(56994)),u=a(n(65611)),l=a(n(18337)),d=a(n(26396)),f=a(n(21259)),p=a(n(55364)),h=r(n(96540)),m=a(n(95875)),v=a(n(95527));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.displayName||e.name||"Component",r=function(r){(0,s.default)(g,r);var a,m=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,l.default)(g);return e=a?Reflect.construct(t,arguments,(0,l.default)(this).constructor):t.apply(this,arguments),(0,u.default)(this,e)});function g(e,r){(0,o.default)(this,g);var a=m.call(this,e,r),i=e.client||r.client;if(v.default.warn("Deprecation: withMutations will be removed in the near future, prefer to use withClient to access the client. See https://github.com/cozy/cozy-client/pull/638 for more information."),!i)throw Error('Could not find "client" in either the context or props of '.concat(n));return a.mutations=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({createDocument:i.create.bind(i),saveDocument:i.save.bind(i),deleteDocument:i.destroy.bind(i)},p.default.apply(void 0,(0,f.default)(t.map(function(t){return"function"==typeof t?t(i,e):t})))),a}return(0,c.default)(g,[{key:"render",value:function(){return h.default.createElement(e,(0,i.default)({},this.mutations,this.props))}}]),g}(h.Component);return(0,d.default)(r,"contextTypes",{client:m.default.object}),r.displayName="WithMutations(".concat(n,")"),r}}},74442:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e);var n=t;"string"==typeof n&&(n=JSON.parse(n)),this.tokenType=n.token_type||n.tokenType,this.accessToken=n.access_token||n.accessToken,this.refreshToken=n.refresh_token||n.refreshToken,this.scope=n.scope}return(0,i.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAccessToken",value:function(){return this.accessToken}}]),e}()},15478:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeApp=t.APPS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(58156)),p=n(41520),h=r(n(38525)),m=r(n(43276)),v=n(82946);n(76790);var y=r(n(74785));function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="io.cozy.apps";t.APPS_DOCTYPE=k;var x=function(e,t){return w(w({},(0,v.normalizeDoctypeJsonApi)(t)(e)),{},{id:e.id})};t.normalizeApp=x;var O=function(e){(0,s.default)(w,e);var t,n,r,d,m,v,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(w);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function w(e){var t;return(0,o.default)(this,w),(t=b.call(this,k,e)).endpoint="/apps/",t}return(0,c.default)(w,[{key:"get",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,m=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.indexOf("/")>-1?r=t.split("/")[1]:(y.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query apps/konnectors only with id, please use the form ".concat(this.doctype,"/").concat(t,"\n\n- Q('io.cozy.apps').getById('banks')\n+ Q('io.cozy.apps').getById('io.cozy.apps/banks')")),r=t),!(n&&n.sources&&(!Array.isArray(n.sources)||0===n.sources.length))){e.next=3;break}throw Error('Invalid "sources" attribute passed in query, please use an array with at least one element.');case 3:i=(0,f.default)(n,"sources",["stack"]),o={stack:function(){return h.default.get(m.stackClient,"".concat(m.endpoint).concat(encodeURIComponent(r)),{normalize:function(e){return x(e,m.doctype)}})},registry:function(){return m.stackClient.fetchJSON("GET",p.registryEndpoint+r)}},c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(i),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=27;break}return u=s.value,e.prev=10,e.next=13,o[u]();case 13:if(l=e.sent,"registry"===u){e.next=16;break}return e.abrupt("return",l);case 16:return y.default.warn("The use of source registry is deprecated since it can polute the io.cozy.apps slice. For exemple, if we request data from the registry, than the app will be present in the io.cozy.apps slice and then the isInstalled() will return true.\n\n            Use Q('io.cozy.apps_registry) instead"),d=(0,p.transformRegistryFormatToStackFormat)(l),e.abrupt("return",{data:x(d,this.doctype)});case 21:if(e.prev=21,e.t0=e.catch(10),u!==i[i.length-1]){e.next=25;break}throw e.t0;case 25:e.next=8;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),c.e(e.t1);case 32:return e.prev=32,c.f(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[6,29,32,35],[10,21]])})),function(e,t){return n.apply(this,arguments)})},{key:"all",value:(r=(0,i.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.endpoint);case 2:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return x(e,n.doctype)}),meta:{count:t.meta.count},skip:0,next:!1});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"create",value:(d=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"update",value:(m=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("update() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)})},{key:"destroy",value:(v=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})}]),w}(m.default);O.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=O},83201:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e),this.token=t||""}return(0,i.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:".concat(this.token,"@")}},{key:"getAccessToken",value:function(){return this.token}}]),e}()},12506:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeAppFromRegistry=t.APPS_REGISTRY_DOCTYPE=void 0;var i=a(n(82274)),o=a(n(65044)),c=a(n(56994)),s=a(n(65611)),u=a(n(18337)),l=a(n(92207)),d=a(n(79092)),f=a(n(26396)),p=a(n(43276)),h=n(82946);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y="io.cozy.apps_registry";t.APPS_REGISTRY_DOCTYPE=y;var g=function(e,t){var n,r="".concat("webapp"===e.type?"io.cozy.apps":"io.cozy.konnectors","/").concat(e.slug),a=v(v({},e.attributes),null==(n=e.latest_version)?void 0:n.manifest);return v({},(0,h.normalizeDoc)(v(v({},e),{},{attributes:a,id:r,_id:r}),t))};t.normalizeAppFromRegistry=g;var b=(r=(0,d.default)(l.default.mark(function e(t,n,r){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchJSON("GET","/registry?versionsChannel=".concat(t,"&filter[type]=konnector&limit=500"));case 2:return a=e.sent,e.abrupt("return",{data:a.data.map(function(e){return g(e,n)})});case 4:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)});t.default=function(e){(0,c.default)(p,e);var t,n,r,a,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(p);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function p(e){var t;return(0,i.default)(this,p),(t=f.call(this,y,e)).endpoint="/registry/",t}return(0,o.default)(p,[{key:"get",value:(n=(0,d.default)(l.default.mark(function e(t){var n,r,a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("konnectors/")){e.next=3;break}return n=t.split("/")[1],e.abrupt("return",b(n,this.doctype,this.stackClient));case 3:return e.next=5,this.stackClient.fetchJSON("GET","".concat(this.endpoint).concat(t));case 5:if(r=e.sent,"maintenance"!==t){e.next=8;break}return e.abrupt("return",{data:r.map(function(e){return g(e,a.doctype)})});case 8:return e.abrupt("return",{data:g(r,this.doctype)});case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:(r=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})}]),p}(p.default)},38525:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Collection=t.isDocumentUpdateConflict=t.isTimeoutError=t.isNoUsableIndexError=t.isIndexNotUsedWarning=t.isIndexConflictError=t.isIndexNotFoundError=t.dontThrowNotFoundError=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));n(16144);var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.message.match(/not_found/))return Array.isArray(t)?{data:t,meta:{count:0},skip:0,next:!1}:{data:t};throw e};t.dontThrowNotFoundError=s,t.isIndexNotFoundError=function(e){return e.message.match(/no_index/)},t.isIndexConflictError=function(e){return e.message.match(/error_saving_ddoc/)},t.isIndexNotUsedWarning=function(e){return e.match(/was not used because it does not contain a valid index for this query/)},t.isNoUsableIndexError=function(e){return e.message.match(/no_usable_index/)},t.isTimeoutError=function(e){return e.message.match(/context deadline exceeded/)},t.isDocumentUpdateConflict=function(e){return e.message.match(/Document update conflict/)};var u=function(){var e;function t(){(0,o.default)(this,t)}return(0,c.default)(t,null,[{key:"get",value:(e=(0,i.default)(a.default.mark(function e(t,n,r){var i,o,c,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(i=r.normalize)?function(e,t){return e}:i,u=void 0===(c=r.method)?"GET":c,e.prev=1,e.next=4,t.fetchJSON(u,n);case 4:return l=e.sent,e.abrupt("return",{data:o(l.data,l)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",s(e.t0,null));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t,n,r){return e.apply(this,arguments)})}]),t}();t.Collection=u,t.default=u},42720:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONTACTS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(96220)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(43276)),h=n(82946);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(98854);var y="io.cozy.contacts";t.CONTACTS_DOCTYPE=y;var g=(0,h.normalizeDoctypeJsonApi)(y),b=function(e){var t;return v(v({},g(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})};t.default=function(e){(0,u.default)(h,e);var t,n,r,f,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,o.default)(this,h),p.apply(this,arguments)}return(0,c.default)(h,[{key:"find",value:(n=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||1!==Object.values(t).length||!0!=t.me){e.next=4;break}return e.abrupt("return",this.findMyself());case 4:return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"find",this).call(this,t,n));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findMyself",value:(r=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/contacts/myself");case 2:return t={data:[b(e.sent.data)],next:!1,meta:null,bookmark:!1},e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(f=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys((null==t||null==(n=t.cozyMetadata)?void 0:n.sync)||{}).length>0)){e.next=6;break}return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"update",this).call(this,v(v({},t),{},{trashed:!0})));case 6:return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"destroy",this).call(this,t));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}]),h}(p.default)},77011:function(e,t,n){"use strict";var r,a=n(58784),i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(39892)),c=i(n(26396)),s=i(n(82274)),u=i(n(65044)),l=i(n(92207)),d=i(n(79092)),f=i(n(88055)),p=a(n(15478)),h=i(n(83201));i(n(74442));var m=i(n(43276)),v=i(n(54039)),y=a(n(86946)),g=a(n(29354)),b=i(n(99101)),w=i(n(58146)),k=a(n(77093)),x=a(n(31188)),O=a(n(73108)),_=a(n(90408)),E=a(n(66306)),C=a(n(42720)),S=a(n(12506)),P=i(n(32395)),A=i(n(31340)),D=n(3279),T=i(n(56173)),R=a(n(76790)),j=i(n(74785)),M=i(n(36935)),I=n(78064);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(e){var t=e;if(null===t)return null;for(;"/"===t[t.length-1];)t=t.slice(0,-1);return t},L=(r=(0,d.default)(l.default.mark(function e(t){var n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t.headers.get("content-type"))&&/\bapplication\/(vnd\.api\+)?json\b/.test(n),e.abrupt("return",r?t.json():t.text());case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),B=function(){var e,t,n,r;function a(e){(0,s.default)(this,a);var t=z({},e),n=t.token,r=t.uri;this.options=t,this.setUri(void 0===r?"":r),this.setToken(n),this.konnectors=new g.default(this),this.jobs=new y.default(this),this._promiseCache=new M.default}return(0,u.default)(a,[{key:"isRevocationError",value:function(e){return!!(null==e?void 0:e.message)&&(!!(R.default.CLIENT_NOT_FOUND.test(e.message)||R.default.UNREGISTERED_CLIENT.test(e.message))||void 0)}},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("CozyStackClient.collection() called without a doctype");switch(e){case p.APPS_DOCTYPE:return new p.default(this,t);case g.KONNECTORS_DOCTYPE:return new g.default(this,t);case"io.cozy.files":return new v.default(e,this,t);case"io.cozy.sharings":return new b.default(e,this,t);case"io.cozy.permissions":return new w.default(e,this,t);case C.CONTACTS_DOCTYPE:return new C.default(e,this,t);case k.TRIGGERS_DOCTYPE:return new k.default(this,t);case y.JOBS_DOCTYPE:return new y.default(this,t);case x.SETTINGS_DOCTYPE:return new x.default(this,t);case O.NOTES_DOCTYPE:return new O.default(this,t);case _.OAUTH_CLIENTS_DOCTYPE:return new _.default(this,t);case E.SHORTCUTS_DOCTYPE:return new E.default(this,t);case S.APPS_REGISTRY_DOCTYPE:return new S.default(this,t);case I.NEXTCLOUD_FILES_DOCTYPE:return new I.NextcloudFilesCollection(this,t);default:return new m.default(e,this,t)}}},{key:"fetch",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,c,s,u,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0===(c=(i=z({},a=y.length>3&&void 0!==y[3]?y[3]:{})).throwFetchErrors)?this.options.throwFetchErrors:c,(u=(0,o.default)(i,["throwFetchErrors"])).method=t,d=u.headers=z({},a.headers),"GET"!==t&&"HEAD"!==t&&void 0!==r&&d["Content-Type"]&&(u.body=r),d.Authorization||(d.Authorization=this.getAuthorizationHeader()),u.credentials=u.credentials||"include",f=this.fullpath(n),p=(0,D.shouldXMLHTTPRequestBeUsed)(t,n,u)?D.fetchWithXMLHttpRequest:fetch,e.prev=9,e.next=12,p(f,u);case 12:if((h=e.sent).ok){e.next=21;break}return e.next=16,L(h);case 16:if(m=e.sent,v=new R.FetchError(h,m),this.emit("error",v),!s){e.next=21;break}throw v;case 21:return e.abrupt("return",h);case 24:throw e.prev=24,e.t0=e.catch(9),this.isRevocationError(e.t0)&&this.onRevocationChange(!0),e.t0;case 28:case"end":return e.stop()}},e,this,[[9,24]])})),function(t,n,r){return e.apply(this,arguments)}))},{key:"onTokenRefresh",value:function(e){this.options&&this.options.onTokenRefresh&&this.options.onTokenRefresh(e)}},{key:"onRevocationChange",value:function(e){this.options&&this.options.onRevocationChange&&this.options.onRevocationChange(e)}},{key:"refreshToken",value:(t=(0,d.default)(l.default.mark(function e(){var t,n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}throw Error("Cannot refresh an empty token");case 2:return t={method:"GET",credentials:"include"},e.next=5,fetch("/?refreshToken",t);case 5:if((n=e.sent).ok){e.next=8;break}throw Error("Couldn't fetch a new token - response "+n.statusCode);case 8:return e.next=10,n.text();case 10:if(!(!(r=e.sent.match(/data-cozy="([^"]+)"/))||r.length<2)){e.next=14;break}throw Error("Couldn't fetch a new token - no data-cozy element found in HTML");case 14:if(a=JSON.parse(r[1].replace(/&#34;/g,'"')).token){e.next=19;break}throw Error("Couldn't fetch a new token - missing in data-cozy attribute");case 19:return i=new h.default(a),this.setToken(i),this.onTokenRefresh(i),j.default.info("Token successfully refreshed"),e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"fetchJSON",value:(n=(0,d.default)(l.default.mark(function e(t,n,r){var a,i=this,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},e.prev=1,e.next=4,this.fetchJSONWithCurrentToken(t,n,r,a);case 4:case 20:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(R.default.EXPIRED_TOKEN.test(e.t0.message)||R.default.INVALID_TOKEN.test(e.t0.message)||R.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=23;break}return e.prev=10,e.next=13,this._promiseCache.exec(function(){return i.refreshToken()},function(){return"refreshToken"});case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),e.t0;case 18:return e.next=20,this.fetchJSONWithCurrentToken(t,n,r,a);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[1,7],[10,15]])})),function(e,t,r){return n.apply(this,arguments)})},{key:"fetchJSONWithCurrentToken",value:(r=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,o,c,s,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:{},(o=(i=(0,f.default)(a)).headers=i.headers||{}).Accept="application/json",c=r,"GET"===t||"HEAD"===t||void 0===c||o["Content-Type"]||(o["Content-Type"]="application/json",c=JSON.stringify(c)),i.throwFetchErrors=!0,e.next=9,this.fetch(t,n,c,i);case 9:return s=e.sent,e.abrupt("return",L(s));case 11:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"fullpath",value:function(e){return e.startsWith("http")?e:this.uri+e}},{key:"getAuthorizationHeader",value:function(){return this.token?this.token.toAuthHeader():null}},{key:"setCredentials",value:function(e){return(0,A.default)("CozyStackClient::setCredentials is deprecated, use CozyStackClient::setToken"),this.setToken(e)}},{key:"getCredentials",value:function(){return(0,A.default)("CozyStackClient::getCredentials is deprecated, use CozyStackClient::getAuthorizationHeader"),this.getAuthorizationHeader()}},{key:"setToken",value:function(e){if(e){if(e.toAuthHeader)this.token=e;else if("string"==typeof e)this.token=new h.default(e);else throw j.default.warn("Cozy-Client: Unknown token format",e),Error("Cozy-Client: Unknown token format");this.onRevocationChange(!1)}else this.token=null}},{key:"getAccessToken",value:function(){return this.token&&this.token.getAccessToken()}},{key:"setUri",value:function(e){this.uri=F(e)}},{key:"getIconURL",value:function(e){return(0,P.default)(this,e)}}]),a}();T.default.mixin(B),t.default=B},43276:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(39892)),o=a(n(21259)),c=a(n(26396)),s=a(n(92207)),u=a(n(72189)),l=a(n(79092)),d=a(n(65044)),f=a(n(82274)),p=a(n(56994)),h=a(n(65611)),m=a(n(18337)),v=a(n(16826)),y=a(n(94619)),g=n(61548),b=a(n(63375)),w=a(n(90179)),k=a(n(912)),x=a(n(55364)),O=a(n(22331)),_=a(n(55373)),E=n(86287),C=n(82946),S=r(n(38525)),P=r(n(73612));n(76790);var A=a(n(74785));function D(){var e=(0,u.default)(["/data/","/_design/","/copy?rev=",""]);return D=function(){return e},e}function T(){var e=(0,u.default)(["/data/","/_design/","?rev=",""]);return T=function(){return e},e}function R(){var e=(0,u.default)(["/data/","/_design_docs?include_docs=true"]);return R=function(){return e},e}function j(){var e=(0,u.default)(["/data/","/_index"]);return j=function(){return e},e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(){var e=(0,u.default)(["/data/","/","?rev=",""]);return I=function(){return e},e}function N(){var e=(0,u.default)(["/data/","/",""]);return N=function(){return e},e}function z(){var e=(0,u.default)(["/data/","/",""]);return z=function(){return e},e}function F(){var e=(0,u.default)(["/data/","/_all_docs?include_docs=true"]);return F=function(){return e},e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(){var e=(0,u.default)(["/data/","/_find"]);return U=function(){return e},e}function V(){var e=(0,u.default)(["/data/","/",""]);return V=function(){return e},e}var H=function(e){return Object.assign({},(0,w.default)(e,"_type"),{_deleted:!0})},q=function(e){(0,p.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,m.default)(r);return e=t?Reflect.construct(n,arguments,(0,m.default)(this).constructor):n.apply(this,arguments),(0,h.default)(this,e)});function r(e){var t;return(0,f.default)(this,r),(t=n.call(this,e)).name="IndexAlreadyExistsError",t}return r}((0,v.default)(Error));t.default=function(){var e,t,n,r,a,u,p,h,m,v,L,W,G,Z,K,Q,Y,J,$,X,ee,et;function en(e,t,n){(0,f.default)(this,en),this.doctype=e,this.stackClient=t,this.indexes={},this.endpoint="/data/".concat(this.doctype,"/")}return(0,d.default)(en,[{key:"all",value:(e=(0,l.default)(s.default.mark(function e(){var t,n,r,a,i,o,c,u,l,d,f,p,h,m,v,y=this,b=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=b.length>0&&void 0!==b[0]?b[0]:{}).limit)?100:n,i=void 0===(a=t.skip)?0:a,o=t.bookmark,l=(u=!!(c=t.keys)||null===r)?"_all_docs":"_normal_docs",d=(0,g.uri)(V(),this.doctype,l),f={include_docs:!0,limit:r,skip:i,keys:c,bookmark:o},p=P.buildURL(d,f),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",p);case 9:h=e.sent,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",(0,S.dontThrowNotFoundError)(e.t0));case 15:return m=u?h.rows.filter(function(e){return e&&null!==e.doc&&!e.error&&!(0,O.default)(e.id,"_design")}).map(function(e){return(0,C.normalizeDoc)(e.doc,y.doctype)}):h.rows.map(function(e){return(0,C.normalizeDoc)(e,y.doctype)}),v=o?h.rows.length>=r:i+h.rows.length<h.total_rows,e.abrupt("return",{data:m,meta:{count:u?m.length:h.total_rows},skip:i,bookmark:h.bookmark,next:v});case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(){return e.apply(this,arguments)})},{key:"fetchDocumentsWithMango",value:(t=(0,l.default)(s.default.mark(function e(t,n){var r,a=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",this.stackClient.fetchJSON("POST",t,this.toMangoOptions(n,r)));case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"migrateIndex",value:(n=(0,l.default)(s.default.mark(function e(t,n){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.copyIndex(t,n);case 3:return e.next=5,this.destroyIndex(t);case 5:e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(0),(0,S.isDocumentUpdateConflict)(e.t0)){e.next=11;break}throw e.t0;case 11:return(0,g.sleep)(1e3),e.next=14,this.copyIndex(t,n);case 14:return e.next=16,this.destroyIndex(t);case 16:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return n.apply(this,arguments)})},{key:"handleMissingIndex",value:(r=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.indexedFields,a=n.partialFilter,r||(r=(0,E.getIndexFields)({sort:n.sort,selector:t})),i=(0,E.getIndexNameFromFields)(r,a),e.next=5,this.findExistingIndex(t,n);case 5:if(o=e.sent){e.next=11;break}return e.next=9,this.createIndex(r,{partialFilter:a,indexName:i});case 9:case 14:e.next=21;break;case 11:if(o._id==="_design/".concat(i)){e.next=16;break}return e.next=14,this.migrateIndex(o,i);case 16:if(!o){e.next=20;break}throw new q("Index already exists: ".concat(i));case 20:throw Error("Index unusable for query, index used: ".concat(i));case 21:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"findWithMango",value:(a=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,e.next=4,this.fetchDocumentsWithMango(t,n,r);case 4:if(!((o=(a=e.sent).warning||(null==(i=a.meta)?void 0:i.warning))&&(0,S.isIndexNotUsedWarning)(o))){e.next=8;break}throw Error("no_index");case 8:e.next=31;break;case 10:if(e.prev=10,e.t0=e.catch(1),!((0,S.isIndexNotFoundError)(e.t0)||(0,S.isNoUsableIndexError)(e.t0)||(0,S.isTimeoutError)(e.t0))){e.next=30;break}return e.prev=13,e.next=16,this.handleMissingIndex(n,r);case 16:return e.next=18,this.fetchDocumentsWithMango(t,n,r);case 18:case 27:return a=e.sent,e.abrupt("return",a);case 22:if(e.prev=22,e.t1=e.catch(13),!(e.t1 instanceof q)){e.next=29;break}return e.next=27,this.fetchDocumentsWithMango(t,n,r);case 29:throw e.t1;case 30:throw e.t0;case 31:return e.abrupt("return",a);case 32:case"end":return e.stop()}},e,this,[[1,10],[13,22]])})),function(e,t){return a.apply(this,arguments)})},{key:"find",value:(u=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c=this,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=u.length>1&&void 0!==u[1]?u[1]:{}).skip)?0:r,e.prev=2,o=(0,g.uri)(U(),this.doctype),e.next=6,this.findWithMango(o,t,n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,S.dontThrowNotFoundError)(e.t0));case 12:return e.abrupt("return",{data:i.docs.map(function(e){return(0,C.normalizeDoc)(e,c.doctype)}),next:i.next,skip:a,bookmark:i.bookmark,execution_stats:i.execution_stats});case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return u.apply(this,arguments)})},{key:"findAll",value:(p=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,c,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=!0,a=[],i=n.bookmark||void 0;case 4:if(!r){e.next=13;break}return e.next=7,this.find(t,B(B({},n),{},{bookmark:i}));case 7:c=e.sent,a.push.apply(a,(0,o.default)(c.data)),i=c.bookmark,r=c.next,e.next=4;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"get",value:(h=(0,l.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.default.get(this.stackClient,"".concat(this.endpoint).concat(encodeURIComponent(t)),{normalize:this.constructor.normalizeDoctype(this.doctype)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getAll",value:(m=(0,l.default)(s.default.mark(function e(t){var n,r,a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",(0,g.uri)(F(),this.doctype),{keys:t});case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,S.dontThrowNotFoundError)(e.t0));case 9:return r=n.rows.filter(function(e){return e.doc}),e.abrupt("return",{data:r.map(function(e){return(0,C.normalizeDoc)(e.doc,a.doctype)}),meta:{count:r.length}});case 11:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return m.apply(this,arguments)})},{key:"create",value:(v=(0,l.default)(s.default.mark(function e(t){var n,r,a,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,t._type,r=(0,i.default)(t,["_id","_type"]),o=(a=!!n)?"PUT":"POST",c=(0,g.uri)(z(),this.doctype,a?n:""),e.next=6,this.stackClient.fetchJSON(o,c,r);case 6:return u=e.sent,e.abrupt("return",{data:(0,C.normalizeDoc)(u.data,this.doctype)});case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"update",value:(L=(0,l.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("PUT",(0,g.uri)(N(),this.doctype,t._id),t);case 2:return n=e.sent,e.abrupt("return",{data:(0,C.normalizeDoc)(n.data,this.doctype)});case 4:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"destroy",value:(W=(0,l.default)(s.default.mark(function e(t){var n,r,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,r=t._rev,a=(0,i.default)(t,["_id","_rev"]),e.next=3,this.stackClient.fetchJSON("DELETE",(0,g.uri)(I(),this.doctype,n,r));case 3:return o=e.sent,e.abrupt("return",{data:(0,C.normalizeDoc)(B(B({},a),{},{_id:n,_rev:o.rev,_deleted:!0}),this.doctype)});case 5:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"updateAll",value:(G=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.stackClient,!(!(r=t?t.map(function(e){return(0,w.default)(e,"_type")}):t)||!r.length)){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return e.prev=4,e.next=7,n.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:r});case 7:return a=e.sent,e.abrupt("return",a);case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."===e.t0.reason.reason)){e.next=24;break}return e.next=16,this.create(r[0]);case 16:return i=e.sent,e.next=19,this.updateAll(r.slice(1));case 19:return(o=e.sent).unshift({ok:!0,id:i._id,rev:i._rev}),e.abrupt("return",o);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[4,11]])})),function(e){return G.apply(this,arguments)})},{key:"destroyAll",value:function(e){return this.updateAll(e.map(H))}},{key:"toMangoOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sort,r=t.indexedFields,a=t.partialFilter,i=t.fields,s=t.skip,u=t.limit,l=t.bookmark;n=(0,E.transformSort)(n),!r&&e&&A.default.warn("Selector fields should be manually indexed to prevent unexpected behaviour"),r=r||(0,E.getIndexFields)({sort:n,selector:e});var d=t.indexId||"_design/".concat((0,E.getIndexNameFromFields)(r,a));if(n){var f=(0,b.default)(n.map(function(e){return(0,k.default)(Object.values(e))}));if(f.length>1)throw Error("Mango sort can only use a single order (asc or desc).");var p,h=f.length>0?(0,k.default)(f):"asc",m=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return M(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(r);try{for(m.s();!(p=m.n()).done;)!function(){var e=p.value;n.find(function(t){return(0,k.default)(Object.keys(t))===e})||n.push((0,c.default)({},e,h))}()}catch(e){m.e(e)}finally{m.f()}}return{selector:a?(0,x.default)(B({},e),a):e,use_index:d,fields:i?[].concat((0,o.default)(i),["_id","_rev"]):void 0,limit:u,skip:void 0===s?0:s,bookmark:t.bookmark||l,sort:n,execution_stats:!!(0,y.default)("debug")||void 0}}},{key:"checkUniquenessOf",value:(Z=(0,l.default)(s.default.mark(function e(t,n){var r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUniqueIndexId(t);case 2:return r=e.sent,e.next=5,this.find((0,c.default)({},t,n),{indexId:r,fields:["_id"]});case 5:return a=e.sent,e.abrupt("return",0===a.data.length);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return Z.apply(this,arguments)})},{key:"getUniqueIndexId",value:function(e){return this.getIndexId([e],{indexName:"".concat(this.doctype,"/").concat(e)})}},{key:"getIndexId",value:(K=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=n.partialFilter)?"":r,o=void 0===(i=n.indexName)?(0,E.getIndexNameFromFields)(t):i,this.indexes[o]){e.next=20;break}return e.prev=2,e.next=5,this.createIndex(t,{partialFilter:a});case 5:c=e.sent,e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(2),(0,S.isIndexConflictError)(e.t0)){e.next=14;break}throw e.t0;case 14:return e.next=16,(0,g.sleep)(1e3);case 16:return e.next=18,this.createIndex(t,{partialFilter:a});case 18:c=e.sent;case 19:this.indexes[o]=c;case 20:return e.abrupt("return",this.indexes[o].id);case 21:case"end":return e.stop()}},e,this,[[2,8]])})),function(e,t){return K.apply(this,arguments)})},{key:"createIndex",value:(Q=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c,u,l,d=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=d.length>1&&void 0!==d[1]?d[1]:{}).partialFilter,a=n.indexName,i={index:{fields:t}},a&&(i.ddoc=a),r&&(i.index.partial_filter_selector=r),e.prev=4,e.next=7,this.stackClient.fetchJSON("POST",(0,g.uri)(j(),this.doctype),i);case 7:o=e.sent,e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(4),(0,S.isIndexConflictError)(e.t0)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return");case 17:if(c={id:o.id,fields:t},"exists"!==o.result){e.next=20;break}return e.abrupt("return",c);case 20:return u={},t.forEach(function(e){return u[e]={$gt:null}}),l={indexId:c.id,limit:1,partialFilterFields:r?(0,E.getIndexFields)({partialFilter:r}):null},e.next=25,(0,g.attempt)(this.find(u,l));case 25:if(!e.sent){e.next=27;break}return e.abrupt("return",c);case 27:return e.next=29,(0,g.sleep)(1e3);case 29:return e.next=31,(0,g.attempt)(this.find(u,l));case 31:if(!e.sent){e.next=33;break}return e.abrupt("return",c);case 33:return e.next=35,(0,g.sleep)(500);case 35:return e.abrupt("return",c);case 36:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return Q.apply(this,arguments)})},{key:"fetchAllMangoIndexes",value:(Y=(0,l.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.uri)(R(),this.doctype),e.next=3,this.stackClient.fetchJSON("GET",t);case 3:return n=e.sent,e.abrupt("return",n.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(0,E.normalizeDesignDoc)(e)}));case 5:case"end":return e.stop()}},e,this)})),function(){return Y.apply(this,arguments)})},{key:"destroyIndex",value:(J=(0,l.default)(s.default.mark(function e(t){var n,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id.split("/")[1],r=t._rev,a=(0,g.uri)(T(),this.doctype,n,r),e.abrupt("return",this.stackClient.fetchJSON("DELETE",a));case 4:case"end":return e.stop()}},e,this)})),function(e){return J.apply(this,arguments)})},{key:"copyIndex",value:($=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id.split("/")[1],a=t._rev,i=(0,g.uri)(D(),this.doctype,r,a),o={headers:{Destination:"_design/".concat(n)}},e.abrupt("return",this.stackClient.fetchJSON("POST",i,null,o));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return $.apply(this,arguments)})},{key:"findExistingIndex",value:(X=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sort,a=n.indexedFields,i=n.partialFilter,e.next=3,this.fetchAllMangoIndexes();case 3:if(!((o=e.sent).length<1)){e.next=6;break}return e.abrupt("return",null);case 6:return r=(0,E.transformSort)(r),c=a||(0,E.getIndexFields)({sort:r,selector:t}),u=o.find(function(e){return(0,E.isMatchingIndex)(e,c,i)}),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return X.apply(this,arguments)})},{key:"fetchChangesRaw",value:(ee=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.doc_ids&&t.doc_ids.length>0,r="?".concat([_.default.stringify(B(B({},(0,w.default)(t,["doc_ids","includeDocs"])),{},{include_docs:t.includeDocs})),n&&void 0===t.filter?"filter=_doc_ids":void 0].filter(Boolean).join("&")),a=n?"POST":"GET",i="/data/".concat(this.doctype,"/_changes").concat(r),o=n?{doc_ids:t.doc_ids}:void 0,e.next=7,this.stackClient.fetchJSON(a,i,o);case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)})),function(e){return ee.apply(this,arguments)})},{key:"fetchChanges",value:(et=(0,l.default)(s.default.mark(function e(){var t,n,r,a,i,o,c=this,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},r={includeDocs:!0},"object"!=typeof t?(r.since=t,A.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(r,t),e.next=6,this.fetchChangesRaw(r);case 6:return i=(a=e.sent).last_seq,o=a.results.map(function(e){return e.doc}).filter(Boolean),n.includeDesign||(o=o.filter(function(e){return 0!==e._id.indexOf("_design")})),n.includeDeleted||(o=o.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:i,documents:o.map(function(e){return(0,C.normalizeDoc)(e,c.doctype)})});case 12:case"end":return e.stop()}},e,this)})),function(){return et.apply(this,arguments)})}],[{key:"normalizeDoctype",value:function(e){return(0,C.normalizeDoctypeRawApi)(e)}}]),en}()},54039:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isDirectory=t.isFile=void 0;var i=a(n(39892)),o=a(n(92207)),c=a(n(72189)),s=a(n(79092)),u=a(n(82274)),l=a(n(65044)),d=a(n(41972)),f=a(n(56994)),p=a(n(65611)),h=a(n(18337)),m=a(n(26396)),v=a(n(71133)),y=a(n(61448)),g=a(n(58156)),b=a(n(90179)),w=a(n(44383));n(86287);var k=a(n(43276)),x=n(82946),O=n(61548);n(76790);var _=n(38525),E=n(20532),C=r(n(73612)),S=a(n(74785));function P(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return P=function(){return e},e}function A(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return A=function(){return e},e}function D(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return D=function(){return e},e}function T(){var e=(0,c.default)(["/","/versions"]);return T=function(){return e},e}function R(){var e=(0,c.default)(["/upload/metadata"]);return R=function(){return e},e}function j(){var e=(0,c.default)(["/",""]);return j=function(){return e},e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(){var e=(0,c.default)(["/","?Name=","&Type=directory&MetadataID=",""]);return I=function(){return e},e}function N(){var e=(0,c.default)(["/metadata?Path=",""]);return N=function(){return e},e}function z(){var e=(0,c.default)(["/",""]);return z=function(){return e},e}function F(){var e=(0,c.default)(["/download/",""]);return F=function(){return e},e}function L(){var e=(0,c.default)(["/downloads?Path=",""]);return L=function(){return e},e}function B(){var e=(0,c.default)(["/downloads?VersionId=","&Filename=",""]);return B=function(){return e},e}function U(){var e=(0,c.default)(["/downloads?Id=","&Filename=",""]);return U=function(){return e},e}function V(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=",""]);return V=function(){return e},e}function H(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=","&MetadataID=","&Size=","&SourceAccount=","&SourceAccountIdentifier=",""]);return H=function(){return e},e}function q(){var e=(0,c.default)(["/",""]);return q=function(){return e},e}function W(){var e=(0,c.default)(["/","/copy"]);return W=function(){return e},e}function G(){var e=(0,c.default)(["/trash/",""]);return G=function(){return e},e}function Z(){var e=(0,c.default)(["/",""]);return Z=function(){return e},e}function K(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return K=function(){return e},e}function Q(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return Q=function(){return e},e}function Y(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return Y=function(){return e},e}function J(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return J=function(){return e},e}function $(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return $=function(){return e},e}function X(){var e=(0,c.default)(["/_all_docs?include_docs=true"]);return X=function(){return e},e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){(0,m.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en="io.cozy.files.root-dir",er=(0,x.normalizeDoctypeJsonApi)("io.cozy.files"),ea=function(e){var t;return et(et({},er(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})},ei=function(e){return e?e.map(function(e){return{_type:e.type,_id:e.id}}):[]},eo=function(e){return e&&e.trim()},ec=function(e){var t=eo(e);if("string"!=typeof t||""===t)throw Error("Missing name argument");if("."===e||".."===e)throw Error("Invalid filename: ".concat(e));var n=(0,E.getIllegalCharacters)(t);if(n.length)throw Error("Invalid filename containing illegal character(s): ".concat(n));return t};t.isFile=function(e){var t=e._type,n=e.type;return"io.cozy.files"===t||"directory"===n||"file"===n},t.isDirectory=function(e){return"directory"===e.type};var es=function(e,t){return new Promise(function(n){e.forEach(function(e){return e.then(function(e){t(e)&&n(!0)})}),Promise.all(e).then(function(){return n(!1)})})},eu=function(e){var t=e.lastIndexOf("/");return e.substring(0,t)};t.default=function(e){(0,f.default)(eU,e);var t,n,r,a,c,k,x,E,ee,er,el,ed,ef,ep,eh,em,ev,ey,eg,eb,ew,ek,ex,eO,e_,eE,eC,eS,eP,eA,eD,eT,eR,ej,eM,eI,eN,ez,eF,eL,eB=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,h.default)(eU);return e=t?Reflect.construct(n,arguments,(0,h.default)(this).constructor):n.apply(this,arguments),(0,p.default)(this,e)});function eU(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.default)(this,eU),n=eB.call(this,e,t,r),(0,m.default)((0,d.default)(n),"extractResponseLinkRelated",function(e){var t=e.links&&e.links.related;if(!t)throw Error("No related link in server response");return n.stackClient.fullpath(t)}),(0,m.default)((0,d.default)(n),"forceFileDownload",function(e,t){(0,O.forceDownload)(e,t)}),n.specialDirectories={},n.prefix=r.driveId?(0,O.sharedDriveApiPrefix)(r.driveId):"/files",n}return(0,l.default)(eU,[{key:"get",value:function(e){return this.statById(e)}},{key:"getAll",value:(n=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(X()),{keys:t});case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,_.dontThrowNotFoundError)(e.t0));case 9:return e.abrupt("return",{data:n.data.map(function(e){return ea(e)}),meta:{count:n.data.length},execution_stats:n.execution_stats});case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return n.apply(this,arguments)})},{key:"fetchFindFiles",value:(r=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST",this.prefix+"/_find",this.toMangoOptions(t,n)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"find",value:(a=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:r,e.prev=2,c=this.prefix+"/_find",e.next=6,this.findWithMango(c,t,n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,_.dontThrowNotFoundError)(e.t0));case 12:return s=(0,g.default)(i,"links.next",""),u=new URL("".concat(this.stackClient.uri).concat(s)).searchParams.get("page[cursor]"),e.abrupt("return",{data:i.data.map(function(e){return ea(e)}),meta:i.meta,next:i.meta.count>a+i.data.length,skip:a,bookmark:u||void 0,execution_stats:i.meta.execution_stats});case 16:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return a.apply(this,arguments)})},{key:"findReferencedBy",value:(c=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:r,i={include:"files","page[limit]":n.limit,"page[cursor]":n.cursor,sort:"datetime"},c=(0,O.uri)($(),t._type,t._id),s=C.buildURL(c,i),e.next=6,this.stackClient.fetchJSON("GET",s);case 6:return u=e.sent,e.abrupt("return",{data:ei(u.data),included:u.included?u.included.map(function(e){return ea(e)}):[],next:(0,y.default)(u,"links.next"),meta:u.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"addReferencedBy",value:(k=(0,s.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:e._type}}),e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(J(),t._id),{data:r});case 3:return a=e.sent,e.abrupt("return",{data:ei(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"removeReferencedBy",value:(x=(0,s.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id||e.id,type:e._type||e.type}}),e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(Y(),t._id||t.id),{data:r});case 3:return a=e.sent,e.abrupt("return",{data:ei(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},{key:"addReferencesTo",value:(E=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("POST",(0,O.uri)(Q(),t._type,t._id),{data:r}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"removeReferencesTo",value:(ee=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("DELETE",(0,O.uri)(K(),t._type,t._id),{data:r}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ee.apply(this,arguments)})},{key:"destroy",value:(er=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(l.length>1&&void 0!==l[1]?l[1]:{}).ifMatch)?"":n,a=t._id,i=t.relationships,c=t.referenced_by,e.next=4,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(Z(),a),void 0,{headers:{"If-Match":r}});case 4:if(s=e.sent,!Array.isArray(u=(0,g.default)(i,"referenced_by.data",c))){e.next=9;break}return e.next=9,this.removeReferencedBy(t,u);case 9:return e.abrupt("return",{data:ea(s.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return er.apply(this,arguments)})},{key:"emptyTrash",value:(el=(0,s.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("DELETE",this.prefix+"/trash");case 2:return t=e.sent,e.abrupt("return",{data:ea(t.data)});case 4:case"end":return e.stop()}},e,this)})),function(){return el.apply(this,arguments)})},{key:"restore",value:(ed=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(G(),t));case 2:return n=e.sent,e.abrupt("return",{data:ea(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return ed.apply(this,arguments)})},{key:"copy",value:(ef=(0,s.default)(o.default.mark(function e(t,n,r){var a,i,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(a=(f.length>3&&void 0!==f[3]?f[3]:{}).sanitizeName)||a,null!=(c=n)&&i&&(c=ec(c)),s={name:c,DirID:r},u=this.prefix+(0,O.uri)(W(),t),l=C.buildURL(u,s),e.next=8,this.stackClient.fetchJSON("POST",l);case 8:return d=e.sent,e.abrupt("return",{data:ea(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e,t,n){return ef.apply(this,arguments)})},{key:"deleteFilePermanently",value:(ep=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(i.length>1&&void 0!==i[1]?i[1]:{}).ifMatch)?"":n,e.next=3,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(q(),t),{data:{type:"io.cozy.files",id:t,attributes:{permanent_delete:!0}}},{headers:{"If-Match":r}});case 3:return a=e.sent,e.abrupt("return",{data:ea(a.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return ep.apply(this,arguments)})},{key:"upload",value:(eh=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(c.length>2&&void 0!==c[2]?c[2]:{}).sanitizeName)||r,e.next=3,this.ensureDirectoryExists(n,{sanitizeName:a});case 3:return i=e.sent,e.abrupt("return",this.createFile(t,{dirId:i},{sanitizeName:a}));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return eh.apply(this,arguments)})},{key:"create",value:(em=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0===(n=(s.length>1&&void 0!==s[1]?s[1]:{}).sanitizeName)||n,"directory"!==t.type){e.next=5;break}return e.abrupt("return",this.createDirectory(t,{sanitizeName:r}));case 5:return a=t.data,c=(0,i.default)(t,["data"]),e.abrupt("return",this.createFile(a,c,{sanitizeName:r}));case 7:case"end":return e.stop()}},e,this)})),function(e){return em.apply(this,arguments)})},{key:"update",value:(ev=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=(n=f.length>1&&void 0!==f[1]?f[1]:{}).ifMatch)?"":r,s=void 0===(c=n.sanitizeName)||c,u=t.data,l=(0,i.default)(t,["data"]),d=t.id||t._id,!u){e.next=8;break}if("directory"!==t.type){e.next=6;break}throw Error("You cannot pass a data object for a directory");case 6:return l.fileId=d,e.abrupt("return",this.updateFile(u,l,{ifMatch:a,sanitizeName:s}));case 8:return e.abrupt("return",this.updateAttributes(d,t,{ifMatch:a,sanitizeName:s}));case 9:case"end":return e.stop()}},e,this)})),function(e){return ev.apply(this,arguments)})},{key:"createFile",value:(ey=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,_,E=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:{},a=void 0===(r=(E.length>2&&void 0!==E[2]?E[2]:{}).sanitizeName)||r,c=n.name,u=void 0===(s=n.dirId)?"":s,d=void 0!==(l=n.executable)&&l,p=void 0!==(f=n.encrypted)&&f,h=n.metadata,v=void 0===(m=n.sourceAccount)?"":m,g=void 0===(y=n.sourceAccountIdentifier)?"":y,b=(0,i.default)(n,["name","dirId","executable","encrypted","metadata","sourceAccount","sourceAccountIdentifier"]),(w=c)||"string"!=typeof t.name||(w=t.name),a&&(w=ec(w)),k="",!h){e.next=12;break}return e.next=10,this.createFileMetadata(h);case 10:k=e.sent.data.id;case 12:return x="",b.contentLength&&(x=String(b.contentLength)),_=this.prefix+(0,O.uri)(H(),u,w,d,p,k,x,v,g),e.abrupt("return",this.doUpload(t,_,b));case 16:case"end":return e.stop()}},e,this)})),function(e){return ey.apply(this,arguments)})},{key:"updateFile",value:(eg=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,_,E=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:{},c=void 0===(a=(r=E.length>2&&void 0!==E[2]?E[2]:{}).ifMatch)?"":a,u=void 0===(s=r.sanitizeName)||s,d=void 0!==(l=n.executable)&&l,p=void 0!==(f=n.encrypted)&&f,h=n.fileId,v=void 0===(m=n.name)?"":m,y=n.metadata,g=(0,i.default)(n,["executable","encrypted","fileId","name","metadata"]),!(!h||"string"!=typeof h)){e.next=5;break}throw Error("missing fileId argument");case 5:if(!(!(b=v||t.name)||"string"!=typeof b)){e.next=8;break}throw Error("missing name in data argument");case 8:if(w=u?ec(b):b,x=this.prefix+(0,O.uri)(V(),h,w,d,p),!y){e.next=16;break}return e.next=13,this.createFileMetadata(y);case 13:k=e.sent.data.id,x+="&MetadataID=".concat(k);case 16:return _="",g.contentLength&&(_=String(g.contentLength),x+="&Size=".concat(_)),""!==c&&(g.ifMatch=c),e.abrupt("return",this.doUpload(t,x,g,"PUT"));case 20:case"end":return e.stop()}},e,this)})),function(e){return eg.apply(this,arguments)})},{key:"getDownloadLinkById",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(U(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByRevision",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(B(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByPath",value:function(e){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(L(),e)).then(this.extractResponseLinkRelated)}},{key:"download",value:(eb=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,a=(i.length>2&&void 0!==i[2]?i[2]:void 0)||t.name,n){e.next=9;break}return e.next=6,this.getDownloadLinkById(t._id,a);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,this.getDownloadLinkByRevision(n,a);case 11:r=e.sent;case 12:this.forceFileDownload("".concat(r,"?Dl=1"),a);case 13:case"end":return e.stop()}},e,this)})),function(e){return eb.apply(this,arguments)})},{key:"fetchFileContent",value:(ew=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("FileCollection.fetchFileContent() is deprecated. Use FileCollection.fetchFileContentById() instead"),e.abrupt("return",this.fetchFileContentById(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return ew.apply(this,arguments)})},{key:"fetchFileContentById",value:(ek=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetch("GET",this.prefix+(0,O.uri)(F(),t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return ek.apply(this,arguments)})},{key:"getBeautifulSize",value:function(e,t){return(0,O.formatBytes)(parseInt(e.size),t)}},{key:"downloadArchive",value:(ex=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(s.length>2&&void 0!==s[2]?s[2]:{}).pages,a=n?(0,O.slugify)(n):"files",e.next=4,this.createArchiveLinkByIds({ids:t,name:a,pages:r});case 4:i=e.sent,c=this.stackClient.fullpath(i),this.forceFileDownload(c,a+".zip");case 7:case"end":return e.stop()}},e,this)})),function(e,t){return ex.apply(this,arguments)})},{key:"getArchiveLinkByIds",value:(eO=(0,s.default)(o.default.mark(function e(t){var n,r,a=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"files",S.default.warn("CozyClient FileCollection getArchiveLinkByIds method is deprecated. Use createArchiveLinkByIds instead"),e.next=4,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:{name:n,ids:t}}});case 4:return r=e.sent,e.abrupt("return",r.links.related);case 6:case"end":return e.stop()}},e,this)})),function(e){return eO.apply(this,arguments)})},{key:"createArchiveLinkByIds",value:(e_=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,a=void 0===(r=t.name)?"files":r,i=t.pages,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:et({name:a,ids:n},i&&{pages:i})}});case 3:return c=e.sent,e.abrupt("return",c.links.related);case 5:case"end":return e.stop()}},e,this)})),function(e){return e_.apply(this,arguments)})},{key:"isChildOf",value:(eE=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l,d,f,p=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r="object"==typeof t?t:{_id:t})._id,i=r.dirID,c=r.path,s=("object"==typeof n?n:{_id:n})._id,a!==s&&i!==s){e.next=4;break}return e.abrupt("return",!0);case 4:if(c){e.next=10;break}return e.next=7,this.statById(a);case 7:c=(u=e.sent).data.path,i=u.data.dirID;case 10:for(l=c,d=[c];""!=l;)""!=(f=eu(l))&&d.push(f),l=f;return d.reverse(),e.abrupt("return",es(d.map(function(e){return p.statByPath(e)}),function(e){return e.data._id==s}));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return eE.apply(this,arguments)})},{key:"statById",value:(eC=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=(0,w.default)(n,["page[limit]","page[skip]","page[cursor]"]),a=this.prefix+(0,O.uri)(z(),t),i=C.buildURL(a,r),e.next=6,this.stackClient.fetchJSON("GET",i);case 6:return c=e.sent,e.abrupt("return",{data:ea(c.data),included:c.included&&c.included.map(function(e){return ea(e)}),links:c.links});case 8:case"end":return e.stop()}},e,this)})),function(e){return eC.apply(this,arguments)})},{key:"statByPath",value:(eS=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.prefix+(0,O.uri)(N(),t));case 2:return n=e.sent,e.abrupt("return",{data:ea(n.data),included:n.included&&n.included.map(function(e){return ea(e)})});case 4:case"end":return e.stop()}},e,this)})),function(e){return eS.apply(this,arguments)})},{key:"createDirectory",value:(eP=(0,s.default)(o.default.mark(function e(){var t,n,r,a,i,c,s,u,l,d,f,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},r=void 0===(n=(p.length>1&&void 0!==p[1]?p[1]:{}).sanitizeName)||n,a=t.name,i=t.dirId,c=t.lastModifiedDate,s=t.metadata,u="",!s){e.next=9;break}return e.next=7,this.createFileMetadata(s);case 7:u=e.sent.data.id;case 9:return l=r?ec(a):a,d=c&&("string"==typeof c?new Date(c):c),e.next=13,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(I(),i,l,u),void 0,{headers:{Date:d?d.toGMTString():""}});case 13:return f=e.sent,e.abrupt("return",{data:ea(f.data)});case 15:case"end":return e.stop()}},e,this)})),function(){return eP.apply(this,arguments)})},{key:"ensureDirectoryExists",value:(eA=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0===(n=(i.length>1&&void 0!==i[1]?i[1]:{}).sanitizeName)||n,this.specialDirectories[t]){e.next=6;break}return e.next=4,this.createDirectoryByPath(t,{sanitizeName:r});case 4:a=e.sent,this.specialDirectories[t]=a.data._id;case 6:return e.abrupt("return",this.specialDirectories[t]);case 7:case"end":return e.stop()}},e,this)})),function(e){return eA.apply(this,arguments)})},{key:"getDirectoryOrCreate",value:(eD=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=(l.length>2&&void 0!==l[2]?l[2]:{}).sanitizeName)||r,!(n&&!n.attributes)){e.next=3;break}throw Error("Malformed parent directory");case 3:return i=a?eo(t):t,c="".concat(n._id===en?"":n.attributes.path,"/").concat(i),e.prev=5,e.next=8,this.statByPath(c||"/");case 8:return s=e.sent,e.abrupt("return",s);case 12:if(e.prev=12,e.t0=e.catch(5),!((u=JSON.parse(e.t0.message).errors)&&u.length&&"404"===u[0].status)){e.next=18;break}return e.abrupt("return",this.createDirectory({name:i,dirId:n&&n._id},{sanitizeName:a}));case 18:throw u;case 19:case"end":return e.stop()}},e,this,[[5,12]])})),function(e,t){return eD.apply(this,arguments)})},{key:"createDirectoryByPath",value:(eT=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l,d=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(d.length>1&&void 0!==d[1]?d[1]:{}).sanitizeName)||n,a=t.split("/").filter(function(e){return""!==e}),e.next=4,this.statById(en);case 4:if(i=e.sent,a.length){e.next=7;break}return e.abrupt("return",i);case 7:c=i,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return M(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(a),e.prev=9,s.s();case 11:if((u=s.n()).done){e.next=18;break}return l=u.value,e.next=15,this.getDirectoryOrCreate(l,c.data,{sanitizeName:r});case 15:c=e.sent;case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),s.e(e.t0);case 23:return e.prev=23,s.f(),e.finish(23);case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}},e,this,[[9,20,23,26]])})),function(e){return eT.apply(this,arguments)})},{key:"updateAttributes",value:(eR=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l,d=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(a=(r=d.length>2&&void 0!==d[2]?d[2]:{}).ifMatch)?"":a,s=void 0===(c=r.sanitizeName)||c,u=et({},n),n.name&&s&&(u.name=ec(n.name)),e.next=5,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(j(),t),{data:{type:"io.cozy.files",id:t,attributes:u}},{headers:{"If-Match":i}});case 5:return l=e.sent,e.abrupt("return",{data:ea(l.data)});case 7:case"end":return e.stop()}},e,this)})),function(e,t){return eR.apply(this,arguments)})},{key:"updateFileMetadata",value:(ej=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("CozyClient FileCollection updateFileMetadata method is deprecated. Use updateAttributes instead"),e.abrupt("return",this.updateAttributes(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ej.apply(this,arguments)})},{key:"createFileMetadata",value:(eM=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(R()),{data:{type:"io.cozy.files.metadata",attributes:t}});case 2:return n=e.sent,e.abrupt("return",{data:n.data});case 4:case"end":return e.stop()}},e,this)})),function(e){return eM.apply(this,arguments)})},{key:"updateMetadataAttribute",value:(eI=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(T(),t),{data:{type:"io.cozy.files.metadata",attributes:n}});case 2:return r=e.sent,e.abrupt("return",{data:r.data});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return eI.apply(this,arguments)})},{key:"getFileTypeFromName",value:function(e){return v.default.getType(e)||"application/octet-stream"}},{key:"doUpload",value:(eN=(0,s.default)(o.default.mark(function e(t,n,r){var a,i,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,O,_=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_.length>3&&void 0!==_[3]?_[3]:"POST",i=n,void 0!==(c=t)){e.next=5;break}throw Error("missing data argument");case 5:if(c.buffer&&c.buffer instanceof ArrayBuffer&&(c=c.buffer),s="undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer,u="undefined"!=typeof File&&c instanceof File,l="undefined"!=typeof Blob&&c instanceof Blob,d=!0===c.readable&&"function"==typeof c.pipe,f="string"==typeof c,!(!s&&!u&&!l&&!d&&!f)){e.next=13;break}throw Error("invalid data type");case 13:return h=(p=r||{}).contentType,m=p.contentLength,v=p.checksum,y=p.lastModifiedDate,g=p.ifMatch,h||("string"==typeof c?h="text/plain":c.type?h=c.type:(w=new URLSearchParams((b=i.split("?")).length>1?b[1]:"").get("Name"),h=this.getFileTypeFromName(w.toLowerCase()))),(y=y||c.lastModified)&&(y=new Date(y)),k={"Content-Type":h},m&&(k["Content-Length"]=String(m)),v&&(k["Content-MD5"]=v),y&&(x=y.toISOString(),i="".concat(i,"&UpdatedAt=").concat(x,"&CreatedAt=").concat(x)),g&&(k["If-Match"]=g),e.next=24,this.stackClient.fetchJSON(a,i,c,{headers:k,onUploadProgress:r.onUploadProgress});case 24:return O=e.sent,e.abrupt("return",{data:ea(O.data)});case 26:case"end":return e.stop()}},e,this)})),function(e,t,n){return eN.apply(this,arguments)})},{key:"findNotSynchronizedDirectories",value:(ez=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l,d,f,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=p.length>1&&void 0!==p[1]?p[1]:{}).skip)?0:r,i=n.limit,c=n.cursor,u={include:void 0!==(s=n.includeFiles)&&s?"files":void 0,"page[limit]":i,"page[cursor]":c,sort:"id"},l=(0,O.uri)(D(),t._type,t._id),d=C.buildURL(l,u),e.next=6,this.stackClient.fetchJSON("GET",d);case 6:return f=e.sent,e.abrupt("return",{data:f.data.map(function(e){return ea(e)}),included:f.included?f.included.map(function(e){return ea(e)}):[],next:(0,y.default)(f,"links.next"),meta:f.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return ez.apply(this,arguments)})},{key:"addNotSynchronizedDirectories",value:function(e,t){var n=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("POST",(0,O.uri)(A(),e._type,e._id),{data:n})}},{key:"removeNotSynchronizedDirectories",value:function(e,t){var n=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("DELETE",(0,O.uri)(P(),e._type,e._id),{data:n})}},{key:"fetchChanges",value:(eF=(0,s.default)(o.default.mark(function e(){var t,n,r,a,i,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},n=f.length>1&&void 0!==f[1]?f[1]:{},r={},"object"!=typeof t?(r.since=t,S.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(r,t),Object.keys(n).length>0&&(Object.assign(r,n),(n.skipTrashed||n.includeFilePath)&&(r.includeDocs=!0)),a=et(et({},(0,b.default)(r,["fields","includeDocs","includeFilePath","skipDeleted","skipTrashed"])),{},{fields:r.fields?r.fields.join(","):null,include_docs:r.includeDocs,include_file_path:r.includeFilePath,skip_deleted:r.skipDeleted,skip_trashed:r.skipTrashed}),i=this.prefix+"/_changes",c=C.buildURL(i,a),e.next=10,this.stackClient.fetchJSON("GET",c);case 10:return u=(s=e.sent).last_seq,l=s.pending,d=s.results,e.abrupt("return",{newLastSeq:u,pending:l,results:d});case 15:case"end":return e.stop()}},e,this)})),function(){return eF.apply(this,arguments)})},{key:"getOrCreateSharedDrivesDirectory",value:function(){return this.stackClient.fetchJSON("POST",this.prefix+"/shared-drives")}},{key:"moveRelateToSharedDrive",value:(eL=(0,s.default)(o.default.mark(function e(t,n,r){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix,{source:t,dest:n,copy:r});case 2:return a=e.sent,e.abrupt("return",{data:ea(a.data)});case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return eL.apply(this,arguments)})}]),eU}(k.default)},86946:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hasJobFinished=t.normalizeJob=t.JOBS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(72189)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(38525)),p=r(n(43276)),h=n(61548),m=n(82946);function v(){var e=(0,i.default)(["/jobs/",""]);return v=function(){return e},e}var y="io.cozy.jobs";t.JOBS_DOCTYPE=y;var g=function(e){return new Promise(function(t){return setTimeout(t,e)})},b=(0,m.normalizeDoctypeJsonApi)(y);t.normalizeJob=b;var w=function(e){return"done"===e.state||"errored"===e.state};t.hasJobFinished=w,t.default=function(e){(0,u.default)(m,e);var t,n,r,i,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(m);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function m(e){return(0,c.default)(this,m),p.call(this,y,e)}return(0,s.default)(m,[{key:"queued",value:function(e){return this.stackClient.fetchJSON("GET","/jobs/queue/".concat(e))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.stackClient.fetchJSON("POST","/jobs/queue/".concat(e),{data:{type:y,attributes:{arguments:t,options:n,manual:r}}})}},{key:"get",value:(n=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.default.get(this.stackClient,(0,h.uri)(v(),t),{normalize:b}));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"update",value:(r=(0,o.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("client"===t.worker){e.next=2;break}throw Error("JobCollection.update only works for client workers. ".concat(t.worker," given"));case 2:return e.next=4,this.stackClient.fetchJSON("PATCH","/jobs/".concat(t._id),{data:{type:y,id:t._id,attributes:{state:t.attributes.state,error:t.attributes.error}}});case 4:return n=e.sent,e.abrupt("return",b(n.data));case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"waitFor",value:(i=(0,o.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l,d,f,p,h,m=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(r=(n=m.length>1&&void 0!==m[1]?m[1]:{}).onUpdate)?null:r,c=void 0===(o=n.until)?w:o,u=void 0===(s=n.delay)?5e3:s,d=void 0===(l=n.timeout)?3e5:l,f=Date.now(),e.next=4,this.get(t);case 4:p=e.sent.data.attributes;case 5:if(!(!p||!c(p))){e.next=17;break}return e.next=8,g(u);case 8:return e.next=10,this.get(t);case 10:if(p=e.sent.data.attributes,i&&i(p),h=Date.now(),!(f-h>d)){e.next=15;break}throw Error("Timeout for JobCollection::waitFor");case 15:e.next=5;break;case 17:return e.abrupt("return",p);case 18:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})}]),m}(p.default)},29354:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.KONNECTORS_DOCTYPE=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(82274)),s=a(n(65044)),u=a(n(56994)),l=a(n(65611)),d=a(n(18337)),f=a(n(44383)),p=a(n(15478)),h=r(n(77093)),m=n(82946),v="io.cozy.konnectors";t.KONNECTORS_DOCTYPE=v,t.default=function(e){(0,u.default)(b,e);var t,n,r,a,p,y,g=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(b);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function b(e){var t;return(0,c.default)(this,b),(t=g.call(this,e)).doctype=v,t.endpoint="/konnectors/",t}return(0,s.default)(b,[{key:"create",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(r=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"findTriggersBySlug",value:(a=(0,o.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h.default(this.stackClient),e.next=3,n.all({limit:null});case 3:return r=e.sent.data,e.abrupt("return",r.map(function(e){return e.attributes}).filter(function(e){return(0,h.isForKonnector)(e,t)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"launch",value:(p=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=new h.default(this.stackClient),e.next=4,this.findTriggersBySlug(t);case 4:if(a=e.sent,1!==(o=n.accountId?a.filter(function(e){return(0,h.isForAccount)(e,n.accountId)}):a).length){e.next=10;break}return e.abrupt("return",r.launch(a[0]));case 10:if(c=JSON.stringify((0,f.default)({slug:t,accountId:n.accountId})),0!==o.length){e.next=15;break}throw Error("No trigger found for ".concat(c));case 15:if(!(o.length>1)){e.next=17;break}throw Error("More than 1 trigger found for ".concat(c));case 17:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"update",value:(y=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},t){e.next=3;break}throw Error("Cannot call update with no slug");case 3:return r=n.source||null,a=n.sync?{headers:{Accept:"text/event-stream"}}:{},e.next=8,this.stackClient.fetchJSON("PUT","/konnectors/".concat(t)+(r?"?Source=".concat(r):""),a);case 8:return o=e.sent,e.abrupt("return",(0,m.normalizeDoc)(o));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}]),b}(p.default)},78064:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.NEXTCLOUD_FILES_DOCTYPE=t.NextcloudFilesCollection=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(43276)),p=n(61548),h=n(76790),m=n(82946);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b="io.cozy.remote.nextcloud.files";t.NEXTCLOUD_FILES_DOCTYPE=b;var w=(0,m.normalizeDoctypeJsonApi)(b),k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromTrash,a=void 0!==r&&r;return function(n){var r=w(n);return g(g({},r),{},{parentPath:t,path:a?r.path:(0,p.joinPath)(t,r.name),cozyMetadata:g(g({},r.cozyMetadata),{},{sourceAccount:e})})}};t.NextcloudFilesCollection=function(e){(0,s.default)(C,e);var t,n,r,d,f,m,y,g,w,x,O,_,E=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(C);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function C(e){return(0,o.default)(this,C),E.call(this,b,e)}return(0,c.default)(C,[{key:"find",value:(n=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t["cozyMetadata.sourceAccount"]&&t.parentPath)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/remote/nextcloud/".concat(t["cozyMetadata.sourceAccount"]).concat((0,p.encodePath)(t.parentPath)));case 3:return n=e.sent,e.abrupt("return",{data:n.data.map(k(t["cozyMetadata.sourceAccount"],t.parentPath,{fromTrash:t.trashed}))});case 5:throw Error("Not implemented");case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(r=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroyAll",value:(d=(0,i.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,this.destroy(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(e){return d.apply(this,arguments)})},{key:"download",value:(f=(0,i.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("GET","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path),"?Dl=1"));case 2:return n=e.sent,e.next=5,n.blob();case 5:r=e.sent,i=URL.createObjectURL(r),o=t.path.split("/").pop(),(0,p.forceDownload)(i,o);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"move",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.joinPath)(n.path,t.name),e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/move").concat((0,p.encodePath)(t.path),"?To=").concat((0,p.encodePath)(r)));case 3:if(204!==(i=e.sent).status){e.next=6;break}return e.abrupt("return",i);case 6:throw new h.FetchError(i,i.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"moveToCozy",value:(y=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0!==(i=(r=l.length>2&&void 0!==l[2]?l[2]:{}).copy)&&i,s=void 0!==(c=r.FailOnConflict)&&c,e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/downstream").concat((0,p.encodePath)(t.path),"?To=").concat(n._id).concat(o?"&Copy=true":"").concat(s?"&FailOnConflict=true":""));case 3:if(201!==(u=e.sent).status){e.next=6;break}return e.abrupt("return",u);case 6:throw new h.FetchError(u,u.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"moveFromCozy",value:(g=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0!==(r=(s.length>2&&void 0!==s[2]?s[2]:{}).copy)&&r,o=(0,p.joinPath)(t.path,n.name),e.next=4,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/upstream").concat((0,p.encodePath)(o),"?From=").concat(n._id).concat(i?"&Copy=true":""));case 4:if(204!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new h.FetchError(c,c.json());case 8:case"end":return e.stop()}},e,this)})),function(e,t){return g.apply(this,arguments)})},{key:"restore",value:(w=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/restore").concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"emptyTrash",value:(x=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t,"/trash"));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"deletePermanently",value:(O=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"copy",value:(_=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/copy/").concat(t.path).concat(n?"?Path=".concat(n.path,"/").concat(t.name):""));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return _.apply(this,arguments)})}]),C}(f.default)},73108:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NOTES_URL_DOCTYPE=t.NOTES_DOCTYPE=void 0;var a=r(n(72189)),i=r(n(26396)),o=r(n(92207)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(43276)),h=n(82946),m=n(61548),v=n(71295);function y(){var e=(0,a.default)(["/notes/","/open"]);return y=function(){return e},e}function g(){var e=(0,a.default)(["/files/",""]);return g=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="io.cozy.notes";t.NOTES_DOCTYPE=k;var x="io.cozy.notes.url";t.NOTES_URL_DOCTYPE=x;var O=(0,h.normalizeDoctypeJsonApi)(k),_=(0,h.normalizeDoctypeJsonApi)(x),E=function(e){(0,l.default)(b,e);var t,n,r,a,i,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(b);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,b),(t=h.call(this,k,e,n)).prefix=n.driveId?(0,m.sharedDriveApiPrefix)(n.driveId):"",t}return(0,u.default)(b,[{key:"get",value:(n=(0,c.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes/".concat(t));case 2:return n=e.sent,e.abrupt("return",{data:O(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"all",value:(r=(0,c.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes");case 2:return t=e.sent,e.abrupt("return",w(w({},t),{},{data:t.data.map(O)}));case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,m.uri)(g(),n));case 3:return r=e.sent,e.abrupt("return",{data:w(w({},O(r.data)),{},{_deleted:!0})});case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"create",value:(i=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dir_id,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/notes",{data:{type:"io.cozy.notes.documents",attributes:{title:"",schema:(0,v.getDefaultSchema)(),dir_id:n}}});case 3:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:O(r.data)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"fetchURL",value:(p=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("GET",this.prefix+(0,m.uri)(y(),n));case 3:return r=e.sent,e.abrupt("return",{data:_(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDefaultSchema",value:function(){return(0,v.getDefaultSchema)()}}]),b}(p.default);E.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=E},71295:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSchema=t.marks=t.nodes=void 0;var n=[["doc",{content:"(block)+",marks:"link"}],["paragraph",{content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline",parseDOM:[{tag:"p"}]}],["text",{group:"inline"}],["bulletList",{group:"block",content:"listItem+",parseDOM:[{tag:"ul"}]}],["orderedList",{group:"block",content:"listItem+",parseDOM:[{tag:"ol"}]}],["listItem",{content:"(paragraph ) (paragraph | bulletList | orderedList )*",defining:!0,parseDOM:[{tag:"li"}]}],["heading",{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}]}],["blockquote",{content:"paragraph+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}]}],["rule",{group:"block",parseDOM:[{tag:"hr"}]}],["panel",{group:"block",content:"(paragraph | heading | bulletList | orderedList)+",attrs:{panelType:{default:"info"}},parseDOM:[{tag:"div[data-panel-type]"}]}],["confluenceUnsupportedBlock",{group:"block",attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedBlock"]'}]}],["confluenceUnsupportedInline",{group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedInline"]'}]}],["unsupportedBlock",{inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]'}]}],["unsupportedInline",{inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]'}]}],["hardBreak",{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}]}],["table",{content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1}},tableRole:"table",isolating:!0,selectable:!1,group:"block",parseDOM:[{tag:"table"}]}],["tableHeader",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading )+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"header_cell",isolating:!0,marks:"",parseDOM:[{tag:"th"}]}],["tableRow",{content:"(tableCell | tableHeader)+",tableRole:"row",parseDOM:[{tag:"tr"}]}],["tableCell",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | unsupportedBlock)+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"cell",marks:"",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td"}]}]];t.nodes=n;var r=[["link",{excludes:"color",group:"link",attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]"}]}],["em",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}]}],["strong",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strong"},{tag:"b"},{style:"font-weight"}]}],["textColor",{attrs:{color:{}},inclusive:!0,group:"color",parseDOM:[{style:"color"}]}],["strike",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration"}]}],["subsup",{inclusive:!0,group:"fontStyle",attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}}]}],["underline",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"u"},{style:"text-decoration"}]}],["code",{excludes:"fontStyle link searchQuery color",inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0}]}],["typeAheadQuery",{excludes:"searchQuery",inclusive:!0,group:"searchQuery",parseDOM:[{tag:"span[data-type-ahead-query]"}],attrs:{trigger:{default:""}}}]];t.marks=r,t.getDefaultSchema=function(){return{nodes:n,marks:r}}},6157:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16826)),i=r(n(92207)),o=r(n(79092)),c=r(n(26396)),s=r(n(39892)),u=r(n(82274)),l=r(n(65044)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337)),h=r(n(77011)),m=r(n(74442)),v=r(n(31340)),y=r(n(76790)),g=r(n(74785));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);return n=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,n)}}var x={clientID:"",clientName:"",clientKind:"",clientSecret:"",clientURI:"",registrationAccessToken:"",redirectURI:"",softwareID:"",softwareVersion:"",logoURI:"",policyURI:"",notificationPlatform:"",notificationDeviceToken:""},O=function(e){(0,d.default)(S,e);var t,n,r,a,c,f,p,h,b,O,E,C=k(S);function S(e){var t,n=e.oauth,r=e.scope,a=e.onTokenRefresh,i=(0,s.default)(e,["oauth","scope","onTokenRefresh"]);return(0,u.default)(this,S),(t=C.call(this,i)).setOAuthOptions(w(w({},x),n)),n.token&&t.setToken(n.token),t.scope=void 0===r?[]:r,t.onTokenRefresh=a,t}return(0,l.default)(S,[{key:"isRegistered",value:function(){return""!==this.oauthOptions.clientID}},{key:"snakeCaseOAuthData",value:function(e){var t={softwareID:"software_id",softwareVersion:"software_version",clientID:"client_id",clientName:"client_name",clientKind:"client_kind",clientURI:"client_uri",logoURI:"logo_uri",policyURI:"policy_uri",notificationPlatform:"notification_platform",notificationDeviceToken:"notification_device_token",redirectURI:"redirect_uris"},n={};return Object.keys(e).forEach(function(r){var a=t[r]||r,i=e[r];n[a]=i}),n.redirect_uris&&n.redirect_uris instanceof Array==!1&&(n.redirect_uris=[n.redirect_uris]),n}},{key:"camelCaseOAuthData",value:function(e){var t={client_id:"clientID",client_name:"clientName",client_secret:"clientSecret",registration_access_token:"registrationAccessToken",software_id:"softwareID",redirect_uris:"redirectURI"},n={};return Object.keys(e).forEach(function(r){var a=t[r]||r,i=e[r];n[a]=i}),n}},{key:"doRegistration",value:function(){return this.fetchJSON("POST","/auth/register",this.snakeCaseOAuthData({redirectURI:this.oauthOptions.redirectURI,clientName:this.oauthOptions.clientName,softwareID:this.oauthOptions.softwareID,clientKind:this.oauthOptions.clientKind,clientURI:this.oauthOptions.clientURI,logoURI:this.oauthOptions.logoURI,policyURI:this.oauthOptions.policyURI,softwareVersion:this.oauthOptions.softwareVersion,notificationPlatform:this.oauthOptions.notificationPlatform,notificationDeviceToken:this.oauthOptions.notificationDeviceToken}))}},{key:"register",value:(t=(0,o.default)(i.default.mark(function e(){var t,n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRegistered()){e.next=2;break}throw Error("Client already registered");case 2:if(t=["redirectURI"],n=Object.keys(this.oauthOptions),!((r=t.filter(function(e){return n[e]})).length>0)){e.next=7;break}throw Error("Can't register client : missing ".concat(r," fields"));case 7:return e.next=9,this.doRegistration();case 9:return a=e.sent,this.setOAuthOptions(w(w({},this.oauthOptions),{},{client_id:a.client_id,client_name:a.client_name,client_secret:a.client_secret,registration_access_token:a.registration_access_token,software_id:a.software_id})),e.abrupt("return",this.oauthOptions);case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"unregister",value:(n=(0,o.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:return t=this.oauthOptions.clientID,this.oauthOptions.clientID="",e.abrupt("return",this.fetchJSON("DELETE","/auth/register/".concat(t),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"fetchInformation",value:(r=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:return e.abrupt("return",this.fetchJSON("GET","/auth/register/".concat(this.oauthOptions.clientID),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"updateInformation",value:(a=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],this.isRegistered()){e.next=3;break}throw new _;case 3:return r={clientID:this.oauthOptions.clientID,clientName:this.oauthOptions.clientName,redirectURI:this.oauthOptions.redirectURI,softwareID:this.oauthOptions.softwareID},a=this.snakeCaseOAuthData(w(w({},r),t)),n&&(a.client_secret=this.oauthOptions.clientSecret),e.next=8,this.fetchJSON("PUT","/auth/register/".concat(this.oauthOptions.clientID),a,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}});case 8:return o=e.sent,this.setOAuthOptions(w(w({},a),o)),e.abrupt("return",this.oauthOptions);case 11:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"generateStateCode",value:function(){var e;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(16),window.crypto.getRandomValues(e);else{e=Array(16);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}},{key:"getAuthCodeURL",value:function(e){var t=e.stateCode,n=e.scopes,r=void 0===n?this.scope:n,a=e.sessionCode,i=void 0===a?void 0:a,o=e.codeChallenge,c=void 0===o?void 0:o;if(!this.isRegistered())throw new _;var s={client_id:this.oauthOptions.clientID,redirect_uri:this.oauthOptions.redirectURI,state:t,response_type:"code",scope:r.join(" ")};return this.oauthOptions.registerToken&&(s=w(w({},s),{},{registerToken:this.oauthOptions.registerToken})),i&&(s=w(w({},s),{},{session_code:i})),c&&(s=w(w({},s),{},{code_challenge:c,code_challenge_method:"S256"})),"".concat(this.uri,"/auth/authorize?").concat(this.dataToQueryString(s))}},{key:"dataToQueryString",value:function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}},{key:"getAccessCodeFromURL",value:function(e,t){if(!t)throw Error("Missing state code");var n=new URL(e).searchParams,r=n.get("state"),a=n.get("access_code");if(t!==r)throw Error("Given state does not match url query state");return a}},{key:"fetchAccessToken",value:(c=(0,o.default)(i.default.mark(function e(t,n,r,a){var o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.isRegistered()&&!n)){e.next=2;break}throw new _;case 2:return c={grant_type:"authorization_code",code:t,client_id:(o=n||this.oauthOptions).clientID,client_secret:o.clientSecret},a&&(c=w(w({},c),{},{code_verifier:a})),e.next=7,this.fetchJSON("POST",(r||"")+"/auth/access_token",this.dataToQueryString(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return s=e.sent,e.abrupt("return",new m.default(s));case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return c.apply(this,arguments)})},{key:"fetchKonnectorToken",value:(f=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchJSON("POST","/auth/tokens/konnectors/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),Error('oAuthClient.fetchKonnectorToken(): Could not create a token for the konnector with slug "'.concat(t,'". \n\n').concat(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return f.apply(this,arguments)})},{key:"fetchSessionCode",value:(p=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchJSON("POST","/auth/session_code"));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchSessionCodeWithPassword",value:(h=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passwordHash,a=void 0===(r=t.twoFactorToken)?void 0:r,c=void 0===(o=t.twoFactorPasscode)?void 0:o,e.abrupt("return",this.fetchJSON("POST","/auth/session_code",{passphrase:n,two_factor_token:a,two_factor_passcode:c}));case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"loginFlagship",value:(b=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=t.emailVerifiedCode)?void 0:n,a=t.passwordHash,c=void 0===(o=t.twoFactorToken)?void 0:o,u=void 0===(s=t.twoFactorPasscode)?void 0:s,e.abrupt("return",this.fetchJSON("POST","/auth/login/flagship",{client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret,email_verified_code:r,passphrase:a,two_factor_token:c,two_factor_passcode:u}));case 2:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"refreshToken",value:(O=(0,o.default)(i.default.mark(function e(){var t,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:if(this.token){e.next=4;break}throw Error("No token to refresh");case 4:return t={grant_type:"refresh_token",refresh_token:this.token.refreshToken,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},e.prev=5,e.next=8,this.fetchJSONWithCurrentToken("POST","/auth/access_token",this.dataToQueryString(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 8:return n=e.sent,r=new m.default(w({refresh_token:this.token.refreshToken},n)),this.setToken(r),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(r),e.abrupt("return",r);case 15:if(e.prev=15,e.t0=e.catch(5),!this.isRevocationError(e.t0)){e.next=21;break}throw this.onRevocationChange(!0),g.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 21:if(!(y.default.EXPIRED_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=28;break}return e.next=24,this.checkForRevocation();case 24:if(!e.sent){e.next=28;break}throw g.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 28:throw e.t0;case 29:case"end":return e.stop()}},e,this,[[5,15]])})),function(){return O.apply(this,arguments)})},{key:"exchangeOAuthSecret",value:function(e,t){return this.fetchJSON("POST",e+"/auth/secret_exchange",{secret:t})}},{key:"setToken",value:function(e){e?this.token=e instanceof m.default?e:new m.default(e):this.token=null}},{key:"setCredentials",value:function(e){return(0,v.default)("setCredentials is deprecated, please replace by setToken"),this.setToken(e)}},{key:"setOAuthOptions",value:function(e){this.oauthOptions=this.camelCaseOAuthData(e)}},{key:"resetClientId",value:function(){this.oauthOptions.clientID=""}},{key:"resetClient",value:function(){this.resetClientId(),this.setUri(null),this.setToken(null)}},{key:"registrationAccessTokenToAuthHeader",value:function(){if(!this.oauthOptions.registrationAccessToken)throw Error("No registration access token");return"Bearer "+this.oauthOptions.registrationAccessToken}},{key:"setPassphraseFlagship",value:function(e){var t=e.registerToken,n=e.passwordHash,r=e.hint,a=e.key,i=e.publicKey,o=e.privateKey,c=e.iterations;return this.fetchJSON("POST","/settings/passphrase/flagship",{register_token:t,passphrase:n,hint:r,key:a,public_key:i,private_key:o,iterations:c,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}})}},{key:"checkForRevocation",value:(E=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchInformation();case 3:case 11:return e.abrupt("return",!1);case 6:if(e.prev=6,e.t0=e.catch(0),!this.isRevocationError(e.t0)){e.next=11;break}return this.onRevocationChange(!0),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return E.apply(this,arguments)})}]),S}(h.default),_=function(e){(0,d.default)(n,e);var t=k(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Client not registered or missing OAuth information";return(0,u.default)(this,n),(e=t.call(this,r)).message=r,e.name="NotRegisteredException",e}return n}((0,a.default)(Error));t.default=O},90408:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OAUTH_CLIENTS_DOCTYPE=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(72189)),s=a(n(79092)),u=a(n(82274)),l=a(n(65044)),d=a(n(56994)),f=a(n(65611)),p=a(n(18337)),h=a(n(58156)),m=a(n(43276)),v=n(82946),y=n(61548),g=r(n(73612)),b=n(38525),w=n(76790);function k(){var e=(0,c.default)(["/settings/clients/",""]);return k=function(){return e},e}function x(){var e=(0,c.default)(["/settings/clients/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,c.default)(["/settings/clients"]);return E=function(){return e},e}var C="io.cozy.oauth.clients";t.OAUTH_CLIENTS_DOCTYPE=C;var S=(0,v.normalizeDoctypeJsonApi)(C),P=function(e){(0,d.default)(c,e);var t,n,r,a,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(c);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function c(e){return(0,u.default)(this,c),o.call(this,C,e)}return(0,l.default)(c,[{key:"all",value:(n=(0,s.default)(i.default.mark(function e(){var t,n,r,a,o,c,s,u,l,d,f,p,m,v,w=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=w.length>0&&void 0!==w[0]?w[0]:{}).limit)?100:n,a=t.bookmark,o=t.keys,c={"page[limit]":r,"page[cursor]":a},s=(0,y.uri)(E()),u=g.buildURL(s,c),e.prev=5,e.next=8,this.stackClient.fetchJSON("GET",u);case 8:l=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",(0,b.dontThrowNotFoundError)(e.t0));case 14:if(d=(0,h.default)(l,"links.next",""),p=void 0!==(f=new URL("".concat(this.stackClient.uri).concat(d)).searchParams.get("page[cursor]")||void 0),!o){e.next=24;break}return m=l.data.filter(function(e){return o.includes(e.id)}).map(function(e){return S(e)}),v=_(_({},l.meta),{},{count:m.length}),e.abrupt("return",{data:m,meta:v,next:o.length>m.length&&p,bookmark:f});case 24:return e.abrupt("return",{data:l.data.map(function(e){return S(e)}),meta:l.meta,next:p,bookmark:f});case 25:case"end":return e.stop()}},e,this,[[5,11]])})),function(){return n.apply(this,arguments)})},{key:"get",value:(r=(0,s.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all({keys:[t]});case 2:n=e.sent;case 3:if(!n.next){e.next=9;break}return e.next=6,this.all({keys:[t],bookmark:n.bookmark});case 6:n=e.sent,e.next=3;break;case 9:if(!n.data.length){e.next=13;break}return e.abrupt("return",{data:S(n.data[0])});case 13:throw n.url=(0,y.uri)(x(),t),n.status="404",new w.FetchError(n,"Not Found");case 16:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,s.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",(0,y.uri)(k(),n));case 3:return e.abrupt("return",{data:_(_({},S(t)),{},{_deleted:!0})});case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})}]),c}(m.default);P.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=P},58146:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPermissionsFor=void 0;var a=r(n(21259)),i=r(n(26396)),o=r(n(39892)),c=r(n(92207)),s=r(n(72189)),u=r(n(79092)),l=r(n(82274)),d=r(n(65044)),f=r(n(56994)),p=r(n(65611)),h=r(n(18337)),m=r(n(43276)),v=n(82946),y=n(54039),g=n(61548),b=r(n(74785));function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(){var e=(0,s.default)(["/permissions/doctype/","/shared-by-link"]);return k=function(){return e},e}function x(){var e=(0,s.default)(["/permissions/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,s.default)(["/permissions/",""]);return E=function(){return e},e}var C=function(e){return(0,v.normalizeDoc)(e,"io.cozy.permissions")},S=function(e){(0,f.default)(j,e);var t,n,r,i,s,m,v,y,O,S,D,T,R=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,h.default)(j);return e=t?Reflect.construct(n,arguments,(0,h.default)(this).constructor):n.apply(this,arguments),(0,p.default)(this,e)});function j(){return(0,l.default)(this,j),R.apply(this,arguments)}return(0,d.default)(j,[{key:"get",value:(n=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,g.uri)(E(),t));case 2:return n=e.sent,e.abrupt("return",{data:C(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:(r=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,s,u,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._id,t._type,r=void 0===(n=t.codes)?"code":n,a=t.ttl,i=t.tiny,s=(0,o.default)(t,["_id","_type","codes","ttl","tiny"]),(u=new URLSearchParams).append("codes",r),a&&u.append("ttl",a),i&&u.append("tiny",!0),e.next=7,this.stackClient.fetchJSON("POST","/permissions?".concat(u),{data:{type:"io.cozy.permissions",attributes:s}});case 7:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"add",value:(i=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u,l,d=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]?d[2]:{},e.t0=t._type,e.next="io.cozy.apps"===e.t0?4:"io.cozy.konnectors"===e.t0?6:"io.cozy.permissions"===e.t0?8:10;break;case 4:return a="/permissions/apps/".concat(t.slug),e.abrupt("break",11);case 6:return a="/permissions/konnectors/".concat(t.slug),e.abrupt("break",11);case 8:return a="/permissions/".concat(t._id),e.abrupt("break",11);case 10:throw Error("Permissions can only be added on existing permissions, apps and konnectors.");case 11:return i=r.expiresAt,s=(o=r.password)||""===o,u=i||""===i,e.next=16,this.stackClient.fetchJSON("PATCH",a,{data:{type:"io.cozy.permissions",attributes:_(_({permissions:n},s&&{password:o}),u&&{expires_at:i})}});case 16:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 18:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"destroy",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,g.uri)(x(),e.id))}},{key:"findLinksByDoctype",value:(s=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,g.uri)(k(),t));case 2:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:n.data.map(C)}));case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"findApps",value:(m=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.default.warn("PermissionCollection.findApps will be removed in next version of cozy-client. \n\n      You can use AppCollection.all() instead \n\n      or even better client.query(Q('io.cozy.apps'), {as: 'io.cozy.apps'})"),e.next=3,this.stackClient.fetchJSON("GET","/apps/");case 3:return t=e.sent,e.abrupt("return",_(_({},t),{},{data:t.data.map(function(e){return _({_id:e.id},e)})}));case 5:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"createSharingLink",value:(v=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,o,s,u,l,d,f=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=f.length>1&&void 0!==f[1]?f[1]:{}).ttl,a=n.password,i=n.verbs,o=n.tiny,u=void 0===(s=n.codes)?"code":s,(l=new URLSearchParams).append("codes",u),r&&l.append("ttl",r),o&&l.append("tiny",!0),e.next=8,this.stackClient.fetchJSON("POST","/permissions?".concat(l),{data:{type:"io.cozy.permissions",attributes:_({permissions:P(t,!0,i?{verbs:i}:{})},a&&{password:a})}});case 8:return d=e.sent,e.abrupt("return",{data:C(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchPermissionsByLink",value:(y=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.links&&t.links.next)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET",t.links.next);case 3:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:n.data.map(C)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchAllLinks",value:(O=(0,u.default)(c.default.mark(function e(t){var n,r,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findLinksByDoctype(t._type);case 2:r=n=e.sent;case 4:if(!(r.links&&r.links.next)){e.next=11;break}return e.next=7,this.fetchPermissionsByLink(r);case 7:r=e.sent,(i=n.data).push.apply(i,(0,a.default)(r.data)),e.next=4;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"revokeSharingLink",value:(S=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLinks(t);case 2:n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(e.sent.data.filter(function(e){return A(e,t)})),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return a=r.value,e.next=11,this.destroy(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[5,15,18,21]])})),function(e){return S.apply(this,arguments)})},{key:"getOwnPermissions",value:(D=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.default.warn("getOwnPermissions is deprecated, please use fetchOwnPermissions instead"),e.abrupt("return",this.fetchOwnPermissions());case 2:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})},{key:"fetchOwnPermissions",value:(T=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/permissions/self");case 2:return t=e.sent,e.abrupt("return",{data:C(t.data),included:t.included?t.included.map(C):[]});case 4:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})}]),j}(m.default),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e._id,a=e._type,i=n.verbs?n.verbs:t?["GET"]:["ALL"];return(0,y.isFile)(e)?{files:{type:"io.cozy.files",verbs:i,values:[r]}}:{collection:{type:a,verbs:i,values:[r]},files:{type:"io.cozy.files",verbs:i,values:["".concat(a,"/").concat(r)],selector:"referenced_by"}}};t.getPermissionsFor=P;var A=function(e,t){var n=t._id;return(0,y.isFile)(t)?-1!==e.attributes.permissions.files.values.indexOf(n):-1!==e.attributes.permissions.collection.values.indexOf(n)};t.default=S},31188:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeSettings=t.SETTINGS_DOCTYPE=void 0;var a=r(n(72189)),i=r(n(92207)),o=r(n(26396)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(43276)),h=r(n(74785)),m=n(61548),v=n(82946);function y(){var e=(0,a.default)(["/data/","/",""]);return y=function(){return e},e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b="io.cozy.settings";t.SETTINGS_DOCTYPE=b;var w=(0,v.normalizeDoctypeJsonApi)(b);t.normalizeSettings=w;var k=function(e){(0,l.default)(v,e);var t,n,r,a,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(v);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function v(e){return(0,s.default)(this,v),p.call(this,b,e)}return(0,u.default)(v,[{key:"get",value:(n=(0,c.default)(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.bitwarden"!==t){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/data/io.cozy.settings/io.cozy.settings.bitwarden");case 3:return n=e.sent,e.abrupt("return",{data:w(n)});case 5:return t.startsWith("io.cozy.settings.")?r=t.substring(17):(h.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query settings with an incomplete id\n\n- Q('io.cozy.settings').getById('instance')\n+ Q('io.cozy.settings').getById('io.cozy.settings.instance')"),r=t),e.next=8,this.stackClient.fetchJSON("GET","/settings/".concat(r));case 8:return a=e.sent,e.abrupt("return",{data:w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:"/settings/".concat(r)},a.data))});case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"update",value:(r=(0,c.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.instance"!==t._id){e.next=6;break}return e.next=3,this.stackClient.fetchJSON("PUT","/settings/instance",{data:t});case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,this.stackClient.fetchJSON("PUT",(0,m.uri)(y(),this.doctype,t._id),t);case 8:n=e.sent;case 9:return e.abrupt("return",{data:w(n.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"updateLastSynced",value:(a=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST","/settings/synchronized"));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),v}(p.default);k.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=k},99101:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getSharingRules=t.BITWARDEN_CIPHERS_DOCTYPE=t.BITWARDEN_ORGANIZATIONS_DOCTYPE=t.SHARING_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(72189)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(43276)),h=n(82946),m=n(54039),v=n(61548);function y(){var e=(0,o.default)(["/sharings/","/recipients"]);return y=function(){return e},e}function g(){var e=(0,o.default)(["/sharings/","/recipients/self"]);return g=function(){return e},e}function b(){var e=(0,o.default)(["/sharings/","/groups/",""]);return b=function(){return e},e}function w(){var e=(0,o.default)(["/sharings/","/recipients/",""]);return w=function(){return e},e}function k(){var e=(0,o.default)(["/sharings/","/recipients"]);return k=function(){return e},e}function x(){var e=(0,o.default)(["/sharings/drives/","/",""]);return x=function(){return e},e}function O(){var e=(0,o.default)(["/sharings/",""]);return O=function(){return e},e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(){var e=(0,o.default)(["/sharings/doctype/","?shared_docs=",""]);return C=function(){return e},e}var S="io.cozy.sharings";t.SHARING_DOCTYPE=S;var P="com.bitwarden.organizations";t.BITWARDEN_ORGANIZATIONS_DOCTYPE=P;var A="com.bitwarden.ciphers";t.BITWARDEN_CIPHERS_DOCTYPE=A;var D=(0,h.normalizeDoctypeJsonApi)(S),T=function(e){(0,l.default)(m,e);var t,n,r,i,o,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(m);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function m(){return(0,s.default)(this,m),h.apply(this,arguments)}return(0,u.default)(m,[{key:"findByDoctype",value:(n=(0,c.default)(a.default.mark(function e(t){var n,r,i,o=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(o.length>1&&void 0!==o[1]?o[1]:{}).withSharedDocs)||n,e.next=3,this.stackClient.fetchJSON("GET",(0,v.uri)(C(),t,r));case 3:return i=e.sent,e.abrupt("return",E(E({},i),{},{data:i.data.map(D)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"get",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.uri)(O(),t),e.next=3,this.stackClient.fetchJSON("GET",n);case 3:return r=e.sent,e.abrupt("return",{data:D(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"renameSharedDrive",value:function(e,t){var n,r,a,i=null==e||null==(n=e.rules)||null==(r=n[0])||null==(a=r.values)?void 0:a[0];return this.stackClient.fetchJSON("PATCH",(0,v.uri)(x(),null==e?void 0:e._id,i),{data:{type:"io.cozy.files",id:i,attributes:{name:t}}})}},{key:"fetchSharedDrives",value:(i=(0,c.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/sharings/drives");case 2:return t=e.sent.data,e.abrupt("return",{data:t.map(D)});case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"create",value:(o=(0,c.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l,d,f,p,h,m,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,r=t.description,i=t.previewPath,o=t.rules,s=void 0===(c=t.recipients)?[]:c,l=void 0===(u=t.readOnlyRecipients)?[]:u,d=t.openSharing,f=t.appSlug,p=t.sharedDrive,h={description:r,preview_path:i,open_sharing:d,rules:o||R(n,{sharedDrive:p})},m={},f&&(m.app_slug=f),p&&(m.drive=p),e.next=7,this.stackClient.fetchJSON("POST","/sharings/",{data:{type:"io.cozy.sharings",attributes:E(E({},h),m),relationships:E(E({},s.length>0&&{recipients:{data:s.map(B)}}),l.length>0&&{read_only_recipients:{data:l.map(B)}})}});case 7:return v=e.sent,e.abrupt("return",{data:D(v.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getDiscoveryLink",value:function(e,t,n){var r=(n||{}).shortcut,a=new URLSearchParams;return a.append("sharecode",t),r&&a.append("shortcut",!0),this.stackClient.fullpath("/sharings/".concat(e,"/discovery?").concat(a))}},{key:"addRecipients",value:(p=(0,c.default)(a.default.mark(function e(t){var n,r,i,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,i=void 0===(r=t.recipients)?[]:r,c=void 0===(o=t.readOnlyRecipients)?[]:o,e.next=3,this.stackClient.fetchJSON("POST",(0,v.uri)(k(),n._id),{data:{type:"io.cozy.sharings",id:n._id,relationships:E(E({},i.length>0&&{recipients:{data:i.map(B)}}),c.length>0&&{read_only_recipients:{data:c.map(B)}})}});case 3:return s=e.sent,e.abrupt("return",{data:D(s.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"revokeRecipient",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(w(),e._id,t))}},{key:"revokeGroup",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(b(),e._id,t))}},{key:"revokeSelf",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(g(),e._id))}},{key:"revokeAllRecipients",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(y(),e._id))}}]),m}(p.default);T.normalizeDoctype=h.normalizeDoctypeJsonApi;var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.sharedDrive?z(e):(0,m.isFile)(e)?N(e):e._type===P?L(e):j(e)};t.getSharingRules=R;var j=function(e){var t=e._id,n=e._type;return[E({title:"collection",doctype:n,values:[t]},I()),E({title:"items",doctype:"io.cozy.files",values:["".concat(n,"/").concat(t)],selector:"referenced_by"},M())]},M=function(){return{add:"sync",update:"sync",remove:"sync"}},I=function(){return{update:"sync",remove:"revoke"}},N=function(e){var t=e._id;return[E({title:e.name,doctype:"io.cozy.files",values:[t]},F(e))]},z=function(e){var t=e._id;return[{title:e.name,doctype:"io.cozy.files",values:[t],add:"none",update:"none",remove:"none"}]},F=function(e){return(0,m.isDirectory)(e)?{add:"sync",update:"sync",remove:"sync"}:{update:"sync",remove:"revoke"}},L=function(e){var t=e._id;return[{title:e.name,doctype:P,values:[t],add:"sync",update:"sync",remove:"revoke"},{title:"Ciphers",doctype:A,values:[t],add:"sync",update:"sync",remove:"sync",selector:"organization_id"}]},B=function(e){return{id:e._id,type:e._type}};t.default=T},66306:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHORTCUTS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(72189)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(43276)),p=n(82946),h=n(61548),m=n(20532);function v(){var e=(0,i.default)(["/shortcuts/",""]);return v=function(){return e},e}function y(){var e=(0,i.default)(["/shortcuts"]);return y=function(){return e},e}var g="io.cozy.files.shortcuts";t.SHORTCUTS_DOCTYPE=g;var b=(0,p.normalizeDoctypeJsonApi)(g),w=function(e){(0,u.default)(f,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(f);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function f(e){return(0,c.default)(this,f),i.call(this,g,e)}return(0,s.default)(f,[{key:"create",value:(n=(0,o.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type||(t.type=g),!(!t.name||!t.name.trim()||!t.url||!t.dir_id)){e.next=3;break}throw Error("you need at least a name, an url and a dir_id attributes to create a shortcut");case 3:if("."!==(n=t.name.trim())&&".."!==n){e.next=6;break}throw Error("Invalid filename: ".concat(n));case 6:if(!(r=(0,m.getIllegalCharacters)(n)).length){e.next=9;break}throw Error("Invalid filename containing illegal character(s): ".concat(r));case 9:return i=(0,h.uri)(y()),e.next=12,this.stackClient.fetchJSON("POST",i,{data:{attributes:t,type:"io.cozy.files.shortcuts"}});case 12:return o=e.sent,e.abrupt("return",{data:b(o.data)});case 14:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"get",value:(r=(0,o.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,h.uri)(v(),t),e.next=3,this.stackClient.fetchJSON("GET",n);case 3:return r=e.sent,e.abrupt("return",{data:b(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),f}(f.default);w.normalizeDoctype=p.normalizeDoctypeJsonApi,t.default=w},77093:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isForAccount=t.isForKonnector=t.normalizeTrigger=t.TRIGGERS_DOCTYPE=t.JOBS_DOCTYPE=void 0;var i=a(n(39892)),o=a(n(26396)),c=a(n(72189)),s=a(n(92207)),u=a(n(79092)),l=a(n(82274)),d=a(n(65044)),f=a(n(96220)),p=a(n(56994)),h=a(n(65611)),m=a(n(18337)),v=r(n(38525)),y=n(82946),g=n(86946),b=n(61548),w=a(n(43276));function k(){var e=(0,c.default)(["/jobs/triggers/","/launch"]);return k=function(){return e},e}function x(){var e=(0,c.default)(["/jobs/triggers/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,c.default)(["/jobs/triggers/",""]);return E=function(){return e},e}function C(){var e=(0,c.default)(["/jobs/triggers"]);return C=function(){return e},e}n(76790),t.JOBS_DOCTYPE="io.cozy.jobs";var S="io.cozy.triggers";t.TRIGGERS_DOCTYPE=S;var P=(0,y.normalizeDoctypeJsonApi)(S);t.normalizeTrigger=P,t.isForKonnector=function(e,t){return"konnector"===e.worker&&e.message.konnector==t},t.isForAccount=function(e,t){return e.message.account==t};var A=function(e,t){var n=new URLSearchParams;return e&&(Array.isArray(e.$in)?n.set("Worker",e.$in.join(",")):n.set("Worker",e)),t&&(Array.isArray(t.$in)?n.set("Type",t.$in.join(",")):n.set("Type",t)),n.toString()},D=function(e){(0,p.default)(D,e);var t,n,r,a,o,c,y,w,O=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,m.default)(D);return e=t?Reflect.construct(n,arguments,(0,m.default)(this).constructor):n.apply(this,arguments),(0,h.default)(this,e)});function D(e){return(0,l.default)(this,D),O.call(this,S,e)}return(0,d.default)(D,[{key:"all",value:(n=(0,u.default)(s.default.mark(function e(){var t,n=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]&&n[0],e.prev=1,e.next=4,this.stackClient.fetchJSON("GET","/jobs/triggers");case 4:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return P(e)}),meta:{count:t.data.length},next:!1,skip:0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return n.apply(this,arguments)})},{key:"create",value:(r=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,b.uri)(C()),e.next=3,this.stackClient.fetchJSON("POST",n,{data:{attributes:t}});case 3:return r=e.sent,e.abrupt("return",{data:P(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,u.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t._id){e.next=3;break}throw Error("TriggerCollection.destroy needs a document with an _id");case 3:return e.next=5,this.stackClient.fetchJSON("DELETE",(0,b.uri)(E(),n));case 5:return e.abrupt("return",{data:P(_(_({},t),{},{_deleted:!0}))});case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"find",value:(o=(0,u.default)(s.default.mark(function e(){var t,n,r,a,o,c,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},r=t.worker,a=t.type,!(0===Object.keys((0,i.default)(t,["worker","type"])).length&&!n.partialFilter)){e.next=18;break}return o="/jobs/triggers?".concat(A(r,a)),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",o);case 9:return c=e.sent,e.abrupt("return",{data:c.data.map(function(e){return P(e)}),meta:{count:c.data.length},next:!1,skip:0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 16:e.next=19;break;case 18:return e.abrupt("return",(0,f.default)((0,m.default)(D.prototype),"find",this).call(this,t,n));case 19:case"end":return e.stop()}},e,this,[[6,13]])})),function(){return o.apply(this,arguments)})},{key:"get",value:(c=(0,u.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.default.get(this.stackClient,(0,b.uri)(x(),t),{normalize:P}));case 1:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"launch",value:(y=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,b.uri)(k(),t._id),e.next=3,this.stackClient.fetchJSON("POST",n);case 3:return r=e.sent,e.abrupt("return",{data:(0,g.normalizeJob)(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"update",value:(w=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=s.default.keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}if(["_id","_rev","_type","arguments","message","cozyMetadata"].includes(e.t1.value)){e.next=5;break}throw Error("TriggerCollection.update only works for 'arguments', and 'message' attributes.");case 5:e.next=1;break;case 7:return n=_(_({},t.arguments?{arguments:t.arguments}:{}),t.message?{message:t.message}:{}),e.next=10,this.stackClient.fetchJSON("PATCH","/jobs/triggers/".concat(t._id),{data:{attributes:n}});case 10:return r=e.sent,e.abrupt("return",{data:P(r.data)});case 12:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})}]),D}(w.default);D.normalizeDoctype=y.normalizeDoctypeJsonApi,t.default=D},76790:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.default=void 0;var a=r(n(82274)),i=r(n(41972)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=r(n(16826)),l=/the client must be registered/;t.default={EXPIRED_TOKEN:/Expired token/,CLIENT_NOT_FOUND:/Client not found/,INVALID_TOKEN:/Invalid JWT token/,INVALID_TOKEN_ALT:/Invalid token/,UNREGISTERED_CLIENT:l};var d=/invalid_token/,f=/access_token_expired/,p=function(e){var t,n=null==(t=e.headers)?void 0:t.get("www-authenticate");if(n){if(f.test(n))return"Expired token";if(d.test(n))return"Invalid token"}};t.FetchError=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(e,t){if((0,a.default)(this,r),c=n.call(this),null==(o=Error.captureStackTrace)||o.call(Error,(0,i.default)(c),c.constructor),c.name="FetchError",c.response=e,c.url=e.url,c.status=e.status,c.reason=t,null===t)throw Error("FetchError received a ".concat(e.status," error without a Response Body when calling ").concat(e.url));var o,c,s=p(e);return Object.defineProperty((0,i.default)(c),"message",{value:("string"==typeof t.error&&l.test(t.error)?t.error:void 0)||t.message||s||("string"==typeof t?t:JSON.stringify(t))}),c}return r}((0,u.default)(Error))},32395:function(e,t,n){"use strict";var r,a,i=n(58784),o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconURL=t.default=t._getIconURL=void 0;var c=o(n(92207)),s=o(n(79092));n(16144);var u=i(n(70741));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e,t,n,r){if(!n)throw Error("Cannot fetch icon: missing domain");var a=f(e,t,n,r);if(!a)throw Error("Cannot get icon source for app ".concat(e.name));return a},f=function(e,t,n,r){var a=e&&e.links&&e.links.icon||p(e,t);return a?"".concat(r,"//").concat(n).concat(a):null},p=function(e,t){return t?"/registry/".concat(t,"/icon"):e&&e.latest_version&&e.latest_version.version&&"/registry/".concat(e.slug,"/").concat(e.latest_version.version,"/icon")},h={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},m=function(e){if(!e.icon)throw Error("".concat(e.name,": Cannot detect icon mime type since app has no icon"));var t=e.icon.split(".").pop();if(!t)throw Error("".concat(e.name,": Unable to detect icon mime type from extension (").concat(e.icon,")"));return t},v=(r=(0,s.default)(c.default.mark(function e(t,n){var r,a,i,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=18;break}return o=i.value,e.prev=5,e.next=8,o();case 8:return s=e.sent,n&&n(s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(5),r=e.t0;case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),a.e(e.t1);case 23:return e.prev=23,a.f(),e.finish(23);case 26:throw r;case 27:case"end":return e.stop()}},e,null,[[1,20,23,26],[5,13]])})),function(e,t){return r.apply(this,arguments)}),y=(a=(0,s.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u,l,f,p,y,g,b,w,k;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.type,a=n.slug,i=n.appData,s=void 0===(o=n.priority)?"stack":o,!t.oauthOptions){e.next=29;break}return u=[function(){return t.fetch("GET","/".concat(r,"s/").concat(a,"/icon"))},function(){return t.fetch("GET","/registry/".concat(a,"/icon"))}],"registry"===s&&u.reverse(),e.next=6,v(u,function(e){if(!e.ok)throw Error("Error while fetching icon ".concat(e.statusText))});case 6:return l=e.sent,e.next=9,l.blob();case 9:if((f=e.sent).type){e.next=26;break}if(y=[function(){var e,n;return e=r,n=a,t.fetchJSON("GET","/".concat(e,"s/").concat(n)).then(function(e){return e.data.attributes})},function(){var e;return e=a,t.fetchJSON("GET","/registry/".concat(e)).then(function(e){return e.latest_version.manifest})}],"registry"===s&&y.reverse(),e.t1=i,e.t1){e.next=18;break}return e.next=17,v(y);case 17:e.t1=e.sent;case 18:if(e.t0=e.t1,e.t0){e.next=21;break}e.t0={};case 21:if(h[g=m(p=e.t0)]){e.next=25;break}throw Error('Unknown image extension "'.concat(g,'" for app ').concat(p.name));case 25:f=new Blob([f],{type:h[g]});case 26:return e.abrupt("return",URL.createObjectURL(f));case 29:return e.prev=29,w=(b=new URL(t.uri)).host,k=b.protocol,e.abrupt("return",d(i,a,w,k));case 34:throw e.prev=34,e.t2=e.catch(29),Error("Cannot fetch icon: invalid stackClient.uri: ".concat(e.t2.message));case 37:case"end":return e.stop()}},e,null,[[29,34]])})),function(e,t){return a.apply(this,arguments)});t._getIconURL=y;var g=function(){return y.apply(this,arguments).catch(function(){return new u.ErrorReturned})};t.getIconURL=g,t.default=(0,u.default)(g,{maxDuration:3e5,key:function(e,t){var n=t.type,r=t.slug,a=t.priority;return e.uri+NaN+n+":"+r+":"+a}})},20532:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIllegalCharacters=void 0,t.getIllegalCharacters=function(e){var t=e.match(/\/|\x00|\n|\r/g);return t?t.join(" "):""}},98017:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OAuthClient",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return c.FetchError}}),Object.defineProperty(t,"normalizeDoc",{enumerable:!0,get:function(){return s.normalizeDoc}});var i=a(n(77011)),o=a(n(6157)),c=r(n(76790)),s=n(82946)},31340:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(74785));t.default=function(){a.default.warn.apply(a.default,arguments)}},74785:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i=(0,a.default)("cozy-stack-client");a.default.suggest.deny("cozy-stack-client","info"),t.default=i},86287:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeOperatorsExplicit=t.isMatchingIndex=t.getIndexFields=t.transformSort=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=t.normalizeDesignDoc=void 0;var a=r(n(21259)),i=r(n(22056)),o=r(n(26396)),c=r(n(912)),s=r(n(58156)),u=r(n(2404)),l=r(n(23805));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.normalizeDesignDoc=function(e){var t=e._id||e.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t,_id:t},e.doc)};var f=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(r,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(r,"_(")),")"):"object"==typeof a?"".concat(r,"_").concat(e(a)):"".concat(r,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=f,t.getIndexNameFromFields=function(e,t){var n="by_".concat(e.join("_and_"));return t?"".concat(n,"_filter_(").concat(f(t),")"):n},t.transformSort=function(e){if(!e||Array.isArray(e))return e;throw Error('Passing an object to the "sort" is not supported')},t.getIndexFields=function(e){var t=e.selector,n=e.partialFilter,r=e.sort;return Array.from(new Set([].concat((0,a.default)((void 0===r?[]:r).map(function(e){return(0,c.default)(Object.keys(e))})),(0,a.default)(t?Object.keys(t):[]),(0,a.default)(n?Object.keys(n):[]))))},t.isMatchingIndex=function(e,t,n){var r=Object.keys((0,s.default)(e,"views"))[0],a=Object.keys((0,s.default)(e,"views.".concat(r,".map.fields")));if((0,u.default)(a,t)){var i=(0,s.default)(e,"views.".concat(r,".map.partial_filter_selector"));if(!n&&!i)return!0;var o=p(null!=n?n:{});if((0,u.default)(o,i))return!0}return!1};var p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object.entries(t).reduce(function(t,r){var a,c=(0,i.default)(r,2),s=c[0],u=c[1];return"$nor"===s?t.$and=u.map(function(e){return Object.entries(e).reduce(function(e,t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return"string"==typeof a?e[r]={$ne:a}:e[r]=p(a,!0),e},{})}).sort(h):null!=(a=u.$or)&&a.every(function(e){return"string"==typeof e})?t.$or=u.$or.map(function(t){return e((0,o.default)({},s,t),n)}).sort(h):Array.isArray(u)&&u.every(l.default)?t[s]=u.map(function(t){return e(t,n)}).sort(h):(0,l.default)(u)&&!Array.isArray(u)?t[s]=e(u,n):n&&"$eq"===s?t.$ne=u:s.startsWith("$")?t[s]=u:t[s]={$eq:u},t},{}),a=Object.keys(r).sort();return 1===a.length?r:{$and:a.map(function(e){return(0,o.default)({},e,r[e])})}};t.makeOperatorsExplicit=p;var h=function(e,t){var n=Object.keys(e)[0],r=Object.keys(t)[0];return n.localeCompare(r)}},70741:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReturned=t.default=void 0;var a=r(n(82274)),i=r(n(56994)),o=r(n(65611)),c=r(n(18337)),s=function(e){(0,i.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(r);return e=t?Reflect.construct(n,arguments,(0,c.default)(this).constructor):n.apply(this,arguments),(0,o.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return r}((0,r(n(16826)).default)(String));t.ErrorReturned=s;var u=function(e,t){for(var n=Date.now(),r=0,a=Object.keys(e);r<a.length;r++){var i=a[r];n-e[i].date>t&&delete e[i]}};t.default=function(e,t){var n={};return function(){var r=t.key.apply(null,arguments);u(n,t.maxDuration);var a=n[r];if(a)return a.result;var i=e.apply(this,arguments);return n[r]={result:i,date:Date.now()},"object"==typeof i&&"function"==typeof i.then&&i.then(function(e){e instanceof s&&delete n[r]}).catch(function(e){delete n[r]}),i}}},82946:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDoc=c,t.normalizeDoctypeJsonApi=function(e){return function(t,n){var r=c(t,e);return o(o({},r),r.attributes||{})}},t.normalizeDoctypeRawApi=function(e){return function(t,n){var r=c(n,e);return o(o({},r),r.attributes||{})}};var a=r(n(26396));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e._id||e.id;return o({id:n,_id:n,_type:t},e)}},36935:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));t.default=function(){var e;function t(){(0,o.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),(i=this.pending[r])?o=i:(o=t(),this.pending[r]=o),e.prev=3,e.next=6,o;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[r]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,n){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),n=this.pending[t];return n||null}}]),t}()},73612:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.buildURL=t.encode=void 0;var a=r(n(22056)),i=r(n(71086)),o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?"["+t.map(function(t){return e(t,!0)}).join(",")+"]":n?encodeURIComponent('"'.concat(t,'"')):encodeURIComponent(t)},c=function(e){return Object.entries(e).map(function(e){var t=(0,a.default)(e,2),n=t[0],r=o(t[1]);return"".concat(n,"=").concat(r)}).join("&")};t.encode=c,t.buildURL=function(e,t){var n=c((0,i.default)(t));return n?"".concat(e,"?").concat(n):e}},16144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},61548:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.joinPath=function(e,t){return"".concat(e).concat(e.endsWith("/")?"":"/").concat(t)},t.sharedDriveApiPrefix=t.encodePath=t.forceDownload=t.formatBytes=t.slugify=t.sleep=t.attempt=t.uri=void 0;var a=r(n(72189));function i(){var e=(0,a.default)(["/sharings/drives/",""]);return i=function(){return e},e}var o=function(e){for(var t=[e[0]],n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t.push(encodeURIComponent(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+e[n+1]);return t.join("")};t.uri=o,t.attempt=function(e){return e.then(function(){return!0}).catch(function(){return!1})},t.sleep=function(e,t){return new Promise(function(n){setTimeout(n,e,t)})},t.slugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t.formatBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]},t.forceDownload=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.encodePath=function(e){return e.split("/").map(function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}).join("/")},t.sharedDriveApiPrefix=function(e){return o(i(),e)}},3279:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldXMLHTTPRequestBeUsed=t.fetchWithXMLHttpRequest=void 0;var i=a(n(92207)),o=a(n(22056)),c=a(n(79092)),s=a(n(50104));r=(0,c.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){var a=new XMLHttpRequest;n.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",n.onUploadProgress,!1),a.onload=function(){4==this.readyState?e(this):r(this)},a.onerror=function(e){r(e)},a.open(n.method,t,!0),a.withCredentials=!0;for(var i=0,c=Object.entries(n.headers);i<c.length;i++){var s=(0,o.default)(c[i],2),u=s[0],l=s[1];a.setRequestHeader(u,l)}a.send(n.body)});case 2:return r=e.sent,e.abrupt("return",{headers:new Headers(r.getAllResponseHeaders().split("\r\n").map(function(e){return e.split(":",2)}).filter(function(e){return 2==e.length})),ok:r.status>=200&&r.status<300,text:function(){var e=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.responseText);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),json:function(){var e=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(r.responseText));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),status:r.status,statusText:r.statusText});case 4:case"end":return e.stop()}},e)})),t.fetchWithXMLHttpRequest=function(e,t){return r.apply(this,arguments)};var u=(0,s.default)(function(){var e=new XMLHttpRequest;return"onload"in e&&"onprogress"in e});t.shouldXMLHTTPRequestBeUsed=function(e,t,n){return!!n.onUploadProgress&&u()}},76575:function(e,t,n){"use strict";var r=n(91867);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},95875:function(e,t,n){e.exports=n(76575)()},91867:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},17401:function(e,t,n){"use strict";n.r(t),n.d(t,{useSelector:()=>ee,useStore:()=>Q,ReactReduxContext:()=>m,batch:()=>et.unstable_batchedUpdates,createSelectorHook:()=>X,Provider:()=>b,createStoreHook:()=>K,connect:()=>G,shallowEqual:()=>I,createDispatchHook:()=>Y,connectAdvanced:()=>j,useDispatch:()=>J});var r,a,i,o,c,s,u,l,d,f,p,h=n(96540);n(95875);var m=h.createContext(null),v=function(e){e()},y={notify:function(){}},g=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=y,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return!!this.unsubscribe},t.trySubscribe=function(){if(!this.unsubscribe){var e,t,n;this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=v,t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}})}},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},e}();let b=function(e){var t=e.store,n=e.context,r=e.children,a=(0,h.useMemo)(function(){var e=new g(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),i=(0,h.useMemo)(function(){return t.getState()},[t]);(0,h.useEffect)(function(){var e=a.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,i]);var o=n||m;return h.createElement(o.Provider,{value:a},r)};var w=n(40160),k=n(54707),x=n(4146),O=n.n(x),_=n(44363),E="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect,C=[],S=[null,null];function P(e,t){var n=e[1];return[t.payload,n+1]}function A(e,t,n){E(function(){return e.apply(void 0,t)},n)}function D(e,t,n,r,a,i,o){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function T(e,t,n,r,a,i,o,c,s,u){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,a.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?o.current||s():(i.current=e,c.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var R=function(){return[null,0]};function j(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,o=void 0===i?"connectAdvanced":i,c=n.renderCountProp,s=void 0===c?void 0:c,u=n.shouldHandleStateChanges,l=void 0===u||u,d=n.storeKey,f=void 0===d?"store":d,p=(n.withRef,n.forwardRef),v=void 0!==p&&p,y=n.context,b=void 0===y?m:y,x=(0,k.A)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=(0,w.A)({},x,{getDisplayName:a,methodName:o,renderCountProp:s,shouldHandleStateChanges:l,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=x.pure,u=c?h.useMemo:function(e){return e()};function d(n){var r=(0,h.useMemo)(function(){var e=n.reactReduxForwardedRef,t=(0,k.A)(n,["reactReduxForwardedRef"]);return[n.context,e,t]},[n]),a=r[0],o=r[1],c=r[2],s=(0,h.useMemo)(function(){return a&&a.Consumer&&(0,_.isContextConsumer)(h.createElement(a.Consumer,null))?a:b},[a,b]),d=(0,h.useContext)(s),f=!!n.store&&!!n.store.getState&&!!n.store.dispatch;d&&d.store;var p=f?n.store:d.store,m=(0,h.useMemo)(function(){return e(p.dispatch,i)},[p]),v=(0,h.useMemo)(function(){if(!l)return S;var e=new g(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,d]),y=v[0],x=v[1],O=(0,h.useMemo)(function(){return f?d:(0,w.A)({},d,{subscription:y})},[f,d,y]),E=(0,h.useReducer)(P,C,R),j=E[0][0],M=E[1];if(j&&j.error)throw j.error;var I=(0,h.useRef)(),N=(0,h.useRef)(c),z=(0,h.useRef)(),F=(0,h.useRef)(!1),L=u(function(){return z.current&&c===N.current?z.current:m(p.getState(),c)},[p,j,c]);A(D,[N,I,F,c,L,z,x]),A(T,[l,p,y,m,N,I,F,z,x,M],[p,y,m]);var B=(0,h.useMemo)(function(){return h.createElement(t,(0,w.A)({},L,{ref:o}))},[o,t,L]);return(0,h.useMemo)(function(){return l?h.createElement(s.Provider,{value:O},B):B},[s,B,O])}var p=c?h.memo(d):d;if(p.WrappedComponent=t,p.displayName=r,v){var m=h.forwardRef(function(e,t){return h.createElement(p,(0,w.A)({},e,{reactReduxForwardedRef:t}))});return m.displayName=r,m.WrappedComponent=t,O()(m,t)}return O()(p,t)}}function M(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function I(e,t){if(M(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!M(e[n[a]],t[n[a]]))return!1;return!0}var N=n(91107);function z(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function F(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function L(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=F(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=F(a),a=r(t,n)),a},r}}let B=[function(e){return"function"==typeof e?L(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:z(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?z(function(t){return(0,N.bindActionCreators)(e,t)}):void 0}],U=[function(e){return"function"==typeof e?L(e,"mapStateToProps"):void 0},function(e){return e?void 0:z(function(){return{}})}];function V(e,t,n){return(0,w.A)({},n,{},e,{},t)}let H=[function(e){return"function"==typeof e?function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,c){var s=e(t,n,c);return o?a&&i(s,r)||(r=s):(o=!0,r=s),r}}:void 0},function(e){return e?void 0:function(){return V}}];function q(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}let G=(i=void 0===(a=(r={}).connectHOC)?j:a,c=void 0===(o=r.mapStateToPropsFactories)?U:o,u=void 0===(s=r.mapDispatchToPropsFactories)?B:s,d=void 0===(l=r.mergePropsFactories)?H:l,p=void 0===(f=r.selectorFactory)?function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=(0,k.A)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),c=r(e,i),s=a(e,i);return(i.pure?function(e,t,n,r,a){var i,o,c,s,u,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,g,b,w;return p?(m=a,b=!d(v=h,o),w=!l(m,i),(i=m,o=v,b&&w)?(c=e(i,o),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):b?(e.dependsOnOwnProps&&(c=e(i,o)),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):w?(g=!f(y=e(i,o),c),c=y,g&&(u=n(c,s,o)),u):u):(c=e(i=a,o=h),s=t(r,o),u=n(c,s,o),p=!0,u)}}:function(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}})(o,c,s,e,i)}:f,function(e,t,n,r){void 0===r&&(r={});var a=r,o=a.pure,s=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?I:l,h=a.areStatePropsEqual,m=void 0===h?I:h,v=a.areMergedPropsEqual,y=void 0===v?I:v,g=(0,k.A)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=q(e,c,"mapStateToProps"),x=q(t,u,"mapDispatchToProps"),O=q(n,d,"mergeProps");return i(p,(0,w.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:O,pure:void 0===o||o,areStatesEqual:void 0===s?W:s,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},g))});function Z(){return(0,h.useContext)(m)}function K(e){void 0===e&&(e=m);var t=e===m?Z:function(){return(0,h.useContext)(e)};return function(){return t().store}}var Q=K();function Y(e){void 0===e&&(e=m);var t=e===m?Q:K(e);return function(){return t().dispatch}}var J=Y(),$=function(e,t){return e===t};function X(e){void 0===e&&(e=m);var t=e===m?Z:function(){return(0,h.useContext)(e)};return function(e,n){void 0===n&&(n=$);var r=t(),a=function(e,t,n,r){var a,i=(0,h.useReducer)(function(e){return e+1},0)[1],o=(0,h.useMemo)(function(){return new g(n,r)},[n,r]),c=(0,h.useRef)(),s=(0,h.useRef)(),u=(0,h.useRef)(),l=(0,h.useRef)(),d=n.getState();try{a=e!==s.current||d!==u.current||c.current?e(d):l.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return E(function(){s.current=e,u.current=d,l.current=a,c.current=void 0}),E(function(){function e(){try{var e=s.current(n.getState());if(t(e,l.current))return;l.current=e}catch(e){c.current=e}i()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}},[n,o]),a}(e,n,r.store,r.subscription);return(0,h.useDebugValue)(a),a}}var ee=X(),et=n(40961);v=et.unstable_batchedUpdates},91107:function(e,t,n){"use strict";n.r(t),n.d(t,{applyMiddleware:()=>f,combineReducers:()=>c,bindActionCreators:()=>u,createStore:()=>o,compose:()=>l});var r=n(7652),a=n(99112),i="@@redux/INIT";function o(e,t,n){if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var c,s=e,u=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function m(e){if(!(0,r.A)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw Error("Reducers may not dispatch actions.");try{f=!0,u=s(u,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++)(0,t[n])();return e}return m({type:i}),(c={dispatch:m,subscribe:h,getState:function(){return u},replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");s=e,m({type:i})}})[a.A]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e)throw TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(u)}return t(),{unsubscribe:h(t)}}})[a.A]=function(){return this},e},c}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var o=Object.keys(n),c=void 0;try{Object.keys(n).forEach(function(e){var t=n[e];if(void 0===t(void 0,{type:i}))throw Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var r=!1,a={},i=0;i<o.length;i++){var s=o[i],u=n[s],l=e[s],d=u(l,t);if(void 0===d)throw Error(function(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}(s,t));a[s]=d,r=r||d!==l}return r?a:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var i=n[a],o=e[i];"function"==typeof o&&(r[i]=s(o,t))}return r}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),o=i.dispatch,c=[],s={getState:i.getState,dispatch:function(e){return o(e)}};return c=t.map(function(e){return e(s)}),o=l.apply(void 0,c)(i.dispatch),d({},i,{dispatch:o})}}}},84980:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useDataProxy=t.DataProxyProvider=t.DataProxyContext=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(22056)),s=a(n(82274)),u=a(n(65044)),l=a(n(56994)),d=a(n(65611)),f=a(n(18337)),p=a(n(79092)),h=k(n(44486)),m=k(n(96540)),v=n(42895),y=n(7127),g=a(n(94619)),b=n(84660);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=(0,a(n(13572)).default)("\uD83D\uDC77â€â™‚ï¸ [DataProxyProvider]"),E=(r=(0,p.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("[DataProxy] not ready");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),C=Object.freeze({dataProxyServicesAvailable:!1,ready:!1,search:E,requestLink:E}),S=m.default.createContext(C);t.DataProxyContext=S,t.useDataProxy=function(){var e=(0,m.useContext)(S);if(!e)throw Error("useDataProxy must be used within a DataProxyProvider");return e};var P=function(e){(0,l.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(r);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function r(e){var t;return(0,s.default)(this,r),(t=n.call(this,e)).state={hasError:!1},t}return(0,u.default)(r,[{key:"componentDidCatch",value:function(e){_.error("[DataProxy iframe errors]",e)}},{key:"render",value:function(){var e;return this.state.hasError?null:null!=(e=this.props.children)?e:null}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(m.default.Component),A={},D=m.default.memo(function(e){var t=e.children,n=e.options,r=void 0===n?A:n,a=(0,v.useClient)(),o=(0,b.useWebviewIntent)(),s=(0,m.useState)(),u=(0,c.default)(s,2),l=u[0],d=u[1],f=(0,m.useState)(),w=(0,c.default)(f,2),k=w[0],x=w[1],E=(0,m.useState)(),D=(0,c.default)(E,2),T=D[0],R=D[1],j=(0,m.useState)(void 0),M=(0,c.default)(j,2),I=M[0],N=M[1],z=(0,m.useState)(0),F=(0,c.default)(z,2),L=F[0],B=F[1];(0,m.useEffect)(function(){if(a){var e,t,n=(e=(0,p.default)(i.default.mark(function e(){var t,n,r,o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_.log("Initializing DataProxy intent"),e.next=4,a.stackClient.fetchJSON("POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:"OPEN",type:"io.cozy.dataproxy",permissions:["GET"]}}});case 4:if(null!=(t=(s=e.sent).data)&&null!=(n=t.attributes)&&null!=(r=n.services)&&null!=(o=r[0])&&o.href){e.next=9;break}return _.log("No dataproxy intent available, dataproxy features will be disabled"),N(!1),e.abrupt("return");case 9:d(null==(c=s.data.attributes.services[0])?void 0:c.href),N(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),N(!1),_.error("Error while initializing Search intent, dataproxy features will be disabled",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])})),function(){return e.apply(this,arguments)}),c=(t=(0,p.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o){e.next=3;break}return e.abrupt("return");case 3:return _.log("Initializing DataProxy intent in Flagship app"),e.next=6,o.call("isAvailable","search");case 6:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==t;case 10:if(!e.t0){e.next=14;break}e.t2=t,e.next=15;break;case 14:e.t2=!1;case 15:if(n=e.t2){e.next=20;break}return _.log("Dataproxy features will be disabled due to feature not supported by Flagship app"),N(!1),e.abrupt("return");case 20:x(function(){return{search:function(e,t){return null==o?void 0:o.call("search",e,O(O({},r),t))}}}),N(n),e.next=28;break;case 24:e.prev=24,e.t3=e.catch(0),N(!1),_.error("Error while initializing Flagship's Search, dataproxy features will be disabled",e.t3);case 28:case"end":return e.stop()}},e,null,[[0,24]])})),function(){return t.apply(this,arguments)});if(!(0,g.default)("cozy.search.enabled")){_.log("Dataproxy features will be disabled due to missing feature flags"),N(!1);return}(0,y.isFlagshipApp)()?c():n()}},[a,o,r]);var U=(0,m.useCallback)(function(){var e=document.getElementById("DataProxy"),t=h.wrap(h.windowEndpoint(e.contentWindow));x(function(){return t})},[x]),V=(0,m.useCallback)(function(e){try{if("string"!=typeof e.origin||!e.origin.includes("dataproxy"))return;var t=null==e?void 0:e.data;t&&"object"==typeof t&&"DATAPROXYMESSAGE"===t.type&&"READY"===t.payload&&U()}catch(e){_.error("[DataProxy] onReceiveMessage error",e)}},[U]);(0,m.useEffect)(function(){return window.addEventListener("message",V),function(){window.removeEventListener("message",V)}},[V]),(0,m.useEffect)(function(){var e,t=(e=(0,p.default)(i.default.mark(function e(){var t,n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=(0,p.default)(i.default.mark(function e(t,n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.log("Send search query to DataProxy: ",t,n),e.next=3,k.search(t,O(O({},r),n));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=(0,p.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.log("Send request to DataProxy : ",t),null!=n&&n.fetchPolicy&&delete n.fetchPolicy,e.abrupt("return",null==(r=k.requestLink)?void 0:r.call(k,t,n));case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),o={dataProxyServicesAvailable:I,ready:!!k,search:t,requestLink:n},a.links.forEach(function(e){e.registerDataProxy&&e.registerDataProxy(o)}),R(o);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});k&&null!=a&&a.links&&t()},[k,a,I,r]);var H=(0,m.useCallback)(function(){B(function(e){return e+1}),_.log("Reload iframe with new version ",L)},[]),q="".concat(l,"::").concat(L);return m.default.createElement(S.Provider,{value:T||C},null!=t?t:null,m.default.createElement(P,null,l?m.default.createElement("iframe",{key:q,id:"DataProxy",src:l,width:0,height:0,style:{width:0,height:0},sandbox:"allow-same-origin allow-scripts",onError:function(){_.error("[DataProxy] iframe load error"),H()}}):null))});t.DataProxyProvider=D,D.displayName="DataProxyProvider"},61122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DataProxyProvider",{enumerable:!0,get:function(){return a.DataProxyProvider}}),Object.defineProperty(t,"SearchEngine",{enumerable:!0,get:function(){return r.SearchEngine}}),Object.defineProperty(t,"useDataProxy",{enumerable:!0,get:function(){return a.useDataProxy}});var r=n(56381),a=n(84980)},56381:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchEngine=void 0;var a=r(n(92207)),i=r(n(21259)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(26396)),l=n(42895),d=r(n(13572)),f=n(4595),p=n(5611),h=n(13382),m=n(13015),v=n(8360),y=n(19556),g=n(15140),b=n(49846),w=n(87478);function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=(0,d.default)("\uD83D\uDDC2ï¸ [Indexing]");t.SearchEngine=function(){var e,t,n,r,d,x,O,C;function S(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,c.default)(this,S),(0,u.default)(this,"client",void 0),(0,u.default)(this,"searchIndexes",void 0),(0,u.default)(this,"debouncedReplication",void 0),(0,u.default)(this,"isLocalSearch",void 0),(0,u.default)(this,"storage",void 0),(0,u.default)(this,"performanceApi",void 0),(0,u.default)(this,"engineOptions",void 0),this.client=e,this.searchIndexes={},this.storage=t,this.performanceApi=null!=n?n:l.defaultPerformanceApi,this.engineOptions=_({shouldInit:!0},a),this.isLocalSearch=!!(0,h.getPouchLink)(this.client),E.info("Use local data on trusted device: ",this.isLocalSearch),this.debouncedReplication=function(){var t=(0,h.getPouchLink)(e);t&&t.startReplicationWithDebounce()},this.client.isLogged?this.afterLogin():this.client.on("login",function(){r.afterLogin()})}return(0,s.default)(S,[{key:"afterLogin",value:function(){this.engineOptions.shouldInit&&this.init(),this.handleReplicationEvents()}},{key:"indexDocumentsAtInit",value:(e=(0,o.default)(a.default.mark(function e(){var t,n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return E.info("Initialize indexes..."),t=this.performanceApi.mark("indexDocuments"),e.next=6,(0,b.getExportDate)(this.storage);case 6:if(!(!e.sent||!this.isLocalSearch)){e.next=29;break}n=k(p.SEARCHABLE_DOCTYPES),e.prev=9,n.s();case 11:if((r=n.n()).done){e.next=19;break}return i=r.value,e.next=15,this.indexDocsForSearch(i);case 15:(o=e.sent)&&(this.searchIndexes[i]=o);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:e.next=31;break;case 29:return e.next=31,this.initSearchWithIndexImport();case 31:this.performanceApi.measure({markName:t,category:"Search"});case 32:case"end":return e.stop()}},e,this,[[9,21,24,27]])})),function(){return e.apply(this,arguments)})},{key:"handleReplicationEvents",value:function(){var e=this;if(this.isLocalSearch){var t,n=0,r=0;this.client.on("pouchlink:doctypesync:end",(t=(0,o.default)(a.default.mark(function t(n){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((0,w.isSearchedDoctype)(n)&&e.searchIndexes[n])){t.next=5;break}return t.next=3,e.indexDocsForSearch(n);case 3:(r=t.sent)&&(e.searchIndexes[n]=r);case 5:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),this.client.on("pouchlink:sync:start",function(){E.debug("Started pouch replication"),n=performance.now()}),this.client.on("pouchlink:sync:end",(0,o.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(E.debug("Ended pouch replication"),r=performance.now(),n>0&&E.debug("Replication took ".concat((r-n).toFixed(2)," ms")),!(Object.keys(e.searchIndexes).length<1)){t.next=7;break}return E.info("No search index found: start indexing"),t.next=7,e.indexDocumentsAtInit();case 7:(0,b.exportSearchIndexes)(e.storage,e.searchIndexes);case 8:case"end":return t.stop()}},t)})))}}},{key:"init",value:(t=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.client.plugins[f.RealtimePlugin.pluginName]||this.client.registerPlugin(f.RealtimePlugin,{}),this.handleUpdatedOrCreatedDoc=this.handleUpdatedOrCreatedDoc.bind(this),this.handleDeletedDoc=this.handleDeletedDoc.bind(this),this.subscribeDoctype(this.client,p.FILES_DOCTYPE),this.subscribeDoctype(this.client,p.CONTACTS_DOCTYPE),this.subscribeDoctype(this.client,p.APPS_DOCTYPE),this.isLocalSearch&&this.debouncedReplication(),e.next=9,this.indexDocumentsAtInit();case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"subscribeDoctype",value:function(e,t){var n=e.plugins.realtime;n.subscribe("created",t,this.handleUpdatedOrCreatedDoc),n.subscribe("updated",t,this.handleUpdatedOrCreatedDoc),n.subscribe("deleted",t,this.handleDeletedDoc)}},{key:"handleUpdatedOrCreatedDoc",value:function(e){var t,n=e._type;if((0,w.isSearchedDoctype)(n)){var r=null==(t=this.searchIndexes)?void 0:t[n];r&&(E.debug("[REALTIME] Update doc from index after update : ",e._id),this.isLocalSearch&&this.debouncedReplication(),(0,y.indexSingleDoc)(r.index,e))}}},{key:"handleDeletedDoc",value:function(e){var t,n=e._type;!(0,w.isSearchedDoctype)(n)||(null==(t=this.searchIndexes)?void 0:t[n])&&(E.debug("[REALTIME] Remove doc from index after update : ",e._id),this.searchIndexes[n].index.remove(e._id),this.isLocalSearch&&this.debouncedReplication())}},{key:"initSearchWithIndexImport",value:(n=(0,o.default)(a.default.mark(function e(){var t,n,r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.next=3,(0,b.importSearchIndexes)(this.storage);case 3:this.searchIndexes=e.sent,n=performance.now(),(0,v.isDebug)()&&E.debug("Index import took ".concat((n-t).toFixed(2)," ms")),r=k(p.SEARCHABLE_DOCTYPES),e.prev=7,r.s();case 9:if((i=r.n()).done){e.next=22;break}if(o=i.value,this.searchIndexes[o]){e.next=17;break}return e.next=15,this.indexDocsForSearch(o);case 15:(c=e.sent)&&(this.searchIndexes[o]=c);case 17:return e.next=19,(0,y.indexOnChanges)(this,this.searchIndexes[o],o);case 19:(0,y.initDoctypeAfterIndexImport)(this.client,o);case 20:e.next=9;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(7),r.e(e.t0);case 27:return e.prev=27,r.f(),e.finish(27);case 30:case"end":return e.stop()}},e,this,[[7,24,27,30]])})),function(){return n.apply(this,arguments)})},{key:"buildSearchIndex",value:function(e,t){var n=performance.now(),r=(0,y.initSearchIndex)(e);(0,y.indexAllDocs)(r,t);var a=performance.now();return E.debug("Create ".concat(e," index took ").concat((a-n).toFixed(2)," ms")),r}},{key:"getLocalLastSeq",value:(r=(0,o.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLocalSearch){e.next=11;break}if(!(n=(0,h.getPouchLink)(this.client))){e.next=8;break}return e.next=5,n.getDbInfo(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:return r=e.t0,e.abrupt("return",(null==r?void 0:r.update_seq)||0);case 11:return e.abrupt("return",-1);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"initialIndexation",value:(d=(0,o.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.queryLocalOrRemoteDocs)(this.client,t,{isLocalSearch:this.isLocalSearch});case 2:if(!((n=e.sent).length<1)){e.next=5;break}return e.abrupt("return",null);case 5:return r=this.buildSearchIndex(t,n),e.next=8,this.getLocalLastSeq(t);case 8:return i=e.sent,this.searchIndexes[t]={index:r,lastSeq:i,lastUpdated:new Date().toISOString()},e.abrupt("return",this.searchIndexes[t]);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"incrementalIndexation",value:(x=(0,o.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.indexOnChanges)(this,n,t));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},{key:"indexDocsForSearch",value:(O=(0,o.default)(a.default.mark(function e(t){var n,r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.performanceApi.mark("indexDocsForSearch ".concat(t)),r=this.searchIndexes[t],i=performance.now(),r){e.next=12;break}return e.next=6,this.initialIndexation(t);case 6:if(o=e.sent){e.next=10;break}return this.performanceApi.measure({markName:n,measureName:"".concat(n," initial indexation"),category:"Search"}),e.abrupt("return",null);case 10:e.next=15;break;case 12:return e.next=14,this.incrementalIndexation(t,r);case 14:o=e.sent;case 15:return c=performance.now(),(0,v.isDebug)()&&E.debug("Indexing ".concat(t," took ").concat((c-i).toFixed(2)," ms")),this.performanceApi.measure({markName:n,measureName:"".concat(n," incremental indexation"),category:"Search"}),e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"search",value:(C=(0,o.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,f,p,h,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.searchIndexes||Object.keys(this.searchIndexes).length<1)){e.next=3;break}return E.warn("[SEARCH] No search index available"),e.abrupt("return",null);case 3:return r=this.performanceApi.mark("search"),i=this.searchOnIndexes(t,null==n?void 0:n.doctypes),o=this.deduplicateAndFlatten(i),e.next=8,(0,m.enrichResultsWithDocs)(this.client,o);case 8:c=e.sent,s=this.sortSearchResults(c,null==n?void 0:n.doctypes),u=this.limitSearchResults(s),l=[],d=k(u);try{for(d.s();!(f=d.n()).done;)p=f.value,h=(0,m.normalizeSearchResult)(this.client,p,t),l.push(h)}catch(e){d.e(e)}finally{d.f()}return v=l.filter(function(e){return e.title}),this.performanceApi.measure({markName:r,category:"Search"}),e.abrupt("return",v);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)})},{key:"searchOnIndexes",value:function(e,t){var n=this,r=[],a=function(a){if(t&&(null==t?void 0:t.length)>0&&!t.includes(a))return"continue";var i=n.searchIndexes[a];if(!i)return E.warn("[SEARCH] No search index available for ",a),"continue";var o=i.index.search(e,1e4,{limit:1e4,enrich:!1}).map(function(e){return _(_({},e),{},{doctype:a})});r=r.concat(o)};for(var i in this.searchIndexes)if("continue"===a(i))continue;return r}},{key:"deduplicateAndFlatten",value:function(e){var t=e.flatMap(function(e){return e.result.map(function(t){return{id:t.toString(),doctype:e.doctype,field:e.field}})}),n=new Map;return t.forEach(function(e){var t,r=e.id,a=e.field,i=e.doctype;n.has(r)?null==(t=n.get(r))||t.fields.push(a):n.set(r,{id:r,fields:[a],doctype:i})}),(0,i.default)(n.values())}},{key:"compareStrings",value:function(e,t){return e||t?e?t?e.localeCompare(t,void 0,{numeric:!0}):-1:1:0}},{key:"sortSearchResults",value:function(e,t){var n=this;return e.sort(function(e,r){var a,i,o,c,s;return 0!=(a=t&&t.length>0?t.findIndex(function(t){return t===e.doctype})-t.findIndex(function(e){return e===r.doctype}):p.DOCTYPE_DEFAULT_ORDER[e.doctype]-p.DOCTYPE_DEFAULT_ORDER[r.doctype])?a:e.doctype===p.APPS_DOCTYPE&&(0,w.isIOCozyApp)(e.doc)&&(0,w.isIOCozyApp)(r.doc)?n.compareStrings(null==(i=e.doc)?void 0:i.slug,null==(o=r.doc)?void 0:o.slug):e.doctype===p.CONTACTS_DOCTYPE&&(0,w.isIOCozyContact)(e.doc)&&(0,w.isIOCozyContact)(r.doc)?n.compareStrings(null==(c=e.doc)?void 0:c.displayName,null==(s=r.doc)?void 0:s.displayName):e.doctype===p.FILES_DOCTYPE&&(0,w.isIOCozyFile)(e.doc)&&(0,w.isIOCozyFile)(r.doc)?n.sortFiles(e,r):0})}},{key:"sortFiles",value:function(e,t){var n,r;return(0,w.isIOCozyFile)(e.doc)&&(0,w.isIOCozyFile)(t.doc)?e.fields.includes("name")&&t.fields.includes("name")?e.doc.type!==t.doc.type?"directory"===e.doc.type?-1:1:this.compareStrings(null==(n=e.doc)?void 0:n.name,null==(r=t.doc)?void 0:r.name):e.fields.includes("name")?-1:1:0}},{key:"limitSearchResults",value:function(e){var t={};return e.filter(function(e){var n=e.doctype;return t[n]?t[n]+=1:t[n]=1,t[n]<=p.LIMIT_DOCTYPE_SEARCH})}}]),S}()},5611:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_FILE=t.TYPE_DIRECTORY=t.TRASH_DIR_ID=t.SHARED_DRIVES_DIR_ID=t.SEARCH_SCHEMA=t.SEARCHABLE_DOCTYPES=t.ROOT_DIR_ID=t.MIN_DELAY_BEFORE_EXPORT=t.LIMIT_DOCTYPE_SEARCH=t.FILES_DOCTYPE=t.DOCTYPE_DEFAULT_ORDER=t.DATAPROXY_STORAGE_PREFIX=t.CONTACTS_DOCTYPE=t.APPS_DOCTYPE=void 0;var i=a(n(26396));t.SEARCHABLE_DOCTYPES=["io.cozy.files","io.cozy.contacts","io.cozy.apps"],t.SEARCH_SCHEMA={"io.cozy.files":["name","path"],"io.cozy.contacts":["displayName","fullname","email[]:address","address[]:formattedAddress","phone[]:number","cozy[]:url","birthday","company","jobTitle"],"io.cozy.apps":["slug","name"]};var o="io.cozy.files";t.FILES_DOCTYPE=o;var c="io.cozy.contacts";t.CONTACTS_DOCTYPE=c;var s="io.cozy.apps";t.APPS_DOCTYPE=s,t.TYPE_DIRECTORY="directory",t.TYPE_FILE="file",t.ROOT_DIR_ID="io.cozy.files.root-dir",t.TRASH_DIR_ID="io.cozy.files.trash-dir",t.SHARED_DRIVES_DIR_ID="io.cozy.files.shared-drives-dir",t.LIMIT_DOCTYPE_SEARCH=100,r={},(0,i.default)(r,s,0),(0,i.default)(r,c,1),(0,i.default)(r,o,2),t.DOCTYPE_DEFAULT_ORDER=r,t.DATAPROXY_STORAGE_PREFIX="@dataproxy",t.MIN_DELAY_BEFORE_EXPORT=3e5},13382:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getPouchLink=void 0;var a=r(n(65968));t.getPouchLink=function(e){return e&&e.links.find(function(e){return e instanceof a.default})||null}},60201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchEncoder=void 0;var r=n(86977);t.getSearchEncoder=function(){return r.encode}},56643:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldKeepApp=void 0;var a=r(n(94619));t.shouldKeepApp=function(e){return!((0,a.default)("apps.hidden")||[]).includes(e.slug)}},68104:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldKeepFile=t.normalizeFileWithFolders=void 0;var a=r(n(26396)),i=n(5611);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.normalizeFileWithFolders=function(e,t){var n,r=t.type===i.TYPE_DIRECTORY,a="";if(r)a=null!=(n=t.path)?n:"";else{var o=e.find(function(e){return e._id===t.dir_id});a=o&&o.path?o.path:""}return c(c({},t),{},{_type:"io.cozy.files",path:a})},t.shouldKeepFile=function(e){var t,n=!e.trashed&&!/^\/\.cozy_trash/.test(null!=(t=e.path)?t:""),r=e._id!==i.ROOT_DIR_ID,a=e._id!==i.SHARED_DRIVES_DIR_ID;return n&&r&&a}},13015:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSearchResult=t.getCleanedFilePath=t.enrichResultsWithDocs=void 0;var i=a(n(92207)),o=a(n(21259)),c=a(n(79092)),s=a(n(26396)),u=n(42895),l=a(n(13572)),d=n(5611),f=n(15140),p=n(87478),h=n(8360);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=(0,l.default)("\uD83D\uDDC2ï¸ [Indexing]");t.normalizeSearchResult=function(e,t,n){var r=b(t.doc),a=x(e,r),i=O(e,r,a),o=_(e,r,i),c=w(r),s=k(e,{fields:t.fields,doc:r,query:n});return{doc:r,slug:a,title:c,subTitle:s,url:i,secondaryUrl:o}};var b=function(e){if(!(0,p.isIOCozyFile)(e))return e;var t=e.path;if(!t)return g.warn("No path found for ".concat(e._id,"}")),e;var n=t;return t.endsWith("/".concat(e.name))&&(n=t.slice(0,-e.name.length-1)),n||(n="/"),y(y({},e),{},{path:n})};t.getCleanedFilePath=b;var w=function(e){return(0,p.isIOCozyFile)(e)?e.name:(0,p.isIOCozyContact)(e)?e.displayName||e.fullname||null:(0,p.isIOCozyApp)(e)?e.name:null},k=function(e,t){var n=t.fields,r=t.doc,a=t.query;if((0,p.isIOCozyFile)(r))return null!=(i=r.path)?i:null;if((0,p.isIOCozyContact)(r)){var i,o,c,s,u=n.find(function(e){return"displayName"!==e&&"fullname"!==e});if(!u)return null;if(u.includes("[]:")){var l=u.split("[]:");if(2!==l.length)return null;var f=l[0],h=l[1],m=r[f],v=Array.isArray(m)&&m.find(function(e){var t="object"==typeof e&&null!==e&&h in e&&e[h];return"string"==typeof t&&t.includes(a)});if(!v)return null;s=v[h]}else s=r[u];return null!=(o=null==(c=s)?void 0:c.toString())?o:null}if(r._type===d.APPS_DOCTYPE)try{var y=e.getInstanceOptions().locale||"en";if(r.locales[y])return r.locales[y].short_description}catch(e){return r.name}return null},x=function(e,t){if((0,p.isIOCozyFile)(t)){if(u.models.file.isNote(t)){var n,r=e.getStackClient().uri,a=null==(n=t.cozyMetadata)?void 0:n.createdOn;return a&&a!=="".concat(r,"/")?"drive":"notes"}return"drive"}return(0,p.isIOCozyContact)(t)?"contacts":(0,p.isIOCozyApp)(t)?t.slug:null},O=function(e,t,n){var r="";if((0,p.isIOCozyFile)(t)){var a=t.type===d.TYPE_DIRECTORY,i=a?t._id:t.dir_id,o="/folder/".concat(i);r=u.models.file.isNote(t)?"notes"===n?"/n/".concat(t._id):"/note/".concat(t._id):u.models.file.shouldBeOpenedByOnlyOffice(t)?"/onlyoffice/".concat(t._id,"?redirectLink=drive").concat(o):a?o:"".concat(o,"/file/").concat(t._id)}return((0,p.isIOCozyContact)(t)&&(r="/".concat(t._id)),n)?(0,u.generateWebLink)({cozyUrl:e.getStackClient().uri,slug:n,subDomainType:e.getInstanceOptions().subdomain,hash:r,pathname:"",searchParams:[]}):null},_=function(e,t,n){if(!(0,p.isIOCozyFile)(t)||!n)return null;var r="/folder/".concat(t.dir_id);return(0,u.generateWebLink)({cozyUrl:e.getStackClient().uri,slug:"drive",subDomainType:e.getInstanceOptions().subdomain,hash:r,pathname:"",searchParams:[]})};r=(0,c.default)(i.default.mark(function e(t,n){var r,a,c,s,u,l,d,p,v,y,b,w,k,x,O,_,E,C,S,P;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,o.default)(n),c=n.reduce(function(e,t){var n=t.id,r=t.doctype;return e[r]||(e[r]=[]),e[r].push(n),e},{}),s=[],u=0,l=Object.keys(c);case 4:if(!(u<l.length)){e.next=18;break}return p=c[d=l[u]],v=performance.now(),y=!1,e.next=11,(0,f.queryDocsByIds)(t,d,p,{fromStore:!1});case 11:b=e.sent,w=performance.now(),s=s.concat(b),(0,h.isDebug)()&&g.debug("Query took ".concat((w-v).toFixed(2)," ms to retrieve ").concat(p.length," ").concat(d," from store: ").concat(y));case 15:u++,e.next=4;break;case 18:k=new Map(null==(r=s)?void 0:r.map(function(e){return[e._id,e]})),x=[],O=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(a);try{for(O.s();!(_=O.n()).done;)S=null==(E=(C=_.value).id)?void 0:E.toString(),(P=k.get(S))?(C.doc=P,x.push(C)):g.error("".concat(S," is found in search but not in local data"))}catch(e){O.e(e)}finally{O.f()}return e.abrupt("return",x);case 23:case"end":return e.stop()}},e)})),t.enrichResultsWithDocs=function(e,t){return r.apply(this,arguments)}},8360:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=void 0;var a=r(n(94619));t.isDebug=function(){return!!(0,a.default)("debug")}},19556:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.initSearchIndex=t.initDoctypeAfterIndexImport=t.indexSingleDoc=t.indexOnChanges=t.indexAllDocs=void 0;var o=i(n(92207)),c=i(n(26396)),s=i(n(79092)),u=i(n(74546)),l=n(5611),d=n(13382),f=n(60201),p=n(56643),h=n(68104),m=n(15140),v=n(87478);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.initSearchIndex=function(e){var t=l.SEARCH_SCHEMA[e];return new u.default.Document({tokenize:"reverse",encode:(0,f.getSearchEncoder)(),minlength:2,document:{id:"_id",index:t,store:!1}})},t.indexAllDocs=function(e,t){var n,r=b(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;x(a)?e.add(a):e.remove(a._id)}}catch(e){r.e(e)}finally{r.f()}return e};var k=function(e,t){x(t)?e.add(t):e.remove(t._id)};t.indexSingleDoc=k,r=(0,s.default)(o.default.mark(function e(t,n,r){var a,i,c,s,u,l,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,d.getPouchLink)(t.client),!(!t.isLocalSearch||!a)){e.next=3;break}return e.abrupt("return",n);case 3:return i=(null==n?void 0:n.lastSeq)||0,e.next=6,a.getChanges(r,{include_docs:!0,since:i});case 6:s=b((c=e.sent).results);try{for(s.s();!(u=s.n()).done;)(l=u.value).deleted?n.index.remove(l.id):(f=g(g({},l.doc),{},{_type:r}),k(n.index,f))}catch(e){s.e(e)}finally{s.f()}return n.lastSeq=c.last_seq,n.lastUpdated=new Date().toISOString(),e.abrupt("return",n);case 12:case"end":return e.stop()}},e)})),t.indexOnChanges=function(e,t,n){return r.apply(this,arguments)},a=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.queryLocalOrRemoteDocs)(t,n,{isLocalSearch:!0});case 2:case"end":return e.stop()}},e)})),t.initDoctypeAfterIndexImport=function(e,t){return a.apply(this,arguments)};var x=function(e){return(0,v.isIOCozyFile)(e)?(0,h.shouldKeepFile)(e):!(0,v.isIOCozyApp)(e)||(0,p.shouldKeepApp)(e)}},15140:function(e,t,n){"use strict";var r,a,i,o,c,s=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.queryLocalOrRemoteDocs=t.queryFilesForSearch=t.queryDocsByIds=t.queryDocById=t.queryAllDocs=void 0;var u=s(n(92207)),l=s(n(26396)),d=s(n(79092)),f=n(42895),p=s(n(13572)),h=n(5611),m=n(68104),v=n(8360);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g=(0,p.default)("\uD83D\uDDC2ï¸ [Indexing]"),b=f.fetchPolicies.olderThan(3e5),w=(r=(0,d.default)(u.default.mark(function e(t){var n,r,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStackClient().fetchJSON("GET","/data/io.cozy.files/_all_docs?Fields=_id,trashed,dir_id,name,path,type,mime,class,metadata.title,metadata.version&DesignDocs=false&include_docs=true");case 2:return r=(n=e.sent.rows.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:e.id},e.doc)})).filter(function(e){return e.type===h.TYPE_DIRECTORY}),a=n.filter(function(e){return(0,m.shouldKeepFile)(e)}).map(function(e){return(0,m.normalizeFileWithFolders)(r,e)}),e.abrupt("return",a);case 8:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});t.queryFilesForSearch=w;var k=(a=(0,d.default)(u.default.mark(function e(t,n){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={as:"".concat(n,"/all"),fetchPolicies:b},e.abrupt("return",t.queryAll((0,f.Q)(n).limitBy(null),r));case 2:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.queryAllDocs=k,i=(0,d.default)(u.default.mark(function e(t,n,r){var a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={as:"".concat(n,"/").concat(r),fetchPolicy:b,singleDocData:!0},e.next=3,t.query((0,f.Q)(n).getById(r),a);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e)})),t.queryDocById=function(e,t,n){return i.apply(this,arguments)},o=(0,d.default)(u.default.mark(function e(t,n,r){var a,i,o,c=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==(a=(c.length>3&&void 0!==c[3]?c[3]:{}).fromStore)&&a)){e.next=5;break}return i=t.getCollectionFromState(n).filter(function(e){return e._id&&r.includes(e._id)}),e.abrupt("return",i);case 5:return e.next=7,t.query((0,f.Q)(n).getByIds(r));case 7:return o=e.sent,e.abrupt("return",o.data);case 9:case"end":return e.stop()}},e)})),t.queryDocsByIds=function(e,t,n){return o.apply(this,arguments)},c=(0,d.default)(u.default.mark(function e(t,n,r){var a,i,o,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.isLocalSearch,i=[],o=performance.now(),!(!a&&n===h.FILES_DOCTYPE)){e.next=9;break}return e.next=6,w(t);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,k(t,n);case 11:i=e.sent;case 12:return c=performance.now(),(0,v.isDebug)()&&g.debug("Query ".concat(i.length," ").concat(n," took ").concat((c-o).toFixed(2)," ms")),e.abrupt("return",i);case 15:case"end":return e.stop()}},e)})),t.queryLocalOrRemoteDocs=function(e,t,n){return c.apply(this,arguments)}},49846:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.persistExportDate=t.importSearchIndexes=t.getExportDate=t.exportSearchIndexes=void 0;var s=c(n(92207)),u=c(n(79092)),l=c(n(13572)),d=n(5611),f=n(8360),p=n(19556);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,l.default)("\uD83D\uDDC2ï¸ [Index storage]"),y="searchExportDate",g="searchIndexKeys",b="searchIndexLastSeq",w="searchIndexLastUpdated",k=function(e,t){return"".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(e,":").concat(t)},x=(r=(0,u.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date().toISOString(),e.next=3,null==t?void 0:t.storeData("".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(y),n);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});t.persistExportDate=x;var O=(a=(0,u.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==t?void 0:t.getData("".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(y)));case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)});t.getExportDate=O,i=(0,u.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O(t);case 4:if(!(r=e.sent)||!(new Date(r).getTime()+d.MIN_DELAY_BEFORE_EXPORT>new Date().getTime())){e.next=9;break}return v.info("Export already happened earlier, skip it."),e.abrupt("return");case 9:v.info("Start indexes export"),a=s.default.mark(function e(){var r,a,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[r=o[i]],c=[],e.next=6,a.index.export(function(e,n){c.push(e),JSON.stringify(n)&&t.storeData(k(r,e),n)});case 6:return e.next=8,t.storeData(k(r,g),c);case 8:return e.next=10,t.storeData(k(r,b),a.lastSeq);case 10:return e.next=12,t.storeData(k(r,w),a.lastUpdated);case 12:case"end":return e.stop()}},e)}),i=0,o=Object.keys(n);case 12:if(!(i<o.length)){e.next=17;break}return e.delegateYield(a(),"t0",14);case 14:i++,e.next=12;break;case 17:return e.next=19,x(t);case 19:v.info("Indexes export done");case 20:case"end":return e.stop()}},e)})),t.exportSearchIndexes=function(e,t){return i.apply(this,arguments)},o=(0,u.default)(s.default.mark(function e(t){var n,r,a,i,o,c,u,l,m,y,x,O,_,E,C;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.info("Start indexes import"),n={},t){e.next=4;break}return e.abrupt("return",n);case 4:r=h(d.SEARCHABLE_DOCTYPES),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=50;break}return i=a.value,o=(0,p.initSearchIndex)(i),c=performance.now(),e.next=13,t.getData(k(i,g));case 13:if(u=e.sent){e.next=17;break}return v.warn("No keys available to import index ".concat(i)),e.abrupt("continue",48);case 17:l=h(u),e.prev=18,l.s();case 20:if((m=l.n()).done){e.next=30;break}return y=m.value,e.next=24,t.getData(k(i,y));case 24:if(!(x=e.sent)){e.next=28;break}return e.next=28,o.import(y,x);case 28:e.next=20;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(18),l.e(e.t0);case 35:return e.prev=35,l.f(),e.finish(35);case 38:return e.next=40,t.getData(k(i,b));case 40:return O=e.sent,e.next=43,t.getData(k(i,w));case 43:_=e.sent,E={index:o,lastSeq:O,lastUpdated:_},n[i]=E,C=performance.now(),(0,f.isDebug)()&&v.debug("".concat(i," import took ").concat((C-c).toFixed(2)," ms"));case 48:e.next=7;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(5),r.e(e.t1);case 55:return e.prev=55,r.f(),e.finish(55);case 58:return e.abrupt("return",n);case 59:case"end":return e.stop()}},e,null,[[5,52,55,58],[18,32,35,38]])})),t.importSearchIndexes=function(e){return o.apply(this,arguments)}},87478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchedDoctype=t.isIOCozyFile=t.isIOCozyContact=t.isIOCozyApp=void 0;var r=n(5611);t.isIOCozyFile=function(e){return e._type===r.FILES_DOCTYPE},t.isIOCozyContact=function(e){return e._type===r.CONTACTS_DOCTYPE},t.isIOCozyApp=function(e){return e._type===r.APPS_DOCTYPE};var a=Object.keys(r.SEARCH_SCHEMA);t.isSearchedDoctype=function(e){return!!e&&a.includes(e)}},9131:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.startApp=t.default=t.checkApp=void 0;var o=i(n(92207)),c=i(n(79092)),s=n(58564),u=function(){return window.startApp},l=function(e){var t=e.appId,n=e.uri;return(0,s.isAndroidApp)()?{package:t}:n},d={};r=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.startApp,e.next=3,d.checkApp(t);case 3:if(!e.sent){e.next=9;break}return r=l(t),e.abrupt("return",new Promise(function(e,t){u()?n.set(r).start(e,t):t(Error("Cordova plugin 'com.lampa.startapp' is not installed. This plugin is needed to start a native app. Required by cozy-bar"))}));case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),t.startApp=d.startApp=function(e){return r.apply(this,arguments)},a=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.startApp,r=l(t),e.abrupt("return",new Promise(function(e,t){u()?n.set(r).check(function(t){return e("OK"===t||t)},function(n){!1===n||0===n.indexOf("NameNotFoundException")?e(!1):t(n)}):t(Error("Cordova plugin 'com.lampa.startapp' is not installed."))}));case 3:case"end":return e.stop()}},e)})),t.checkApp=d.checkApp=function(e){return a.apply(this,arguments)},t.default=d},65935:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCordova=void 0,t.isCordova=function(){return"undefined"!=typeof window&&void 0!==window.cordova}},178:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openDeeplinkOrRedirect=void 0;var n=function(e,t,n){var r=document.createElement("iframe");return r.src=t,r.id="hiddenIframe_".concat(n),r.style.display="none",e.appendChild(r),r},r=function(e,t){var r=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);window.addEventListener("blur",o);var a=n(document.body,"about:blank",r),i=setTimeout(function(){t(),window.removeEventListener("blur",o),a.parentElement.removeChild(a)},500);function o(){clearTimeout(i),window.removeEventListener("blur",o),a.parentElement.removeChild(a)}a.contentWindow.location.href=e},a=function(e,t){for(var n=setTimeout(function(){t(),r.removeEventListener("blur",a)},500),r=window;r!=r.parent;)r=r.parent;function a(){clearTimeout(n),r.removeEventListener("blur",a)}r.addEventListener("blur",a),window.location=e},i=function(e,t){navigator.msLaunchUri(e,void 0,t)},o=function(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=navigator.userAgent.toLowerCase(),n=t.includes("safari")&&!t.includes("chrome")||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=r&&(t.includes("os 12_2")||t.includes("os 12_3"));return{isOpera:e,isFirefox:void 0!==window.InstallTrigger,isSafari:n,isChrome:!!window.chrome&&!e,isIOS122:a,isIOS:r}};t.openDeeplinkOrRedirect=function(e,t){if(navigator.msLaunchUri)i(e,t);else{var n=o();n.isChrome||n.isIOS&&!n.isIOS122?a(e,t):n.isSafari&&!n.isIOS122||n.isFirefox?r(e,t):t()}}},55857:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceName=void 0;var a=r(n(14792)),i=n(65935),o=n(32675),c=n(58564),s="Device",u=function(e){for(var t=0,n=["iPhone","iPad","Watch","AppleTV"];t<n.length;t++){var r=n[t];if(e.match(new RegExp(r)))return r}return s};t.getDeviceName=function(){if(!(0,o.hasDevicePlugin)())return(0,i.isCordova)()&&console.warn("You should install `cordova-plugin-device`."),s;var e=window.device,t=e.manufacturer,n=e.model,r=(0,c.isIOSApp)()?u(n):n;return"".concat((0,a.default)(t)," ").concat(r)}},19819:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isFlagshipOfflineSupported=t.isFlagshipApp=t.getFlagshipMetadata=t.FlagshipRoutes=void 0;var o=i(n(40918));t.FlagshipRoutes=a,(r=a||(t.FlagshipRoutes=a={})).Home="home",r.Cozyapp="cozyapp",r.Authenticate="authenticate",r.Onboarding="onboarding",r.Stack="stack";var c=function(){return"undefined"!=typeof window?window:void(0,o.default)("error",'"window" is not defined. This means that getGlobalWindow() shouldn\'t have been called and investigation should be done to prevent this call')};t.getFlagshipMetadata=function(){var e,t,n;return null!=(e=null==(t=c())||null==(n=t.cozy)?void 0:n.flagship)?e:{}},t.isFlagshipApp=function(){var e,t;return(null==(e=c())||null==(t=e.cozy)?void 0:t.flagship)!==void 0},t.isFlagshipOfflineSupported=function(){var e,t,n;return null==(e=c())||null==(t=e.cozy)||null==(n=t.flagship)?void 0:n.offline_available}},7127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkApp",{enumerable:!0,get:function(){return i.checkApp}}),Object.defineProperty(t,"getDeviceName",{enumerable:!0,get:function(){return a.getDeviceName}}),Object.defineProperty(t,"getFlagshipMetadata",{enumerable:!0,get:function(){return l.getFlagshipMetadata}}),Object.defineProperty(t,"getPlatform",{enumerable:!0,get:function(){return r.getPlatform}}),Object.defineProperty(t,"hasDevicePlugin",{enumerable:!0,get:function(){return o.hasDevicePlugin}}),Object.defineProperty(t,"hasInAppBrowserPlugin",{enumerable:!0,get:function(){return o.hasInAppBrowserPlugin}}),Object.defineProperty(t,"hasNetworkInformationPlugin",{enumerable:!0,get:function(){return o.hasNetworkInformationPlugin}}),Object.defineProperty(t,"hasSafariPlugin",{enumerable:!0,get:function(){return o.hasSafariPlugin}}),Object.defineProperty(t,"isAndroid",{enumerable:!0,get:function(){return r.isAndroid}}),Object.defineProperty(t,"isAndroidApp",{enumerable:!0,get:function(){return r.isAndroidApp}}),Object.defineProperty(t,"isCordova",{enumerable:!0,get:function(){return c.isCordova}}),Object.defineProperty(t,"isFlagshipApp",{enumerable:!0,get:function(){return l.isFlagshipApp}}),Object.defineProperty(t,"isFlagshipOfflineSupported",{enumerable:!0,get:function(){return l.isFlagshipOfflineSupported}}),Object.defineProperty(t,"isIOS",{enumerable:!0,get:function(){return r.isIOS}}),Object.defineProperty(t,"isIOSApp",{enumerable:!0,get:function(){return r.isIOSApp}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return r.isMobile}}),Object.defineProperty(t,"isMobileApp",{enumerable:!0,get:function(){return r.isMobileApp}}),Object.defineProperty(t,"isWebApp",{enumerable:!0,get:function(){return r.isWebApp}}),Object.defineProperty(t,"nativeLinkOpen",{enumerable:!0,get:function(){return s.nativeLinkOpen}}),Object.defineProperty(t,"openDeeplinkOrRedirect",{enumerable:!0,get:function(){return u.openDeeplinkOrRedirect}}),Object.defineProperty(t,"startApp",{enumerable:!0,get:function(){return i.startApp}});var r=n(58564),a=n(55857),i=n(9131),o=n(32675),c=n(65935),s=n(56851),u=n(178),l=n(19819)},56851:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.nativeLinkOpen=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(32675);r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,(0,c.hasSafariPlugin)();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=window.SafariViewController;case 6:if(!e.t0){e.next=10;break}window.SafariViewController.show({url:n,transition:"curl"},function(e){"closed"===e.event&&window.SafariViewController.hide()},function(){window.SafariViewController.hide()}),e.next=11;break;case 10:(0,c.hasInAppBrowserPlugin)()?window.cordova.InAppBrowser.open(n,"_blank","clearcache=yes,zoom=no"):window.location=n;case 11:case"end":return e.stop()}},e)})),t.nativeLinkOpen=function(e){return r.apply(this,arguments)}},58564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebApp=t.isMobileApp=t.isMobile=t.isIOSApp=t.isIOS=t.isAndroidApp=t.isAndroid=t.getPlatform=void 0;var r=n(65935),a=function(){return(0,r.isCordova)()?window.cordova.platformId:"web"};t.getPlatform=a;var i=function(e){return a()===e};t.isIOSApp=function(){return i("ios")},t.isAndroidApp=function(){return i("android")},t.isWebApp=function(){return i("web")},t.isMobileApp=function(){return(0,r.isCordova)()};var o=function(){return window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0};t.isAndroid=o;var c=function(){return window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)};t.isIOS=c,t.isMobile=function(){return o()||c()}},32675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasSafariPlugin=t.hasNetworkInformationPlugin=t.hasInAppBrowserPlugin=t.hasDevicePlugin=void 0;var r=n(65935);t.hasDevicePlugin=function(){return(0,r.isCordova)()&&void 0!==window.device},t.hasInAppBrowserPlugin=function(){return(0,r.isCordova)()&&void 0!==window.cordova.InAppBrowser},t.hasSafariPlugin=function(){return new Promise(function(e){(0,r.isCordova)()&&void 0!==window.SafariViewController?window.SafariViewController.isAvailable(function(t){return e(t)}):e(!1)})},t.hasNetworkInformationPlugin=function(){return(0,r.isCordova)()&&void 0!==window.navigator.connection}},63852:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.FlagEdit=void 0;var a=r(n(26396)),i=r(n(22056)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=r(n(94619)),s=r(n(36040)),u=r(n(57759)),l=n(15545);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.FlagEdit=function(e){var t=e.flag,n=(0,o.useState)({key:"",name:"",value:"",humanValue:""}),r=(0,i.default)(n,2),a=r[0],d=r[1];return(0,o.useEffect)(function(){t&&d(t)},[t]),o.default.createElement("form",{onSubmit:function(e){if(e.preventDefault(),a.name&&a.value){var t=a.value;(0,l.isJSONString)(t)?t=JSON.parse(t):("true"===t||"false"===t)&&(t=!!t),(0,c.default)(a.name,t),location.reload()}},className:"u-mt-1 u-flex-items-center u-flex"},o.default.createElement(u.default,{label:"Name",name:"name",onChange:function(e){d(p(p({},a),{},{key:"flag__".concat(e.target.value),name:e.target.value}))},value:a.name,size:"small",variant:"outlined"}),o.default.createElement(u.default,{label:"Value",name:"value",onChange:function(e){var t=e.target.value;Number.isInteger(t)&&(t=parseInt(t)),d(p(p({},a),{},{value:t,humanValue:(0,l.makeHumanValue)(t)}))},value:a.humanValue,size:"small",variant:"outlined",className:"u-ml-1"}),o.default.createElement(s.default,{type:"submit",label:"Edit",className:"u-ml-1"}))}},62619:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(67085),o=r(n(94619)),c=r(n(71973)),s=r(n(90774)),u=r(n(74710)),l=r(n(66052)),d=r(n(58057)),f=r(n(27282)),p=r(n(72637)),h=r(n(77148)),m=r(n(38143));t.default=function(e){var t=e.flag,n=e.onEdit,r=e.onTrash;return a.default.createElement(f.default,{size:"small"},a.default.createElement(p.default,null,"boolean"===t.type?a.default.createElement(c.default,{size:"small",checked:t.value,onChange:function(e){(0,o.default)(t.name,e.target.checked),location.reload()}}):null),a.default.createElement(m.default,{primary:t.humanName,secondary:"object"===t.type?a.default.createElement(i.ObjectInspector,{data:t.value}):"boolean"!==t.type?t.humanValue:null}),a.default.createElement(h.default,null,a.default.createElement(u.default,{onClick:function(){return n(t)}},a.default.createElement(s.default,{icon:l.default})),a.default.createElement(u.default,{onClick:function(){return r(t)}},a.default.createElement(s.default,{icon:d.default}))))}},44143:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=r(n(70879)),c=r(n(39274)),s=n(63852),u=r(n(62619)),l=n(15545),d=r(n(51309));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.default=function(){var e=(0,i.useState)(null),t=(0,a.default)(e,2),n=t[0],r=t[1],f=(0,l.computeFlags)(),p=function(e){r(e)},h=function(e){localStorage.getItem(e.key)&&(localStorage.removeItem(e.key),location.reload())};return i.default.createElement(d.default,null,i.default.createElement(c.default,{variant:"subtitle1"},"Flags"),i.default.createElement(o.default,{dense:!0,className:"u-maw-6"},f.map(function(e){return i.default.createElement(u.default,{key:e.key,flag:e,onEdit:p,onTrash:h})})),i.default.createElement(s.FlagEdit,{flag:n}))}},15545:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeHumanValue=t.isJSONString=t.computeFlags=void 0;var a=r(n(94619)),i=function(e){return"object"==typeof e?JSON.stringify(e):e.toString()};t.makeHumanValue=i,t.computeFlags=function(){return a.default.list().map(function(e){var t=(0,a.default)(e);return{key:"flag__".concat(e),name:e,type:typeof t,humanName:e.replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase()}),value:t,humanValue:i(t)}})},t.isJSONString=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}},36686:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(96540)),o=r(n(39274)),c=r(n(51309));t.default=function(){var e=Object.entries("undefined"!=typeof __VERSIONS__?__VERSIONS__:{});return i.default.createElement(c.default,null,i.default.createElement(o.default,{variant:"subtitle1",gutterBottom:!0},"Library versions"),e.map(function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return i.default.createElement("div",{key:n},n,": ",r," -"," ",i.default.createElement("img",{src:"https://img.shields.io/npm/v/".concat(n,"?style=flat-square}")}))}),0===e.length?i.default.createElement(i.default.Fragment,null,i.default.createElement(o.default,{variant:"body1"},"__VERSIONS__ is not exposed to the app. For this panel to work, you must add the VersionsPlugin."),i.default.createElement("pre",null,"\nconst VersionPlugin = require('cozy-scripts/plugins/VersionPlugin')\n\nnew VersionPlugin({\n    packages: ['cozy-bar', 'cozy-ui', 'cozy-harvest-lib']\n})\n          ")):null)}},51309:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(89004));t.default=function(e){var t=e.children;return a.default.createElement(i.default,{p:1,overflow:"scroll",width:"100%"},t)}},81944:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(99940)),o=r(n(93198)),c=r(n(44775)),s=r(n(16673)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),l=n(67085),d=n(42895),f=r(n(89004)),p=r(n(44819)),h=r(n(27282)),m=r(n(38143)),v=r(n(32859)),y=r(n(15133)),g=r(n(83181)),b=r(n(88245)),w=r(n(69640)),k=r(n(38599)),x=r(n(39274)),O=n(52245),_=r(n(51309)),E=n(36083);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var S={height:"100%",overflow:"scroll",flexGrow:1},P={fontFamily:"monospace"},A={width:400},D=(0,O.withStyles)({root:{fontFamily:"inherit",fontSize:"small"}})(b.default),T=function(e){var t=e.queryState,n=t.fetchStatus,r=t.lastError;return u.default.createElement("span",{className:"loaded"===n?"u-valid":"pending"===n?"u-warn":"failed"===n?"u-error":""},n,"failed"===n?" - ".concat(r):null)},R=function(e){var t=e.queryState.definition.indexedFields;return u.default.createElement("span",{className:"u-primaryColor"},t?t.join(", "):null)},j=function(e){var t=e.split(";").map(function(e){var t=e.split(":"),n=(0,a.default)(t,2),r=n[0],i=n[1];return function(e){if(!i)return!1;var t=(0,o.default)(e,r);return t&&t.toString().toLowerCase().includes(i.toLowerCase())}});return(0,c.default)(t)},M=function(e){var t=e.data,n=e.doctype,r=(0,d.useClient)(),i=(0,u.useState)(!1),o=(0,a.default)(i,2),c=o[0],s=o[1],f=r.store.getState().cozy.documents[n],p=(0,u.useMemo)(function(){return t.map(function(e){return r.hydrateDocument(f[e])})},[r,t,f]),h=(0,u.useCallback)(function(){return s(function(e){return!e})},[s]),m=(0,u.useState)(null),v=(0,a.default)(m,2),y=v[0],g=v[1],b=(0,u.useState)(""),w=(0,a.default)(b,2),k=w[0],x=w[1],O=(0,u.useCallback)(function(e){var t=e.target.value,n=""!==t?j(t):null,r=n?p.filter(n):null;x(t),g(r)},[p]),_=y||p;return u.default.createElement("div",{className:"u-pb-3"},"Table:"," ",u.default.createElement("input",{type:"checkbox",onChange:h,checked:c}),u.default.createElement("br",null),"Search:"," ",u.default.createElement("input",{type:"text",placeholder:"field.nested_field:value;other_field:other_value",onChange:O,value:k,style:A}),u.default.createElement("br",null),c?u.default.createElement(l.TableInspector,{data:_}):u.default.createElement(l.ObjectInspector,{data:_}))},I=function(e){var t=e.object,n=(0,u.useState)(!1),r=(0,a.default)(n,2),i=r[0],o=r[1],c=(0,u.useCallback)(function(){return o(function(e){return!e})},[o]);return u.default.createElement(u.default.Fragment,null,"Stringify:"," ",u.default.createElement("input",{type:"checkbox",onChange:c,checked:i}),i?u.default.createElement("pre",null,JSON.stringify(t,null,2)):u.default.createElement(l.ObjectInspector,{data:t}))},N=function(e){var t=e.name,n=(0,d.useClient)().store.getState().cozy.queries[t],r=n.data,a=n.options,o=(0,u.useMemo)(function(){return{lastFetch:new Date(n.lastFetch),lastUpdate:new Date(n.lastUpdate)}},[n]),c=o.lastFetch,s=o.lastUpdate;return u.default.createElement(u.default.Fragment,null,u.default.createElement(w.default,{component:v.default,elevation:0},u.default.createElement(y.default,{style:P,size:"small",className:"u-w-auto"},u.default.createElement(g.default,null,u.default.createElement(k.default,null,u.default.createElement(D,null,"doctype"),u.default.createElement(D,null,n.definition.doctype)),u.default.createElement(k.default,null,u.default.createElement(D,null,"definition"),u.default.createElement(D,null,u.default.createElement(I,{object:n.definition}))),u.default.createElement(k.default,null,u.default.createElement(D,null,"indexFields"),u.default.createElement(D,null,u.default.createElement(R,{queryState:n}))),u.default.createElement(k.default,null,u.default.createElement(D,null,"fetchStatus"),u.default.createElement(D,null,u.default.createElement(T,{queryState:n}))),u.default.createElement(k.default,null,u.default.createElement(D,null,"lastFetch"),u.default.createElement(D,null,(0,i.default)(c,"HH:mm:ss"))),u.default.createElement(k.default,null,u.default.createElement(D,null,"lastUpdate"),u.default.createElement(D,null,(0,i.default)(s,"HH:mm:ss"))),u.default.createElement(k.default,null,u.default.createElement(D,null,"documents"),u.default.createElement(D,null,r&&void 0!==r.length?r.length:+!!r)),u.default.createElement(k.default,null,u.default.createElement(D,null,"autoUpdate"),u.default.createElement(D,null,a&&a.autoUpdate?JSON.stringify(a.autoUpdate):"null")),u.default.createElement(k.default,null,u.default.createElement(D,null,"execution stats"),u.default.createElement(D,null,u.default.createElement(I,{object:n.execution_stats})))))),u.default.createElement(M,{data:r,doctype:n.definition.doctype}))},z=function(e){var t=e.name,n=e.selected,r=e.onClick,a=(0,d.useClient)().store.getState().cozy.queries[t],o=(0,u.useMemo)(function(){return(0,i.default)(new Date(a.lastUpdate),"HH:mm:ss")},[a]);return u.default.createElement(h.default,{dense:!0,button:!0,selected:n,onClick:r},u.default.createElement(m.default,{primary:t,secondary:u.default.createElement(u.default.Fragment,null,"failed"===a.fetchStatus?u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{className:"u-error"},"failed")," -"," "):null,a.execution_stats&&u.default.createElement(u.default.Fragment,null,u.default.createElement(F,{queryState:a})," -"," "),o?u.default.createElement(u.default.Fragment,null,o," -"):null,a.data.length," docs")}),u.default.createElement(E.NavSecondaryAction,null))},F=function(e){var t,n=e.queryState;if(!n.execution_stats)return null;var r=(t=n.execution_stats.execution_time_ms)<=100?"u-valid u-success":t>100&&t<250?"u-warn u-warning":"u-danger u-error";return u.default.createElement("span",{className:r},Math.round(n.execution_stats.execution_time_ms)," ms")};t.default=function(){var e=(0,d.useClient)().store.getState().cozy.queries,t=(0,u.useMemo)(function(){return(0,s.default)(e?Object.values(e):[],function(e){return Math.max(e.lastUpdate||-1/0,e.lastErrorUpdate||-1/0)}).map(function(e){return e.id}).reverse()},[e]),n=(0,u.useState)(function(){return t[0]}),r=(0,a.default)(n,2),i=r[0],o=r[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement(E.ListGridItem,null,t.map(function(e){return u.default.createElement(z,{name:e,key:e,onClick:function(){return o(e)},selected:name===i})}),0===t.length?u.default.createElement(_.default,null,u.default.createElement(x.default,{variant:"body1"},"No queries yet.")):null),u.default.createElement(f.default,{clone:!0,p:1,minWidth:400},u.default.createElement(p.default,{item:!0,style:S},u.default.createElement(x.default,{variant:"subtitle1"},i),i?u.default.createElement(N,{name:i}):null)))}},36083:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.NavSecondaryAction=t.ListGridItem=void 0;var a=r(n(96540)),i=r(n(44819)),o=r(n(90774)),c=r(n(83393)),s=r(n(77148)),u={height:"100%",overflow:"scroll",flexBasis:240,flexShrink:0,flexGrow:0,boxShadow:"var(--shadow1)"};t.NavSecondaryAction=function(){return a.default.createElement(s.default,null,a.default.createElement(o.default,{icon:c.default,className:"u-mr-half",color:"var(--secondaryTextColor)"}))},t.ListGridItem=function(e){var t=e.children;return a.default.createElement(i.default,{item:!0,style:u},t)}},72192:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(22056)),i=r(n(21259)),o=r(n(16193)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=r(n(89004)),u=r(n(96984)),l=r(n(44819)),d=r(n(90774)),f=r(n(74710)),p=r(n(91152)),h=r(n(81412)),m=r(n(70879)),v=r(n(27282)),y=r(n(38143)),g=r(n(32859)),b=r(n(60076)),w=r(n(39274)),k=n(52245),x=r(n(44143)),O=r(n(36686)),_=r(n(81944)),E=n(36083),C=n(51335);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}r(n(51309));var P=(0,k.makeStyles)(function(e){return{fab:{position:"fixed",left:"1rem",bottom:"1rem",zIndex:1e6},panel:{position:"fixed",bottom:0,left:0,right:0,zIndex:1e6},closeIcon:{position:"absolute",top:"0",right:"0.5rem",transform:"translateY(-66%)",background:"var(--paperBackgroundColor)",border:"2px solid ".concat(e.palette.primary.main),boxShadow:"var(--shadow1)",zIndex:1,"&:hover":{background:"var(--paperBackgroundColor)"}},panelContainer:{background:"var(--paperBackgroundColor)",height:"100%",flexWrap:"nowrap",overflowX:"scroll"},panelRight:{height:"100%",overflowY:"scroll",flexGrow:1,minWidth:150},mono:{fontFamily:"monospace"}}}),A=[{id:"queries",Component:_.default},{id:"flags",Component:x.default},{id:"library versions",Component:O.default}],D=function(e){var t=e.selected,n=e.panels,r=e.onNav;return c.default.createElement(m.default,null,n.map(function(e){return c.default.createElement(v.default,{key:e.id,selected:t===e.id,dense:!0,button:!0,onClick:function(){return r(e.id)}},c.default.createElement(y.default,null,e.id),c.default.createElement(E.NavSecondaryAction,null))}))},T=(0,k.makeStyles)(function(e){return{root:{height:3,width:"100%",background:e.palette.primary.main,cursor:"row-resize"}}}),R=function(e){var t=(0,o.default)({},e),n=T((0,k.useTheme)());return c.default.createElement("div",(0,o.default)({className:n.root},t))},j=function(e){var t=e.panels,n=e.open,r=(0,c.useMemo)(function(){return t?[].concat(A,(0,i.default)(t)):A},[t]),o=(0,C.useLocalState)("cozydevtools__panel","queries"),u=(0,a.default)(o,2),h=u[0],m=u[1],v=(0,c.useRef)(),y=(0,C.useLocalState)("cozydevtools__height",300),k=(0,a.default)(y,2),x=k[0],O=k[1],_=P();return c.default.createElement(b.default,{direction:"up",in:n,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement(g.default,{elevation:12,ref:v,className:e.className,style:{height:x}},c.default.createElement(R,{onMouseDown:function(e){if(0===e.button){var t=v.current;if(void 0!==t){var n={originalHeight:t.getBoundingClientRect().height,pageY:e.pageY},r=function(e){var t=n.pageY-e.pageY;O(n.originalHeight+t)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseUp",e)})}}}}),c.default.createElement(f.default,{className:_.closeIcon,onClick:e.onClose},c.default.createElement(d.default,{icon:p.default,size:12})),c.default.createElement(l.default,{container:!0,className:_.panelContainer},c.default.createElement(E.ListGridItem,null,c.default.createElement(s.default,{p:1},c.default.createElement(w.default,{variant:"subtitle1"},"Cozy Devtools")),c.default.createElement(D,{panels:r,selected:h,onNav:m})),r.map(function(e){return h===e.id?c.default.createElement(e.Component,{key:e.id}):null}))))};t.default=function(e){var t=e.panels,n=P(),r=(0,C.useLocalState)("cozydevtools__open",!1),i=(0,a.default)(r,2),o=i[0],s=i[1],l=(0,c.useCallback)(function(){return s(function(e){return!e})},[s]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(u.default,{color:"primary",onClick:l,className:n.fab},c.default.createElement(d.default,{icon:h.default})),c.default.createElement(j,{open:o,className:n.panel,onClose:l,panels:t}))}},51335:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalState=void 0;var a=r(n(22056)),i=n(96540);t.useLocalState=function(e,t){var n=(0,i.useState)(function(){var n=localStorage.getItem(e);try{return null!==n?JSON.parse(n):t}catch(e){return t}}),r=(0,a.default)(n,2),o=r[0],c=r[1],s=(0,i.useCallback)(function(e){c(e)},[c]);return(0,i.useEffect)(function(){localStorage.setItem(e,JSON.stringify(o))},[e,o]),[o,s]}},99940:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){r(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function c(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function s(e){r(1,arguments);var t=o(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(7*(n<1)+n-1)),t.setUTCHours(0,0,0,0),t}function u(e){r(1,arguments);var t=o(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var i=s(a),c=new Date(0);c.setUTCFullYear(n,0,4),c.setUTCHours(0,0,0,0);var u=s(c);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}n.r(t),n.d(t,{default:()=>B});var l,d={};function f(e,t){r(1,arguments);var n,a,i,s,u,l,f,p,h=c(null!=(n=null!=(a=null!=(i=null!=(s=null==t?void 0:t.weekStartsOn)?s:null==t||null==(u=t.locale)||null==(l=u.options)?void 0:l.weekStartsOn)?i:d.weekStartsOn)?a:null==(f=d.locale)||null==(p=f.options)?void 0:p.weekStartsOn)?n:0);if(!(h>=0&&h<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=o(e),v=m.getUTCDay();return m.setUTCDate(m.getUTCDate()-(7*(v<h)+v-h)),m.setUTCHours(0,0,0,0),m}function p(e,t){r(1,arguments);var n,a,i,s,u,l,p,h,m=o(e),v=m.getUTCFullYear(),y=c(null!=(n=null!=(a=null!=(i=null!=(s=null==t?void 0:t.firstWeekContainsDate)?s:null==t||null==(u=t.locale)||null==(l=u.options)?void 0:l.firstWeekContainsDate)?i:d.firstWeekContainsDate)?a:null==(p=d.locale)||null==(h=p.options)?void 0:h.firstWeekContainsDate)?n:1);if(!(y>=1&&y<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(v+1,0,y),g.setUTCHours(0,0,0,0);var b=f(g,t),w=new Date(0);w.setUTCFullYear(v,0,y),w.setUTCHours(0,0,0,0);var k=f(w,t);return m.getTime()>=b.getTime()?v+1:m.getTime()>=k.getTime()?v:v-1}function h(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}let m=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return h("yy"===t?r%100:r,t.length)},v=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):h(n+1,2)},y=function(e,t){var n=t.length;return h(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)};function g(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+(t||"")+h(i,2)}function b(e,t){return e%60==0?(e>0?"-":"+")+h(Math.abs(e)/60,2):w(e,t)}function w(e,t){var n=Math.abs(e);return(e>0?"-":"+")+h(Math.floor(n/60),2)+(t||"")+h(n%60,2)}let k={G:function(e,t,n){var r=+(e.getUTCFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return m(e,t)},Y:function(e,t,n,r){var a=p(e,r),i=a>0?a:1-a;return"YY"===t?h(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):h(i,t.length)},R:function(e,t){return h(u(e),t.length)},u:function(e,t){return h(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return h(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return h(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return v(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return h(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var i=function(e,t){r(1,arguments);var n=o(e);return Math.round((f(n,t).getTime()-(function(e,t){r(1,arguments);var n,a,i,o,s,u,l,h,m=c(null!=(n=null!=(a=null!=(i=null!=(o=null==t?void 0:t.firstWeekContainsDate)?o:null==t||null==(s=t.locale)||null==(u=s.options)?void 0:u.firstWeekContainsDate)?i:d.firstWeekContainsDate)?a:null==(l=d.locale)||null==(h=l.options)?void 0:h.firstWeekContainsDate)?n:1),v=p(e,t),y=new Date(0);return y.setUTCFullYear(v,0,m),y.setUTCHours(0,0,0,0),f(y,t)})(n,t).getTime())/6048e5)+1}(e,a);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):h(i,t.length)},I:function(e,t,n){var a=function(e){r(1,arguments);var t=o(e);return Math.round((s(t).getTime()-(function(e){r(1,arguments);var t=u(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),s(n)})(t).getTime())/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):h(a,t.length)},d:function(e,t,n){var r,a;return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):(r=e,a=t,h(r.getUTCDate(),a.length))},D:function(e,t,n){var a=function(e){r(1,arguments);var t=o(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):h(a,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return h(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return h(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return h(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r,a,i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return r=e,a=t,h(r.getUTCHours()%12||12,a.length)},H:function(e,t,n){var r,a;return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):(r=e,a=t,h(r.getUTCHours(),a.length))},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},m:function(e,t,n){var r,a;return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):(r=e,a=t,h(r.getUTCMinutes(),a.length))},s:function(e,t,n){var r,a;return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):(r=e,a=t,h(r.getUTCSeconds(),a.length))},S:function(e,t){return y(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return b(a);case"XXXX":case"XX":return w(a);default:return w(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return b(a);case"xxxx":case"xx":return w(a);default:return w(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(a,":");default:return"GMT"+w(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(a,":");default:return"GMT"+w(a,":")}},t:function(e,t,n,r){return h(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,r){return h((r._originalDate||e).getTime(),t.length)}};var x=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},O=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};let _={p:O,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return x(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",x(a,t)).replace("{{time}}",O(i,t))}};var E=["D","DD"],C=["YY","YYYY"];function S(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var P={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function A(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var D={date:A({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:A({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:A({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},T={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function R(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=null!=n&&n.width?String(n.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var o=e.defaultWidth,c=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function j(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var c=o[0],s=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(s,function(e){return e.test(c)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(s,function(e){return e.test(c)});return n=e.valueCallback?e.valueCallback(u):u,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(c.length)}}}let M={code:"en-US",formatDistance:function(e,t,n){var r,a=P[e];if(r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:D,formatRelative:function(e,t,n,r){return T[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:R({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:R({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:R({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:R({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:R({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(l={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(l.matchPattern);if(!n)return null;var r=n[0],a=e.match(l.parsePattern);if(!a)return null;var i=l.valueCallback?l.valueCallback(a[0]):a[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:j({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:j({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:j({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:j({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:j({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z=/^'([^]*?)'?$/,F=/''/g,L=/[a-zA-Z]/;function B(e,t,n){r(2,arguments);var i,s,u,l,f,p,h,m,v,y,g,b,w,x,O,P,A,D,T,R=String(t),j=null!=(s=null!=(u=null==n?void 0:n.locale)?u:d.locale)?s:M,B=c(null!=(l=null!=(f=null!=(p=null!=(h=null==n?void 0:n.firstWeekContainsDate)?h:null==n||null==(m=n.locale)||null==(v=m.options)?void 0:v.firstWeekContainsDate)?p:d.firstWeekContainsDate)?f:null==(y=d.locale)||null==(g=y.options)?void 0:g.firstWeekContainsDate)?l:1);if(!(B>=1&&B<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=c(null!=(b=null!=(w=null!=(x=null!=(O=null==n?void 0:n.weekStartsOn)?O:null==n||null==(P=n.locale)||null==(A=P.options)?void 0:A.weekStartsOn)?x:d.weekStartsOn)?w:null==(D=d.locale)||null==(T=D.options)?void 0:T.weekStartsOn)?b:0);if(!(U>=0&&U<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw RangeError("locale must contain localize property");if(!j.formatLong)throw RangeError("locale must contain formatLong property");var V=o(e);if(!function(e){return r(1,arguments),(!!function(e){return r(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)||"number"==typeof e)&&!isNaN(Number(o(e)))}(V))throw RangeError("Invalid time value");var H=((i=new Date(Date.UTC(V.getFullYear(),V.getMonth(),V.getDate(),V.getHours(),V.getMinutes(),V.getSeconds(),V.getMilliseconds()))).setUTCFullYear(V.getFullYear()),V.getTime()-i.getTime()),q=function(e,t){return r(2,arguments),function(e,t){return r(2,arguments),new Date(o(e).getTime()+c(t))}(e,-c(t))}(V,H),W={firstWeekContainsDate:B,weekStartsOn:U,locale:j,_originalDate:V};return R.match(N).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,_[t])(e,j.formatLong):e}).join("").match(I).map(function(r){if("''"===r)return"'";var a,i,o=r[0];if("'"===o){return(i=(a=r).match(z))?i[1].replace(F,"'"):a}var c=k[o];if(c)return null!=n&&n.useAdditionalWeekYearTokens||-1===C.indexOf(r)||S(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||-1===E.indexOf(r)||S(r,t,String(e)),c(q,r,j.localize,W);if(o.match(L))throw RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r}).join("")}},78046:function(e,t,n){e.exports=n(72368)(n(15075),"DataView")},61595:function(e,t,n){var r=n(97338),a=n(20604),i=n(10159),o=n(61395),c=n(17739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=c,e.exports=s},19105:function(e,t,n){var r=n(56380),a=n(20858),i=n(53749),o=n(32025),c=n(28561);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=c,e.exports=s},51037:function(e,t,n){e.exports=n(72368)(n(15075),"Map")},99063:function(e,t,n){var r=n(96862),a=n(78232),i=n(72507),o=n(40951),c=n(20556);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=c,e.exports=s},43742:function(e,t,n){e.exports=n(72368)(n(15075),"Promise")},10267:function(e,t,n){e.exports=n(72368)(n(15075),"Set")},71593:function(e,t,n){var r=n(99063),a=n(85894),i=n(30977);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},88995:function(e,t,n){var r=n(19105),a=n(8226),i=n(23124),o=n(82823),c=n(92827),s=n(33859);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=c,u.prototype.set=s,e.exports=u},75127:function(e,t,n){e.exports=n(15075).Symbol},32546:function(e,t,n){e.exports=n(15075).Uint8Array},30517:function(e,t,n){e.exports=n(72368)(n(15075),"WeakMap")},63332:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},13407:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},74728:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},31777:function(e,t,n){var r=n(48914),a=n(47230),i=n(72355),o=n(34158),c=n(78695),s=n(97301),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&a(e),d=!n&&!l&&o(e),f=!n&&!l&&!d&&s(e),p=n||l||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)(t||u.call(e,v))&&!(p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,m)))&&h.push(v);return h}},16510:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},37154:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},70974:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},99119:function(e,t,n){var r=n(42826);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},99795:function(e,t,n){var r=n(91019);e.exports=n(43823)(r)},58750:function(e,t,n){var r=n(37154),a=n(66513);e.exports=function e(t,n,i,o,c){var s=-1,u=t.length;for(i||(i=a),c||(c=[]);++s<u;){var l=t[s];n>0&&i(l)?n>1?e(l,n-1,i,o,c):r(c,l):o||(c[c.length]=l)}return c}},53083:function(e,t,n){e.exports=n(81655)()},91019:function(e,t,n){var r=n(53083),a=n(63048);e.exports=function(e,t){return e&&r(e,t,a)}},88784:function(e,t,n){var r=n(85683),a=n(37611);e.exports=function(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},68293:function(e,t,n){var r=n(37154),a=n(72355);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},94650:function(e,t,n){var r=n(75127),a=n(46601),i=n(27340),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},47643:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},72360:function(e,t,n){var r=n(94650),a=n(25852);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},3608:function(e,t,n){var r=n(5398),a=n(25852);e.exports=function e(t,n,i,o,c){return t===n||(null!=t&&null!=n&&(a(t)||a(n))?r(t,n,i,o,e,c):t!=t&&n!=n)}},5398:function(e,t,n){var r=n(88995),a=n(55185),i=n(25204),o=n(53239),c=n(61719),s=n(72355),u=n(34158),l=n(97301),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,y){var g=s(e),b=s(t),w=g?f:c(e),k=b?f:c(t);w=w==d?p:w,k=k==d?p:k;var x=w==p,O=k==p,_=w==k;if(_&&u(e)){if(!u(t))return!1;g=!0,x=!1}if(_&&!x)return y||(y=new r),g||l(e)?a(e,t,n,m,v,y):i(e,t,w,n,m,v,y);if(!(1&n)){var E=x&&h.call(e,"__wrapped__"),C=O&&h.call(t,"__wrapped__");if(E||C){var S=E?e.value():e,P=C?t.value():t;return y||(y=new r),v(S,P,n,m,y)}}return!!_&&(y||(y=new r),o(e,t,n,m,v,y))}},83725:function(e,t,n){var r=n(88995),a=n(3608);e.exports=function(e,t,n,i){var o=n.length,c=o,s=!i;if(null==e)return!c;for(e=Object(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<c;){var l=(u=n[o])[0],d=e[l],f=u[1];if(s&&u[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(i)var h=i(d,f,l,e,t,p);if(!(void 0===h?a(f,d,3,i,p):h))return!1}}return!0}},39705:function(e,t,n){var r=n(56788),a=n(19638),i=n(85859),o=n(42999),c=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,d=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?d:c).test(o(e))}},731:function(e,t,n){var r=n(94650),a=n(84764),i=n(25852),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},41307:function(e,t,n){var r=n(50869),a=n(70124),i=n(96806),o=n(72355),c=n(25621);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):c(e)}},86698:function(e,t,n){var r=n(92293),a=n(7156),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},80166:function(e,t,n){var r=n(99795),a=n(37020);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},50869:function(e,t,n){var r=n(83725),a=n(59234),i=n(72615);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},70124:function(e,t,n){var r=n(3608),a=n(93198),i=n(93373),o=n(85648),c=n(75542),s=n(72615),u=n(37611);e.exports=function(e,t){return o(e)&&c(t)?s(u(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},95073:function(e,t,n){var r=n(16510),a=n(41307),i=n(80166),o=n(58555),c=n(40859),s=n(8412),u=n(96806);e.exports=function(e,t,n){var l=-1;return t=r(t.length?t:[u],c(a)),o(i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++l,value:e}}),function(e,t){return s(e,t,n)})}},52435:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},12605:function(e,t,n){var r=n(88784);e.exports=function(e){return function(t){return r(t,e)}}},42800:function(e,t,n){var r=n(96806),a=n(67443),i=n(13655);e.exports=function(e,t){return i(a(e,t,r),e+"")}},16344:function(e,t,n){var r=n(35612),a=n(34785),i=n(96806);e.exports=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i},58555:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},48914:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},30146:function(e,t,n){var r=n(75127),a=n(16510),i=n(72355),o=n(25284),c=1/0,s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-c?"-0":n}},40859:function(e){e.exports=function(e){return function(t){return e(t)}}},71089:function(e){e.exports=function(e,t){return e.has(t)}},85683:function(e,t,n){var r=n(72355),a=n(85648),i=n(72296),o=n(11972);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},86276:function(e,t,n){var r=n(25284);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e==e,o=r(e),c=void 0!==t,s=null===t,u=t==t,l=r(t);if(!s&&!l&&!o&&e>t||o&&c&&u&&!s&&!l||a&&c&&u||!n&&u||!i)return 1;if(!a&&!o&&!l&&e<t||l&&n&&i&&!a&&!o||s&&n&&i||!c&&i||!u)return -1}return 0}},8412:function(e,t,n){var r=n(86276);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,c=i.length,s=n.length;++a<c;){var u=r(i[a],o[a]);if(u){if(a>=s)return u;return u*("desc"==n[a]?-1:1)}}return e.index-t.index}},52911:function(e,t,n){e.exports=n(15075)["__core-js_shared__"]},43823:function(e,t,n){var r=n(37020);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,c=Object(n);(t?o--:++o<i)&&!1!==a(c[o],o,c););return n}}},81655:function(e){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),c=o.length;c--;){var s=o[e?c:++a];if(!1===n(i[s],s,i))break}return t}}},18173:function(e,t,n){var r=n(63332),a=n(16510),i=n(41307),o=n(42800),c=n(40859),s=n(65078);e.exports=function(e){return s(function(t){return t=a(t,c(i)),o(function(n){var a=this;return e(t,function(e){return r(e,a,n)})})})}},34785:function(e,t,n){var r=n(72368);e.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},55185:function(e,t,n){var r=n(71593),a=n(70974),i=n(71089);e.exports=function(e,t,n,o,c,s){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var p=-1,h=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var v=e[p],y=t[p];if(o)var g=u?o(y,v,p,t,e,s):o(v,y,p,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!a(t,function(e,t){if(!i(m,t)&&(v===e||c(v,e,n,o,s)))return m.push(t)})){h=!1;break}}else if(!(v===y||c(v,y,n,o,s))){h=!1;break}}return s.delete(e),s.delete(t),h}},25204:function(e,t,n){var r=n(75127),a=n(32546),i=n(42826),o=n(55185),c=n(96395),s=n(82817),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new a(e),new a(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=c;case"[object Set]":var h=1&r;if(p||(p=s),e.size!=t.size&&!h)break;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var v=o(p(e),p(t),r,u,d,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},53239:function(e,t,n){var r=n(63408),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,c){var s=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!s)return!1;for(var d=l;d--;){var f=u[d];if(!(s?f in t:a.call(t,f)))return!1}var p=c.get(e);if(p&&c.get(t))return p==t;var h=!0;c.set(e,t),c.set(t,e);for(var m=s;++d<l;){var v=e[f=u[d]],y=t[f];if(i)var g=s?i(y,v,f,t,e,c):i(v,y,f,e,t,c);if(!(void 0===g?v===y||o(v,y,n,i,c):g)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return c.delete(e),c.delete(t),h}},65078:function(e,t,n){var r=n(40352),a=n(67443),i=n(13655);e.exports=function(e){return i(a(e,void 0,r),e+"")}},2926:function(e,t,n){e.exports="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g},63408:function(e,t,n){var r=n(68293),a=n(57126),i=n(63048);e.exports=function(e){return r(e,i,a)}},33649:function(e,t,n){var r=n(99204);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},59234:function(e,t,n){var r=n(75542),a=n(63048);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},72368:function(e,t,n){var r=n(39705),a=n(68210);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},46601:function(e,t,n){var r=n(75127),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[c]=n:delete e[c]),a}},57126:function(e,t,n){var r=n(74728),a=n(33831),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;e.exports=o?function(e){return null==e?[]:r(o(e=Object(e)),function(t){return i.call(e,t)})}:a},61719:function(e,t,n){var r=n(78046),a=n(51037),i=n(43742),o=n(10267),c=n(30517),s=n(94650),u=n(42999),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),v=u(a),y=u(i),g=u(o),b=u(c),w=s;(r&&w(new r(new ArrayBuffer(1)))!=h||a&&w(new a)!=l||i&&w(i.resolve())!=d||o&&w(new o)!=f||c&&w(new c)!=p)&&(w=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case v:return l;case y:return d;case g:return f;case b:return p}return t}),e.exports=w},68210:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1256:function(e,t,n){var r=n(85683),a=n(47230),i=n(72355),o=n(78695),c=n(84764),s=n(37611);e.exports=function(e,t,n){t=r(t,e);for(var u=-1,l=t.length,d=!1;++u<l;){var f=s(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&c(l)&&o(f,l)&&(i(e)||a(e))}},97338:function(e,t,n){var r=n(87996);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},20604:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},10159:function(e,t,n){var r=n(87996),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},61395:function(e,t,n){var r=n(87996),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},17739:function(e,t,n){var r=n(87996);e.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},66513:function(e,t,n){var r=n(75127),a=n(47230),i=n(72355),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},78695:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?0x1fffffffffffff:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},35870:function(e,t,n){var r=n(42826),a=n(37020),i=n(78695),o=n(85859);e.exports=function(e,t,n){if(!o(n))return!1;var c=typeof t;return("number"==c?!!(a(n)&&i(t,n.length)):"string"==c&&t in n)&&r(n[t],e)}},85648:function(e,t,n){var r=n(72355),a=n(25284),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},99204:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},19638:function(e,t,n){var r,a=n(52911),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},92293:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},75542:function(e,t,n){var r=n(85859);e.exports=function(e){return e==e&&!r(e)}},56380:function(e){e.exports=function(){this.__data__=[],this.size=0}},20858:function(e,t,n){var r=n(99119),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},53749:function(e,t,n){var r=n(99119);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},32025:function(e,t,n){var r=n(99119);e.exports=function(e){return r(this.__data__,e)>-1}},28561:function(e,t,n){var r=n(99119);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},96862:function(e,t,n){var r=n(61595),a=n(19105),i=n(51037);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},78232:function(e,t,n){var r=n(33649);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},72507:function(e,t,n){var r=n(33649);e.exports=function(e){return r(this,e).get(e)}},40951:function(e,t,n){var r=n(33649);e.exports=function(e){return r(this,e).has(e)}},20556:function(e,t,n){var r=n(33649);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=+(n.size!=a),this}},96395:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},72615:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},75146:function(e,t,n){var r=n(6198);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},87996:function(e,t,n){e.exports=n(72368)(Object,"create")},7156:function(e,t,n){e.exports=n(55737)(Object.keys,Object)},6139:function(e,t,n){e=n.nmd(e);var r=n(2926),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,c=function(){try{var e=i&&i.require&&i.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=c},27340:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55737:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},67443:function(e,t,n){var r=n(63332),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,c=a(i.length-t,0),s=Array(c);++o<c;)s[o]=i[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),r(e,this,u)}}},15075:function(e,t,n){var r=n(2926),a="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||a||Function("return this")()},85894:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},30977:function(e){e.exports=function(e){return this.__data__.has(e)}},82817:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},13655:function(e,t,n){var r=n(16344);e.exports=n(73613)(r)},73613:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},8226:function(e,t,n){var r=n(19105);e.exports=function(){this.__data__=new r,this.size=0}},23124:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},82823:function(e){e.exports=function(e){return this.__data__.get(e)}},92827:function(e){e.exports=function(e){return this.__data__.has(e)}},33859:function(e,t,n){var r=n(19105),a=n(51037),i=n(99063);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},72296:function(e,t,n){var r=n(75146),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g;e.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t})},37611:function(e,t,n){var r=n(25284),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},42999:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},35612:function(e){e.exports=function(e){return function(){return e}}},42826:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},40352:function(e,t,n){var r=n(58750);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},93198:function(e,t,n){var r=n(88784);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},93373:function(e,t,n){var r=n(47643),a=n(1256);e.exports=function(e,t){return null!=e&&a(e,t,r)}},96806:function(e){e.exports=function(e){return e}},47230:function(e,t,n){var r=n(72360),a=n(25852),i=Object.prototype,o=i.hasOwnProperty,c=i.propertyIsEnumerable;e.exports=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!c.call(e,"callee")}},72355:function(e){e.exports=Array.isArray},37020:function(e,t,n){var r=n(56788),a=n(84764);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},34158:function(e,t,n){e=n.nmd(e);var r=n(15075),a=n(94669),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,c=o&&o.exports===i?r.Buffer:void 0,s=c?c.isBuffer:void 0;e.exports=s||a},56788:function(e,t,n){var r=n(94650),a=n(85859);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84764:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},85859:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},25852:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},25284:function(e,t,n){var r=n(94650),a=n(25852);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},97301:function(e,t,n){var r=n(731),a=n(40859),i=n(6139),o=i&&i.isTypedArray;e.exports=o?a(o):r},63048:function(e,t,n){var r=n(31777),a=n(86698),i=n(37020);e.exports=function(e){return i(e)?r(e):a(e)}},6198:function(e,t,n){var r=n(99063);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},44775:function(e,t,n){var r=n(13407);e.exports=n(18173)(r)},25621:function(e,t,n){var r=n(52435),a=n(12605),i=n(85648),o=n(37611);e.exports=function(e){return i(e)?r(o(e)):a(e)}},16673:function(e,t,n){var r=n(58750),a=n(95073),i=n(42800),o=n(35870);e.exports=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])})},33831:function(e){e.exports=function(){return[]}},94669:function(e){e.exports=function(){return!1}},11972:function(e,t,n){var r=n(30146);e.exports=function(e){return null==e?"":r(e)}},47332:function(e,t,n){"use strict";var r=n(95709),a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=n(58156),h=n(71086),m=n(56586),v="io.cozy.accounts",y=["login","identifier","new_identifier","email"],g=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,null,[{key:"getAccountName",value:function(e){return e?e.auth&&(e.auth.accountName||this.getAccountLogin(e))||e._id:null}},{key:"getAccountLogin",value:function(e){if(e&&e.auth){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(y);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.auth[r])return e.auth[r]}}catch(e){n.e(e)}finally{n.f()}}}},{key:"fromCipher",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d({identifierProperty:"login"},n),i=(p(e,"fields")||[]).reduce(function(e,t){return e[t.name]=t.value,e},{}),o={auth:h(d((t={},(0,a.default)(t,r.identifierProperty,p(e,"login.username","")),(0,a.default)(t,"password",p(e,"login.password","")),t),i),function(e){return!!e})};return e&&(o.relationships={vaultCipher:{_id:e.id,_type:"com.bitwarden.ciphers",_protocol:"bitwarden"}}),o}}]),r}(m);g.schema={doctype:v,attributes:{},relationships:{master:{type:"has-one",doctype:v}}},g.probableLoginFieldNames=y,e.exports=g},82721:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(56586),l="io.cozy.apps",d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"getStoreInstallationURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var n=this.isInstalled(e,{slug:"store"});if(!n)return null;var r=n.links&&n.links.related;return r?"".concat(r,"#/discover/").concat(t.slug,"/install"):null}},{key:"isInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.attributes&&e.attributes.slug===t.slug})}},{key:"getUrl",value:function(e){return e.links&&e.links.related}}]),r}(u);d.schema={doctype:l,attributes:{}},d.doctype=l,e.exports=d},56586:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(39892)),c=a(n(92207)),s=a(n(26396)),u=a(n(79092)),l=a(n(56994)),d=a(n(65611)),f=a(n(18337)),p=a(n(82274)),h=a(n(65044)),m=["concurrency","logProgress"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=n(22894),w=n(47307),k=n(44377),x=n(58156),O=n(94394),_=n(62216),E=n(90179),C=n(42194),S=n(44383),P=n(71086),A=n(47091),D=n(33031),T=n(6023).default,R=n(11071).Q,j=n(40918).namespace("Document"),M=n(54174).parallelMap,I={},N=["shortLabel"];function z(e){return e.startsWith("\\")?e.slice(1):e}var F=function(e){return C(e,_)},L=function(e){return Object.assign({},e,{_deleted:!0})},B=function(e){var t=e.cozyMetadata&&e.cozyMetadata.updatedAt;return t?new Date(t):null},U=function(e){var t=B(e);return t?-t:0},V=function(){var e,t,n,r,a,s,v,_,C,B,V,H,q,W,G,Z,K,Q,Y,J;function $(){(0,p.default)(this,$)}return(0,h.default)($,null,[{key:"registerClient",value:function(e){if(this.cozyClient)throw console.warn("Document already has been registered, this is not possible to re-register as the client is shared globally between all classes. This is to prevent concurrency bugs."),Error("Document cannot be re-registered to a client.");this.cozyClient=e}},{key:"copyWithClient",value:function(e){var t=function(e){(0,l.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(r);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function r(){return(0,p.default)(this,r),n.apply(this,arguments)}return(0,h.default)(r)}(this);return t.cozyClient=null,t.registerClient(e),t}},{key:"usesCozyClient",value:function(){return this.cozyClient instanceof T}},{key:"getIndex",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.getIndexViaOldClient(e,t)}},{key:"getIndexViaOldClient",value:function(e,t){var n="".concat(e,":").concat(t.slice().join(","));return I[n]||(I[n]=this.cozyClient.data.defineIndex(e,t).then(function(e){return I[n]=e,e})),Promise.resolve(I[n])}},{key:"addCozyMetadata",value:function(e){return e.cozyMetadata||(e.cozyMetadata={}),e.cozyMetadata.updatedAt=new Date,!e.cozyMetadata.createdByApp&&this.createdByApp&&(e.cozyMetadata.createdByApp=this.createdByApp),this.createdByApp&&function(e,t){e.updatedByApps||(e.updatedByApps=[]);var n,r=new Date,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e.updatedByApps);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.slug===t){i.date=r;return}}}catch(e){a.e(e)}finally{a.f()}e.updatedByApps.push({slug:t,date:r})}(e.cozyMetadata,this.createdByApp),e}},{key:"get",value:(e=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.usesCozyClient()){e.next=2;break}throw Error("This method is not implemented with cozy-client-js");case 2:if(this.doctype){e.next=4;break}throw Error("doctype is not defined");case 4:return e.next=6,this.cozyClient.query(R(this.doctype).getById(t));case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"createOrUpdate",value:(t=(0,u.default)(c.default.mark(function e(t){var n,r=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},!this.usesCozyClient()){e.next=3;break}return e.abrupt("return",this.createOrUpdateViaNewClient(t,n));case 3:return e.abrupt("return",this.createOrUpdateViaOldClient(t,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"applyUpdateIfDifferent",value:function(e,t,n){return!this.checkAttributes||function(e,t){if(0===Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1}(S(e,this.checkAttributes),S(t,this.checkAttributes))||null!=n&&n.forceUpdate?(delete t.dateImport,this.addCozyMetadata(y(y({},e),t))):(j("debug","[updateIfDifferent] No need to update ".concat(t._id," because its `checkAttributes` (").concat(this.checkAttributes,") didn't change.")),e)}},{key:"getHandleDuplicateStrategy",value:function(e){if($.duplicateHandlingStrategies[e])return $.duplicateHandlingStrategies[e];throw Error("".concat(e," is not a know duplication handling strategy. Known strategies are ").concat(Object.keys($.duplicateHandlingStrategies)))}},{key:"handleDuplicates",value:(n=(0,u.default)(c.default.mark(function e(t,n,r){var a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof(a=t||this.defaultDuplicateHandling)?this.getHandleDuplicateStrategy(a):a,e.next=4,i.call(this,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"createOrUpdateViaNewClient",value:(r=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=7;break}return e.next=6,this.queryAll(r);case 6:a=e.sent;case 7:if(0!==a.length){e.next=11;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 11:if(!((a=D(a,U)).length>1)){e.next=15;break}return e.next=15,this.handleDuplicates(n.handleDuplicates,a,r);case 15:if(i=a[0],o=E(t,N),s=this.applyUpdateIfDifferent(i,o,n),!(n.forceUpdate||s!==i)){e.next=22;break}return e.abrupt("return",this.save(s));case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"createOrUpdateViaOldClient",value:(a=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=10;break}return e.next=6,this.getIndex(this.doctype,this.idAttributes);case 6:return i=e.sent,e.next=9,this.cozyClient.data.query(i,{selector:r});case 9:a=e.sent;case 10:if(0!==a.length){e.next=14;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 14:if(!((a=D(a,U)).length>1)){e.next=18;break}return e.next=18,this.handleDuplicates(n.handleDuplicates,a,r);case 18:if(o=a[0],s=E(t,N),u=this.applyUpdateIfDifferent(o,s,n),!(n.forceUpdate||u!==o)){e.next=25;break}return e.abrupt("return",this.save(u));case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"create",value:(s=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.createViaNewClient(t));case 2:return e.abrupt("return",this.createViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"createViaNewClient",value:(v=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.create(this.doctype,t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createViaOldClient",value:(_=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.create(this.doctype,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"save",value:(C=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.saveViaNewClient(t));case 2:return e.abrupt("return",this.saveViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"saveViaNewClient",value:(B=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.save(t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"saveViaOldClient",value:(V=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.updateAttributes(this.doctype,t._id,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"bulkSave",value:function(e,t,n){(n||"object"!=typeof t)&&j("warn","Second argument of bulkSave is now an object, please use bulkSave(documents, { logProgress, concurrency })");var r={};return"number"==typeof t&&(r.concurrency=t),"function"==typeof n&&(r.logProgress=n),"object"==typeof t&&Object.assign(r,t),this._bulkSave(e,r)}},{key:"_bulkSave",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.concurrency,i=r.logProgress,s=(0,o.default)(r,m);return M(e,(t=(0,u.default)(c.default.mark(function e(t){var a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i&&i(t),e.prev=1,e.next=4,n.createOrUpdate(t,s);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!r.onCreateOrUpdateError){e.next=14;break}return e.abrupt("return",r.onCreateOrUpdateError(e.t0,t));case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}),void 0===a?30:a)}},{key:"query",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.queryViaOldClient(e,t)}},{key:"queryViaOldClient",value:function(e,t){return this.cozyClient.data.query(e,t)}},{key:"fetchAll",value:(H=(0,u.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,t.fetchJSON("GET","/data/".concat(this.doctype,"/_all_docs?include_docs=true"));case 4:return n=e.sent,e.abrupt("return",n.rows.filter(function(e){return 0!==e.id.indexOf("_design")&&e.doc}).map(function(e){return e.doc}));case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0&&e.t0.response&&e.t0.response.status&&404===e.t0.response.status)){e.next=14;break}return e.abrupt("return",[]);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return H.apply(this,arguments)})},{key:"updateAll",value:(q=(0,u.default)(c.default.mark(function e(t){var n,r,a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,!(!t||!t.length)){e.next=3;break}return e.abrupt("return",Promise.resolve([]));case 3:return e.prev=3,e.next=6,n.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:t});case 6:return r=e.sent,e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(3),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."==e.t0.reason.reason)){e.next=23;break}return e.next=15,this.create(t[0]);case 15:return a=e.sent,e.next=18,this.updateAll(t.slice(1));case 18:return(i=e.sent).unshift({ok:!0,id:a._id,rev:a._rev}),e.abrupt("return",i);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[3,10]])})),function(e){return q.apply(this,arguments)})},{key:"deleteAll",value:(W=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateAll(t.map(L)));case 1:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"findDuplicates",value:function(e){var t=this.idAttributes;return w(P(O(e,function(e){return t.map(function(t){return x(e,t)}).join("#$$$$#")}),function(e){return e.length>1}),function(e){return e.slice(1)})}},{key:"deleteDuplicates",value:(G=(0,u.default)(c.default.mark(function e(t){var n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,t&&(n=D(n,t)),r=this.findDuplicates(n),e.abrupt("return",this.deleteAll(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"fetchChanges",value:(Z=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,o,s,u=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,a={since:t,include_docs:"true"},n.params&&Object.assign(a,n.params),e.next=6,r.fetchJSON("GET","/data/".concat(this.doctype,"/_changes?").concat(b.stringify(a)));case 6:return o=(i=e.sent).last_seq,s=i.results.map(function(e){return e.doc}).filter(Boolean),n.includeDesign||(s=s.filter(function(e){return 0!==e._id.indexOf("_design")})),n.includeDeleted||(s=s.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:o,documents:s});case 12:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"queryAll",value:(K=(0,u.default)(c.default.mark(function e(t,n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.queryAllViaNewClient(t));case 2:return e.abrupt("return",this.queryAllViaOldClient(t,n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"queryAllViaNewClient",value:(Q=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.fetchAll());case 2:return n=void 0!==R?R(this.doctype).where(t):this.cozyClient.find(this.doctype).where(t),e.next=5,this.cozyClient.query(n);case 5:a=(r=e.sent).data;case 7:if(!(r&&r.next)){e.next=20;break}if(!(r.bookmark&&n.offsetBookmark)){e.next=14;break}return e.next=11,this.cozyClient.query(n.offsetBookmark(r.bookmark));case 11:r=e.sent,e.next=17;break;case 14:return e.next=16,this.cozyClient.query(n.offset(a.length));case 16:r=e.sent;case 17:a.push.apply(a,(0,i.default)(r.data)),e.next=7;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"queryAllViaOldClient",value:(Y=(0,u.default)(c.default.mark(function e(t,n){var r,a,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,this.fetchAll();case 3:return e.abrupt("return",e.sent);case 4:if(r=n){e.next=9;break}return e.next=8,this.cozyClient.data.defineIndex(this.doctype,Object.keys(t));case 8:r=e.sent;case 9:a=[],o={next:!0};case 11:if(!(o&&o.next)){e.next=18;break}return e.next=14,this.cozyClient.data.query(r,{selector:t,wholeResponse:!0,skip:a.length});case 14:o=e.sent,a.push.apply(a,(0,i.default)(o.docs)),e.next=11;break;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return Y.apply(this,arguments)})},{key:"getAll",value:(J=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,n.fetchJSON("POST","/data/".concat(this.doctype,"/_all_docs?include_docs=true"),{keys:t});case 4:r=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),!e.t0.message.match(/not_found/)){e.next=11;break}return e.abrupt("return",[]);case 11:throw e.t0;case 12:return a=r.rows.filter(function(e){return e.doc}),e.abrupt("return",a.map(function(e){return e.doc}));case 14:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return J.apply(this,arguments)})}]),$}();V.defaultDuplicateHandling="throw",V.duplicateHandlingStrategies={throw:function(e,t){throw Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(t)+"\n"+JSON.stringify(e))},remove:(r=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.slice(1)).length>0)){e.next=5;break}return j("warn","Cleaning duplicates for doctype ".concat(this.doctype," (kept: ").concat(t[0]._id,", removed: ").concat(n.map(function(e){return e._id}),")")),e.next=5,this.deleteAll(n);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},e.exports=V},52329:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(31521),f=n(56586),p=/(.+)(\..*)$/,h=function(e){(0,s.default)(y,e);var t,n,r,f,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"getFullpath",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("You must provide a dirId");case 2:return e.next=4,this.get(t);case 4:return r=d(e.sent.path,"/"),e.abrupt("return","".concat(r,"/").concat(n));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"move",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,f,p=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],i=n.folderId,o=n.path,c=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,c.updateFileMetadata(t,{dir_id:i});case 6:return s=e.sent,e.abrupt("return",{moved:s.data,deleted:null});case 10:if(e.prev=10,e.t0=e.catch(3),!(409===e.t0.status&&r)){e.next=35;break}if(!o){e.next=17;break}u=o,e.next=24;break;case 17:return e.next=19,this.get(t);case 19:return l=e.sent.name,e.next=23,this.getFullpath(i,l);case 23:u=e.sent;case 24:return e.next=26,c.statByPath(u);case 26:return d=e.sent,e.next=29,c.destroy(d.data);case 29:return e.next=31,c.updateFileMetadata(t,{dir_id:i});case 31:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 35:throw e.t0;case 36:case"end":return e.stop()}},e,this,[[3,10]])})),function(e,t){return r.apply(this,arguments)})},{key:"splitFilename",value:function(e){if(!e.name)throw Error("file should have a name property ");if("file"===e.type){var t=e.name.match(p);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}}},{key:"overrideFileForPath",value:(f=(0,i.default)(a.default.mark(function e(t,n,r){var i,o,c,s,u,l,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t).endsWith("/")||(i+="/"),o=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,o.statByPath(i+n.name);case 6:return s=(c=e.sent.data).id,u=c.dir_id,e.next=10,o.updateFile(n,{dirId:u,fileId:s,metadata:r});case 10:return l=e.sent,e.abrupt("return",l);case 14:if(e.prev=14,e.t0=e.catch(3),!/Not Found/.test(e.t0)){e.next=24;break}return e.next=19,o.ensureDirectoryExists(i);case 19:return d=e.sent,e.next=22,o.createFile(n,{dirId:d,metadata:r});case 22:return f=e.sent,e.abrupt("return",f);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t,n){return f.apply(this,arguments)})},{key:"generateNewFileNameOnConflict",value:function(e){var t=e.match(/(_)([0-9]+)$/);if(!t)return"".concat(e,"_1");var n=parseInt(t[2]);return n++,e.replace(/(_)([0-9]+)$/,"_".concat(n))}},{key:"generateFileNameForRevision",value:function(e,t,n){var r=y.splitFilename({name:e.name,type:"file"}),a=r.filename,i=r.extension;return"".concat(a,"_").concat(n(t.updated_at,"DD MMMM - HH[h]mm")).concat(i)}},{key:"uploadFileWithConflictStrategy",value:(h=(0,i.default)(a.default.mark(function e(t,n,r,i,o,c){var s,u,l,d,f,p,h,m;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.cozyClient.collection("io.cozy.files"),e.prev=1,e.next=4,y.getFullpath(r,t);case 4:return u=e.sent,e.next=7,s.statByPath(u);case 7:if(l=e.sent.data.id,"erase"!==i){e.next=16;break}return e.next=12,s.updateFile(n,{dirId:r,fileId:l,name:t,metadata:o,contentType:c});case 12:return d=e.sent,e.abrupt("return",d);case 16:return p=(f=y.splitFilename({name:t,type:"file"})).filename,h=f.extension,m=y.generateNewFileNameOnConflict(p)+h,e.abrupt("return",y.uploadFileWithConflictStrategy(m,n,r,i,o,c));case 19:e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(1),!/Not Found/.test(e.t0.message)){e.next=27;break}return e.next=26,y.upload(t,n,r,o,c);case 26:return e.abrupt("return",e.sent);case 27:throw e.t0;case 28:case"end":return e.stop()}},e,this,[[1,21]])})),function(e,t,n,r,a,i){return h.apply(this,arguments)})},{key:"upload",value:(m=(0,i.default)(a.default.mark(function e(t,n,r,i){var o,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:"image/jpeg",e.abrupt("return",this.cozyClient.collection("io.cozy.files").createFile(n,{name:t,dirId:r,contentType:o,lastModifiedDate:new Date,metadata:i}));case 2:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return m.apply(this,arguments)})}]),y}(f);h.doctype="io.cozy.files",e.exports=h},40851:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(11071).Q,f=n(82721),p=n(52329),h=function(e){(0,s.default)(y,e);var t,n,r,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"createFolderWithReference",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cozyClient.collection(p.doctype),e.next=3,r.ensureDirectoryExists(t);case 3:return i=e.sent,e.next=6,r.addReferencesTo(n,[{_id:i}]);case 6:return e.next=8,this.cozyClient.query(d(p.doctype).getById(i));case 8:return o=e.sent.data,e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"ensureMagicFolder",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={_type:f.doctype,_id:t},e.next=3,this.getReferencedFolders(r);case 3:if(!(o=(i=e.sent).length?i[0]:null)){e.next=7;break}return e.abrupt("return",o);case 7:if((c=Object.values(this.magicFolders)).includes(t)){e.next=10;break}throw Error("Cannot create Magic folder with id ".concat(t,". Allowed values are ").concat(c.join(", "),"."));case 10:if(n){e.next=12;break}throw Error("Magic folder default path must be defined");case 12:return e.abrupt("return",this.createFolderWithReference(n,r));case 13:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getReferencedFolders",value:(h=(0,i.default)(a.default.mark(function e(t){var n,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.collection(p.doctype).findReferencedBy(t);case 2:return n=e.sent.included,e.abrupt("return",n.filter(function(e){return!r.isTrashed(e)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"ensureFolderWithReference",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getReferencedFolders(n);case 2:if(!(r=e.sent).length){e.next=5;break}return e.abrupt("return",r[0]);case 5:return i=this.cozyClient.collection(p.doctype),e.next=8,i.ensureDirectoryExists(t);case 8:return o=e.sent,e.next=11,i.addReferencesTo(n,[{_id:o}]);case 11:return e.next=13,i.get(o);case 13:return c=e.sent.data,e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"isTrashed",value:function(e){return/^\/\.cozy_trash/.test(e.attributes.path)}}]),y}(p);h.magicFolders={ADMINISTRATIVE:"".concat(f.doctype,"/administrative"),PHOTOS:"".concat(f.doctype,"/photos"),PHOTOS_BACKUP:"".concat(f.doctype,"/photos/mobile"),PHOTOS_UPLOAD:"".concat(f.doctype,"/photos/upload"),NOTES_FOLDER:"".concat(f.doctype,"/notes")},e.exports=h},50292:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(56586));u.schema={doctype:"io.cozy.permissions",attributes:{}},e.exports=u},84279:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=n(35970),h=n(58156),m=n(56586),v=n(77593),y=function(e){(0,u.default)(m,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(m);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function m(){return(0,c.default)(this,m),r.apply(this,arguments)}return(0,s.default)(m,null,[{key:"getPersonalData",value:function(e,t){var n={firstname:{path:"name.givenName"},lastname:{path:"name.familyName"},address:{getter:v.getPrimaryAddress},email:{getter:v.getPrimaryEmail},phone:{getter:v.getPrimaryPhone}},r={};return t.forEach(function(t){var a,i=h(n,t,t);if(i.getter)a=i.getter(e);else{var o=h(i,"path",t);a=h(e,o)}void 0!==a&&(r[t]=a)}),r}},{key:"getFilesByRules",value:(n=(0,o.default)(a.default.mark(function e(t){var n,r,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rules,r=t.count,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({trashed:!1,type:"file"},n),e.next=4,this.cozyClient.collection("io.cozy.files").createIndex(["metadata.datetime","metadata.qualification"]);case 4:return e.next=6,this.cozyClient.collection("io.cozy.files").find(o,{indexedFields:["metadata.datetime","metadata.qualification"],sort:[{"metadata.datetime":"desc"},{"metadata.qualification":"desc"}],limit:r||1});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:function(e,t){var n=e.documentsData,r=e.personalData,a=e.procedureData,i=Object.keys(n).map(function(e){return n[e].files.map(function(t){if(t)return{_id:t.id,_type:"io.cozy.files",templateDocumentId:e}})});return{personalData:r,procedureData:a,submissionDate:new Date,templateId:t.type,templateVersion:t.version,relationships:{files:{data:p(i)}}}}},{key:"createJson",value:function(e){return JSON.stringify(e)}}]),m}(m);y.doctype="io.cozy.procedures.administratives",e.exports=y},36788:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(22056)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=n(72915),p=n(56586),h=function(e){(0,u.default)(h,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,c.default)(this,h),r.apply(this,arguments)}return(0,s.default)(h,null,[{key:"getByYearAndAccount",value:(n=(0,o.default)(a.default.mark(function e(t,n){var r,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getIndex(this.doctype,this.idAttributes);case 2:return r=e.sent,o={selector:{year:t,"relationships.account.data._id":n},limit:1},e.next=6,p.query(r,o);case 6:if(c=e.sent,!(s=(0,i.default)(c,1)[0])){e.next=11;break}return e.abrupt("return",s);case 11:return e.abrupt("return",this.getEmptyDocument(t,n));case 12:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getEmptyDocument",value:function(e,t){return{year:e,balances:{},metadata:{version:this.version},relationships:{account:{data:{_id:t,_type:f.doctype}}}}}}]),h}(p);h.doctype="io.cozy.bank.balancehistories",h.idAttributes=["year","relationships.account.data._id"],h.version=1,h.checkAttributes=["balances"],e.exports=h},72915:function(e,t,n){"use strict";var r=n(95709),a=r(n(22056)),i=r(n(21259)),o=r(n(26396)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=n(58156),y=n(94394),g=n(38970),b=n(55364),w=n(40918).namespace("BankAccount"),k=n(15440),x=n(64941).getSlugFromInstitutionLabel,O=n(56586),_=function(e){var t,n,r;return null==e||null==(t=e.relationships)||null==(n=t.connection)||null==(r=n.data)?void 0:r._id},E=function(e){(0,u.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(r);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,null,[{key:"reconciliate",value:function(e,t){var n=k.matchAccounts(e,t);return(n=r.addForcedReplaceMatchings(n,t)).map(function(e){w("info",e.match?"".concat(e.account.label," matched with ").concat(e.match.label," via ").concat(e.method):"".concat(e.account.label," did not match with an existing account")),e.forcedReplace&&w("info","".concat(e.account.label," forced disabled state"));var t=e.match?e.match._id:void 0,n=e.forcedReplace?e.account._id:void 0;return m(m({},e.account),{},{relationships:b({},e.match?e.match.relationships:null,e.account.relationships),_id:n||t})})}},{key:"addForcedReplaceMatchings",value:function(e,t){var n=r.findReplacedCozyAccountIdsMatchings(e);if(!Object.keys(n).length>0)return e;var a,o=(0,i.default)(e),c=g(o,"match._id"),s=f(t);try{for(s.s();!(a=s.n()).done;){var u,l=a.value;if(null!=_(l)&&!c[l._id]){var d=n[_(l)];null!=d&&o.push({forcedReplace:!0,account:m(m({},l),{},{metadata:b({},l.metadata,{disabledAt:null==(u=l.metadata)?void 0:u.updatedAt}),relationships:b({},l.relationships,{connection:{data:{_id:d}}})})})}}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"findReplacedCozyAccountIdsMatchings",value:function(e){var t,n={},r=f(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.match&&_(null==a?void 0:a.account)!==_(null==a?void 0:a.match)&&(n[_(null==a?void 0:a.match)]=_(null==a?void 0:a.account))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findDuplicateAccountsWithNoOperations",value:function(e,t){var n,r=y(t,function(e){return e.account}),i=Object.entries(y(e,function(e){return e.institutionLabel+" > "+e.label})).map(function(e){return(0,a.default)(e,2)[1]}).filter(function(e){return e.length>1}),o=[],c=f(i);try{for(c.s();!(n=c.n()).done;){var s,u=n.value,l=f(u);try{for(l.s();!(s=l.n()).done;){var d=s.value,p=r[d._id]||[];0===p.length&&o.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){c.e(e)}finally{c.f()}return o}},{key:"hasIncoherentCreatedByApp",value:function(e){var t=x(e.institutionLabel),n=e.cozyMetadata&&e.cozyMetadata.createdByApp;return!!(t&&n&&t!==n)}},{key:"getUpdatedAt",value:function(e){var t=v(e,"metadata.updatedAt");if(t)return t;var n=v(e,"cozyMetadata.updatedAt");return n||null}}]),r}(O);E.normalizeAccountNumber=k.normalizeAccountNumber,E.doctype="io.cozy.bank.accounts",E.idAttributes=["_id"],E.version=1,E.checkAttributes=null,E.vendorIdAttr="vendorId",e.exports=E},98684:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(31126),d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"checkCurrencies",value:function(e){var t,n=e[0].currency,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;)if(t.value.currency!==n)return!1}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"sum",value:function(e){if(0===e.length)throw Error("You must give at least one stats object");if(!this.checkCurrencies(e))throw Error("Currency of all stats object must be the same.");var t=["income","additionalIncome","mortgage","loans","fixedCharges"].reduce(function(t,n){return t[n]=l(e,function(e){return e[n]||0}),t},{});return t.currency=e[0].currency,t}}]),r}(n(56586));d.doctype="io.cozy.bank.accounts.stats",d.idAttributes=["_id"],d.version=1,d.checkAttributes=null,e.exports=d},14336:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(21259)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(96220)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=n(6196),v=n(30486),y=n(88055),g=n(94394),b=n(38970),w=n(97551),k=n(94619).default,x=n(72915),O=n(38201).matchTransactions,_=n(56586),E=n(5093),C=function(e,t){var n=w(e,t);return n?t(n):null},S=function(e){return(e.realisationDate||e.date).slice(0,10)},P=function(e){var t=new Date;return C(e.filter(function(e){return!v(S(e),t)}),S)},A=function(e){return e instanceof Date?e.toISOString():e},D=function(e){(0,d.default)(T,e);var t,n,r,w,D=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(T);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function T(){return(0,s.default)(this,T),D.apply(this,arguments)}return(0,u.default)(T,[{key:"isAfter",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t>e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"isBeforeOrSame",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t<=e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"getIdentifier",value:function(){return"".concat(this.amount,"-").concat(this.originalBankLabel,"-").concat(this.date)}},{key:"getVendorAccountId",value:function(){return this[this.constructor.vendorAccountIdAttr]}}],[{key:"deleteAll",value:(n=(0,c.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k("banking.warn-on-delete")&&E("warn","OPERATION_DELETE: removing operations with _id : ".concat(JSON.stringify(t.map(function(e){return e._id})))),e.abrupt("return",(0,l.default)((0,p.default)(T),"deleteAll",this).call(this,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDate",value:function(e){return e}},{key:"getMissedTransactions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(C(t,S),-7),a=Array.from(O(e.filter(function(e){return v(S(e),r)}),t)).filter(function(e){return!e.match}).map(function(e){return e.transaction}),i=n.trackEvent;if("function"==typeof i)try{var o=a.length,c=t.length;i({e_a:"ReconciliateMissing",e_n:"MissedTransactionPct",e_v:parseFloat((o/c).toFixed(2),10)}),i({e_a:"ReconciliateMissing",e_n:"MissedTransactionAbs",e_v:o})}catch(e){E("warn","Could not send MissedTransaction event: ".concat(e.message))}return a}},{key:"reconciliate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(n);!1!==r.useSplitDate&&(r.useSplitDate=!0);var a=g(e,function(e){return t.find(function(t){return t.vendorId===e.vendorId})?"updatedTransactions":"newTransactions"}),i=a.newTransactions||[],c=a.updatedTransactions||[],s=!!r.useSplitDate&&P(t);if(s){"function"==typeof r.trackEvent&&r.trackEvent({e_a:"ReconciliateSplitDate"});var u=i.filter(function(e){return T.prototype.isAfter.call(e,s)});u.length>0?E("info","Found ".concat(u.length," transactions after ").concat(s)):E("info","No transaction after ".concat(s));var l=i.filter(function(e){return T.prototype.isBeforeOrSame.call(e,s)});E("info","Found ".concat(l.length," transactions before ").concat(s));var d=T.getMissedTransactions(l,t,r);d.length>0?E("info","Found ".concat(d.length," missed transactions before ").concat(s)):E("info","No missed transactions before ".concat(s)),i=[].concat((0,o.default)(u),(0,o.default)(d))}else E("info","Can't find a split date, saving all new transactions");return E("info","Transaction reconciliation: new ".concat(i.length,", updated ").concat(c.length,", split date ").concat(s," ")),[].concat(i).concat(c)}},{key:"getMostRecentForAccounts",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E("debug","Transaction.getLast"),e.next=4,_.getIndex(this.doctype,["date","account"]);case 4:return n=e.sent,r={selector:{date:{$gte:null},account:{$in:t}},sort:[{date:"desc"}]},e.next=8,_.query(n,r);case 8:return E("info","last transactions length: "+(i=e.sent).length),e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),E("error",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}},e,this,[[0,13]])})),function(e){return r.apply(this,arguments)})},{key:"deleteOrphans",value:(w=(0,c.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E("info","Deleting up orphan operations"),e.t0=b,e.next=4,x.fetchAll();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1,"_id"),e.next=8,this.fetchAll();case 8:if(r=(n=e.sent).filter(function(e){return!t[e.account]}),E("info","Total number of operations: ".concat(n.length)),E("info","Total number of orphan operations: ".concat(r.length)),E("info","Deleting ".concat(r.length," orphan operations...")),!(r.length>0)){e.next=16;break}return E(k("banking.warn-on-delete")?"warn":"info","OPERATION_DELETE: removing ".concat(r.length," orphan operations")),e.abrupt("return",this.deleteAll(r));case 16:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getCategoryId",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({localModelOverride:!1,localModelUsageThreshold:this.LOCAL_MODEL_USAGE_THRESHOLD,globalModelUsageThreshold:this.GLOBAL_MODEL_USAGE_THRESHOLD},t);return e.manualCategoryId?e.manualCategoryId:n.localModelOverride&&e.localCategoryId&&e.localCategoryProba&&e.localCategoryProba>n.localModelUsageThreshold?e.localCategoryId:e.cozyCategoryId&&e.cozyCategoryProba&&e.cozyCategoryProba>n.globalModelUsageThreshold?e.cozyCategoryId:e.localCategoryId||e.cozyCategoryId?e.automaticCategoryId:null}}]),T}(_);D.doctype="io.cozy.bank.operations",D.version=1,D.vendorAccountIdAttr="vendorAccountId",D.vendorIdAttr="vendorId",D.idAttributes=["vendorId"],D.checkAttributes=["label","originalBankLabel","automaticCategoryId","account"],D.LOCAL_MODEL_USAGE_THRESHOLD=.8,D.GLOBAL_MODEL_USAGE_THRESHOLD=.15,D.getSplitDate=P,e.exports=D},49082:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=n(44377),u=n(40918).namespace("BankingReconciliator");e.exports=function(){var e,t;function n(e){(0,o.default)(this,n),this.options=e}return(0,c.default)(n,[{key:"saveAccounts",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.options.BankAccount,e.next=3,r.fetchAll();case 3:return i=e.sent,o=r.reconciliate(t,i),u("info","Saving accounts..."),e.next=8,r.bulkSave(o,{handleDuplicates:"remove"});case 8:return c=e.sent,n.onAccountsSaved&&n.onAccountsSaved(c),e.abrupt("return",{savedAccounts:c,reconciliatedAccounts:o});case 11:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"save",value:(t=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,l,d,f,p,h,m,v,y,g,b,w=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.length>2&&void 0!==w[2]?w[2]:{},o=(i=this.options).BankAccount,c=i.BankTransaction,e.next=4,this.saveAccounts(t,r);case 4:return d=(l=e.sent).reconciliatedAccounts,p=s((f=l.savedAccounts).map(function(e){return[e[o.vendorIdAttr],e._id]})),u("info","Linking transactions to accounts..."),u("info",JSON.stringify(p)),n.forEach(function(e){if(e.account=p[e[c.vendorAccountIdAttr]],void 0===e.account)throw u("warn","Transaction without account, vendorAccountIdAttr: ".concat(c.vendorAccountIdAttr)),u("warn","transaction: "+JSON.stringify(e)),Error("Transaction without account.")}),h=new Set(d.filter(function(e){return e._id}).map(function(e){return e._id})),e.next=14,c.fetchAll();case 14:return m=e.sent.filter(function(e){return h.has(e.account)}),v=c.reconciliate(n,m,r),u("info","Saving transactions..."),y=1,g=function(e){u("debug","[bulkSave] ".concat(y++," Saving ").concat(e.date," ").concat(e.label))},e.next=21,c.bulkSave(v,{concurrency:30,logProgress:void 0!==r.logProgress?r.logProgress:g,handleDuplicates:"remove"});case 21:return b=e.sent,e.abrupt("return",{accounts:f,transactions:b});case 23:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),n}()},68585:function(e){"use strict";e.exports={"American Express":"americanexpress","Ark\xe9a Banque Priv\xe9e":"arkea","AXA Banque":"axabanque102","Floa Bank":"banquecasino","Banque Populaire":"banquepopulaire",Milleis:"barclays136",BforBank:"bforbank97","BNP Paribas":"bnpparibas82",BoursoBank:"boursorama83",BRED:"bred","Caisse d'\xc9pargne Particuliers":"caissedepargne1","Carrefour Banque":"carrefour159",Cetelem:"cetelem",CIC:"cic63","Compte Nickel":"comptenickel168","Cr\xe9dit Agricole":"caatlantica3","Cr\xe9dit Coop\xe9ratif":"creditcooperatif148","Cr\xe9dit Maritime":"creditmaritime","Cr\xe9dit Mutuel":"cic45","Cr\xe9dit Mutuel de Bretagne":"cic45","Cr\xe9dit Mutuel du Sud Ouest":"cic45",Fortuneo:"fortuneo84","Hello bank!":"hellobank145","HSBC Continental Europe":"hsbc119","La Banque Postale":"labanquepostale44",LCL:"lcl-linxo","MAIF Vie":"maifviebank",Monabanq:"monabanq96","Soci\xe9t\xe9 G\xe9n\xe9rale":"societegenerale","Connecteur de test":"bankingconnectortest",Revolut:"revolut",N26:"n26",Oney:"oney","Banque BCP":"bcp","Banque Transatlantique":"transatlantique","Gan Assurances":"gan",Groupama:"groupama","MAAF Vie":"maafvie",PayPal:"paypal",Yomoni:"yomoni",WeSave:"wesave","Orange Bank":"orangebank","MAIF Socram Banque":"socram","Macif Espace Banque":"socrammacif","Natixis Inter\xe9pargne":"natixis",Amundi:"amundiee","Banque Europ\xe9enne Cr\xe9dit Mutuel":"becm",Afer:"afer","CIC \xc9pargne Salariale":"cicee","PSA Banque":"psa","Cr\xe9dit Agricole - Epargne Longue des Salari\xe9s":"caels",LinXea:"linxea","Louvre Banque Priv\xe9e":"bpe",Palatine:"palatine","Cr\xe9dit Mutuel \xc9pargne Salariale":"creditmutueles","Renault Bank":"zesto","assurancevie.com":"assuranceviecom","mes-placements.fr":"mesplacementsfr",Sharinbox:"sharinbox","Soci\xe9t\xe9 G\xe9n\xe9rale \xc9pargne Salariale":"esalia","Epsens \xc9pargne Salariale":"epsenses","Cr\xe9dit Foncier":"creditfoncier","Banque Fran\xe7aise Commerciale Oc\xe9an Indien":"bfcoi",MACSF:"macsf","Banque Chalus":"chalus",Epargnissimo:"epargnissimo","AXA \xc9pargne Salariale":"axaes",Sogeretraite:"sogeretraite","Banque Edmond de Rothschild":"edmondderothschild",Mutavie:"mutavie",Agipi:"agipi","Uptevia (ex CACEIS)":"ccso","Allianz Retraite Collective":"allianzretraitecollective","Banque Transatlantique \xe9pargne salariale":"transatlantiquees","Ageas ":"ageas",Manymore:"manymore",Altaprofits:"altaprofits","AXA \xc9pargne Retraite":"axaer","Banque Postale \xc9pargne Salariale":"banquepostaleee","BNP Paribas \xc9pargne & Retraite Entreprises (Personeo)":"bnpes",Generali:"generali","Groupama \xc9pargne Salariale":"groupamaes","Oddo - Banque Priv\xe9e":"oddo",Spirica:"spirica",SwissLife:"swisslife","Union Financi\xe8re de France":"unionfinancieredefrance",Nalo:"nalo",CCF:"ccf",Lydia:"lydia","Ma French Bank":"mafrenchbank","Allianz Banque":"allianzbanque"}},15440:function(e,t,n){"use strict";var r=n(95709),a=r(n(21259)),i=r(n(26396));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(58156),d=n(33031),f=n(38337).eitherIncludes,p=n(64941).getSlugFromInstitutionLabel,h=function(e,t,n){var r=n.filter(function(n){return n[e]===t[e]});return 1===r.length?{match:r[0],method:e+"-exact"}:r.length>1?{matches:r,method:e+"-exact"}:null},m=/^(?:[A-Za-z]+)?-?([0-9]+)-?(?:[A-Za-z]+)?$/,v=/[x*]{4}[ -]?[x*]{4}[ -]?[x*]{4}[ -]?(\d{4})/,y=function(e,t){var n,r=t&&t.replace(/\s/g,""),a=e&&!e.match(v)?e.replace(/\s/g,""):e;return r&&27==r.length?r.substr(14,11):a?23==a.length?a.substr(10,11):16==a.length?a.substr(5,11):a.length>11&&(n=a.match(m))?n[1]:a:a},g=function(e,t){return t.number&&e.number&&(11===t.number.length||11===e.number.length)&&f(t.number,e.number)&&Math.min(t.number.length,e.number.length)>=4},b=function(e,t){if("CreditCard"!==e.type&&"CreditCard"!==t.type)return!1;for(var n,r,a=0,i=[e,t];a<i.length;a++){var o=i[a],c=o&&o.number&&o.number.match(v);c&&(n=o,r=c[1])}var s=n===e?t:e;return!!s&&!!s.number&&s.number.slice(-4)===r},w=[{rule:function(e,t){var n=p(e.institutionLabel),r=p(t.institutionLabel);return!n||!r||n===r},bonus:0,malus:-1e3},{rule:g,bonus:50,malus:-50,name:"approx-number"},{rule:function(e,t){var n=e.number||String(e.id),r=t.number||String(t.id);return(!e.number||!t.number)&&f(n,r)},bonus:10,malus:-10,name:"no-number-attr"},{rule:function(e,t){return e.type===t.type},bonus:50,malus:0,name:"same-type"},{rule:b,bonus:150,malus:0,name:"credit-card-number"},{rule:function(e,t){return!!e.currency&&(t.rawNumber&&t.rawNumber.includes(e.currency)||t.label&&t.label.includes(e.currency)||t.originalBankLabel&&t.originalBankLabel.includes(e.currency))},bonus:50,malus:0,name:"currency"}],k=function(e,t){var n,r=[],a={account:t,methods:r},i=0,o=s(w);try{for(o.s();!(n=o.n()).done;){var c=n.value,u=c.rule,l=c.bonus,d=c.malus,f=c.name,p=u(e,t);p&&l&&(i+=l),!p&&d&&(i+=d),f&&p&&r.push(f)}}catch(e){o.e(e)}finally{o.f()}return a.points=i,a},x=function(e){var t=y(e.number,e.iban);return c(c({},e),{},{rawNumber:e.number,number:t})},O=["iban","number"],_=function(e,t){return e&&e===t},E=function(e,t){var n,r=s(O);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e[a]){var i=h(a,e,t);if(i&&i.match)return i}}}catch(e){r.e(e)}finally{r.f()}var o=t.find(function(t){return _(e.originalNumber,t.number)||_(e.number,t.originalNumber)});if(o)return{match:o,method:"originalNumber-exact"};var c=t.find(function(t){return(_(e.rawNumber,t.number)||_(e.number,t.rawNumber))&&t.type==e.type&&t.currency==e.currency});if(c)return{match:c,method:"rawNumber-exact-currency-type"};var u=d(t.map(function(t){return k(e,t)}),function(e){return-e.points}).filter(function(e){return e.points>0});if(u.length>0)return{match:u[0].account,method:u[0].methods.join("-")}};e.exports={matchAccounts:function(e,t){var n,r=e.map(x),i=(0,a.default)(t).map(x),o=[],u=s(r);try{for(u.s();!(n=u.n()).done;){var d=n.value,f=E(d,i);if(f){var p=i.indexOf(f.match);i.splice(p,1),l(d,"metadata.disabledAt")&&l(f,"metadata.disabledAt")||o.push(c({account:d},f))}else l(d,"metadata.disabledAt")||o.push({account:d})}}catch(e){u.e(e)}finally{u.f()}return o},normalizeAccountNumber:y,score:k,creditCardMatch:b,approxNumberMatch:g}},38337:function(e){"use strict";e.exports={eitherIncludes:function(e,t){return!!(e&&t&&(e.includes(t)||t.includes(e)))}}},38201:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(22056)),c=a(n(72189)),s=a(n(92207));function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(94394),f=n(33031),p=n(38337).eitherIncludes,h=function(e){return e.date.substr(0,10)},m=s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=u(Object.keys((r=t.map(function(e){return d(e,n)}))[0]).sort()),e.prev=2,o=s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,n=r.map(function(e){return e[t]||[]}),e.next=4,[t,n];case 4:case"end":return e.stop()}},e)}),a.s();case 5:if((i=a.n()).done){e.next=9;break}return e.delegateYield(o(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}),v=function(e,t){var n=RegExp(String.raw(r||(r=(0,c.default)(["","{2,}"])),t),"gi");return e&&e.replace(n,t)},y=/\b[0-9X]+\b/gi,g=/\b\d{2}\/\d{2}\/\d{4}\b/g,b=function(e){return e&&e.replace(y,"")},w=function(e){return e&&e.replace(g,"")},k=function(e){return e&&e.replace(/\s/g,"").replace(/-/g,"")},x=function(e,t){if(v(t.originalBankLabel," ")===v(e.originalBankLabel," "))return[200,"originalBankLabel"];if(k(t.originalBankLabel)===k(e.originalBankLabel))return[120,"originalBankLabelCompacted"];if(w(t.originalBankLabel)===w(e.originalBankLabel))return[150,"originalBankLabelWithoutDate"];if(t.label===e.label)return[100,"label"];if(p(t.label.toLowerCase(),e.label.toLowerCase()))return[70,"eitherIncludes"];else if(p(b(t.label.toLowerCase()),b(e.label.toLowerCase())))return[50,"fuzzy-eitherIncludes"];else return[-1e3,"label-penalty"]},O=function(e,t){var n=new Date(e.date.substr(0,10)),r=new Date(t.date.substr(0,10)),a=Math.abs(r-n);return e.realisationDate?Math.min(a,Math.abs(r-new Date(e.realisationDate.substr(0,10)))):a},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a={op:t,methods:r};if(n.maxDateDelta){if(O(e,t)>n.maxDateDelta)return a.points=-1e3,a;r.push("approx-date")}var i=x(e,t),c=(0,o.default)(i,2),s=c[0],u=c[1];return r.push(u),a.points=(0===Math.abs(t.amount-e.amount)?r.push("amount")&&100:-1e3)+s,a},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.find(function(t){return t.vendorId&&e.vendorId&&t.vendorId===e.vendorId});if(r)return{match:r,method:"vendorId"};var a=f(t.map(function(t){return _(e,t,n)}),function(e){return-e.points}).filter(function(e){return e.points>0});return a.length>0?{match:a[0].op,method:a[0].methods.join("-")}:{candidates:a}},C=s.default.mark(function e(t,n){var r,a,o,c,l,d,f,p,h=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>2&&void 0!==h[2]?h[2]:{},a=Array.isArray(n)?(0,i.default)(n):[],o=u(t),e.prev=3,o.s();case 5:if((c=o.n()).done){e.next=14;break}return d={transaction:l=c.value},(f=a.length>0?E(l,a,r):null)&&(Object.assign(d,f),(p=a.indexOf(f.match))>-1&&a.splice(p,1)),e.next=12,d;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,16,19,22]])});e.exports={matchTransactions:s.default.mark(function e(t,n){var r,a,i,c,l,d,f,p,v,y,g,b,w,k,x,O;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set(t),a=new Set(n),i=u(m([t,n],h)),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=29;break}(l=(0,o.default)(c.value,2))[0],f=u(C((d=(0,o.default)(l[1],2))[0],d[1])),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=19;break}if(!(v=p.value).match){e.next=17;break}return a.delete(v.match),r.delete(v.transaction),e.next=17,v;case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.next=5;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(3),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:g=0,b=y=[3,4,5];case 39:if(!(g<b.length)){e.next=64;break}w=b[g],k=u(C(Array.from(r),Array.from(a),{maxDateDelta:864e5*w})),e.prev=42,k.s();case 44:if((x=k.n()).done){e.next=53;break}if((O=x.value).method&&(O.method+="-delta".concat(w)),O.match&&(a.delete(O.match),r.delete(O.transaction)),!(O.match||w===y[y.length-1])){e.next=51;break}return e.next=51,O;case 51:e.next=44;break;case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(42),k.e(e.t2);case 58:return e.prev=58,k.f(),e.finish(58);case 61:g++,e.next=39;break;case 64:case"end":return e.stop()}},e,null,[[3,31,34,37],[8,21,24,27],[42,55,58,61]])}),scoreMatching:_}},64941:function(e,t,n){"use strict";var r=n(95709)(n(22056));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(40918).namespace("slug-account"),o=Object.entries(n(68585)).map(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return"/"===n[0]&&"/"===n[n.length-1]?[RegExp(n.substr(1,n.length-2),"i"),a]:[n,a]});e.exports={getSlugFromInstitutionLabel:function(e){if(!e)return void i("warn","No institution label, cannot compute slug");var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(n.s();!(t=n.n()).done;){var c=(0,r.default)(t.value,2),s=c[0],u=c[1];if(s instanceof RegExp){if(e.match(s))return u}else if(s.toLowerCase()===e.toLowerCase())return u}}catch(e){n.e(e)}finally{n.f()}i("warn","Could not compute slug for ".concat(e))}}},77593:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(58156),l=n(93359),d=n(56586),f=n(5093),p=function(e){return function(t){return t[e]&&0!==t[e].length?t[e].find(function(e){return e.primary})||t[e][0]:""}},h=function(e){return f("warn","".concat(e," from cozy-doctypes contact is deprecated, use cozy-client/models/contacts/").concat(e," instead"))},m=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"isContact",value:function(e){return e._type===r.doctype}},{key:"getInitials",value:function(e){if(h("getInitials"),"string"==typeof e)return f("warn","Passing a string to Contact.getInitials will be deprecated soon."),e[0].toUpperCase();if(e.name)return["givenName","familyName"].map(function(t){return u(e,["name",t,0],"")}).join("").toUpperCase();var t=r.getPrimaryEmail(e);return t?t[0].toUpperCase():(f("warn","Contact has no name and no email."),"")}},{key:"getPrimaryEmail",value:function(e){return h("getPrimaryEmail"),Array.isArray(e.email)?p("email")(e).address:e.email}},{key:"getPrimaryCozy",value:function(e){return h("getPrimaryCozy"),Array.isArray(e.cozy)?p("cozy")(e).url:e.url}},{key:"getPrimaryPhone",value:function(e){return h("getPrimaryPhone"),p("phone")(e).number}},{key:"getPrimaryAddress",value:function(e){return h("getPrimaryAddress"),p("address")(e).formattedAddress}},{key:"getFullname",value:function(e){return(h("getFullname"),e.fullname)?e.fullname:e.name?["namePrefix","givenName","additionalName","familyName","nameSuffix"].map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():void 0}},{key:"getDisplayName",value:function(e){return h("getDisplayName"),r.getFullname(e)||r.getPrimaryEmail(e)}}]),r}(d),v=l.shape({_id:l.string.isRequired,_type:l.string.isRequired,fullname:l.string,name:l.shape({givenName:l.string,familyName:l.string,additionalName:l.string,namePrefix:l.string,nameSuffix:l.string}),birthday:l.string,note:l.string,email:l.arrayOf(l.shape({address:l.string.isRequired,label:l.string,type:l.string,primary:l.bool})),address:l.arrayOf(l.shape({street:l.string,pobox:l.string,city:l.string,region:l.string,postcode:l.string,country:l.string,type:l.string,primary:l.bool,label:l.string,formattedAddress:l.string})),phone:l.arrayOf(l.shape({number:l.string.isRequired,type:l.string,label:l.string,primary:l.bool})),cozy:l.arrayOf(l.shape({url:l.string.isRequired,label:l.string,primary:l.bool})),company:l.string,jobTitle:l.string,trashed:l.bool,me:l.bool,relationships:l.shape({accounts:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))}),groups:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))})})});m.doctype="io.cozy.contacts",m.propType=v,e.exports=m},3426:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(93359),l=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(56586)),d=u.shape({_id:u.string.isRequired,_type:u.string.isRequired,name:u.string.isRequired,trashed:u.bool});l.doctype="io.cozy.contacts.groups",l.propType=d,e.exports=l},59939:function(e,t,n){"use strict";var r=n(47332),a=n(82721),i=n(56586),o=n(52329),c=n(40851),s=n(50292),u=n(84279),l=n(36788),d=n(72915),f=n(98684),p=n(14336);e.exports={Account:r,AdministrativeProcedure:u,Application:a,Document:i,BalanceHistory:l,BankAccount:d,BankingReconciliator:n(49082),BankTransaction:p,BankAccountStats:f,Contact:n(77593),CozyFile:o,CozyFolder:c,Group:n(3426),registerClient:i.registerClient,Permission:s}},5093:function(e,t,n){"use strict";e.exports=n(40918).namespace("doctypes")},54174:function(e,t,n){"use strict";var r=n(95709)(n(92207));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(61711);e.exports={parallelMap:function(e,t,n){var o=[];return new i(r.default.mark(function n(){var i,c,s;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(e),n.prev=1,i.s();case 3:if((c=i.n()).done){n.next=9;break}return s=c.value,n.next=7,t(s).then(function(e){return o.push(e)});case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i.e(n.t0);case 14:return n.prev=14,i.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])}),n||30).start().then(function(){return o})}}},9369:function(e){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},6196:function(e,t,n){var r=n(84050);e.exports=function(e,t){var n=r(e),a=Number(t);return n.setDate(n.getDate()+a),n}},30486:function(e,t,n){var r=n(84050);e.exports=function(e,t){var n=r(e),a=r(t);return n.getTime()>a.getTime()}},24444:function(e){e.exports=function(e){return e instanceof Date}},84050:function(e,t,n){var r=n(9369),a=n(24444),i=/[T ]/,o=/:/,c=/^(\d{2})$/,s=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,f=/^-?(\d{3})$/,p=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,v=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,w=/^(Z)$/,k=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function O(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}e.exports=function(e,t){if(a(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n,_,E,C=(t||{}).additionalDigits;C=null==C?2:Number(C);var S=function(e){var t,n={},r=e.split(i);if(o.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var a=b.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e),P=function(e,t){var n,r=s[t],a=l[t];if(n=u.exec(e)||a.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=c.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(S.date,C),A=P.year,D=function(e,t){if(null===t)return null;if(0===e.length)return(a=new Date(0)).setUTCFullYear(t),a;if(n=d.exec(e))return a=new Date(0),r=parseInt(n[1],10)-1,a.setUTCFullYear(t,r),a;if(n=f.exec(e)){var n,r,a=new Date(0),i=parseInt(n[1],10);return a.setUTCFullYear(t,0,i),a}if(n=p.exec(e)){a=new Date(0),r=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return a.setUTCFullYear(t,r,o),a}return(n=h.exec(e))?O(t,parseInt(n[1],10)-1):(n=m.exec(e))?O(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(P.restDateString,A);if(!D)return new Date(e);var T,R=D.getTime(),j=0;if(S.time&&(j=function(e){if(t=v.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=y.exec(e))return(n=parseInt(t[1],10))%24*36e5+6e4*(r=parseFloat(t[2].replace(",",".")));if(t=g.exec(e)){var t,n=parseInt(t[1],10),r=parseInt(t[2],10);return n%24*36e5+6e4*r+1e3*parseFloat(t[3].replace(",","."))}return null}(S.time)),S.timezone){T=6e4*(n=S.timezone,(_=w.exec(n))?0:(_=k.exec(n))?(E=60*parseInt(_[2],10),"+"===_[1]?-E:E):(_=x.exec(n))?(E=60*parseInt(_[2],10)+parseInt(_[3],10),"+"===_[1]?-E:E):0)}else{var M=R+j,I=new Date(M);T=r(I);var N=new Date(M);N.setDate(I.getDate()+1);var z=r(N)-r(I);z>0&&(T+=z)}return new Date(R+j+T)}},43027:function(e,t,n){"use strict";var r=n(61748);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},93359:function(e,t,n){e.exports=n(43027)()},61748:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},72376:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=r(n(96540)),l=r(n(3691)),d=r(n(3455)),f=function(e){var t=e.name,n=e.onChange;return u.default.createElement("input",{type:"checkbox",checked:(0,d.default)(t),onChange:function(e){return(0,d.default)(t,JSON.parse(e.target.checked))&&n&&n()}})},p=function(e){var t=e.children,n=e.onClick;return u.default.createElement("button",{type:"button",onClick:n,style:{position:"absolute",top:"100%",left:"0"}},t)},h=(0,l.default)(function(){var e=d.default.list();return u.default.createElement("div",null,e.map(function(e){return u.default.createElement("div",{key:e},e.replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase()})," : ",u.default.createElement(f,{onChange:function(){},name:e}))}))}),m=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(e){var t;return(0,a.default)(this,r),(t=n.call(this,e)).state={folded:!0},t}return(0,i.default)(r,[{key:"render",value:function(){var e,t=this;return(0,d.default)("switcher")&&u.default.createElement("div",{className:"flag-switcher",style:(e=this.state,{borderBottomLeftRadius:".5rem",padding:".5rem",position:"absolute",zIndex:1e3,color:"white",background:"rgba(74,68,90,0.85)",top:0,right:0,transform:"translateY(".concat(e.folded?"-100%":"0",")")})},u.default.createElement(p,{onClick:function(){return t.setState(function(e){return{folded:!e.folded}})}},this.state.folded?"Show":"Hide"," flags"),u.default.createElement("button",{onClick:function(){return t.setState({date:Date.now()})}},"refresh"),"\xa0",u.default.createElement("button",{onClick:function(){return d.default.reset()&&(0,d.default)("switcher",!0)&&t.forceUpdate()}},"reset"),u.default.createElement(h,null))}}]),r}(u.default.Component);t.default=m,m.List=h},3691:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(96540)),f=r(n(3455)).default.store;t.default=function(e){var t,n=function(t){(0,c.default)(p,t);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,u.default)(p);return e=n?Reflect.construct(t,arguments,(0,u.default)(this).constructor):t.apply(this,arguments),(0,s.default)(this,e)});function p(){var e;(0,a.default)(this,p);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,l.default)((0,o.default)(e),"handleChange",function(){e.forceUpdate()}),e}return(0,i.default)(p,[{key:"componentDidMount",value:function(){f.on("change",this.handleChange)}},{key:"componentWillUnmount",value:function(){f.removeListener("change",this.handleChange)}},{key:"render",value:function(){return d.default.createElement(e,this.props)}}]),p}(d.default.Component);return(0,l.default)(n,"displayName",void 0),n.displayName="withFlags(".concat(null!=(t=e.displayName)?t:e.name,")"),n}},3455:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.resetFlags=t.listFlags=t.initializeFromRemote=t.initializeFromDOM=t.initialize=t.getTemplateData=t.enable=t.default=void 0;var c=o(n(92207)),s=o(n(82274)),u=o(n(65044)),l=o(n(79092)),d=o(n(22056)),f=n(11071);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=new(o(n(17588))).default,m=function(e,t){return 1==arguments.length?h.get(e):(h.set(e,t),t)},v=function(){return h.keys().sort()};t.listFlags=v;var y=function(){v().forEach(function(e){return h.remove(e)})};t.resetFlags=y;var g=function(e){if(Array.isArray(e)){if(0===e.length)return;console.log("flags.enable: Deprecation warning: prefer to use an object { flag1: true, flag2: true } instead of an array when using flags.enable"),t=e.map(function(e){return[e,!0]})}else"object"==typeof e&&(t=Object.entries(e));if(t){var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;){var a=(0,d.default)(n.value,2),i=a[0],o=a[1];m(i,o)}}catch(e){r.e(e)}finally{r.f()}}};t.enable=g;var b=(r=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,f.Q)("io.cozy.settings").getById("io.cozy.settings.flags"));case 2:g(e.sent.data.attributes);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});t.initializeFromRemote=b;var w=function(e){if("undefined"==typeof document)return null;var t=document.querySelector("[data-cozy]"),n=document.querySelector("[data-cozy-".concat(e,"]"));try{if(t)return JSON.parse(t.dataset.cozy)[e];if(!n)return null;return console.warn('Prefer to use [data-cozy] to store template data. <div data-cozy="{{.CozyData}}></div>. "'),JSON.parse(n.dataset["cozy".concat(e[0].toUpperCase()+e.slice(1))])}catch(e){return null}};t.getTemplateData=w;var k=(a=(0,l.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w("flags")){e.next=3;break}return e.abrupt("return",!1);case 3:return g(t),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)});t.initializeFromDOM=k;var x=(i=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(!1!=e.sent){e.next=6;break}return e.next=6,b(t);case 6:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)});t.initialize=x;var O=function(){var e,t,n;function r(e){(0,s.default)(this,r),this.client=e,this.handleLogin=this.handleLogin.bind(this),this.handleLogout=this.handleLogout.bind(this),this.client.on("login",this.handleLogin),this.client.on("logout",this.handleLogout),this.setupInitializing(),e.isLogged&&this.handleLogin()}return(0,u.default)(r,[{key:"refresh",value:(e=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.initializeFromRemote(this.client);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"setupInitializing",value:function(){var e=this;this.initializing=new Promise(function(t){e.resolveInitializing=t})}},{key:"handleLogin",value:(t=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.initialize(this.client);case 2:this.resolveInitializing(),this.client.emit("plugin:flag:login");case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"handleLogout",value:(n=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.reset(),this.setupInitializing(),this.client.emit("plugin:flag:logout");case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),r}();O.pluginName="flags",m.store=h,m.list=v,m.reset=y,m.enable=g,m.initializeFromRemote=b,m.initializeFromDOM=k,m.initialize=x,m.plugin=O,t.default=m},94619:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(72376)),i=r(n(3691)),o=r(n(3455)),c=r(n(19968));o.default.connect=i.default,o.default.FlagSwitcher=a.default,o.default.useFlag=c.default,"undefined"!=typeof __ENABLED_FLAGS__&&o.default.enable(__ENABLED_FLAGS__),t.default=o.default},25814:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.prefix=t.getKey=t.default=void 0;var a="flag__";t.prefix=a;var i=function(e){return a+e};t.getKey=i;var o=function(){return Object.keys(localStorage).filter(function(e){return 0===e.indexOf(a)}).map(function(e){return e.replace(a,"")})},c=function(e){var t=localStorage.getItem(i(e));return t?JSON.parse(t):t},s=function(e){return localStorage.removeItem(i(e))};t.default={getAll:function(){var e,t={},r=n(o());try{for(r.s();!(e=r.n()).done;){var a=e.value;t[a]=c(a)}}catch(e){r.e(e)}finally{r.f()}return t},getItem:c,setItem:function(e,t){var n=JSON.stringify(t);return localStorage.setItem(i(e),n)},clearAll:function(){var e,t=n(o());try{for(t.s();!(e=t.n()).done;){var r=e.value;s(r)}}catch(e){t.e(e)}finally{t.f()}},removeItem:s}},17588:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(82274)),o=r(n(65044)),c=r(n(56173)),s=r(n(25814)),u=function(){function e(){(0,i.default)(this,e),this.store={},"undefined"!=typeof localStorage&&(this.longtermStore=s.default),this.restore()}return(0,o.default)(e,[{key:"restore",value:function(){if(this.longtermStore)for(var e=this.longtermStore.getAll(),t=0,n=Object.entries(e);t<n.length;t++){var r=(0,a.default)(n[t],2),i=r[0],o=r[1];this.store[i]=o,this.emit("change",i)}}},{key:"keys",value:function(){return Object.keys(this.store)}},{key:"get",value:function(e){if(this.store.hasOwnProperty(e))return this.store[e];if("string"==typeof e)for(var t=e.split("."),n=t.length,r=n-1;r>0;r--){var a=t.slice(0,r).join(".");if(this.store.hasOwnProperty(a))return t.slice(r,n).reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:null},this.store[a])}return null}},{key:"set",value:function(e,t){this.longtermStore&&this.longtermStore.setItem(e,t),this.store[e]=t,this.emit("change",e)}},{key:"remove",value:function(e){delete this.store[e],this.longtermStore&&this.longtermStore.removeItem(e),this.emit("change",e)}}]),e}();c.default.mixin(u),t.default=u},19968:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.useState)((0,o.default)(e)),n=(0,a.default)(t,2),r=n[0],c=n[1];return(0,i.useEffect)(function(){var t=function(t){t===e&&c((0,o.default)(e))};return o.default.store.on("change",t),function(){o.default.store.removeListener("change",t)}},[c,e]),r};var a=r(n(22056)),i=n(96540),o=r(n(3455))},2811:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=function(e,t){if(!e)throw Error(t)}},89738:function(e,t,n){"use strict";n.d(t,{I9:()=>o,QT:()=>c,Sx:()=>s,UJ:()=>a,kn:()=>i});var r=n(94619);function a(e){var t=(0,r.default)("harvest.accounts.maxByKonnector.".concat(e));if(null!==t)return -1===t?1/0:t;var n=(0,r.default)("harvest.accounts.maxByKonnector.default");return null!==n?-1===n?1/0:n:1/0}function i(e,t){var n=a(e);return!!isFinite(n)&&!!(t>=n)}function o(){var e=(0,r.default)("harvest.accounts.max");return null!==e?-1===e?1/0:e:1/0}function c(e){var t=((0,r.default)("harvest.accounts.offers.list")||[]).filter(function(e){return"*"===e.slug}).reduce(function(e,t){var n=new Date,r=new Date(t.startsAt),a=t.endsAt?new Date(t.endsAt):new Date;return n>=r&&n<=a?e+t.credit:e},0),n=o();return!!isFinite(n)&&!!(e>=n+t)}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=((0,r.default)("harvest.accounts.offers.list")||[]).filter(function(t){return t.slug===e});if(0===n.length)return 0;var a=t.sort(function(e,t){return new Date(e.cozyMetadata.createdAt).getTime()-new Date(t.cozyMetadata.createdAt).getTime()});return n.reduce(function(e,t){var n=new Date(t.startsAt).getTime(),r=t.endsAt?new Date(t.endsAt).getTime():void 0;if(void 0!==r&&r<Date.now()||n>Date.now())return e;var i=t.credit||0;return a=a.filter(function(e){var t=new Date(e.cozyMetadata.createdAt).getTime();return!(i>0)||!(t>=n)||!!r&&!(r>=t)||(i-=1,!1)}),e+i},0)}},99533:function(e,t,n){"use strict";n.d(t,{BR:()=>p,FK:()=>f});var r=n(21259),a=n.n(r),i=n(22056),o=n.n(i),c=n(96540),s=n(36040),u=n(48313),l=(0,c.createContext)(),d=0,f=function(){var e=(0,c.useContext)(l);if(!e)throw Error("Cannot use useCozyConfirmDialog without CozyConfirmDialogProvider. The component must a CozyConfirmDialogProvider above it.");return e},p=c.memo(function(e){var t=(0,c.useState)([]),n=o()(t,2),r=n[0],i=n[1],f=e.children,p=function(e){r.find(function(t){return t.id===e}).callback(),i(function(t){return t.filter(function(t){return t.id!==e})})};return c.createElement(l.Provider,{value:{showDialog:function(e){var t=e.title,n=e.closeLabel,r=e.description;return new Promise(function(e){i(function(i){return[].concat(a()(i),[{id:d++,title:t,closeLabel:n,description:r,callback:e}])})})}}},r&&r.map(function(e){return c.createElement(u.A,{open:!0,key:e.id,title:e.title,content:e.description,actions:c.createElement(s.default,{label:e.closeLabel,"aria-label":"Close dialog",onClick:function(){return p(e.id)}}),onClose:function(){return p(e.id)}})}),f)});p.displayName="CozyConfirmDialogProvider"},6228:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>eo});var r,a,i,o,c,s=n(16193),u=n.n(s),l=n(79092),d=n.n(l),f=n(22056),p=n.n(f),h=n(92207),m=n.n(h),v=n(53978),y=n.n(v),g=n(58156),b=n.n(g),w=n(5556),k=n.n(w),x=n(96540),O=n(76819),_=n(42895),E=n(82092),C=n(90774),S=n(95674),P=n(83393),A=n(70879),D=n(27282),T=n(72637),R=n(38143),j=n(39968),M=n(39274),I=n(62162),N=n(77525),z=n(48011),F=n(87952),L=n(26396),B=n.n(L),U=n(83741),V=n(22902),H=n(21696),q=n(26456),W=n(96899),G=n(80231),Z=n(2109);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){B()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y=function(e){var t=e.client,n=e.konnector,r=e.universalLink,a=e.iconStatus,i=e.message,o=(0,H.generateUniversalLink)({cozyUrl:t.getStackClient().uri,slug:r.slug,subDomainType:t.getInstanceOptions().cozySubdomainType,nativePath:r.nativePath});return{name:n.name,link:o,vendorLink:n.vendor_link&&{component:"a",href:n.vendor_link,target:"_blank"},iconStatus:a,message:i}},J=(r=d()(m().mark(function e(t,n){var r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.query(n.definition,n.options);case 3:return r=t.getQueryFromState(n.options.as).data,e.abrupt("return",r[0]);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t){return r.apply(this,arguments)}),$=(a=d()(m().mark(function e(t,n){var r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea.fetchKonnector(t,(0,W.g0)(n));case 2:return r=e.sent,e.abrupt("return",b()(r,"maintenance_activated",!1));case 4:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),X=function(e){var t=e.t,n=e.slug,r=e.error,a=e.consoleMessage;return Z.A.error("konnectorBlock : ".concat(a)),Z.A.error(r),U.ZQ({category:"konnector",message:"Slug: ".concat(n),level:"info"}),{fatalError:t("konnectorBlock.fatalError",{name:"support@cozycloud.cc",link:"mailto:support@cozycloud.cc"})}},ee={noAccountConnected:function(e){var t=e.client,n=e.konnector,r=e.slug,a=e.t;return Y({client:t,konnector:n.attributes,universalLink:{slug:"home",nativePath:"connected/".concat(r,"/new")},iconStatus:"disabled",message:{text:a("konnectorBlock.disconnected")}})},inMaintenance:function(e){var t=e.client,n=e.konnector,r=e.slug,a=e.t;return Y({client:t,konnector:n.attributes,universalLink:{slug:"home",nativePath:"connected/".concat(r)},iconStatus:"disabled",message:{text:a("konnectorBlock.inMaintenance")}})},inError:function(e){var t=e.client,n=e.konnector,r=e.slug,a=e.t,i=e.error,o=i.isActionable||(0,q.sn)(n)?"error":"textSecondary";return Y({client:t,konnector:n.attributes,universalLink:{slug:"home",nativePath:"connected/".concat(r)},iconStatus:"disabled",message:{text:(0,q.rx)(i,n,a,"title"),color:o}})},hasNewVersionAvailable:function(e){var t=e.client,n=e.konnector,r=e.slug,a=e.t;return Y({client:t,konnector:n.attributes,universalLink:{slug:"home",nativePath:"connected/".concat(r)},message:{text:a("konnectorBlock.hasNewVersionAvailable"),color:"primary"}})},default:function(e){var t=e.client,n=e.konnector,r=e.slug,a=e.sourceAccount;return Y({client:t,konnector:n.attributes,universalLink:{slug:"home",nativePath:"connected/".concat(r,"/accounts/").concat(a)}})},stackNotFound:function(e){var t=e.client,n=e.konnector,r=e.slug;return Y({client:t,konnector:n.attributes,universalLink:{slug:"store",nativePath:"discover/".concat(r)},iconStatus:"disabled"})},stackErrorOtherThan404:function(e){return X({t:e.t,slug:e.slug,error:e.error,consoleMessage:"This is a stack error other than 404"})},registryError:function(e){return X({t:e.t,slug:e.slug,error:e.error,consoleMessage:"This is a registry error"})}},et=(i=d()(m().mark(function e(t){var n,r,a,i,o,c,s,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,a=t.slug,i=t.sourceAccountIdentifier,o=(0,W.Yk)({sourceAccountIdentifier:i,slug:a}),e.next=4,J(n,o);case 4:return c=e.sent,s=(0,W.mX)(c._id,r),e.next=8,J(n,s);case 8:return u=e.sent,e.next=11,(0,G.Pn)(n,u._id);case 11:return l=e.sent,e.abrupt("return",{account:c,trigger:l});case 13:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),en=(o=d()(m().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.slug,a=t.sourceAccountIdentifier,e.prev=1,e.next=4,ea.fetchKonnector(n,(0,W.gL)(r));case 4:return i=e.sent,e.next=7,ea.fetchAccountAndTrigger({client:n,konnector:i,slug:r,sourceAccountIdentifier:a});case 7:if(c=(o=e.sent).account,s=o.trigger,l=(u=ea.isAccountConnected(c)).accountConnected,d=u.sourceAccount,l){e.next=13;break}return e.abrupt("return",{konnector:i,trigger:s,status:"noAccountConnected"});case 13:return e.next=15,ea.isInMaintenance(n,r);case 15:if(!e.sent){e.next=18;break}return e.abrupt("return",{konnector:i,trigger:s,status:"inMaintenance"});case 18:return e.next=20,ea.isInError(s);case 20:if(!(f=e.sent.error)){e.next=24;break}return e.abrupt("return",{konnector:i,trigger:s,status:"inError",error:f});case 24:if(!(0,q.sn)(i)){e.next=26;break}return e.abrupt("return",{konnector:i,trigger:s,status:"hasNewVersionAvailable"});case 26:return e.abrupt("return",{konnector:i,trigger:s,status:"default",sourceAccount:d});case 29:if(e.prev=29,e.t0=e.catch(1),404!==e.t0.status){e.next=42;break}return e.prev=32,e.next=35,ea.fetchKonnector(n,(0,W.g0)(r));case 35:return p=e.sent,e.abrupt("return",{konnector:p,status:"stackNotFound"});case 39:return e.prev=39,e.t1=e.catch(32),e.abrupt("return",{status:"registryError",error:e.t1});case 42:return e.abrupt("return",{status:"stackErrorOtherThan404",error:e.t0});case 43:case"end":return e.stop()}},e,null,[[1,29],[32,39]])})),function(e){return o.apply(this,arguments)}),er=(c=d()(m().mark(function e(t){var n,r,a,i,o,c,s,u,l,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.t,a=t.slug,i=t.sourceAccountIdentifier,e.next=3,en({client:n,slug:a,sourceAccountIdentifier:i});case 3:return c=(o=e.sent).konnector,s=o.trigger,u=o.status,l=o.error,d=o.sourceAccount,e.abrupt("return",Q(Q({},ee[u]({client:n,konnector:c,slug:a,t:r,sourceAccount:d,error:l})),{},{trigger:s}));case 10:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),ea={fetchKonnector:function(e,t){return J(e,t)},fetchAccountAndTrigger:et,isAccountConnected:function(e){return{accountConnected:!!e,sourceAccount:e._id}},isInError:function(e){return"errored"!==b()(e,"current_state.status")?{error:null}:{error:{message:b()(e,"current_state.last_error"),isActionable:V.triggers.hasActionableError(e)}}},isInMaintenance:$},ei=function(e){var t=e.file,n=(0,x.useState)(),r=p()(n,2),a=r[0],i=r[1],o=(0,_.useClient)(),c=(0,O.useI18n)().t,s=b()(t,"cozyMetadata.createdByApp"),l=b()(t,"cozyMetadata.sourceAccountIdentifier"),f=(0,_.generateWebLink)({slug:"store",cozyUrl:o.getStackClient().uri,subDomainType:o.getInstanceOptions().subdomain,pathname:"/",hash:"/discover/".concat(s)});if((0,x.useEffect)(function(){var e;(e=d()(m().mark(function e(t){var n,r,a,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.t,a=t.slug,o=t.sourceAccountIdentifier,e.next=3,er({client:n,t:r,slug:a,sourceAccountIdentifier:o});case 3:i(e.sent);case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})({client:o,t:c,slug:s,sourceAccountIdentifier:l})},[o,c,s,l]),!a)return x.createElement("div",{"data-testid":"KonnectorBlock-spinner"},x.createElement(j.default,{className:"u-flex u-flex-justify-center u-p-2",size:"large"}));var h=a.name,v=a.link,g=a.vendorLink,w=a.iconStatus,k=a.message,F=a.trigger,L=a.fatalError;if(L)return x.createElement(M.default,{className:"u-pv-1-half u-ph-2",variant:"body1"},x.createElement(N.A,{source:L}));var B=(0,z.B)({t:c,konnector:a,trigger:F,isRunning:"running"===F.current_state.status});return x.createElement(x.Fragment,null,x.createElement(D.default,{size:"large",button:!0,divider:!0,component:"a",href:v,target:"_blank"},x.createElement(T.default,null,x.createElement(I.default,{app:s,type:"konnector",priority:"registry",className:y()({"u-filter-gray-100 u-o-50":"disabled"===w})})),x.createElement(R.default,{primary:h,primaryTypographyProps:{variant:"h6"},secondary:b()(k,"text",B),secondaryTypographyProps:b()(k,"color")&&{color:k.color}}),x.createElement(T.default,null,x.createElement(C.default,{icon:P.default}))),x.createElement(A.default,null,x.createElement(D.default,{button:!0,component:"a",href:f,target:"_blank"},x.createElement(T.default,null,x.createElement(I.default,{app:"store",className:"u-w-1 u-h-1"})),x.createElement(R.default,{primary:c("konnectorBlock.store.primary"),secondary:c("konnectorBlock.store.secondary")})),x.createElement(E.default,{component:"li",variant:"inset"}),x.createElement(D.default,u()({button:!0},g),x.createElement(T.default,null,x.createElement(C.default,{icon:S.default})),x.createElement(R.default,{primary:c("konnectorBlock.open"),secondary:b()(g,"href")}))))};ei.propTypes={file:k().object.isRequired};let eo=(0,F.A)(ei)},16598:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(58156),a=n.n(r);let i={drive:function(e){var t=e.trigger;return{slug:"drive",path:"#/files/".concat(a()(t,"message.folder_to_save")),icon:"file",iconColor:"puertoRico"}},banks:function(){return{slug:"banks",icon:"bank",iconColor:"weirdGreen"}},contacts:function(){return{slug:"contacts",icon:"team",iconColor:"brightSun"}},coachco2:function(){return{slug:"coachco2",iconColor:"brightSun"}}}},77525:function(e,t,n){"use strict";n.d(t,{A:()=>p});var r=n(39892),a=n.n(r),i=n(16193),o=n.n(i),c=n(96540),s=n(75331),u=n.n(s),l=n(29411),d=["source","linkProps"],f=function(e){var t=e.linkProps;return{paragraph:function(e){return c.createElement("span",{className:"u-db u-mv-0"},e.children)},link:function(e){return c.createElement(l.default,o()({href:e.href,rel:"noreferrer",target:"_blank"},t),e.children)}}};let p=function(e){var t=e.source,n=e.linkProps,r=a()(e,d);return c.createElement(u(),o()({},r,{source:t,linkTarget:"_blank",renderers:f({linkProps:n})}))}},98504:function(e,t,n){"use strict";n.d(t,{C:()=>i,N:()=>o});var r=n(96540),a=(0,r.createContext)(),i=function(e){var t=e.children,n=e.intentData,i=e.intentId;return r.createElement(a.Provider,{value:{intentData:n,intentId:i}},t)},o=function(){var e=r.useContext(a);if(!e)throw Error("useIntentProviderData must be used within a IntentProvider");return e}},34955:function(e,t,n){"use strict";n.d(t,{A:()=>_,O:()=>x});var r=n(16193),a=n.n(r),i=n(5556),o=n.n(i),c=n(96540),s=n(76819),u=n(42895),l=n(36040),d=n(98661),f=n(88991),p=n(90774),h=n(95037),m=n(39274),v=n(84805),y=n(24242),g=n(62162),b=n(21696),w=n(98504),k=n(6912),x=function(e){var t=e.slug,n=e.path,r=(0,s.useI18n)().t,i=(0,y.default)().isMobile,o=(0,u.useClient)(),d=new URL(o.getStackClient().uri),f=(0,k.A)(t,o,n),h=f.fetchStatus,m=f.url,v=f.isInstalled,x=(0,w.N)().intentId;return c.createElement(b.default,{app:{slug:t},nativePath:n,href:m||"#"},function(e){var n=e.onClick,o=e.href;return c.createElement(l.default,a()({disabled:"loaded"!==h,onClick:"loaded"===h?n:null,href:o,component:"a"},x?{target:"_blank"}:{},{startIcon:v?c.createElement(g.default,{app:t,domain:d.host,secure:"https:"===d.protocol,className:"u-w-1 u-h-1 u-mr-half"}):c.createElement(p.default,{icon:"openwith"}),variant:"secondary",label:r("card.appLink.".concat(t,".").concat(v?"button":"install")),className:i?"u-w-100":null}))})},O=function(e){var t=e.slug,n=e.path,r=e.icon,a=e.iconColor,i=(0,s.useI18n)().t;return c.createElement(d.A,null,c.createElement(h.default,null,c.createElement(m.default,{variant:"h6",gutterBottom:!0},r?c.createElement(f.A,{size:"small",backgroundColor:v.A[a],className:"u-mr-half"},c.createElement(p.default,{icon:r,color:v.A.white})):null,i("card.appLink.".concat(t,".title"))),c.createElement(m.default,{variant:"body1"},i("card.appLink.".concat(t,".description"))),c.createElement(x,{path:n,slug:t})))};O.propTypes={slug:o().string.isRequired,path:o().string,icon:o().string.isRequired,iconColor:o().string},O.defaultProps={path:"/",iconColor:"primaryColor"};let _=O},48011:function(e,t,n){"use strict";n.d(t,{B:()=>o});var r=n(76819),a=n(26456),i=n(17810),o=function(e){var t=e.t,n=e.konnector,o=e.trigger,c=e.isRunning,s=(0,i.uH)(o);return c?t("card.launchTrigger.lastSync.syncing"):s?Date.now()-new Date(s).getTime()<3e5?t("card.launchTrigger.lastSync.justNow"):t("card.launchTrigger.lastSync.afterSomeTimes",{times:(0,r.formatLocallyDistanceToNow)(s)}):t((0,a.qf)(n,o)?"card.launchTrigger.lastSync.disconnected":"card.launchTrigger.lastSync.unknown")}},87952:function(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(76819);r.default.childContextTypes;let a=(0,r.withLocales)(function(e){return n(5979)("./".concat(e,".json"))})},6912:function(e,t,n){"use strict";n.d(t,{A:()=>f});var r=n(79092),a=n.n(r),i=n(22056),o=n.n(i),c=n(92207),s=n.n(c),u=n(96540),l=n(42895),d=l.models.applications;let f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,u.useState)("loading"),i=o()(r,2),c=i[0],f=i[1],p=(0,u.useState)(!0),h=o()(p,2),m=h[0],v=h[1],y=(0,u.useState)(),g=o()(y,2),b=g[0],w=g[1];return(0,u.useEffect)(function(){var r;(r=a()(s().mark(function r(){var a,i,o;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.query((0,l.Q)("io.cozy.apps"));case 3:a=r.sent,i={slug:e},v(!!(o=d.isInstalled(a.data,i))),o?w(d.getUrl(o)+n):w(d.getStoreURL(a.data,i)),f("loaded"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),f("errored");case 14:case"end":return r.stop()}},r,null,[[0,11]])})),function(){return r.apply(this,arguments)})()},[t,e,n]),{fetchStatus:c,isInstalled:m,url:b}}},27583:function(e,t,n){"use strict";n.d(t,{$4:()=>I,Gn:()=>z,So:()=>A,li:()=>L,lw:()=>N,mb:()=>R,z0:()=>M});var r,a,i,o,c,s,u,l,d=n(26396),f=n.n(d),p=n(79092),h=n.n(p),m=n(92207),v=n.n(m),y=n(88055),g=n.n(y),b=n(38970),w=n.n(b),k=n(55364),x=n.n(k),O=n(42895),_=n(22902),E=n(2811),C=n(2109);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A="io.cozy.accounts",D=(r=h()(v().mark(function e(t,n,r){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.aggregator){e.next=6;break}return e.next=3,j(t,n,r);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,t.create(A,r);case 8:e.t0=e.sent;case 9:return a=e.t0.data,e.abrupt("return",a);case 12:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)}),T=function(e){if(!e)throw Error("createAccountQuerySpec called with undefined accountId");return{query:(0,O.Q)(A).getById(e),as:"io.cozy.accounts/".concat(e)}},R=(a=h()(v().mark(function e(t,n){var r,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=T(n),e.next=4,t.query(r.query,r);case 4:return a=e.sent.data,e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(0),404!==e.t0.status){e.next=13;break}return e.abrupt("return",null);case 13:throw e.t0;case 14:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return a.apply(this,arguments)}),j=(i=h()(v().mark(function e(t,n,r){var a,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(a=n.aggregator)||!a.accountId)){e.next=3;break}throw Error("Konnector does not provide aggregator account id");case 3:return i=a.accountId,e.prev=4,e.next=7,R(t,i);case 7:o=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),Error("An error occurred when finding parent account ".concat(i," (").concat(e.t0.message,")"));case 13:if(o){e.next=23;break}return e.prev=14,e.next=17,t.create(A,{_id:i});case 17:o=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),Error("Cannot create parent account ".concat(i," (").concat(e.t1.message,")"));case 23:return e.prev=23,e.next=26,t.collection("io.cozy.permissions").add(n,{aggregatorAccount:{type:A,verbs:["GET","PUT"],values:["".concat(A,".").concat(i)]}});case 26:e.next=32;break;case 28:throw e.prev=28,e.t2=e.catch(23),C.A.warn(e.t2),Error("Cannot set permission for account ".concat(i," (").concat(e.t2.message,")"));case 32:return e.next=34,t.create(A,P(P({},r),{},{relationships:{parent:{data:{_id:i,_type:A}}}}));case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}},e,null,[[4,10],[14,20],[23,28]])})),function(e,t,n){return i.apply(this,arguments)}),M=(o=h()(v().mark(function e(t,n){var r,a,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.save(n);case 3:return r=e.sent.data,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),409!==e.t0.status){e.next=22;break}return e.next=13,R(t,n._id);case 13:return a=e.sent,delete n._rev,e.next=17,t.save(x()(a,n));case 17:return i=e.sent.data,e.abrupt("return",i);case 22:throw e.t0;case 23:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t){return o.apply(this,arguments)}),I=function(e,t,n){(0,E.A)(e&&t&&n,"Must pass both client, konnector and account to saveAccount");var r=O.models.account.getAccountLogin(n),a=g()(n);return r&&(a.cozyMetadata=P(P({},n.cozyMetadata),{},{sourceAccountIdentifier:r})),n._id?M(e,a):D(e,t,a)},N=(c=h()(v().mark(function e(t,n){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.destroy(n);case 3:case 13:e.next=16;break;case 5:if(e.prev=5,e.t0=e.catch(0),409!==e.t0.status){e.next=15;break}return e.next=10,R(t,n._id);case 10:return r=e.sent,e.next=13,t.destroy(r);case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[0,5]])})),function(e,t){return c.apply(this,arguments)}),z=(s=h()(v().mark(function e(t,n){var r,a,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(r=w()(n,_.triggers.getAccountId)),e.next=4,t.query((0,O.Q)("io.cozy.accounts").getByIds(a));case 4:return i=e.sent.data,e.abrupt("return",i.filter(Boolean).map(function(e){return{account:e,trigger:r[e._id]}}));case 7:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)}),F=(u=h()(v().mark(function e(t,n){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return _.triggers.getAccountId(e)}).filter(function(e){return!!e}),e.next=3,t.query((0,O.Q)(A).where({_id:{$nin:r}}));case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)}),L=(l=h()(v().mark(function e(t,n){var r,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryAll((0,O.Q)("io.cozy.triggers").where({_id:{$gt:null}}).partialIndex({worker:{$in:["konnector","client"]}}).indexFields(["_id"]));case 2:return r=e.sent,e.next=5,F(t,r);case 5:return a=e.sent,e.abrupt("return",a.find(function(e){return e.account_type===n.slug}));case 7:case"end":return e.stop()}},e)})),function(e,t){return l.apply(this,arguments)})},80231:function(e,t,n){"use strict";n.d(t,{Rq:()=>F,q$:()=>N,Pn:()=>I,$S:()=>z});var r,a,i,o,c,s=n(79092),u=n.n(s),l=n(92207),d=n.n(l),f=n(93841),p=n(22902),h=n(27583),m=n(83823),v=n(22056),y=n.n(v),g=n(26396),b=n.n(g),w=n(98023),k=n.n(w),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return Math.random()*(t-e)+e};if(!k()(e))throw Error("Parameter start must be a number");if(!k()(t))throw Error("Parameter end must be a number");if("function"!=typeof n)throw Error("Parameter randomize must be a function");if(e<0||t>24)throw Error("interval must be inside [0, 24]");var r=n(e,t),a=Math.floor(r),i=Math.floor((r-a)*60);if(a<0||a>23)throw Error("randomize function returns invalid hour value");return{hours:a,minutes:i}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){b()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E="daily",C="hourly",S="monthly",P="weekly",A=[E,C,S,P],D=[0,5],T={fromFrequency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=A.includes(e)?e:P,r=t.dayOfMonth,a=t.dayOfWeek,i=t.hours,o=void 0===i?0:i,c=t.minutes,s=void 0===c?0:c;switch(n){case E:return"0 ".concat(s," ").concat(o," * * *");case C:return"0 ".concat(s," * * * *");case S:return"0 ".concat(s," ").concat(o," ").concat(void 0===r?1:r," * *");default:return"0 ".concat(s," ").concat(o," * * ").concat(void 0===a?1:a)}},fromKonnector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return T.fromFrequency(e.frequency,_(_({},n.apply(null,e.time_interval||D)),{},{dayOfWeek:t.getDay(),dayOfMonth:t.getDate()}))},toFrequency:function(e){var t=function(e){return"*"!==e},n=e.split(" "),r=y()(n,6),a=r[1],i=r[2],o=r[3];return t(r[5])?P:t(o)?S:t(i)?E:t(a)?C:null}},R=n(26456),j="io.cozy.triggers",M=(r=u()(d().mark(function e(t,n){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(j).create(n);case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),I=(a=u()(d().mark(function e(t,n){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(j).get(n);case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),N=(i=u()(d().mark(function e(t,n){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(j).launch(n);case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)}),z=(o=u()(d().mark(function e(t,n){var r,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.triggers.getAccountId(n)){e.next=3;break}throw Error("No account id in the trigger");case 3:return e.next=5,(0,h.mb)(t,r);case 5:if(a=e.sent){e.next=8;break}throw Error("Could not find account ".concat(r," for trigger ").concat(n._id));case 8:return e.abrupt("return",(0,h.z0)(t,m.$V(a)));case 9:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)}),F=(c=u()(d().mark(function e(t,n){var r,a,i,o,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.trigger,a=n.account,i=n.konnector,o=n.t,!r){e.next=3;break}return e.abrupt("return",r);case 3:if(!R.qP(i)){e.next=7;break}return e.next=6,(0,f.ensureKonnectorFolder)(t,{konnector:i,account:a,t:o});case 6:c=e.sent;case 7:return e.next=9,M(t,p.triggers.buildTriggerAttributes({account:a,cron:T.fromKonnector(i),folder:c,konnector:i}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})},72721:function(e,t,n){"use strict";n.d(t,{A:()=>e$});var r=n(26396),a=n.n(r),i=n(58156),o=n.n(i),c=n(94619),s=n(5556),u=n.n(s),l=n(96540),d=n(84028),f=n.n(d),p=n(42895),h=n.n(p),m=n(36040),v=n(98661),y=n(82092),g=n(39274),b=n(2109),w=function(e){var t,n=e.sourceAccountIdentifier,r=e.konnector,a=e.doctype,i=(0,p.useQuery)((0,p.Q)(a).where({cozyMetadata:{createdByApp:r.slug,sourceAccountIdentifier:n}}).indexFields(["cozyMetadata.createdByApp","cozyMetadata.sourceAccountIdentifier","cozyMetadata.updatedAt"]).sortBy([{"cozyMetadata.createdByApp":"desc"},{"cozyMetadata.sourceAccountIdentifier":"desc"},{"cozyMetadata.updatedAt":"desc"}]).limitBy(30),{as:"".concat(a,"/createdByApp/").concat(r.slug,"/sourceAccountIdentifier/").concat(n),fetchPolicy:h().fetchPolicies.olderThan(3e4)}),o=(0,p.hasQueryBeenLoaded)(i),c="failed"===i.fetchStatus;c&&b.A.error("DoctypeDebugCard ".concat(a," : failed to fetch"));var s=null==(t=navigator.clipboard)?void 0:t.writeText;return!c&&o?l.createElement(v.A,null,l.createElement(p.RealTimeQueries,{doctype:a}),l.createElement(g.default,{variant:"button"},a),s?l.createElement(m.default,{label:"copy",variant:"text",size:"small",onClick:function(){return navigator.clipboard.writeText(JSON.stringify(i.data,null,2)).catch(function(e){return b.A.error("Could not copy json object to clipboard: ".concat(e.message))})}}):null,l.createElement(y.default,{className:"u-ml-0 u-maw-100 u-mb-half"}),l.createElement(f(),{dataObject:i.data})):null};w.propTypes={sourceAccountIdentifier:u().string,konnector:u().object,doctype:u().string};var k=n(22056),x=n.n(k);n(70030);var O=n(38970),_=n.n(O),E=n(47767),C=n(76819),S=n(88991),P=n(90774),A=n(6173),D=n(70879),T=n(27282),R=n(72637),j=n(38143),M=n(55540),I=n(60076),N=n(42837),z=n(84805),F=n(57611),L=n(14196),B=n(13612),U=n(36572),V=n(4799),H=n(82150),q=n(21452),W=n(82706),G=n(946),Z=n(29650),K={audio:F.default,bin:L.default,code:B.default,image:U.default,pdf:V.default,slide:q.default,sheet:H.default,text:W.default,video:G.default,zip:Z.default},Q={word:"text",text:"text",zip:"zip",pdf:"pdf",spreadsheet:"sheet",excel:"sheet",sheet:"sheet",presentation:"slide",powerpoint:"slide"},Y=n(86621),J=n(16598),$=n(34955),X=function(e){var t=e.divider;return l.createElement(T.default,{divider:t},l.createElement(R.default,null,l.createElement(M.default,{variant:"circle"})),l.createElement(j.default,{primary:l.createElement(M.default,{height:30.5})}))},ee=function(e){var t=e.divider,n=e.file,r=e.onClick,a=e.style,i=(0,C.useI18n)(),c=i.t,s=i.f;return l.createElement(T.default,{style:a,button:!0,key:n._id,divider:t,onClick:r},l.createElement(R.default,null,l.createElement(P.default,{icon:K[Q[n.class]||Q.text],width:"32",height:"32"})),l.createElement(j.default,{primary:n.name,classes:{primary:"u-ellipsis"},secondary:l.createElement(g.default,{variant:"caption"},c("datacards.files.imported",{date:s(o()(n,"cozyMetadata.createdAt"),"dd/LL/yyyy")}))}))},et=function(e){var t=e.children;return l.createElement(I.default,{direction:"left",in:!0},l.createElement("div",null,t))},en=function(e){var t=e.files,n=e.loading,r=e.konnector,a=e.trigger,i=e.accountId,c=(0,C.useI18n)().t,s=(0,E.Zp)(),u=(0,l.useState)(function(){return _()(t,function(e){return e._id})}),d=x()(u,1)[0];return l.createElement(v.A,{className:"u-ph-0 u-pb-0 u-ov-hidden"},l.createElement("div",{className:"u-ph-1 u-mb-half"},l.createElement(N.$,{align:"top"},l.createElement(N.E,null,l.createElement(S.A,{size:"small",backgroundColor:z.A.puertoRico,className:"u-mr-1"},l.createElement(P.default,{icon:A.default,color:z.A.white}))),l.createElement(N.Bd,null,l.createElement(g.default,{variant:"h5"},c("datacards.files.title")),l.createElement(g.default,{variant:"caption"},c("datacards.files.caption",{konnectorName:r.name}))))),l.createElement(D.default,null,n?l.createElement(l.Fragment,null,l.createElement(X,{divider:!0}),l.createElement(X,{divider:!0}),l.createElement(X,{divider:!0}),l.createElement(X,{divider:!0}),l.createElement(X,null)):t.map(function(e,n){var r=d[e._id]?l.Fragment:et;return l.createElement(r,{key:e._id},l.createElement(ee,{onClick:function(){s("../viewer/".concat(i,"/").concat(o()(a,"message.folder_to_save"),"/").concat(n))},file:e,divider:n!==t.length-1}))})),l.createElement("div",{className:"u-ta-right u-mv-half u-mh-1"},l.createElement($.O,{slug:"drive",path:"#/files/".concat(o()(a,"message.folder_to_save"))})))},er=function(e){var t=e.konnector,n=e.trigger,r=e.accountId,a=e.sourceAccountIdentifier,i=(0,Y.z)(a,n.message.folder_to_save,t.slug),o=i.data,c=i.fetchStatus;return l.createElement(l.Fragment,null,l.createElement(p.RealTimeQueries,{doctype:"io.cozy.files"}),"empty"===c||"failed"===c?l.createElement($.A,J.A.drive({trigger:n})):l.createElement(en,{files:o,loading:"loading"===c,konnector:t,trigger:n,accountId:r,sourceAccountIdentifier:a}))};er.propTypes={konnector:u().object.isRequired,accountId:u().string.isRequired,trigger:u().object.isRequired};var ea=n(81810),ei=n(24125),eo=n(53481),ec=n.n(eo),es=n(33031),eu=n.n(es),el=n(7400),ed=n(89004),ef=n(74710),ep=n(16193),eh=n.n(ep);let em=function(e){return l.createElement("svg",eh()({viewBox:"0 0 16 16"},e),l.createElement("path",{d:"M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8zm2.64 11.768L7.2 8.328V4h1.6v3.672l2.968 2.968-1.136 1.128z"}))},ev=function(e){return l.createElement("svg",eh()({viewBox:"0 0 16 16"},e),l.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.408 6.408 0 011.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4zm-4.4-2l6.008-2.792L12.4 3.6 6.392 6.392 3.6 12.4zM8 7.12c.488 0 .88.392.88.88s-.392.88-.88.88A.877.877 0 017.12 8c0-.488.392-.88.88-.88z"}))},ey=function(e){return l.createElement("svg",eh()({viewBox:"0 0 15 17"},e),l.createElement("path",{d:"M7.368 2.382l.377 1.883h4.932v5.647H9.514l-.376-1.883H2.324V2.382h5.044zM8.912.5H.442v16h1.882V9.912h5.27l.377 1.882h6.588V2.382h-5.27L8.911.5z"}))};var eg=n(35062),eb=n(83393),ew=n(95037),ek=n(77737),ex=n(35970),eO=n.n(ex),e_=n(55364),eE=n.n(e_),eC=n(63375),eS=n.n(eC),eP=function(e){var t=e.features,n=e.properties,r=_()(t,function(e){return e.id});return eE()({},e,{properties:{start_place:{data:r[n.start_place.$oid]},end_place:{data:r[n.end_place.$oid]}}})},eA=function(e){var t=new Date(e.properties.start_fmt_time),n=new Date(e.properties.end_fmt_time);return(0,ek.A)(n,t)};let eD=function(e,t,n){var r=(0,l.useState)(e),a=x()(r,2),i=a[0],o=a[1],c=(0,l.useCallback)(function(){var e=i-1;o(e<t?n:e)},[i,t,n]),s=(0,l.useCallback)(function(){var e=i+1;o(e>n?t:e)},[i,n,t]);return(0,l.useEffect)(function(){void 0===i&&void 0!==e&&o(e)},[i,e]),[i,c,s]};function eT(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eR(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eI=function(e){var t=ec().map(e).setView([51.505,-.09],13);return ec().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),t},eN={height:300},ez={radius:6,color:"#313640",weight:1,opacity:1,fillOpacity:.8},eF={pointToLayer:function(e,t){return ec().circleMarker(t,eM(eM({},ez),{},{fillColor:"end_place"==e.properties.feature_type?"#FF0017":"#00D35A"}))}},eL=function(e){var t=e.trips,n=e.index,r=(0,l.useRef)(),a=(0,l.useRef)(),i=(0,l.useRef)([]);return(0,l.useEffect)(function(){a.current=eI(r.current,t);var e,n=eT(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,c=ec().geoJSON(o,eF);i.current.push(c)}}catch(e){n.e(e)}finally{n.f()}},[]),(0,l.useEffect)(function(){if(a.current){var e,t=eT(i.current);try{for(t.s();!(e=t.n()).done;){var r=e.value;a.current.removeLayer(r)}}catch(e){t.e(e)}finally{t.f()}a.current.fitBounds(i.current[n].getBounds()),a.current.addLayer(i.current[n])}},[n]),l.createElement("div",{style:eN,ref:r})},eB=function(e,t){var n="m",r=t;return r>1e3&&(n="km",r/=1e3),"".concat(Math.round(r)," ").concat(n)},eU=function(){return l.createElement("span",{className:"u-mh-half"},"\xb7")},eV={marginRight:"0.3125rem"},eH=function(e,t){var n=new Date,r=new Date(e.properties.start_fmt_time),a=new Date(e.properties.end_fmt_time);if(!(0,ea.A)(r,a))return"".concat(t(r,"D MMM YYYY, HH:mm")," - ").concat(t(a,"D MM YYYY, HH:mm"));var i=(0,ei.A)(r,n)?"":" YYYY";return"".concat(t(r,"ddd D MMM".concat(i,", HH:mm"))," - ").concat(t(a,"HH:mm"))},eq=function(e){var t=e.trip,n=(0,C.useI18n)().f,r=(0,l.useMemo)(function(){return t&&eH(t,n)},[n,t]);return l.createElement(g.default,{variant:"subtitle1"},r)},eW=(0,l.memo)(function(e){var t=e.trip,n=e.loading,r=(0,C.useI18n)().t,a=(0,l.useMemo)(function(){return t&&eA(t)},[t]),i=(0,l.useMemo)(function(){return t&&eS()(eO()(t.features.map(function(e){return e.features?e.features.map(function(e){return o()(e,"properties.sensed_mode")}):o()(e,"properties.sensed_mode")})).map(function(e){return e?e.split("PredictedModeTypes.")[1]||e.split("MotionTypes.")[1]:null}).filter(Boolean))},[t]);return l.createElement(ew.default,{spacing:"xs"},l.createElement(N.$,null,l.createElement(N.E,null,l.createElement(P.default,{icon:ey,color:"var(--emerald)",className:"u-mr-half"})),l.createElement(N.Bd,null,n?l.createElement(M.default,{height:16,className:"u-pv-half"}):l.createElement(g.default,{variant:"body1"},o()(t,"properties.start_place.data.properties.display_name")))),l.createElement(N.$,null,l.createElement(N.E,null,l.createElement(P.default,{icon:ey,color:"var(--pomegranate)",className:"u-mr-half"})),l.createElement(N.Bd,null,n?l.createElement(M.default,{height:20.5,className:"u-pv-half"}):l.createElement(g.default,{variant:"body1"},o()(t,"properties.end_place.data.properties.display_name")))),l.createElement("div",null,n?null:l.createElement(g.default,{variant:"body2",color:"textSecondary"},l.createElement(P.default,{style:eV,icon:em,size:10}),a,l.createElement(eU,null),l.createElement(P.default,{style:eV,icon:ev,size:10}),eB(r,t.properties.distance),l.createElement(eU,null),i.map(function(e){return r("datacards.trips.modes.".concat(e))}).join(", "))))}),eG=function(e){var t=e.trips,n=e.loading,r=e.konnector,a=(0,C.useI18n)().t,i=eD(t&&t.length>0?t.length-1:void 0,0,n||!t?void 0:t.length-1),o=x()(i,3),c=o[0],s=o[1],u=o[2];return l.createElement(v.A,{className:"u-ph-0 u-pb-0 u-ov-hidden"},l.createElement("div",{className:"u-ph-1 u-mb-half"},l.createElement(g.default,{variant:"h6"},a("datacards.trips.title")),l.createElement(g.default,{variant:"caption"},a("datacards.trips.caption",{konnectorName:r.name}))),l.createElement(N.$,null,l.createElement(N.E,{className:"u-pl-half"},l.createElement(ef.default,{onClick:s,size:"medium"},l.createElement(P.default,{icon:eg.A}))),l.createElement(N.Bd,{className:"u-ta-center"},t?l.createElement(eq,{trip:t[c]}):l.createElement(M.default,null),l.createElement(g.default,{variant:"caption"},t?t.map(function(e,t){return l.createElement("span",{key:t},t===c?"â—":"â—‹")}):null)),l.createElement(N.E,{className:"u-pr-half"},l.createElement(ef.default,{onClick:u,size:"medium"},l.createElement(P.default,{icon:eb.default})))),l.createElement(N.$,{className:"u-ph-1 u-mb-1"},l.createElement(N.Bd,null,l.createElement(ed.default,{ml:1,mr:1},n||void 0===c?l.createElement(eW,{loading:!0}):l.createElement(el.default,{index:c,disabled:!0},t.map(function(e){return l.createElement(eW,{key:e.id,trip:e})}))))),n||void 0===c?l.createElement(M.default,{variant:"rect",width:"100%",height:300}):l.createElement(eL,{trips:t,index:c}))},eZ=function(e){var t=e.accountId;return{query:(0,p.Q)("io.cozy.timeseries.geojson").where({"cozyMetadata.sourceAccount":t}).sortBy([{"cozyMetadata.sourceAccount":"desc"},{startDate:"desc"}]).indexFields(["cozyMetadata.sourceAccount","startDate"]).limitBy(5),as:"io.cozy.accounts/".concat(t,"/io.cozy.timeseries.geojson"),fetchPolicy:h().fetchPolicies.olderThan(8)}},eK=function(e){var t=e.timeseriesCol,n=e.konnector,r=t.data,a=(0,l.useMemo)(function(){return r&&r.length?eO()(r.map(function(e){return e.series})).map(eP):[]},[r]),i=(0,l.useMemo)(function(){return eu()(a,function(e){return e.properties.enter_fmt_time}).reverse()},[a]),o=(0,p.hasQueryBeenLoaded)(t)&&0==r.length,s=(0,p.isQueryLoading)(t);return o&&(0,c.default)("harvest.datacard.coachCO2")?l.createElement($.A,J.A.coachco2()):o?null:l.createElement(l.Fragment,null,l.createElement(eG,{trips:i,loading:s,konnector:n}),(0,c.default)("harvest.datacard.coachCO2")?l.createElement($.A,J.A.coachco2()):null)};function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eJ(e,t){return Object.values(e.permissions).filter(function(e){return e.type===t}).length>0}eK.propTypes={konnector:u().object.isRequired,accountId:u().string.isRequired};let e$={datacards:[{component:(0,p.queryConnect)({timeseriesCol:function(e){return eZ(e)}})(function(e){return l.createElement(l.Fragment,null,l.createElement(p.RealTimeQueries,{doctype:"io.cozy.timeseries.geojson"}),l.createElement(eK,e))}),match:function(e){return Object.values(e.konnector.permissions).filter(function(e){return"io.cozy.timeseries.geojson"===e.type}).length>0}},{component:er,match:function(e){var t=e.trigger;return o()(t,"message.folder_to_save")}},{component:function(e){return w(eY({doctype:"io.cozy.files"},e))},match:function(e){return eJ(e.konnector,"io.cozy.files")&&(0,c.default)("harvest.show-doctype-debug-cards")}},{component:function(e){return w(eY({doctype:"io.cozy.identities"},e))},match:function(e){return eJ(e.konnector,"io.cozy.identities")&&(0,c.default)("harvest.show-doctype-debug-cards")}},{component:function(e){return w(eY({doctype:"io.cozy.bills"},e))},match:function(e){return eJ(e.konnector,"io.cozy.bills")&&(0,c.default)("harvest.show-doctype-debug-cards")}}]}},86621:function(e,t,n){"use strict";n.d(t,{z:()=>m});var r=n(21259),a=n.n(r),i=n(58156),o=n.n(i),c=n(33031),s=n.n(c),u=n(63375),l=n.n(u),d=n(96540),f=n(42895),p=n.n(f),h=function(e,t){var n=!!((0,f.hasQueryBeenLoaded)(e)&&(0,f.hasQueryBeenLoaded)(t));return"failed"===e.fetchStatus&&"failed"===t?{fetchStatus:"failed"}:n&&0===e.data.length&&0===t.data.length?{fetchStatus:"empty"}:n?{data:s()(l()([].concat(a()(e.data),a()(t.data)),function(e){return e._id}),function(e){return o()(e,"cozyMetadata.createdAt")}).reverse().slice(0,5),fetchStatus:"loaded"}:{fetchStatus:"loading"}},m=function(e,t,n){if(!e||!t)throw Error("Missing arguments in useDataCardFiles, cannot fetch files");var r=(0,f.useQuery)((0,f.Q)("io.cozy.files").where({dir_id:t,trashed:!1}).indexFields(["dir_id","cozyMetadata.createdAt"]).sortBy([{dir_id:"desc"},{"cozyMetadata.createdAt":"desc"}]).limitBy(5),{as:"fileDataCard_io.cozy.files/".concat(t,"/io.cozy.files"),fetchPolicy:p().fetchPolicies.olderThan(3e4)}),a=(0,f.useQuery)((0,f.Q)("io.cozy.files").where({"cozyMetadata.sourceAccountIdentifier":e,"cozyMetadata.createdByApp":n,trashed:!1}).indexFields(["cozyMetadata.sourceAccountIdentifier","cozyMetadata.createdAt","cozyMetadata.createdByApp","trashed"]).sortBy([{"cozyMetadata.sourceAccountIdentifier":"desc"},{"cozyMetadata.createdAt":"desc"},{"cozyMetadata.createdByApp":"desc"},{trashed:"desc"}]).limitBy(5),{as:"fileDataCard_io.cozy.files/sourceAccountIdentifier/".concat(e,"/createdByApp/").concat(n),fetchPolicy:p().fetchPolicies.olderThan(3e4)});return(0,d.useMemo)(function(){return h(r,a)},[r,a])}},83823:function(e,t,n){"use strict";n.d(t,{$V:()=>N,Ay:()=>L,C1:()=>z,F:()=>P,HB:()=>E,MO:()=>D,QN:()=>T,b7:()=>_,iK:()=>M,jq:()=>R,kI:()=>I,l:()=>C,nJ:()=>A,tG:()=>j,wg:()=>S,zS:()=>F});var r,a,i=n(79092),o=n.n(i),c=n(26396),s=n.n(c),u=n(92207),l=n.n(u),d=n(32629),f=n.n(d),p=n(58156),h=n.n(p),m=n(55364),v=n.n(m),y=n(82586),g=n(2811),b=n(89738),w=n(96899);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O="default",_={EMAIL:"email",SMS:"sms",APP_CODE:"app_code",APP:"app"},E=(a={default:!0},s()(a,_.EMAIL,!0),s()(a,_.SMS,!0),s()(a,_.APP_CODE,!0),s()(a,_.APP,!1),a),C=function(e){return!!e&&"TWOFA_NEEDED"===e.split(".")[0]},S=function(e){return!!e&&"TWOFA_NEEDED_RETRY"===e.split(".")[0]},P=function(e){return"HANDLE_LOGIN_SUCCESS"===e},A=function(e){return"LOGIN_SUCCESS"===e},D=function(e){if(!e||!e.state)return O;var t=e.state?e.state.split("."):[];return t.length>1&&_[t[1]]||O},T=function(e,t){var n=t.retry,r=t.type,a=f()(e),i=n?"TWOFA_NEEDED_RETRY":"TWOFA_NEEDED";return"email"===r?i+=".EMAIL":"sms"===r?i+=".SMS":"app_code"===r?i+=".APP_CODE":"app"===r&&(i+=".APP"),v()(a,{state:i,twoFACode:null})},R=function(e,t){return(0,g.A)(e.slug,"Cannot build an account when the konnector has no slug"),{auth:t,account_type:e.slug,identifier:y.Ay.getIdentifier(e.fields),state:null}},j=function(e,t){return x(x({},e),{},{auth:v()({},e.auth,t)})},M=function(e,t){return x(x({},e),{},{relationships:x(x({},e.relationships),{},{vaultCipher:{data:{_id:t,_type:"com.bitwarden.ciphers",_protocol:"bitwarden"}}})})},I=function(e,t){return x(x({},N(e)),{},{twoFACode:t})},N=function(e){return x(x({},e),{},{state:null})},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&(t.password||t.passphrase)?x(x({},e),{},{state:"RESET_SESSION"}):e},F=(r=o()(l().mark(function e(t,n){var r,a,i,o,c,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,w.nz)(),e.next=3,n.fetchQueryAndGetFromState(r);case 3:return a=e.sent.data,i=(0,w.jE)(),e.next=8,n.fetchQueryAndGetFromState(i);case 8:if(o=e.sent.data.map(function(e){return e.maintenance_activated?e.slug:null}),c=a.filter(function(e){return!o.includes(e.message.konnector)}),s=a.filter(function(e){var n;return(null==(n=e.message)?void 0:n.konnector)===t}),!((0,b.QT)(c.length)&&0===(0,b.Sx)(t,s))){e.next=15;break}return e.abrupt("return","max_accounts");case 15:if(!o.includes(t)){e.next=17;break}return e.abrupt("return",null);case 17:if(!(0,b.kn)(t,s.length)){e.next=19;break}return e.abrupt("return","max_accounts_by_konnector");case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});let L={build:R,getLabel:function(e){return h()(e,"auth.".concat(e.identifier))||e._id},getTwoFACodeProvider:D,isTwoFANeeded:C,isTwoFARetry:S,isLoginSuccess:A,isLoginSuccessHandled:P,mergeAuth:j,resetState:N,setSessionResetIfNecessary:z,updateTwoFaCode:I,setVaultCipherRelationship:M,getVaultCipherId:function(e){var t=h()(e,"relationships.vaultCipher.data");return t?Array.isArray(t)?t[0]._id:t._id:void 0}}},26456:function(e,t,n){"use strict";n.d(t,{$B:()=>J,nc:()=>Q,sn:()=>ee,qP:()=>et,qf:()=>en,U8:()=>X,rx:()=>Y,NL:()=>$});var r,a=n(79092),i=n.n(a),o=n(26396),c=n.n(o),s=n(82274),u=n.n(s),l=n(65044),d=n.n(l),f=n(41972),p=n.n(f),h=n(56994),m=n.n(h),v=n(65611),y=n.n(v),g=n(18337),b=n.n(g),w=n(16826),k=n.n(w),x=n(92207),O=n.n(x),_=n(58156),E=n.n(_),C=n(61448),S=n.n(C);n(44826);for(var P=n(42895),A=n(14682),D=n.n(A),T={},R=0,j=["fr","en","ru","vi"];R<j.length;R++){var M=j[R],I={};try{I=n(5979)("./".concat(M,".json"))}catch(e){}var N=new(D());N.extend(I),T[M]=N}var z=function(e){var t=T[e]||T.en;return t.t.bind(t)};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B="claude@cozycloud.cc",U="CHALLENGE_ASKED",V="DISK_QUOTA_EXCEEDED",H="LOGIN_FAILED",q="NOT_EXISTING_DIRECTORY",W="TERMS_VERSION_MISMATCH",G="USER_ACTION_NEEDED",Z=[U,V,H,"MAINTENANCE",q,W,G,"VENDOR_DOWN","ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED"],K=[U,V,H,q,G],Q=function(e){m()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=b()(r);return e=t?Reflect.construct(n,arguments,b()(this).constructor):n.apply(this,arguments),y()(this,e)});function r(){u()(this,r);for(var e,t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];e=n.call.apply(n,[this].concat(a)),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(p()(e),r),e.code=e.message;var o=e.code.split(".")[0];return e.type=Z.includes(o)?o:"UNKNOWN_ERROR",e}return d()(r,[{key:"isLoginError",value:function(){return this.type===H}},{key:"isUserError",value:function(){return K.includes(this.type)}},{key:"isTermsVersionMismatchError",value:function(){return this.type===W}},{key:"isSolvableViaReconnect",value:function(){return this.type===H||this.type===U||"USER_ACTION_NEEDED.SCA_REQUIRED"===this.code||"USER_ACTION_NEEDED.WEBAUTH_REQUIRED"===this.code||"USER_ACTION_NEEDED.OAUTH_OUTDATED"===this.code||"USER_ACTION_NEEDED.CHANGE_PASSWORD"===this.code||"VENDOR_DOWN"===this.code||"VENDOR_DOWN.BANK_DOWN"===this.code||"VENDOR_DOWN.LINXO_DOWN"===this.code}}]),r}(k()(Error)),Y=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:B,i="error.job.UNKNOWN_ERROR",o={name:t.name||"",link:t.vendor_link||"",supportMail:a};if(!(e instanceof Q)){var c=n("".concat(i,".").concat(r),o);return"description"===r?e.message?"".concat(c," (").concat(e.message,")"):c:n("".concat(i,".").concat(r),o)}return n("error.job.".concat(e.code,".").concat(r),L(L({},o),{},{_:n("error.job.".concat(e.type,".").concat(r),L(L({},o),{},{_:n("".concat(i,".").concat(r),o)}))}))},J=(r=i()(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchQueryAndGetFromState({definition:(0,P.Q)("io.cozy.settings").getById("io.cozy.settings.context"),options:{as:"io.cozy.settings/io.cozy.settings.context",fetchPolicy:P.fetchPolicies.olderThan(36e5)}});case 2:return n=e.sent,e.abrupt("return",E()(n,"data[0].attributes.support_address",B));case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),$=function(e,t,n,r,a){return Y(e,t,z(n),r,a)},X=function(e){return E()(e,"oauth.account_type",e.slug)},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.available_version},et=function(e){return S()(e,"fields.advancedFields.folderPath")||S()(e,"folders")},en=function(e,t){return!!e&&!t}},82586:function(e,t,n){"use strict";n.d(t,{Ay:()=>I,HR:()=>_,J0:()=>j,_S:()=>E,u4:()=>R,zr:()=>C});var r=n(22056),a=n.n(r),i=n(26396),o=n.n(i),c=n(88055),s=n.n(c),u=n(20826),l=n.n(u),d=n(49870),f=n.n(d),p=n(58156),h=n.n(p),m=n(5287),v=n.n(m),y=n(73916),g=n.n(y),b=n(71086),w=n.n(b);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _="identifier",E=["answer","birthdate","code","date","email","firstname","lastname","login","password","phone"],C=["branchName"],S=["login","identifier","new_identifier","email"],P=function(e){return g()(w()(e,function(e){return!!e.default}),function(e){return e.default})},A=function(e){var t=s()(e),n=!1;for(var r in t)t[r].role===_&&(n?delete t[r].role:n=!0);if(n)return t;var a,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(S);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t[o])return t[o].role=_,t}}catch(e){i.e(e)}finally{i.f()}for(var c in t)if("password"!==t[c].type){t[c].role=_;break}return t},D=["secret","dob","code","answer","access_token","refresh_token","appSecret"],T=f()([function(e){var t=s()(e);return delete t.advancedFields,t},A,function(e){var t=s()(e);for(var n in t){var r=t[n],a=void 0===r.required?r.isRequired:r.required;t[n].required="boolean"!=typeof a||a}return t},function(e){var t=s()(e);for(var n in t){var r=t[n];"boolean"!=typeof r.encrypted&&(r.encrypted="password"===r.type||D.includes(n))}return t}]),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h()(e,"data_types")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h()(e,"name")},M=function(e){return Object.entries(T(e.fields)).filter(function(e){return a()(e,2)[1].required}).map(function(e){return a()(e,1)[0]})};let I={defaultFieldsValues:P,getIdentifier:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(A(e),function(e){return e.role===_})},sanitize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.fields?x(x({},e),{},{fields:T(e.fields)}):e},sanitizeFields:T,getDataTypes:R,getKonnectorName:j,getFieldsValues:function(e,t){var n=P(T(e.fields)),r=t&&t.auth;return x(x({},n),r)},getRequiredFields:M,hasValuesForRequiredFields:function(e,t){var n=M(e);return v()(Object.keys(t),n).length===n.length}}},43901:function(e,t,n){"use strict";n.d(t,{Ah:()=>g,DI:()=>x,i$:()=>b,t9:()=>O,N8:()=>w});var r=n(22056),a=n.n(r),i=n(58156),o=n.n(i),c=n(12550),s=n.n(c),u=n(42895),l=n.n(u),d=n(4595),f=n(50104),p=n.n(f),h=p()(function(){var e=document.querySelector("[role=application]");return e&&e.dataset}),m=p()(function(){var e=h();return e&&e.cozy?JSON.parse(e.cozy):null}),v=p()(function(e){var t=m();if(t&&void 0!==t[e])return"true"===t[e]||"false"===t[e]?JSON.parse(t[e]):t[e];var n=h();if(n){var r=n["cozy".concat(e[0].toUpperCase()).concat(e.substring(1))];return void 0===r?void 0:""===r||JSON.parse(r)}}),y=n(26456),g="oauth-popup",b=function(e,t){if(!t)return!1;var n=t.oAuthStateKey;if(!n)return!1;var r=y.U8(e),a=localStorage.getItem(n);return(a&&JSON.parse(a)).accountType===r},w=function(e){var t=null==e?void 0:e.realtime;if(!t){var n=null==e?void 0:e.client;if(!n){var r=v("domain"),a=v("token");n=new(l())({uri:"".concat(window.location.protocol,"//").concat(r),token:a})}t=new d.default({client:n})}var i=new URLSearchParams(window.location.search),o=i.get("account"),c=i.get("error"),s=i.get("state");return!!s&&(t.sendNotification("io.cozy.accounts",g,{finalLocation:i.toString(),key:o,error:c,oAuthStateKey:s}),!0)},k=function(e){var t=e.cozyUrl,n=e.accountType,r=e.oAuthStateKey,i=e.oAuthConf,o=void 0===i?{}:i,c=e.nonce,s=e.redirectSlug,u=e.extraParams,l=e.manage,d=e.reconnect,f=e.account,p="start";l?p="manage":d&&(p="reconnect");var h=d||l?f._id+"/":"",m=new URL("".concat(t,"/accounts/").concat(n,"/").concat(h).concat(p));if(m.searchParams.set("state",r),m.searchParams.set("nonce",c),void 0!==o.scope&&null!==o.scope&&!1!==o.scope){var v=Array.isArray(o.scope)?o.scope.join("%2B"):o.scope;m.searchParams.set("scope",v)}return s&&m.searchParams.set("slug",s),u&&Object.entries(u).forEach(function(e){var t=a()(e,2),n=t[0],r=t[1];return m.searchParams.set(n,r)}),decodeURIComponent(m.toString())},x=function(e){var t=e.client,n=e.konnector,r=e.redirectSlug,a=e.extraParams,i=e.reconnect,c=e.manage,u=e.account,l=n.oauth,d=y.U8(n),f={accountType:y.U8(n)},p=s()();localStorage.setItem(p,JSON.stringify(f));var h=k({cozyUrl:t.stackClient.uri,accountType:d,oAuthStateKey:p,oAuthConf:l,nonce:String(Date.now()),redirectSlug:r||o()(t,"appMetadata.slug"),extraParams:a,reconnect:void 0!==i&&i,manage:void 0!==c&&c,account:u});return{oAuthStateKey:p,oAuthUrl:h}},O=function(e){localStorage.removeItem(e)}},96899:function(e,t,n){"use strict";n.d(t,{Es:()=>s,Yk:()=>c,do:()=>l,eX:()=>p,g0:()=>o,gL:()=>i,jE:()=>f,mX:()=>u,nz:()=>d});var r=n(42895),a=n.n(r)().fetchPolicies.olderThan(6e5),i=function(e){var t={definition:function(){return(0,r.Q)("io.cozy.konnectors").getById("io.cozy.konnectors/".concat(e))},options:{as:"io.cozy.konnectors/".concat(e),fetchPolicy:a}};return{definition:t.definition(),options:t.options}},o=function(e){var t={definition:function(){return(0,r.Q)("io.cozy.apps_registry").getById("".concat(e))},options:{as:"io.cozy.apps_registry/".concat(e),fetchPolicy:a}};return{definition:t.definition(),options:t.options}},c=function(e){var t=e.slug,n=e.sourceAccountIdentifier;return{definition:(0,r.Q)("io.cozy.accounts").where({account_type:t,"cozyMetadata.sourceAccountIdentifier":n}),options:{as:"io.cozy.accounts/account_type/".concat(t,"/sourceAccountIdentifier/").concat(n),fetchPolicy:a}}},s=function(e){return{definition:function(){return(0,r.Q)("io.cozy.accounts").getById(e)},options:{as:"io.cozy.accounts/".concat(e),fetchPolicy:a,singleDocData:!0}}},u=function(e,t){return{definition:(0,r.Q)("io.cozy.triggers").where({type:t.clientSide?"@client":"@cron","message.account":e,"message.konnector":t.slug}),options:{as:"triggers-".concat(t.slug,"-").concat(e),fetchPolicy:a}}},l=function(e){return{definition:(0,r.Q)("io.cozy.apps").getById("io.cozy.apps/".concat(e)),options:{as:"io.cozy.apps/".concat(e),fetchPolicy:a,singleDocData:!0}}},d=function(){return{definition:(0,r.Q)("io.cozy.triggers").where({_id:{$gt:null}}).partialIndex({worker:{$in:["konnector","client"]}}).indexFields(["_id"]),options:{as:"io.cozy.triggers/by_worker_client_konnector",fetchPolicy:a}}},f=function(){return{definition:(0,r.Q)("io.cozy.apps_registry").getById("maintenance"),options:{as:"io.cozy.apps_registry/maintenance",fetchPolicy:a}}},p=function(e){return{definition:(0,r.Q)("io.cozy.apps_registry").getById(e),options:{as:"io.cozy.apps_registry/".concat(e),fetchPolicy:a,singleDocData:!0}}}},17810:function(e,t,n){"use strict";n.d(t,{HE:()=>s,uH:()=>c,zF:()=>o});var r=n(58156),a=n.n(r),i=n(26456),o=function(e){return"errored"===a()(e,"current_state.status")?new i.nc(a()(e,"current_state.last_error")):null},c=function(e){var t=!!e&&!!e.current_state&&e.current_state.last_success;return t?new Date(t):null},s=function(e){return"running"===a()(e,"current_state.status")}},55594:function(e,t,n){"use strict";n.d(t,{i8:()=>h3});var r,a,i,o,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,O,_,E,C,S,P,A,D,T,R,j,M,I,N,z,F,L,B,U,V,H,q,W,G,Z,K,Q,Y,J,$,X,ee,et={};n.r(et),n.d(et,{EEFLongWordList:()=>iX,default:()=>i0});var en=n(26396),er=n.n(en),ea=n(82274),ei=n.n(ea),eo=n(65044),ec=n.n(eo),es=n(41972),eu=n.n(es),el=n(56994),ed=n.n(el),ef=n(65611),ep=n.n(ef),eh=n(18337),em=n.n(eh),ev=n(5556),ey=n.n(ev),eg=n(96540),eb=n(76819),ew=n(42895),ek=n.n(ew),ex=n(40961),eO=n(84660),e_=n(73017);let eE=n(52314).A;var eC=n(39274),eS=n(24242),eP=n(82096),eA=(0,eP.A)({container:{position:"fixed",color:"white",zIndex:"var(--zIndex-modal)",inset:0},colorPrimary:{backgroundColor:"rgba(255, 255, 255, 0.33)"},barColorPrimary:{backgroundColor:"white"}}),eD=function(e){var t=e.name,n=eA(),r=(0,eS.default)().isMobile,a=(0,eb.useI18n)().t;return eg.createElement("div",{className:n.container},eg.createElement(e_.A,{open:!0,className:"u-p-2",style:{backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"}},eg.createElement("div",{className:"u-w-6 u-w-100-s"},eg.createElement(eC.default,{variant:r?"h3":"h2",className:"u-ta-center",color:"initial"},a("connectionBackdrop.connecting")),eg.createElement(eE,{className:"u-mt-1-half u-w-100",classes:{colorPrimary:n.colorPrimary,barColorPrimary:n.barColorPrimary}}),eg.createElement(eC.default,{variant:r?"body2":"body1",className:"u-mt-1 u-ta-center",color:"initial"},a("connectionBackdrop.progress",{name:t})))))};let eT=function(e){var t=e.name,n=(0,eO.useWebviewIntent)();return(0,eg.useEffect)(function(){return n&&n.call("setFlagshipUI",{bottomTheme:"light",topTheme:"light"},"ConnectionBackdrop Start"),function(){n&&n.call("setFlagshipUI",{bottomTheme:"dark",topTheme:"dark"},"ConnectionBackdrop End")}},[n]),(0,ex.createPortal)(eg.createElement(eD,{name:t}),document.body)};var eR=n(71382),ej=n.n(eR),eM=n(36040),eI=n(91387),eN=n(71231),ez=n(54952),eF=n(16193),eL=n.n(eF),eB=n(39892),eU=n.n(eB),eV=n(62162),eH=["konnector"],eq=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"render",value:function(){var e=this.props,t=e.konnector,n=eU()(e,eH);return eg.createElement(eV.default,eL()({type:"konnector",app:t},n))}}]),r}(eg.PureComponent);eq.propTypes={konnector:ey().object,konnectorSlug:ey().string,client:ey().object.isRequired,eitherKonnectorOrKonnectorSlug:function(e,t,n){if(!e.konnector&&!e.konnectorSlug)return Error("One of props 'konnector' or 'konnectorSlug' was not specified in '".concat(n,"'."))}};let eW=(0,ew.withClient)(eq);var eG=n(87952),eZ=n(83823),eK="error",eQ="loginSuccess",eY="success",eJ="TRIGGER_LAUNCH_EVENT",e$="twoFARequest",eX="update",e0="IDLE",e1="CREATING_ACCOUNT",e2="ERRORED",e3="SUCCESS",e4="RUNNING_TWOFA",e6="TWO_FA_MISMATCH",e5="EXPECTING_TRIGGER_LAUNCH",e7=[eK,eQ,eY],e8=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).state={twoFACode:"",requestNb:1},t.handleFieldChange=t.handleFieldChange.bind(eu()(t)),t.handleFlowUpdate=t.handleFlowUpdate.bind(eu()(t)),t.handleTwoFARequest=t.handleTwoFARequest.bind(eu()(t)),t.handleSubmit=t.handleSubmit.bind(eu()(t)),t}return ec()(r,[{key:"componentDidMount",value:function(){var e=this.props.flow;e.on(eX,this.handleFlowUpdate),e.on(e$,this.handleTwoFARequest)}},{key:"componentWillUnmount",value:function(){var e=this.props.flow;e.removeListener(eX,this.handleFlowUpdate),e.removeListener(e$,this.handleTwoFARequest)}},{key:"handleFlowUpdate",value:function(){var e=this.props.flow.getState();this.setState({hasErrored:e.twoFARetry,isJobRunning:e.twoFARunning})}},{key:"handleTwoFARequest",value:function(){this.setState({twoFACode:"",requestNb:this.state.requestNb+1})}},{key:"handleFieldChange",value:function(e){this.setState({twoFACode:e.currentTarget.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.flow,n=this.state.twoFACode,r=t.getKonnectorPolicy();r.sendTwoFACode?r.sendTwoFACode(t,n):t.sendTwoFACode(n)}},{key:"render",value:function(){var e=this.props,t=e.dismissAction,n=e.t,r=e.flow,a=this.state,i=a.twoFACode,o=a.requestNb,c=a.hasErrored,s=a.isJobRunning,u=r.getAccount(),l=eZ.Ay.getTwoFACodeProvider(u),d=eZ.HB[l],f=r.konnector;return eg.createElement(eI.A,{onClose:t,size:"small",open:!0,title:eg.createElement(eW,{konnector:f,className:"u-mah-3 u-ml-1"}),content:eg.createElement("form",{onSubmit:this.handleSubmit},eg.createElement(eC.default,{variant:"h4",className:"u-mb-1 u-mt-half u-ta-center"},n("twoFAForm.providers.".concat(l))),eg.createElement(eC.default,{variant:"body1"},l!==eZ.b7.APP?n("twoFAForm.desc_".concat(o),{_:n("twoFAForm.desc_1")}):n("twoFAForm.desc-2fa")),d?eg.createElement(ez.default,{className:"u-mt-0 u-mb-0",value:i,onChange:this.handleFieldChange,autoComplete:"off",label:n("twoFAForm.code.label_".concat(o),{_:n("twoFAForm.code.label_1")})+(o>2?" (".concat(o,")"):""),size:"medium",error:c,fullwidth:!0}):null,c&&eg.createElement(eC.default,{variant:"caption",className:"u-error u-fs-italic u-mt-half"},n("twoFAForm.retry")),d?eg.createElement(eM.default,{className:"u-mt-1",label:n("twoFAForm.CTA"),busy:s,disabled:s||!i,onClick:this.handleSubmit,fullWidth:!0}):null)})}}]),r}(eg.PureComponent);e8.propTypes={flow:ey().object.isRequired};let e9=ej()(eG.A,(0,eb.translate)(),(0,eN.default)())(e8);var te=n(2811),tt=n(2109),tn=n(79092),tr=n.n(tn),ta=n(92207),ti=n.n(ta),to=n(83741),tc=n(32629),ts=n.n(tc),tu=n(56173),tl=n.n(tu),td=n(94619),tf=n(27583),tp=n(80231),th=n(26456),tm=n(17810),tv=n(22056),ty=n.n(tv),tg=n(58156),tb=n.n(tg),tw=n(38970),tk=n.n(tw),tx=n(63560),tO=n.n(tx),t_=n(27069),tE=n(55477),tC=n(16826),tS=n.n(tC),tP=function(e){try{return JSON.parse(e)}catch(t){return e}},tA=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r);var t=n.call(this,e),a=tP(e);return"object"==typeof a?(t.code=a.code||"NO_CODE",t.message=a.message||"NO_MESSAGE"):t.message=a,t}return ec()(r)}(tS()(Error)),tD=(r=tr()(ti().mark(function e(t,n,r,a,i){var o,c,s;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,te.A)(i,"biRequest: Need access token"),o="".concat(r.url).concat(n),e.next=4,fetch(o,{method:t,body:a,headers:{Authorization:"Bearer ".concat(i)}});case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 11:return tt.A.warn("Error while contacting BI (method: ".concat(t,", path: ").concat(n,")")),e.next=14,c.text();case 14:throw s=e.sent,tt.A.debug(s),new tA(s);case 17:case"end":return e.stop()}},e)})),function(e,t,n,a,i){return r.apply(this,arguments)}),tT=(a=tr()(ti().mark(function e(t,n,r){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tD("GET","/users/me/connections/".concat(n),t,null,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)}),tR=(i=tr()(ti().mark(function e(t,n,r){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,te.A)(n,"Must pass connection id to getBIConnectionAccountList (".concat(n," was passed)")),e.next=3,tD("GET","/users/me/connections/".concat(n,"/accounts?all"),t,null,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)}),tj="io.cozy.jobs",tM=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15e3;return new Promise(function(a,i){var o=e.plugins.realtime,c=t._id;o.subscribe("updated",tj,c,function(e){"errored"==e.state&&i("Job finished with error : ".concat(e.error))}),o.subscribe("notified",tj,c,function e(t){n&&t.data.type!=n||(o.unsubscribe("notified",tj,c,e),a(t))}),setTimeout(function(){i(Error("Timeout for waitForRealtimeResult"))},r)})},tI=function(e){var t=e.client,n=e.data;t.plugins.realtime.sendNotification(tj,"sendRealtimeNotification",n)},tN=["code"],tz=["code"];function tF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tU=new t_.default,tV=(o=tr()(ti().mark(function e(t){var n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connId,r=t.client,a=t.konnector,e.prev=1,tt.A.info("Creating temporary token..."),e.next=5,t$({client:r,konnector:a,connectionId:n});case 5:if(!e.sent){e.next=9;break}throw new th.nc("ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED");case 9:return e.abrupt("return");case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",tX(e.t0));case 15:case"end":return e.stop()}},e,null,[[1,12]])})),function(e){return o.apply(this,arguments)}),tH=(c=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.flow.triggerEvent(eQ),e.abrupt("return",!1);case 3:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),tq=function(e){var t,n,r;return Number((null==e||null==(t=e.data)||null==(n=t.auth)||null==(r=n.bi)?void 0:r.connId)||null)},tW=(s=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.client,a=t.flow,i=t.konnector,e.next=3,a.saveAccount(n);case 3:if(null!==(c=tq(o=e.sent))){e.next=7;break}throw Error("onBIAccountCreation: bi connection id should not be null on creation");case 7:return e.next=9,tV({connId:c,client:r,konnector:i});case 9:return e.next=11,a.saveAccount(tJ(o,c));case 11:return s=e.sent,a.triggerEvent(eQ),e.abrupt("return",s);case 14:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),tG=(u=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,a=t.account,o=void 0!==(i=t.reconnect)&&i,s=void 0!==(c=t.manage)&&c,e.next=3,tY({client:n,konnector:r});case 3:var h;if(l=(u=e.sent).code,d=eU()(u,tN),f=tq(a),!(o||s)){e.next=11;break}return e.abrupt("return",{connector_uuids:(h={uuids:Object.keys(r.biUuids),token:l,connId:f}).uuids,code:h.token,connection_id:h.connId});case 11:if(!(f&&r.biUuids.length>1)){e.next=16;break}return e.next=14,tT(d,f,l);case 14:p=e.sent.connector_uuid;case 16:return e.abrupt("return",{connector_uuids:p||Object.keys(r.biUuids),token:l});case 17:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}),tZ=(l=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p,h;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,a=t.account,e.next=3,tY({client:n,konnector:r});case 3:return o=(i=e.sent).code,c=eU()(i,tz),s=tq(a),e.next=8,tR(c,s,o);case 8:return u=e.sent.accounts.reduce(function(e,t){return tB(tB({},e),{},er()({},t.id+"",t.disabled))},{}),e.next=13,n.query((0,ew.Q)("io.cozy.bank.accounts").where({"relationships.connection.data._id":a._id}).include(["owners"]).indexFields(["relationships.connection.data._id"]));case 13:l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tF(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tF(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e.sent.data);try{for(l.s();!(d=l.n()).done;){var m;m=u[(f=d.value).vendorId],p=null==m?void 0:m.replace(" ","T"),f.metadata.disabledAt!==p&&(h={disabledAt:p,imported:!p},n.store.dispatch((0,tE.receiveMutationResult)("contract-memory-update",{data:[tB(tB({},f),{},{metadata:tB(tB({},f.metadata),h)})]})))}}catch(e){l.e(e)}finally{l.f()}case 17:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)});function tK(){return(tK=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,e.next=3,n.query((0,ew.Q)("io.cozy.bank.settings").getById("bi"));case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.data)||{});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tQ(){return(tQ=tr()(ti().mark(function e(t){var n,r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,a=t.tokenCache,e.next=3,n.stackClient.jobs.create("konnector",{mode:"getTemporaryToken",konnector:r.slug},{},!0);case 3:return i=e.sent,e.next=6,tM(n,i.data.attributes,"result",6e4);case 6:return o=e.sent,e.next=9,n.save(tB(tB({_type:"io.cozy.bank.settings",_id:"bi"},null!=a&&a._rev?{_rev:a._rev}:{}),{},{timestamp:Date.now()},o.data.result));case 9:return c=e.sent,e.abrupt("return",c.data);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tY=(d=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,e.next=3,tU.exec(tr()(ti().mark(function e(){var t,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,te.A)(r.slug,"createTemporaryToken: konnector passed in options has no slug"),e.next=3,function(e){return tK.apply(this,arguments)}({client:n});case 3:return t=e.sent,e.next=6,n.query((0,ew.Q)("io.cozy.accounts").getById("bi-aggregator-user"));case 6:if(a=e.sent.data,!function(e,t){var n=Date.now()-Number(null==e?void 0:e.timestamp);tt.A.debug("tokenCache age",n/1e3/60,"minutes");var r=e.userId===(null==t?void 0:t.userId);return(!e||!(n<174e4)||!r)&&(r||tt.A.warn("BI user id in cache ".concat(e.userId," is different than current user id ").concat(null==t?void 0:t.userId)),!0)}(t,a)){e.next=13;break}return tt.A.debug("temporaryToken cache is expired. Updating"),e.next=12,function(e){return tQ.apply(this,arguments)}({client:n,konnector:r,tokenCache:t});case 12:t=e.sent;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e)})),function(){return"createTemporaryToken"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),tJ=function(e,t){var n=ts()(e);return tO()(n,"data.auth.bi.connId",t),n},t$=(f=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.konnector,a=t.connectionId,e.next=3,Promise.all([n.query((0,ew.Q)("io.cozy.accounts").where({data:{auth:{bi:{connId:a}}}}).indexFields(["data.auth.bi.connId"])),n.query((0,ew.Q)("io.cozy.triggers").where({message:{konnector:r.slug}}).indexFields(["message.konnector"]))]);case 3:return i=e.sent,c=(o=ty()(i,2))[0],s=o[1],u=tk()(c.data,"_id"),l=s.data.find(function(e){return u[tb()(e,"message.account")]}),e.abrupt("return",l?u[l.message.account]:null);case 10:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),tX=function(e){var t=e?e.code:null,n=t&&t1[t]||null,r=new th.nc(n||(t?"UNKNOWN_ERROR.".concat(t):"UNKNOWN_ERROR"));throw r.original=e,r},t0=function(e){var t;return(null==e||null==(t=e.partnership)?void 0:t.domain)==="budget-insight.com"},t1={actionNeeded:"USER_ACTION_NEEDED",wrongpass:"LOGIN_FAILED",decoupled:"USER_ACTION_NEEDED.TWOFA_NEEDED.APP",passwordExpired:"USER_ACTION_NEEDED.CHANGE_PASSWORD",SCARequired:"USER_ACTION_NEEDED.SCA_REQUIRED",webauthRequired:"USER_ACTION_NEEDED.WEBAUTH_REQUIRED",websiteUnavailable:"VENDOR_DOWN.BANK_DOWN",additionalInformationNeeded:"CHALLENGE_ASKED",bug:"VENDOR_DOWN",config:"LOGIN_FAILED",ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED:"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED"},t2=function(){var e,t,n,r;return(null==(e=window)||null==(t=e.cozy)?void 0:t.ClientConnectorLauncher)||(null==(n=window)||null==(r=n.cozy)?void 0:r.ClientKonnectorLauncher)||null};function t3(){return(t3=tr()(ti().mark(function e(t){var n,r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.konnector,r=t.account,a=t.trigger,i=t.flow,(o=t2())?tt.A.debug("Found a launcher",o):tt.A.warn("Found no launcher"),"react-native"!==o){e.next=9;break}return e.next=6,function(e){var t=e.konnector,n=e.account,r=e.trigger,a=e.flow;return new Promise(function(e){(function(e){var t,n,r,a;null==(t=window.document)||null==(n=t.addEventListener)||n.call(t,"message",function(t){e(t.data)}),null==(r=window)||null==(a=r.addEventListener)||a.call(r,"message",function(t){e(t.data)})})(function(t){if("string"==typeof t){var n,r=JSON.parse(t);if("Clisk"===r.type&&("launchResult"===r.message||r.message===eQ)){if(r.message===eQ)return void a.triggerEvent(eQ,null==(n=r.param)?void 0:n.accountId);e(r.param)}}}),window.ReactNativeWebView.postMessage(JSON.stringify({message:"startLauncher",value:{connector:t,konnector:t,account:n,trigger:r,DEBUG:!!(0,td.default)("clisk.always-show-worker")}}))})}({konnector:n,account:r,trigger:a,flow:i});case 6:return null!=(c=e.sent)&&c.errorMessage&&(tt.A.debug("Error from launcher ".concat(c.errorMessage)),i.triggerEvent(eK,new th.nc(c.errorMessage))),e.abrupt("return",c);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t4=[{match:function(e){return!!e.clientSide},name:"clisk",needsAccountAndTriggerCreation:!1,needsTriggerLaunch:!1,onLaunch:function(e){return t3.apply(this,arguments)},shouldSaveInVault:function(){return!1},accountContainsAuth:!1,onAccountCreation:null,fetchExtraOAuthUrlParams:null,refreshContracts:null,isRunnable:function(){return!!t2()},shouldLaunchRedirectToEdit:function(){return!1},shouldLaunchDisplayOAuthWindow:function(){return!1},shouldDisplayRunningAlert:function(e){return e.running}},{isBIWebView:!0,needsAccountAndTriggerCreation:!1,needsTriggerLaunch:!0,isRunnable:function(){return!0},name:"budget-insight-webview",match:function(e){return t0(e)},shouldSaveInVault:function(){return!1},onAccountCreation:tW,fetchExtraOAuthUrlParams:tG,handleOAuthAccount:tH,refreshContracts:tZ,shouldLaunchRedirectToEdit:function(){return!1},shouldLaunchDisplayOAuthWindow:function(e){return e&&e.isSolvableViaReconnect()},shouldDisplayRunningAlert:function(){return!1}},{accountContainsAuth:!0,saveInVault:!0,shouldSaveInVault:function(e){return!!e.vendor_link},onAccountCreation:null,match:function(e){return!0},name:"default",fetchExtraOAuthUrlParams:null,refreshContracts:null,needsTriggerLaunch:!0,needsAccountAndTriggerCreation:!0,onLaunch:null,isRunnable:function(){return!0},shouldLaunchRedirectToEdit:function(e){return e&&e.isSolvableViaReconnect()},shouldLaunchDisplayOAuthWindow:function(){return!1},shouldDisplayRunningAlert:function(){return!1}}].filter(Boolean);tt.A.info("Available konnector policies",t4);var t6=function(e){return t4.find(function(t){return t.match(e)})},t5=n(2404),t7=n.n(t5),t8=n(75288),t9=n.n(t8),ne=n(42877),nt=n.n(ne),nn=n(94394),nr=n.n(nn),na=n(96400),ni=n(65606),no=n(48287).Buffer,nc="undefined"==typeof window?n(88835):null,ns=function(){function e(){ei()(this,e)}return ec()(e,null,[{key:"init",value:function(){e.inited||(e.inited=!0,e.isNode=void 0!==ni&&null!=ni.release&&"node"===ni.release.name,e.isBrowser="undefined"!=typeof window,e.isNativeScript=!e.isNode&&!e.isBrowser,e.isMobileBrowser=e.isBrowser&&this.isMobile(window),e.isAppleMobileBrowser=e.isBrowser&&this.isAppleMobile(window),e.global=e.isNativeScript||e.isNode&&!e.isBrowser?n.g:window)}},{key:"fromB64ToArray",value:function(t){if(e.isNode||e.isNativeScript)return new Uint8Array(no.from(t,"base64"));for(var n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}},{key:"fromUrlB64ToArray",value:function(t){return e.fromB64ToArray(e.fromUrlB64ToB64(t))}},{key:"fromHexToArray",value:function(t){if(e.isNode||e.isNativeScript)return new Uint8Array(no.from(t,"hex"));for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=parseInt(t.substr(r,2),16);return n}},{key:"fromUtf8ToArray",value:function(t){if(e.isNode||e.isNativeScript)return new Uint8Array(no.from(t,"utf8"));for(var n=unescape(encodeURIComponent(t)),r=new Uint8Array(n.length),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}},{key:"fromByteStringToArray",value:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}},{key:"fromBufferToB64",value:function(t){if(e.isNode||e.isNativeScript)return no.from(t).toString("base64");for(var n="",r=new Uint8Array(t),a=0;a<r.byteLength;a++)n+=String.fromCharCode(r[a]);return window.btoa(n)}},{key:"fromBufferToUrlB64",value:function(t){return e.fromB64toUrlB64(e.fromBufferToB64(t))}},{key:"fromB64toUrlB64",value:function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"fromBufferToUtf8",value:function(t){if(e.isNode||e.isNativeScript)return no.from(t).toString("utf8");var n=new Uint8Array(t);return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))}},{key:"fromBufferToByteString",value:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{key:"fromBufferToHex",value:function(t){if(e.isNode||e.isNativeScript)return no.from(t).toString("hex");var n=new Uint8Array(t);return Array.prototype.map.call(n,function(e){return("00"+e.toString(16)).slice(-2)}).join("")}},{key:"fromUrlB64ToB64",value:function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}return t}},{key:"fromUrlB64ToUtf8",value:function(t){return e.fromB64ToUtf8(e.fromUrlB64ToB64(t))}},{key:"fromB64ToUtf8",value:function(t){return e.isNode||e.isNativeScript?no.from(t,"base64").toString("utf8"):decodeURIComponent(escape(window.atob(t)))}},{key:"newGuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"isGuid",value:function(e){return RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,"i").test(e)}},{key:"getHostname",value:function(t){var n=e.getUrl(t);try{return null!=n&&""!==n.hostname?n.hostname:null}catch(e){return null}}},{key:"getHost",value:function(t){var n=e.getUrl(t);try{return null!=n&&""!==n.host?n.host:null}catch(e){return null}}},{key:"getDomain",value:function(t){if(null==t||""===(t=t.trim())||t.startsWith("data:"))return null;var n=t.startsWith("http://")||t.startsWith("https://");if(!n&&0>t.indexOf("://")&&e.tldEndingRegex.test(t)&&(t="http://"+t,n=!0),n)try{var r=e.getUrlObject(t);if("localhost"===r.hostname||e.validIpAddress(r.hostname))return r.hostname;var a=null!=na&&null!=na.getDomain?na.getDomain(r.hostname):null;return null!=a?a:r.hostname}catch(e){}try{var i=null!=na&&null!=na.getDomain?na.getDomain(t):null;if(null!=i)return i}catch(e){}return null}},{key:"getQueryParams",value:function(t){var n=e.getUrl(t);if(null==n||null==n.search||""===n.search)return null;var r=new Map;return("?"===n.search[0]?n.search.substr(1):n.search).split("&").forEach(function(e){var t=e.split("=");t.length<1||r.set(decodeURIComponent(t[0]).toLowerCase(),null==t[1]?"":decodeURIComponent(t[1]))}),r}},{key:"getSortFunction",value:function(e,t){return function(n,r){return null==n[t]&&null!=r[t]?-1:null!=n[t]&&null==r[t]?1:null==n[t]&&null==r[t]?0:e.collator?e.collator.compare(n[t],r[t]):n[t].localeCompare(r[t])}}},{key:"isNullOrWhitespace",value:function(e){return null==e||"string"!=typeof e||""===e.trim()}},{key:"validIpAddress",value:function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}},{key:"isMobile",value:function(e){var t,n=!1;return t=e.navigator.userAgent||e.navigator.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0),n||null!=e.navigator.userAgent.match(/iPad/i)}},{key:"isAppleMobile",value:function(e){return null!=e.navigator.userAgent.match(/iPhone/i)||null!=e.navigator.userAgent.match(/iPad/i)}},{key:"getUrl",value:function(t){if(null==t||""===(t=t.trim()))return null;var n=e.getUrlObject(t);return null==n&&0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&t.indexOf(".")>-1&&(n=e.getUrlObject("http://"+t)),n}},{key:"getUrlObject",value:function(e){try{if(null!=nc)return nc.URL?new nc.URL(e):nc.parse(e);if("function"==typeof URL)return new URL(e);if(null!=window){var t=e.indexOf("://")>-1;if(!t&&e.indexOf(".")>-1)e="http://"+e;else if(!t)return null;var n=window.document.createElement("a");return n.href=e,n}}catch(e){}return null}}]),e}();ns.inited=!1,ns.isNativeScript=!1,ns.isNode=!1,ns.isBrowser=!0,ns.isMobileBrowser=!1,ns.isAppleMobileBrowser=!1,ns.global=null,ns.tldEndingRegex=/.*\.(com|net|org|edu|uk|gov|ca|de|jp|fr|au|ru|ch|io|es|us|co|xyz|info|ly|mil)$/,ns.init(),(p=U||(U={}))[p.Android=0]="Android",p[p.iOS=1]="iOS",p[p.ChromeExtension=2]="ChromeExtension",p[p.FirefoxExtension=3]="FirefoxExtension",p[p.OperaExtension=4]="OperaExtension",p[p.EdgeExtension=5]="EdgeExtension",p[p.WindowsDesktop=6]="WindowsDesktop",p[p.MacOsDesktop=7]="MacOsDesktop",p[p.LinuxDesktop=8]="LinuxDesktop",p[p.ChromeBrowser=9]="ChromeBrowser",p[p.FirefoxBrowser=10]="FirefoxBrowser",p[p.OperaBrowser=11]="OperaBrowser",p[p.EdgeBrowser=12]="EdgeBrowser",p[p.IEBrowser=13]="IEBrowser",p[p.UnknownBrowser=14]="UnknownBrowser",p[p.AndroidAmazon=15]="AndroidAmazon",p[p.UWP=16]="UWP",p[p.SafariBrowser=17]="SafariBrowser",p[p.VivaldiBrowser=18]="VivaldiBrowser",p[p.VivaldiExtension=19]="VivaldiExtension",p[p.SafariExtension=20]="SafariExtension";var nu=function(){function e(t){ei()(this,e),this.response=t}return ec()(e,[{key:"getResponseProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||""===e)throw Error("propertyName must not be null/empty.");if(null==t&&null!=this.response&&(t=this.response),null==t)return null;if(!n&&void 0===t[e]){var r=null;r=e.charAt(0)===e.charAt(0).toUpperCase()?e.charAt(0).toLowerCase():e.charAt(0).toUpperCase(),e.length>1&&(r+=e.slice(1)),void 0===t[e=r]&&(e=e.toLowerCase()),void 0===t[e]&&(e=e.toUpperCase())}return t[e]}}]),e}(),nl=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).apiKey=t.getResponseProperty("ApiKey"),t}return ec()(r)}(nu);function nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var nf=function(e){ed()(n,e);var t=nd(n);function n(e){ei()(this,n),(r=t.call(this,e)).invoices=[],r.transactions=[],r.balance=r.getResponseProperty("Balance");var r,a=r.getResponseProperty("PaymentSource"),i=r.getResponseProperty("Transactions"),o=r.getResponseProperty("Invoices");return r.paymentSource=null==a?null:new np(a),null!=i&&(r.transactions=i.map(function(e){return new nm(e)})),null!=o&&(r.invoices=o.map(function(e){return new nh(e)})),r}return ec()(n)}(nu),np=function(e){ed()(n,e);var t=nd(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).type=r.getResponseProperty("Type"),r.cardBrand=r.getResponseProperty("CardBrand"),r.description=r.getResponseProperty("Description"),r.needsVerification=r.getResponseProperty("NeedsVerification"),r}return ec()(n)}(nu),nh=function(e){ed()(n,e);var t=nd(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).url=r.getResponseProperty("Url"),r.pdfUrl=r.getResponseProperty("PdfUrl"),r.number=r.getResponseProperty("Number"),r.paid=r.getResponseProperty("Paid"),r.date=r.getResponseProperty("Date"),r.amount=r.getResponseProperty("Amount"),r}return ec()(n)}(nu),nm=function(e){ed()(n,e);var t=nd(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).createdDate=r.getResponseProperty("CreatedDate"),r.amount=r.getResponseProperty("Amount"),r.refunded=r.getResponseProperty("Refunded"),r.partiallyRefunded=r.getResponseProperty("PartiallyRefunded"),r.refundedAmount=r.getResponseProperty("RefundedAmount"),r.type=r.getResponseProperty("Type"),r.paymentMethodType=r.getResponseProperty("PaymentMethodType"),r.details=r.getResponseProperty("Details"),r}return ec()(n)}(nu),nv=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).addedDate=t.getResponseProperty("AddedDate"),t.breachDate=t.getResponseProperty("BreachDate"),t.dataClasses=t.getResponseProperty("DataClasses"),t.description=t.getResponseProperty("Description"),t.domain=t.getResponseProperty("Domain"),t.isActive=t.getResponseProperty("IsActive"),t.isVerified=t.getResponseProperty("IsVerified"),t.logoPath=t.getResponseProperty("LogoPath"),t.modifiedDate=t.getResponseProperty("ModifiedDate"),t.name=t.getResponseProperty("Name"),t.pwnCount=t.getResponseProperty("PwnCount"),t.title=t.getResponseProperty("Title"),t}return ec()(r)}(nu),ny=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.url=t.getResponseProperty("Url"),t.fileName=t.getResponseProperty("FileName"),t.key=t.getResponseProperty("Key"),t.size=t.getResponseProperty("Size"),t.sizeName=t.getResponseProperty("SizeName"),t}return ec()(r)}(nu),ng=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).password=t.getResponseProperty("Password"),t.lastUsedDate=t.getResponseProperty("LastUsedDate"),t}return ec()(r)}(nu),nb=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.cardholderName=e.getResponseProperty("CardholderName"),e.brand=e.getResponseProperty("Brand"),e.number=e.getResponseProperty("Number"),e.expMonth=e.getResponseProperty("ExpMonth"),e.expYear=e.getResponseProperty("ExpYear"),e.code=e.getResponseProperty("Code"),e)}return ec()(r)}(nu),nw=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.type=e.getResponseProperty("Type"),e.name=e.getResponseProperty("Name"),e.value=e.getResponseProperty("Value"),e)}return ec()(r)}(nu),nk=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.title=e.getResponseProperty("Title"),e.firstName=e.getResponseProperty("FirstName"),e.middleName=e.getResponseProperty("MiddleName"),e.lastName=e.getResponseProperty("LastName"),e.address1=e.getResponseProperty("Address1"),e.address2=e.getResponseProperty("Address2"),e.address3=e.getResponseProperty("Address3"),e.city=e.getResponseProperty("City"),e.state=e.getResponseProperty("State"),e.postalCode=e.getResponseProperty("PostalCode"),e.country=e.getResponseProperty("Country"),e.company=e.getResponseProperty("Company"),e.email=e.getResponseProperty("Email"),e.phone=e.getResponseProperty("Phone"),e.ssn=e.getResponseProperty("SSN"),e.username=e.getResponseProperty("Username"),e.passportNumber=e.getResponseProperty("PassportNumber"),e.licenseNumber=e.getResponseProperty("LicenseNumber"),e)}return ec()(r)}(nu),nx=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ei()(this,r),(e=n.call(this,t)).match=null,null==t)return ep()(e);e.uri=e.getResponseProperty("Uri");var a=e.getResponseProperty("Match");return e.match=null!=a?a:null,e}return ec()(r)}(nu),nO=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ei()(this,r),e=n.call(this,t),null==t)return ep()(e);e.username=e.getResponseProperty("Username"),e.password=e.getResponseProperty("Password"),e.passwordRevisionDate=e.getResponseProperty("PasswordRevisionDate"),e.totp=e.getResponseProperty("Totp");var a=e.getResponseProperty("Uris");return null!=a&&(e.uris=a.map(function(e){return new nx(e)})),e}return ec()(r)}(nu),n_=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.type=e.getResponseProperty("Type"),e)}return ec()(r)}(nu),nE=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.organizationId=t.getResponseProperty("OrganizationId"),t.folderId=t.getResponseProperty("FolderId")||null,t.type=t.getResponseProperty("Type"),t.name=t.getResponseProperty("Name"),t.notes=t.getResponseProperty("Notes"),t.favorite=t.getResponseProperty("Favorite")||!1,t.edit=!!t.getResponseProperty("Edit"),null==t.getResponseProperty("ViewPassword")?t.viewPassword=!0:t.viewPassword=t.getResponseProperty("ViewPassword"),t.organizationUseTotp=t.getResponseProperty("OrganizationUseTotp"),t.revisionDate=t.getResponseProperty("RevisionDate"),t.collectionIds=t.getResponseProperty("CollectionIds"),t.deletedDate=t.getResponseProperty("DeletedDate");var t,a=t.getResponseProperty("Login");null!=a&&(t.login=new nO(a));var i=t.getResponseProperty("Card");null!=i&&(t.card=new nb(i));var o=t.getResponseProperty("Identity");null!=o&&(t.identity=new nk(o));var c=t.getResponseProperty("SecureNote");null!=c&&(t.secureNote=new n_(c));var s=t.getResponseProperty("Fields");null!=s&&(t.fields=s.map(function(e){return new nw(e)}));var u=t.getResponseProperty("Attachments");null!=u&&(t.attachments=u.map(function(e){return new ny(e)}));var l=t.getResponseProperty("PasswordHistory");return null!=l&&(t.passwordHistory=l.map(function(e){return new ng(e)})),t}return ec()(r)}(nu),nC=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.readOnly=t.getResponseProperty("ReadOnly"),t.hidePasswords=t.getResponseProperty("HidePasswords"),t}return ec()(r)}(nu);function nS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var nP=function(e){ed()(n,e);var t=nS(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).id=r.getResponseProperty("Id"),r.organizationId=r.getResponseProperty("OrganizationId"),r.name=r.getResponseProperty("Name"),r.externalId=r.getResponseProperty("ExternalId"),r}return ec()(n)}(nu),nA=function(e){ed()(n,e);var t=nS(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).readOnly=r.getResponseProperty("ReadOnly")||!1,r}return ec()(n)}(nP),nD=function(e){ed()(n,e);var t=nS(n);function n(e){ei()(this,n),(r=t.call(this,e)).groups=[];var r,a=r.getResponseProperty("Groups");return null!=a&&(r.groups=a.map(function(e){return new nC(e)})),r}return ec()(n)}(nP),nT=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).type=t.getResponseProperty("Type"),t.domains=t.getResponseProperty("Domains"),t.excluded=t.getResponseProperty("Excluded"),t}return ec()(r)}(nu),nR=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).globalEquivalentDomains=[],t.equivalentDomains=t.getResponseProperty("EquivalentDomains");var t,a=t.getResponseProperty("GlobalEquivalentDomains");return null!=a?t.globalEquivalentDomains=a.map(function(e){return new nT(e)}):t.globalEquivalentDomains=[],t}return ec()(r)}(nu),nj=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e,t,a){ei()(this,r);var i=n.call(this,e),o=null;if(null!=e){var c=i.getResponseProperty("ErrorModel");o=c&&a?c:e}return o?(i.message=i.getResponseProperty("Message",o),i.validationErrors=i.getResponseProperty("ValidationErrors",o)):429===t&&(i.message="Rate limit exceeded. Try again later."),i.statusCode=t,i}return ec()(r,[{key:"getSingleMessage",value:function(){if(null==this.validationErrors)return this.message;for(var e in this.validationErrors)if(this.validationErrors.hasOwnProperty(e)&&this.validationErrors[e].length)return this.validationErrors[e][0];return this.message}},{key:"getAllMessages",value:function(){var e=this,t=[];if(null==this.validationErrors)return t;var n=function(n){if(!e.validationErrors.hasOwnProperty(n))return"continue";e.validationErrors[n].forEach(function(e){var r="";if(n.indexOf("[")>-1&&n.indexOf("]")>-1){var a=n.lastIndexOf(".");r=n.substr(0,a>-1?a:n.length)+": "}t.push(r+e)})};for(var r in this.validationErrors)if("continue"===n(r))continue;return t}}]),r}(nu),nM=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).type=t.getResponseProperty("Type"),t.userId=t.getResponseProperty("UserId"),t.organizationId=t.getResponseProperty("OrganizationId"),t.cipherId=t.getResponseProperty("CipherId"),t.collectionId=t.getResponseProperty("CollectionId"),t.groupId=t.getResponseProperty("GroupId"),t.organizationUserId=t.getResponseProperty("OrganizationUserId"),t.actingUserId=t.getResponseProperty("ActingUserId"),t.date=t.getResponseProperty("Date"),t.deviceType=t.getResponseProperty("DeviceType"),t.ipAddress=t.getResponseProperty("IpAddress"),t}return ec()(r)}(nu),nI=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.name=t.getResponseProperty("Name"),t.revisionDate=t.getResponseProperty("RevisionDate"),t}return ec()(r)}(nu);function nN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var nz=function(e){ed()(n,e);var t=nN(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).id=r.getResponseProperty("Id"),r.organizationId=r.getResponseProperty("OrganizationId"),r.name=r.getResponseProperty("Name"),r.accessAll=r.getResponseProperty("AccessAll"),r.externalId=r.getResponseProperty("ExternalId"),r}return ec()(n)}(nu),nF=function(e){ed()(n,e);var t=nN(n);function n(e){ei()(this,n),(r=t.call(this,e)).collections=[];var r,a=r.getResponseProperty("Collections");return null!=a&&(r.collections=a.map(function(e){return new nC(e)})),r}return ec()(n)}(nz),nL=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).accessToken=e.access_token,t.expiresIn=e.expires_in,t.refreshToken=e.refresh_token,t.tokenType=e.token_type,t.resetMasterPassword=t.getResponseProperty("ResetMasterPassword"),t.privateKey=t.getResponseProperty("PrivateKey"),t.key=t.getResponseProperty("Key"),t.twoFactorToken=t.getResponseProperty("TwoFactorToken"),t.kdf=t.getResponseProperty("Kdf"),t.kdfIterations=t.getResponseProperty("KdfIterations"),t}return ec()(r)}(nu),nB=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).twoFactorProviders2=new Map,t.twoFactorProviders=t.getResponseProperty("TwoFactorProviders");var t,a=t.getResponseProperty("TwoFactorProviders2");if(null!=a)for(var i in a)a.hasOwnProperty(i)&&t.twoFactorProviders2.set(parseInt(i,null),a[i]);return t}return ec()(r)}(nu),nU=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e,t){ei()(this,r);var a=n.call(this,e),i=a.getResponseProperty("Data");return a.data=null==i?[]:i.map(function(e){return new t(e)}),a.continuationToken=a.getResponseProperty("ContinuationToken"),a}return ec()(r)}(nu),nV=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).type=t.getResponseProperty("Type"),t.product=t.getResponseProperty("Product"),t.name=t.getResponseProperty("Name"),t.isAnnual=t.getResponseProperty("IsAnnual"),t.nameLocalizationKey=t.getResponseProperty("NameLocalizationKey"),t.descriptionLocalizationKey=t.getResponseProperty("DescriptionLocalizationKey"),t.canBeUsedByBusiness=t.getResponseProperty("CanBeUsedByBusiness"),t.baseSeats=t.getResponseProperty("BaseSeats"),t.baseStorageGb=t.getResponseProperty("BaseStorageGb"),t.maxCollections=t.getResponseProperty("MaxCollections"),t.maxUsers=t.getResponseProperty("MaxUsers"),t.hasAdditionalSeatsOption=t.getResponseProperty("HasAdditionalSeatsOption"),t.maxAdditionalSeats=t.getResponseProperty("MaxAdditionalSeats"),t.hasAdditionalStorageOption=t.getResponseProperty("HasAdditionalStorageOption"),t.maxAdditionalStorage=t.getResponseProperty("MaxAdditionalStorage"),t.hasPremiumAccessOption=t.getResponseProperty("HasPremiumAccessOption"),t.trialPeriodDays=t.getResponseProperty("TrialPeriodDays"),t.hasSelfHost=t.getResponseProperty("HasSelfHost"),t.hasPolicies=t.getResponseProperty("HasPolicies"),t.hasGroups=t.getResponseProperty("HasGroups"),t.hasDirectory=t.getResponseProperty("HasDirectory"),t.hasEvents=t.getResponseProperty("HasEvents"),t.hasTotp=t.getResponseProperty("HasTotp"),t.has2fa=t.getResponseProperty("Has2fa"),t.hasApi=t.getResponseProperty("HasApi"),t.hasSso=t.getResponseProperty("HasSso"),t.usersGetPremium=t.getResponseProperty("UsersGetPremium"),t.upgradeSortOrder=t.getResponseProperty("UpgradeSortOrder"),t.displaySortOrder=t.getResponseProperty("SortOrder"),t.legacyYear=t.getResponseProperty("LegacyYear"),t.disabled=t.getResponseProperty("Disabled"),t.stripePlanId=t.getResponseProperty("StripePlanId"),t.stripeSeatPlanId=t.getResponseProperty("StripeSeatPlanId"),t.stripeStoragePlanId=t.getResponseProperty("StripeStoragePlanId"),t.stripePremiumAccessPlanId=t.getResponseProperty("StripePremiumAccessPlanId"),t.basePrice=t.getResponseProperty("BasePrice"),t.seatPrice=t.getResponseProperty("SeatPrice"),t.additionalStoragePricePerGb=t.getResponseProperty("AdditionalStoragePricePerGb"),t.premiumAccessOptionPrice=t.getResponseProperty("PremiumAccessOptionPrice"),t}return ec()(r)}(nu),nH=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.identifier=t.getResponseProperty("Identifier"),t.name=t.getResponseProperty("Name"),t.businessName=t.getResponseProperty("BusinessName"),t.businessAddress1=t.getResponseProperty("BusinessAddress1"),t.businessAddress2=t.getResponseProperty("BusinessAddress2"),t.businessAddress3=t.getResponseProperty("BusinessAddress3"),t.businessCountry=t.getResponseProperty("BusinessCountry"),t.businessTaxNumber=t.getResponseProperty("BusinessTaxNumber"),t.billingEmail=t.getResponseProperty("BillingEmail");var t,a=t.getResponseProperty("Plan");return t.plan=null==a?null:new nV(a),t.planType=t.getResponseProperty("PlanType"),t.seats=t.getResponseProperty("Seats"),t.maxCollections=t.getResponseProperty("MaxCollections"),t.maxStorageGb=t.getResponseProperty("MaxStorageGb"),t.useGroups=t.getResponseProperty("UseGroups"),t.useDirectory=t.getResponseProperty("UseDirectory"),t.useEvents=t.getResponseProperty("UseEvents"),t.useTotp=t.getResponseProperty("UseTotp"),t.use2fa=t.getResponseProperty("Use2fa"),t.useApi=t.getResponseProperty("UseApi"),t}return ec()(r)}(nu);function nq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var nW=function(e){ed()(n,e);var t=nq(n);function n(e){ei()(this,n),(r=t.call(this,e)).storageName=r.getResponseProperty("StorageName"),r.storageGb=r.getResponseProperty("StorageGb"),r.maxStorageGb=r.getResponseProperty("MaxStorageGb"),r.license=r.getResponseProperty("License"),r.expiration=r.getResponseProperty("Expiration"),r.usingInAppPurchase=r.getResponseProperty("UsingInAppPurchase");var r,a=r.getResponseProperty("Subscription"),i=r.getResponseProperty("UpcomingInvoice");return r.subscription=null==a?null:new nG(a),r.upcomingInvoice=null==i?null:new nK(i),r}return ec()(n)}(nu),nG=function(e){ed()(n,e);var t=nq(n);function n(e){ei()(this,n),(r=t.call(this,e)).items=[],r.trialEndDate=r.getResponseProperty("TrialStartDate"),r.trialEndDate=r.getResponseProperty("TrialEndDate"),r.periodStartDate=r.getResponseProperty("PeriodStartDate"),r.periodEndDate=r.getResponseProperty("PeriodEndDate"),r.cancelledDate=r.getResponseProperty("CancelledDate"),r.cancelAtEndDate=r.getResponseProperty("CancelAtEndDate"),r.status=r.getResponseProperty("Status"),r.cancelled=r.getResponseProperty("Cancelled");var r,a=r.getResponseProperty("Items");return null!=a&&(r.items=a.map(function(e){return new nZ(e)})),r}return ec()(n)}(nu),nZ=function(e){ed()(n,e);var t=nq(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).name=r.getResponseProperty("Name"),r.amount=r.getResponseProperty("Amount"),r.quantity=r.getResponseProperty("Quantity"),r.interval=r.getResponseProperty("Interval"),r}return ec()(n)}(nu),nK=function(e){ed()(n,e);var t=nq(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).date=r.getResponseProperty("Date"),r.amount=r.getResponseProperty("Amount"),r}return ec()(n)}(nu),nQ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).storageName=t.getResponseProperty("StorageName"),t.storageGb=t.getResponseProperty("StorageGb");var t,a=t.getResponseProperty("Subscription");t.subscription=null==a?null:new nG(a);var i=t.getResponseProperty("UpcomingInvoice");return t.upcomingInvoice=null==i?null:new nK(i),t.expiration=t.getResponseProperty("Expiration"),t}return ec()(r)}(nH);function nY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var nJ=function(e){ed()(n,e);var t=nY(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).id=r.getResponseProperty("Id"),r.userId=r.getResponseProperty("UserId"),r.type=r.getResponseProperty("Type"),r.status=r.getResponseProperty("Status"),r.accessAll=r.getResponseProperty("AccessAll"),r}return ec()(n)}(nu),n$=function(e){ed()(n,e);var t=nY(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).name=r.getResponseProperty("Name"),r.email=r.getResponseProperty("Email"),r.twoFactorEnabled=r.getResponseProperty("TwoFactorEnabled"),r}return ec()(n)}(nJ),nX=function(e){ed()(n,e);var t=nY(n);function n(e){ei()(this,n),(r=t.call(this,e)).collections=[];var r,a=r.getResponseProperty("Collections");return null!=a&&(r.collections=a.map(function(e){return new nC(e)})),r}return ec()(n)}(nJ),n0=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.name=t.getResponseProperty("Name"),t.usePolicies=t.getResponseProperty("UsePolicies"),t.useGroups=t.getResponseProperty("UseGroups"),t.useDirectory=t.getResponseProperty("UseDirectory"),t.useEvents=t.getResponseProperty("UseEvents"),t.useTotp=t.getResponseProperty("UseTotp"),t.use2fa=t.getResponseProperty("Use2fa"),t.useApi=t.getResponseProperty("UseApi"),t.useBusinessPortal=t.getResponseProperty("UseBusinessPortal"),t.useSso=t.getResponseProperty("UseSso"),t.selfHost=t.getResponseProperty("SelfHost"),t.usersGetPremium=t.getResponseProperty("UsersGetPremium"),t.seats=t.getResponseProperty("Seats"),t.maxCollections=t.getResponseProperty("MaxCollections"),t.maxStorageGb=t.getResponseProperty("MaxStorageGb"),t.key=t.getResponseProperty("Key"),t.status=t.getResponseProperty("Status"),t.type=t.getResponseProperty("Type"),t.enabled=t.getResponseProperty("Enabled"),t.ssoBound=t.getResponseProperty("SsoBound"),t.identifier=t.getResponseProperty("Identifier"),t}return ec()(r)}(nu),n1=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).organizations=[],t.id=t.getResponseProperty("Id"),t.name=t.getResponseProperty("Name"),t.email=t.getResponseProperty("Email"),t.emailVerified=t.getResponseProperty("EmailVerified"),t.masterPasswordHint=t.getResponseProperty("MasterPasswordHint"),t.premium=t.getResponseProperty("Premium"),t.culture=t.getResponseProperty("Culture"),t.twoFactorEnabled=t.getResponseProperty("TwoFactorEnabled"),t.key=t.getResponseProperty("Key"),t.privateKey=t.getResponseProperty("PrivateKey"),t.securityStamp=t.getResponseProperty("SecurityStamp");var t,a=t.getResponseProperty("Organizations");return null!=a&&(t.organizations=a.map(function(e){return new n0(e)})),t}return ec()(r)}(nu),n2=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r);var t=n.call(this,e),a=t.getResponseProperty("UserProfile");return null!=a&&(t.userProfile=new n1(a)),t.paymentIntentClientSecret=t.getResponseProperty("PaymentIntentClientSecret"),t.success=t.getResponseProperty("Success"),t}return ec()(r)}(nu),n3=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.organizationId=t.getResponseProperty("OrganizationId"),t.type=t.getResponseProperty("Type"),t.data=t.getResponseProperty("Data"),t.enabled=t.getResponseProperty("Enabled"),t}return ec()(r)}(nu),n4=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).kdf=t.getResponseProperty("Kdf"),t.kdfIterations=t.getResponseProperty("KdfIterations"),t.salt=t.getResponseProperty("Salt"),t}return ec()(r)}(nu),n6=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.id=e.getResponseProperty("Id"),e.url=e.getResponseProperty("Url"),e.fileName=e.getResponseProperty("FileName"),e.key=e.getResponseProperty("Key"),e.size=e.getResponseProperty("Size"),e.sizeName=e.getResponseProperty("SizeName"),e)}return ec()(r)}(nu),n5=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(ei()(this,r),e=n.call(this,t),null==t)?ep()(e):(e.text=e.getResponseProperty("Text"),e.hidden=e.getResponseProperty("Hidden")||!1,e)}return ec()(r)}(nu),n7=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.type=t.getResponseProperty("Type"),t.name=t.getResponseProperty("Name");var t,a=t.getResponseProperty("Text");null!=a&&(t.text=new n5(a));var i=t.getResponseProperty("File");return null!=i&&(t.file=new n6(i)),t}return ec()(r)}(nu),n8=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).id=t.getResponseProperty("Id"),t.accessId=t.getResponseProperty("AccessId"),t.type=t.getResponseProperty("Type"),t.name=t.getResponseProperty("Name"),t.notes=t.getResponseProperty("Notes"),t.key=t.getResponseProperty("Key"),t.maxAccessCount=t.getResponseProperty("MaxAccessCount"),t.accessCount=t.getResponseProperty("AccessCount"),t.revisionDate=t.getResponseProperty("RevisionDate"),t.expirationDate=t.getResponseProperty("ExpirationDate"),t.deletionDate=t.getResponseProperty("DeletionDate"),t.password=t.getResponseProperty("Password"),t.disable=t.getResponseProperty("Disabled")||!1;var t,a=t.getResponseProperty("Text");null!=a&&(t.text=new n5(a));var i=t.getResponseProperty("File");return null!=i&&(t.file=new n6(i)),t}return ec()(r)}(nu),n9=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){ei()(this,r),(t=n.call(this,e)).folders=[],t.collections=[],t.ciphers=[],t.policies=[],t.sends=[];var t,a=t.getResponseProperty("Profile");null!=a&&(t.profile=new n1(a));var i=t.getResponseProperty("Folders");null!=i&&(t.folders=i.map(function(e){return new nI(e)}));var o=t.getResponseProperty("Collections");null!=o&&(t.collections=o.map(function(e){return new nA(e)}));var c=t.getResponseProperty("Ciphers");null!=c&&(t.ciphers=c.map(function(e){return new nE(e)}));var s=t.getResponseProperty("Domains");null!=s&&(t.domains=new nR(s));var u=t.getResponseProperty("Policies");null!=u&&(t.policies=u.map(function(e){return new n3(e)}));var l=t.getResponseProperty("Sends");return null!=l&&(t.sends=l.map(function(e){return new n8(e)})),t}return ec()(r)}(nu),re=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).taxId=t.getResponseProperty("TaxIdNumber"),t.taxIdType=t.getResponseProperty("TaxIdType"),t.line1=t.getResponseProperty("Line1"),t.line2=t.getResponseProperty("Line2"),t.city=t.getResponseProperty("City"),t.state=t.getResponseProperty("State"),t.postalCode=t.getResponseProperty("PostalCode"),t.country=t.getResponseProperty("Country"),t}return ec()(r)}(nu),rt=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).enabled=t.getResponseProperty("Enabled"),t.key=t.getResponseProperty("Key"),t}return ec()(r)}(nu),rn=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).enabled=t.getResponseProperty("Enabled"),t.host=t.getResponseProperty("Host"),t.secretKey=t.getResponseProperty("SecretKey"),t.integrationKey=t.getResponseProperty("IntegrationKey"),t}return ec()(r)}(nu),rr=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).enabled=t.getResponseProperty("Enabled"),t.email=t.getResponseProperty("Email"),t}return ec()(r)}(nu),ra=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).enabled=t.getResponseProperty("Enabled"),t.type=t.getResponseProperty("Type"),t}return ec()(r)}(nu),ri=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).code=t.getResponseProperty("Code"),t}return ec()(r)}(nu);function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=em()(e);return n=t?Reflect.construct(r,arguments,em()(this).constructor):r.apply(this,arguments),ep()(this,n)}}var rc=function(e){ed()(n,e);var t=ro(n);function n(e){ei()(this,n),(r=t.call(this,e)).enabled=r.getResponseProperty("Enabled");var r,a=r.getResponseProperty("Keys");return r.keys=null==a?null:a.map(function(e){return new rs(e)}),r}return ec()(n)}(nu),rs=function(e){ed()(n,e);var t=ro(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).name=r.getResponseProperty("Name"),r.id=r.getResponseProperty("Id"),r.compromised=r.getResponseProperty("Compromised"),r}return ec()(n)}(nu),ru=function(e){ed()(n,e);var t=ro(n);function n(e){var r;return ei()(this,n),(r=t.call(this,e)).userId=r.getResponseProperty("UserId"),r.appId=r.getResponseProperty("AppId"),r.challenge=r.getResponseProperty("Challenge"),r.version=r.getResponseProperty("Version"),r}return ec()(n)}(nu),rl=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).enabled=t.getResponseProperty("Enabled"),t.key1=t.getResponseProperty("Key1"),t.key2=t.getResponseProperty("Key2"),t.key3=t.getResponseProperty("Key3"),t.key4=t.getResponseProperty("Key4"),t.key5=t.getResponseProperty("Key5"),t.nfc=t.getResponseProperty("Nfc"),t}return ec()(r)}(nu),rd=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).userId=t.getResponseProperty("UserId"),t.publicKey=t.getResponseProperty("PublicKey"),t}return ec()(r)}(nu),rf=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},rp=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ei()(this,e),this.tokenService=t,this.platformUtilsService=n,this.logoutCallback=r,this.customUserAgent=a,this.urlsSet=!1,this.isWebClient=!1,this.isDesktopClient=!1,this.usingBaseUrl=!1,this.device=n.getDevice(),this.deviceType=this.device.toString(),this.isWebClient=this.device===U.IEBrowser||this.device===U.ChromeBrowser||this.device===U.EdgeBrowser||this.device===U.FirefoxBrowser||this.device===U.OperaBrowser||this.device===U.SafariBrowser||this.device===U.UnknownBrowser||this.device===U.VivaldiBrowser,this.isDesktopClient=this.device===U.WindowsDesktop||this.device===U.MacOsDesktop||this.device===U.LinuxDesktop}return ec()(e,[{key:"setUrls",value:function(e){if(this.urlsSet=!0,null!=e.base){this.usingBaseUrl=!0,this.apiBaseUrl=e.base+"/api",this.identityBaseUrl=e.base+"/identity",this.eventsBaseUrl=e.base+"/events";return}this.apiBaseUrl=e.api,this.identityBaseUrl=e.identity,this.eventsBaseUrl=e.events,null==this.apiBaseUrl&&(this.apiBaseUrl="https://api.bitwarden.com"),null==this.identityBaseUrl&&(this.identityBaseUrl="https://identity.bitwarden.com"),null==this.eventsBaseUrl&&(this.eventsBaseUrl="https://events.bitwarden.com")}},{key:"postIdentityToken",value:function(e){var t;return rf(this,void 0,void 0,ti().mark(function n(){var r,a,i;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json","Device-Type":this.deviceType}),null!=this.customUserAgent&&r.set("User-Agent",this.customUserAgent),n.next=4,this.fetch(new Request(this.identityBaseUrl+"/connect/token",{body:this.qsStringify(e.toIdentityToken(null!=(t=e.clientId)?t:this.platformUtilsService.identityClientId)),credentials:this.getCredentials(),cache:"no-store",headers:r,method:"POST"}));case 4:if(a=n.sent,i=null,!this.isJsonResponse(a)){n.next=10;break}return n.next=9,a.json();case 9:i=n.sent;case 10:if(null==i){n.next=19;break}if(200!==a.status){n.next=15;break}return n.abrupt("return",new nL(i));case 15:if(!(400===a.status&&i.TwoFactorProviders2&&Object.keys(i.TwoFactorProviders2).length)){n.next=19;break}return n.next=18,this.tokenService.clearTwoFactorToken(e.email);case 18:return n.abrupt("return",new nB(i));case 19:return n.abrupt("return",Promise.reject(new nj(i,a.status,!0)));case 20:case"end":return n.stop()}},n,this)}))}},{key:"refreshIdentityToken",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.doRefreshToken();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(null));case 8:case"end":return e.stop()}},e,this,[[0,5]])}))}},{key:"getProfile",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/profile",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new n1(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getUserBilling",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/billing",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nf(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getUserSubscription",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/subscription",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nW(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getTaxInfo",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/tax",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new re(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"putProfile",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/accounts/profile",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n1(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTaxInfo",value:function(e){return this.send("PUT","/accounts/tax",e,!0,!1)}},{key:"postPrelogin",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/accounts/prelogin",e,!1,!0);case 2:return n=t.sent,t.abrupt("return",new n4(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postEmailToken",value:function(e){return this.send("POST","/accounts/email-token",e,!0,!1)}},{key:"postEmail",value:function(e){return this.send("POST","/accounts/email",e,!0,!1)}},{key:"postPassword",value:function(e){return this.send("POST","/accounts/password",e,!0,!1)}},{key:"setPassword",value:function(e){return this.send("POST","/accounts/set-password",e,!0,!1)}},{key:"postSecurityStamp",value:function(e){return this.send("POST","/accounts/security-stamp",e,!0,!1)}},{key:"deleteAccount",value:function(e){return this.send("DELETE","/accounts",e,!0,!1)}},{key:"getAccountRevisionDate",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/revision-date",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"postPasswordHint",value:function(e){return this.send("POST","/accounts/password-hint",e,!1,!1)}},{key:"postRegister",value:function(e){return this.send("POST","/accounts/register",e,!1,!1)}},{key:"postPremium",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/accounts/premium",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n2(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postIapCheck",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.send("POST","/accounts/iap-check",e,!0,!1));case 1:case"end":return t.stop()}},t,this)}))}},{key:"postReinstatePremium",value:function(){return this.send("POST","/accounts/reinstate-premium",null,!0,!1)}},{key:"postCancelPremium",value:function(){return this.send("POST","/accounts/cancel-premium",null,!0,!1)}},{key:"postAccountStorage",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/accounts/storage",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n2(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postAccountPayment",value:function(e){return this.send("POST","/accounts/payment",e,!0,!1)}},{key:"postAccountLicense",value:function(e){return this.send("POST","/accounts/license",e,!0,!1)}},{key:"postAccountKeys",value:function(e){return this.send("POST","/accounts/keys",e,!0,!1)}},{key:"postAccountKey",value:function(e){return this.send("POST","/accounts/key",e,!0,!1)}},{key:"postAccountVerifyEmail",value:function(){return this.send("POST","/accounts/verify-email",null,!0,!1)}},{key:"postAccountVerifyEmailToken",value:function(e){return this.send("POST","/accounts/verify-email-token",e,!1,!1)}},{key:"postAccountVerifyPassword",value:function(e){return this.send("POST","/accounts/verify-password",e,!0,!1)}},{key:"postAccountRecoverDelete",value:function(e){return this.send("POST","/accounts/delete-recover",e,!1,!1)}},{key:"postAccountRecoverDeleteToken",value:function(e){return this.send("POST","/accounts/delete-recover-token",e,!1,!1)}},{key:"postAccountKdf",value:function(e){return this.send("POST","/accounts/kdf",e,!0,!1)}},{key:"getEnterprisePortalSignInToken",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/accounts/enterprise-portal-signin-token",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"deleteSsoUser",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.send("DELETE","/accounts/sso/"+e,null,!0,!1));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getSsoUserIdentifier",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.send("GET","/accounts/sso/user-identifier",null,!0,!0));case 1:case"end":return e.stop()}},e,this)}))}},{key:"postUserApiKey",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function e(){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("POST","/accounts/api-key",t,!0,!0);case 2:return n=e.sent,e.abrupt("return",new nl(n));case 4:case"end":return e.stop()}},e,this)}))}},{key:"postUserRotateApiKey",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function e(){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("POST","/accounts/rotate-api-key",t,!0,!0);case 2:return n=e.sent,e.abrupt("return",new nl(n));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getFolder",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/folders/"+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nI(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postFolder",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/folders",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nI(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putFolder",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/folders/"+e,t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nI(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"deleteFolder",value:function(e){return this.send("DELETE","/folders/"+e,null,!0,!1)}},{key:"getSend",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/sends/"+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n8(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postSendAccess",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/sends/access/"+e,t,!1,!0);case 2:return r=n.sent,n.abrupt("return",new n7(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getSends",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/sends",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nU(t,n8));case 4:case"end":return e.stop()}},e,this)}))}},{key:"postSend",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/sends",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n8(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postSendFile",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/sends/file",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n8(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putSend",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/sends/"+e,t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new n8(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putSendRemovePassword",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/sends/"+e+"/remove-password",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new n8(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"deleteSend",value:function(e){return this.send("DELETE","/sends/"+e,null,!0,!1)}},{key:"getCipher",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/ciphers/"+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nE(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getCipherAdmin",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/ciphers/"+e+"/admin",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nE(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getCiphersOrganization",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/ciphers/organization-details?organizationId="+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,nE));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postCipher",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/ciphers",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nE(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postCipherCreate",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/ciphers/create",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nE(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postCipherAdmin",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/ciphers/admin",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nE(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putCipher",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/ciphers/"+e,t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nE(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putCipherAdmin",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/ciphers/"+e+"/admin",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nE(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"deleteCipher",value:function(e){return this.send("DELETE","/ciphers/"+e,null,!0,!1)}},{key:"deleteCipherAdmin",value:function(e){return this.send("DELETE","/ciphers/"+e+"/admin",null,!0,!1)}},{key:"deleteManyCiphers",value:function(e){return this.send("DELETE","/ciphers",e,!0,!1)}},{key:"deleteManyCiphersAdmin",value:function(e){return this.send("DELETE","/ciphers/admin",e,!0,!1)}},{key:"putMoveCiphers",value:function(e){return this.send("PUT","/ciphers/move",e,!0,!1)}},{key:"putShareCipher",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/ciphers/"+e+"/share",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nE(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putShareCiphers",value:function(e){return this.send("PUT","/ciphers/share",e,!0,!1)}},{key:"putCipherCollections",value:function(e,t){return this.send("PUT","/ciphers/"+e+"/collections",t,!0,!1)}},{key:"putCipherCollectionsAdmin",value:function(e,t){return this.send("PUT","/ciphers/"+e+"/collections-admin",t,!0,!1)}},{key:"postPurgeCiphers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/ciphers/purge";return null!=t&&(n+="?organizationId="+t),this.send("POST",n,e,!0,!1)}},{key:"postImportCiphers",value:function(e){return this.send("POST","/ciphers/import",e,!0,!1)}},{key:"postImportOrganizationCiphers",value:function(e,t){return this.send("POST","/ciphers/import-organization?organizationId="+e,t,!0,!1)}},{key:"putDeleteCipher",value:function(e){return this.send("PUT","/ciphers/"+e+"/delete",null,!0,!1)}},{key:"putDeleteCipherAdmin",value:function(e){return this.send("PUT","/ciphers/"+e+"/delete-admin",null,!0,!1)}},{key:"putDeleteManyCiphers",value:function(e){return this.send("PUT","/ciphers/delete",e,!0,!1)}},{key:"putDeleteManyCiphersAdmin",value:function(e){return this.send("PUT","/ciphers/delete-admin",e,!0,!1)}},{key:"putRestoreCipher",value:function(e){return this.send("PUT","/ciphers/"+e+"/restore",null,!0,!1)}},{key:"putRestoreCipherAdmin",value:function(e){return this.send("PUT","/ciphers/"+e+"/restore-admin",null,!0,!1)}},{key:"putRestoreManyCiphers",value:function(e){return this.send("PUT","/ciphers/restore",e,!0,!1)}},{key:"postCipherAttachment",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/ciphers/"+e+"/attachment",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nE(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postCipherAttachmentAdmin",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/ciphers/"+e+"/attachment-admin",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nE(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"deleteCipherAttachment",value:function(e,t){return this.send("DELETE","/ciphers/"+e+"/attachment/"+t,null,!0,!1)}},{key:"deleteCipherAttachmentAdmin",value:function(e,t){return this.send("DELETE","/ciphers/"+e+"/attachment/"+t+"/admin",null,!0,!1)}},{key:"postShareCipherAttachment",value:function(e,t,n,r){return this.send("POST","/ciphers/"+e+"/attachment/"+t+"/share?organizationId="+r,n,!0,!1)}},{key:"getCollectionDetails",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/collections/"+t+"/details",null,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nD(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getUserCollections",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/collections",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nU(t,nP));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getCollections",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/collections",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,nP));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getCollectionUsers",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/collections/"+t+"/users",null,!0,!0);case 2:return r=n.sent,n.abrupt("return",r.map(function(e){return new nC(e)}));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postCollection",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/collections",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nP(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putCollection",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("PUT","/organizations/"+e+"/collections/"+t,n,!0,!0);case 2:return a=r.sent,r.abrupt("return",new nP(a));case 4:case"end":return r.stop()}},r,this)}))}},{key:"putCollectionUsers",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("PUT","/organizations/"+e+"/collections/"+t+"/users",n,!0,!1);case 2:case"end":return r.stop()}},r,this)}))}},{key:"deleteCollection",value:function(e,t){return this.send("DELETE","/organizations/"+e+"/collections/"+t,null,!0,!1)}},{key:"deleteCollectionUser",value:function(e,t,n){return this.send("DELETE","/organizations/"+e+"/collections/"+t+"/user/"+n,null,!0,!1)}},{key:"getGroupDetails",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/groups/"+t+"/details",null,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nF(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getGroups",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/groups",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,nz));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getGroupUsers",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/groups/"+t+"/users",null,!0,!0);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n,this)}))}},{key:"postGroup",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/groups",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nz(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putGroup",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("PUT","/organizations/"+e+"/groups/"+t,n,!0,!0);case 2:return a=r.sent,r.abrupt("return",new nz(a));case 4:case"end":return r.stop()}},r,this)}))}},{key:"putGroupUsers",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("PUT","/organizations/"+e+"/groups/"+t+"/users",n,!0,!1);case 2:case"end":return r.stop()}},r,this)}))}},{key:"deleteGroup",value:function(e,t){return this.send("DELETE","/organizations/"+e+"/groups/"+t,null,!0,!1)}},{key:"deleteGroupUser",value:function(e,t,n){return this.send("DELETE","/organizations/"+e+"/groups/"+t+"/user/"+n,null,!0,!1)}},{key:"getPolicy",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/policies/"+t,null,!0,!0);case 2:return r=n.sent,n.abrupt("return",new n3(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getPolicies",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/policies",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,n3));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getPoliciesByToken",value:function(e,t,n,r){return rf(this,void 0,void 0,ti().mark(function a(){var i;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.send("GET","/organizations/"+e+"/policies/token?token="+encodeURIComponent(t)+"&email="+encodeURIComponent(n)+"&organizationUserId="+r,null,!1,!0);case 2:return i=a.sent,a.abrupt("return",new nU(i,n3));case 4:case"end":return a.stop()}},a,this)}))}},{key:"putPolicy",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("PUT","/organizations/"+e+"/policies/"+t,n,!0,!0);case 2:return a=r.sent,r.abrupt("return",new n3(a));case 4:case"end":return r.stop()}},r,this)}))}},{key:"getOrganizationUser",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/users/"+t,null,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nX(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getOrganizationUserGroups",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("GET","/organizations/"+e+"/users/"+t+"/groups",null,!0,!0);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n,this)}))}},{key:"getOrganizationUsers",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/users",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,n$));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postOrganizationUserInvite",value:function(e,t){return this.send("POST","/organizations/"+e+"/users/invite",t,!0,!1)}},{key:"postOrganizationUserReinvite",value:function(e,t){return this.send("POST","/organizations/"+e+"/users/"+t+"/reinvite",null,!0,!1)}},{key:"postOrganizationUserAccept",value:function(e,t,n){return this.send("POST","/organizations/"+e+"/users/"+t+"/accept",n,!0,!1)}},{key:"postOrganizationUserConfirm",value:function(e,t,n){return this.send("POST","/organizations/"+e+"/users/"+t+"/confirm",n,!0,!1)}},{key:"putOrganizationUser",value:function(e,t,n){return this.send("PUT","/organizations/"+e+"/users/"+t,n,!0,!1)}},{key:"putOrganizationUserGroups",value:function(e,t,n){return this.send("PUT","/organizations/"+e+"/users/"+t+"/groups",n,!0,!1)}},{key:"deleteOrganizationUser",value:function(e,t){return this.send("DELETE","/organizations/"+e+"/users/"+t,null,!0,!1)}},{key:"getPlans",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/plans/",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nU(t,nV));case 4:case"end":return e.stop()}},e,this)}))}},{key:"postImportDirectory",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.send("POST","/organizations/"+e+"/import",t,!0,!1));case 1:case"end":return n.stop()}},n,this)}))}},{key:"getSettingsDomains",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/settings/domains",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nR(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"putSettingsDomains",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/settings/domains",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nR(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getSync",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.isDesktopClient||this.isWebClient?"/sync?excludeDomains=true":"/sync",e.next=3,this.send("GET",t,null,!0,!0);case 3:return n=e.sent,e.abrupt("return",new n9(n));case 5:case"end":return e.stop()}},e,this)}))}},{key:"getTwoFactorProviders",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("GET","/two-factor",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",new nU(t,ra));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getTwoFactorOrganizationProviders",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/two-factor",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nU(n,ra));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorAuthenticator",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-authenticator",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rt(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorEmail",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-email",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rr(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorDuo",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-duo",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rn(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorOrganizationDuo",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/two-factor/get-duo",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new rn(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getTwoFactorYubiKey",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-yubikey",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rl(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorU2f",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-u2f",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rc(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorU2fChallenge",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-u2f-challenge",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new ru(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTwoFactorRecover",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/two-factor/get-recover",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new ri(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorAuthenticator",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/authenticator",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rt(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorEmail",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/email",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rr(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorDuo",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/duo",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rn(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorOrganizationDuo",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/organizations/"+e+"/two-factor/duo",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new rn(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putTwoFactorYubiKey",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/yubikey",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rl(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorU2f",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/u2f",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rc(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"deleteTwoFactorU2f",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("DELETE","/two-factor/u2f",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rc(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorDisable",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("PUT","/two-factor/disable",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new ra(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putTwoFactorOrganizationDisable",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/organizations/"+e+"/two-factor/disable",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new ra(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postTwoFactorRecover",value:function(e){return this.send("POST","/two-factor/recover",e,!1,!1)}},{key:"postTwoFactorEmailSetup",value:function(e){return this.send("POST","/two-factor/send-email",e,!0,!1)}},{key:"postTwoFactorEmail",value:function(e){return this.send("POST","/two-factor/send-email-login",e,!1,!1)}},{key:"getOrganization",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nH(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getOrganizationBilling",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/billing",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nf(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getOrganizationSubscription",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/subscription",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nQ(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getOrganizationLicense",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.send("GET","/organizations/"+e+"/license?installationId="+t,null,!0,!0));case 1:case"end":return n.stop()}},n,this)}))}},{key:"getOrganizationTaxInfo",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/organizations/"+e+"/tax",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new re(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postOrganization",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/organizations",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nH(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"putOrganization",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("PUT","/organizations/"+e,t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nH(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"putOrganizationTaxInfo",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.send("PUT","/organizations/"+e+"/tax",t,!0,!1));case 1:case"end":return n.stop()}},n,this)}))}},{key:"postLeaveOrganization",value:function(e){return this.send("POST","/organizations/"+e+"/leave",null,!0,!1)}},{key:"postOrganizationLicense",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/organizations/license",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",new nH(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postOrganizationLicenseUpdate",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.send("POST","/organizations/"+e+"/license",t,!0,!1));case 1:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationApiKey",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/api-key",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nl(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationRotateApiKey",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/rotate-api-key",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new nl(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationUpgrade",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/upgrade",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new n2(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationSeat",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/seat",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new n2(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationStorage",value:function(e,t){return rf(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send("POST","/organizations/"+e+"/storage",t,!0,!0);case 2:return r=n.sent,n.abrupt("return",new n2(r));case 4:case"end":return n.stop()}},n,this)}))}},{key:"postOrganizationPayment",value:function(e,t){return this.send("POST","/organizations/"+e+"/payment",t,!0,!1)}},{key:"postOrganizationVerifyBank",value:function(e,t){return this.send("POST","/organizations/"+e+"/verify-bank",t,!0,!1)}},{key:"postOrganizationCancel",value:function(e){return this.send("POST","/organizations/"+e+"/cancel",null,!0,!1)}},{key:"postOrganizationReinstate",value:function(e){return this.send("POST","/organizations/"+e+"/reinstate",null,!0,!1)}},{key:"deleteOrganization",value:function(e,t){return this.send("DELETE","/organizations/"+e,t,!0,!1)}},{key:"getEvents",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send("GET",this.addEventParameters("/events",e,t,n),null,!0,!0);case 2:return a=r.sent,r.abrupt("return",new nU(a,nM));case 4:case"end":return r.stop()}},r,this)}))}},{key:"getEventsCipher",value:function(e,t,n,r){return rf(this,void 0,void 0,ti().mark(function a(){var i;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.send("GET",this.addEventParameters("/ciphers/"+e+"/events",t,n,r),null,!0,!0);case 2:return i=a.sent,a.abrupt("return",new nU(i,nM));case 4:case"end":return a.stop()}},a,this)}))}},{key:"getEventsOrganization",value:function(e,t,n,r){return rf(this,void 0,void 0,ti().mark(function a(){var i;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.send("GET",this.addEventParameters("/organizations/"+e+"/events",t,n,r),null,!0,!0);case 2:return i=a.sent,a.abrupt("return",new nU(i,nM));case 4:case"end":return a.stop()}},a,this)}))}},{key:"getEventsOrganizationUser",value:function(e,t,n,r,a){return rf(this,void 0,void 0,ti().mark(function i(){var o;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.send("GET",this.addEventParameters("/organizations/"+e+"/users/"+t+"/events",n,r,a),null,!0,!0);case 2:return o=i.sent,i.abrupt("return",new nU(o,nM));case 4:case"end":return i.stop()}},i,this)}))}},{key:"postEventsCollect",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getActiveBearerToken();case 2:return n=t.sent,r=new Headers({"Device-Type":this.deviceType,Authorization:"Bearer "+n,"Content-Type":"application/json; charset=utf-8"}),null!=this.customUserAgent&&r.set("User-Agent",this.customUserAgent),t.next=7,this.fetch(new Request(this.eventsBaseUrl+"/collect",{cache:"no-store",credentials:this.getCredentials(),method:"POST",body:JSON.stringify(e),headers:r}));case 7:if(200===t.sent.status){t.next=10;break}return t.abrupt("return",Promise.reject("Event post failed."));case 10:case"end":return t.stop()}},t,this)}))}},{key:"getUserPublicKey",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/users/"+e+"/public-key",null,!0,!0);case 2:return n=t.sent,t.abrupt("return",new rd(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getHibpBreach",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("GET","/hibp/breach?username="+e,null,!0,!0);case 2:return n=t.sent,t.abrupt("return",n.map(function(e){return new nv(e)}));case 4:case"end":return t.stop()}},t,this)}))}},{key:"postBitPayInvoice",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("POST","/bitpay-invoice",e,!0,!0);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"postSetupPayment",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("POST","/setup-payment",null,!0,!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getActiveBearerToken",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tokenService.getToken();case 2:if(t=e.sent,!this.tokenService.tokenNeedsRefresh()){e.next=8;break}return e.next=6,this.doRefreshToken();case 6:t=e.sent.accessToken;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}))}},{key:"fetch",value:function(e){return"GET"===e.method&&(e.headers.set("Cache-Control","no-store"),e.headers.set("Pragma","no-cache")),this.nativeFetch(e)}},{key:"nativeFetch",value:function(e){return fetch(e)}},{key:"preValidateSso",value:function(e){return rf(this,void 0,void 0,ti().mark(function t(){var n,r,a,i;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&""!==e){t.next=2;break}throw Error("Organization Identifier was not provided.");case 2:return n=new Headers({Accept:"application/json","Device-Type":this.deviceType}),null!=this.customUserAgent&&n.set("User-Agent",this.customUserAgent),r="/account/prevalidate?domainHint=".concat(encodeURIComponent(e)),t.next=7,this.fetch(new Request(this.identityBaseUrl+r,{cache:"no-store",credentials:this.getCredentials(),headers:n,method:"GET"}));case 7:if(200!==(a=t.sent).status){t.next=12;break}return t.abrupt("return",!0);case 12:return t.next=14,this.handleError(a,!1,!0);case 14:return i=t.sent,t.abrupt("return",Promise.reject(i));case 16:case"end":return t.stop()}},t,this)}))}},{key:"send",value:function(e,t,n,r,a){return rf(this,void 0,void 0,ti().mark(function i(){var o,c,s,u,l,d;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=new Headers({"Device-Type":this.deviceType}),null!=this.customUserAgent&&o.set("User-Agent",this.customUserAgent),c={cache:"no-store",credentials:this.getCredentials(),method:e},!r){i.next=8;break}return i.next=6,this.getActiveBearerToken();case 6:s=i.sent,o.set("Authorization","Bearer "+s);case 8:return null!=n&&("string"==typeof n?(c.body=n,o.set("Content-Type","application/x-www-form-urlencoded; charset=utf-8")):"object"==typeof n&&(n instanceof FormData?c.body=n:(o.set("Content-Type","application/json; charset=utf-8"),c.body=JSON.stringify(n)))),a&&o.set("Accept","application/json"),c.headers=o,i.next=13,this.fetch(new Request(this.apiBaseUrl+t,c));case 13:if(u=i.sent,!(a&&200===u.status)){i.next=21;break}return i.next=17,u.json();case 17:return l=i.sent,i.abrupt("return",l);case 21:if(200===u.status){i.next=26;break}return i.next=24,this.handleError(u,!1,r);case 24:return d=i.sent,i.abrupt("return",Promise.reject(d));case 26:case"end":return i.stop()}},i,this)}))}},{key:"handleError",value:function(e,t,n){return rf(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n&&(t&&400===e.status||401===e.status||403===e.status))){r.next=4;break}return r.next=3,this.logoutCallback(!0);case 3:return r.abrupt("return",null);case 4:if(a=null,!this.isJsonResponse(e)){r.next=9;break}return r.next=8,e.json();case 8:a=r.sent;case 9:return r.abrupt("return",new nj(a,e.status,t));case 10:case"end":return r.stop()}},r,this)}))}},{key:"doRefreshToken",value:function(){return rf(this,void 0,void 0,ti().mark(function e(){var t,n,r,a,i,o;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tokenService.getRefreshToken();case 2:if(null!=(t=e.sent)&&""!==t){e.next=5;break}throw Error();case 5:return n=new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Accept:"application/json","Device-Type":this.deviceType}),null!=this.customUserAgent&&n.set("User-Agent",this.customUserAgent),r=this.tokenService.decodeToken(),e.next=10,this.fetch(new Request(this.identityBaseUrl+"/connect/token",{body:this.qsStringify({grant_type:"refresh_token",client_id:r.client_id,refresh_token:t}),cache:"no-store",credentials:this.getCredentials(),headers:n,method:"POST"}));case 10:if(200!==(a=e.sent).status){e.next=21;break}return e.next=14,a.json();case 14:return i=new nL(e.sent),e.next=18,this.tokenService.setTokens(i.accessToken,i.refreshToken);case 18:return e.abrupt("return",i);case 21:return e.next=23,this.handleError(a,!0,!0);case 23:return o=e.sent,e.abrupt("return",Promise.reject(o));case 25:case"end":return e.stop()}},e,this)}))}},{key:"qsStringify",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"getCredentials",value:function(){if(this.device!==U.SafariExtension&&(!this.isWebClient||this.usingBaseUrl))return"include"}},{key:"addEventParameters",value:function(e,t,n,r){return null!=t&&(e+="?start="+t),null!=n&&(e+=e.indexOf("?")>-1?"&":"?",e+="end="+n),null!=r&&(e+=e.indexOf("?")>-1?"&":"?",e+="continuationToken="+r),e}},{key:"isJsonResponse",value:function(e){var t=e.headers.get("content-type");return null!=t&&t.indexOf("application/json")>-1}}]),e}(),rh=function(){function e(t){ei()(this,e),this.storageService=t}return ec()(e,[{key:"getAppId",value:function(){return this.makeAndGetAppId("appId")}},{key:"getAnonymousAppId",value:function(){return this.makeAndGetAppId("anonymousAppId")}},{key:"makeAndGetAppId",value:function(e){var t,n,r,a;return t=this,n=void 0,r=void 0,a=ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.get(e);case 2:if(null==(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return r=ns.newGuid(),t.next=8,this.storageService.save(e,r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}),new(r||(r=Promise))(function(e,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(o,c)}s((a=a.apply(t,n||[])).next())})}}]),e}();(h=V||(V={}))[h.Authenticator=0]="Authenticator",h[h.Email=1]="Email",h[h.Duo=2]="Duo",h[h.Yubikey=3]="Yubikey",h[h.U2f=4]="U2f",h[h.Remember=5]="Remember",h[h.OrganizationDuo=6]="OrganizationDuo";var rm=ec()(function e(){ei()(this,e),this.twoFactor=!1,this.resetMasterPassword=!1,this.twoFactorProviders=null}),rv=ec()(function e(t,n){ei()(this,e),this.type=n.getDevice(),this.name=n.getDeviceString(),this.identifier=t,this.pushToken=null}),ry=ec()(function e(t,n){ei()(this,e),this.publicKey=t,this.encryptedPrivateKey=n}),rg=ec()(function e(t){ei()(this,e),this.email=t}),rb=function(){function e(t,n,r,a,i,o,c){ei()(this,e),null!=t&&t.length>1?(this.email=t[0],this.masterPasswordHash=t[1]):null!=n&&n.length>2?(this.code=n[0],this.codeVerifier=n[1],this.redirectUri=n[2]):null!=r&&r.length>1&&(this.clientId=r[0],this.clientSecret=r[1]),this.token=i,this.provider=a,this.remember=o,this.device=null!=c?c:null}return ec()(e,[{key:"toIdentityToken",value:function(e){var t={scope:"api offline_access",client_id:e};if(null!=this.clientSecret)t.scope="api",t.grant_type="client_credentials",t.client_secret=this.clientSecret;else if(null!=this.masterPasswordHash&&null!=this.email)t.grant_type="password",t.username=this.email,t.password=this.masterPasswordHash;else if(null!=this.code&&null!=this.codeVerifier&&null!=this.redirectUri)t.grant_type="authorization_code",t.code=this.code,t.code_verifier=this.codeVerifier,t.redirect_uri=this.redirectUri;else throw Error("must provide credentials or codes");return this.device&&(t.deviceType=this.device.type,t.deviceIdentifier=this.device.identifier,t.deviceName=this.device.name),this.token&&null!=this.provider&&(t.twoFactorToken=this.token,t.twoFactorProvider=this.provider,t.twoFactorRemember=this.remember?"1":"0"),t}}]),e}(),rw=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},rk=(H={},er()(H,V.Authenticator,{type:V.Authenticator,name:null,description:null,priority:1,sort:1,premium:!1}),er()(H,V.Yubikey,{type:V.Yubikey,name:null,description:null,priority:3,sort:2,premium:!0}),er()(H,V.Duo,{type:V.Duo,name:"Duo",description:null,priority:2,sort:3,premium:!0}),er()(H,V.OrganizationDuo,{type:V.OrganizationDuo,name:"Duo (Organization)",description:null,priority:10,sort:4,premium:!1}),er()(H,V.U2f,{type:V.U2f,name:null,description:null,priority:4,sort:5,premium:!0}),er()(H,V.Email,{type:V.Email,name:null,description:null,priority:0,sort:6,premium:!1}),H),rx=function(){function e(t,n,r,a,i,o,c,s,u){var l=!(arguments.length>9)||void 0===arguments[9]||arguments[9];ei()(this,e),this.cryptoService=t,this.apiService=n,this.userService=r,this.tokenService=a,this.appIdService=i,this.i18nService=o,this.platformUtilsService=c,this.messagingService=s,this.vaultTimeoutService=u,this.setCryptoKeys=l,this.selectedTwoFactorProviderType=null}return ec()(e,[{key:"init",value:function(){rk[V.Email].name=this.i18nService.t("emailTitle"),rk[V.Email].description=this.i18nService.t("emailDesc"),rk[V.Authenticator].name=this.i18nService.t("authenticatorAppTitle"),rk[V.Authenticator].description=this.i18nService.t("authenticatorAppDesc"),rk[V.Duo].description=this.i18nService.t("duoDesc"),rk[V.OrganizationDuo].name="Duo ("+this.i18nService.t("organization")+")",rk[V.OrganizationDuo].description=this.i18nService.t("duoOrganizationDesc"),rk[V.U2f].name=this.i18nService.t("u2fTitle"),rk[V.U2f].description=this.i18nService.t("u2fDesc"),rk[V.Yubikey].name=this.i18nService.t("yubiKeyTitle"),rk[V.Yubikey].description=this.i18nService.t("yubiKeyDesc")}},{key:"logIn",value:function(e,t){return rw(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.selectedTwoFactorProviderType=null,n.next=3,this.makePreloginKey(t,e);case 3:return r=n.sent,n.next=6,this.cryptoService.hashPassword(t,r);case 6:return a=n.sent,n.next=9,this.logInHelper(e,a,null,null,null,null,null,r,null,null,null);case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}},n,this)}))}},{key:"logInSso",value:function(e,t,n){return rw(this,void 0,void 0,ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.selectedTwoFactorProviderType=null,r.next=3,this.logInHelper(null,null,e,t,n,null,null,null,null,null,null);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,this)}))}},{key:"logInApiKey",value:function(e,t){return rw(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.selectedTwoFactorProviderType=null,n.next=3,this.logInHelper(null,null,null,null,null,e,t,null,null,null,null);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))}},{key:"logInTwoFactor",value:function(e,t,n){return rw(this,void 0,void 0,ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.logInHelper(this.email,this.masterPasswordHash,this.code,this.codeVerifier,this.ssoRedirectUrl,this.clientId,this.clientSecret,this.key,e,t,n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"logInComplete",value:function(e,t,n,r,a){return rw(this,void 0,void 0,ti().mark(function i(){var o,c;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.selectedTwoFactorProviderType=null,i.next=3,this.makePreloginKey(t,e);case 3:return o=i.sent,i.next=6,this.cryptoService.hashPassword(t,o);case 6:return c=i.sent,i.next=9,this.logInHelper(e,c,null,null,null,null,null,o,n,r,a);case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}},i,this)}))}},{key:"logInSsoComplete",value:function(e,t,n,r,a,i){return rw(this,void 0,void 0,ti().mark(function o(){return ti().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.selectedTwoFactorProviderType=null,o.next=3,this.logInHelper(null,null,e,t,n,null,null,null,r,a,i);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},o,this)}))}},{key:"logInApiKeyComplete",value:function(e,t,n,r,a){return rw(this,void 0,void 0,ti().mark(function i(){return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.selectedTwoFactorProviderType=null,i.next=3,this.logInHelper(null,null,null,null,null,e,t,null,n,r,a);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},i,this)}))}},{key:"logOut",value:function(e){e(),this.messagingService.send("loggedOut")}},{key:"getSupportedTwoFactorProviders",value:function(e){var t=[];return null==this.twoFactorProvidersData||(this.twoFactorProvidersData.has(V.OrganizationDuo)&&this.platformUtilsService.supportsDuo()&&t.push(rk[V.OrganizationDuo]),this.twoFactorProvidersData.has(V.Authenticator)&&t.push(rk[V.Authenticator]),this.twoFactorProvidersData.has(V.Yubikey)&&t.push(rk[V.Yubikey]),this.twoFactorProvidersData.has(V.Duo)&&this.platformUtilsService.supportsDuo()&&t.push(rk[V.Duo]),this.twoFactorProvidersData.has(V.U2f)&&this.platformUtilsService.supportsU2f(e)&&t.push(rk[V.U2f]),this.twoFactorProvidersData.has(V.Email)&&t.push(rk[V.Email])),t}},{key:"getDefaultTwoFactorProvider",value:function(e){if(null==this.twoFactorProvidersData)return null;if(null!=this.selectedTwoFactorProviderType&&this.twoFactorProvidersData.has(this.selectedTwoFactorProviderType))return this.selectedTwoFactorProviderType;var t=null,n=-1;return this.twoFactorProvidersData.forEach(function(r,a){var i=rk[a];if(null!=i&&i.priority>n){if(a===V.U2f&&!e)return;t=a,n=i.priority}}),t}},{key:"makePreloginKey",value:function(e,t){return rw(this,void 0,void 0,ti().mark(function n(){var r,a,i,o;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=t.trim().toLowerCase(),r=null,a=null,i=null,n.prev=4,n.next=7,this.apiService.postPrelogin(new rg(t));case 7:null!=(o=n.sent)&&(r=o.kdf,a=o.kdfIterations,i=o.salt),n.next=15;break;case 11:if(n.prev=11,n.t0=n.catch(4),null!=n.t0&&404===n.t0.statusCode){n.next=15;break}throw n.t0;case 15:return n.abrupt("return",this.cryptoService.makeKey(e,i,r,a));case 16:case"end":return n.stop()}},n,this,[[4,11]])}))}},{key:"authingWithApiKey",value:function(){return null!=this.clientId&&null!=this.clientSecret}},{key:"authingWithSso",value:function(){return null!=this.code&&null!=this.codeVerifier&&null!=this.ssoRedirectUrl}},{key:"authingWithPassword",value:function(){return null!=this.email&&null!=this.masterPasswordHash}},{key:"logInHelper",value:function(e,t,n,r,a,i,o,c,s,u,l){return rw(this,void 0,void 0,ti().mark(function d(){var f,p,h,m,v,y,g,b,w,k,x;return ti().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.tokenService.getTwoFactorToken(e);case 2:return f=d.sent,d.next=5,this.appIdService.getAppId();case 5:return p=new rv(d.sent,this.platformUtilsService),h=[],m=[],v=[],h=null!=e&&null!=t?[e,t]:null,m=null!=n&&null!=r&&null!=a?[n,r,a]:null,v=null!=i&&null!=o?[i,o]:null,y=null!=u&&null!=s?new rb(h,m,v,s,u,l,p):null!=f?new rb(h,m,v,V.Remember,f,!1,p):new rb(h,m,v,null,null,!1,p),d.next=16,this.apiService.postIdentityToken(y);case 16:if(g=d.sent,this.clearState(),(b=new rm).twoFactor=!g.accessToken,!b.twoFactor){d.next=33;break}return w=g,this.email=e,this.masterPasswordHash=t,this.code=n,this.codeVerifier=r,this.ssoRedirectUrl=a,this.clientId=i,this.clientSecret=o,this.key=this.setCryptoKeys?c:null,this.twoFactorProvidersData=w.twoFactorProviders2,b.twoFactorProviders=w.twoFactorProviders2,d.abrupt("return",b);case 33:if(k=g,b.resetMasterPassword=k.resetMasterPassword,null==k.twoFactorToken){d.next=38;break}return d.next=38,this.tokenService.setTwoFactorToken(k.twoFactorToken,e);case 38:return d.next=40,this.tokenService.setTokens(k.accessToken,k.refreshToken);case 40:return d.next=42,this.userService.setInformation(this.tokenService.getUserId(),this.tokenService.getEmail(),k.kdf,k.kdfIterations);case 42:if(!this.setCryptoKeys){d.next=67;break}if(null==c){d.next=46;break}return d.next=46,this.cryptoService.setKey(c);case 46:if(null==t){d.next=49;break}return d.next=49,this.cryptoService.setKeyHash(t);case 49:if(null!=n&&null==k.key){d.next=67;break}return d.next=52,this.cryptoService.setEncKey(k.key);case 52:if(null!=k.privateKey){d.next=65;break}return d.prev=53,d.next=56,this.cryptoService.makeKeyPair();case 56:return x=d.sent,d.next=59,this.apiService.postAccountKeys(new ry(x[0],x[1].encryptedString));case 59:k.privateKey=x[1].encryptedString,d.next=65;break;case 62:d.prev=62,d.t0=d.catch(53),console.error(d.t0);case 65:return d.next=67,this.cryptoService.setEncPrivateKey(k.privateKey);case 67:return null!=this.vaultTimeoutService&&(this.vaultTimeoutService.biometricLocked=!1),this.messagingService.send("loggedIn"),d.abrupt("return",b);case 70:case"end":return d.stop()}},d,this,[[53,62]])}))}},{key:"clearState",value:function(){this.key=null,this.email=null,this.masterPasswordHash=null,this.code=null,this.codeVerifier=null,this.ssoRedirectUrl=null,this.clientId=null,this.clientSecret=null,this.twoFactorProvidersData=null,this.selectedTwoFactorProviderType=null}}]),e}();(m=q||(q={}))[m.Login=1]="Login",m[m.SecureNote=2]="SecureNote",m[m.Card=3]="Card",m[m.Identity=4]="Identity",(v=W||(W={}))[v.Text=0]="Text",v[v.Hidden=1]="Hidden",v[v.Boolean=2]="Boolean",(y=G||(G={}))[y.Domain=0]="Domain",y[y.Host=1]="Host",y[y.StartsWith=2]="StartsWith",y[y.Exact=3]="Exact",y[y.RegularExpression=4]="RegularExpression",y[y.Never=5]="Never";var rO=ec()(function e(t){ei()(this,e),null!=t&&(this.id=t.id,this.url=t.url,this.fileName=t.fileName,this.key=t.key,this.size=t.size,this.sizeName=t.sizeName)}),r_=ec()(function e(t){ei()(this,e),null!=t&&(this.cardholderName=t.cardholderName,this.brand=t.brand,this.number=t.number,this.expMonth=t.expMonth,this.expYear=t.expYear,this.code=t.code)}),rE=ec()(function e(t){ei()(this,e),null!=t&&(this.type=t.type,this.name=t.name,this.value=t.value)}),rC=ec()(function e(t){ei()(this,e),null!=t&&(this.title=t.title,this.firstName=t.firstName,this.middleName=t.middleName,this.lastName=t.lastName,this.address1=t.address1,this.address2=t.address2,this.address3=t.address3,this.city=t.city,this.state=t.state,this.postalCode=t.postalCode,this.country=t.country,this.company=t.company,this.email=t.email,this.phone=t.phone,this.ssn=t.ssn,this.username=t.username,this.passportNumber=t.passportNumber,this.licenseNumber=t.licenseNumber)}),rS=ec()(function e(t){ei()(this,e),this.match=null,null!=t&&(this.uri=t.uri,this.match=t.match)}),rP=ec()(function e(t){ei()(this,e),null!=t&&(this.username=t.username,this.password=t.password,this.passwordRevisionDate=t.passwordRevisionDate,this.totp=t.totp,t.uris&&(this.uris=t.uris.map(function(e){return new rS(e)})))}),rA=ec()(function e(t){ei()(this,e),null!=t&&(this.password=t.password,this.lastUsedDate=t.lastUsedDate)}),rD=ec()(function e(t){ei()(this,e),null!=t&&(this.type=t.type)}),rT=ec()(function e(t,n,r){if(ei()(this,e),null!=t){switch(this.id=t.id,this.organizationId=t.organizationId,this.folderId=t.folderId,this.userId=n,this.edit=t.edit,this.viewPassword=t.viewPassword,this.organizationUseTotp=t.organizationUseTotp,this.favorite=t.favorite,this.revisionDate=t.revisionDate,this.type=t.type,this.name=t.name,this.notes=t.notes,this.collectionIds=null!=r?r:t.collectionIds,this.deletedDate=t.deletedDate,this.type){case q.Login:this.login=new rP(t.login);break;case q.SecureNote:this.secureNote=new rD(t.secureNote);break;case q.Card:this.card=new r_(t.card);break;case q.Identity:this.identity=new rC(t.identity)}null!=t.fields&&(this.fields=t.fields.map(function(e){return new rE(e)})),null!=t.attachments&&(this.attachments=t.attachments.map(function(e){return new rO(e)})),null!=t.passwordHistory&&(this.passwordHistory=t.passwordHistory.map(function(e){return new rA(e)}))}}),rR=function(){function e(t){ei()(this,e),this.id=null,this.url=null,this.size=null,this.sizeName=null,this.fileName=null,this.key=null,t&&(this.id=t.id,this.url=t.url,this.size=t.size,this.sizeName=t.sizeName)}return ec()(e,[{key:"fileSize",get:function(){try{if(null!=this.size)return parseInt(this.size,null)}catch(e){}return 0}}]),e}();(g=Z||(Z={}))[g.AesCbc256_B64=0]="AesCbc256_B64",g[g.AesCbc128_HmacSha256_B64=1]="AesCbc128_HmacSha256_B64",g[g.AesCbc256_HmacSha256_B64=2]="AesCbc256_HmacSha256_B64",g[g.Rsa2048_OaepSha256_B64=3]="Rsa2048_OaepSha256_B64",g[g.Rsa2048_OaepSha1_B64=4]="Rsa2048_OaepSha1_B64",g[g.Rsa2048_OaepSha256_HmacSha256_B64=5]="Rsa2048_OaepSha256_HmacSha256_B64",g[g.Rsa2048_OaepSha1_HmacSha256_B64=6]="Rsa2048_OaepSha1_HmacSha256_B64";var rj=function(){function e(t,n,r,a){if(ei()(this,e),null!=n){null!=r?this.encryptedString=t+"."+r+"|"+n:this.encryptedString=t+"."+n,null!=a&&(this.encryptedString+="|"+a),this.encryptionType=t,this.data=n,this.iv=r,this.mac=a;return}if(this.encryptedString=t,this.encryptedString){var i=this.encryptedString.split("."),o=null;if(2===i.length)try{this.encryptionType=parseInt(i[0],null),o=i[1].split("|")}catch(e){return}else o=this.encryptedString.split("|"),this.encryptionType=3===o.length?Z.AesCbc128_HmacSha256_B64:Z.AesCbc256_B64;switch(this.encryptionType){case Z.AesCbc128_HmacSha256_B64:case Z.AesCbc256_HmacSha256_B64:if(3!==o.length)return;this.iv=o[0],this.data=o[1],this.mac=o[2];break;case Z.AesCbc256_B64:if(2!==o.length)return;this.iv=o[0],this.data=o[1];break;case Z.Rsa2048_OaepSha256_B64:case Z.Rsa2048_OaepSha1_B64:if(1!==o.length)return;this.data=o[0];break;default:return}}}return ec()(e,[{key:"decrypt",value:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=this,n=void 0,r=void 0,a=ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.decryptedValue){t.next=2;break}return t.abrupt("return",this.decryptedValue);case 2:if(!(r=ns.global.bitwardenContainerService)){t.next=7;break}n=r.getCryptoService(),t.next=8;break;case 7:throw Error("global bitwardenContainerService not initialized.");case 8:if(t.prev=8,null!=i){t.next=13;break}return t.next=12,n.getOrgKey(e);case 12:i=t.sent;case 13:return t.next=15,n.decryptToUtf8(this,i);case 15:this.decryptedValue=t.sent,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),this.decryptedValue="[error: cannot decrypt]";case 21:return t.abrupt("return",this.decryptedValue);case 22:case"end":return t.stop()}},t,this,[[8,18]])}),new(r||(r=Promise))(function(e,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(o,c)}s((a=a.apply(t,n||[])).next())})}}]),e}(),rM=function(){function e(){ei()(this,e)}return ec()(e,[{key:"buildDomainModel",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];for(var i in n)if(n.hasOwnProperty(i)){var o=t[n[i]||i];!0===r||a.indexOf(i)>-1?e[i]=o||null:e[i]=o?new rj(o):null}}},{key:"buildDataModel",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];for(var a in n)if(n.hasOwnProperty(a)){var i=e[n[a]||a];r.indexOf(a)>-1?t[a]=null!=i?i:null:t[a]=null!=i?i.encryptedString:null}}},{key:"decryptObj",value:function(e,t,n){var r,a,i,o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r=this,a=void 0,i=void 0,o=ti().mark(function r(){var a,i,o;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=[],i=this,r.t0=ti().keys(t);case 3:if((r.t1=r.t0()).done){r.next=10;break}if(o=r.t1.value,t.hasOwnProperty(o)){r.next=7;break}return r.abrupt("continue",3);case 7:!function(r){var o=Promise.resolve().then(function(){var e=t[r]||r;return i[e]?i[e].decrypt(n,c):null}).then(function(t){e[r]=t});a.push(o)}(o),r.next=3;break;case 10:return r.next=12,Promise.all(a);case 12:return r.abrupt("return",e);case 13:case"end":return r.stop()}},r,this)}),new(i||(i=Promise))(function(e,t){function n(e){try{s(o.next(e))}catch(e){t(e)}}function c(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(n,c)}s((o=o.apply(r,a||[])).next())})}}]),e}(),rI=ec()(function e(t,n){if(ei()(this,e),null==t)throw Error("Must provide key");if(null==n)if(32===t.byteLength)n=Z.AesCbc256_B64;else if(64===t.byteLength)n=Z.AesCbc256_HmacSha256_B64;else throw Error("Unable to determine encType.");if(this.key=t,this.encType=n,n===Z.AesCbc256_B64&&32===t.byteLength)this.encKey=t,this.macKey=null;else if(n===Z.AesCbc128_HmacSha256_B64&&32===t.byteLength)this.encKey=t.slice(0,16),this.macKey=t.slice(16,32);else if(n===Z.AesCbc256_HmacSha256_B64&&64===t.byteLength)this.encKey=t.slice(0,32),this.macKey=t.slice(32,64);else throw Error("Unsupported encType/key length.");null!=this.key&&(this.keyB64=ns.fromBufferToB64(this.key)),null!=this.encKey&&(this.encKeyB64=ns.fromBufferToB64(this.encKey)),null!=this.macKey&&(this.macKeyB64=ns.fromBufferToB64(this.macKey))}),rN=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.size=e.size,t.buildDomainModel(eu()(t),e,{id:null,url:null,sizeName:null,fileName:null,key:null},a,["id","url","sizeName"]),t)}return ec()(r,[{key:"decrypt",value:function(e){var t,n,r,a;return t=this,n=void 0,r=void 0,a=ti().mark(function t(){var n,r,a,i,o;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.decryptObj(new rR(this),{fileName:null},e);case 2:if(n=t.sent,null==this.key){t.next=22;break}if(!(a=ns.global.bitwardenContainerService)){t.next=9;break}r=a.getCryptoService(),t.next=10;break;case 9:throw Error("global bitwardenContainerService not initialized.");case 10:return t.prev=10,t.next=13,r.getOrgKey(e);case 13:return i=t.sent,t.next=16,r.decryptToBytes(this.key,i);case 16:o=t.sent,n.key=new rI(o),t.next=22;break;case 20:t.prev=20,t.t0=t.catch(10);case 22:return t.abrupt("return",n);case 23:case"end":return t.stop()}},t,this,[[10,20]])}),new(r||(r=Promise))(function(e,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(o,c)}s((a=a.apply(t,n||[])).next())})}},{key:"toAttachmentData",value:function(){var e=new rO;return e.size=this.size,this.buildDataModel(this,e,{id:null,url:null,sizeName:null,fileName:null,key:null},["id","url","sizeName"]),e}}]),r}(rM),rz=function(){function e(t){ei()(this,e),this.cardholderName=null,this.expMonth=null,this.expYear=null,this.code=null,this._brand=null,this._number=null,this._subTitle=null}return ec()(e,[{key:"maskedCode",get:function(){return null!=this.code?"â€¢".repeat(this.code.length):null}},{key:"brand",get:function(){return this._brand},set:function(e){this._brand=e,this._subTitle=null}},{key:"number",get:function(){return this._number},set:function(e){this._number=e,this._subTitle=null}},{key:"subTitle",get:function(){if(null==this._subTitle&&(this._subTitle=this.brand,null!=this.number&&this.number.length>=4)){null!=this._subTitle&&""!==this._subTitle?this._subTitle+=", ":this._subTitle="";var e=this.number.length>=5&&null!=this.number.match(RegExp("^3[47]"))?5:4;this._subTitle+="*"+this.number.substr(this.number.length-e)}return this._subTitle}},{key:"expiration",get:function(){if(!this.expMonth&&!this.expYear)return null;var e=null!=this.expMonth?("0"+this.expMonth).slice(-2):"__";return e+(" / "+(null!=this.expYear?this.formatYear(this.expYear):"____"))}},{key:"formatYear",value:function(e){return 2===e.length?"20"+e:e}}]),e}(),rF=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.buildDomainModel(eu()(t),e,{cardholderName:null,brand:null,number:null,expMonth:null,expYear:null,code:null},a,[]),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new rz(this),{cardholderName:null,brand:null,number:null,expMonth:null,expYear:null,code:null},e)}},{key:"toCardData",value:function(){var e=new r_;return this.buildDataModel(this,e,{cardholderName:null,brand:null,number:null,expMonth:null,expYear:null,code:null}),e}}]),r}(rM),rL=function(){function e(t){ei()(this,e),this.title=null,this.middleName=null,this.address1=null,this.address2=null,this.address3=null,this.city=null,this.state=null,this.postalCode=null,this.country=null,this.company=null,this.email=null,this.phone=null,this.ssn=null,this.username=null,this.passportNumber=null,this.licenseNumber=null,this._firstName=null,this._lastName=null,this._subTitle=null}return ec()(e,[{key:"firstName",get:function(){return this._firstName},set:function(e){this._firstName=e,this._subTitle=null}},{key:"lastName",get:function(){return this._lastName},set:function(e){this._lastName=e,this._subTitle=null}},{key:"subTitle",get:function(){return null==this._subTitle&&(null!=this.firstName||null!=this.lastName)&&(this._subTitle="",null!=this.firstName&&(this._subTitle=this.firstName),null!=this.lastName&&(""!==this._subTitle&&(this._subTitle+=" "),this._subTitle+=this.lastName)),this._subTitle}},{key:"fullName",get:function(){if(null!=this.title||null!=this.firstName||null!=this.middleName||null!=this.lastName){var e="";return null!=this.title&&(e+=this.title+" "),null!=this.firstName&&(e+=this.firstName+" "),null!=this.middleName&&(e+=this.middleName+" "),null!=this.lastName&&(e+=this.lastName),e.trim()}return null}},{key:"fullAddress",get:function(){var e=this.address1;return ns.isNullOrWhitespace(this.address2)||(ns.isNullOrWhitespace(e)||(e+=", "),e+=this.address2),ns.isNullOrWhitespace(this.address3)||(ns.isNullOrWhitespace(e)||(e+=", "),e+=this.address3),e}},{key:"fullAddressPart2",get:function(){if(null==this.city&&null==this.state&&null==this.postalCode)return null;var e=this.city||"-",t=this.state,n=this.postalCode||"-",r=e;return ns.isNullOrWhitespace(t)||(r+=", "+t),r+=", "+n}}]),e}(),rB=function(){function e(t){ei()(this,e),this.username=null,this.password=null,this.passwordRevisionDate=null,this.totp=null,this.uris=null,t&&(this.passwordRevisionDate=t.passwordRevisionDate)}return ec()(e,[{key:"uri",get:function(){return this.hasUris?this.uris[0].uri:null}},{key:"maskedPassword",get:function(){return null!=this.password?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":null}},{key:"subTitle",get:function(){return this.username}},{key:"canLaunch",get:function(){return this.hasUris&&this.uris.some(function(e){return e.canLaunch})}},{key:"launchUri",get:function(){if(this.hasUris){var e=this.uris.find(function(e){return e.canLaunch});if(null!=e)return e.launchUri}return null}},{key:"hasUris",get:function(){return null!=this.uris&&this.uris.length>0}}]),e}(),rU=function(){function e(t){ei()(this,e),this.type=null,t&&(this.type=t.type)}return ec()(e,[{key:"subTitle",get:function(){return null}}]),e}(),rV=function(){function e(t){ei()(this,e),this.id=null,this.organizationId=null,this.folderId=null,this.name=null,this.notes=null,this.type=null,this.favorite=!1,this.organizationUseTotp=!1,this.edit=!1,this.viewPassword=!0,this.login=new rB,this.identity=new rL,this.card=new rz,this.secureNote=new rU,this.attachments=null,this.fields=null,this.passwordHistory=null,this.collectionIds=null,this.revisionDate=null,this.deletedDate=null,t&&(this.id=t.id,this.organizationId=t.organizationId,this.folderId=t.folderId,this.favorite=t.favorite,this.organizationUseTotp=t.organizationUseTotp,this.edit=t.edit,this.viewPassword=t.viewPassword,this.type=t.type,this.localData=t.localData,this.collectionIds=t.collectionIds,this.revisionDate=t.revisionDate,this.deletedDate=t.deletedDate)}return ec()(e,[{key:"subTitle",get:function(){switch(this.type){case q.Login:return this.login.subTitle;case q.SecureNote:return this.secureNote.subTitle;case q.Card:return this.card.subTitle;case q.Identity:return this.identity.subTitle}return null}},{key:"hasPasswordHistory",get:function(){return this.passwordHistory&&this.passwordHistory.length>0}},{key:"hasAttachments",get:function(){return this.attachments&&this.attachments.length>0}},{key:"hasOldAttachments",get:function(){if(this.hasAttachments){for(var e=0;e<this.attachments.length;e++)if(null==this.attachments[e].key)return!0}return!1}},{key:"hasFields",get:function(){return this.fields&&this.fields.length>0}},{key:"passwordRevisionDisplayDate",get:function(){return this.type!==q.Login||null==this.login||null==this.login.password||""===this.login.password?null:this.login.passwordRevisionDate}},{key:"isDeleted",get:function(){return null!=this.deletedDate}}]),e}(),rH=function(){function e(t){ei()(this,e),this.name=null,this.value=null,this.type=null,this.newField=!1,this.showValue=!1,t&&(this.type=t.type)}return ec()(e,[{key:"maskedValue",get:function(){return null!=this.value?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":null}}]),e}(),rq=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.type=e.type,t.buildDomainModel(eu()(t),e,{name:null,value:null},a,[]),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new rH(this),{name:null,value:null},e)}},{key:"toFieldData",value:function(){var e=new rE;return this.buildDataModel(this,e,{name:null,value:null,type:null},["type"]),e}}]),r}(rM),rW=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.buildDomainModel(eu()(t),e,{title:null,firstName:null,middleName:null,lastName:null,address1:null,address2:null,address3:null,city:null,state:null,postalCode:null,country:null,company:null,email:null,phone:null,ssn:null,username:null,passportNumber:null,licenseNumber:null},a,[]),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new rL(this),{title:null,firstName:null,middleName:null,lastName:null,address1:null,address2:null,address3:null,city:null,state:null,postalCode:null,country:null,company:null,email:null,phone:null,ssn:null,username:null,passportNumber:null,licenseNumber:null},e)}},{key:"toIdentityData",value:function(){var e=new rC;return this.buildDataModel(this,e,{title:null,firstName:null,middleName:null,lastName:null,address1:null,address2:null,address3:null,city:null,state:null,postalCode:null,country:null,company:null,email:null,phone:null,ssn:null,username:null,passportNumber:null,licenseNumber:null}),e}}]),r}(rM),rG=["https://","http://","ssh://","ftp://","sftp://","irc://","vnc://","rdp://","ms-rd:","chrome://","iosapp://","androidapp://"],rZ=function(){function e(t){ei()(this,e),this.match=null,this._uri=null,this._domain=null,this._hostname=null,this._host=null,this._canLaunch=null,t&&(this.match=t.match)}return ec()(e,[{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e,this._domain=null,this._canLaunch=null}},{key:"domain",get:function(){return null==this._domain&&null!=this.uri&&(this._domain=ns.getDomain(this.uri),""===this._domain&&(this._domain=null)),this._domain}},{key:"hostname",get:function(){return this.match===G.RegularExpression?null:(null==this._hostname&&null!=this.uri&&(this._hostname=ns.getHostname(this.uri),""===this._hostname&&(this._hostname=null)),this._hostname)}},{key:"host",get:function(){return this.match===G.RegularExpression?null:(null==this._host&&null!=this.uri&&(this._host=ns.getHost(this.uri),""===this._host&&(this._host=null)),this._host)}},{key:"hostnameOrUri",get:function(){return null!=this.hostname?this.hostname:this.uri}},{key:"hostOrUri",get:function(){return null!=this.host?this.host:this.uri}},{key:"isWebsite",get:function(){return null!=this.uri&&(0===this.uri.indexOf("http://")||0===this.uri.indexOf("https://")||0>this.uri.indexOf("://")&&ns.tldEndingRegex.test(this.uri))}},{key:"canLaunch",get:function(){if(null!=this._canLaunch)return this._canLaunch;if(null!=this.uri&&this.match!==G.RegularExpression){for(var e=this.launchUri,t=0;t<rG.length;t++)if(0===e.indexOf(rG[t]))return this._canLaunch=!0,this._canLaunch}return this._canLaunch=!1,this._canLaunch}},{key:"launchUri",get:function(){return 0>this.uri.indexOf("://")&&ns.tldEndingRegex.test(this.uri)?"http://"+this.uri:this.uri}}]),e}(),rK=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.match=e.match,t.buildDomainModel(eu()(t),e,{uri:null},a,[]),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new rZ(this),{uri:null},e)}},{key:"toLoginUriData",value:function(){var e=new rS;return this.buildDataModel(this,e,{uri:null},["match"]),e}}]),r}(rM),rQ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.passwordRevisionDate=null!=e.passwordRevisionDate?new Date(e.passwordRevisionDate):null,t.buildDomainModel(eu()(t),e,{username:null,password:null,totp:null},a,[]),e.uris&&(t.uris=[],e.uris.forEach(function(e){t.uris.push(new rK(e,a))})),t)}return ec()(r,[{key:"decrypt",value:function(e){var t,n,r,a;return t=this,n=void 0,r=void 0,a=ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.decryptObj(new rB(this),{username:null,password:null,totp:null},e);case 2:if(n=t.sent,null==this.uris){t.next=14;break}n.uris=[],r=0;case 6:if(!(r<this.uris.length)){t.next=14;break}return t.next=9,this.uris[r].decrypt(e);case 9:a=t.sent,n.uris.push(a);case 11:r++,t.next=6;break;case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}},t,this)}),new(r||(r=Promise))(function(e,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(o,c)}s((a=a.apply(t,n||[])).next())})}},{key:"toLoginData",value:function(){var e=new rP;return e.passwordRevisionDate=null!=this.passwordRevisionDate?this.passwordRevisionDate.toISOString():null,this.buildDataModel(this,e,{username:null,password:null,totp:null}),null!=this.uris&&this.uris.length>0&&(e.uris=[],this.uris.forEach(function(t){e.uris.push(t.toLoginUriData())})),e}}]),r}(rM),rY=ec()(function e(t){ei()(this,e),this.password=null,this.lastUsedDate=null,t&&(this.lastUsedDate=t.lastUsedDate)}),rJ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.buildDomainModel(eu()(t),e,{password:null},a),t.lastUsedDate=new Date(e.lastUsedDate),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new rY(this),{password:null},e)}},{key:"toPasswordHistoryData",value:function(){var e=new rA;return e.lastUsedDate=this.lastUsedDate.toISOString(),this.buildDataModel(this,e,{password:null}),e}}]),r}(rM),r$=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.type=e.type,t)}return ec()(r,[{key:"decrypt",value:function(e){return Promise.resolve(new rU(this))}},{key:"toSecureNoteData",value:function(){var e=new rD;return e.type=this.type,e}}]),r}(rM),rX=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(ei()(this,r),t=n.call(this),null==e)return ep()(t);switch(t.buildDomainModel(eu()(t),e,{id:null,userId:null,organizationId:null,folderId:null,name:null,notes:null},a,["id","userId","organizationId","folderId"]),t.type=e.type,t.favorite=e.favorite,t.organizationUseTotp=e.organizationUseTotp,t.edit=e.edit,null!=e.viewPassword?t.viewPassword=e.viewPassword:t.viewPassword=!0,t.revisionDate=null!=e.revisionDate?new Date(e.revisionDate):null,t.collectionIds=e.collectionIds,t.localData=i,t.deletedDate=null!=e.deletedDate?new Date(e.deletedDate):null,t.type){case q.Login:t.login=new rQ(e.login,a);break;case q.SecureNote:t.secureNote=new r$(e.secureNote,a);break;case q.Card:t.card=new rF(e.card,a);break;case q.Identity:t.identity=new rW(e.identity,a)}return null!=e.attachments?t.attachments=e.attachments.map(function(e){return new rN(e,a)}):t.attachments=null,null!=e.fields?t.fields=e.fields.map(function(e){return new rq(e,a)}):t.fields=null,null!=e.passwordHistory?t.passwordHistory=e.passwordHistory.map(function(e){return new rJ(e,a)}):t.passwordHistory=null,t}return ec()(r,[{key:"decrypt",value:function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=ti().mark(function e(){var t,n,r,a,i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new rV(this),e.next=3,this.decryptObj(t,{name:null,notes:null},this.organizationId);case 3:e.t0=this.type,e.next=e.t0===q.Login?6:e.t0===q.SecureNote?10:e.t0===q.Card?14:e.t0===q.Identity?18:22;break;case 6:return e.next=8,this.login.decrypt(this.organizationId);case 8:return t.login=e.sent,e.abrupt("break",23);case 10:return e.next=12,this.secureNote.decrypt(this.organizationId);case 12:return t.secureNote=e.sent,e.abrupt("break",23);case 14:return e.next=16,this.card.decrypt(this.organizationId);case 16:return t.card=e.sent,e.abrupt("break",23);case 18:return e.next=20,this.identity.decrypt(this.organizationId);case 20:return t.identity=e.sent,e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:if(n=this.organizationId,!(null!=this.attachments&&this.attachments.length>0)){e.next=29;break}return r=[],e.next=28,this.attachments.reduce(function(e,t){return e.then(function(){return t.decrypt(n)}).then(function(e){r.push(e)})},Promise.resolve());case 28:t.attachments=r;case 29:if(!(null!=this.fields&&this.fields.length>0)){e.next=34;break}return a=[],e.next=33,this.fields.reduce(function(e,t){return e.then(function(){return t.decrypt(n)}).then(function(e){a.push(e)})},Promise.resolve());case 33:t.fields=a;case 34:if(!(null!=this.passwordHistory&&this.passwordHistory.length>0)){e.next=39;break}return i=[],e.next=38,this.passwordHistory.reduce(function(e,t){return e.then(function(){return t.decrypt(n)}).then(function(e){i.push(e)})},Promise.resolve());case 38:t.passwordHistory=i;case 39:return e.abrupt("return",t);case 40:case"end":return e.stop()}},e,this)}),new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})}},{key:"toCipherData",value:function(e){var t=new rT;switch(t.id=this.id,t.organizationId=this.organizationId,t.folderId=this.folderId,t.userId=null!=this.organizationId?e:null,t.edit=this.edit,t.viewPassword=this.viewPassword,t.organizationUseTotp=this.organizationUseTotp,t.favorite=this.favorite,t.revisionDate=null!=this.revisionDate?this.revisionDate.toISOString():null,t.type=this.type,t.collectionIds=this.collectionIds,t.deletedDate=null!=this.deletedDate?this.deletedDate.toISOString():null,this.buildDataModel(this,t,{name:null,notes:null}),t.type){case q.Login:t.login=this.login.toLoginData();break;case q.SecureNote:t.secureNote=this.secureNote.toSecureNoteData();break;case q.Card:t.card=this.card.toCardData();break;case q.Identity:t.identity=this.identity.toIdentityData()}return null!=this.fields&&(t.fields=this.fields.map(function(e){return e.toFieldData()})),null!=this.attachments&&(t.attachments=this.attachments.map(function(e){return e.toAttachmentData()})),null!=this.passwordHistory&&(t.passwordHistory=this.passwordHistory.map(function(e){return e.toPasswordHistoryData()})),t}}]),r}(rM),r0=ec()(function e(t,n){ei()(this,e),this.ids=null==t?[]:t,this.organizationId=n}),r1=ec()(function e(t,n){ei()(this,e),this.ids=null==t?[]:t,this.folderId=n}),r2=ec()(function e(t){ei()(this,e),this.ids=null==t?[]:t}),r3=ec()(function e(){ei()(this,e)}),r4=ec()(function e(t){var n=this;switch(ei()(this,e),this.type=t.type,this.folderId=t.folderId,this.organizationId=t.organizationId,this.name=t.name?t.name.encryptedString:null,this.notes=t.notes?t.notes.encryptedString:null,this.favorite=t.favorite,this.lastKnownRevisionDate=t.revisionDate,this.type){case q.Login:this.login=new nO,this.login.uris=null,this.login.username=t.login.username?t.login.username.encryptedString:null,this.login.password=t.login.password?t.login.password.encryptedString:null,this.login.passwordRevisionDate=null!=t.login.passwordRevisionDate?t.login.passwordRevisionDate.toISOString():null,this.login.totp=t.login.totp?t.login.totp.encryptedString:null,null!=t.login.uris&&(this.login.uris=t.login.uris.map(function(e){var t=new nx;return t.uri=null!=e.uri?e.uri.encryptedString:null,t.match=null!=e.match?e.match:null,t}));break;case q.SecureNote:this.secureNote=new n_,this.secureNote.type=t.secureNote.type;break;case q.Card:this.card=new nb,this.card.cardholderName=null!=t.card.cardholderName?t.card.cardholderName.encryptedString:null,this.card.brand=null!=t.card.brand?t.card.brand.encryptedString:null,this.card.number=null!=t.card.number?t.card.number.encryptedString:null,this.card.expMonth=null!=t.card.expMonth?t.card.expMonth.encryptedString:null,this.card.expYear=null!=t.card.expYear?t.card.expYear.encryptedString:null,this.card.code=null!=t.card.code?t.card.code.encryptedString:null;break;case q.Identity:this.identity=new nk,this.identity.title=null!=t.identity.title?t.identity.title.encryptedString:null,this.identity.firstName=null!=t.identity.firstName?t.identity.firstName.encryptedString:null,this.identity.middleName=null!=t.identity.middleName?t.identity.middleName.encryptedString:null,this.identity.lastName=null!=t.identity.lastName?t.identity.lastName.encryptedString:null,this.identity.address1=null!=t.identity.address1?t.identity.address1.encryptedString:null,this.identity.address2=null!=t.identity.address2?t.identity.address2.encryptedString:null,this.identity.address3=null!=t.identity.address3?t.identity.address3.encryptedString:null,this.identity.city=null!=t.identity.city?t.identity.city.encryptedString:null,this.identity.state=null!=t.identity.state?t.identity.state.encryptedString:null,this.identity.postalCode=null!=t.identity.postalCode?t.identity.postalCode.encryptedString:null,this.identity.country=null!=t.identity.country?t.identity.country.encryptedString:null,this.identity.company=null!=t.identity.company?t.identity.company.encryptedString:null,this.identity.email=null!=t.identity.email?t.identity.email.encryptedString:null,this.identity.phone=null!=t.identity.phone?t.identity.phone.encryptedString:null,this.identity.ssn=null!=t.identity.ssn?t.identity.ssn.encryptedString:null,this.identity.username=null!=t.identity.username?t.identity.username.encryptedString:null,this.identity.passportNumber=null!=t.identity.passportNumber?t.identity.passportNumber.encryptedString:null,this.identity.licenseNumber=null!=t.identity.licenseNumber?t.identity.licenseNumber.encryptedString:null}null!=t.fields&&(this.fields=t.fields.map(function(e){var t=new nw;return t.type=e.type,t.name=e.name?e.name.encryptedString:null,t.value=e.value?e.value.encryptedString:null,t})),null!=t.passwordHistory&&(this.passwordHistory=[],t.passwordHistory.forEach(function(e){n.passwordHistory.push({lastUsedDate:e.lastUsedDate,password:e.password?e.password.encryptedString:null})})),null!=t.attachments&&(this.attachments={},this.attachments2={},t.attachments.forEach(function(e){var t=e.fileName?e.fileName.encryptedString:null;n.attachments[e.id]=t;var r=new r3;r.fileName=t,null!=e.key&&(r.key=e.key.encryptedString),n.attachments2[e.id]=r}))}),r6=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).id=e.id,t}return ec()(r)}(r4),r5=ec()(function e(t,n){var r=this;ei()(this,e),null!=t&&(this.ciphers=[],t.forEach(function(e){r.ciphers.push(new r6(e))})),this.collectionIds=n}),r7=ec()(function e(t){ei()(this,e),this.collectionIds=null==t?[]:t}),r8=ec()(function e(t){ei()(this,e),this.cipher=new r4(t),this.collectionIds=t.collectionIds}),r9=ec()(function e(t){ei()(this,e),this.cipher=new r4(t),this.collectionIds=t.collectionIds}),ae=function(){function e(t){ei()(this,e),this.comparator=t,this.sortedCiphersByUrl=new Map,this.timeouts=new Map}return ec()(e,[{key:"isCached",value:function(e){return this.sortedCiphersByUrl.has(e)}},{key:"addCiphers",value:function(e,t){t.sort(this.comparator),this.sortedCiphersByUrl.set(e,new at(t)),this.resetTimer(e)}},{key:"getLastUsed",value:function(e){return this.resetTimer(e),this.isCached(e)?this.sortedCiphersByUrl.get(e).getLastUsed():null}},{key:"getLastLaunched",value:function(e){return this.isCached(e)?this.sortedCiphersByUrl.get(e).getLastLaunched():null}},{key:"getNext",value:function(e){return this.resetTimer(e),this.isCached(e)?this.sortedCiphersByUrl.get(e).getNext():null}},{key:"updateLastUsedIndex",value:function(e){this.isCached(e)&&this.sortedCiphersByUrl.get(e).updateLastUsedIndex()}},{key:"clear",value:function(){this.sortedCiphersByUrl.clear(),this.timeouts.clear()}},{key:"resetTimer",value:function(e){var t=this;clearTimeout(this.timeouts.get(e)),this.timeouts.set(e,setTimeout(function(){t.sortedCiphersByUrl.delete(e),t.timeouts.delete(e)},3e3))}}]),e}(),at=function(){function e(t){ei()(this,e),this.ciphers=t,this.lastUsedIndex=-1}return ec()(e,[{key:"getLastUsed",value:function(){return this.lastUsedIndex=Math.max(this.lastUsedIndex,0),this.ciphers[this.lastUsedIndex]}},{key:"getLastLaunched",value:function(){return this.ciphers.filter(function(e){var t;return null==(t=e.localData)?void 0:t.lastLaunched}).sort(function(e,t){return t.localData.lastLaunched.valueOf()-e.localData.lastLaunched.valueOf()})[0]}},{key:"getNextIndex",value:function(){return(this.lastUsedIndex+1)%this.ciphers.length}},{key:"getNext",value:function(){return this.ciphers[this.getNextIndex()]}},{key:"updateLastUsedIndex",value:function(){this.lastUsedIndex=this.getNextIndex()}}]),e}(),an=ec()(function e(){ei()(this,e),this.environmentUrlsKey=e.environmentUrlsKey,this.disableGaKey=e.disableGaKey,this.disableAddLoginNotificationKey=e.disableAddLoginNotificationKey,this.disableContextMenuItemKey=e.disableContextMenuItemKey,this.disableFaviconKey=e.disableFaviconKey,this.disableAutoTotpCopyKey=e.disableAutoTotpCopyKey,this.enableAutoFillOnPageLoadKey=e.enableAutoFillOnPageLoadKey,this.vaultTimeoutKey=e.vaultTimeoutKey,this.vaultTimeoutActionKey=e.vaultTimeoutActionKey,this.lastActiveKey=e.lastActiveKey,this.neverDomainsKey=e.neverDomainsKey,this.installedVersionKey=e.installedVersionKey,this.localeKey=e.localeKey,this.themeKey=e.themeKey,this.collapsedGroupingsKey=e.collapsedGroupingsKey,this.autoConfirmFingerprints=e.autoConfirmFingerprints,this.dontShowCardsCurrentTab=e.dontShowCardsCurrentTab,this.dontShowIdentitiesCurrentTab=e.dontShowIdentitiesCurrentTab,this.defaultUriMatch=e.defaultUriMatch,this.pinProtectedKey=e.pinProtectedKey,this.protectedPin=e.protectedPin,this.clearClipboardKey=e.clearClipboardKey,this.eventCollectionKey=e.eventCollectionKey,this.ssoCodeVerifierKey=e.ssoCodeVerifierKey,this.ssoStateKey=e.ssoStateKey,this.biometricUnlockKey=e.biometricUnlockKey,this.biometricText=e.biometricText,this.biometricAwaitingAcceptance=e.biometricAwaitingAcceptance});function ar(e){return function(t,n,r){var a=r.value,i=new Map,o=function(e){var t=i.get(e);return null!=t||(t=new Map,i.set(e,t)),t};return{value:function(){for(var t=this,n=o(this),r=arguments.length,c=Array(r),s=0;s<r;s++)c[s]=arguments[s];var u=e(c),l=n.get(u);if(null!=l)return l;var d=function(){n.delete(u),0===n.size&&i.delete(t)};return l=a.apply(this,c).then(function(e){return d(),e}).catch(function(e){throw d(),e}),n.set(u,l),l}}}}an.environmentUrlsKey="environmentUrls",an.disableGaKey="disableGa",an.disableAddLoginNotificationKey="disableAddLoginNotification",an.disableChangedPasswordNotificationKey="disableChangedPasswordNotification",an.disableContextMenuItemKey="disableContextMenuItem",an.disableFaviconKey="disableFavicon",an.disableAutoTotpCopyKey="disableAutoTotpCopy",an.enableAutoFillOnPageLoadKey="enableAutoFillOnPageLoad",an.vaultTimeoutKey="lockOption",an.vaultTimeoutActionKey="vaultTimeoutAction",an.lastActiveKey="lastActive",an.neverDomainsKey="neverDomains",an.installedVersionKey="installedVersion",an.localeKey="locale",an.themeKey="theme",an.collapsedGroupingsKey="collapsedGroupings",an.autoConfirmFingerprints="autoConfirmFingerprints",an.dontShowCardsCurrentTab="dontShowCardsCurrentTab",an.dontShowIdentitiesCurrentTab="dontShowIdentitiesCurrentTab",an.defaultUriMatch="defaultUriMatch",an.pinProtectedKey="pinProtectedKey",an.protectedPin="protectedPin",an.clearClipboardKey="clearClipboardKey",an.eventCollectionKey="eventCollection",an.ssoCodeVerifierKey="ssoCodeVerifier",an.ssoStateKey="ssoState",an.biometricUnlockKey="biometric",an.biometricText="biometricText",an.biometricAwaitingAcceptance="biometricAwaitingAcceptance";var aa=n(48287).Buffer;function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ao=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ac=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},as="ciphers_",au="sitesLocalData",al="neverDomains",ad=new Map([["google.com",new Set(["script.google.com"])]]),af=function(){function e(t,n,r,a,i,o,c){ei()(this,e),this.cryptoService=t,this.userService=n,this.settingsService=r,this.apiService=a,this.storageService=i,this.i18nService=o,this.searchService=c,this.sortedCiphersCache=new ae(this.sortCiphersByLastUsed)}return ec()(e,[{key:"decryptedCipherCache",get:function(){return this._decryptedCipherCache},set:function(e){this._decryptedCipherCache=e,null!=this.searchService&&(null==e?this.searchService().clearIndex():this.searchService().indexCiphers())}},{key:"clearCache",value:function(){this.decryptedCipherCache=null,this.sortedCiphersCache.clear()}},{key:"encrypt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ac(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(null==e.id){r.next=13;break}if(null!=n){r.next=5;break}return r.next=4,this.get(e.id);case 4:n=r.sent;case 5:if(null==n){r.next=12;break}return r.next=8,n.decrypt();case 8:e.passwordHistory=(a=r.sent).passwordHistory||[],e.type===q.Login&&a.type===q.Login&&(null!=a.login.password&&""!==a.login.password&&a.login.password!==e.login.password?((i=new rY).password=a.login.password,i.lastUsedDate=e.login.passwordRevisionDate=new Date,e.passwordHistory.splice(0,0,i)):e.login.passwordRevisionDate=a.login.passwordRevisionDate),a.hasFields&&(o=a.fields.filter(function(e){return e.type===W.Hidden&&null!=e.name&&""!==e.name&&null!=e.value&&""!==e.value}),c=null==e.fields?[]:e.fields.filter(function(e){return e.type===W.Hidden&&null!=e.name&&""!==e.name}),o.forEach(function(t){var n=c.find(function(e){return e.name===t.name});if(null==n||n.value!==t.value){var r=new rY;r.password=t.name+": "+t.value,r.lastUsedDate=new Date,e.passwordHistory.splice(0,0,r)}}));case 12:null!=e.passwordHistory&&0===e.passwordHistory.length?e.passwordHistory=null:null!=e.passwordHistory&&e.passwordHistory.length>5&&(e.passwordHistory=e.passwordHistory.slice(0,5));case 13:if((s=new rX).id=e.id,s.folderId=e.folderId,s.favorite=e.favorite,s.organizationId=e.organizationId,s.type=e.type,s.collectionIds=e.collectionIds,s.revisionDate=e.revisionDate,null!=t||null==s.organizationId){r.next=27;break}return r.next=24,this.cryptoService.getOrgKey(s.organizationId);case 24:if(null!=(t=r.sent)){r.next=27;break}throw Error("Cannot encrypt cipher for organization. No key.");case 27:return r.next=29,Promise.all([this.encryptObjProperty(e,s,{name:null,notes:null},t),this.encryptCipherData(s,e,t),this.encryptFields(e.fields,t).then(function(e){s.fields=e}),this.encryptPasswordHistories(e.passwordHistory,t).then(function(e){s.passwordHistory=e}),this.encryptAttachments(e.attachments,t).then(function(e){s.attachments=e})]);case 29:return r.abrupt("return",s);case 30:case"end":return r.stop()}},r,this)}))}},{key:"encryptAttachments",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r,a,i=this;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&0!==e.length){n.next=2;break}return n.abrupt("return",null);case 2:return r=[],a=[],e.forEach(function(e){return ac(i,void 0,void 0,ti().mark(function n(){var i,o,c=this;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(i=new rN).id=e.id,i.size=e.size,i.sizeName=e.sizeName,i.url=e.url,o=this.encryptObjProperty(e,i,{fileName:null},t).then(function(){return ac(c,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==e.key){n.next=4;break}return n.next=3,this.cryptoService.encrypt(e.key.key,t);case 3:i.key=n.sent;case 4:a.push(i);case 5:case"end":return n.stop()}},n,this)}))}),r.push(o);case 7:case"end":return n.stop()}},n,this)}))}),n.next=7,Promise.all(r);case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}},n)}))}},{key:"encryptFields",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!e||!e.length)){n.next=2;break}return n.abrupt("return",null);case 2:return r=this,a=[],n.next=6,e.reduce(function(e,n){return e.then(function(){return r.encryptField(n,t)}).then(function(e){a.push(e)})},Promise.resolve());case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}},n,this)}))}},{key:"encryptField",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new rq).type=e.type,e.type===W.Boolean&&"true"!==e.value&&(e.value="false"),n.next=5,this.encryptObjProperty(e,r,{name:null,value:null},t);case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}},n,this)}))}},{key:"encryptPasswordHistories",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!e||!e.length)){n.next=2;break}return n.abrupt("return",null);case 2:return r=this,a=[],n.next=6,e.reduce(function(e,n){return e.then(function(){return r.encryptPasswordHistory(n,t)}).then(function(e){a.push(e)})},Promise.resolve());case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}},n,this)}))}},{key:"encryptPasswordHistory",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new rJ).lastUsedDate=e.lastUsedDate,n.next=4,this.encryptObjProperty(e,r,{password:null},t);case 4:return n.abrupt("return",r);case 5:case"end":return n.stop()}},n,this)}))}},{key:"get",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(au);case 5:return r=t.sent,t.next=8,this.storageService.get(as+n);case 8:if(!(null==(a=t.sent)||!a.hasOwnProperty(e))){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",new rX(a[e],!1,r?r[e]:null));case 12:case"end":return t.stop()}},t,this)}))}},{key:"getAll",value:function(){return ac(this,void 0,void 0,ti().mark(function e(){var t,n,r,a,i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUserId();case 2:return t=e.sent,e.next=5,this.storageService.get(au);case 5:return n=e.sent,e.next=8,this.storageService.get(as+t);case 8:for(i in r=e.sent,a=[],r)r.hasOwnProperty(i)&&a.push(new rX(r[i],!1,n?n[i]:null));return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}))}},{key:"getAllDecrypted",value:function(){return ac(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.decryptedCipherCache){e.next=2;break}return e.abrupt("return",this.decryptedCipherCache);case 2:return t=[],e.next=5,this.cryptoService.hasKey();case 5:if(e.sent){e.next=8;break}throw Error("No key.");case 8:return n=[],e.next=11,this.getAll();case 11:return e.sent.forEach(function(e){n.push(e.decrypt().then(function(e){return t.push(e)}))}),e.next=15,Promise.all(n);case 15:return t.sort(this.getLocaleSortingFunction()),this.decryptedCipherCache=t,e.abrupt("return",this.decryptedCipherCache);case 18:case"end":return e.stop()}},e,this)}))}},{key:"getAllDecryptedForGrouping",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return ac(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getAllDecrypted();case 2:return r=n.sent,n.abrupt("return",r.filter(function(n){return!n.isDeleted&&(!!t&&n.folderId===e||!!(!t&&null!=n.collectionIds&&n.collectionIds.indexOf(e)>-1))}));case 4:case"end":return n.stop()}},n,this)}))}},{key:"getAllDecryptedForUrl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ac(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=e||null!=t){r.next=2;break}return r.abrupt("return",Promise.resolve([]));case 2:return i=null==(a=ns.getDomain(e))?Promise.resolve([]):this.settingsService.getEquivalentDomains().then(function(e){var t=[];return e.forEach(function(e){e.length&&e.indexOf(a)>=0&&(t=t.concat(e))}),t.length||t.push(a),t}),r.next=6,Promise.all([i,this.getAllDecrypted()]);case 6:if(c=(o=r.sent)[0],s=o[1],null!=n){r.next=14;break}return r.next=12,this.storageService.get(an.defaultUriMatch);case 12:null==(n=r.sent)&&(n=G.Domain);case 14:return r.abrupt("return",s.filter(function(r){if(null!=r.deletedDate)return!1;if(null!=t&&t.indexOf(r.type)>-1)return!0;if(null!=e&&r.type===q.Login&&null!=r.login.uris)for(var i=0;i<r.login.uris.length;i++){var o=r.login.uris[i];if(null!=o.uri)switch(null==o.match?n:o.match){case G.Domain:if(null!=a&&null!=o.domain&&c.indexOf(o.domain)>-1)if(!ad.has(o.domain))return!0;else{var s=ns.getHost(e);if(!ad.get(o.domain).has(s))return!0}break;case G.Host:var u=ns.getHost(e);if(null!=u&&u===ns.getHost(o.uri))return!0;break;case G.Exact:if(e===o.uri)return!0;break;case G.StartsWith:if(e.startsWith(o.uri))return!0;break;case G.RegularExpression:try{if(RegExp(o.uri,"i").test(e))return!0}catch(e){}case G.Never:}}return!1}));case 15:case"end":return r.stop()}},r,this)}))}},{key:"getAllFromApiForOrganization",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.getCiphersOrganization(e);case 2:if(!(null!=(n=t.sent)&&null!=n.data&&n.data.length)){t.next=13;break}return r=[],a=[],n.data.forEach(function(e){var t=new rX(new rT(e));a.push(t.decrypt().then(function(e){return r.push(e)}))}),t.next=9,Promise.all(a);case 9:return r.sort(this.getLocaleSortingFunction()),t.abrupt("return",r);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}},t,this)}))}},{key:"getLastUsedForUrl",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCipherForUrl(e,!0,!1));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getLastLaunchedForUrl",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCipherForUrl(e,!1,!0));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getNextCipherForUrl",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCipherForUrl(e,!1,!1));case 1:case"end":return t.stop()}},t,this)}))}},{key:"updateLastUsedIndexForUrl",value:function(e){this.sortedCiphersCache.updateLastUsedIndex(e)}},{key:"updateLastUsedDate",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.get(au);case 2:return(n=t.sent)||(n={}),n[e]?n[e].lastUsedDate=new Date().getTime():n[e]={lastUsedDate:new Date().getTime()},t.next=7,this.storageService.save(au,n);case 7:if(null!=this.decryptedCipherCache){t.next=9;break}return t.abrupt("return");case 9:r=0;case 10:if(!(r<this.decryptedCipherCache.length)){t.next=18;break}if((a=this.decryptedCipherCache[r]).id!==e){t.next=15;break}return a.localData=n[e],t.abrupt("break",18);case 15:r++,t.next=10;break;case 18:case"end":return t.stop()}},t,this)}))}},{key:"updateLastLaunchedDate",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.get(au);case 2:return(n=t.sent)||(n={}),n[e]?n[e].lastLaunched=new Date().getTime():n[e]={lastUsedDate:new Date().getTime()},t.next=7,this.storageService.save(au,n);case 7:if(null!=this.decryptedCipherCache){t.next=9;break}return t.abrupt("return");case 9:r=0;case 10:if(!(r<this.decryptedCipherCache.length)){t.next=18;break}if((a=this.decryptedCipherCache[r]).id!==e){t.next=15;break}return a.localData=n[e],t.abrupt("break",18);case 15:r++,t.next=10;break;case 18:case"end":return t.stop()}},t,this)}))}},{key:"saveNeverDomain",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.storageService.get(al);case 4:return(n=t.sent)||(n={}),n[e]=null,t.next=9,this.storageService.save(al,n);case 9:case"end":return t.stop()}},t,this)}))}},{key:"saveWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o,c;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.id){t.next=15;break}if(null==e.collectionIds){t.next=8;break}return r=new r8(e),t.next=5,this.apiService.postCipherCreate(r);case 5:n=t.sent,t.next=12;break;case 8:return a=new r4(e),t.next=11,this.apiService.postCipher(a);case 11:n=t.sent;case 12:e.id=n.id,t.next=19;break;case 15:return i=new r4(e),t.next=18,this.apiService.putCipher(e.id,i);case 18:n=t.sent;case 19:return t.next=21,this.userService.getUserId();case 21:return o=t.sent,c=new rT(n,o,e.collectionIds),t.next=25,this.upsert(c);case 25:case"end":return t.stop()}},t,this)}))}},{key:"shareWithServer",value:function(e,t,n){return ac(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s,u=this;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=[],null!=e.attachments&&e.attachments.forEach(function(n){null==n.key&&a.push(u.shareAttachmentWithServer(n,e.id,t))}),r.next=4,Promise.all(a);case 4:return e.organizationId=t,e.collectionIds=n,r.next=8,this.encrypt(e);case 8:return i=new r9(r.sent),r.next=12,this.apiService.putShareCipher(e.id,i);case 12:return o=r.sent,r.next=15,this.userService.getUserId();case 15:return c=r.sent,s=new rT(o,c,n),r.next=19,this.upsert(s);case 19:case"end":return r.stop()}},r,this)}))}},{key:"shareManyWithServer",value:function(e,t,n){return ac(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s,u,l;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=[],i=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ai(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ai(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(o.s();!(c=o.n()).done;)(s=c.value).organizationId=t,s.collectionIds=n,a.push(this.encrypt(s).then(function(e){i.push(e)}))}catch(e){o.e(e)}finally{o.f()}return r.next=6,Promise.all(a);case 6:return u=new r5(i,n),r.next=9,this.apiService.putShareCiphers(u);case 9:return r.next=11,this.userService.getUserId();case 11:return l=r.sent,r.next=14,this.upsert(i.map(function(e){return e.toCipherData(l)}));case 14:case"end":return r.stop()}},r,this)}))}},{key:"saveAttachmentWithServer",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(a,i){var o=new FileReader;o.readAsArrayBuffer(t),o.onload=function(o){return ac(n,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.saveAttachmentRawWithServer(e,t.name,o.target.result,r);case 3:a(n.sent),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),i(n.t0);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))},o.onerror=function(e){i("Error reading file.")}})}},{key:"saveAttachmentRawWithServer",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ac(this,void 0,void 0,ti().mark(function a(){var i,o,c,s,u,l,d,f,p;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.cryptoService.getOrgKey(e.organizationId);case 2:return i=a.sent,a.next=5,this.cryptoService.encrypt(t,i);case 5:return o=a.sent,a.next=8,this.cryptoService.makeEncKey(i);case 8:return c=a.sent,a.next=11,this.cryptoService.encryptToBytes(n,c[0]);case 11:s=a.sent,u=new FormData,a.prev=13,l=new Blob([s],{type:"application/octet-stream"}),u.append("key",c[1].encryptedString),u.append("data",l,o.encryptedString),a.next=27;break;case 19:if(a.prev=19,a.t0=a.catch(13),!(ns.isNode&&!ns.isBrowser)){a.next=26;break}u.append("key",c[1].encryptedString),u.append("data",aa.from(s),{filepath:o.encryptedString,contentType:"application/octet-stream"}),a.next=27;break;case 26:throw a.t0;case 27:if(a.prev=27,!r){a.next=34;break}return a.next=31,this.apiService.postCipherAttachmentAdmin(e.id,u);case 31:d=a.sent,a.next=37;break;case 34:return a.next=36,this.apiService.postCipherAttachment(e.id,u);case 36:d=a.sent;case 37:a.next=42;break;case 39:throw a.prev=39,a.t1=a.catch(27),Error(a.t1.getSingleMessage());case 42:return a.next=44,this.userService.getUserId();case 44:if(f=a.sent,p=new rT(d,f,e.collectionIds),r){a.next=49;break}return a.next=49,this.upsert(p);case 49:return a.abrupt("return",new rX(p));case 50:case"end":return a.stop()}},a,this,[[13,19],[27,39]])}))}},{key:"saveCollectionsWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new r7(e.collectionIds),t.next=3,this.apiService.putCipherCollections(e.id,n);case 3:return t.next=5,this.userService.getUserId();case 5:return r=t.sent,a=e.toCipherData(r),t.next=9,this.upsert(a);case 9:case"end":return t.stop()}},t,this)}))}},{key:"upsert",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(as+n);case 5:return null==(r=t.sent)&&(r={}),e instanceof rT?r[(a=e).id]=a:e.forEach(function(e){r[e.id]=e}),t.next=10,this.storageService.save(as+n,r);case 10:this.decryptedCipherCache=null;case 11:case"end":return t.stop()}},t,this)}))}},{key:"replace",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(as+n,e);case 5:this.decryptedCipherCache=null;case 6:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(as+e);case 2:this.clearCache();case 3:case"end":return t.stop()}},t,this)}))}},{key:"moveManyWithServer",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.apiService.putMoveCiphers(new r1(e,t));case 2:return n.next=4,this.userService.getUserId();case 4:return r=n.sent,n.next=7,this.storageService.get(as+r);case 7:return null==(a=n.sent)&&(a={}),e.forEach(function(e){a.hasOwnProperty(e)&&(a[e].folderId=t)}),n.next=12,this.storageService.save(as+r,a);case 12:this.decryptedCipherCache=null;case 13:case"end":return n.stop()}},n,this)}))}},{key:"delete",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(as+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:if("string"!=typeof e){t.next=14;break}if(null!=r[e]){t.next=11;break}return t.abrupt("return");case 11:delete r[e],t.next=15;break;case 14:e.forEach(function(e){delete r[e]});case 15:return t.next=17,this.storageService.save(as+n,r);case 17:this.decryptedCipherCache=null;case 18:case"end":return t.stop()}},t,this)}))}},{key:"deleteWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.deleteCipher(e);case 2:return t.next=4,this.delete(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"deleteManyWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.deleteManyCiphers(new r0(e));case 2:return t.next=4,this.delete(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"deleteAttachment",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){var r,a,i;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.userService.getUserId();case 2:return r=n.sent,n.next=5,this.storageService.get(as+r);case 5:if(!(null==(a=n.sent)||!a.hasOwnProperty(e)||null==a[e].attachments)){n.next=8;break}return n.abrupt("return");case 8:for(i=0;i<a[e].attachments.length;i++)a[e].attachments[i].id===t&&a[e].attachments.splice(i,1);return n.next=11,this.storageService.save(as+r,a);case 11:this.decryptedCipherCache=null;case 12:case"end":return n.stop()}},n,this)}))}},{key:"deleteAttachmentWithServer",value:function(e,t){return ac(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.apiService.deleteCipherAttachment(e,t);case 3:n.next=8;break;case 5:return n.prev=5,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0.getSingleMessage()));case 8:return n.next=10,this.deleteAttachment(e,t);case 10:case"end":return n.stop()}},n,this,[[0,5]])}))}},{key:"sortCiphersByLastUsed",value:function(e,t){var n=e.localData&&e.localData.lastUsedDate?e.localData.lastUsedDate:null,r=t.localData&&t.localData.lastUsedDate?t.localData.lastUsedDate:null,a=null!=n&&null!=r;return a&&n<r?1:null!=n&&null==r||a&&n>r?-1:+(null!=r&&null==n)}},{key:"sortCiphersByLastUsedThenName",value:function(e,t){var n=this.sortCiphersByLastUsed(e,t);return 0!==n?n:this.getLocaleSortingFunction()(e,t)}},{key:"getLocaleSortingFunction",value:function(){var e=this;return function(t,n){var r=t.name,a=n.name;if(null==r&&null!=a)return -1;if(null!=r&&null==a)return 1;if(null==r&&null==a)return 0;var i=e.i18nService.collator?e.i18nService.collator.compare(r,a):r.localeCompare(a);return 0!==i||t.type!==q.Login||n.type!==q.Login?i:(null!=t.login.username&&(r+=t.login.username),null!=n.login.username&&(a+=n.login.username),e.i18nService.collator?e.i18nService.collator.compare(r,a):r.localeCompare(a))}}},{key:"softDelete",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(as+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:return a=function(e){null!=r[e]&&(r[e].deletedDate=new Date().toISOString())},"string"==typeof e?a(e):e.forEach(a),t.next=12,this.storageService.save(as+n,r);case 12:this.decryptedCipherCache=null;case 13:case"end":return t.stop()}},t,this)}))}},{key:"softDeleteWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.putDeleteCipher(e);case 2:return t.next=4,this.softDelete(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"softDeleteManyWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.putDeleteManyCiphers(new r0(e));case 2:return t.next=4,this.softDelete(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"restore",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(as+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:return a=function(e){null!=r[e]&&(r[e].deletedDate=null)},"string"==typeof e?a(e):e.forEach(a),t.next=12,this.storageService.save(as+n,r);case 12:this.decryptedCipherCache=null;case 13:case"end":return t.stop()}},t,this)}))}},{key:"restoreWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.putRestoreCipher(e);case 2:return t.next=4,this.restore(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"restoreManyWithServer",value:function(e){return ac(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.putRestoreManyCiphers(new r2(e));case 2:return t.next=4,this.restore(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"shareAttachmentWithServer",value:function(e,t,n){return ac(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s,u,l,d,f;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.apiService.nativeFetch(new Request(e.url,{cache:"no-store"}));case 2:if(200===(a=r.sent).status){r.next=5;break}throw Error("Failed to download attachment: "+a.status.toString());case 5:return r.next=7,a.arrayBuffer();case 7:return i=r.sent,r.next=10,this.cryptoService.decryptFromBytes(i,null);case 10:return o=r.sent,r.next=13,this.cryptoService.getOrgKey(n);case 13:return c=r.sent,r.next=16,this.cryptoService.encrypt(e.fileName,c);case 16:return s=r.sent,r.next=19,this.cryptoService.makeEncKey(c);case 19:return u=r.sent,r.next=22,this.cryptoService.encryptToBytes(o,u[0]);case 22:l=r.sent,d=new FormData,r.prev=24,f=new Blob([l],{type:"application/octet-stream"}),d.append("key",u[1].encryptedString),d.append("data",f,s.encryptedString),r.next=38;break;case 30:if(r.prev=30,r.t0=r.catch(24),!(ns.isNode&&!ns.isBrowser)){r.next=37;break}d.append("key",u[1].encryptedString),d.append("data",aa.from(l),{filepath:s.encryptedString,contentType:"application/octet-stream"}),r.next=38;break;case 37:throw r.t0;case 38:return r.prev=38,r.next=41,this.apiService.postShareCipherAttachment(t,e.id,d,n);case 41:r.next=46;break;case 43:throw r.prev=43,r.t1=r.catch(38),Error(r.t1.getSingleMessage());case 46:case"end":return r.stop()}},r,this,[[24,30],[38,43]])}))}},{key:"encryptObjProperty",value:function(e,t,n,r){return ac(this,void 0,void 0,ti().mark(function a(){var i,o,c;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=[],o=this,a.t0=ti().keys(n);case 3:if((a.t1=a.t0()).done){a.next=10;break}if(c=a.t1.value,n.hasOwnProperty(c)){a.next=7;break}return a.abrupt("continue",3);case 7:!function(t,a){var c=Promise.resolve().then(function(){var a=e[n[t]||t];return a&&""!==a?o.cryptoService.encrypt(a,r):null}).then(function(e){a[t]=e});i.push(c)}(c,t),a.next=3;break;case 10:return a.next=12,Promise.all(i);case 12:case"end":return a.stop()}},a,this)}))}},{key:"encryptCipherData",value:function(e,t,n){return ac(this,void 0,void 0,ti().mark(function r(){var a,i;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e.type,r.next=r.t0===q.Login?3:r.t0===q.SecureNote?20:r.t0===q.Card?23:r.t0===q.Identity?27:31;break;case 3:return e.login=new rQ,e.login.passwordRevisionDate=t.login.passwordRevisionDate,r.next=7,this.encryptObjProperty(t.login,e.login,{username:null,password:null,totp:null},n);case 7:if(null==t.login.uris){r.next=19;break}e.login.uris=[],a=0;case 10:if(!(a<t.login.uris.length)){r.next=19;break}return(i=new rK).match=t.login.uris[a].match,r.next=15,this.encryptObjProperty(t.login.uris[a],i,{uri:null},n);case 15:e.login.uris.push(i);case 16:a++,r.next=10;break;case 19:case 26:case 30:return r.abrupt("return");case 20:return e.secureNote=new r$,e.secureNote.type=t.secureNote.type,r.abrupt("return");case 23:return e.card=new rF,r.next=26,this.encryptObjProperty(t.card,e.card,{cardholderName:null,brand:null,number:null,expMonth:null,expYear:null,code:null},n);case 27:return e.identity=new rW,r.next=30,this.encryptObjProperty(t.identity,e.identity,{title:null,firstName:null,middleName:null,lastName:null,address1:null,address2:null,address3:null,city:null,state:null,postalCode:null,country:null,company:null,email:null,phone:null,ssn:null,username:null,passportNumber:null,licenseNumber:null},n);case 31:throw Error("Unknown cipher type.");case 32:case"end":return r.stop()}},r,this)}))}},{key:"getCipherForUrl",value:function(e,t,n){return ac(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.sortedCiphersCache.isCached(e)){r.next=7;break}return r.next=3,this.getAllDecryptedForUrl(e);case 3:if(a=r.sent){r.next=6;break}return r.abrupt("return",null);case 6:this.sortedCiphersCache.addCiphers(e,a);case 7:if(!n){r.next=11;break}return r.abrupt("return",this.sortedCiphersCache.getLastLaunched(e));case 11:if(!t){r.next=15;break}return r.abrupt("return",this.sortedCiphersCache.getLastUsed(e));case 15:return r.abrupt("return",this.sortedCiphersCache.getNext(e));case 16:case"end":return r.stop()}},r,this)}))}}]),e}();!function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);i>3&&o&&Object.defineProperty(t,n,o)}([ar(function(){return"getAllDecrypted"}),ao("design:type",Function),ao("design:paramtypes",[]),ao("design:returntype",Promise)],af.prototype,"getAllDecrypted",null);var ap=ec()(function e(t){ei()(this,e),this.id=t.id,this.organizationId=t.organizationId,this.name=t.name,this.externalId=t.externalId,this.readOnly=t.readOnly}),ah=ec()(function e(t){ei()(this,e),this.id=null,this.organizationId=null,this.name=null,this.externalId=null,this.readOnly=null,this.hidePasswords=null,t&&(this.id=t.id,this.organizationId=t.organizationId,this.externalId=t.externalId,t instanceof am&&(this.readOnly=t.readOnly,this.hidePasswords=t.hidePasswords))}),am=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.buildDomainModel(eu()(t),e,{id:null,organizationId:null,name:null,externalId:null,readOnly:null,hidePasswords:null},a,["id","organizationId","externalId","readOnly","hidePasswords"]),t)}return ec()(r,[{key:"decrypt",value:function(){return this.decryptObj(new ah(this),{name:null},this.organizationId)}}]),r}(rM),av=n(21259),ay=n.n(av),ag=ec()(function e(t,n,r){ei()(this,e),this.children=[],this.parent=r,this.node=t,this.node.name=n}),ab=function(){function e(){ei()(this,e)}return ec()(e,null,[{key:"nestedTraverse",value:function(t,n,r,a,i,o){if(!(r.length<=n)){for(var c=n===r.length-1,s=r[n],u=0;u<t.length;u++)if(t[u].node.name===r[n]){if(c&&t[u].node.id!==a.id)return void t.push(new ag(a,s,i));e.nestedTraverse(t[u].children,n+1,r,a,t[u].node,o);return}if(0===t.filter(function(e){return e.node.name===s}).length){if(c)return void t.push(new ag(a,s,i));var l=r[n]+o+r[n+1];e.nestedTraverse(t,0,[l].concat(ay()(r.slice(n+2))),a,i,o)}}}},{key:"getTreeNodeObject",value:function(t,n){for(var r=0;r<t.length;r++)if(t[r].node.id===n)return t[r];else if(null!=t[r].children){var a=e.getTreeNodeObject(t[r].children,n);if(null!==a)return a}return null}}]),e}(),aw=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},ak="collections_",ax=function(){function e(t,n,r,a){ei()(this,e),this.cryptoService=t,this.userService=n,this.storageService=r,this.i18nService=a}return ec()(e,[{key:"clearCache",value:function(){this.decryptedCollectionCache=null}},{key:"encrypt",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.organizationId){t.next=2;break}throw Error("Collection has no organization id.");case 2:return t.next=4,this.cryptoService.getOrgKey(e.organizationId);case 4:if(null!=(n=t.sent)){t.next=7;break}throw Error("No key for this collection's organization.");case 7:return(r=new am).id=e.id,r.organizationId=e.organizationId,r.readOnly=e.readOnly,t.next=13,this.cryptoService.encrypt(e.name,n);case 13:return r.name=t.sent,t.abrupt("return",r);case 15:case"end":return t.stop()}},t,this)}))}},{key:"decryptMany",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",[]);case 2:return n=[],r=[],e.forEach(function(e){r.push(e.decrypt().then(function(e){return n.push(e)}))}),t.next=7,Promise.all(r);case 7:return t.abrupt("return",n.sort(ns.getSortFunction(this.i18nService,"name")));case 8:case"end":return t.stop()}},t,this)}))}},{key:"get",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(ak+n);case 5:if(!(null==(r=t.sent)||!r.hasOwnProperty(e))){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",new am(r[e]));case 9:case"end":return t.stop()}},t,this)}))}},{key:"getAll",value:function(){return aw(this,void 0,void 0,ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUserId();case 2:return t=e.sent,e.next=5,this.storageService.get(ak+t);case 5:for(a in n=e.sent,r=[],n)n.hasOwnProperty(a)&&r.push(new am(n[a]));return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}))}},{key:"getAllDecrypted",value:function(){return aw(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.decryptedCollectionCache){e.next=2;break}return e.abrupt("return",this.decryptedCollectionCache);case 2:return e.next=4,this.cryptoService.hasKey();case 4:if(e.sent){e.next=7;break}throw Error("No key.");case 7:return e.next=9,this.getAll();case 9:return t=e.sent,e.next=12,this.decryptMany(t);case 12:return this.decryptedCollectionCache=e.sent,e.abrupt("return",this.decryptedCollectionCache);case 14:case"end":return e.stop()}},e,this)}))}},{key:"getAllNested",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return aw(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=4;break}return t.next=3,this.getAllDecrypted();case 3:e=t.sent;case 4:return n=[],e.forEach(function(e){var t=new ah;t.id=e.id,t.organizationId=e.organizationId;var r=null!=e.name?e.name.replace(/^\/+|\/+$/g,"").split("/"):[];ab.nestedTraverse(n,0,r,t,null,"/")}),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}))}},{key:"getNested",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllNested();case 2:return n=t.sent,t.abrupt("return",ab.getTreeNodeObject(n,e));case 4:case"end":return t.stop()}},t,this)}))}},{key:"upsert",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(ak+n);case 5:return null==(r=t.sent)&&(r={}),e instanceof ap?r[(a=e).id]=a:e.forEach(function(e){r[e.id]=e}),t.next=10,this.storageService.save(ak+n,r);case 10:this.decryptedCollectionCache=null;case 11:case"end":return t.stop()}},t,this)}))}},{key:"replace",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(ak+n,e);case 5:this.decryptedCollectionCache=null;case 6:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(ak+e);case 2:this.decryptedCollectionCache=null;case 3:case"end":return t.stop()}},t,this)}))}},{key:"delete",value:function(e){return aw(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(ak+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:return"string"==typeof e?delete r[e]:e.forEach(function(e){delete r[e]}),t.next=11,this.storageService.save(ak+n,r);case 11:this.decryptedCollectionCache=null;case 12:case"end":return t.stop()}},t,this)}))}}]),e}(),aO=function(){function e(t){ei()(this,e),this.cryptoService=t}return ec()(e,[{key:"attachToWindow",value:function(e){this.attachToGlobal(e)}},{key:"attachToGlobal",value:function(e){e.bitwardenContainerService||(e.bitwardenContainerService=this)}},{key:"getCryptoService",value:function(){return this.cryptoService}}]),e}(),a_=ec()(function e(){ei()(this,e)}),aE=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},aC=function(){function e(t,n,r){ei()(this,e),this.apiService=t,this.storageService=n,this.notificationsService=r}return ec()(e,[{key:"getWebVaultUrl",value:function(){return null!=this.webVaultUrl?this.webVaultUrl:this.baseUrl?this.baseUrl:null}},{key:"setUrlsFromStorage",value:function(){return aE(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(an.environmentUrlsKey);case 2:if(t=e.sent||{base:null,api:null,identity:null,icons:null,notifications:null,events:null,webVault:null,enterprise:null},n=new a_,!t.base){e.next=9;break}return this.baseUrl=n.base=t.base,this.apiService.setUrls(n),e.abrupt("return");case 9:this.webVaultUrl=t.webVault,this.apiUrl=n.api=t.api,this.identityUrl=n.identity=t.identity,this.iconsUrl=t.icons,this.notificationsUrl=t.notifications,this.eventsUrl=n.events=t.events,this.enterpriseUrl=t.enterprise,this.apiService.setUrls(n);case 17:case"end":return e.stop()}},e,this)}))}},{key:"setUrls",value:function(e){return aE(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.base=this.formatUrl(e.base),e.webVault=this.formatUrl(e.webVault),e.api=this.formatUrl(e.api),e.identity=this.formatUrl(e.identity),e.icons=this.formatUrl(e.icons),e.notifications=this.formatUrl(e.notifications),e.events=this.formatUrl(e.events),e.enterprise=this.formatUrl(e.enterprise),t.next=10,this.storageService.save(an.environmentUrlsKey,{base:e.base,api:e.api,identity:e.identity,webVault:e.webVault,icons:e.icons,notifications:e.notifications,events:e.events,enterprise:e.enterprise});case 10:return this.baseUrl=e.base,this.webVaultUrl=e.webVault,this.apiUrl=e.api,this.identityUrl=e.identity,this.iconsUrl=e.icons,this.notificationsUrl=e.notifications,this.eventsUrl=e.events,this.enterpriseUrl=e.enterprise,n=new a_,this.baseUrl?n.base=this.baseUrl:(n.api=this.apiUrl,n.identity=this.identityUrl,n.events=this.eventsUrl),this.apiService.setUrls(n),null!=this.notificationsService&&this.notificationsService.init(this),t.abrupt("return",e);case 23:case"end":return t.stop()}},t,this)}))}},{key:"formatUrl",value:function(e){return null==e||""===e?null:((e=e.replace(/\/+$/g,"")).startsWith("http://")||e.startsWith("https://")||(e="https://"+e),e.trim())}}]),e}(),aS=ec()(function e(t,n){ei()(this,e),this.userId=n,this.name=t.name,this.id=t.id,this.revisionDate=t.revisionDate}),aP=ec()(function e(t){ei()(this,e),this.id=null,this.name=null,this.revisionDate=null,t&&(this.id=t.id,this.revisionDate=t.revisionDate)}),aA=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.buildDomainModel(eu()(t),e,{id:null,name:null},a,["id"]),t.revisionDate=null!=e.revisionDate?new Date(e.revisionDate):null,t)}return ec()(r,[{key:"decrypt",value:function(){return this.decryptObj(new aP(this),{name:null},null)}}]),r}(rM),aD=ec()(function e(t){ei()(this,e),this.name=t.name?t.name.encryptedString:null}),aT=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},aR="folders_",aj=function(){function e(t,n,r,a,i,o){ei()(this,e),this.cryptoService=t,this.userService=n,this.apiService=r,this.storageService=a,this.i18nService=i,this.cipherService=o}return ec()(e,[{key:"clearCache",value:function(){this.decryptedFolderCache=null}},{key:"encrypt",value:function(e,t){return aT(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new aA).id=e.id,n.next=4,this.cryptoService.encrypt(e.name,t);case 4:return r.name=n.sent,n.abrupt("return",r);case 6:case"end":return n.stop()}},n,this)}))}},{key:"get",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(aR+n);case 5:if(!(null==(r=t.sent)||!r.hasOwnProperty(e))){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",new aA(r[e]));case 9:case"end":return t.stop()}},t,this)}))}},{key:"getAll",value:function(){return aT(this,void 0,void 0,ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUserId();case 2:return t=e.sent,e.next=5,this.storageService.get(aR+t);case 5:for(a in n=e.sent,r=[],n)n.hasOwnProperty(a)&&r.push(new aA(n[a]));return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}))}},{key:"getAllDecrypted",value:function(){return aT(this,void 0,void 0,ti().mark(function e(){var t,n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.decryptedFolderCache){e.next=2;break}return e.abrupt("return",this.decryptedFolderCache);case 2:return e.next=4,this.cryptoService.hasKey();case 4:if(e.sent){e.next=7;break}throw Error("No key.");case 7:return t=[],n=[],e.next=11,this.getAll();case 11:return e.sent.forEach(function(e){n.push(e.decrypt().then(function(e){return t.push(e)}))}),e.next=15,Promise.all(n);case 15:return t.sort(ns.getSortFunction(this.i18nService,"name")),(r=new aP).name=this.i18nService.t("noneFolder"),t.push(r),this.decryptedFolderCache=t,e.abrupt("return",this.decryptedFolderCache);case 21:case"end":return e.stop()}},e,this)}))}},{key:"getAllNested",value:function(){return aT(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllDecrypted();case 2:return t=e.sent,n=[],t.forEach(function(e){var t=new aP;t.id=e.id,t.revisionDate=e.revisionDate;var r=null!=e.name?e.name.replace(/^\/+|\/+$/g,"").split("/"):[];ab.nestedTraverse(n,0,r,t,null,"/")}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}))}},{key:"getNested",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllNested();case 2:return n=t.sent,t.abrupt("return",ab.getTreeNodeObject(n,e));case 4:case"end":return t.stop()}},t,this)}))}},{key:"saveWithServer",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n,r,a,i;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new aD(e),null!=e.id){t.next=8;break}return t.next=4,this.apiService.postFolder(n);case 4:e.id=(r=t.sent).id,t.next=11;break;case 8:return t.next=10,this.apiService.putFolder(e.id,n);case 10:r=t.sent;case 11:return t.next=13,this.userService.getUserId();case 13:return a=t.sent,i=new aS(r,a),t.next=17,this.upsert(i);case 17:case"end":return t.stop()}},t,this)}))}},{key:"upsert",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(aR+n);case 5:return null==(r=t.sent)&&(r={}),e instanceof aS?r[(a=e).id]=a:e.forEach(function(e){r[e.id]=e}),t.next=10,this.storageService.save(aR+n,r);case 10:this.decryptedFolderCache=null;case 11:case"end":return t.stop()}},t,this)}))}},{key:"replace",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(aR+n,e);case 5:this.decryptedFolderCache=null;case 6:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(aR+e);case 2:this.decryptedFolderCache=null;case 3:case"end":return t.stop()}},t,this)}))}},{key:"delete",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(aR+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:if("string"!=typeof e){t.next=14;break}if(null!=r[e]){t.next=11;break}return t.abrupt("return");case 11:delete r[e],t.next=15;break;case 14:e.forEach(function(e){delete r[e]});case 15:return t.next=17,this.storageService.save(aR+n,r);case 17:return this.decryptedFolderCache=null,t.next=20,this.storageService.get("ciphers_"+n);case 20:if(null!=(a=t.sent)){for(o in i=[],a)a[o].folderId===e&&(a[o].folderId=null,i.push(a[o]));i.length>0&&this.cipherService.upsert(i)}case 22:case"end":return t.stop()}},t,this)}))}},{key:"deleteWithServer",value:function(e){return aT(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.deleteFolder(e);case 2:return t.next=4,this.delete(e);case 4:case"end":return t.stop()}},t,this)}))}}]),e}(),aM=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},aI=function(){function e(t,n,r){ei()(this,e),this.systemLanguage=t,this.localesDirectory=n,this.getLocalesJson=r,this.supportedTranslationLocales=["en"],this.localeNames=new Map([["af","Afrikaans"],["be","Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÐºÐ°Ñ"],["bg","Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸"],["ca","catal\xe0"],["cs","ÄeÅ¡tina"],["da","dansk"],["de","Deutsch"],["el","Î•Î»Î»Î·Î½Î¹ÎºÎ¬"],["en","English"],["en-GB","English (British)"],["eo","Esperanto"],["es","espa\xf1ol"],["et","eesti"],["fa","ÙØ§Ø±Ø³ÛŒ"],["fi","suomi"],["fr","fran\xe7ais"],["he","×¢×‘×¨×™×ª"],["hi","à¤¹à¤¿à¤¨à¥à¤¦à¥€"],["hr","hrvatski"],["hu","magyar"],["id","Bahasa Indonesia"],["it","italiano"],["ja","æ—¥æœ¬èªž"],["ko","í•œêµ­ì–´"],["lv","Latvietis"],["ml","à´®à´²à´¯à´¾à´³à´‚"],["nb","norsk (bokm\xe5l)"],["nl","Nederlands"],["pl","polski"],["pt-BR","portugu\xeas do Brasil"],["pt-PT","portugu\xeas"],["ro","rom\xe2nÄƒ"],["ru","Ñ€ÑƒÑÑÐºÐ¸Ð¹"],["sk","slovenÄina"],["sr","Ð¡Ñ€Ð¿ÑÐºÐ¸"],["sv","svenska"],["th","à¹„à¸—à¸¢"],["tr","T\xfcrk\xe7e"],["uk","ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°"],["vi","Tiáº¿ng Viá»‡t"],["zh-CN","ä¸­æ–‡ï¼ˆä¸­å›½å¤§é™†ï¼‰"],["zh-TW","ä¸­æ–‡ï¼ˆå°ç£ï¼‰"]]),this.defaultMessages={},this.localeMessages={},this.systemLanguage=t.replace("_","-")}return ec()(e,[{key:"init",value:function(e){return aM(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}throw Error("i18n already initialized.");case 2:if(null!=this.supportedTranslationLocales&&0!==this.supportedTranslationLocales.length){t.next=4;break}throw Error("supportedTranslationLocales not set.");case 4:this.inited=!0,this.locale=this.translationLocale=null!=e?e:this.systemLanguage;try{this.collator=new Intl.Collator(this.locale,{numeric:!0,sensitivity:"base"})}catch(e){this.collator=null}if(-1===this.supportedTranslationLocales.indexOf(this.translationLocale)&&(this.translationLocale=this.translationLocale.slice(0,2),-1===this.supportedTranslationLocales.indexOf(this.translationLocale)&&(this.translationLocale=this.supportedTranslationLocales[0])),null==this.localesDirectory){t.next=14;break}return t.next=11,this.loadMessages(this.translationLocale,this.localeMessages);case 11:if(this.translationLocale===this.supportedTranslationLocales[0]){t.next=14;break}return t.next=14,this.loadMessages(this.supportedTranslationLocales[0],this.defaultMessages);case 14:case"end":return t.stop()}},t,this)}))}},{key:"t",value:function(e,t,n,r){return this.translate(e,t,n,r)}},{key:"translate",value:function(e,t,n,r){var a;return""!==(a=this.localeMessages.hasOwnProperty(e)&&this.localeMessages[e]?this.localeMessages[e]:this.defaultMessages.hasOwnProperty(e)&&this.defaultMessages[e]?this.defaultMessages[e]:"")&&(null!=t&&(a=a.split("__$1__").join(t)),null!=n&&(a=a.split("__$2__").join(n)),null!=r&&(a=a.split("__$3__").join(r))),a}},{key:"loadMessages",value:function(e,t){return aM(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.replace("-","_"),n.next=3,this.getLocalesJson(r);case 3:a=n.sent,n.t0=ti().keys(a);case 5:if((n.t1=n.t0()).done){n.next=24;break}if(i=n.t1.value,a.hasOwnProperty(i)){n.next=9;break}return n.abrupt("continue",5);case 9:if(t[i]=a[i].message,!a[i].placeholders){n.next=22;break}n.t2=ti().keys(a[i].placeholders);case 12:if((n.t3=n.t2()).done){n.next=22;break}if(o=n.t3.value,!(!a[i].placeholders.hasOwnProperty(o)||!a[i].placeholders[o].content)){n.next=16;break}return n.abrupt("continue",12);case 16:c="\\$"+o.toUpperCase()+"\\$",("$1"===(s=a[i].placeholders[o].content)||"$2"===s||"$3"===s)&&(s="__$"+s+"__"),t[i]=t[i].replace(RegExp(c,"g"),s),n.next=12;break;case 22:n.next=5;break;case 24:case"end":return n.stop()}},n,this)}))}}]),e}(),aN=ec()(function e(t){ei()(this,e),this.groups=[],null!=t&&(this.name=t.name?t.name.encryptedString:null,this.externalId=t.externalId)}),az=ec()(function e(){ei()(this,e),this.ciphers=[],this.folders=[],this.folderRelationships=[]}),aF=ec()(function e(){ei()(this,e),this.ciphers=[],this.collections=[],this.collectionRelationships=[]}),aL=ec()(function e(t,n){ei()(this,e),this.key=t,this.value=n}),aB=n(44809);(b=K||(K={}))[b.Generic=0]="Generic";var aU=function(){function e(){ei()(this,e),this.organization=!1,this.newLineRegex=/(?:\r\n|\r|\n)/,this.passwordFieldNames=["password","pass word","passphrase","pass phrase","pass","code","code word","codeword","secret","secret word","personpwd","key","keyword","key word","keyphrase","key phrase","form_pw","wppassword","pin","pwd","pw","pword","passwd","p","serial","serial#","license key","reg #","passwort"],this.usernameFieldNames=["user","name","user name","username","login name","email","e-mail","id","userid","user id","login","form_loginname","wpname","mail","loginid","login id","log","personlogin","first name","last name","card#","account #","member","member #","nom","benutzername"],this.notesFieldNames=["note","notes","comment","comments","memo","description","free form","freeform","free text","freetext","free","kommentar"],this.uriFieldNames=["url","hyper link","hyperlink","link","host","hostname","host name","server","address","hyper ref","href","web","website","web site","site","web-site","uri","ort","adresse"]}return ec()(e,[{key:"parseXml",value:function(e){var t=new DOMParser().parseFromString(e,"application/xml");return null!=t&&null==t.querySelector("parsererror")?t:null}},{key:"parseCsv",value:function(e,t){e=this.splitNewLine(e).join("\n").trim();var n=aB.parse(e,{header:t,encoding:"UTF-8",skipEmptyLines:!1});return null!=n.errors&&n.errors.length>0&&n.errors.forEach(function(e){null!=e.row&&console.warn("Error parsing row "+e.row+": "+e.message)}),n.data&&n.data.length>0?n.data:null}},{key:"parseSingleRowCsv",value:function(e){if(this.isNullOrWhitespace(e))return null;var t=this.parseCsv(e,!1);return null!=t&&t.length>0&&t[0].length>0?t[0]:null}},{key:"makeUriArray",value:function(e){var t=this;if(null==e)return null;if("string"==typeof e){var n=new rZ;return(n.uri=this.fixUri(e),this.isNullOrWhitespace(n.uri))?null:(n.match=null,[n])}if(e.length>0){var r=[];return e.forEach(function(e){var n=new rZ;n.uri=t.fixUri(e),t.isNullOrWhitespace(n.uri)||(n.match=null,r.push(n))}),0===r.length?null:r}return null}},{key:"fixUri",value:function(e){return null==e?null:(-1===(e=e.trim()).indexOf("://")&&e.indexOf(".")>=0&&(e="http://"+e),e.length>1e3)?e.substring(0,1e3):e}},{key:"nameFromUrl",value:function(e){var t=ns.getHostname(e);return this.isNullOrWhitespace(t)?null:t.startsWith("www.")?t.replace("www.",""):t}},{key:"isNullOrWhitespace",value:function(e){return ns.isNullOrWhitespace(e)}},{key:"getValueOrDefault",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.isNullOrWhitespace(e)?t:e}},{key:"splitNewLine",value:function(e){return e.split(this.newLineRegex)}},{key:"getCardBrand",value:function(e){if(this.isNullOrWhitespace(e))return null;var t=RegExp("^4");return null!=e.match(t)?"Visa":/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/.test(e)?"Mastercard":(t=RegExp("^3[47]"),null!=e.match(t))?"Amex":(t=RegExp("^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)"),null!=e.match(t))?"Discover":(t=RegExp("^36"),null!=e.match(t)||(t=RegExp("^30[0-5]"),null!=e.match(t)))?"Diners Club":(t=RegExp("^35(2[89]|[3-8][0-9])"),null!=e.match(t))?"JCB":(t=RegExp("^(4026|417500|4508|4844|491(3|7))"),null!=e.match(t))?"Visa":null}},{key:"setCardExpiration",value:function(e,t){if(!this.isNullOrWhitespace(t)){var n=t.split("/");if(2===n.length){var r=null,a=null;if((1===n[0].length||2===n[0].length)&&2===(r=n[0]).length&&"0"===r[0]&&(r=r.substr(1,1)),(2===n[1].length||4===n[1].length)&&(a=2===r.length?"20"+n[1]:n[1]),null!=r&&null!=a)return e.card.expMonth=r,e.card.expYear=a,!0}}return!1}},{key:"moveFoldersToCollections",value:function(e){e.folderRelationships.forEach(function(t){return e.collectionRelationships.push(t)}),e.collections=e.folders.map(function(e){var t=new ah;return t.name=e.name,t}),e.folderRelationships=[],e.folders=[]}},{key:"querySelectorDirectChild",value:function(e,t){var n=this.querySelectorAllDirectChild(e,t);return 0===n.length?null:n[0]}},{key:"querySelectorAllDirectChild",value:function(e,t){return Array.from(e.querySelectorAll(t)).filter(function(t){return t.parentNode===e})}},{key:"initLoginCipher",value:function(){var e=new rV;return e.favorite=!1,e.notes="",e.fields=[],e.login=new rB,e.type=q.Login,e}},{key:"cleanupCipher",value:function(e){null!=e&&(e.type!==q.Login&&(e.login=null),this.isNullOrWhitespace(e.name)&&(e.name="--"),this.isNullOrWhitespace(e.notes)?e.notes=null:e.notes=e.notes.trim(),null!=e.fields&&0===e.fields.length&&(e.fields=null))}},{key:"processKvp",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:W.Text;if(!this.isNullOrWhitespace(n))if(this.isNullOrWhitespace(t)&&(t=""),n.length>200||n.trim().search(this.newLineRegex)>-1)null==e.notes&&(e.notes=""),e.notes+=t+": "+this.splitNewLine(n).join("\n")+"\n";else{null==e.fields&&(e.fields=[]);var a=new rH;a.type=r,a.name=t,a.value=n,e.fields.push(a)}}},{key:"processFolder",value:function(e,t){var n=e.folders.length,r=!this.isNullOrWhitespace(t),a=r;if(r){for(var i=0;i<e.folders.length;i++)if(e.folders[i].name===t){a=!1,n=i;break}}if(a){var o=new aP;o.name=t,e.folders.push(o)}r&&e.folderRelationships.push([e.ciphers.length,n])}},{key:"convertToNoteIfNeeded",value:function(e){e.type===q.Login&&this.isNullOrWhitespace(e.login.username)&&this.isNullOrWhitespace(e.login.password)&&(null==e.login.uris||0===e.login.uris.length)&&(e.type=q.SecureNote,e.secureNote=new rU,e.secureNote.type=K.Generic)}}]),e}(),aV=ec()(function e(){ei()(this,e),this.success=!1,this.ciphers=[],this.folders=[],this.folderRelationships=[],this.collections=[],this.collectionRelationships=[]}),aH=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<2)){var r=t.initLoginCipher();if(r.notes=t.getValueOrDefault(e[e.length-1]),r.name=t.getValueOrDefault(e[0],"--"),e.length>2&&e.length%2==0)for(var a=0;a<e.length-2;a+=2){var i=e[a+2],o=e[a+1];if(!(t.isNullOrWhitespace(i)||t.isNullOrWhitespace(o))){var c=o.toLowerCase();null==r.login.password&&t.passwordFieldNames.indexOf(c)>-1?r.login.password=t.getValueOrDefault(i):null==r.login.username&&t.usernameFieldNames.indexOf(c)>-1?r.login.username=t.getValueOrDefault(i):(null==r.login.uris||0===r.login.uris.length)&&t.uriFieldNames.indexOf(c)>-1?r.login.uris=t.makeUriArray(i):t.processKvp(r,o,i)}}t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}}]),r}(aU),aq=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.name),r.login.uris=t.makeUriArray(e.web),r.login.password=t.getValueOrDefault(e.password),r.login.username=t.getValueOrDefault(e.login),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),aW=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);return null==r?n.success=!1:(null!=r.logins&&r.logins.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.custName),r.notes=t.getValueOrDefault(e.note),r.login.uris=t.makeUriArray(e.url),r.login.password=t.getValueOrDefault(e.pwd),r.login.username=t.getValueOrDefault(e.loginName),t.cleanupCipher(r),n.ciphers.push(r)}),null!=r.notes&&r.notes.forEach(function(e){var r=t.initLoginCipher();r.type=q.SecureNote,r.secureNote.type=K.Generic,r.name=t.getValueOrDefault(e.label),r.notes=t.getValueOrDefault(e.text),t.cleanupCipher(r),n.ciphers.push(r)}),null!=r.cards&&r.cards.forEach(function(e){var r=t.initLoginCipher();r.type=q.Card,r.name=t.getValueOrDefault(e.custName),r.notes=t.getValueOrDefault(e.note),r.card.cardholderName=t.getValueOrDefault(e.holderName),r.card.number=t.getValueOrDefault(e.cardNumber),r.card.code=t.getValueOrDefault(e.cvv),r.card.brand=t.getCardBrand(r.card.number),null!=e.expirationDate&&(null!=e.expirationDate.month&&(r.card.expMonth=e.expirationDate.month+""),null!=e.expirationDate.year&&(r.card.expYear=e.expirationDate.year+"")),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),aG=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.name,t.getValueOrDefault(t.nameFromUrl(e.website),"--")),r.login.uris=t.makeUriArray(e.website),r.login.password=t.getValueOrDefault(e.password),t.isNullOrWhitespace(e.username)&&!t.isNullOrWhitespace(e.secondary_username)?r.login.username=e.secondary_username:(r.login.username=t.getValueOrDefault(e.username),r.notes=t.getValueOrDefault(e.secondary_username)),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),aZ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){t.organization&&!t.isNullOrWhitespace(e.collections)?e.collections.split(",").forEach(function(e){for(var t=!0,r=n.collections.length,a=0;a<n.collections.length;a++)if(n.collections[a].name===e){t=!1,r=a;break}if(t){var i=new ah;i.name=e,n.collections.push(i)}n.collectionRelationships.push([n.ciphers.length,r])}):t.organization||t.processFolder(n,e.folder);var r=new rV;if(r.favorite=!t.organization&&"0"!==t.getValueOrDefault(e.favorite,"0"),r.type=q.Login,r.notes=t.getValueOrDefault(e.notes),r.name=t.getValueOrDefault(e.name,"--"),!t.isNullOrWhitespace(e.fields)){for(var a=t.splitNewLine(e.fields),i=0;i<a.length;i++)if(!t.isNullOrWhitespace(a[i])){var o=a[i].lastIndexOf(": ");if(-1!==o){null==r.fields&&(r.fields=[]);var c=new rH;c.name=a[i].substr(0,o),c.value=null,c.type=W.Text,a[i].length>o+2&&(c.value=a[i].substr(o+2)),r.fields.push(c)}}}if((null!=e.type?e.type.toLowerCase():null)==="note")r.type=q.SecureNote,r.secureNote=new rU,r.secureNote.type=K.Generic;else{r.type=q.Login,r.login=new rB,r.login.totp=t.getValueOrDefault(e.login_totp||e.totp),r.login.username=t.getValueOrDefault(e.login_username||e.username),r.login.password=t.getValueOrDefault(e.login_password||e.password);var s=t.parseSingleRowCsv(e.login_uri||e.uri);r.login.uris=t.makeUriArray(s)}n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),aK=n(96220),aQ=n.n(aK),aY=function(){function e(t){var n,r,a,i,o,c;ei()(this,e),null!=t&&(t instanceof rz?(this.cardholderName=t.cardholderName,this.brand=t.brand,this.number=t.number,this.expMonth=t.expMonth,this.expYear=t.expYear,this.code=t.code):(this.cardholderName=null==(n=t.cardholderName)?void 0:n.encryptedString,this.brand=null==(r=t.brand)?void 0:r.encryptedString,this.number=null==(a=t.number)?void 0:a.encryptedString,this.expMonth=null==(i=t.expMonth)?void 0:i.encryptedString,this.expYear=null==(o=t.expYear)?void 0:o.encryptedString,this.code=null==(c=t.code)?void 0:c.encryptedString))}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.cardholderName="John Doe",t.brand="visa",t.number="4242424242424242",t.expMonth="04",t.expYear="2023",t.code="123",t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rz;return t.cardholderName=e.cardholderName,t.brand=e.brand,t.number=e.number,t.expMonth=e.expMonth,t.expYear=e.expYear,t.code=e.code,t}}]),e}(),aJ=function(){function e(t){var n,r;ei()(this,e),null!=t&&(t instanceof rH?(this.name=t.name,this.value=t.value):(this.name=null==(n=t.name)?void 0:n.encryptedString,this.value=null==(r=t.value)?void 0:r.encryptedString),this.type=t.type)}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.name="Field name",t.value="Some value",t.type=W.Text,t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rH;return t.type=e.type,t.value=e.value,t.name=e.name,t}}]),e}(),a$=function(){function e(t){var n,r,a,i,o,c,s,u,l,d,f,p,h,m,v,y,g,b;ei()(this,e),null!=t&&(t instanceof rL?(this.title=t.title,this.firstName=t.firstName,this.middleName=t.middleName,this.lastName=t.lastName,this.address1=t.address1,this.address2=t.address2,this.address3=t.address3,this.city=t.city,this.state=t.state,this.postalCode=t.postalCode,this.country=t.country,this.company=t.company,this.email=t.email,this.phone=t.phone,this.ssn=t.ssn,this.username=t.username,this.passportNumber=t.passportNumber,this.licenseNumber=t.licenseNumber):(this.title=null==(n=t.title)?void 0:n.encryptedString,this.firstName=null==(r=t.firstName)?void 0:r.encryptedString,this.middleName=null==(a=t.middleName)?void 0:a.encryptedString,this.lastName=null==(i=t.lastName)?void 0:i.encryptedString,this.address1=null==(o=t.address1)?void 0:o.encryptedString,this.address2=null==(c=t.address2)?void 0:c.encryptedString,this.address3=null==(s=t.address3)?void 0:s.encryptedString,this.city=null==(u=t.city)?void 0:u.encryptedString,this.state=null==(l=t.state)?void 0:l.encryptedString,this.postalCode=null==(d=t.postalCode)?void 0:d.encryptedString,this.country=null==(f=t.country)?void 0:f.encryptedString,this.company=null==(p=t.company)?void 0:p.encryptedString,this.email=null==(h=t.email)?void 0:h.encryptedString,this.phone=null==(m=t.phone)?void 0:m.encryptedString,this.ssn=null==(v=t.ssn)?void 0:v.encryptedString,this.username=null==(y=t.username)?void 0:y.encryptedString,this.passportNumber=null==(g=t.passportNumber)?void 0:g.encryptedString,this.licenseNumber=null==(b=t.licenseNumber)?void 0:b.encryptedString))}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.title="Mr",t.firstName="John",t.middleName="William",t.lastName="Doe",t.address1="123 Any St",t.address2="Apt #123",t.address3=null,t.city="New York",t.state="NY",t.postalCode="10001",t.country="US",t.company="Acme Inc.",t.email="john@company.com",t.phone="5555551234",t.ssn="000-123-4567",t.username="jdoe",t.passportNumber="US-123456789",t.licenseNumber="D123-12-123-12333",t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rL;return t.title=e.title,t.firstName=e.firstName,t.middleName=e.middleName,t.lastName=e.lastName,t.address1=e.address1,t.address2=e.address2,t.address3=e.address3,t.city=e.city,t.state=e.state,t.postalCode=e.postalCode,t.country=e.country,t.company=e.company,t.email=e.email,t.phone=e.phone,t.ssn=e.ssn,t.username=e.username,t.passportNumber=e.passportNumber,t.licenseNumber=e.licenseNumber,t}}]),e}(),aX=function(){function e(t){var n;ei()(this,e),this.match=null,null!=t&&(t instanceof rZ?this.uri=t.uri:this.uri=null==(n=t.uri)?void 0:n.encryptedString,this.match=t.match)}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.uri="https://google.com",t.match=null,t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rZ;return t.uri=e.uri,t.match=e.match,t}}]),e}(),a0=function(){function e(t){var n,r,a;ei()(this,e),null!=t&&(null!=t.uris&&(t instanceof rB?this.uris=t.uris.map(function(e){return new aX(e)}):this.uris=t.uris.map(function(e){return new aX(e)})),t instanceof rB?(this.username=t.username,this.password=t.password,this.totp=t.totp):(this.username=null==(n=t.username)?void 0:n.encryptedString,this.password=null==(r=t.password)?void 0:r.encryptedString,this.totp=null==(a=t.totp)?void 0:a.encryptedString))}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.uris=[],t.username="jdoe",t.password="myp@ssword123",t.totp="JBSWY3DPEHPK3PXP",t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rB;return null!=e.uris&&(t.uris=e.uris.map(function(e){return aX.toView(e)})),t.username=e.username,t.password=e.password,t.totp=e.totp,t}}]),e}(),a1=function(){function e(t){ei()(this,e),null!=t&&(this.type=t.type)}return ec()(e,null,[{key:"template",value:function(){var t=new e;return t.type=K.Generic,t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rU;return t.type=e.type,t}}]),e}(),a2=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"build",value:function(e){this.id=e.id,aQ()(em()(r.prototype),"build",this).call(this,e),this.collectionIds=e.collectionIds}}]),r}(function(){function e(){ei()(this,e)}return ec()(e,[{key:"build",value:function(e){var t,n;switch(this.organizationId=e.organizationId,this.folderId=e.folderId,this.type=e.type,e instanceof rV?(this.name=e.name,this.notes=e.notes):(this.name=null==(t=e.name)?void 0:t.encryptedString,this.notes=null==(n=e.notes)?void 0:n.encryptedString),this.favorite=e.favorite,null!=e.fields&&(e instanceof rV?this.fields=e.fields.map(function(e){return new aJ(e)}):this.fields=e.fields.map(function(e){return new aJ(e)})),e.type){case q.Login:this.login=new a0(e.login);break;case q.SecureNote:this.secureNote=new a1(e.secureNote);break;case q.Card:this.card=new aY(e.card);break;case q.Identity:this.identity=new a$(e.identity)}}}],[{key:"template",value:function(){var t=new e;return t.organizationId=null,t.folderId=null,t.type=q.Login,t.name="Item name",t.notes="Some notes about this item.",t.favorite=!1,t.fields=[],t.login=null,t.secureNote=null,t.card=null,t.identity=null,t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rV;switch(t.type=e.type,t.folderId=e.folderId,null==t.organizationId&&(t.organizationId=e.organizationId),t.name=e.name,t.notes=e.notes,t.favorite=e.favorite,null!=e.fields&&(t.fields=e.fields.map(function(e){return aJ.toView(e)})),e.type){case q.Login:t.login=a0.toView(e.login);break;case q.SecureNote:t.secureNote=a1.toView(e.secureNote);break;case q.Card:t.card=aY.toView(e.card);break;case q.Identity:t.identity=a$.toView(e.identity)}return t}}]),e}()),a3=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"build",value:function(e){this.id=e.id,aQ()(em()(r.prototype),"build",this).call(this,e)}}]),r}(function(){function e(){ei()(this,e)}return ec()(e,[{key:"build",value:function(e){var t;this.organizationId=e.organizationId,e instanceof ah?this.name=e.name:this.name=null==(t=e.name)?void 0:t.encryptedString,this.externalId=e.externalId}}],[{key:"template",value:function(){var t=new e;return t.organizationId="00000000-0000-0000-0000-000000000000",t.name="Collection name",t.externalId=null,t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah;return t.name=e.name,t.externalId=e.externalId,null==t.organizationId&&(t.organizationId=e.organizationId),t}}]),e}()),a4=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"build",value:function(e){this.id=e.id,aQ()(em()(r.prototype),"build",this).call(this,e)}}]),r}(function(){function e(){ei()(this,e)}return ec()(e,[{key:"build",value:function(e){var t;e instanceof aP?this.name=e.name:this.name=null==(t=e.name)?void 0:t.encryptedString}}],[{key:"template",value:function(){var t=new e;return t.name="Folder name",t}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new aP;return t.name=e.name,t}}]),e}()),a6=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);if(null==r||null==r.items||0===r.items.length)return n.success=!1,n;var a=new Map;return this.organization&&null!=r.collections?r.collections.forEach(function(e){var t=a3.toView(e);null!=t&&(t.id=null,t.organizationId=null,a.set(e.id,n.collections.length),n.collections.push(t))}):this.organization||null==r.folders||r.folders.forEach(function(e){var t=a4.toView(e);null!=t&&(t.id=null,a.set(e.id,n.folders.length),n.folders.push(t))}),r.items.forEach(function(e){var r=a2.toView(e);r.id=null,r.folderId=null,r.organizationId=null,r.collectionIds=null,null!=r.passwordHistory&&r.passwordHistory.length>5&&(r.passwordHistory=r.passwordHistory.slice(0,5)),!t.organization&&null!=e.folderId&&a.has(e.folderId)?n.folderRelationships.push([n.ciphers.length,a.get(e.folderId)]):t.organization&&null!=e.collectionIds&&e.collectionIds.forEach(function(e){a.has(e)&&n.collectionRelationships.push([n.ciphers.length,a.get(e)])}),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0,n}}]),r}(aU),a5=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){if("list"!==e.grouping){var r=t.initLoginCipher();r.favorite="1"===e.fav,r.name=t.getValueOrDefault(e.name),r.notes=t.getValueOrDefault(e.extra),"note"!==e.grouping&&(r.login.uris=t.makeUriArray(e.url),r.login.password=t.getValueOrDefault(e.password),r.login.username=t.getValueOrDefault(e.username)),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}}]),r}(aU),a7=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){"null"===e.label&&(e.label=null);var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.label,t.getValueOrDefault(t.nameFromUrl(e.domain),"--")),r.login.uris=t.makeUriArray(e.domain),r.login.password=t.getValueOrDefault(e.password),t.isNullOrWhitespace(e.email)&&!t.isNullOrWhitespace(e.username)?r.login.username=e.username:(r.login.username=t.getValueOrDefault(e.email),r.notes=t.getValueOrDefault(e.username)),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),a8=["!group_id","!group_name","title","username","password","URL","id"],a9=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){t.processFolder(n,t.getValueOrDefault(e["!group_name"]));var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.title,"--"),r.login.username=t.getValueOrDefault(e.username),r.login.password=t.getValueOrDefault(e.password),r.login.uris=t.makeUriArray(e.URL);var a=!1;for(var i in e)e.hasOwnProperty(i)&&(a||-1!==a8.indexOf(i)||(a=!0),a&&t.processKvp(r,i,e[i]));t.cleanupCipher(r),n.ciphers.push(r)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),ie=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.name,"--"),r.login.username=t.getValueOrDefault(e.username),r.login.password=t.getValueOrDefault(e.password),r.login.uris=t.makeUriArray(e.url),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),it=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseXml(e);if(null==r)return n.success=!1,n;var a=r.querySelector("textarea");return null==a||this.isNullOrWhitespace(a.textContent)?(n.errorMessage="Missing textarea.",n.success=!1):(JSON.parse(a.textContent).forEach(function(e){var r=t.initLoginCipher();if(t.isNullOrWhitespace(e.label)||(r.name=e.label.split(" î€‰")[0]),null==e.data||t.isNullOrWhitespace(e.data.notes)||(r.notes=e.data.notes.split("\\n").join("\n")),null!=e.currentVersion&&null!=e.currentVersion.fields){for(var a in e.currentVersion.fields)if(e.currentVersion.fields.hasOwnProperty(a)){var i=e.currentVersion.fields[a];switch(null!=i.actionType?i.actionType.toLowerCase():null){case"password":r.login.password=t.getValueOrDefault(i.value);break;case"email":case"username":case"user":case"name":r.login.username=t.getValueOrDefault(i.value);break;case"url":r.login.uris=t.makeUriArray(i.value);break;default:var o=null!=i.label?i.label.toLowerCase():null;null==r.login.password&&t.passwordFieldNames.indexOf(o)>-1?r.login.password=t.getValueOrDefault(i.value):null==r.login.username&&t.usernameFieldNames.indexOf(o)>-1?r.login.username=t.getValueOrDefault(i.value):(null==r.login.uris||0===r.login.uris.length)&&t.uriFieldNames.indexOf(o)>-1?r.login.uris=t.makeUriArray(i.value):t.processKvp(r,i.label,i.value)}}}t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),ir=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){t.processFolder(n,t.getValueOrDefault(e.Category));var r=t.initLoginCipher();r.favorite="True"===t.getValueOrDefault(e.Favorite),r.name=t.getValueOrDefault(e.Entry,"--"),r.notes=t.getValueOrDefault(e.Note),r.login.username=t.getValueOrDefault(e.Username,e.Email),r.login.password=t.getValueOrDefault(e.Password),r.login.totp=t.getValueOrDefault(e.TOTP),r.login.uris=t.makeUriArray(e.Website),t.isNullOrWhitespace(e.Username)||t.processKvp(r,"Email",e.Email),t.processKvp(r,"Phone",e.Phone),t.processKvp(r,"PIN",e.PIN),t.processKvp(r,"Account",e.Account),t.processKvp(r,"Date",e.Date),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),ia=new Set(["ADDRESS","AUTHENTIFIANT","BANKSTATEMENT","IDCARD","IDENTITY","PAYMENTMEANS_CREDITCARD","PAYMENTMEAN_PAYPAL","EMAIL"]),ii=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){this.result=new aV;var t=JSON.parse(e);if(null==t||0===t.length)return this.result.success=!1,this.result;for(var n in null!=t.ADDRESS&&this.processAddress(t.ADDRESS),null!=t.AUTHENTIFIANT&&this.processAuth(t.AUTHENTIFIANT),null!=t.BANKSTATEMENT&&this.processNote(t.BANKSTATEMENT,"BankAccountName"),null!=t.IDCARD&&this.processNote(t.IDCARD,"Fullname"),null!=t.PAYMENTMEANS_CREDITCARD&&this.processCard(t.PAYMENTMEANS_CREDITCARD),null!=t.IDENTITY&&this.processIdentity(t.IDENTITY),t)t.hasOwnProperty(n)&&!ia.has(n)&&this.processNote(t[n],null,"Generic Note");return this.result.success=!0,this.result}},{key:"processAuth",value:function(e){var t=this;e.forEach(function(e){var n=t.initLoginCipher();n.name=t.getValueOrDefault(e.title),n.login.username=t.getValueOrDefault(e.login,t.getValueOrDefault(e.secondaryLogin)),t.isNullOrWhitespace(n.login.username)?n.login.username=t.getValueOrDefault(e.email):t.isNullOrWhitespace(e.email)||(n.notes="Email: "+e.email+"\n"),n.login.password=t.getValueOrDefault(e.password),n.login.uris=t.makeUriArray(e.domain),n.notes+=t.getValueOrDefault(e.note,""),t.convertToNoteIfNeeded(n),t.cleanupCipher(n),t.result.ciphers.push(n)})}},{key:"processIdentity",value:function(e){var t=this;e.forEach(function(e){var n=new rV;n.identity=new rL,n.type=q.Identity,n.name=t.getValueOrDefault(e.fullName,"");var r=n.name.split(" ");r.length>0&&(n.identity.firstName=t.getValueOrDefault(r[0])),2===r.length?n.identity.lastName=t.getValueOrDefault(r[1]):3===r.length&&(n.identity.middleName=t.getValueOrDefault(r[1]),n.identity.lastName=t.getValueOrDefault(r[2])),n.identity.username=t.getValueOrDefault(e.pseudo),t.cleanupCipher(n),t.result.ciphers.push(n)})}},{key:"processAddress",value:function(e){var t=this;e.forEach(function(e){var n=new rV;n.identity=new rL,n.type=q.Identity,n.name=t.getValueOrDefault(e.addressName),n.identity.address1=t.getValueOrDefault(e.addressFull),n.identity.city=t.getValueOrDefault(e.city),n.identity.state=t.getValueOrDefault(e.state),n.identity.postalCode=t.getValueOrDefault(e.zipcode),n.identity.country=t.getValueOrDefault(e.country),null!=n.identity.country&&(n.identity.country=n.identity.country.toUpperCase()),t.cleanupCipher(n),t.result.ciphers.push(n)})}},{key:"processCard",value:function(e){var t=this;e.forEach(function(e){var n=new rV;n.card=new rz,n.type=q.Card,n.name=t.getValueOrDefault(e.bank),n.card.number=t.getValueOrDefault(e.cardNumber),n.card.brand=t.getCardBrand(n.card.number),n.card.cardholderName=t.getValueOrDefault(e.owner),t.isNullOrWhitespace(n.card.brand)||(t.isNullOrWhitespace(n.name)?n.name=n.card.brand:n.name+=" - "+n.card.brand),t.cleanupCipher(n),t.result.ciphers.push(n)})}},{key:"processNote",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.forEach(function(e){var a=new rV;for(var i in a.secureNote=new rU,a.type=q.SecureNote,a.secureNote.type=K.Generic,null!=r?a.name=r:a.name=n.getValueOrDefault(e[t]),e)e.hasOwnProperty(i)&&i!==t&&n.processKvp(a,i,e[i].toString());n.cleanupCipher(a),n.result.ciphers.push(a)})}}]),r}(aU),io=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.Label,"--"),r.notes=t.getValueOrDefault(e.Notes);var a=t.getValueOrDefault(e.Text);t.isNullOrWhitespace(a)||(t.isNullOrWhitespace(r.notes)?r.notes=a:r.notes+="\n\n"+a);var i=e["Entry Type"];if("Password"===i)r.login.username=t.getValueOrDefault(e.Username),r.login.password=t.getValueOrDefault(e.Password),r.login.uris=t.makeUriArray(e["Site URL"]);else if("Credit Card"===i){r.type=q.Card,r.card=new rz,r.card.cardholderName=t.getValueOrDefault(e["Name on card"]),r.card.number=t.getValueOrDefault(e["Card Number"]),r.card.brand=t.getCardBrand(r.card.number),r.card.code=t.getValueOrDefault(e.CVV);var o=t.getValueOrDefault(e.Expiry);if(!t.isNullOrWhitespace(o)){var c=o.split("/");c.length>1&&(r.card.expMonth=parseInt(c[0],null).toString(),r.card.expYear=(2e3+parseInt(c[1],null)).toString())}}t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),ic=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);if(null==r)return n.success=!1,n;var a=!0;return r.forEach(function(e){if(e.length<2||a&&("Title"===e[0]||"title"===e[0])){a=!1;return}var r=t.initLoginCipher();if(r.notes=t.getValueOrDefault(e[e.length-1]),r.name=t.getValueOrDefault(e[0],"--"),2!==e.length&&(t.containsField(e,"username")||t.containsField(e,"password")||t.containsField(e,"email")||t.containsField(e,"url"))||(r.type=q.SecureNote,r.secureNote=new rU,r.secureNote.type=K.Generic),t.containsField(e,"cardholder")&&t.containsField(e,"number")&&t.containsField(e,"expiry date")&&(r.type=q.Card,r.card=new rz),e.length>2&&e.length%2==0)for(var i=0;i<e.length-2;i+=2){var o=e[i+2];if(!t.isNullOrWhitespace(o)){var c=e[i+1],s=c.toLowerCase();if(r.type===q.Login){if("url"===s&&(null==r.login.uris||0===r.login.uris.length)){r.login.uris=t.makeUriArray(o);continue}else if(("username"===s||"email"===s)&&t.isNullOrWhitespace(r.login.username)){r.login.username=o;continue}else if("password"===s&&t.isNullOrWhitespace(r.login.password)){r.login.password=o;continue}else if("totp"===s&&t.isNullOrWhitespace(r.login.totp)){r.login.totp=o;continue}}else if(r.type===q.Card){if("cardholder"===s&&t.isNullOrWhitespace(r.card.cardholderName)){r.card.cardholderName=o;continue}else if("number"===s&&t.isNullOrWhitespace(r.card.number)){r.card.number=o,r.card.brand=t.getCardBrand(o);continue}else if("cvc"===s&&t.isNullOrWhitespace(r.card.code)){r.card.code=o;continue}else if("expiry date"===s&&t.isNullOrWhitespace(r.card.expMonth)&&t.isNullOrWhitespace(r.card.expYear)){if(t.setCardExpiration(r,o))continue}else if("type"===s)continue}t.processKvp(r,c,o)}}t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0,n}},{key:"containsField",value:function(e,t){var n=this;return null!=e&&null!=t&&e.filter(function(e){return!n.isNullOrWhitespace(e)&&e.toLowerCase()===t.toLowerCase()}).length>0}}]),r}(aU),is=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);if(null==r||null==r.items||0===r.items.length)return n.success=!1,n;var a=new Map,i=new Map,o=this.buildFolderTree(r.folders);return this.flattenFolderTree(null,o,a),a.forEach(function(e,t){i.set(t,n.folders.length);var r=new aP;r.name=e,n.folders.push(r)}),r.items.forEach(function(e){null!=e.folders&&e.folders.length>0&&i.has(e.folders[0])&&n.folderRelationships.push([n.ciphers.length,i.get(e.folders[0])]);var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.title),r.favorite=e.favorite>0,null!=e.template_type&&null!=e.fields&&e.fields.length>0&&(0===e.template_type.indexOf("login.")||0===e.template_type.indexOf("password.")?t.processLogin(r,e.fields):0===e.template_type.indexOf("creditcard.")?t.processCard(r,e.fields):0>e.template_type.indexOf("identity.")&&e.fields.some(function(e){return"password"===e.type&&!t.isNullOrWhitespace(e.value)})?t.processLogin(r,e.fields):t.processNote(r,e.fields)),r.notes+="\n"+t.getValueOrDefault(e.note,""),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0,n}},{key:"processLogin",value:function(e,t){var n=this,r=[];t.forEach(function(t){n.isNullOrWhitespace(t.value)||"section"===t.type||(("username"===t.type||"email"===t.type)&&n.isNullOrWhitespace(e.login.username)?e.login.username=t.value:"password"===t.type&&n.isNullOrWhitespace(e.login.password)?e.login.password=t.value:"totp"===t.type&&n.isNullOrWhitespace(e.login.totp)?e.login.totp=t.value:"url"===t.type?r.push(t.value):n.processKvp(e,t.label,t.value,1===t.sensitive?W.Hidden:W.Text))}),e.login.uris=this.makeUriArray(r)}},{key:"processCard",value:function(e,t){var n=this;e.card=new rz,e.type=q.Card,t.forEach(function(t){!n.isNullOrWhitespace(t.value)&&"section"!==t.type&&"ccType"!==t.type&&("ccName"===t.type&&n.isNullOrWhitespace(e.card.cardholderName)?e.card.cardholderName=t.value:"ccNumber"===t.type&&n.isNullOrWhitespace(e.card.number)?(e.card.number=t.value,e.card.brand=n.getCardBrand(e.card.number)):"ccCvc"===t.type&&n.isNullOrWhitespace(e.card.code)?e.card.code=t.value:"ccExpiry"===t.type&&n.isNullOrWhitespace(e.card.expYear)&&n.setCardExpiration(e,t.value)||n.processKvp(e,t.label,t.value,1===t.sensitive?W.Hidden:W.Text))})}},{key:"processNote",value:function(e,t){var n=this;t.forEach(function(t){n.isNullOrWhitespace(t.value)||"section"===t.type||n.processKvp(e,t.label,t.value,1===t.sensitive?W.Hidden:W.Text)})}},{key:"buildFolderTree",value:function(e){if(null==e)return[];var t=[],n=new Map([]);return e.forEach(function(e){n.set(e.uuid,e),e.children=[]}),e.forEach(function(e){null!=e.parent_uuid&&""!==e.parent_uuid&&n.has(e.parent_uuid)?n.get(e.parent_uuid).children.push(e):t.push(e)}),t}},{key:"flattenFolderTree",value:function(e,t,n){var r=this;null!=t&&t.forEach(function(t){if(null!=t.title&&""!==t.title.trim()){var a=t.title.trim();null!=e&&""!==e.trim()&&(a=e+"/"+a),n.set(t.uuid,a),null!=t.children&&0!==t.children.length&&r.flattenFolderTree(a,t.children,n)}})}}]),r}(aU),iu=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher(),a=t.getValueOrDefault(e.url,t.getValueOrDefault(e.hostname));r.name=t.getValueOrDefault(t.nameFromUrl(a),"--"),r.login.username=t.getValueOrDefault(e.username),r.login.password=t.getValueOrDefault(e.password),r.login.uris=t.makeUriArray(a),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),il=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=new aV,n=JSON.parse(e);if(null==n||null==n.data)return t.success=!1,t;for(var r in n.data)if(n.data.hasOwnProperty(r)){var a=n.data[r],i=this.initLoginCipher();if(i.name=this.getValueOrDefault(a.service),i.notes=this.getValueOrDefault(a.notes),"website"===a.style)i.login.username=this.getValueOrDefault(a.username),i.login.password=this.getValueOrDefault(a.password),i.login.uris=this.makeUriArray(a.url);else{if("creditcard"!==a.style)continue;i.type=q.Card,i.card=new rz,i.card.cardholderName=this.getValueOrDefault(a.username),i.card.number=this.getValueOrDefault(a.creditNumber),i.card.brand=this.getCardBrand(i.card.number),i.card.code=this.getValueOrDefault(a.creditCvv),this.isNullOrWhitespace(a.creditExpiry)||this.setCardExpiration(i,a.creditExpiry)||this.processKvp(i,"Expiration",a.creditExpiry),this.isNullOrWhitespace(a.password)||this.processKvp(i,"PIN",a.password)}this.convertToNoteIfNeeded(i),this.cleanupCipher(i),t.ciphers.push(i)}return t.success=!0,t}}]),r}(aU),id=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);if(null==r||0===Object.keys(r).length)return n.success=!1,n;var a=function(e){if(!r.hasOwnProperty(e)||t.isNullOrWhitespace(e)||0===r[e].length)return"continue";r[e].forEach(function(r){if(!t.isNullOrWhitespace(r.display_name)&&0===r.display_name.indexOf("http")){t.processFolder(n,e);var a=t.initLoginCipher();if(a.name=r.display_name.replace("http://","").replace("https://",""),a.name.length>30&&(a.name=a.name.substring(0,30)),a.login.password=t.getValueOrDefault(r.secret),a.login.uris=t.makeUriArray(r.display_name),null!=r.attributes)for(var i in a.login.username=null!=r.attributes?t.getValueOrDefault(r.attributes.username_value):null,r.attributes)r.attributes.hasOwnProperty(i)&&"username_value"!==i&&"xdg:schema"!==i&&t.processKvp(a,i,r.attributes[i]);t.convertToNoteIfNeeded(a),t.cleanupCipher(a),n.ciphers.push(a)}})};for(var i in r)if("continue"===a(i))continue;return this.organization&&this.moveFoldersToCollections(n),n.success=!0,n}}]),r}(aU),ip="Notes\n\n",ih="Applications\n\n",im="Websites\n\n",iv="\n---\n",iy=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t,n,r,a=this,i=new aV,o=this.splitNewLine(e).join("\n");if(-1!==o.indexOf(ip)){var c=o.split(ip);c.length>1&&(o=c[0],t=c[1])}if(-1!==o.indexOf(ih)){var s=o.split(ih);s.length>1&&(o=s[0],n=s[1])}if(0===o.indexOf(im)){var u=o.split(im);u.length>1&&(o=u[0],r=u[1])}var l=this.parseDataCategory(t),d=this.parseDataCategory(n),f=this.parseDataCategory(r);return l.forEach(function(e){var t=a.initLoginCipher();t.name=a.getValueOrDefault(e.get("Name")),t.notes=a.getValueOrDefault(e.get("Text")),a.cleanupCipher(t),i.ciphers.push(t)}),f.concat(d).forEach(function(e){var t=a.initLoginCipher(),n=e.has("Website name")?"Website name":"Application";t.name=a.getValueOrDefault(e.get(n),""),a.isNullOrWhitespace(e.get("Login name"))||(a.isNullOrWhitespace(t.name)||(t.name+=": "),t.name+=e.get("Login name")),t.notes=a.getValueOrDefault(e.get("Comment")),e.has("Website URL")&&(t.login.uris=a.makeUriArray(e.get("Website URL"))),t.login.username=a.getValueOrDefault(e.get("Login")),t.login.password=a.getValueOrDefault(e.get("Password")),a.cleanupCipher(t),i.ciphers.push(t)}),i.success=!0,i}},{key:"parseDataCategory",value:function(e){if(this.isNullOrWhitespace(e)||-1===e.indexOf(iv))return[];var t=[];return e.split(iv).forEach(function(e){if(-1!==e.indexOf("\n")){var n,r,a=new Map;e.split("\n").forEach(function(e){if(null!=n){n+="\n"+e;return}var t,i,o=e.indexOf(":");-1!==o&&(t=e.substring(0,o),e.length>o+1&&(i=e.substring(o+2)),null!=t&&a.set(t,i),("Comment"===t||"Text"===t)&&(n=i,r=t))}),null!=n&&null!=r&&a.set(r,n),0!==a.size&&t.push(a)}}),t}}]),r}(aU),ig=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;return ei()(this,r),e=n.apply(this,arguments),e.result=new aV,e}return ec()(r,[{key:"parse",value:function(e){var t=this.parseXml(e);if(null==t)return this.result.success=!1,this.result;var n=t.querySelector("KeePassFile > Root > Group");return null==n?(this.result.errorMessage="Missing `KeePassFile > Root > Group` node.",this.result.success=!1):(this.traverse(n,!0,""),this.organization&&this.moveFoldersToCollections(this.result),this.result.success=!0),this.result}},{key:"traverse",value:function(e,t,n){var r=this,a=this.result.folders.length,i=n;if(!t){""!==i&&(i+="/");var o=this.querySelectorDirectChild(e,"Name");i+=null==o?"-":o.textContent;var c=new aP;c.name=i,this.result.folders.push(c)}this.querySelectorAllDirectChild(e,"Entry").forEach(function(e){var n=r.result.ciphers.length,i=r.initLoginCipher();r.querySelectorAllDirectChild(e,"String").forEach(function(e){var t=r.querySelectorDirectChild(e,"Value"),n=null!=t?t.textContent:null;if(!r.isNullOrWhitespace(n)){var a=r.querySelectorDirectChild(e,"Key"),o=null!=a?a.textContent:null;if("URL"===o)i.login.uris=r.makeUriArray(n);else if("UserName"===o)i.login.username=n;else if("Password"===o)i.login.password=n;else if("otp"===o)i.login.totp=n.replace("key=","");else if("Title"===o)i.name=n;else if("Notes"===o)i.notes+=n+"\n";else{var c=W.Text,s=t.attributes;s.length>0&&null!=s.ProtectInMemory&&"True"===s.ProtectInMemory.value&&(c=W.Hidden),r.processKvp(i,o,n,c)}}}),r.cleanupCipher(i),r.result.ciphers.push(i),t||r.result.folderRelationships.push([n,a])}),this.querySelectorAllDirectChild(e,"Group").forEach(function(e){r.traverse(e,!1,i)})}}]),r}(aU),ib=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){if(!t.isNullOrWhitespace(e.Title)){e.Group=!t.isNullOrWhitespace(e.Group)&&e.Group.startsWith("Root/")?e.Group.replace("Root/",""):e.Group;var r=t.isNullOrWhitespace(e.Group)?null:e.Group;t.processFolder(n,r);var a=t.initLoginCipher();a.notes=t.getValueOrDefault(e.Notes),a.name=t.getValueOrDefault(e.Title,"--"),a.login.username=t.getValueOrDefault(e.Username),a.login.password=t.getValueOrDefault(e.Password),a.login.uris=t.makeUriArray(e.URL),t.cleanupCipher(a),n.ciphers.push(a)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),iw=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<6)){t.processFolder(n,e[0]);var r=t.initLoginCipher();if(r.notes=t.getValueOrDefault(e[5])+"\n",r.name=t.getValueOrDefault(e[1],"--"),r.login.username=t.getValueOrDefault(e[2]),r.login.password=t.getValueOrDefault(e[3]),r.login.uris=t.makeUriArray(e[4]),e.length>7)for(var a=7;a<e.length;a+=2)t.processKvp(r,e[a],e[a+1]);t.cleanupCipher(r),n.ciphers.push(r)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),ik=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e,r){var a=n.ciphers.length,i=n.folders.length,o=e.grouping;null!=o&&(o=o.replace(/\\/g,"/").replace(/[\x00-\x1F\x7F-\x9F]/g,""));var c="(none)"!==t.getValueOrDefault(o,"(none)"),s=c;if(c){for(var u=0;u<n.folders.length;u++)if(n.folders[u].name===o){s=!1,i=u;break}}var l=t.buildBaseCipher(e);if(l.type===q.Login)l.notes=t.getValueOrDefault(e.extra),l.login=new rB,l.login.uris=t.makeUriArray(e.url),l.login.username=t.getValueOrDefault(e.username),l.login.password=t.getValueOrDefault(e.password);else if(l.type===q.SecureNote)t.parseSecureNote(e,l);else if(l.type===q.Card)l.card=t.parseCard(e),l.notes=t.getValueOrDefault(e.notes);else if(l.type===q.Identity&&(l.identity=t.parseIdentity(e),l.notes=t.getValueOrDefault(e.notes),!t.isNullOrWhitespace(e.ccnum))){var d=t.buildBaseCipher(e);d.identity=null,d.type=q.Card,d.card=t.parseCard(e),n.ciphers.push(d)}if(n.ciphers.push(l),s){var f=new aP;f.name=o,n.folders.push(f)}c&&n.folderRelationships.push([a,i])}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}},{key:"buildBaseCipher",value:function(e){var t=new rV;return e.hasOwnProperty("profilename")&&e.hasOwnProperty("profilelanguage")?(t.favorite=!1,t.name=this.getValueOrDefault(e.profilename,"--"),t.type=q.Card,this.isNullOrWhitespace(e.title)&&this.isNullOrWhitespace(e.firstname)&&this.isNullOrWhitespace(e.lastname)&&this.isNullOrWhitespace(e.address1)&&this.isNullOrWhitespace(e.phone)&&this.isNullOrWhitespace(e.username)&&this.isNullOrWhitespace(e.email)||(t.type=q.Identity)):(t.favorite=!this.organization&&"1"===this.getValueOrDefault(e.fav,"0"),t.name=this.getValueOrDefault(e.name,"--"),t.type="http://sn"===e.url?q.SecureNote:q.Login),t}},{key:"parseCard",value:function(e){var t=new rz;if(t.cardholderName=this.getValueOrDefault(e.ccname),t.number=this.getValueOrDefault(e.ccnum),t.code=this.getValueOrDefault(e.cccsc),t.brand=this.getCardBrand(e.ccnum),!this.isNullOrWhitespace(e.ccexp)&&e.ccexp.indexOf("-")>-1){var n=e.ccexp.split("-");n.length>1&&(t.expYear=n[0],t.expMonth=n[1],2===t.expMonth.length&&"0"===t.expMonth[0]&&(t.expMonth=t.expMonth[1]))}return t}},{key:"parseIdentity",value:function(e){var t=new rL;return t.title=this.getValueOrDefault(e.title),t.firstName=this.getValueOrDefault(e.firstname),t.middleName=this.getValueOrDefault(e.middlename),t.lastName=this.getValueOrDefault(e.lastname),t.username=this.getValueOrDefault(e.username),t.company=this.getValueOrDefault(e.company),t.ssn=this.getValueOrDefault(e.ssn),t.address1=this.getValueOrDefault(e.address1),t.address2=this.getValueOrDefault(e.address2),t.address3=this.getValueOrDefault(e.address3),t.city=this.getValueOrDefault(e.city),t.state=this.getValueOrDefault(e.state),t.postalCode=this.getValueOrDefault(e.zip),t.country=this.getValueOrDefault(e.country),t.email=this.getValueOrDefault(e.email),t.phone=this.getValueOrDefault(e.phone),this.isNullOrWhitespace(t.title)||(t.title=t.title.charAt(0).toUpperCase()+t.title.slice(1)),t}},{key:"parseSecureNote",value:function(e,t){var n=this.splitNewLine(e.extra),r=!1;if(n.length){var a=n[0].split(":");if(a.length>1&&"NoteType"===a[0]&&("Credit Card"===a[1]||"Address"===a[1])){if("Credit Card"===a[1]){var i=this.parseSecureNoteMapping(t,n,{Number:"number","Name on Card":"cardholderName","Security Code":"code","Expiration Date":"expMonth"});if(this.isNullOrWhitespace(i.expMonth)||","===i.expMonth)i.expMonth=void 0;else{var o=i.expMonth.split(","),c=ty()(o,2),s=c[0],u=c[1];if(this.isNullOrWhitespace(s))i.expMonth=void 0;else{var l=new Date(Date.parse(s.trim()+" 1, 2012")).getMonth()+1;isNaN(l)?i.expMonth=void 0:i.expMonth=l.toString()}this.isNullOrWhitespace(u)||(i.expYear=u)}t.type=q.Card,t.card=i}else if("Address"===a[1]){var d=this.parseSecureNoteMapping(t,n,{Title:"title","First Name":"firstName","Last Name":"lastName","Middle Name":"middleName",Company:"company","Address 1":"address1","Address 2":"address2","Address 3":"address3","City / Town":"city",State:"state","Zip / Postal Code":"postalCode",Country:"country","Email Address":"email",Username:"username"});t.type=q.Identity,t.identity=d}r=!0}}r||(t.secureNote=new rU,t.secureNote.type=K.Generic,t.notes=this.getValueOrDefault(e.extra))}},{key:"parseSecureNoteMapping",value:function(e,t,n){var r=this,a={},i=!1;return t.forEach(function(t){var o=null,c=null;if(!i){if(r.isNullOrWhitespace(t))return;var s=t.indexOf(":");if(-1===s?o=t:(o=t.substring(0,s),t.length>s&&(c=t.substring(s+1))),r.isNullOrWhitespace(o)||r.isNullOrWhitespace(c)||"NoteType"===o)return}i?e.notes+="\n"+t:"Notes"===o?(r.isNullOrWhitespace(e.notes)?e.notes=c:e.notes+="\n"+c,i=!0):n.hasOwnProperty(o)?a[n[o]]=c:r.processKvp(e,o,c)}),a}}]),r}(aU),ix=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<4)){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e[0],"--"),r.login.username=t.getValueOrDefault(e[2]),r.login.password=t.getValueOrDefault(e[3]),r.login.uris=t.makeUriArray(e[1]),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}}]),r}(aU),iO=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.DisplayName,"--"),r.notes=t.getValueOrDefault(e.Notes),r.login.username=t.getValueOrDefault(e.UserName),r.login.password=t.getValueOrDefault(e.Password),r.login.uris=t.makeUriArray(e.Url),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),i_=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<3)){var r="Unassigned"!==t.getValueOrDefault(e[0],"Unassigned")?e[0]:null;t.processFolder(n,r);var a=t.initLoginCipher();if(a.name=t.getValueOrDefault(e[2],"--"),"Web Logins"===e[1]||"Login"===e[1])a.login.uris=t.makeUriArray(e[4]),a.login.username=t.getValueOrDefault(e[5]),a.login.password=t.getValueOrDefault(e[6]),a.notes=t.isNullOrWhitespace(e[3])?null:e[3].split("\\n").join("\n");else if(e.length>3){a.type=q.SecureNote,a.secureNote=new rU,a.secureNote.type=K.Generic;for(var i=3;i<e.length;i++)t.isNullOrWhitespace(e[i])||(a.notes+=e[i]+"\n")}t.isNullOrWhitespace(e[1])||a.type===q.Login||(a.name=e[1]+": "+a.name),t.cleanupCipher(a),n.ciphers.push(a)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),iE=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();if(r.name=t.getValueOrDefault(e.nickname,"--"),r.notes=t.getValueOrDefault(e.additionalInfo),void 0!==e.url)r.login.uris=t.makeUriArray(e.url),r.login.username=t.getValueOrDefault(e.username),r.login.password=t.getValueOrDefault(e.password),r.login.totp=t.getValueOrDefault(e.twoFactAuthToken);else if(void 0!==e.cardNumber)r.card=new rz,r.type=q.Card,r.card.cardholderName=t.getValueOrDefault(e.cardName),r.card.number=t.getValueOrDefault(e.cardNumber),r.card.brand=t.getCardBrand(r.card.number),r.card.expMonth=t.getValueOrDefault(e.exp_month),r.card.expYear=t.getValueOrDefault(e.exp_year),r.card.code=t.getValueOrDefault(e.cvv);else if(void 0!==e.firstName)r.identity=new rL,r.type=q.Identity,r.identity.title=t.getValueOrDefault(e.title),r.identity.firstName=t.getValueOrDefault(e.firstName),r.identity.middleName=t.getValueOrDefault(e.middleName),r.identity.lastName=t.getValueOrDefault(e.lastName),r.identity.phone=t.getValueOrDefault(e.number),r.identity.email=t.getValueOrDefault(e.email),r.identity.address1=t.getValueOrDefault(e.firstAddressLine),r.identity.address2=t.getValueOrDefault(e.secondAddressLine),r.identity.city=t.getValueOrDefault(e.city),r.identity.country=t.getValueOrDefault(e.country),r.identity.postalCode=t.getValueOrDefault(e.zipCode);else{if(void 0===e.content)return;r.secureNote=new rU,r.type=q.SecureNote,r.secureNote.type=K.Generic,r.name=t.getValueOrDefault(e.title,"--"),r.notes=t.getValueOrDefault(e.content)}t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),iC=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;return ei()(this,r),e=n.apply(this,arguments),e.result=new aV,e}return ec()(r,[{key:"parse",value:function(e){var t=this;return e.split(this.newLineRegex).forEach(function(e){if(!t.isNullOrWhitespace(e)&&"{"===e[0]){var n=JSON.parse(e);if(!0!==n.trashed){var r=t.initLoginCipher();t.isNullOrWhitespace(n.hmac)?t.processStandardItem(n,r):t.processWinOpVaultItem(n,r),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),t.result.ciphers.push(r)}}}),this.result.success=!0,this.result}},{key:"processWinOpVaultItem",value:function(e,t){var n=this;if(null!=e.overview&&(t.name=this.getValueOrDefault(e.overview.title),null!=e.overview.URLs)){var r=[];e.overview.URLs.forEach(function(e){n.isNullOrWhitespace(e.u)||r.push(e.u)}),t.login.uris=this.makeUriArray(r)}null!=e.details&&(null!=e.details.passwordHistory&&this.parsePasswordHistory(e.details.passwordHistory,t),this.isNullOrWhitespace(e.details.ccnum)&&this.isNullOrWhitespace(e.details.cvv)?this.isNullOrWhitespace(e.details.firstname)&&this.isNullOrWhitespace(e.details.address1)||(t.type=q.Identity,t.identity=new rL):(t.type=q.Card,t.card=new rz),t.type!==q.Login||this.isNullOrWhitespace(e.details.password)||(t.login.password=e.details.password),this.isNullOrWhitespace(e.details.notesPlain)||(t.notes=e.details.notesPlain.split(this.newLineRegex).join("\n")+"\n"),null!=e.details.fields&&this.parseFields(e.details.fields,t,"designation","value","name"),null!=e.details.sections&&e.details.sections.forEach(function(e){null!=e.fields&&n.parseFields(e.fields,t,"n","v","t")}))}},{key:"processStandardItem",value:function(e,t){var n=this;if(t.favorite=!!e.openContents&&!!e.openContents.faveIndex,t.name=this.getValueOrDefault(e.title),"securenotes.SecureNote"===e.typeName?(t.type=q.SecureNote,t.secureNote=new rU,t.secureNote.type=K.Generic):"wallet.financial.CreditCard"===e.typeName?(t.type=q.Card,t.card=new rz):"identities.Identity"===e.typeName?(t.type=q.Identity,t.identity=new rL):t.login.uris=this.makeUriArray(e.location),null!=e.secureContents){if(null!=e.secureContents.passwordHistory&&this.parsePasswordHistory(e.secureContents.passwordHistory,t),this.isNullOrWhitespace(e.secureContents.notesPlain)||(t.notes=e.secureContents.notesPlain.split(this.newLineRegex).join("\n")+"\n"),t.type===q.Login&&(this.isNullOrWhitespace(e.secureContents.password)||(t.login.password=e.secureContents.password),null!=e.secureContents.URLs)){var r=[];e.secureContents.URLs.forEach(function(e){n.isNullOrWhitespace(e.url)||r.push(e.url)}),r.length>0&&(t.login.uris=this.makeUriArray(r))}null!=e.secureContents.fields&&this.parseFields(e.secureContents.fields,t,"designation","value","name"),null!=e.secureContents.sections&&e.secureContents.sections.forEach(function(e){null!=e.fields&&n.parseFields(e.fields,t,"n","v","t")})}}},{key:"parsePasswordHistory",value:function(e,t){var n=this,r=e.length>5?5:e.length;t.passwordHistory=e.filter(function(e){return!n.isNullOrWhitespace(e.value)&&null!=e.time}).sort(function(e,t){return t.time-e.time}).slice(0,r).map(function(e){var t=new rY;return t.password=e.value,t.lastUsedDate=new Date((""+e.time).length>=13?e.time:1e3*e.time),t})}},{key:"parseFields",value:function(e,t,n,r,a){var i=this;e.forEach(function(e){if(null!=e[r]&&""!==e[r].toString().trim()){var o=e[r].toString(),c=null!=e[n]?e[n].toString():null;if(t.type===q.Login){if(i.isNullOrWhitespace(t.login.username)&&"username"===c){t.login.username=o;return}else if(i.isNullOrWhitespace(t.login.password)&&"password"===c){t.login.password=o;return}else if(i.isNullOrWhitespace(t.login.totp)&&null!=c&&c.startsWith("TOTP_")){t.login.totp=o;return}}else if(t.type===q.Card){if(i.isNullOrWhitespace(t.card.number)&&"ccnum"===c){t.card.number=o,t.card.brand=i.getCardBrand(o);return}else if(i.isNullOrWhitespace(t.card.code)&&"cvv"===c){t.card.code=o;return}else if(i.isNullOrWhitespace(t.card.cardholderName)&&"cardholder"===c){t.card.cardholderName=o;return}else if(i.isNullOrWhitespace(t.card.expiration)&&"expiry"===c&&6===o.length){t.card.expMonth=o.substr(4,2),"0"===t.card.expMonth[0]&&(t.card.expMonth=t.card.expMonth.substr(1,1)),t.card.expYear=o.substr(0,4);return}else if("type"===c)return}else if(t.type===q.Identity){var s=t.identity;if(i.isNullOrWhitespace(s.firstName)&&"firstname"===c){s.firstName=o;return}if(i.isNullOrWhitespace(s.lastName)&&"lastname"===c){s.lastName=o;return}if(i.isNullOrWhitespace(s.middleName)&&"initial"===c){s.middleName=o;return}else if(i.isNullOrWhitespace(s.phone)&&"defphone"===c){s.phone=o;return}else if(i.isNullOrWhitespace(s.company)&&"company"===c){s.company=o;return}else if(i.isNullOrWhitespace(s.email)&&"email"===c){s.email=o;return}else if(i.isNullOrWhitespace(s.username)&&"username"===c){s.username=o;return}else if("address"===c){var u=e[r],l=u.street,d=u.city,f=u.country,p=u.zip;s.address1=i.getValueOrDefault(l),s.city=i.getValueOrDefault(d),i.isNullOrWhitespace(f)||(s.country=f.toUpperCase()),s.postalCode=i.getValueOrDefault(p);return}}var h=i.isNullOrWhitespace(e[a])?"no_name":e[a];if(!("password"===h&&null!=t.passwordHistory&&t.passwordHistory.some(function(e){return e.password===o}))){var m="concealed"===e.k?W.Hidden:W.Text;i.processKvp(t,h,o,m)}}})}}]),r}(aU),iS=["ainfo","autosubmit","notesplain","ps","scope","tags","title","uuid"],iP=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){if(!t.isNullOrWhitespace(t.getProp(e,"title"))){var r=t.initLoginCipher();r.name=t.getValueOrDefault(t.getProp(e,"title"),"--"),r.notes=t.getValueOrDefault(t.getProp(e,"notesPlain"),"")+"\n",t.isNullOrWhitespace(t.getProp(e,"number"))||t.isNullOrWhitespace(t.getProp(e,"expiry date"))||(r.type=q.Card,r.card=new rz);var a=null;for(var i in e)if(!(!e.hasOwnProperty(i)||t.isNullOrWhitespace(e[i]))){var o=i.toLowerCase();if(r.type===q.Login){if(t.isNullOrWhitespace(r.login.password)&&"password"===o){r.login.password=e[i];continue}else if(t.isNullOrWhitespace(r.login.username)&&"username"===o){r.login.username=e[i];continue}else if((null==r.login.uris||0===r.login.uri.length)&&"urls"===o){var c=e[i].split(t.newLineRegex);r.login.uris=t.makeUriArray(c);continue}}else if(r.type===q.Card){if(t.isNullOrWhitespace(r.card.number)&&"number"===o){r.card.number=e[i],r.card.brand=t.getCardBrand(t.getProp(e,"number"));continue}else if(t.isNullOrWhitespace(r.card.code)&&"verification number"===o){r.card.code=e[i];continue}else if(t.isNullOrWhitespace(r.card.cardholderName)&&"cardholder name"===o){r.card.cardholderName=e[i];continue}else if(t.isNullOrWhitespace(r.card.expiration)&&"expiry date"===o&&6===e[i].length){r.card.expMonth=e[i].substr(4,2),"0"===r.card.expMonth[0]&&(r.card.expMonth=r.card.expMonth.substr(1,1)),r.card.expYear=e[i].substr(0,4);continue}else if("type"===o)continue}-1!==iS.indexOf(o)||o.startsWith("section:")||o.startsWith("section ")||(null==a&&"email"===o&&(a=e[i]),t.processKvp(r,i,e[i]))}r.type===q.Login&&!t.isNullOrWhitespace(a)&&t.isNullOrWhitespace(r.login.username)&&-1===a.indexOf("://")&&(r.login.username=a),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}},{key:"getProp",value:function(e,t){return e[t]||e[t.toUpperCase()]}}]),r}(aU),iA=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);if(null==r)return n.success=!1,n;var a=null;return r.forEach(function(e){if(null==a){a=e.map(function(e){return e});return}if(!(e.length<2)&&e.length===a.length){if(!t.isNullOrWhitespace(e[1]))if(t.organization)e[1].split(",").forEach(function(e){e=e.trim();for(var t=!0,r=n.collections.length,a=0;a<n.collections.length;a++)if(n.collections[a].name===e){t=!1,r=a;break}if(t){var i=new ah;i.name=e,n.collections.push(i)}n.collectionRelationships.push([n.ciphers.length,r])});else{var r=e[1].split(","),i=r.length>0?r[0].trim():null;t.processFolder(n,i)}var o=t.initLoginCipher();o.name=t.getValueOrDefault(e[0],"--");for(var c=2;c<e.length;c++){var s=a[c].trim().toLowerCase();t.isNullOrWhitespace(e[c])||t.isNullOrWhitespace(s)||(t.usernameFieldNames.indexOf(s)>-1?o.login.username=e[c]:t.passwordFieldNames.indexOf(s)>-1?o.login.password=e[c]:t.uriFieldNames.indexOf(s)>-1?o.login.uris=t.makeUriArray(e[c]):t.processKvp(o,a[c],e[c]))}t.cleanupCipher(o),n.ciphers.push(o)}}),n.success=!0,n}}]),r}(aU),iD=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){t.processFolder(n,t.getValue("category",e));var r=t.initLoginCipher();r.notes=t.getValue("description",e),r.name=t.getValueOrDefault(t.getValue("title",e),"--"),r.login.username=t.getValue("username",e),r.login.password=t.getValue("password",e),r.login.uris=t.makeUriArray(t.getValue("site",e)),t.processKvp(r,"Password 2",t.getValue("password2",e)),t.cleanupCipher(r),n.ciphers.push(r)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}},{key:"getValue",value:function(e,t){return this.getValueOrDefault(t[e],this.getValueOrDefault(t[" "+e]))}}]),r}(aU),iT=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);return null==r||0===r.length?n.success=!1:(r.forEach(function(e){if(null!=e.tags&&e.tags.length>0){var r=e.tags[0].text;t.processFolder(n,r)}var a=t.initLoginCipher();a.name=e.label,a.login.username=t.getValueOrDefault(e.username),t.isNullOrWhitespace(a.login.username)?a.login.username=t.getValueOrDefault(e.email):t.isNullOrWhitespace(e.email)||(a.notes="Email: "+e.email+"\n"),a.login.password=t.getValueOrDefault(e.password),a.login.uris=t.makeUriArray(e.url),a.notes+=t.getValueOrDefault(e.description,""),null!=e.otp&&(a.login.totp=t.getValueOrDefault(e.otp.secret)),null!=e.custom_fields&&e.custom_fields.forEach(function(e){switch(e.field_type){case"text":case"password":t.processKvp(a,e.label,e.value)}}),t.convertToNoteIfNeeded(a),t.cleanupCipher(a),n.ciphers.push(a)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),iR=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.isNullOrWhitespace(e.Tags)?null:JSON.parse(e.Tags),a=null!=r&&null!=r.tags&&r.tags.length>0?r.tags.map(function(e){try{var n=JSON.parse(e);return t.getValueOrDefault(n.tag)}catch(e){}return null}).filter(function(e){return!t.isNullOrWhitespace(e)}):null;t.organization&&null!=a&&a.length>0?a.forEach(function(e){for(var t=!0,r=n.collections.length,a=0;a<n.collections.length;a++)if(n.collections[a].name===e){t=!1,r=a;break}if(t){var i=new ah;i.name=e,n.collections.push(i)}n.collectionRelationships.push([n.ciphers.length,r])}):!t.organization&&null!=a&&a.length>0&&t.processFolder(n,a[0]);var i=t.initLoginCipher();i.notes=t.getValueOrDefault(e.Notes,""),i.notes+="\n\n"+t.getValueOrDefault(e["Shared Notes"],"")+"\n",i.name=t.getValueOrDefault(e["Entry Name"],"--"),i.login.username=t.getValueOrDefault(e["User ID"]),i.login.password=t.getValueOrDefault(e.Password),i.login.uris=t.makeUriArray(e.URL),null!=e.__parsed_extra&&e.__parsed_extra.length>0&&e.__parsed_extra.forEach(function(e){t.isNullOrWhitespace(e)||(i.notes+="\n"+e)});var o=t.isNullOrWhitespace(e["Extra Fields"])?null:JSON.parse(e["Extra Fields"]),c=null!=o&&null!=o.extraFields&&o.extraFields.length>0?o.extraFields.map(function(e){try{return JSON.parse(e)}catch(e){}return null}):null;null!=c&&c.forEach(function(e){null!=e&&t.processKvp(i,e.name,e.data)}),t.cleanupCipher(i),n.ciphers.push(i)}),n.success=!0),n}}]),r}(aU),ij=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);if(null==r)return n.success=!1,n;var a=!0;return r.forEach(function(e){if(5===e.length||!(e.length<9)){var r=10===e.length&&"0"===e[0],i=t.initLoginCipher();if(i.name=t.getValueOrDefault(e[+!!r],"--"),i.login.username=t.getValueOrDefault(e[r?2:1]),i.login.password=t.getValueOrDefault(e[r?3:2]),5===e.length)a=!1,i.notes=t.getValueOrDefault(e[4]),i.login.uris=t.makeUriArray(e[3]);else{var o=t.getValueOrDefault(e[r?9:8],"(None)"),c="(None)"!==o?o.split("\\").join("/"):null;null!=c&&(c=o.split(" > ").join("/"),c=o.split(">").join("/")),t.processFolder(n,c),i.notes=t.getValueOrDefault(e[r?5:3]),i.login.uris=t.makeUriArray(e[4])}t.convertToNoteIfNeeded(i),t.cleanupCipher(i),n.ciphers.push(i)}}),a&&this.organization&&this.moveFoldersToCollections(n),n.success=!0,n}}]),r}(aU),iM=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=JSON.parse(e);if(null==r||null==r.items)return n.success=!1,n;var a=new Map;r.folders.forEach(function(e){a.set(e.id,e.name)});var i=new Map;return a.forEach(function(e,t){i.set(t,n.folders.length);var r=new aP;r.name=e,n.folders.push(r)}),r.items.forEach(function(e){var r=t.initLoginCipher();if(r.name=t.getValueOrDefault(e.name,"--"),r.login.uris=t.makeUriArray(e.login_url),null!=e.folder&&i.has(e.folder)&&n.folderRelationships.push([n.ciphers.length,i.get(e.folder)]),null!=e.identifiers){for(var a in t.isNullOrWhitespace(e.identifiers.notes)||(r.notes=e.identifiers.notes.split("\\r\\n").join("\n").split("\\n").join("\n")),"CreditCard"===e.type&&(r.card=new rz,r.type=q.Card),e.identifiers)if(e.identifiers.hasOwnProperty(a)){var o=e.identifiers[a],c=null!=o?o.toString():null;if(!t.isNullOrWhitespace(c)&&"notes"!==a&&"ignoreItemInSecurityScore"!==a){if("custom_fields"===a){o.forEach(function(e){t.processKvp(r,e.name,e.value)});continue}if(r.type===q.Card){if("cardNumber"===a){r.card.number=c,r.card.brand=t.getCardBrand(c);continue}else if("nameOnCard"===a){r.card.cardholderName=c;continue}else if("security_code"===a){r.card.code=c;continue}else if("expires"===a){try{var s=new Date(c);r.card.expYear=s.getFullYear().toString(),r.card.expMonth=(s.getMonth()+1).toString()}catch(e){}continue}else if("cardType"===a)continue}else if(("username"===a||"email"===a)&&t.isNullOrWhitespace(r.login.username)){r.login.username=c;continue}else if("password"===a){r.login.password=c;continue}else if("totp"===a){r.login.totp=c;continue}else if((null==r.login.uris||0===r.login.uris.length)&&t.uriFieldNames.indexOf(a)>-1){r.login.uris=t.makeUriArray(c);continue}t.processKvp(r,a,c)}}t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0,n}}]),r}(aU),iI=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseXml(e);return null==r?n.success=!1:(Array.from(r.querySelectorAll("PasswordManager > record")).forEach(function(e){var r=t.querySelectorDirectChild(e,"Category"),a=null==r||t.isNullOrWhitespace(r.textContent)||"Unfiled"===r.textContent?null:r.textContent;t.processFolder(n,a);var i=t.querySelectorDirectChild(e,"Account-Name"),o=t.querySelectorDirectChild(e,"User-Id"),c=t.querySelectorDirectChild(e,"Password"),s=t.querySelectorDirectChild(e,"URL"),u=t.querySelectorDirectChild(e,"Notes"),l=t.initLoginCipher();l.name=null!=i?t.getValueOrDefault(i.textContent,"--"):"--",l.notes=null!=u?t.getValueOrDefault(u.textContent):"",l.login.username=null!=o?t.getValueOrDefault(o.textContent):null,l.login.password=null!=c?t.getValueOrDefault(c.textContent):null,l.login.uris=null!=s?t.makeUriArray(s.textContent):null;for(var d=[],f=1;f<=10;f++)d.push("Attribute-"+f);t.querySelectorAllDirectChild(e,d.join(",")).forEach(function(e){t.isNullOrWhitespace(e.textContent)||"null"===e.textContent||t.processKvp(l,e.tagName,e.textContent)}),t.cleanupCipher(l),n.ciphers.push(l)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),iN=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseXml(e);if(null==r)return n.success=!1,n;var a=r.querySelector("passwordsafe");if(null==a)return n.errorMessage="Missing `passwordsafe` node.",n.success=!1,n;var i=a.getAttribute("delimiter");return Array.from(r.querySelectorAll("passwordsafe > entry")).forEach(function(e){var r=t.querySelectorDirectChild(e,"group"),a=null==r||t.isNullOrWhitespace(r.textContent)?null:r.textContent.split(".").join("/");t.processFolder(n,a);var o=t.querySelectorDirectChild(e,"title"),c=t.querySelectorDirectChild(e,"username"),s=t.querySelectorDirectChild(e,"email"),u=t.querySelectorDirectChild(e,"password"),l=t.querySelectorDirectChild(e,"url"),d=t.querySelectorDirectChild(e,"notes"),f=t.initLoginCipher();f.name=null!=o?t.getValueOrDefault(o.textContent,"--"):"--",f.notes=null!=d?t.getValueOrDefault(d.textContent,"").split(i).join("\n"):null,f.login.username=null!=c?t.getValueOrDefault(c.textContent):null,f.login.password=null!=u?t.getValueOrDefault(u.textContent):null,f.login.uris=null!=l?t.makeUriArray(l.textContent):null,t.isNullOrWhitespace(f.login.username)&&null!=s?f.login.username=t.getValueOrDefault(s.textContent):null==s||t.isNullOrWhitespace(s.textContent)||(f.notes=t.isNullOrWhitespace(f.notes)?"Email: "+s.textContent:f.notes+"\nEmail: "+s.textContent),t.cleanupCipher(f),n.ciphers.push(f)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0,n}}]),r}(aU),iz=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<1)){e.length>5&&t.processFolder(n,e[5]);var r=t.initLoginCipher();r.name=t.getValueOrDefault(e[0],"--"),e.length>4&&(r.notes=t.getValueOrDefault(e[4],"").split("\xac").join("\n")),e.length>2&&(r.login.username=t.getValueOrDefault(e[2])),e.length>3&&(r.login.password=t.getValueOrDefault(e[3])),e.length>1&&(r.login.uris=t.makeUriArray(e[1])),t.cleanupCipher(r),n.ciphers.push(r)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}}]),r}(aU),iF=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){if("true"!==e.trash){var r=t.initLoginCipher();if(r.name=t.getValueOrDefault(e.name),r.notes=t.getValueOrDefault(e.notes),"LoginItem"===e.type)r.login.uris=t.makeUriArray(e.website),r.login.password=t.getValueOrDefault(e.password),r.login.username=t.getValueOrDefault(e.username);else if("CreditCardItem"===e.type){r.type=q.Card,r.card=new rz,r.card.cardholderName=t.getValueOrDefault(e.cardholder),r.card.number=t.getValueOrDefault(e.number),r.card.brand=t.getCardBrand(r.card.number),r.card.code=t.getValueOrDefault(e.verification);try{var a=t.getValueOrDefault(e.expiryMonth);if(null!=a){var i=parseInt(a,null);null!=i&&i>=1&&i<=12&&(r.card.expMonth=i.toString())}}catch(e){}try{var o=t.getValueOrDefault(e.expiryYear);if(null!=o){var c=parseInt(o,null);null!=c&&(r.card.expYear=c.toString())}}catch(e){}var s=t.getValueOrDefault(e.pin);null!=s&&t.processKvp(r,"PIN",s);var u=t.getValueOrDefault(e.zipCode);null!=u&&t.processKvp(r,"Zip Code",u)}t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}}]),r}(aU),iL=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);if(null==r)return n.success=!1,n;var a=1;return r.forEach(function(e){var i=!t.isNullOrWhitespace(e.Folder)&&e.Folder.startsWith("/")?e.Folder.replace("/",""):e.Folder,o=t.isNullOrWhitespace(i)?null:i;t.processFolder(n,o);var c=t.initLoginCipher();if(c.notes=t.getValueOrDefault(e.Note),c.name=t.getValueOrDefault(e.Name,"--"),c.login.username=t.getValueOrDefault(e.Login),c.login.password=t.getValueOrDefault(e.Pwd),c.login.uris=t.makeUriArray(e.Url),!t.isNullOrWhitespace(e.Rf_fields)){var s=[e.Rf_fields];null!=e.__parsed_extra&&e.__parsed_extra.length>0&&(s=s.concat(e.__parsed_extra)),s.forEach(function(e){var n=e.split(":");if(!(n.length<3)){var r="-no-name-"===n[0]?null:n[0],a=4===n.length&&"rck"===n[2]?n[1]:n[2];t.processKvp(c,r,a)}})}t.convertToNoteIfNeeded(c),t.cleanupCipher(c),!(a===r.length&&"--"===c.name&&t.isNullOrWhitespace(c.login.password))&&(n.ciphers.push(c),a++)}),this.organization&&this.moveFoldersToCollections(n),n.success=!0,n}}]),r}(aU),iB=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseXml(e);if(null==r)return n.success=!1,n;if(null==r.querySelector("database"))return n.errorMessage="Missing `database` node.",n.success=!1,n;var a=new Map;return Array.from(r.querySelectorAll("database > label")).forEach(function(e){var r=e.getAttribute("name"),i=e.getAttribute("id");if(!t.isNullOrWhitespace(r)&&!t.isNullOrWhitespace(i)){a.set(i,n.folders.length);var o=new aP;o.name=r,n.folders.push(o)}}),Array.from(r.querySelectorAll("database > card")).forEach(function(e){if("true"!==e.getAttribute("template")){var r=t.querySelectorDirectChild(e,"label_id");if(null!=r){var i=r.textContent;!t.isNullOrWhitespace(i)&&a.has(i)&&n.folderRelationships.push([n.ciphers.length,a.get(i)])}var o=t.initLoginCipher();o.name=t.getValueOrDefault(e.getAttribute("title"),"--"),"note"===e.getAttribute("type")?(o.type=q.SecureNote,o.secureNote=new rU,o.secureNote.type=K.Generic):Array.from(t.querySelectorAllDirectChild(e,"field")).forEach(function(e){var n=e.textContent;if(!t.isNullOrWhitespace(n)){var r=e.getAttribute("name"),a=t.getValueOrDefault(e.getAttribute("type"),"").toLowerCase();"login"===a?o.login.username=n:"password"===a?o.login.password=n:"one_time_password"===a?o.login.totp=n:"notes"===a?o.notes+=n+"\n":"weblogin"===a||"website"===a?o.login.uris=t.makeUriArray(n):t.processKvp(o,r,n)}}),Array.from(t.querySelectorAllDirectChild(e,"notes")).forEach(function(e){o.notes+=e.textContent+"\n"}),t.cleanupCipher(o),n.ciphers.push(o)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0,n}}]),r}(aU),iU=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(t.nameFromUrl(e.url),"--"),r.notes=t.getValueOrDefault(e.notes),r.login.username=t.getValueOrDefault(e.username),r.login.password=t.getValueOrDefault(e.password),r.login.uris=t.makeUriArray(e.url),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),iV=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.Title),r.notes=t.getValueOrDefault(e.Comment),r.login.uris=t.makeUriArray(e.Url),r.login.password=t.getValueOrDefault(e.Password),r.login.username=t.getValueOrDefault(e.Username),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),iH=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(!(e.length<3)){t.processFolder(n,t.getValueOrDefault(e[e.length-1]));var r=t.initLoginCipher();r.notes=t.getValueOrDefault(e[e.length-2],""),r.name=t.getValueOrDefault(e[1],"--"),"Web Logins"===e[0]||"Servers"===e[0]||"Email Accounts"===e[0]?(r.login.username=t.getValueOrDefault(e[2]),r.login.password=t.getValueOrDefault(e[3]),r.login.uris=t.makeUriArray(e[4]),t.parseFieldsToNotes(r,5,e)):t.parseFieldsToNotes(r,2,e),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}},{key:"parseFieldsToNotes",value:function(e,t,n){for(var r=t;r<n.length-3;r++)this.isNullOrWhitespace(n[r])||(e.notes+=n[r]+"\n")}}]),r}(aU),iq=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseXml(e);return null==r?n.success=!1:(Array.from(r.querySelectorAll("root > Database > Logins > Login")).forEach(function(e){var a=e.getAttribute("ID");if(!t.isNullOrWhitespace(a)){var i=e.getAttribute("Name"),o=e.getAttribute("Password"),c=null,s=null,u=null,l=null,d=null,f=r.querySelector('root > Database > Accounts > Account > LoginLinks > Login[SourceLoginID="'+a+'"]');if(null!=f){var p=f.parentElement.parentElement;null!=p&&(c=p.getAttribute("Name"),s=p.getAttribute("Link"),l=p.getAttribute("ParentID"),u=p.getAttribute("Comments"),t.isNullOrWhitespace(u)||(u=u.split("/n").join("\n")))}t.isNullOrWhitespace(l)||(d=t.buildGroupText(r,l,""),t.processFolder(n,d));var h=t.initLoginCipher();h.name=t.getValueOrDefault(c,"--"),h.notes=t.getValueOrDefault(u),h.login.username=t.getValueOrDefault(i),h.login.password=t.getValueOrDefault(o),h.login.uris=t.makeUriArray(s),t.cleanupCipher(h),n.ciphers.push(h)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}},{key:"buildGroupText",value:function(e,t,n){var r=e.querySelector('root > Database > Groups > Group[ID="'+t+'"]');return null==r?n:(this.isNullOrWhitespace(n)||(n="/"+n),n=r.getAttribute("Name")+n,this.buildGroupText(e,r.getAttribute("ParentID"),n))}}]),r}(aU),iW=["kind","autologin","favorite","hexcolor","protectedwithpassword","subdomainonly","type","tk_export_version","note","title","document_content"],iG=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();if(r.favorite="true"===t.getValueOrDefault(e.favorite,"").toLowerCase(),r.name=t.getValueOrDefault(e.name,"--"),r.notes=t.getValueOrDefault(e.memo,""),r.login.username=t.getValueOrDefault(e.login),r.login.password=t.getValueOrDefault(e.password),r.login.uris=t.makeUriArray(e.url),"login"!==e.kind&&(r.name=t.getValueOrDefault(e.title,"--"),r.notes=t.getValueOrDefault(e.note,"")),"cc"===e.kind){if(r.type=q.Card,r.card=new rz,r.card.cardholderName=t.getValueOrDefault(e.cardholder),r.card.number=t.getValueOrDefault(e.number),r.card.brand=t.getCardBrand(r.card.number),!t.isNullOrWhitespace(e.expiryDate))try{var a=new Date(e.expiryDate);r.card.expYear=a.getFullYear().toString(),r.card.expMonth=(a.getMonth()+1).toString()}catch(e){}}else if("login"!==e.kind)for(var i in r.type=q.SecureNote,r.secureNote=new rU,r.secureNote.type=K.Generic,t.isNullOrWhitespace(r.notes)||(r.notes=t.getValueOrDefault(e.document_content,"")),e)e.hasOwnProperty(i)&&0>iW.indexOf(i.toLowerCase())&&!t.isNullOrWhitespace(e[i])&&t.processKvp(r,i,e[i]);t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),iZ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!1);return null==r?n.success=!1:(r.forEach(function(e){if(5===e.length){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e[0],"--"),r.notes=t.getValueOrDefault(e[4]),r.login.username=t.getValueOrDefault(e[1]),r.login.password=t.getValueOrDefault(e[2]),r.login.uris=t.makeUriArray(e[3]),t.cleanupCipher(r),n.ciphers.push(r)}}),n.success=!0),n}}]),r}(aU),iK=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){var r=t.initLoginCipher();r.name=t.getValueOrDefault(e.Name,"--"),r.login.username=t.getValueOrDefault(e["User name"]),r.login.password=t.getValueOrDefault(e.Password),r.login.uris=t.makeUriArray(e.URL),t.cleanupCipher(r),n.ciphers.push(r)}),n.success=!0),n}}]),r}(aU),iQ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"parse",value:function(e){var t=this,n=new aV,r=this.parseCsv(e,!0);return null==r?n.success=!1:(r.forEach(function(e){if(!(t.isNullOrWhitespace(e["Password Name"])&&t.isNullOrWhitespace(e["Secret Name"]))){t.processFolder(n,t.getValueOrDefault(e.ChamberName));var r=t.initLoginCipher();r.favorite="1"===t.getValueOrDefault(e.Favorite,"0"),r.notes=t.getValueOrDefault(e.Notes),r.name=t.getValueOrDefault(e["Password Name"],t.getValueOrDefault(e["Secret Name"],"--")),r.login.uris=t.makeUriArray(t.getValueOrDefault(e["Password URL"],t.getValueOrDefault(e["Secret URL"]))),t.parseData(r,e.SecretData),t.parseData(r,e.CustomData),t.convertToNoteIfNeeded(r),t.cleanupCipher(r),n.ciphers.push(r)}}),this.organization&&this.moveFoldersToCollections(n),n.success=!0),n}},{key:"parseData",value:function(e,t){var n=this;this.isNullOrWhitespace(t)||this.splitNewLine(t).forEach(function(t){var r=t.indexOf(":");if(!(r<0)){var a=t.substring(0,r),i=t.length>r?t.substring(r+1):null;if(!(n.isNullOrWhitespace(a)||n.isNullOrWhitespace(i))&&"SecretType"!==a){var o=a.toLowerCase();null==e.login.username&&n.usernameFieldNames.indexOf(o)>-1?e.login.username=i:null==e.login.password&&n.passwordFieldNames.indexOf(o)>-1?e.login.password=i:n.processKvp(e,a,i)}}})}}]),r}(aU),iY=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},iJ=function(){function e(t,n,r,a,i){ei()(this,e),this.cipherService=t,this.folderService=n,this.apiService=r,this.i18nService=a,this.collectionService=i,this.featuredImportOptions=[{id:"bitwardenjson",name:"Bitwarden (json)"},{id:"bitwardencsv",name:"Bitwarden (csv)"},{id:"lastpasscsv",name:"LastPass (csv)"},{id:"chromecsv",name:"Chrome (csv)"},{id:"firefoxcsv",name:"Firefox (csv)"},{id:"keepass2xml",name:"KeePass 2 (xml)"},{id:"1password1pif",name:"1Password (1pif)"},{id:"dashlanejson",name:"Dashlane (json)"}],this.regularImportOptions=[{id:"keepassxcsv",name:"KeePassX (csv)"},{id:"1passwordwincsv",name:"1Password 6 and 7 Windows (csv)"},{id:"roboformcsv",name:"RoboForm (csv)"},{id:"keepercsv",name:"Keeper (csv)"},{id:"enpasscsv",name:"Enpass (csv)"},{id:"enpassjson",name:"Enpass (json)"},{id:"safeincloudxml",name:"SafeInCloud (xml)"},{id:"pwsafexml",name:"Password Safe (xml)"},{id:"stickypasswordxml",name:"Sticky Password (xml)"},{id:"msecurecsv",name:"mSecure (csv)"},{id:"truekeycsv",name:"True Key (csv)"},{id:"passwordbossjson",name:"Password Boss (json)"},{id:"zohovaultcsv",name:"Zoho Vault (csv)"},{id:"splashidcsv",name:"SplashID (csv)"},{id:"passworddragonxml",name:"Password Dragon (xml)"},{id:"padlockcsv",name:"Padlock (csv)"},{id:"passboltcsv",name:"Passbolt (csv)"},{id:"clipperzhtml",name:"Clipperz (html)"},{id:"aviracsv",name:"Avira (csv)"},{id:"saferpasscsv",name:"SaferPass (csv)"},{id:"upmcsv",name:"Universal Password Manager (csv)"},{id:"ascendocsv",name:"Ascendo DataVault (csv)"},{id:"meldiumcsv",name:"Meldium (csv)"},{id:"passkeepcsv",name:"PassKeep (csv)"},{id:"operacsv",name:"Opera (csv)"},{id:"vivaldicsv",name:"Vivaldi (csv)"},{id:"gnomejson",name:"GNOME Passwords and Keys/Seahorse (json)"},{id:"blurcsv",name:"Blur (csv)"},{id:"passwordagentcsv",name:"Password Agent (csv)"},{id:"passpackcsv",name:"Passpack (csv)"},{id:"passmanjson",name:"Passman (json)"},{id:"avastcsv",name:"Avast Passwords (csv)"},{id:"avastjson",name:"Avast Passwords (json)"},{id:"fsecurefsk",name:"F-Secure KEY (fsk)"},{id:"kasperskytxt",name:"Kaspersky Password Manager (txt)"},{id:"remembearcsv",name:"RememBear (csv)"},{id:"passwordwallettxt",name:"PasswordWallet (txt)"},{id:"mykicsv",name:"Myki (csv)"},{id:"securesafecsv",name:"SecureSafe (csv)"},{id:"logmeoncecsv",name:"LogMeOnce (csv)"},{id:"blackberrycsv",name:"BlackBerry Password Keeper (csv)"},{id:"buttercupcsv",name:"Buttercup (csv)"},{id:"codebookcsv",name:"Codebook (csv)"},{id:"encryptrcsv",name:"Encryptr (csv)"},{id:"yoticsv",name:"Yoti (csv)"}]}return ec()(e,[{key:"getImportOptions",value:function(){return this.featuredImportOptions.concat(this.regularImportOptions)}},{key:"import",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return iY(this,void 0,void 0,ti().mark(function r(){var a,i,o;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.parse(t);case 2:if(!(a=r.sent).success){r.next=18;break}if(0!==a.folders.length||0!==a.ciphers.length){r.next=8;break}return r.abrupt("return",Error(this.i18nService.t("importNothingError")));case 8:if(!(a.ciphers.length>0)||(i=Math.floor(a.ciphers.length/2),o=a.ciphers.length-1,!(this.badData(a.ciphers[0])&&this.badData(a.ciphers[i])&&this.badData(a.ciphers[o])))){r.next=13;break}return r.abrupt("return",Error(this.i18nService.t("importFormatError")));case 13:return r.next=15,this.postImport(a,n);case 15:return r.abrupt("return",null);case 18:return r.abrupt("return",Error(this.i18nService.t("importFormatError")));case 19:case"end":return r.stop()}},r,this)}))}},{key:"getImporter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getImporterInstance(e);return null==n?null:(n.organization=t,n)}},{key:"getImporterInstance",value:function(e){if(null==e||""===e)return null;switch(e){case"bitwardencsv":return new aZ;case"bitwardenjson":return new a6;case"lastpasscsv":case"passboltcsv":return new ik;case"keepassxcsv":return new ib;case"aviracsv":return new aG;case"blurcsv":return new a7;case"safeincloudxml":return new iB;case"padlockcsv":return new iA;case"keepass2xml":return new ig;case"chromecsv":case"operacsv":case"vivaldicsv":return new ie;case"firefoxcsv":return new iu;case"upmcsv":return new iZ;case"saferpasscsv":return new iU;case"meldiumcsv":return new iO;case"1password1pif":return new iC;case"1passwordwincsv":return new iP;case"keepercsv":return new iw;case"passworddragonxml":return new iI;case"enpasscsv":return new ic;case"enpassjson":return new is;case"pwsafexml":return new iN;case"dashlanejson":return new ii;case"msecurecsv":return new i_;case"stickypasswordxml":return new iq;case"truekeycsv":return new iG;case"clipperzhtml":return new it;case"roboformcsv":return new iL;case"ascendocsv":return new aH;case"passwordbossjson":return new iM;case"zohovaultcsv":return new iQ;case"splashidcsv":return new iH;case"passkeepcsv":return new iD;case"gnomejson":return new id;case"passwordagentcsv":return new ij;case"passpackcsv":return new iR;case"passmanjson":return new iT;case"avastcsv":return new aq;case"avastjson":return new aW;case"fsecurefsk":return new il;case"kasperskytxt":return new iy;case"remembearcsv":return new iF;case"passwordwallettxt":return new iz;case"mykicsv":return new iE;case"securesafecsv":return new iV;case"logmeoncecsv":return new ix;case"blackberrycsv":return new a5;case"buttercupcsv":return new a9;case"codebookcsv":return new ir;case"encryptrcsv":return new io;case"yoticsv":return new iK;default:return null}}},{key:"postImport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return iY(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u,l,d,f;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=27;break}r=new az,a=0;case 3:if(!(a<e.ciphers.length)){n.next=11;break}return n.next=6,this.cipherService.encrypt(e.ciphers[a]);case 6:i=n.sent,r.ciphers.push(new r4(i));case 8:a++,n.next=3;break;case 11:if(null==e.folders){n.next=21;break}o=0;case 13:if(!(o<e.folders.length)){n.next=21;break}return n.next=16,this.folderService.encrypt(e.folders[o]);case 16:c=n.sent,r.folders.push(new aD(c));case 18:o++,n.next=13;break;case 21:return null!=e.folderRelationships&&e.folderRelationships.forEach(function(e){return r.folderRelationships.push(new aL(e[0],e[1]))}),n.next=24,this.apiService.postImportCiphers(r);case 24:return n.abrupt("return",n.sent);case 27:s=new aF,u=0;case 29:if(!(u<e.ciphers.length)){n.next=38;break}return e.ciphers[u].organizationId=t,n.next=33,this.cipherService.encrypt(e.ciphers[u]);case 33:l=n.sent,s.ciphers.push(new r4(l));case 35:u++,n.next=29;break;case 38:if(null==e.collections){n.next=49;break}d=0;case 40:if(!(d<e.collections.length)){n.next=49;break}return e.collections[d].organizationId=t,n.next=44,this.collectionService.encrypt(e.collections[d]);case 44:f=n.sent,s.collections.push(new aN(f));case 46:d++,n.next=40;break;case 49:return null!=e.collectionRelationships&&e.collectionRelationships.forEach(function(e){return s.collectionRelationships.push(new aL(e[0],e[1]))}),n.next=52,this.apiService.postImportOrganizationCiphers(t,s);case 52:return n.abrupt("return",n.sent);case 53:case"end":return n.stop()}},n,this)}))}},{key:"badData",value:function(e){return(null==e.name||"--"===e.name)&&e.type===q.Login&&null!=e.login&&ns.isNullOrWhitespace(e.login.password)}}]),e}(),i$=function(){function e(){ei()(this,e)}return ec()(e,[{key:"send",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}]),e}(),iX=[];let i0=null;var i1=ec()(function e(t,n){ei()(this,e),this.password=t,this.date=n}),i2=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;return ei()(this,r),e=n.apply(this,arguments),e.defaultType="",e.minLength=0,e.useUppercase=!1,e.useLowercase=!1,e.useNumbers=!1,e.numberCount=0,e.useSpecial=!1,e.specialCount=0,e.minNumberWords=0,e.capitalize=!1,e.includeNumber=!1,e}return ec()(r,[{key:"inEffect",value:function(){return""!==this.defaultType||this.minLength>0||this.numberCount>0||this.specialCount>0||this.useUppercase||this.useLowercase||this.useNumbers||this.useSpecial||this.minNumberWords>0||this.capitalize||this.includeNumber}}]),r}(rM);(w=Q||(Q={}))[w.TwoFactorAuthentication=0]="TwoFactorAuthentication",w[w.MasterPassword=1]="MasterPassword",w[w.PasswordGenerator=2]="PasswordGenerator",w[w.SingleOrg=3]="SingleOrg",w[w.RequireSso=4]="RequireSso";var i3=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},i4={length:14,ambiguous:!1,number:!0,minNumber:1,uppercase:!0,minUppercase:0,lowercase:!0,minLowercase:0,special:!1,minSpecial:1,type:"password",numWords:3,wordSeparator:"-",capitalize:!1,includeNumber:!1},i6="passwordGenerationOptions",i5="generatedPasswordHistory",i7=function(){function e(t,n,r){ei()(this,e),this.cryptoService=t,this.storageService=n,this.policyService=r}return ec()(e,[{key:"generatePassword",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o,c,s,u,l,d,f,p,h,m,v,y;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("passphrase"!==(n=Object.assign({},i4,e)).type){t.next=3;break}return t.abrupt("return",this.generatePassphrase(e));case 3:if(this.sanitizePasswordLength(n,!0),r=n.minUppercase+n.minLowercase+n.minNumber+n.minSpecial,n.length<r&&(n.length=r),a=[],n.lowercase&&n.minLowercase>0)for(i=0;i<n.minLowercase;i++)a.push("l");if(n.uppercase&&n.minUppercase>0)for(o=0;o<n.minUppercase;o++)a.push("u");if(n.number&&n.minNumber>0)for(c=0;c<n.minNumber;c++)a.push("n");if(n.special&&n.minSpecial>0)for(s=0;s<n.minSpecial;s++)a.push("s");for(;a.length<n.length;)a.push("a");return t.next=14,this.shuffleArray(a);case 14:u="",l="abcdefghijkmnopqrstuvwxyz",n.ambiguous&&(l+="l"),n.lowercase&&(u+=l),d="ABCDEFGHJKLMNPQRSTUVWXYZ",n.ambiguous&&(d+="IO"),n.uppercase&&(u+=d),f="23456789",n.ambiguous&&(f+="01"),n.number&&(u+=f),p="!@#$%^&*",n.special&&(u+=p),h="",m=0;case 28:if(!(m<n.length)){t.next=51;break}v=void 0,t.t0=a[m],t.next="l"===t.t0?33:"u"===t.t0?35:"n"===t.t0?37:"s"===t.t0?39:"a"===t.t0?41:43;break;case 33:return v=l,t.abrupt("break",44);case 35:return v=d,t.abrupt("break",44);case 37:return v=f,t.abrupt("break",44);case 39:return v=p,t.abrupt("break",44);case 41:return v=u,t.abrupt("break",44);case 43:return t.abrupt("break",44);case 44:return t.next=46,this.cryptoService.randomNumber(0,v.length-1);case 46:y=t.sent,h+=v.charAt(y);case 48:m++,t.next=28;break;case 51:return t.abrupt("return",h);case 52:case"end":return t.stop()}},t,this)}))}},{key:"generatePassphrase",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(null==(n=Object.assign({},i4,e)).numWords||n.numWords<=2)&&(n.numWords=i4.numWords),(null==n.wordSeparator||0===n.wordSeparator.length||n.wordSeparator.length>1)&&(n.wordSeparator=" "),null==n.capitalize&&(n.capitalize=!1),null==n.includeNumber&&(n.includeNumber=!1),r=iX.length-1,a=Array(n.numWords),i=0;case 8:if(!(i<n.numWords)){t.next=16;break}return t.next=11,this.cryptoService.randomNumber(0,r);case 11:o=t.sent,n.capitalize?a[i]=this.capitalize(iX[o]):a[i]=iX[o];case 13:i++,t.next=8;break;case 16:if(!n.includeNumber){t.next=19;break}return t.next=19,this.appendRandomNumberToRandomWord(a);case 19:return t.abrupt("return",a.join(n.wordSeparator));case 20:case"end":return t.stop()}},t,this)}))}},{key:"getOptions",value:function(){return i3(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.optionsCache){e.next=5;break}return e.next=3,this.storageService.get(i6);case 3:null==(t=e.sent)?this.optionsCache=i4:this.optionsCache=Object.assign({},i4,t);case 5:return e.next=7,this.enforcePasswordGeneratorPoliciesOnOptions(this.optionsCache);case 7:return n=e.sent,this.optionsCache=n[0],e.abrupt("return",[this.optionsCache,n[1]]);case 10:case"end":return e.stop()}},e,this)}))}},{key:"enforcePasswordGeneratorPoliciesOnOptions",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getPasswordGeneratorPolicyOptions();case 2:return null!=(n=t.sent)?(e.length<n.minLength&&(e.length=n.minLength),n.useUppercase&&(e.uppercase=!0),n.useLowercase&&(e.lowercase=!0),n.useNumbers&&(e.number=!0),e.minNumber<n.numberCount&&(e.minNumber=n.numberCount),n.useSpecial&&(e.special=!0),e.minSpecial<n.specialCount&&(e.minSpecial=n.specialCount),e.minSpecial+e.minNumber>e.length&&(e.minSpecial=e.length-e.minNumber),e.numWords<n.minNumberWords&&(e.numWords=n.minNumberWords),n.capitalize&&(e.capitalize=!0),n.includeNumber&&(e.includeNumber=!0),("password"===n.defaultType||"passphrase"===n.defaultType)&&(e.type=n.defaultType)):n=new i2,t.abrupt("return",[e,n]);case 5:case"end":return t.stop()}},t,this)}))}},{key:"getPasswordGeneratorPolicyOptions",value:function(){return i3(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.policyService){e.next=4;break}e.t0=null,e.next=7;break;case 4:return e.next=6,this.policyService.getAll(Q.PasswordGenerator);case 6:e.t0=e.sent;case 7:if(t=e.t0,n=null,null!=t&&0!==t.length){e.next=11;break}return e.abrupt("return",n);case 11:return t.forEach(function(e){e.enabled&&null!=e.data&&(null==n&&(n=new i2),null!=e.data.defaultType&&"password"!==n.defaultType&&(n.defaultType=e.data.defaultType),null!=e.data.minLength&&e.data.minLength>n.minLength&&(n.minLength=e.data.minLength),e.data.useUpper&&(n.useUppercase=!0),e.data.useLower&&(n.useLowercase=!0),e.data.useNumbers&&(n.useNumbers=!0),null!=e.data.minNumbers&&e.data.minNumbers>n.numberCount&&(n.numberCount=e.data.minNumbers),e.data.useSpecial&&(n.useSpecial=!0),null!=e.data.minSpecial&&e.data.minSpecial>n.specialCount&&(n.specialCount=e.data.minSpecial),null!=e.data.minNumberWords&&e.data.minNumberWords>n.minNumberWords&&(n.minNumberWords=e.data.minNumberWords),e.data.capitalize&&(n.capitalize=!0),e.data.includeNumber&&(n.includeNumber=!0))}),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}))}},{key:"saveOptions",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.save(i6,e);case 2:this.optionsCache=e;case 3:case"end":return t.stop()}},t,this)}))}},{key:"getHistory",value:function(){return i3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.hasKey();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(this.history){e.next=12;break}return e.next=8,this.storageService.get(i5);case 8:return t=e.sent,e.next=11,this.decryptHistory(t);case 11:this.history=e.sent;case 12:return e.abrupt("return",this.history||[]);case 13:case"end":return e.stop()}},e,this)}))}},{key:"addHistory",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cryptoService.hasKey();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.getHistory();case 7:if(n=t.sent,!this.matchesPrevious(e,n)){t.next=10;break}return t.abrupt("return");case 10:return n.unshift(new i1(e,Date.now())),n.length>100&&n.pop(),t.next=14,this.encryptHistory(n);case 14:return r=t.sent,t.next=17,this.storageService.save(i5,r);case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(){return i3(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.history=[],e.next=3,this.storageService.remove(i5);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))}},{key:"passwordStrength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e||0===e.length)return null;var n=["bitwarden","bit","warden"];return null!=t&&t.length>0&&(n=n.concat(t)),et(e,Array.from(new Set(n)))}},{key:"normalizeOptions",value:function(e,t){e.minLowercase=0,e.minUppercase=0,!e.length||e.length<5?e.length=5:e.length>128&&(e.length=128),e.length<t.minLength&&(e.length=t.minLength),e.minNumber?e.minNumber>e.length?e.minNumber=e.length:e.minNumber>9&&(e.minNumber=9):e.minNumber=0,e.minNumber<t.numberCount&&(e.minNumber=t.numberCount),e.minSpecial?e.minSpecial>e.length?e.minSpecial=e.length:e.minSpecial>9&&(e.minSpecial=9):e.minSpecial=0,e.minSpecial<t.specialCount&&(e.minSpecial=t.specialCount),e.minSpecial+e.minNumber>e.length&&(e.minSpecial=e.length-e.minNumber),null==e.numWords||e.length<3?e.numWords=3:e.numWords>20&&(e.numWords=20),e.numWords<t.minNumberWords&&(e.numWords=t.minNumberWords),null!=e.wordSeparator&&e.wordSeparator.length>1&&(e.wordSeparator=e.wordSeparator[0]),this.sanitizePasswordLength(e,!1)}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"appendRandomNumberToRandomWord",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e||e.length<=0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.cryptoService.randomNumber(0,e.length-1);case 4:return n=t.sent,t.next=7,this.cryptoService.randomNumber(0,9);case 7:r=t.sent,e[n]=e[n]+r;case 9:case"end":return t.stop()}},t,this)}))}},{key:"encryptHistory",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r=this;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&0!==e.length){t.next=2;break}return t.abrupt("return",Promise.resolve([]));case 2:return n=e.map(function(e){return i3(r,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cryptoService.encrypt(e.password);case 2:return n=t.sent,t.abrupt("return",new i1(n.encryptedString,e.date));case 4:case"end":return t.stop()}},t,this)}))}),t.next=5,Promise.all(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t)}))}},{key:"decryptHistory",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r=this;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&0!==e.length){t.next=2;break}return t.abrupt("return",Promise.resolve([]));case 2:return n=e.map(function(e){return i3(r,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cryptoService.decryptToUtf8(new rj(e.password));case 2:return n=t.sent,t.abrupt("return",new i1(n,e.date));case 4:case"end":return t.stop()}},t,this)}))}),t.next=5,Promise.all(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t)}))}},{key:"matchesPrevious",value:function(e,t){return null!=t&&0!==t.length&&t[t.length-1].password===e}},{key:"shuffleArray",value:function(e){return i3(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.length-1;case 1:if(!(n>0)){t.next=11;break}return t.next=4,this.cryptoService.randomNumber(0,n);case 4:a=[e[r=t.sent],e[n]],e[n]=a[0],e[r]=a[1];case 8:n--,t.next=1;break;case 11:case"end":return t.stop()}},t,this)}))}},{key:"sanitizePasswordLength",value:function(e,t){var n=0,r=0,a=e.minNumber,i=e.minSpecial;e.uppercase&&e.minUppercase<=0?n=1:e.uppercase||(n=0),e.lowercase&&e.minLowercase<=0?r=1:e.lowercase||(r=0),e.number&&e.minNumber<=0?a=1:e.number||(a=0),e.special&&e.minSpecial<=0?i=1:e.special||(i=0),(!e.length||e.length<1)&&(e.length=10);var o=n+r+a+i;e.length<o&&(e.length=o),t&&(e.minUppercase=n,e.minLowercase=r,e.minNumber=a,e.minSpecial=i)}}]),e}(),i8=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;return ei()(this,r),e=n.apply(this,arguments),e.minComplexity=0,e.minLength=0,e.requireUpper=!1,e.requireLower=!1,e.requireNumbers=!1,e.requireSpecial=!1,e}return ec()(r)}(rM),i9=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.id=e.id,t.organizationId=e.organizationId,t.type=e.type,t.data=e.data,t.enabled=e.enabled,t)}return ec()(r)}(rM),oe=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},ot="policies_",on=function(){function e(t,n){ei()(this,e),this.userService=t,this.storageService=n}return ec()(e,[{key:"clearCache",value:function(){this.policyCache=null}},{key:"getAll",value:function(e){return oe(this,void 0,void 0,ti().mark(function t(){var n,r,a,i;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.policyCache){t.next=10;break}return t.next=3,this.userService.getUserId();case 3:return n=t.sent,t.next=6,this.storageService.get(ot+n);case 6:for(i in r=t.sent,a=[],r)r.hasOwnProperty(i)&&a.push(new i9(r[i]));this.policyCache=a;case 10:if(null==e){t.next=14;break}return t.abrupt("return",this.policyCache.filter(function(t){return t.type===e}));case 14:return t.abrupt("return",this.policyCache);case 15:case"end":return t.stop()}},t,this)}))}},{key:"replace",value:function(e){return oe(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(ot+n,e);case 5:this.policyCache=null;case 6:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return oe(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(ot+e);case 2:this.policyCache=null;case 3:case"end":return t.stop()}},t,this)}))}},{key:"getMasterPasswordPolicyOptions",value:function(e){return oe(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,null!=e){t.next=7;break}return t.next=4,this.getAll(Q.MasterPassword);case 4:e=t.sent,t.next=8;break;case 7:e=e.filter(function(e){return e.type===Q.MasterPassword});case 8:if(null!=e&&0!==e.length){t.next=10;break}return t.abrupt("return",n);case 10:return e.forEach(function(e){e.enabled&&null!=e.data&&(null==n&&(n=new i8),null!=e.data.minComplexity&&e.data.minComplexity>n.minComplexity&&(n.minComplexity=e.data.minComplexity),null!=e.data.minLength&&e.data.minLength>n.minLength&&(n.minLength=e.data.minLength),e.data.requireUpper&&(n.requireUpper=!0),e.data.requireLower&&(n.requireLower=!0),e.data.requireNumbers&&(n.requireNumbers=!0),e.data.requireSpecial&&(n.requireSpecial=!0))}),t.abrupt("return",n);case 12:case"end":return t.stop()}},t,this)}))}},{key:"evaluateMasterPassword",value:function(e,t,n){return null==n||(!(n.minComplexity>0)||!(n.minComplexity>e))&&(!(n.minLength>0)||!(n.minLength>t.length))&&(!n.requireUpper||t.toLocaleLowerCase()!==t)&&(!n.requireLower||t.toLocaleUpperCase()!==t)&&(!n.requireNumbers||!!/[0-9]/.test(t))&&(!n.requireSpecial||!!/[!@#$%\^&*]/g.test(t))&&!0}}]),e}(),or=n(80672),oa=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oi=function(){function e(t){ei()(this,e),this.cipherService=t,this.indexing=!1,this.index=null}return ec()(e,[{key:"clearIndex",value:function(){this.index=null}},{key:"isSearchable",value:function(e){return!(null==e||null==this.index&&e.length<2||null!=this.index&&e.length<2&&0!==e.indexOf(">"))}},{key:"indexCiphers",value:function(){return oa(this,void 0,void 0,ti().mark(function e(){var t,n=this;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.indexing){e.next=2;break}return e.abrupt("return");case 2:return console.time("search indexing"),this.indexing=!0,this.index=null,(t=new or.Builder).ref("id"),t.field("shortid",{boost:100,extractor:function(e){return e.id.substr(0,8)}}),t.field("name",{boost:10}),t.field("subtitle",{boost:5,extractor:function(e){return null!=e.subTitle&&e.type===q.Card?e.subTitle.replace(/\*/g,""):e.subTitle}}),t.field("notes"),t.field("login.username",{extractor:function(e){return e.type===q.Login&&null!=e.login?e.login.username:null}}),t.field("login.uris",{boost:2,extractor:function(e){return n.uriExtractor(e)}}),t.field("fields",{extractor:function(e){return n.fieldExtractor(e,!1)}}),t.field("fields_joined",{extractor:function(e){return n.fieldExtractor(e,!0)}}),t.field("attachments",{extractor:function(e){return n.attachmentExtractor(e,!1)}}),t.field("attachments_joined",{extractor:function(e){return n.attachmentExtractor(e,!0)}}),t.field("organizationid",{extractor:function(e){return e.organizationId}}),e.next=20,this.cipherService.getAllDecrypted();case 20:e.sent.forEach(function(e){return t.add(e)}),this.index=t.build(),this.indexing=!1,console.timeEnd("search indexing");case 25:case"end":return e.stop()}},e,this)}))}},{key:"searchCiphers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return oa(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=[],null!=e&&(e=e.trim().toLowerCase()),""===e&&(e=null),null!=n){r.next=7;break}return r.next=6,this.cipherService.getAllDecrypted();case 6:n=r.sent;case 7:if(null!=t&&Array.isArray(t)&&t.length>0?n=n.filter(function(e){return t.every(function(t){return null==t||t(e)})}):null!=t&&(n=n.filter(t)),this.isSearchable(e)){r.next=10;break}return r.abrupt("return",n);case 10:if(!this.indexing){r.next=16;break}return r.next=13,new Promise(function(e){return setTimeout(e,250)});case 13:if(!this.indexing){r.next=16;break}return r.next=16,new Promise(function(e){return setTimeout(e,500)});case 16:if(null!=(i=this.getIndexForSearch())){r.next=19;break}return r.abrupt("return",this.searchCiphersBasic(n,e));case 19:if(o=new Map,n.forEach(function(e){return o.set(e.id,e)}),c=null,null!=e&&e.length>1&&0===e.indexOf(">"))try{c=i.search(e.substr(1).trim())}catch(e){}else s=or.Query.wildcard.LEADING|or.Query.wildcard.TRAILING,c=i.query(function(t){or.tokenizer(e).forEach(function(e){var n=e.toString();t.term(n,{fields:["name"],wildcard:s}),t.term(n,{fields:["subtitle"],wildcard:s}),t.term(n,{fields:["login.uris"],wildcard:s}),t.term(n,{})})});return null!=c&&c.forEach(function(e){o.has(e.ref)&&a.push(o.get(e.ref))}),r.abrupt("return",a);case 26:case"end":return r.stop()}},r,this)}))}},{key:"searchCiphersBasic",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t.trim().toLowerCase(),e.filter(function(e){return n===e.isDeleted&&!!(null!=e.name&&e.name.toLowerCase().indexOf(t)>-1||t.length>=8&&e.id.startsWith(t)||null!=e.subTitle&&e.subTitle.toLowerCase().indexOf(t)>-1||e.login&&null!=e.login.uri&&e.login.uri.toLowerCase().indexOf(t)>-1)})}},{key:"getIndexForSearch",value:function(){return this.index}},{key:"fieldExtractor",value:function(e,t){if(!e.hasFields)return null;var n=[];return(e.fields.forEach(function(e){null!=e.name&&n.push(e.name),e.type===W.Text&&null!=e.value&&n.push(e.value)}),0===(n=n.filter(function(e){return""!==e.trim()})).length)?null:t?n.join(" "):n}},{key:"attachmentExtractor",value:function(e,t){if(!e.hasAttachments)return null;var n=[];return(e.attachments.forEach(function(e){null!=e&&null!=e.fileName&&(t&&e.fileName.indexOf(".")>-1?n.push(e.fileName.substr(0,e.fileName.lastIndexOf("."))):n.push(e.fileName))}),0===(n=n.filter(function(e){return""!==e.trim()})).length)?null:t?n.join(" "):n}},{key:"uriExtractor",value:function(e){if(e.type!==q.Login||null==e.login||!e.login.hasUris)return null;var t=[];return e.login.uris.forEach(function(e){if(null!=e.uri&&""!==e.uri){if(null!=e.hostname)return void t.push(e.hostname);var n=e.uri;if(e.match!==G.RegularExpression){var r=n.indexOf("://");r>-1&&(n=n.substr(r+3));var a=n.search(/\?|&|#/);a>-1&&(n=n.substring(0,a))}t.push(n)}}),t.length>0?t:null}}]),e}();(k=Y||(Y={}))[k.Text=0]="Text",k[k.File=1]="File";var oo=ec()(function e(t){ei()(this,e),null!=t&&(this.id=t.id,this.url=t.url,this.fileName=t.fileName,this.key=t.key,this.size=t.size,this.sizeName=t.sizeName)}),oc=ec()(function e(t){ei()(this,e),null!=t&&(this.text=t.text,this.hidden=t.hidden)}),os=ec()(function e(t,n){if(ei()(this,e),null!=t)switch(this.id=t.id,this.accessId=t.accessId,this.userId=n,this.type=t.type,this.name=t.name,this.notes=t.notes,this.key=t.key,this.maxAccessCount=t.maxAccessCount,this.accessCount=t.accessCount,this.revisionDate=t.revisionDate,this.expirationDate=t.expirationDate,this.deletionDate=t.deletionDate,this.password=t.password,this.disabled=t.disable,this.type){case Y.Text:this.text=new oc(t.text);break;case Y.File:this.file=new oo(t.file)}}),ou=ec()(function e(t){switch(ei()(this,e),this.type=t.type,this.name=t.name?t.name.encryptedString:null,this.notes=t.notes?t.notes.encryptedString:null,this.maxAccessCount=t.maxAccessCount,this.expirationDate=null!=t.expirationDate?t.expirationDate.toISOString():null,this.deletionDate=null!=t.deletionDate?t.deletionDate.toISOString():null,this.key=null!=t.key?t.key.encryptedString:null,this.password=t.password,this.disabled=t.disabled,this.type){case Y.Text:this.text=new n5,this.text.text=null!=t.text.text?t.text.text.encryptedString:null,this.text.hidden=t.text.hidden;break;case Y.File:this.file=new n6,this.file.fileName=null!=t.file.fileName?t.file.fileName.encryptedString:null}}),ol=function(){function e(t){ei()(this,e),this.id=null,this.url=null,this.size=null,this.sizeName=null,this.fileName=null,t&&(this.id=t.id,this.url=t.url,this.size=t.size,this.sizeName=t.sizeName)}return ec()(e,[{key:"fileSize",get:function(){try{if(null!=this.size)return parseInt(this.size,null)}catch(e){}return 0}}]),e}(),od=function(){function e(t){ei()(this,e),this.text=null,t&&(this.hidden=t.hidden)}return ec()(e,[{key:"maskedText",get:function(){return null!=this.text?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":null}}]),e}(),of=function(){function e(t){ei()(this,e),this.id=null,this.accessId=null,this.name=null,this.notes=null,this.type=null,this.text=new od,this.file=new ol,this.maxAccessCount=null,this.accessCount=0,this.revisionDate=null,this.deletionDate=null,this.expirationDate=null,this.password=null,this.disabled=!1,t&&(this.id=t.id,this.accessId=t.accessId,this.type=t.type,this.maxAccessCount=t.maxAccessCount,this.accessCount=t.accessCount,this.revisionDate=t.revisionDate,this.deletionDate=t.deletionDate,this.expirationDate=t.expirationDate,this.disabled=t.disabled,this.password=t.password)}return ec()(e,[{key:"urlB64Key",get:function(){return ns.fromBufferToUrlB64(this.key)}}]),e}(),op=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.size=e.size,t.buildDomainModel(eu()(t),e,{id:null,url:null,sizeName:null,fileName:null},a,["id","url","sizeName"]),t)}return ec()(r,[{key:"decrypt",value:function(e){var t,n,r,a;return t=this,n=void 0,r=void 0,a=ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.decryptObj(new ol(this),{fileName:null},null,e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}),new(r||(r=Promise))(function(e,i){function o(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(e){e(n)})).then(o,c)}s((a=a.apply(t,n||[])).next())})}},{key:"toSendFileData",value:function(){var e=new oo;return e.size=this.size,this.buildDataModel(this,e,{id:null,url:null,sizeName:null,fileName:null},["id","url","sizeName"]),e}}]),r}(rM),oh=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(ei()(this,r),t=n.call(this),null==e)?ep()(t):(t.hidden=e.hidden,t.buildDomainModel(eu()(t),e,{text:null},a,[]),t)}return ec()(r,[{key:"decrypt",value:function(e){return this.decryptObj(new od(this),{text:null},null,e)}},{key:"toSendTextData",value:function(){var e=new oc;return this.buildDataModel(this,e,{text:null,hidden:null},["hidden"]),e}}]),r}(rM),om=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ei()(this,r),t=n.call(this),null==e)return ep()(t);switch(t.buildDomainModel(eu()(t),e,{id:null,accessId:null,userId:null,name:null,notes:null,key:null},a,["id","accessId","userId"]),t.type=e.type,t.maxAccessCount=e.maxAccessCount,t.accessCount=e.accessCount,t.password=e.password,t.disabled=e.disabled,t.revisionDate=null!=e.revisionDate?new Date(e.revisionDate):null,t.deletionDate=null!=e.deletionDate?new Date(e.deletionDate):null,t.expirationDate=null!=e.expirationDate?new Date(e.expirationDate):null,t.type){case Y.Text:t.text=new oh(e.text,a);break;case Y.File:t.file=new op(e.file,a)}return t}return ec()(r,[{key:"decrypt",value:function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=ti().mark(function e(){var t,n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new of(this),!(r=ns.global.bitwardenContainerService)){e.next=6;break}n=r.getCryptoService(),e.next=7;break;case 6:throw Error("global bitwardenContainerService not initialized.");case 7:return e.prev=7,e.next=10,n.decryptToBytes(this.key,null);case 10:return t.key=e.sent,e.next=13,n.makeSendKey(t.key);case 13:t.cryptoKey=e.sent,e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:return e.next=20,this.decryptObj(t,{name:null,notes:null},null,t.cryptoKey);case 20:e.t1=this.type,e.next=e.t1===Y.File?23:e.t1===Y.Text?27:31;break;case 23:return e.next=25,this.file.decrypt(t.cryptoKey);case 25:return t.file=e.sent,e.abrupt("break",32);case 27:return e.next=29,this.text.decrypt(t.cryptoKey);case 29:return t.text=e.sent,e.abrupt("break",32);case 31:return e.abrupt("break",32);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[7,16]])}),new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})}},{key:"toSendData",value:function(e){var t=new os;switch(t.id=this.id,t.accessId=this.accessId,t.userId=e,t.maxAccessCount=this.maxAccessCount,t.accessCount=this.accessCount,t.disabled=this.disabled,t.password=this.password,t.revisionDate=null!=this.revisionDate?this.revisionDate.toISOString():null,t.deletionDate=null!=this.deletionDate?this.deletionDate.toISOString():null,t.expirationDate=null!=this.expirationDate?this.expirationDate.toISOString():null,t.type=this.type,this.buildDataModel(this,t,{name:null,notes:null,key:null}),t.type){case Y.File:t.text=this.text.toSendTextData();break;case Y.Text:t.file=this.file.toSendFileData()}return t}}]),r}(rM),ov=n(48287).Buffer,oy=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},og="sends_",ob=function(){function e(t,n,r,a,i,o){ei()(this,e),this.cryptoService=t,this.userService=n,this.apiService=r,this.storageService=a,this.i18nService=i,this.cryptoFunctionService=o}return ec()(e,[{key:"clearCache",value:function(){this.decryptedSendCache=null}},{key:"encrypt",value:function(e,t,n,r){return oy(this,void 0,void 0,ti().mark(function a(){var i,o,c;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=null,(o=new om).id=e.id,o.type=e.type,o.disabled=e.disabled,o.maxAccessCount=e.maxAccessCount,null!=e.key){a.next=13;break}return a.next=9,this.cryptoFunctionService.randomBytes(16);case 9:return e.key=a.sent,a.next=12,this.cryptoService.makeSendKey(e.key);case 12:e.cryptoKey=a.sent;case 13:if(null==n){a.next=18;break}return a.next=16,this.cryptoFunctionService.pbkdf2(n,e.key,"sha256",1e5);case 16:c=a.sent,o.password=ns.fromBufferToB64(c);case 18:return a.next=20,this.cryptoService.encrypt(e.key,r);case 20:return o.key=a.sent,a.next=23,this.cryptoService.encrypt(e.name,e.cryptoKey);case 23:return o.name=a.sent,a.next=26,this.cryptoService.encrypt(e.notes,e.cryptoKey);case 26:if(o.notes=a.sent,o.type!==Y.Text){a.next=35;break}return o.text=new oh,a.next=31,this.cryptoService.encrypt(e.text.text,e.cryptoKey);case 31:o.text.text=a.sent,o.text.hidden=e.text.hidden,a.next=41;break;case 35:if(o.type!==Y.File||(o.file=new op,null==t)){a.next=41;break}return a.next=40,this.parseFile(o,t,e.cryptoKey);case 40:i=a.sent;case 41:return a.abrupt("return",[o,i]);case 42:case"end":return a.stop()}},a,this)}))}},{key:"get",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(og+n);case 5:if(!(null==(r=t.sent)||!r.hasOwnProperty(e))){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",new om(r[e]));case 9:case"end":return t.stop()}},t,this)}))}},{key:"getAll",value:function(){return oy(this,void 0,void 0,ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUserId();case 2:return t=e.sent,e.next=5,this.storageService.get(og+t);case 5:for(a in n=e.sent,r=[],n)n.hasOwnProperty(a)&&r.push(new om(n[a]));return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}))}},{key:"getAllDecrypted",value:function(){return oy(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.decryptedSendCache){e.next=2;break}return e.abrupt("return",this.decryptedSendCache);case 2:return e.next=4,this.cryptoService.hasKey();case 4:if(e.sent){e.next=7;break}throw Error("No key.");case 7:return t=[],n=[],e.next=11,this.getAll();case 11:return e.sent.forEach(function(e){n.push(e.decrypt().then(function(e){return t.push(e)}))}),e.next=15,Promise.all(n);case 15:return t.sort(ns.getSortFunction(this.i18nService,"name")),this.decryptedSendCache=t,e.abrupt("return",this.decryptedSendCache);case 18:case"end":return e.stop()}},e,this)}))}},{key:"saveWithServer",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o,c;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new ou(e[0]),null!=e[0].id){t.next=29;break}if(e[0].type!==Y.Text){t.next=8;break}return t.next=5,this.apiService.postSend(n);case 5:r=t.sent,t.next=26;break;case 8:a=new FormData,t.prev=9,i=new Blob([e[1]],{type:"application/octet-stream"}),a.append("model",JSON.stringify(n)),a.append("data",i,e[0].file.fileName.encryptedString),t.next=23;break;case 15:if(t.prev=15,t.t0=t.catch(9),!(ns.isNode&&!ns.isBrowser)){t.next=22;break}a.append("model",JSON.stringify(n)),a.append("data",ov.from(e[1]),{filepath:e[0].file.fileName.encryptedString,contentType:"application/octet-stream"}),t.next=23;break;case 22:throw t.t0;case 23:return t.next=25,this.apiService.postSendFile(a);case 25:r=t.sent;case 26:e[0].id=r.id,t.next=32;break;case 29:return t.next=31,this.apiService.putSend(e[0].id,n);case 31:r=t.sent;case 32:return t.next=34,this.userService.getUserId();case 34:return o=t.sent,c=new os(r,o),t.next=38,this.upsert(c);case 38:case"end":return t.stop()}},t,this,[[9,15]])}))}},{key:"upsert",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(og+n);case 5:return null==(r=t.sent)&&(r={}),e instanceof os?r[(a=e).id]=a:e.forEach(function(e){r[e.id]=e}),t.next=10,this.storageService.save(og+n,r);case 10:this.decryptedSendCache=null;case 11:case"end":return t.stop()}},t,this)}))}},{key:"replace",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(og+n,e);case 5:this.decryptedSendCache=null;case 6:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(og+e);case 2:this.decryptedSendCache=null;case 3:case"end":return t.stop()}},t,this)}))}},{key:"delete",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(og+n);case 5:if(null!=(r=t.sent)){t.next=8;break}return t.abrupt("return");case 8:if("string"!=typeof e){t.next=14;break}if(null!=r[e]){t.next=11;break}return t.abrupt("return");case 11:delete r[e],t.next=15;break;case 14:e.forEach(function(e){delete r[e]});case 15:return t.next=17,this.storageService.save(og+n,r);case 17:this.decryptedSendCache=null;case 18:case"end":return t.stop()}},t,this)}))}},{key:"deleteWithServer",value:function(e){return oy(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.deleteSend(e);case 2:return t.next=4,this.delete(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"parseFile",value:function(e,t,n){var r=this;return new Promise(function(a,i){var o=new FileReader;o.readAsArrayBuffer(t),o.onload=function(o){return oy(r,void 0,void 0,ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.cryptoService.encrypt(t.name,n);case 3:return e.file.fileName=r.sent,r.next=6,this.cryptoService.encryptToBytes(o.target.result,n);case 6:a(r.sent),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),i(r.t0);case 13:case"end":return r.stop()}},r,this,[[0,10]])}))},o.onerror=function(e){i("Error reading file.")}})}}]),e}(),ow=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},ok="settings_",ox="equivalentDomains",oO=function(){function e(t,n){ei()(this,e),this.userService=t,this.storageService=n}return ec()(e,[{key:"clearCache",value:function(){this.settingsCache=null}},{key:"getEquivalentDomains",value:function(){return this.getSettingsKey(ox)}},{key:"setEquivalentDomains",value:function(e){return ow(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setSettingsKey(ox,e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"clear",value:function(e){return ow(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(ok+e);case 2:this.clearCache();case 3:case"end":return t.stop()}},t,this)}))}},{key:"getSettings",value:function(){return ow(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.settingsCache){e.next=5;break}return e.next=3,this.userService.getUserId();case 3:t=e.sent,this.settingsCache=this.storageService.get(ok+t);case 5:return e.abrupt("return",this.settingsCache);case 6:case"end":return e.stop()}},e,this)}))}},{key:"getSettingsKey",value:function(e){return ow(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSettings();case 2:if(!(null!=(n=t.sent)&&n[e])){t.next=5;break}return t.abrupt("return",n[e]);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}))}},{key:"setSettingsKey",value:function(e,t){return ow(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.userService.getUserId();case 2:return r=n.sent,n.next=5,this.getSettings();case 5:return(a=n.sent)||(a={}),a[e]=t,n.next=10,this.storageService.save(ok+r,a);case 10:this.settingsCache=a;case 11:case"end":return n.stop()}},n,this)}))}}]),e}(),o_=ec()(function e(t){ei()(this,e),this.id=t.id,this.name=t.name,this.status=t.status,this.type=t.type,this.enabled=t.enabled,this.usePolicies=t.usePolicies,this.useGroups=t.useGroups,this.useDirectory=t.useDirectory,this.useEvents=t.useEvents,this.useTotp=t.useTotp,this.use2fa=t.use2fa,this.useApi=t.useApi,this.useBusinessPortal=t.useBusinessPortal,this.useSso=t.useSso,this.selfHost=t.selfHost,this.usersGetPremium=t.usersGetPremium,this.seats=t.seats,this.maxCollections=t.maxCollections,this.maxStorageGb=t.maxStorageGb,this.ssoBound=t.ssoBound,this.identifier=t.identifier}),oE=ec()(function e(t){ei()(this,e),this.id=t.id,this.organizationId=t.organizationId,this.type=t.type,this.data=t.data,this.enabled=t.enabled}),oC=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oS="lastSync_",oP=function(){function e(t,n,r,a,i,o,c,s,u,l,d,f){ei()(this,e),this.userService=t,this.apiService=n,this.settingsService=r,this.folderService=a,this.cipherService=i,this.cryptoService=o,this.collectionService=c,this.storageService=s,this.messagingService=u,this.policyService=l,this.sendService=d,this.logoutCallback=f,this.syncInProgress=!1}return ec()(e,[{key:"getLastSync",value:function(){return oC(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getUserId();case 2:if(null!=(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.storageService.get(oS+t);case 7:if(!(n=e.sent)){e.next=10;break}return e.abrupt("return",new Date(n));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this)}))}},{key:"setLastSync",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getUserId();case 2:if(null!=(n=t.sent)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this.storageService.save(oS+n,e.toJSON());case 7:case"end":return t.stop()}},t,this)}))}},{key:"fullSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oC(this,void 0,void 0,ti().mark(function n(){var r,a,i,o;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.syncStarted(),n.next=3,this.userService.isAuthenticated();case 3:if(n.sent){n.next=6;break}return n.abrupt("return",this.syncCompleted(!1));case 6:return r=new Date,a=!1,n.prev=8,n.next=11,this.needsSyncing(e);case 11:a=n.sent,n.next=18;break;case 14:if(n.prev=14,n.t0=n.catch(8),!t){n.next=18;break}throw n.t0;case 18:if(a){n.next=22;break}return n.next=21,this.setLastSync(r);case 21:case 54:return n.abrupt("return",this.syncCompleted(!1));case 22:return n.next=24,this.userService.getUserId();case 24:return i=n.sent,n.prev=25,n.next=28,this.apiService.getSync();case 28:return o=n.sent,n.next=31,this.syncProfile(o.profile);case 31:return n.next=33,this.syncFolders(i,o.folders);case 33:return n.next=35,this.syncCollections(o.collections);case 35:return n.next=37,this.syncCiphers(i,o.ciphers);case 37:return n.next=39,this.syncSends(i,o.sends);case 39:return n.next=41,this.syncSettings(i,o.domains);case 41:return n.next=43,this.syncPolicies(o.policies);case 43:return n.next=45,this.setLastSync(r);case 45:return n.abrupt("return",this.syncCompleted(!0));case 48:if(n.prev=48,n.t1=n.catch(25),!t){n.next=54;break}throw n.t1;case 55:case"end":return n.stop()}},n,this,[[8,14],[25,48]])}))}},{key:"syncUpsertFolder",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function n(){var r,a,i;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.syncStarted(),n.next=3,this.userService.isAuthenticated();case 3:if(!n.sent){n.next=24;break}return n.prev=4,n.next=7,this.folderService.get(e.id);case 7:if(r=n.sent,!(!t&&null==r||t&&null!=r&&r.revisionDate<e.revisionDate)){n.next=20;break}return n.next=11,this.apiService.getFolder(e.id);case 11:if(null==(a=n.sent)){n.next=20;break}return n.next=15,this.userService.getUserId();case 15:return i=n.sent,n.next=18,this.folderService.upsert(new aS(a,i));case 18:return this.messagingService.send("syncedUpsertedFolder",{folderId:e.id}),n.abrupt("return",this.syncCompleted(!0));case 20:n.next=24;break;case 22:n.prev=22,n.t0=n.catch(4);case 24:return n.abrupt("return",this.syncCompleted(!1));case 25:case"end":return n.stop()}},n,this,[[4,22]])}))}},{key:"syncDeleteFolder",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.syncStarted(),t.next=3,this.userService.isAuthenticated();case 3:if(!t.sent){t.next=9;break}return t.next=6,this.folderService.delete(e.id);case 6:return this.messagingService.send("syncedDeletedFolder",{folderId:e.id}),this.syncCompleted(!0),t.abrupt("return",!0);case 9:return t.abrupt("return",this.syncCompleted(!1));case 10:case"end":return t.stop()}},t,this)}))}},{key:"syncUpsertCipher",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.syncStarted(),n.next=3,this.userService.isAuthenticated();case 3:if(!n.sent){n.next=46;break}return n.prev=4,r=!0,n.next=8,this.cipherService.get(e.id);case 8:if(null!=(a=n.sent)&&a.revisionDate>=e.revisionDate&&(r=!1),i=!1,r&&(t?(r=null!=a,i=!0):null==e.collectionIds||null==e.organizationId?r=null==a:(r=!1,i=!0)),!(!r&&i&&null!=e.organizationId&&null!=e.collectionIds&&e.collectionIds.length>0)){n.next=25;break}return n.next=15,this.collectionService.getAll();case 15:if(null==(o=n.sent)){n.next=25;break}c=0;case 18:if(!(c<o.length)){n.next=25;break}if(!(e.collectionIds.indexOf(o[c].id)>-1)){n.next=22;break}return r=!0,n.abrupt("break",25);case 22:c++,n.next=18;break;case 25:if(!r){n.next=37;break}return n.next=28,this.apiService.getCipher(e.id);case 28:if(null==(s=n.sent)){n.next=37;break}return n.next=32,this.userService.getUserId();case 32:return u=n.sent,n.next=35,this.cipherService.upsert(new rT(s,u));case 35:return this.messagingService.send("syncedUpsertedCipher",{cipherId:e.id}),n.abrupt("return",this.syncCompleted(!0));case 37:n.next=46;break;case 39:if(n.prev=39,n.t0=n.catch(4),!(null!=n.t0&&404===n.t0.statusCode&&t)){n.next=46;break}return n.next=44,this.cipherService.delete(e.id);case 44:return this.messagingService.send("syncedDeletedCipher",{cipherId:e.id}),n.abrupt("return",this.syncCompleted(!0));case 46:return n.abrupt("return",this.syncCompleted(!1));case 47:case"end":return n.stop()}},n,this,[[4,39]])}))}},{key:"syncDeleteCipher",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.syncStarted(),t.next=3,this.userService.isAuthenticated();case 3:if(!t.sent){t.next=8;break}return t.next=6,this.cipherService.delete(e.id);case 6:return this.messagingService.send("syncedDeletedCipher",{cipherId:e.id}),t.abrupt("return",this.syncCompleted(!0));case 8:return t.abrupt("return",this.syncCompleted(!1));case 9:case"end":return t.stop()}},t,this)}))}},{key:"syncStarted",value:function(){this.syncInProgress=!0,this.messagingService.send("syncStarted")}},{key:"syncCompleted",value:function(e){return this.syncInProgress=!1,this.messagingService.send("syncCompleted",{successfully:e}),e}},{key:"needsSyncing",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,this.getLastSync();case 4:if(null!=(n=t.sent)&&0!==n.getTime()){t.next=7;break}return t.abrupt("return",!0);case 7:return t.next=9,this.apiService.getAccountRevisionDate();case 9:if(!(new Date(t.sent)<=n)){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}},t,this)}))}},{key:"syncProfile",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.getSecurityStamp();case 2:if(null==(n=t.sent)||n===e.securityStamp){t.next=8;break}if(null==this.logoutCallback){t.next=7;break}return t.next=7,this.logoutCallback(!0);case 7:throw Error("Stamp has changed");case 8:return t.next=10,this.cryptoService.setEncKey(e.key);case 10:return t.next=12,this.cryptoService.setEncPrivateKey(e.privateKey);case 12:return t.next=14,this.cryptoService.setOrgKeys(e.organizations);case 14:return t.next=16,this.userService.setSecurityStamp(e.securityStamp);case 16:return r={},e.organizations.forEach(function(e){r[e.id]=new o_(e)}),t.next=20,this.userService.replaceOrganizations(r);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}))}},{key:"syncFolders",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={},t.forEach(function(t){r[t.id]=new aS(t,e)}),n.next=4,this.folderService.replace(r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}},{key:"syncCollections",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},e.forEach(function(e){n[e.id]=new ap(e)}),t.next=4,this.collectionService.replace(n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}},{key:"syncCiphers",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={},t.forEach(function(t){r[t.id]=new rT(t,e)}),n.next=4,this.cipherService.replace(r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}},{key:"syncSends",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={},t.forEach(function(t){r[t.id]=new os(t,e)}),n.next=4,this.sendService.replace(r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}},{key:"syncSettings",value:function(e,t){return oC(this,void 0,void 0,ti().mark(function e(){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],null!=t&&null!=t.equivalentDomains&&(n=n.concat(t.equivalentDomains)),null!=t&&null!=t.globalEquivalentDomains&&t.globalEquivalentDomains.forEach(function(e){e.domains.length>0&&n.push(e.domains)}),e.abrupt("return",this.settingsService.setEquivalentDomains(n));case 4:case"end":return e.stop()}},e,this)}))}},{key:"syncPolicies",value:function(e){return oC(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},null!=e&&e.forEach(function(e){n[e.id]=new oE(e)}),t.next=4,this.policyService.replace(n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}}]),e}(),oA=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oD="accessToken",oT="refreshToken",oR="twoFactorToken_",oj=function(){function e(t){ei()(this,e),this.storageService=t}return ec()(e,[{key:"setTokens",value:function(e,t){return Promise.all([this.setToken(e),this.setRefreshToken(t)])}},{key:"setToken",value:function(e){return oA(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.token=e,this.decodedToken=null,t.next=4,this.skipTokenStorage();case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.abrupt("return",this.storageService.save(oD,e));case 7:case"end":return t.stop()}},t,this)}))}},{key:"getToken",value:function(){return oA(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.token){e.next=2;break}return e.abrupt("return",this.token);case 2:return e.next=4,this.storageService.get(oD);case 4:return this.token=e.sent,e.abrupt("return",this.token);case 6:case"end":return e.stop()}},e,this)}))}},{key:"setRefreshToken",value:function(e){return oA(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.refreshToken=e,t.next=3,this.skipTokenStorage();case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",this.storageService.save(oT,e));case 6:case"end":return t.stop()}},t,this)}))}},{key:"getRefreshToken",value:function(){return oA(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.refreshToken){e.next=2;break}return e.abrupt("return",this.refreshToken);case 2:return e.next=4,this.storageService.get(oT);case 4:return this.refreshToken=e.sent,e.abrupt("return",this.refreshToken);case 6:case"end":return e.stop()}},e,this)}))}},{key:"toggleTokens",value:function(){return oA(this,void 0,void 0,ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return t=e.sent,e.next=5,this.getRefreshToken();case 5:return n=e.sent,e.next=8,this.storageService.get(an.vaultTimeoutKey);case 8:return r=e.sent,e.next=11,this.storageService.get(an.vaultTimeoutActionKey);case 11:if(a=e.sent,null==r&&0!==r||"logOut"!==a){e.next=18;break}return e.next=15,this.clearToken();case 15:return this.token=t,this.refreshToken=n,e.abrupt("return");case 18:return e.next=20,this.setToken(t);case 20:return e.next=22,this.setRefreshToken(n);case 22:case"end":return e.stop()}},e,this)}))}},{key:"setTwoFactorToken",value:function(e,t){return this.storageService.save(oR+t,e)}},{key:"getTwoFactorToken",value:function(e){return this.storageService.get(oR+e)}},{key:"clearTwoFactorToken",value:function(e){return this.storageService.remove(oR+e)}},{key:"clearToken",value:function(){return this.token=null,this.decodedToken=null,this.refreshToken=null,Promise.all([this.storageService.remove(oD),this.storageService.remove(oT)])}},{key:"decodeToken",value:function(){if(this.decodedToken)return this.decodedToken;if(null==this.token)throw Error("Token not found.");var e=this.token.split(".");if(3!==e.length)throw Error("JWT must have 3 parts");var t=ns.fromUrlB64ToUtf8(e[1]);if(null==t)throw Error("Cannot decode the token");return this.decodedToken=JSON.parse(t),this.decodedToken}},{key:"getTokenExpirationDate",value:function(){var e=this.decodeToken();if(void 0===e.exp)return null;var t=new Date(0);return t.setUTCSeconds(e.exp),t}},{key:"tokenSecondsRemaining",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getTokenExpirationDate();return null==t?0:Math.round((t.valueOf()-(new Date().valueOf()+1e3*e))/1e3)}},{key:"tokenNeedsRefresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.tokenSecondsRemaining()<60*e}},{key:"getUserId",value:function(){var e=this.decodeToken();if(void 0===e.sub)throw Error("No user id found");return e.sub}},{key:"getEmail",value:function(){var e=this.decodeToken();if(void 0===e.email)throw Error("No email found");return e.email}},{key:"getEmailVerified",value:function(){var e=this.decodeToken();if(void 0===e.email_verified)throw Error("No email verification found");return e.email_verified}},{key:"getName",value:function(){var e=this.decodeToken();return void 0===e.name?null:e.name}},{key:"getPremium",value:function(){var e=this.decodeToken();return void 0!==e.premium&&e.premium}},{key:"getIssuer",value:function(){var e=this.decodeToken();if(void 0===e.iss)throw Error("No issuer found");return e.iss}},{key:"skipTokenStorage",value:function(){return oA(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(an.vaultTimeoutKey);case 2:return t=e.sent,e.next=5,this.storageService.get(an.vaultTimeoutActionKey);case 5:return n=e.sent,e.abrupt("return",null!=t&&"logOut"===n);case 7:case"end":return e.stop()}},e,this)}))}}]),e}();(x=J||(J={}))[x.Invited=0]="Invited",x[x.Accepted=1]="Accepted",x[x.Confirmed=2]="Confirmed",(O=$||($={}))[O.Owner=0]="Owner",O[O.Admin=1]="Admin",O[O.User=2]="User",O[O.Manager=3]="Manager";var oM=function(){function e(t){ei()(this,e),null!=t&&(this.id=t.id,this.name=t.name,this.status=t.status,this.type=t.type,this.enabled=t.enabled,this.usePolicies=t.usePolicies,this.useGroups=t.useGroups,this.useDirectory=t.useDirectory,this.useEvents=t.useEvents,this.useTotp=t.useTotp,this.use2fa=t.use2fa,this.useApi=t.useApi,this.useBusinessPortal=t.useBusinessPortal,this.useSso=t.useSso,this.selfHost=t.selfHost,this.usersGetPremium=t.usersGetPremium,this.seats=t.seats,this.maxCollections=t.maxCollections,this.maxStorageGb=t.maxStorageGb,this.ssoBound=t.ssoBound,this.identifier=t.identifier)}return ec()(e,[{key:"canAccess",get:function(){return this.type===$.Owner||this.enabled&&this.status===J.Confirmed}},{key:"isManager",get:function(){return this.type===$.Manager||this.type===$.Owner||this.type===$.Admin}},{key:"isAdmin",get:function(){return this.type===$.Owner||this.type===$.Admin}},{key:"isOwner",get:function(){return this.type===$.Owner}}]),e}(),oI=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oN="userId",oz="userEmail",oF="securityStamp",oL="kdfIterations",oB="organizations_",oU=function(){function e(t,n){ei()(this,e),this.tokenService=t,this.storageService=n}return ec()(e,[{key:"setInformation",value:function(e,t,n,r){return this.email=t,this.userId=e,this.kdf=n,this.kdfIterations=r,Promise.all([this.storageService.save(oz,t),this.storageService.save(oN,e),this.storageService.save("kdf",n),this.storageService.save(oL,r)])}},{key:"setSecurityStamp",value:function(e){return this.stamp=e,this.storageService.save(oF,e)}},{key:"getUserId",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.userId){e.next=4;break}return e.next=3,this.storageService.get(oN);case 3:this.userId=e.sent;case 4:return e.abrupt("return",this.userId);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getEmail",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.email){e.next=4;break}return e.next=3,this.storageService.get(oz);case 3:this.email=e.sent;case 4:return e.abrupt("return",this.email);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getSecurityStamp",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.stamp){e.next=4;break}return e.next=3,this.storageService.get(oF);case 3:this.stamp=e.sent;case 4:return e.abrupt("return",this.stamp);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getKdf",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.kdf){e.next=4;break}return e.next=3,this.storageService.get("kdf");case 3:this.kdf=e.sent;case 4:return e.abrupt("return",this.kdf);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getKdfIterations",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.kdfIterations){e.next=4;break}return e.next=3,this.storageService.get(oL);case 3:this.kdfIterations=e.sent;case 4:return e.abrupt("return",this.kdfIterations);case 5:case"end":return e.stop()}},e,this)}))}},{key:"clear",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserId();case 2:return t=e.sent,e.next=5,Promise.all([this.storageService.remove(oN),this.storageService.remove(oz),this.storageService.remove(oF),this.storageService.remove("kdf"),this.storageService.remove(oL),this.clearOrganizations(t)]);case 5:this.userId=this.email=this.stamp=null,this.kdf=null,this.kdfIterations=null;case 8:case"end":return e.stop()}},e,this)}))}},{key:"isAuthenticated",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tokenService.getToken();case 2:if(null!=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,this.getUserId();case 7:return t=e.sent,e.abrupt("return",null!=t);case 9:case"end":return e.stop()}},e,this)}))}},{key:"canAccessPremium",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isAuthenticated();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:if(!this.tokenService.getPremium()){e.next=8;break}return e.abrupt("return",!0);case 8:return e.next=10,this.getAllOrganizations();case 10:t=e.sent,n=0;case 12:if(!(n<t.length)){e.next=18;break}if(!(t[n].usersGetPremium&&t[n].enabled)){e.next=15;break}return e.abrupt("return",!0);case 15:n++,e.next=12;break;case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,this)}))}},{key:"getOrganization",value:function(e){return oI(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.get(oB+n);case 5:if(!(null==(r=t.sent)||!r.hasOwnProperty(e))){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",new oM(r[e]));case 9:case"end":return t.stop()}},t,this)}))}},{key:"getAllOrganizations",value:function(){return oI(this,void 0,void 0,ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserId();case 2:return t=e.sent,e.next=5,this.storageService.get(oB+t);case 5:for(a in n=e.sent,r=[],n)n.hasOwnProperty(a)&&r.push(new oM(n[a]));return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}))}},{key:"replaceOrganizations",value:function(e){return oI(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUserId();case 2:return n=t.sent,t.next=5,this.storageService.save(oB+n,e);case 5:case"end":return t.stop()}},t,this)}))}},{key:"clearOrganizations",value:function(e){return oI(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.remove(oB+e);case 2:case"end":return t.stop()}},t,this)}))}}]),e}(),oV=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oH=function(){function e(t,n,r,a,i,o,c,s,u,l){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null;ei()(this,e),this.cipherService=t,this.folderService=n,this.collectionService=r,this.cryptoService=a,this.platformUtilsService=i,this.storageService=o,this.messagingService=c,this.searchService=s,this.userService=u,this.tokenService=l,this.lockedCallback=d,this.loggedOutCallback=f,this.pinProtectedKey=null,this.biometricLocked=!0,this.inited=!1}return ec()(e,[{key:"init",value:function(e){var t=this;!this.inited&&(this.inited=!0,e&&(this.checkVaultTimeout(),setInterval(function(){return t.checkVaultTimeout()},1e4)))}},{key:"isLocked",value:function(){return oV(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.hasKey();case 2:if(!(t=e.sent)){e.next=11;break}return e.next=6,this.isBiometricLockSet();case 6:if(e.t0=e.sent,!e.t0){e.next=9;break}e.t0=this.biometricLocked;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!t);case 12:case"end":return e.stop()}},e,this)}))}},{key:"checkVaultTimeout",value:function(){return oV(this,void 0,void 0,ti().mark(function e(){var t,n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.platformUtilsService.isViewOpen();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.userService.isAuthenticated();case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.isLocked();case 11:if(!e.sent){e.next=13;break}return e.abrupt("return");case 13:if(null!=(t=this.platformUtilsService.lockTimeout())){e.next=18;break}return e.next=17,this.storageService.get(an.vaultTimeoutKey);case 17:t=e.sent;case 18:if(!(null==t||t<0)){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,this.storageService.get(an.lastActiveKey);case 22:if(null!=(n=e.sent)){e.next=25;break}return e.abrupt("return");case 25:if(r=60*t,!((new Date().getTime()-n)/1e3>=r)){e.next=38;break}return e.next=30,this.storageService.get(an.vaultTimeoutActionKey);case 30:if("logOut"!==e.sent){e.next=36;break}return e.next=34,this.logOut();case 34:e.next=38;break;case 36:return e.next=38,this.lock(!0);case 38:case"end":return e.stop()}},e,this)}))}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return oV(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userService.isAuthenticated();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:if(this.biometricLocked=!0,!e){t.next=16;break}return t.next=9,this.isBiometricLockSet();case 9:if(!(t.sent&&this.platformUtilsService.supportsSecureStorage())){t.next=16;break}if(this.messagingService.send("locked"),null==this.lockedCallback){t.next=15;break}return t.next=15,this.lockedCallback();case 15:return t.abrupt("return");case 16:return t.next=18,Promise.all([this.cryptoService.clearKey(),this.cryptoService.clearOrgKeys(!0),this.cryptoService.clearKeyPair(!0),this.cryptoService.clearEncKey(!0)]);case 18:if(this.folderService.clearCache(),this.cipherService.clearCache(),this.collectionService.clearCache(),this.searchService.clearIndex(),this.messagingService.send("locked"),null==this.lockedCallback){t.next=26;break}return t.next=26,this.lockedCallback();case 26:case"end":return t.stop()}},t,this)}))}},{key:"logOut",value:function(){return oV(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.loggedOutCallback){e.next=3;break}return e.next=3,this.loggedOutCallback();case 3:case"end":return e.stop()}},e,this)}))}},{key:"setVaultTimeoutOptions",value:function(e,t){return oV(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storageService.save(an.vaultTimeoutKey,e);case 2:return n.next=4,this.storageService.save(an.vaultTimeoutActionKey,t);case 4:return n.next=6,this.cryptoService.toggleKey();case 6:return n.next=8,this.tokenService.toggleTokens();case 8:case"end":return n.stop()}},n,this)}))}},{key:"isPinLockSet",value:function(){return oV(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(an.protectedPin);case 2:return t=e.sent,e.next=5,this.storageService.get(an.pinProtectedKey);case 5:return n=e.sent,e.abrupt("return",[null!=t,null!=n]);case 7:case"end":return e.stop()}},e,this)}))}},{key:"isBiometricLockSet",value:function(){return oV(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(an.biometricUnlockKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},{key:"clear",value:function(){return this.pinProtectedKey=null,this.storageService.remove(an.protectedPin)}}]),e}(),oq=n(43768),oW=ec()(function e(){ei()(this,e)}),oG=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},oZ=function(){function e(t,n){ei()(this,e),this.win=t,this.platformUtilsService=n,this.crypto=void 0!==t.crypto?t.crypto:null,this.subtle=this.crypto&&void 0!==t.crypto.subtle?t.crypto.subtle:null,this.isIE=n.isIE();var r=t.navigator.userAgent;this.isOldSafari=n.isSafari()&&(r.indexOf(" Version/10.")>-1||r.indexOf(" Version/9.")>-1)}return ec()(e,[{key:"pbkdf2",value:function(e,t,n,r){return oG(this,void 0,void 0,ti().mark(function a(){var i,o,c,s,u,l,d,f;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.isIE||this.isOldSafari)){a.next=6;break}return i="sha256"===n?32:64,o=this.toByteString(e),c=this.toByteString(t),s=oq.pbkdf2(o,c,r,i,n),a.abrupt("return",ns.fromByteStringToArray(s).buffer);case 6:return u="sha256"===n?256:512,l=this.toBuf(e),d={name:"PBKDF2",salt:this.toBuf(t),iterations:r,hash:{name:this.toWebCryptoAlgorithm(n)}},a.next=12,this.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveBits"]);case 12:return f=a.sent,a.next=15,this.subtle.deriveBits(d,f,u);case 15:return a.abrupt("return",a.sent);case 16:case"end":return a.stop()}},a,this)}))}},{key:"hkdf",value:function(e,t,n,r,a){return oG(this,void 0,void 0,ti().mark(function i(){var o,c;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o={name:"HKDF",salt:this.toBuf(t),info:this.toBuf(n),hash:{name:this.toWebCryptoAlgorithm(a)}},i.next=5,this.subtle.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"]);case 5:return c=i.sent,i.next=8,this.subtle.deriveBits(o,c,8*r);case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},i,this)}))}},{key:"hkdfExpand",value:function(e,t,n,r){return oG(this,void 0,void 0,ti().mark(function a(){var i,o,c,s,u,l,d,f;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(n>255*(i="sha256"===r?32:64))){a.next=3;break}throw Error("outputByteSize is too large.");case 3:if(!(new Uint8Array(e).length<i)){a.next=6;break}throw Error("prk is too small.");case 6:o=new Uint8Array(this.toBuf(t)),c=0,s=new Uint8Array(0),l=new Uint8Array((u=Math.ceil(n/i))*i),d=0;case 13:if(!(d<u)){a.next=30;break}return(f=new Uint8Array(s.length+o.length+1)).set(s),f.set(o,s.length),f.set([d+1],f.length-1),a.t0=Uint8Array,a.next=21,this.hmac(f.buffer,e,r);case 21:if(a.t1=a.sent,s=new a.t0(a.t1),l.set(s,c),!((c+=s.length)>=n)){a.next=27;break}return a.abrupt("break",30);case 27:d++,a.next=13;break;case 30:return a.abrupt("return",l.slice(0,n).buffer);case 31:case"end":return a.stop()}},a,this)}))}},{key:"hash",value:function(e,t){return oG(this,void 0,void 0,ti().mark(function n(){var r,a,i;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(this.isIE&&"sha1"===t||"md5"===t)){n.next=5;break}return r="md5"===t?oq.md.md5.create():oq.md.sha1.create(),a=this.toByteString(e),r.update(a,"raw"),n.abrupt("return",ns.fromByteStringToArray(r.digest().data).buffer);case 5:return i=this.toBuf(e),n.next=8,this.subtle.digest({name:this.toWebCryptoAlgorithm(t)},i);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n,this)}))}},{key:"hmac",value:function(e,t,n){return oG(this,void 0,void 0,ti().mark(function r(){var a,i,o,c,s;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.isIE&&"sha512"===n)){r.next=7;break}return a=oq.hmac.create(),i=this.toByteString(t),o=this.toByteString(e),a.start(n,i),a.update(o,"raw"),r.abrupt("return",ns.fromByteStringToArray(a.digest().data).buffer);case 7:return c={name:"HMAC",hash:{name:this.toWebCryptoAlgorithm(n)}},r.next=10,this.subtle.importKey("raw",t,c,!1,["sign"]);case 10:return s=r.sent,r.next=13,this.subtle.sign(c,s,e);case 13:return r.abrupt("return",r.sent);case 14:case"end":return r.stop()}},r,this)}))}},{key:"compare",value:function(e,t){return oG(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u,l;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.randomBytes(32);case 2:return r=n.sent,a={name:"HMAC",hash:{name:"SHA-256"}},n.next=6,this.subtle.importKey("raw",r,a,!1,["sign"]);case 6:return i=n.sent,n.next=9,this.subtle.sign(a,i,e);case 9:return o=n.sent,n.next=12,this.subtle.sign(a,i,t);case 12:if(c=n.sent,o.byteLength===c.byteLength){n.next=15;break}return n.abrupt("return",!1);case 15:s=new Uint8Array(o),u=new Uint8Array(c),l=0;case 18:if(!(l<u.length)){n.next=24;break}if(s[l]===u[l]){n.next=21;break}return n.abrupt("return",!1);case 21:l++,n.next=18;break;case 24:return n.abrupt("return",!0);case 25:case"end":return n.stop()}},n,this)}))}},{key:"hmacFast",value:function(e,t,n){var r=oq.hmac.create();return r.start(n,t),r.update(e),Promise.resolve(r.digest().getBytes())}},{key:"compareFast",value:function(e,t){return oG(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.randomBytes(32);case 2:for(i=0,r=new Uint32Array(n.sent),a=oq.util.createBuffer();i<r.length;i++)a.putInt32(r[i]);return o=a.getBytes(),(c=oq.hmac.create()).start("sha256",o),c.update(e),s=c.digest().getBytes(),c.start(null,null),c.update(t),u=s===c.digest().getBytes(),n.abrupt("return",u);case 16:case"end":return n.stop()}},n,this)}))}},{key:"aesEncrypt",value:function(e,t,n){return oG(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["encrypt"]);case 2:return a=r.sent,r.next=5,this.subtle.encrypt({name:"AES-CBC",iv:t},a,e);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r,this)}))}},{key:"aesDecryptFastParameters",value:function(e,t,n,r){var a=new oW;return null!=r.meta&&(a.encKey=r.meta.encKeyByteString,a.macKey=r.meta.macKeyByteString),null==a.encKey&&(a.encKey=oq.util.decode64(r.encKeyB64)),a.data=oq.util.decode64(e),a.iv=oq.util.decode64(t),a.macData=a.iv+a.data,null==a.macKey&&null!=r.macKeyB64&&(a.macKey=oq.util.decode64(r.macKeyB64)),null!=n&&(a.mac=oq.util.decode64(n)),null==r.meta&&(r.meta={}),null==r.meta.encKeyByteString&&(r.meta.encKeyByteString=a.encKey),null!=a.macKey&&null==r.meta.macKeyByteString&&(r.meta.macKeyByteString=a.macKey),a}},{key:"aesDecryptFast",value:function(e){var t=oq.util.createBuffer(e.data),n=oq.cipher.createDecipher("AES-CBC",e.encKey);return n.start({iv:e.iv}),n.update(t),n.finish(),Promise.resolve(n.output.toString("utf8"))}},{key:"aesDecrypt",value:function(e,t,n){return oG(this,void 0,void 0,ti().mark(function r(){var a;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"]);case 2:return a=r.sent,r.next=5,this.subtle.decrypt({name:"AES-CBC",iv:t},a,e);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r,this)}))}},{key:"rsaEncrypt",value:function(e,t,n){return oG(this,void 0,void 0,ti().mark(function r(){var a,i;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={name:"RSA-OAEP",hash:{name:this.toWebCryptoAlgorithm(n)}},r.next=3,this.subtle.importKey("spki",t,a,!1,["encrypt"]);case 3:return i=r.sent,r.next=6,this.subtle.encrypt(a,i,e);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r,this)}))}},{key:"rsaDecrypt",value:function(e,t,n){return oG(this,void 0,void 0,ti().mark(function r(){var a,i;return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={name:"RSA-OAEP",hash:{name:this.toWebCryptoAlgorithm(n)}},r.next=3,this.subtle.importKey("pkcs8",t,a,!1,["decrypt"]);case 3:return i=r.sent,r.next=6,this.subtle.decrypt(a,i,e);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r,this)}))}},{key:"rsaExtractPublicKey",value:function(e){return oG(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={name:"RSA-OAEP",hash:{name:this.toWebCryptoAlgorithm("sha1")}},t.next=3,this.subtle.importKey("pkcs8",e,n,!0,["decrypt"]);case 3:return r=t.sent,t.next=6,this.subtle.exportKey("jwk",r);case 6:return i={kty:"RSA",e:(a=t.sent).e,n:a.n,alg:"RSA-OAEP",ext:!0},t.next=10,this.subtle.importKey("jwk",i,n,!0,["encrypt"]);case 10:return o=t.sent,t.next=13,this.subtle.exportKey("spki",o);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}},t,this)}))}},{key:"rsaGenerateKeyPair",value:function(e){return oG(this,void 0,void 0,ti().mark(function t(){var n,r,a,i;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={name:"RSA-OAEP",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:this.toWebCryptoAlgorithm("sha1")}},t.next=3,this.subtle.generateKey(n,!0,["encrypt","decrypt"]);case 3:return r=t.sent,t.next=6,this.subtle.exportKey("spki",r.publicKey);case 6:return a=t.sent,t.next=9,this.subtle.exportKey("pkcs8",r.privateKey);case 9:return i=t.sent,t.abrupt("return",[a,i]);case 11:case"end":return t.stop()}},t,this)}))}},{key:"randomBytes",value:function(e){var t=new Uint8Array(e);return this.crypto.getRandomValues(t),Promise.resolve(t.buffer)}},{key:"toBuf",value:function(e){return"string"==typeof e?ns.fromUtf8ToArray(e).buffer:e}},{key:"toByteString",value:function(e){return"string"==typeof e?oq.util.encodeUtf8(e):ns.fromBufferToByteString(e)}},{key:"toWebCryptoAlgorithm",value:function(e){if("md5"===e)throw Error("MD5 is not supported in WebCrypto.");return"sha1"===e?"SHA-1":"sha256"===e?"SHA-256":"SHA-512"}}]),e}();(_=X||(X={}))[_.PBKDF2_SHA256=0]="PBKDF2_SHA256";var oK=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r)}(function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r)}(ec()(function e(){ei()(this,e)}))),oQ=function(e){ed()(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(a);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function a(e,t){var n;return ei()(this,a),(n=r.call(this)).i18nService=e,n.messagingService=t,n}return ec()(a,[{key:"analyticsId",value:function(){return console.warn("No analytics, please fix the caller"),""}},{key:"isViewOpen",value:function(){return!1}},{key:"lockTimeout",value:function(){return null}},{key:"launchUri",value:function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noreferrer noopener",t.classList.add("d-none"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"saveFile",value:function(e,t,n,r){var a=null,i=null,o=r.toLowerCase(),c=!0;if(o.endsWith(".pdf")?(i="application/pdf",c=!1):o.endsWith(".xlsx")?i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":o.endsWith(".docx")?i="application/vnd.openxmlformats-officedocument.wordprocessingml.document":o.endsWith(".pptx")?i="application/vnd.openxmlformats-officedocument.presentationml.presentation":o.endsWith(".csv")?i="text/csv":o.endsWith(".png")?i="image/png":o.endsWith(".jpg")||o.endsWith(".jpeg")?i="image/jpeg":o.endsWith(".gif")&&(i="image/gif"),null!=i&&null==(n=n||{}).type&&(n.type=i),a=null==n||this.isIE()?new Blob([t]):new Blob([t],n),navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,r);else{var s=e.document.createElement("a");c?s.download=r:s.target="_blank",s.href=e.URL.createObjectURL(a),s.style.position="fixed",e.document.body.appendChild(s),s.click(),e.document.body.removeChild(s)}}},{key:"getApplicationVersion",value:function(){return"7.1.0"}},{key:"supportsU2f",value:function(e){return null!=e&&null!=e.u2f||this.isChrome()||(this.isOpera()||this.isVivaldi())&&!ns.isMobileBrowser}},{key:"supportsDuo",value:function(){return!0}},{key:"showToast",value:function(e,t,n,r){this.messagingService.send("showToast",{text:n,title:t,type:e,options:r})}},{key:"showDialog",value:(n=tr()(ti().mark(function e(t,n,r,a,i){var o,c,s,u,l,d;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[null==r?this.i18nService.t("ok"):r],null!=a&&o.unshift(a),c=document.createElement("div"),null==i){e.next=19;break}(s=document.createElement("i")).classList.add("swal-custom-icon"),e.t0=i,e.next="success"===e.t0?9:"warning"===e.t0?11:"error"===e.t0?13:"info"===e.t0?15:17;break;case 9:return s.classList.add("fa","fa-check","text-success"),e.abrupt("break",18);case 11:return s.classList.add("fa","fa-warning","text-warning"),e.abrupt("break",18);case 13:return s.classList.add("fa","fa-bolt","text-danger"),e.abrupt("break",18);case 15:return s.classList.add("fa","fa-info-circle","text-info"),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:s.classList.contains("fa")&&c.appendChild(s);case 19:if(null!=n&&((u=document.createElement("div")).classList.add("swal-title"),u.appendChild(document.createTextNode(n)),c.appendChild(u)),null!=t&&((l=document.createElement("div")).classList.add("swal-text"),l.appendChild(document.createTextNode(t)),c.appendChild(l)),!(o.length>1)){e.next=27;break}return e.next=24,i0({content:{element:c},buttons:o});case 24:e.t1=e.sent,e.next=30;break;case 27:return e.next=29,i0({content:{element:c},button:o[0]});case 29:e.t1=e.sent;case 30:return d=e.t1,e.abrupt("return",d);case 32:case"end":return e.stop()}},e,this)})),function(e,t,r,a,i){return n.apply(this,arguments)})},{key:"eventTrack",value:function(e,t,n){this.messagingService.send("analyticsEventTrack",{action:e,label:t,options:n})}},{key:"isDev",value:function(){var e="production";return e&&e.match(/\bdevelopment\b/)}},{key:"isSelfHost",value:function(){return!0}},{key:"copyToClipboard",value:function(e,t){var n=window,r=window.document;if(t&&(t.window||t.win)?r=(n=t.window||t.win).document:t&&t.doc&&(r=t.doc),n.clipboardData&&n.clipboardData.setData)n.clipboardData.setData("Text",e);else if(r.queryCommandSupported&&r.queryCommandSupported("copy")){var a=r.createElement("textarea");a.textContent=e,a.style.position="fixed";var i=r.body;this.isFirefox()&&r.body.classList.contains("modal-open")&&(i=r.body.querySelector<HTMLElement>".modal"),i.appendChild(a),a.select();try{r.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{i.removeChild(a)}}}},{key:"readFromClipboard",value:function(e){throw Error("Cannot read from clipboard on web.")}}]),a}(function(){function e(){ei()(this,e),this.identityClientId="web",this.browserCache=null}return ec()(e,[{key:"getDevice",value:function(){return null!=this.browserCache||(-1!==navigator.userAgent.indexOf(" Firefox/")||-1!==navigator.userAgent.indexOf(" Gecko/")?this.browserCache=U.FirefoxBrowser:navigator.userAgent.indexOf(" OPR/")>=0?this.browserCache=U.OperaBrowser:-1!==navigator.userAgent.indexOf(" Edge/")?this.browserCache=U.EdgeBrowser:-1!==navigator.userAgent.indexOf(" Vivaldi/")?this.browserCache=U.VivaldiBrowser:-1!==navigator.userAgent.indexOf(" Safari/")&&-1===navigator.userAgent.indexOf("Chrome")?this.browserCache=U.SafariBrowser:window.chrome&&-1!==navigator.userAgent.indexOf(" Chrome/")?this.browserCache=U.ChromeBrowser:-1!==navigator.userAgent.indexOf(" Trident/")?this.browserCache=U.IEBrowser:this.browserCache=U.UnknownBrowser),this.browserCache}},{key:"getDeviceString",value:function(){return U[this.getDevice()].toLowerCase().replace("browser","")}},{key:"isFirefox",value:function(){return this.getDevice()===U.FirefoxBrowser}},{key:"isChrome",value:function(){return this.getDevice()===U.ChromeBrowser}},{key:"isEdge",value:function(){return this.getDevice()===U.EdgeBrowser}},{key:"isOpera",value:function(){return this.getDevice()===U.OperaBrowser}},{key:"isVivaldi",value:function(){return this.getDevice()===U.VivaldiBrowser}},{key:"isSafari",value:function(){return this.getDevice()===U.SafariBrowser}},{key:"isIE",value:function(){return this.getDevice()===U.IEBrowser}},{key:"isMacAppStore",value:function(){return!1}},{key:"isDev",value:function(){var e="production";return e&&e.match(/\bdevelopment\b/)}},{key:"isSelfHost",value:function(){return!0}}]),e}());function oY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oJ=function(){var e;function t(e){ei()(this,t),er()(this,"localStorageKeys",new Set(["appId","anonymousAppId","rememberedEmail","passwordGenerationOptions",an.disableFaviconKey,an.lockOptionKey,"rememberEmail","enableGravatars",an.localeKey,an.lockOptionKey,an.autoConfirmFingerprints])),er()(this,"localStorageStartsWithKeys",["twoFactorToken_",an.collapsedGroupingsKey+"_"]),this.platformUtilsService=e}return ec()(t,[{key:"init",value:(e=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(an.lockOptionKey);case 2:if(!(null==e.sent&&!this.platformUtilsService.isDev())){e.next=6;break}return e.next=6,this.save(an.lockOptionKey,15);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=null;return null!=(t=this.isLocalStorage(e)?window.localStorage.getItem(e):window.sessionStorage.getItem(e))?Promise.resolve(JSON.parse(t)):Promise.resolve(null)}},{key:"save",value:function(e,t){if(null==t)return this.remove(e);var n=JSON.stringify(t);return this.isLocalStorage(e)?window.localStorage.setItem(e,n):window.sessionStorage.setItem(e,n),Promise.resolve()}},{key:"remove",value:function(e){return this.isLocalStorage(e)?window.localStorage.removeItem(e):window.sessionStorage.removeItem(e),Promise.resolve()}},{key:"isLocalStorage",value:function(e){if(this.localStorageKeys.has(e))return!0;var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oY(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oY(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(this.localStorageStartsWithKeys);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.startsWith(r))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}}]),t}(),o$=function(){function e(){ei()(this,e),this.store=new Map}return ec()(e,[{key:"get",value:function(e){return this.store.has(e)?Promise.resolve(this.store.get(e)):Promise.resolve(null)}},{key:"save",value:function(e,t){return null==t?this.remove(e):(this.store.set(e,t),Promise.resolve())}},{key:"remove",value:function(e){return this.store.delete(e),Promise.resolve()}}]),e}(),oX=n(92096),o0=ec()(function e(){ei()(this,e)}),o1=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},o2=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o3=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,c)}s((r=r.apply(e,t||[])).next())})},o4="encOrgKeys",o6="encPrivateKey",o5="encKey",o7="keyHash",o8=function(){function e(t,n,r,a){ei()(this,e),this.storageService=t,this.secureStorageService=n,this.cryptoFunctionService=r,this.platformUtilService=a}return ec()(e,[{key:"setKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.key=e,t.next=3,this.storageService.get(an.vaultTimeoutKey);case 3:return n=t.sent,t.next=6,this.storageService.get(an.biometricUnlockKey);case 6:if(r=t.sent,!(null!=n&&!(r&&this.platformUtilService.supportsSecureStorage()))){t.next=9;break}return t.abrupt("return");case 9:return t.abrupt("return",this.secureStorageService.save("key",e.keyB64));case 10:case"end":return t.stop()}},t,this)}))}},{key:"setKeyHash",value:function(e){return this.keyHash=e,this.storageService.save(o7,e)}},{key:"setEncKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.storageService.save(o5,e);case 4:this.encKey=null;case 5:case"end":return t.stop()}},t,this)}))}},{key:"setEncPrivateKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.storageService.save(o6,e);case 4:this.privateKey=null;case 5:case"end":return t.stop()}},t,this)}))}},{key:"setOrgKeys",value:function(e){var t={};return e.forEach(function(e){t[e.id]=e.key}),this.orgKeys=null,this.storageService.save(o4,t)}},{key:"getKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.key){e.next=2;break}return e.abrupt("return",this.key);case 2:return e.next=4,this.secureStorageService.get("key");case 4:return null!=(t=e.sent)&&(this.key=new rI(ns.fromB64ToArray(t).buffer)),e.abrupt("return",null==t?null:this.key);case 7:case"end":return e.stop()}},e,this)}))}},{key:"getKeyHash",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.keyHash){e.next=2;break}return e.abrupt("return",this.keyHash);case 2:return e.next=4,this.storageService.get(o7);case 4:return null!=(t=e.sent)&&(this.keyHash=t),e.abrupt("return",null==t?null:this.keyHash);case 7:case"end":return e.stop()}},e,this)}))}},{key:"getEncKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o3(this,void 0,void 0,ti().mark(function t(){var n,r,a,i;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.encKey){t.next=2;break}return t.abrupt("return",this.encKey);case 2:return t.next=4,this.storageService.get(o5);case 4:if(null!=(n=t.sent)){t.next=7;break}return t.abrupt("return",null);case 7:if(null!=e){t.next=11;break}return t.next=10,this.getKey();case 10:e=t.sent;case 11:if(null!=e){t.next=13;break}return t.abrupt("return",null);case 13:if((a=new rj(n)).encryptionType!==Z.AesCbc256_B64){t.next=20;break}return t.next=17,this.decryptToBytes(a,e);case 17:case 26:r=t.sent,t.next=30;break;case 20:if(a.encryptionType!==Z.AesCbc256_HmacSha256_B64){t.next=29;break}return t.next=23,this.stretchKey(e);case 23:return i=t.sent,t.next=26,this.decryptToBytes(a,i);case 29:throw Error("Unsupported encKey type.");case 30:if(null!=r){t.next=32;break}return t.abrupt("return",null);case 32:return this.encKey=new rI(r),t.abrupt("return",this.encKey);case 34:case"end":return t.stop()}},t,this)}))}},{key:"getPublicKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.publicKey){e.next=2;break}return e.abrupt("return",this.publicKey);case 2:return e.next=4,this.getPrivateKey();case 4:if(null!=(t=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.cryptoFunctionService.rsaExtractPublicKey(t);case 9:return this.publicKey=e.sent,e.abrupt("return",this.publicKey);case 11:case"end":return e.stop()}},e,this)}))}},{key:"getPrivateKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.privateKey){e.next=2;break}return e.abrupt("return",this.privateKey);case 2:return e.next=4,this.storageService.get(o6);case 4:if(null!=(t=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.decryptToBytes(new rj(t),null);case 9:return this.privateKey=e.sent,e.abrupt("return",this.privateKey);case 11:case"end":return e.stop()}},e,this)}))}},{key:"getFingerprint",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=4;break}return n.next=3,this.getPublicKey();case 3:t=n.sent;case 4:if(null!==t){n.next=6;break}throw Error("No public key available.");case 6:return n.next=8,this.cryptoFunctionService.hash(t,"sha256");case 8:return r=n.sent,n.next=11,this.cryptoFunctionService.hkdfExpand(r,e,32,"sha256");case 11:return a=n.sent,n.abrupt("return",this.hashPhrase(a));case 13:case"end":return n.stop()}},n,this)}))}},{key:"getOrgKeys",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t,n,r,a,i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=this.orgKeys&&this.orgKeys.size>0)){e.next=2;break}return e.abrupt("return",this.orgKeys);case 2:return e.next=4,this.storageService.get(o4);case 4:if(null!=(t=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=new Map,r=!1,e.t0=ti().keys(t);case 10:if((e.t1=e.t0()).done){e.next=21;break}if(a=e.t1.value,t.hasOwnProperty(a)){e.next=14;break}return e.abrupt("continue",10);case 14:return e.next=16,this.rsaDecrypt(t[a]);case 16:i=e.sent,n.set(a,new rI(i)),r=!0,e.next=10;break;case 21:return r&&(this.orgKeys=n),e.abrupt("return",this.orgKeys);case 23:case"end":return e.stop()}},e,this)}))}},{key:"getOrgKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.getOrgKeys();case 4:if(!(null==(n=t.sent)||!n.has(e))){t.next=7;break}return t.abrupt("return",null);case 7:return t.abrupt("return",n.get(e));case 8:case"end":return t.stop()}},t,this)}))}},{key:"hasKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey();case 2:return e.t0=e.sent,e.abrupt("return",null!=e.t0);case 4:case"end":return e.stop()}},e,this)}))}},{key:"hasEncKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.get(o5);case 2:return t=e.sent,e.abrupt("return",null!=t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"clearKey",value:function(){return this.key=this.legacyEtmKey=null,this.secureStorageService.remove("key")}},{key:"clearKeyHash",value:function(){return this.keyHash=null,this.storageService.remove(o7)}},{key:"clearEncKey",value:function(e){return(this.encKey=null,e)?Promise.resolve():this.storageService.remove(o5)}},{key:"clearKeyPair",value:function(e){return(this.privateKey=null,this.publicKey=null,e)?Promise.resolve():this.storageService.remove(o6)}},{key:"clearOrgKeys",value:function(e){return(this.orgKeys=null,e)?Promise.resolve():this.storageService.remove(o4)}},{key:"clearPinProtectedKey",value:function(){return this.storageService.remove(an.pinProtectedKey)}},{key:"clearKeys",value:function(){return Promise.all([this.clearKey(),this.clearKeyHash(),this.clearOrgKeys(),this.clearEncKey(),this.clearKeyPair(),this.clearPinProtectedKey()])}},{key:"toggleKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey();case 2:return t=e.sent,e.next=5,this.storageService.get(an.vaultTimeoutKey);case 5:return n=e.sent,e.next=8,this.storageService.get(an.biometricUnlockKey);case 8:if(!(!e.sent&&this.platformUtilService.supportsSecureStorage()&&(null!=n||0===n))){e.next=14;break}return e.next=12,this.clearKey();case 12:return this.key=t,e.abrupt("return");case 14:return e.next=16,this.setKey(t);case 16:case"end":return e.stop()}},e,this)}))}},{key:"makeKey",value:function(e,t,n,r){return o3(this,void 0,void 0,ti().mark(function a(){var i;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=null,null!=n&&n!==X.PBKDF2_SHA256){a.next=13;break}if(null!=r){a.next=6;break}r=5e3,a.next=8;break;case 6:if(!(r<5e3)){a.next=8;break}throw Error("PBKDF2 iteration minimum is 5000.");case 8:return a.next=10,this.cryptoFunctionService.pbkdf2(e,t,"sha256",r);case 10:i=a.sent,a.next=14;break;case 13:throw Error("Unknown Kdf.");case 14:return a.abrupt("return",new rI(i));case 15:case"end":return a.stop()}},a,this)}))}},{key:"makeKeyFromPin",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return o3(this,void 0,void 0,ti().mark(function i(){var o,c,s;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=a){i.next=7;break}return i.next=3,this.storageService.get(an.pinProtectedKey);case 3:if(null!=(o=i.sent)){i.next=6;break}throw Error("No PIN protected key found.");case 6:a=new rj(o);case 7:return i.next=9,this.makePinKey(e,t,n,r);case 9:return c=i.sent,i.next=12,this.decryptToBytes(a,c);case 12:return s=i.sent,i.abrupt("return",new rI(s));case 14:case"end":return i.stop()}},i,this)}))}},{key:"makeShareKey",value:function(){return o3(this,void 0,void 0,ti().mark(function e(){var t,n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoFunctionService.randomBytes(64);case 2:return t=e.sent,e.next=5,this.getPublicKey();case 5:return n=e.sent,e.next=8,this.rsaEncrypt(t,n);case 8:return r=e.sent,e.abrupt("return",[r,new rI(t)]);case 10:case"end":return e.stop()}},e,this)}))}},{key:"makeKeyPair",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cryptoFunctionService.rsaGenerateKeyPair(2048);case 2:return n=t.sent,r=ns.fromBufferToB64(n[0]),t.next=6,this.encrypt(n[1],e);case 6:return a=t.sent,t.abrupt("return",[r,a]);case 8:case"end":return t.stop()}},t,this)}))}},{key:"makePinKey",value:function(e,t,n,r){return o3(this,void 0,void 0,ti().mark(function a(){var i;return ti().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.makeKey(e,t,n,r);case 2:return i=a.sent,a.next=5,this.stretchKey(i);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}},a,this)}))}},{key:"makeSendKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cryptoFunctionService.hkdf(e,"bitwarden-send","send",64,"sha256");case 2:return n=t.sent,t.abrupt("return",new rI(n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"hashPassword",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=4;break}return n.next=3,this.getKey();case 3:t=n.sent;case 4:if(null!=e&&null!=t){n.next=6;break}throw Error("Invalid parameters.");case 6:return n.next=8,this.cryptoFunctionService.pbkdf2(t.key,e,"sha256",1);case 8:return r=n.sent,n.abrupt("return",ns.fromBufferToB64(r));case 10:case"end":return n.stop()}},n,this)}))}},{key:"makeEncKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n,r;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getKeyForEncryption(e);case 2:return n=t.sent,t.next=5,this.cryptoFunctionService.randomBytes(64);case 5:return r=t.sent,t.abrupt("return",this.buildEncKey(n,r));case 7:case"end":return t.stop()}},t,this)}))}},{key:"remakeEncKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEncKey();case 2:return n=t.sent,t.abrupt("return",this.buildEncKey(e,n.key));case 4:case"end":return t.stop()}},t,this)}))}},{key:"encrypt",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return",Promise.resolve(null));case 2:return r="string"==typeof e?ns.fromUtf8ToArray(e).buffer:e,n.next=5,this.aesEncrypt(r,t);case 5:return a=n.sent,i=ns.fromBufferToB64(a.iv),o=ns.fromBufferToB64(a.data),c=null!=a.mac?ns.fromBufferToB64(a.mac):null,n.abrupt("return",new rj(a.key.encType,o,i,c));case 10:case"end":return n.stop()}},n,this)}))}},{key:"encryptToBytes",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.aesEncrypt(e,t);case 2:return r=n.sent,a=0,null!=r.mac&&(a=r.mac.byteLength),(i=new Uint8Array(1+r.iv.byteLength+a+r.data.byteLength)).set([r.key.encType]),i.set(new Uint8Array(r.iv),1),null!=r.mac&&i.set(new Uint8Array(r.mac),1+r.iv.byteLength),i.set(new Uint8Array(r.data),1+r.iv.byteLength+a),n.abrupt("return",i.buffer);case 11:case"end":return n.stop()}},n,this)}))}},{key:"rsaEncrypt",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=4;break}return n.next=3,this.getPublicKey();case 3:t=n.sent;case 4:if(null!=t){n.next=6;break}throw Error("Public key unavailable.");case 6:return n.next=8,this.cryptoFunctionService.rsaEncrypt(e,t,"sha1");case 8:return r=n.sent,n.abrupt("return",new rj(Z.Rsa2048_OaepSha1_B64,ns.fromBufferToB64(r)));case 10:case"end":return n.stop()}},n,this)}))}},{key:"decryptToBytes",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i,o;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=ns.fromB64ToArray(e.iv).buffer,a=ns.fromB64ToArray(e.data).buffer,i=e.mac?ns.fromB64ToArray(e.mac).buffer:null,n.next=5,this.aesDecryptToBytes(e.encryptionType,a,r,i,t);case 5:if(null!=(o=n.sent)){n.next=8;break}return n.abrupt("return",null);case 8:return n.abrupt("return",o);case 9:case"end":return n.stop()}},n,this)}))}},{key:"decryptToUtf8",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.aesDecryptToUtf8(e.encryptionType,e.data,e.iv,e.mac,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}},{key:"decryptFromBytes",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}throw Error("no encBuf.");case 2:a=(r=new Uint8Array(e))[0],i=null,o=null,c=null,n.t0=a,n.next=n.t0===Z.AesCbc128_HmacSha256_B64||n.t0===Z.AesCbc256_HmacSha256_B64?10:n.t0===Z.AesCbc256_B64?16:21;break;case 10:if(!(r.length<=49)){n.next=12;break}return n.abrupt("return",null);case 12:return o=r.slice(1,17),c=r.slice(17,49),i=r.slice(49),n.abrupt("break",22);case 16:if(!(r.length<=17)){n.next=18;break}return n.abrupt("return",null);case 18:return o=r.slice(1,17),i=r.slice(17),n.abrupt("break",22);case 21:return n.abrupt("return",null);case 22:return n.next=24,this.aesDecryptToBytes(a,i.buffer,o.buffer,null!=c?c.buffer:null,t);case 24:return n.abrupt("return",n.sent);case 25:case"end":return n.stop()}},n,this)}))}},{key:"randomNumber",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u,l;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=0,!((i=Math.ceil(Math.log2(a=t-e+1)))>53)){n.next=5;break}throw Error("We cannot generate numbers larger than 53 bits.");case 5:return o=Math.ceil(i/8),c=Math.pow(2,i)-1,n.t0=Uint8Array,n.next=10,this.cryptoFunctionService.randomBytes(o);case 10:for(l=0,n.t1=n.sent,s=new n.t0(n.t1),u=(o-1)*8;l<o;l++)r+=s[l]*Math.pow(2,u),u-=8;if(!((r&=c)>=a)){n.next=17;break}return n.abrupt("return",this.randomNumber(e,t));case 17:return n.abrupt("return",e+r);case 18:case"end":return n.stop()}},n,this)}))}},{key:"aesEncrypt",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new o0,n.next=3,this.getKeyForEncryption(t);case 3:return r.key=n.sent,n.next=6,this.cryptoFunctionService.randomBytes(16);case 6:return r.iv=n.sent,n.next=9,this.cryptoFunctionService.aesEncrypt(e,r.iv,r.key.encKey);case 9:if(r.data=n.sent,null==r.key.macKey){n.next=17;break}return(a=new Uint8Array(r.iv.byteLength+r.data.byteLength)).set(new Uint8Array(r.iv),0),a.set(new Uint8Array(r.data),r.iv.byteLength),n.next=16,this.cryptoFunctionService.hmac(a.buffer,r.key.macKey,"sha256");case 16:r.mac=n.sent;case 17:return n.abrupt("return",r);case 18:case"end":return n.stop()}},n,this)}))}},{key:"aesDecryptToUtf8",value:function(e,t,n,r,a){return o3(this,void 0,void 0,ti().mark(function i(){var o,c,s,u;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getKeyForEncryption(a);case 2:if(o=i.sent,null==(c=this.resolveLegacyKey(e,o)).macKey||null!=r){i.next=7;break}return console.error("mac required."),i.abrupt("return",null);case 7:if(c.encType===e){i.next=10;break}return console.error("encType unavailable."),i.abrupt("return",null);case 10:if(null==(s=this.cryptoFunctionService.aesDecryptFastParameters(t,n,r,c)).macKey||null==s.mac){i.next=21;break}return i.next=14,this.cryptoFunctionService.hmacFast(s.macData,s.macKey,"sha256");case 14:return u=i.sent,i.next=17,this.cryptoFunctionService.compareFast(s.mac,u);case 17:if(i.sent){i.next=21;break}return console.error("mac failed."),i.abrupt("return",null);case 21:return i.abrupt("return",this.cryptoFunctionService.aesDecryptFast(s));case 22:case"end":return i.stop()}},i,this)}))}},{key:"aesDecryptToBytes",value:function(e,t,n,r,a){return o3(this,void 0,void 0,ti().mark(function i(){var o,c,s,u;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getKeyForEncryption(a);case 2:if(o=i.sent,null==(c=this.resolveLegacyKey(e,o)).macKey||null!=r){i.next=6;break}return i.abrupt("return",null);case 6:if(c.encType===e){i.next=8;break}return i.abrupt("return",null);case 8:if(null==c.macKey||null==r){i.next=23;break}return(s=new Uint8Array(n.byteLength+t.byteLength)).set(new Uint8Array(n),0),s.set(new Uint8Array(t),n.byteLength),i.next=14,this.cryptoFunctionService.hmac(s.buffer,c.macKey,"sha256");case 14:if(null!==(u=i.sent)){i.next=17;break}return i.abrupt("return",null);case 17:return i.next=19,this.cryptoFunctionService.compare(r,u);case 19:if(i.sent){i.next=23;break}return console.error("mac failed."),i.abrupt("return",null);case 23:return i.next=25,this.cryptoFunctionService.aesDecrypt(t,n,c.encKey);case 25:return i.abrupt("return",i.sent);case 26:case"end":return i.stop()}},i,this)}))}},{key:"rsaDecrypt",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n,r,a,i,o,c;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.split("."),r=null,1===n.length)r=Z.Rsa2048_OaepSha256_B64,a=[n[0]];else if(2===n.length)try{r=parseInt(n[0],null),a=n[1].split("|")}catch(e){}t.t0=r,t.next=t.t0===Z.Rsa2048_OaepSha256_B64||t.t0===Z.Rsa2048_OaepSha1_B64||t.t0===Z.Rsa2048_OaepSha256_HmacSha256_B64||t.t0===Z.Rsa2048_OaepSha1_HmacSha256_B64?6:7;break;case 6:return t.abrupt("break",8);case 7:case 23:throw Error("encType unavailable.");case 8:if(!(null==a||a.length<=0)){t.next=10;break}throw Error("encPieces unavailable.");case 10:return i=ns.fromB64ToArray(a[0]).buffer,t.next=13,this.getPrivateKey();case 13:if(null!=(o=t.sent)){t.next=16;break}throw Error("No private key.");case 16:c="sha1",t.t1=r,t.next=t.t1===Z.Rsa2048_OaepSha256_B64||t.t1===Z.Rsa2048_OaepSha256_HmacSha256_B64?20:t.t1===Z.Rsa2048_OaepSha1_B64||t.t1===Z.Rsa2048_OaepSha1_HmacSha256_B64?22:23;break;case 20:return c="sha256",t.abrupt("break",24);case 22:return t.abrupt("break",24);case 24:return t.abrupt("return",this.cryptoFunctionService.rsaDecrypt(i,o,c));case 25:case"end":return t.stop()}},t,this)}))}},{key:"getKeyForEncryption",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,this.getEncKey();case 4:if(null==(n=t.sent)){t.next=7;break}return t.abrupt("return",n);case 7:return t.next=9,this.getKey();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}))}},{key:"resolveLegacyKey",value:function(e,t){return e===Z.AesCbc128_HmacSha256_B64&&t.encType===Z.AesCbc256_B64?(null==this.legacyEtmKey&&(this.legacyEtmKey=new rI(t.key,Z.AesCbc128_HmacSha256_B64)),this.legacyEtmKey):t}},{key:"stretchKey",value:function(e){return o3(this,void 0,void 0,ti().mark(function t(){var n,r,a;return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Uint8Array(64),t.next=3,this.cryptoFunctionService.hkdfExpand(e.key,"enc",32,"sha256");case 3:return r=t.sent,t.next=6,this.cryptoFunctionService.hkdfExpand(e.key,"mac",32,"sha256");case 6:return a=t.sent,n.set(new Uint8Array(r)),n.set(new Uint8Array(a),32),t.abrupt("return",new rI(n.buffer));case 10:case"end":return t.stop()}},t,this)}))}},{key:"hashPhrase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;return o3(this,void 0,void 0,ti().mark(function n(){var r,a,i,o,c,s,u;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Math.ceil(t/(r=Math.log(iX.length)/Math.log(2))),o=4*(i=Array.from(new Uint8Array(e))).length,!(a*r>o)){n.next=6;break}throw Error("Output entropy of hash function is too small");case 6:for(c=[],s=oX.fromArray(i,256);a--;)u=s.mod(iX.length),s=s.divide(iX.length),c.push(iX[u]);return n.abrupt("return",c);case 10:case"end":return n.stop()}},n)}))}},{key:"buildEncKey",value:function(e,t){return o3(this,void 0,void 0,ti().mark(function n(){var r,a;return ti().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null,32!==e.key.byteLength){n.next=10;break}return n.next=4,this.stretchKey(e);case 4:return a=n.sent,n.next=7,this.encrypt(t,a);case 7:case 13:r=n.sent,n.next=17;break;case 10:if(64!==e.key.byteLength){n.next=16;break}return n.next=13,this.encrypt(t,e);case 16:throw Error("Invalid key size.");case 17:return n.abrupt("return",[new rI(t),r]);case 18:case"end":return n.stop()}},n,this)}))}}]),e}();o1([ar(function(){return"getEncKey"}),o2("design:type",Function),o2("design:paramtypes",[rI]),o2("design:returntype",Promise)],o8.prototype,"getEncKey",null),o1([ar(function(){return"getOrgKeys"}),o2("design:type",Function),o2("design:paramtypes",[]),o2("design:returntype",Promise)],o8.prototype,"getOrgKeys",null);var o9=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e,t,a,i){return ei()(this,r),n.call(this,e,t,a,i)}return ec()(r,[{key:"setOrgKeys",value:function(e){var t=e.filter(function(e){return""!==e.key});return aQ()(em()(r.prototype),"setOrgKeys",this).call(this,t)}}]),r}(o8),ce="io.cozy.settings";function ct(e){return e.match("@")}var cn=(E=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getStackClient().fetchJSON("GET","/data/".concat(ce,"/_normal_docs"));case 3:return n=e.sent.rows.filter(function(e){return"io.cozy.settings.bitwarden"===e._id}),r=ty()(n,1)[0],e.abrupt("return",r&&!!r.extension_installed);case 9:return(e.prev=9,e.t0=e.catch(0),e.t0.message.match(/code=403/))?console.error("Your app must have the GET permission on the ".concat(ce," doctype.")):console.error(e.t0.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return E.apply(this,arguments)}),cr=n(47285),ca=n.n(cr),ci="undefined"!=typeof window&&window.minilog?window.minilog:ca(),co=ci("cozy-keys");function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cl(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cl(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}ci.suggest.allow("cozy-keys","log"),ci.suggest.allow("cozy-keys","info"),ns.init();var cd=function(){var e,t,n,r,a,i,o,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,O,_,E,C,S,P,A,D,T,R,j,M,I,N,z,F,L;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.urls,r=t.locale,a=t.unsafeStorage,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;(ei()(this,B),this.instance=e,this.email=ct(e)?e.toString():"me@"+new URL(e.toString().toLowerCase()).hostname,n)?this.urls=n:ct(e)?this.urls={}:this.urls={base:"".concat(e,"/bitwarden")},this.locale=r||"en",this.init({unsafeStorage:a},i)}return ec()(B,[{key:"createServices",value:function(e){var t,n,r=new i$,a=new aI(this.locale,"./locales"),i=this.initPlatformUtilsService(a,r),o=this.initCryptoFunctionService(i),c=this.initStorageService(i),s=this.initSecureStorageService(),u=new o9(c,e?c:s,o),l=new oj(c),d=new rh(c),f=new rp(l,i,(t=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.send("logout",{expired:t}));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),p=new oU(l,c),h=new on(p,c),m=new ob(u,p,f,c,a,o),v=new oO(p,c),y=null,g=new af(u,p,v,f,c,a,function(){return y}),b=new aj(u,p,f,c,a,g),w=new ax(u,p,c,a);y=new oi(g,i);var k=new oH(g,b,w,u,i,c,r,y,p,null),x=new oP(p,f,v,b,g,u,w,c,r,h,m,(n=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.send("logout",{expired:t}));case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),O=new i7(u,c,h),_=new aO(u),E=new rx(u,f,p,l,d,a,i,r),C=new aC(f,c,null),S=new iJ(g,b,f,a,w);return{apiService:f,environmentService:C,authService:E,syncService:x,cryptoService:u,cipherService:g,userService:p,collectionService:w,passwordGenerationService:O,containerService:_,vaultTimeoutService:k,importService:S,utils:ns}}},{key:"init",value:function(e,t){var n=this,r=e.unsafeStorage;t=t||this.createServices(r),this.apiService=t.apiService,this.environmentService=t.environmentService,this.authService=t.authService,this.syncService=t.syncService,this.cryptoService=t.cryptoService,this.cipherService=t.cipherService,this.userService=t.userService,this.collectionService=t.collectionService,this.passwordGenerationService=t.passwordGenerationService,this.containerService=t.containerService,this.vaultTimeoutService=t.vaultTimeoutService,this.importService=t.importService,this.Utils=t.utils,this.attachToGlobal(),this.initFinished=this.environmentService.setUrls(this.urls),this.initFinished.then(function(){return n.emit("init",n)})}},{key:"initPlatformUtilsService",value:function(e,t){return new oQ(e,t)}},{key:"initCryptoFunctionService",value:function(e){return new oZ(window,e)}},{key:"initSecureStorageService",value:function(){return new o$}},{key:"initStorageService",value:function(e){return new oJ(e)}},{key:"attachToGlobal",value:function(){ns.global.bitwardenContainerService=this.containerService}},{key:"isLocked",value:(e=tr()(ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.userService.isAuthenticated();case 3:return t=e.sent,n=this.vaultTimeoutService.isLocked(),e.abrupt("return",!t||n);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"lock",value:(t=tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.initFinished;case 3:return e.next=5,this.vaultTimeoutService.lock();case 5:return t=e.sent,this.emit("lock",this),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"login",value:(n=tr()(ti().mark(function e(t){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.initFinished;case 3:return e.next=5,this.authService.logIn(this.email,t);case 5:return n=e.sent,e.next=8,this.sync();case 8:return this.emit("login",this),e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"changePassword",value:(r=tr()(ti().mark(function e(t,n,r,a){var i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.computeNewHashAndKeys(t,n,r,a);case 2:return o=(i=e.sent).kdf,c=i.kdfIterations,s=i.currentPasswordHash,u=i.newPasswordHash,l=i.newEncryptionKey,e.abrupt("return",this.bitwardenChangePassword(s,u,l,o,c));case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"computeNewHashAndKeys",value:(a=tr()(ti().mark(function e(t,n,r,a){var i,o,c,s,u,l,d;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.computeHashedPassword(t);case 2:if(i=e.sent,e.t0=a,e.t0){e.next=8;break}return e.next=7,this.userService.getKdf();case 7:e.t0=e.sent;case 8:if(o=e.t0,e.t1=r,e.t1){e.next=14;break}return e.next=13,this.userService.getKdfIterations();case 13:e.t1=e.sent;case 14:return c=e.t1,e.next=17,this.computeMasterKey(n,c,o);case 17:return s=e.sent,e.next=20,this.computeHashedPassword(n,s);case 20:return u=e.sent,e.next=23,this.getEncryptionKey();case 23:return l=e.sent,e.next=26,this.encryptEncryptionKey(l,s);case 26:return d=e.sent,e.abrupt("return",{kdf:o,kdfIterations:c,currentPasswordHash:i,newPasswordHash:u,newEncryptionKey:d});case 28:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return a.apply(this,arguments)})},{key:"bitwardenChangePassword",value:(i=tr()(ti().mark(function e(t,n,r,a,i){var o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new oK).kdf=a,o.kdfIterations=i,o.masterPasswordHash=t,o.newMasterPasswordHash=n,o.key=r.encryptedString,e.next=8,this.apiService.postAccountKdf(o);case 8:return(c=e.sent)&&this.emit("passwordChange",this),e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)})),function(e,t,n,r,a){return i.apply(this,arguments)})},{key:"computeMasterKey",value:(o=tr()(ti().mark(function e(t,n,r){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.makeKey(t,this.email,r||X.PBKDF2_SHA256,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return o.apply(this,arguments)})},{key:"computeHashedPassword",value:(c=tr()(ti().mark(function e(t,n){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.hashPassword(t,n||null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return c.apply(this,arguments)})},{key:"getEncryptionKey",value:(s=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.getEncKey();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getMasterKey",value:(u=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoService.getKey();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"generateEncryptionKey",value:(l=tr()(ti().mark(function e(){var t,n,r,a,i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getEncryptionKey();case 2:if(t=e.sent){e.next=5;break}throw Error("NO_ENCRYPTION_KEY");case 5:return e.next=7,this.cryptoService.makeEncKey(t);case 7:return n=e.sent,a=(r=ty()(n,2))[0],i=r[1],e.abrupt("return",{key:a,encryptedKey:i});case 12:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"encryptEncryptionKey",value:(d=tr()(ti().mark(function e(t,n){var r,a,i,o;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n,e.t0){e.next=5;break}return e.next=4,this.getMasterKey();case 4:e.t0=e.sent;case 5:return r=e.t0,a=t.key,e.next=9,this.cryptoService.buildEncKey(r,a);case 9:return i=e.sent,o=ty()(i,2)[1],e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(e,t){return d.apply(this,arguments)})},{key:"unlock",value:(f=tr()(ti().mark(function e(t){var n,r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initFinished;case 2:return e.next=4,this.userService.isAuthenticated();case 4:return n=e.sent,r=this.cryptoService.kdf,a=this.cryptoService.kdfIterations,e.next=9,this.cryptoService.getKeyHash();case 9:if(i=e.sent,!(!n||!r||!i)){e.next=15;break}return e.next=13,this.login(t);case 13:e.next=25;break;case 15:return e.next=17,this.cryptoService.makeKey(t,this.email,r,a);case 17:return o=e.sent,e.next=20,this.cryptoService.hashPassword(this.masterPassword,o);case 20:if(c=e.sent,i!=c){e.next=24;break}return e.next=24,this.cryptoService.setKey(o);case 24:this.emit("unlock_no_login",this);case 25:return this.sync(),this.emit("unlock",this),e.abrupt("return",!0);case 28:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"sync",value:(p=tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initFinished;case 2:return e.next=4,this.syncService.fullSync();case 4:return t=e.sent,this.emit("sync",this),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getAll",value:(h=tr()(ti().mark(function e(){var t,n,r=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r.length>0&&void 0!==r[0]?r[0]:{}).type,e.next=3,this.cipherService.getAll();case 3:return n=e.sent,e.abrupt("return",t?n.filter(function(e){return e.type==t}):n);case 5:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"getAllLogins",value:(m=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getAll({type:q.Login}));case 1:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"getAllDecrypted",value:(v=tr()(ti().mark(function e(){var t,n,r,a,i,o=this,c=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=c.length>0&&void 0!==c[0]?c[0]:{}).type,r=t.uri,this.attachToGlobal(),!r){e.next=9;break}return e.next=5,this.cipherService.getAllDecryptedForUrl(r);case 5:return a=e.sent,e.abrupt("return",n?a.filter(function(e){return e.type==n}):a);case 9:return e.next=11,this.getAll({type:n});case 11:return i=e.sent,e.abrupt("return",Promise.all(i.map(function(e){return o.decrypt(e)})));case 13:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getAllDecryptedLogins",value:(y=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getAllDecrypted({type:q.Login}));case 1:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"getAllDecryptedFor",value:(g=tr()(ti().mark(function e(t){var n,r,a,i,o,c=this;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.uri,a=t.username,i=t.name,e.next=3,this.getAllDecrypted({type:n,uri:r});case 3:return o=e.sent,e.abrupt("return",o.filter(function(e){return(!a||!!e.login&&!!c.weakMatch(e.login.username,a))&&(!i||!!c.weakMatch(e.name,i))}));case 5:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"getByIdOrSearch",value:(b=tr()(ti().mark(function e(t,n,r){var a,i,o,c,s;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.get(t);case 3:if(!(a=e.sent)){e.next=6;break}return e.abrupt("return",a);case 6:if(!n){e.next=18;break}return e.next=9,this.getAllDecryptedFor(n);case 9:if(i=e.sent,o=nt()(i,r)[0],!(c=tb()(o,"id"))){e.next=18;break}return e.next=15,this.get(c);case 15:if(!(s=e.sent)){e.next=18;break}return e.abrupt("return",s);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}},e,this)})),function(e,t,n){return b.apply(this,arguments)})},{key:"weakMatch",value:function(e,t){var n=this;return null===t||null!==e&&(t instanceof Array?t.find(function(t){return n.weakMatch(e,t)}):t instanceof RegExp?e.match(t):t9()(e,t))}},{key:"get",value:(w=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cipherService.get(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"generatePassword",value:(k=tr()(ti().mark(function e(){var t,n=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.initFinished;case 3:return e.abrupt("return",this.passwordGenerationService.generatePassword(t));case 4:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"encrypt",value:(x=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.abrupt("return",this.cipherService.encrypt(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"decrypt",value:(O=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.abrupt("return",t.decrypt());case 2:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"decryptEncryptionKey",value:(_=tr()(ti().mark(function e(t){var n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getEncryptionKey();case 2:if(n=e.sent){e.next=5;break}throw Error("NO_ENCRYPTION_KEY");case 5:return r=new rj(t),e.next=8,this.cryptoService.decryptToBytes(r,n);case 8:return a=e.sent,e.abrupt("return",new rI(a));case 10:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"encryptFile",value:(E=tr()(ti().mark(function e(t,n){var r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.decryptEncryptionKey(n);case 3:return r=e.sent,e.abrupt("return",this.cryptoService.encryptToBytes(t,r));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"decryptFile",value:(C=tr()(ti().mark(function e(t,n){var r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.decryptEncryptionKey(n);case 3:return r=e.sent,e.abrupt("return",this.cryptoService.decryptFromBytes(t,r));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)})},{key:"saveCipher",value:(S=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cipherService.saveWithServer(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"postImportCiphers",value:(P=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=(n=nr()(t,function(e){return!!e.id})).true)?[]:r,!((o=void 0===(i=n.false)?[]:i).length>0)){e.next=7;break}return co.info("Bulk import of ".concat(o.length," ciphers")),c=new az,o.forEach(function(e){var t=new r4(e);c.ciphers.push(t)}),e.next=7,this.apiService.postImportCiphers(c);case 7:if(!(a.length>0)){e.next=26;break}co.info("1 by 1 import of ".concat(a.length," ciphers")),s=cu(a),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=18;break}return l=u.value,e.next=16,this.saveCipher(l);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),s.e(e.t0);case 23:return e.prev=23,s.f(),e.finish(23);case 26:return e.abrupt("return",{nbNewCiphers:o.length,nbUpdatedCiphers:a.length});case 27:case"end":return e.stop()}},e,this,[[10,20,23,26]])})),function(e){return P.apply(this,arguments)})},{key:"deleteCipher",value:(A=tr()(ti().mark(function e(t){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id?t.id:t,e.abrupt("return",this.cipherService.deleteWithServer(n));case 2:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"shareWithCozy",value:(D=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.attachToGlobal(),e.next=3,this.getCozyOrg();case 3:if(n=e.sent,t.organizationId==n.id){e.next=12;break}return e.next=7,this.getCollectionsForOrg(n);case 7:return r=e.sent.map(function(e){return e.id}),e.abrupt("return",this.cipherService.shareWithServer(t,n.id,r));case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"getCollectionsForOrg",value:(T=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id?t.id:t,e.next=3,this.collectionService.getAll();case 3:return r=e.sent,e.abrupt("return",r.filter(function(e){return e.organizationId===n}));case 5:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"getCozyOrg",value:(R=tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userService.getAllOrganizations();case 2:return t=e.sent,e.abrupt("return",t.filter(function(e){return e.name.match(/^cozy\b/i)})[0]);case 4:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"createOrUpdateCipher",value:(j=tr()(ti().mark(function e(t){var n,r,a,i=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,this.attachToGlobal(),r=t.organizationId,e.next=5,r?this.cryptoService.getOrgKey(r):this.cryptoService.getEncKey();case 5:return a=e.sent,e.abrupt("return",this.cipherService.encrypt(t,a,n));case 7:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"createNewCozySharedCipher",value:(M=tr()(ti().mark(function e(t){var n,r,a,i=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,e.next=3,this.getCozyOrg();case 3:return r=e.sent,e.next=6,this.getCollectionsForOrg(r);case 6:return a=e.sent.map(function(e){return e.id}),t.organizationId=r.id,t.collectionIds=a,e.abrupt("return",this.createOrUpdateCipher(t,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)})},{key:"assertImportedCiphersSeemOK",value:function(e){var t=Math.floor(e.length/2),n=e.length-1;if(this.importService.badData(e[0])&&this.importService.badData(e[t])&&this.importService.badData(e[n]))throw Error("IMPORT_BAD_FILE_CONTENT")}},{key:"import",value:(I=tr()(ti().mark(function e(t,n){var r,a,i,o,c,s=this;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.importService.getImporter(n,!1)){e.next=3;break}throw Error("IMPORT_UNKNOWN_FORMAT");case 3:return e.next=5,r.parse(t);case 5:if((a=e.sent).success){e.next=8;break}throw Error("IMPORT_FORMAT_ERROR");case 8:return a.ciphers.length>0&&this.assertImportedCiphersSeemOK(a.ciphers),i=a.ciphers.filter(function(e){return e.login}),co.info("Parsed ".concat(a.ciphers.length)),co.info("Importing ".concat(i.length," supported ciphers")),e.next=14,Promise.all(i.map(function(e){return s.prepareCipherToImport(e)}));case 14:return o=e.sent,e.next=17,this.postImportCiphers(o);case 17:return c=e.sent,e.abrupt("return",cs(cs({},c),{},{nbParsedCiphers:a.ciphers.length,nbSupportedCiphers:i.length}));case 19:case"end":return e.stop()}},e,this)})),function(e,t){return I.apply(this,arguments)})},{key:"searchExistingCipher",value:(N=tr()(ti().mark(function e(t){var n,r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=cu(t.login.uris),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=24;break}return i=a.value,o={username:t.login.username,uri:i._uri,type:q.Login},co.debug("Searching existing cipher with",o),c=[function(e){return+(e.login.password!==t.login.password)},"revisionDate"],e.next=10,this.getByIdOrSearch(null,o,c);case 10:if(n=e.sent,co.debug("Found potential matching cipher",n),!n){e.next=22;break}return e.next=15,this.decrypt(n);case 15:if(e.sent.login.password!=t.login.password){e.next=21;break}return co.debug("Passwords are identical !"),e.abrupt("return",n);case 21:co.debug("Passwords are different");case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),r.e(e.t0);case 29:return e.prev=29,r.f(),e.finish(29);case 32:case"end":return e.stop()}},e,this,[[1,26,29,32]])})),function(e){return N.apply(this,arguments)})},{key:"mergeCiphers",value:(z=tr()(ti().mark(function e(t,n){var r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decrypt(t);case 2:r=e.sent,a=cu(n.login.uris),e.prev=4,o=ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=i.value,r.login.uris.find(function(e){return e.match===t.match&&e.uri===t.uri})||r.login.uris.push(t);case 3:case"end":return e.stop()}},e)}),a.s();case 7:if((i=a.n()).done){e.next=11;break}return e.delegateYield(o(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),a.e(e.t1);case 16:return e.prev=16,a.f(),e.finish(16);case 19:return co.info("Merging ciphers",r,n),e.next=22,this.createOrUpdateCipher(r,t);case 22:return c=e.sent,co.info("Merge result",c),e.abrupt("return",c);case 25:case"end":return e.stop()}},e,this,[[4,13,16,19]])})),function(e,t){return z.apply(this,arguments)})},{key:"prepareCipherToImport",value:(F=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return co.info("Preparing cipher to import"),t.login.uris=t.login.uris||[],e.next=4,this.searchExistingCipher(t);case 4:if(!(r=e.sent)){e.next=12;break}return co.info("Found existing cipher"),e.next=9,this.mergeCiphers(r,t);case 9:n=e.sent,e.next=16;break;case 12:return co.info("Creating a new cipher"),e.next=15,this.createOrUpdateCipher(t);case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"importCipher",value:(L=tr()(ti().mark(function e(t){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prepareCipherToImport(t);case 2:return n=e.sent,e.next=5,this.saveCipher(n);case 5:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"getImportOptions",value:function(){return{featured:this.importService.featuredImportOptions,regular:this.importService.regularImportOptions}}}]),B}();tl().mixin(cd);var cf=n(43554),cp=n.n(cf),ch=n(50104),cm=n.n(ch),cv=eg.createContext(),cy=cm()(function(e,t,n){return new cd(e,{unsafeStorage:t},n)}),cg=function(e){ed()(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(a);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function a(e){ei()(this,a);var t=r.call(this,e),n=t.props.vaultClient;return t.props.client&&(n=t.props.client,console.warn("Passing client in props is deprecated, please use vaultClient instead.")),t.state={vaultClient:n,locked:!0},t.updateLockedState=t.updateLockedState.bind(eu()(t)),t.setupClient=t.setupClient.bind(eu()(t)),t}return ec()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.cozyClient,r=t.instance;if(n){var a=n.getStackClient().uri;a?this.setupClient(a):n.on("login",function(){e.setupClient(n.getStackClient().uri)})}r&&this.setupClient(this.props.instance)}},{key:"componentWillUnmount",value:function(){var e=this.state.vaultClient;e&&(e.removeListener("unlock",this.updateLockedState),e.removeListener("lock",this.updateLockedState),e.removeListener("login",this.updateLockedState))}},{key:"updateLockedState",value:(n=tr()(ti().mark(function e(){var t,n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.vaultClient,e.next=3,t.isLocked();case 3:(n=e.sent)!=this.state.locked&&this.setState({locked:n});case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"setupClient",value:function(e){var t=this,n=this.props.unsafeStorage,r=this.props.vaultClient||this.props.client||cy(e,n,this.props.vaultData);this.setState({vaultClient:r,locked:!0},function(){r.on("unlock",t.updateLockedState),r.on("lock",t.updateLockedState),r.on("login",t.updateLockedState),t.updateLockedState()}),this.props.setClient&&this.props.setClient(r)}},{key:"render",value:function(){return eg.createElement(cv.Provider,{value:this.state},this.props.children)}}]),a}(eg.Component);cg.propTypes={instance:cp().string,vaultClient:cp().object,client:cp().object,unsafeStorage:cp().bool,setClient:cp().func,cozyClient:cp().object};var cb=function(){var e=(0,eg.useContext)(cv);if(!e)throw Error("useVaultClient must be used within a VaultProvider");return e.vaultClient},cw=n(39968),ck=n(4103),cx=n.n(ck),cO=n(90179),c_=n.n(cO),cE=n(73294),cC=n.n(cE),cS=function(){return(cS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function cP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}var cA="right-scroll-bar-position",cD="width-before-scroll-bar",cT=(void 0===C&&(C={}),(void 0===S&&(S=function(e){return e}),P=[],A=!1,D={read:function(){if(A)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return P.length?P[P.length-1]:null},useMedium:function(e){var t=S(e,A);return P.push(t),function(){P=P.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(A=!0;P.length;){var t=P;P=[],t.forEach(e)}P={push:function(t){return e(t)},filter:function(){return P}}},assignMedium:function(e){A=!0;var t=[];if(P.length){var n=P;P=[],n.forEach(e),t=P}var r=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(r)};a(),P={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),P}}}}).options=cS({async:!0,ssr:!1},C),D),cR=function(){},cj=eg.forwardRef(function(e,t){var n,r,a,i,o=eg.useRef(null),c=eg.useState({onScrollCapture:cR,onWheelCapture:cR,onTouchMoveCapture:cR}),s=c[0],u=c[1],l=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,h=e.enabled,m=e.shards,v=e.sideCar,y=e.noIsolation,g=e.inert,b=e.allowPinchZoom,w=e.as,k=cP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=(n=[o,t],r=void 0,a=function(e){return n.forEach(function(t){return"function"==typeof t?t(e):t&&(t.current=e),t})},(i=(0,eg.useState)(function(){return{value:r,callback:a,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=a,i.facade),O=cS({},k,s);return eg.createElement(eg.Fragment,null,h&&eg.createElement(v,{sideCar:cT,removeScrollBar:p,shards:m,noIsolation:y,inert:g,setCallbacks:u,allowPinchZoom:!!b,lockRef:o}),l?eg.cloneElement(eg.Children.only(d),cS({},O,{ref:x})):eg.createElement(void 0===w?"div":w,cS({},O,{className:f,ref:x}),d))});cj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},cj.classNames={fullWidth:cD,zeroRight:cA};var cM=function(e){var t=e.sideCar,n=cP(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return eg.createElement(r,cS({},n))};cM.isSideCarExport=!0;var cI=n(80955),cN={left:0,top:0,right:0,gap:0},cz=function(e){return parseInt(e||"",10)||0},cF=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[cz(n),cz(r),cz(a)]},cL=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return cN;var t=cF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cB=(0,cI.T0)(),cU=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+r+";\n   padding-right: "+c+"px "+r+";\n  }\n  body {\n    overflow: hidden "+r+";\n    "+[t&&"position: relative "+r+";","margin"===n&&"\n    padding-left: "+a+"px;\n    padding-top: "+i+"px;\n    padding-right: "+o+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+c+"px "+r+";\n    ","padding"===n&&"padding-right: "+c+"px "+r+";"].filter(Boolean).join("")+"\n  }\n  \n  ."+cA+" {\n    right: "+c+"px "+r+";\n  }\n  \n  ."+cD+" {\n    margin-right: "+c+"px "+r+";\n  }\n  \n  ."+cA+" ."+cA+" {\n    right: 0 "+r+";\n  }\n  \n  ."+cD+" ."+cD+" {\n    margin-right: 0 "+r+";\n  }\n"},cV=function(e){var t=eg.useState(cL(e.gapMode)),n=t[0],r=t[1];eg.useEffect(function(){r(cL(e.gapMode))},[e.gapMode]);var a=e.noRelative,i=e.noImportant,o=e.gapMode;return eg.createElement(cB,{styles:cU(n,!a,void 0===o?"margin":o,i?"":"!important")})},cH=function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&(t.overflowY!==t.overflowX||"visible"!==t.overflowY)},cq=function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&(t.overflowY!==t.overflowX||"visible"!==t.overflowX)},cW=function(e,t){var n=t;do{if(cG(e,n)){var r=cZ(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},cG=function(e,t){return"v"===e?cH(t):cq(t)},cZ=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},cK=function(e,t,n,r,a){var i=n.target,o=t.contains(i),c=!1,s=r>0,u=0,l=0;do{var d=cZ(e,i),f=d[0],p=d[1]-d[2]-f;(f||p)&&cG(e,i)&&(u+=p,l+=f),i=i.parentNode}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return s&&(a&&0===u||!a&&r>u)?c=!0:!s&&(a&&0===l||!a&&-r>l)&&(c=!0),c},cQ=!1;if("undefined"!=typeof window)try{var cY=Object.defineProperty({},"passive",{get:function(){return cQ=!0,!0}});window.addEventListener("test",cY,cY),window.removeEventListener("test",cY,cY)}catch(e){cQ=!1}var cJ=!!cQ&&{passive:!1},c$=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cX=function(e){return[e.deltaX,e.deltaY]},c0=function(e){return e&&"current"in e?e.current:e},c1=0,c2=[];let c3=(T=function(e){var t=eg.useRef([]),n=eg.useRef([0,0]),r=eg.useRef(),a=eg.useState(c1++)[0],i=eg.useState(function(){return(0,cI.T0)()})[0],o=eg.useRef(e);eg.useEffect(function(){o.current=e},[e]),eg.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-"+a);var t=[e.lockRef.current].concat((e.shards||[]).map(c0)).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-"+a)}),function(){document.body.classList.remove("block-interactivity-"+a),t.forEach(function(e){return e.classList.remove("allow-interactivity-"+a)})}}},[e.inert,e.lockRef.current,e.shards]);var c=eg.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var a,i=c$(e),c=n.current,s="deltaX"in e?e.deltaX:c[0]-i[0],u="deltaY"in e?e.deltaY:c[1]-i[1],l=e.target,d=Math.abs(s)>Math.abs(u)?"h":"v",f=cW(d,l);if(!f)return!0;if(f?a=d:(a="v"===d?"h":"v",f=cW(d,l)),!f)return!1;if(!r.current&&"changedTouches"in e&&(s||u)&&(r.current=a),!a)return!0;var p=r.current||a;return cK(p,t,e,"h"===p?s:u,!0)},[]),s=eg.useCallback(function(e){if(c2.length&&c2[c2.length-1]===i){var n="deltaY"in e?cX(e):c$(e),r=t.current.filter(function(t){var r;return t.name===e.type&&t.target===e.target&&(r=t.delta,r[0]===n[0]&&r[1]===n[1])})[0];if(r&&r.should)return void e.preventDefault();if(!r){var a=(o.current.shards||[]).map(c0).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?c(e,a[0]):!o.current.noIsolation)&&e.preventDefault()}}},[]),u=eg.useCallback(function(e,n,r,a){var i={name:e,delta:n,target:r,should:a};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),l=eg.useCallback(function(e){n.current=c$(e),r.current=void 0},[]),d=eg.useCallback(function(t){u(t.type,cX(t),t.target,c(t,e.lockRef.current))},[]),f=eg.useCallback(function(t){u(t.type,c$(t),t.target,c(t,e.lockRef.current))},[]);eg.useEffect(function(){return c2.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",s,cJ),document.addEventListener("touchmove",s,cJ),document.addEventListener("touchstart",l,cJ),function(){c2=c2.filter(function(e){return e!==i}),document.removeEventListener("wheel",s,cJ),document.removeEventListener("touchmove",s,cJ),document.removeEventListener("touchstart",l,cJ)}},[]);var p=e.removeScrollBar,h=e.inert;return eg.createElement(eg.Fragment,null,h?eg.createElement(i,{styles:"\n  .block-interactivity-"+a+" {pointer-events: none;}\n  .allow-interactivity-"+a+" {pointer-events: all;}\n"}):null,p?eg.createElement(cV,{gapMode:"margin"}):null)},cT.useMedium(T),cM);var c4=eg.forwardRef(function(e,t){return eg.createElement(cj,cS({},e,{ref:t,sideCar:c3}))});c4.classNames=cj.classNames;var c6=["onEscape","children","className","innerRef"],c5=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;ei()(this,r);for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),er()(eu()(e),"handleKeydown",function(t){27===t.keyCode&&e.props.onEscape()}),er()(eu()(e),"handleClick",function(t){e.props.onClick&&t.target===t.currentTarget&&e.props.onClick()}),e}return ec()(r,[{key:"componentDidMount",value:function(){this.props.onEscape&&document.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){this.props.onEscape&&document.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.innerRef,a=c_()(this.props,c6),i=document.body.getBoundingClientRect().height>window.innerHeight?eg.Fragment:c4;return eg.createElement("div",eL()({ref:r,className:cx()("styles__c-overlay___8W1LN",n),onClick:this.handleClick},a),eg.createElement(i,null,t))}}]),r}(eg.Component);c5.propTypes={className:cC().string,children:cC().node,onEscape:cC().func};let c7=eg.forwardRef(function(e,t){return eg.createElement(c5,eL()({innerRef:t},e))});var c8=n(87775),c9=function(e){var t,n=(0,ew.useClient)(),r=cb(),a=e.onUnlock,i=e.onDismiss,o=e.closable,c=(0,eg.useState)(!1),s=ty()(c,2),u=s[0],l=s[1],d=(0,eg.useState)(null),f=ty()(d,2),p=f[0],h=f[1],m=tb()(n,"capabilities.can_auth_with_oidc")||(0,td.default)("vault.force-oidc-display"),v=(0,eg.useCallback)((t=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),h(null),e.prev=2,e.next=5,r.unlock(t);case 5:a&&a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h("invalid password"===e.t0.response.error?"invalid_password":"server_error");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[2,8,11,14]])})),function(e){return t.apply(this,arguments)}),[r,a]);return eg.createElement(c8.default,{onClose:o?i:null,onSubmit:v,isLoading:u,isOIDC:m,error:p})};c9.propTypes={onDismiss:cp().func.isRequired,closable:cp().bool,onUnlock:cp().func},c9.defaultProps={closable:!0};var se=(R=tr()(ti().mark(function e(t){var n,r=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:function(){return!0},e.next=3,n();case 3:if(e.t0=e.sent,!e.t0){e.next=8;break}return e.next=7,t.isLocked();case 7:e.t0=e.sent;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)})),function(e){return R.apply(this,arguments)}),st=function(e){var t=e.children,n=e.onDismiss,r=e.closable,a=e.onUnlock,i=e.UnlockForm,o=e.addCheckShouldUnlock,c=(0,eg.useContext)(cv),s=c.locked,u=c.vaultClient,l=(0,eg.useState)(!1),d=ty()(l,2),f=d[0],p=d[1],h=(0,eg.useState)(!0),m=ty()(h,2),v=m[0],y=m[1],g=(0,eg.useState)(!1),b=ty()(g,2),w=b[0],k=b[1];return((0,eg.useEffect)(function(){var e=setInterval(function(){p(!0)},1e3);return function(){return clearInterval(e)}}),(0,eg.useEffect)(function(){var e;(e=tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(u,o);case 2:k(t=e.sent),y(!1),!t&&a&&a();case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[]),v)?eg.createElement(c7,null,eg.createElement("div",{className:"u-ta-center u-flex u-flex-column u-flex-grow-1 u-mv-3"},f?eg.createElement(cw.default,{size:"large",color:"white"}):null)):s&&w?eg.createElement(i,{onDismiss:n,closable:r,onUnlock:a}):t||null};function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}st.propTypes={onDismiss:cp().func.isRequired,closable:cp().bool,onUnlock:cp().func.isRequired,addCheckShouldUnlock:cp().func},st.defaultProps={UnlockForm:c9};var sa=eg.createContext(),si=function(){return(0,eg.useContext)(sa)},so=function(e){var t=e.children,n=e.addCheckShouldUnlock,r=cb(),a=(0,eg.useState)(!1),i=ty()(a,2),o=i[0],c=i[1],s=(0,eg.useState)(null),u=ty()(s,2),l=u[0],d=u[1],f=(0,eg.useMemo)(function(){var e;return{showingUnlockForm:o,showUnlockForm:(e=tr()(ti().mark(function e(t){var a,i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||!t.onUnlock)){e.next=2;break}throw Error('onUnlock must be passed in showUnlockForm options. showUnlockForm({ onUnlock: () => alert("Vault has been unlocked") })');case 2:return a=function(){c(!1),t.onUnlock&&t.onUnlock()},i=function(){c(!1),t.onDismiss&&t.onDismiss()},e.next=6,se(r,n);case 6:e.sent?(d(sr(sr({},t),{},{onUnlock:a,onDismiss:i})),c(!0)):a();case 8:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),unlockFormProps:l,vaultClient:r}},[o,l,r,n]);return eg.createElement(sa.Provider,{value:f},t)};let sc=function(e){var t=e.unlockFormProps,n=si(),r=n.showingUnlockForm,a=n.unlockFormProps;return r?eg.createElement(st,eL()({},a,t)):null};var ss=n(82586),su=(j=tr()(ti().mark(function e(t,n){var r,a,i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.konnector,a=n.login,i=n.password,o=n.fields,c=tb()(r,"vendor_link"),s=tb()(r,"name")||tb()(r,"slug"),u={id:null,type:q.Login,name:s,fields:o,login:{username:a,password:i,uris:c?[{uri:c,match:G.Domain}]:[]}},e.next=6,t.createNewCozySharedCipher(u,null);case 6:return l=e.sent,e.next=9,t.saveCipher(l);case 9:return e.abrupt("return",l);case 10:case"end":return e.stop()}},e)})),function(e,t){return j.apply(this,arguments)}),sl=(M=tr()(ti().mark(function e(t,n){var r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(n);case 2:return r=e.sent,e.next=5,t.decrypt(r);case 5:return a=e.sent,e.next=8,t.shareWithCozy(a);case 8:case"end":return e.stop()}},e)})),function(e,t){return M.apply(this,arguments)}),sd=(I=tr()(ti().mark(function e(t,n){var r,a,i,o;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eZ.Ay.getVaultCipherId(n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.get(r);case 5:return a=e.sent,e.next=8,t.decrypt(a);case 8:return i=e.sent,delete i.organizationId,e.next=12,t.encrypt(i);case 12:return o=e.sent,e.next=15,t.saveCipher(o);case 15:case"end":return e.stop()}},e)})),function(e,t){return I.apply(this,arguments)}),sf=(N=tr()(ti().mark(function e(t,n,r){var a,i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.login,i=r.password,c=void 0===(o=r.fields)?null:o,e.next=3,t.getByIdOrSearch(n);case 3:return s=e.sent,e.next=6,t.decrypt(s);case 6:if(!((u=e.sent).login.username!==a||u.login.password!==i||!t7()(u.fields,c))){e.next=18;break}return u.login.username=a,void 0!==i&&(u.login.password=i),u.fields=c,e.next=13,t.createOrUpdateCipher(u,s);case 13:return l=e.sent,e.next=16,t.saveCipher(l);case 16:e.next=19;break;case 18:l=s;case 19:return e.next=21,sl(t,l.id);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}},e)})),function(e,t,n){return N.apply(this,arguments)}),sp=function(e,t){var n=t.identifierProperty;return"login"!==e&&"password"!==e&&e!==n&&"credentials_encrypted"!==e},sh=function(e,t){var n=t.identifierProperty;return Object.entries(e).filter(function(e){return sp(ty()(e,1)[0],{identifierProperty:n})}).map(function(e){var t=ty()(e,2);return{name:t[0],value:t[1],type:W.Text}})},sm=(z=tr()(ti().mark(function e(t,n,r){var a,i,o,c,s,u,l,d;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.userCredentials,i=r.account,o=r.konnector,e.next=3,t.isLocked();case 3:if(!e.sent){e.next=7;break}return tt.A.warn("Impossible to create or update cipher since vault is locked"),e.abrupt("return",null);case 7:if(c=ss.Ay.getIdentifier(o.fields),(0,te.A)(c,"No identifier property found in konnector fields"),s=a[c],u=a.password,l=sh(a,{identifierProperty:c}),n){e.next=16;break}return e.next=15,sv(t,{konnector:o,account:i,login:s,password:u});case 15:d=e.sent;case 16:if(!(n||d)){e.next=22;break}return e.next=19,sf(t,n||d.id,{login:s,password:u,fields:l});case 19:d=e.sent,e.next=25;break;case 22:return e.next=24,su(t,{konnector:o,login:s,password:u,fields:l});case 24:d=e.sent;case 25:return e.abrupt("return",d);case 26:case"end":return e.stop()}},e)})),function(e,t,n){return z.apply(this,arguments)}),sv=(F=tr()(ti().mark(function e(t,n){var r,a,i,o,c,s,u,l,d,f;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.konnector,a=n.account,i=n.login,o=n.password,c=tb()(r,"vendor_link"),s=eZ.Ay.getVaultCipherId(a),u={username:i,uri:c,type:q.Login},l=[function(e){return+(e.login.password!==o)},"revisionDate"],e.next=7,t.getByIdOrSearch(s,u,l);case 7:if(d=e.sent,!s){e.next=12;break}return e.abrupt("return",d);case 12:if(!d){e.next=18;break}return e.next=15,t.decrypt(d);case 15:if(!((f=e.sent)&&f.login&&f.login.password===o)){e.next=18;break}return e.abrupt("return",d);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}},e)})),function(e,t){return F.apply(this,arguments)});function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sb="io.cozy.jobs",sw=function(){var e;function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ei()(this,t),this.client=e,this.realtime=e.plugins.realtime,this.job=n,(0,te.A)(this.job._id,"No job id");var a=r.expectedSuccessDelay;this.options=sg(sg({},r),{},{expectedSuccessDelay:void 0===a?8e3:a}),this.successTimer=null,this._error=null,this._succeed=!1,this.handleSuccess=this.handleSuccess.bind(this),this.handleError=this.handleError.bind(this),this.handleSuccessDelay=this.handleSuccessDelay.bind(this),this.disableSuccessTimer=this.disableSuccessTimer.bind(this),this.handleJobUpdated=this.handleJobUpdated.bind(this)}return ec()(t,[{key:"handleError",value:function(e){tt.A.info("KonnectorJobWatcher: Job has encountered an error"),this.disableSuccessTimer(),this._error=e,this.emit(eK,new th.nc(e))}},{key:"handleLoginSuccess",value:function(){tt.A.info("KonnectorJobWatcher: login success"),this.disableSuccessTimer()}},{key:"handleSuccess",value:function(){tt.A.info("KonnectorJobWatcher: Job has succeeded"),this.disableSuccessTimer(),this._error||this._succeed||(this._succeed=!0,this.emit(eY,this.job))}},{key:"handleSuccessDelay",value:function(){tt.A.info("KonnectorJobWatcher: Job has ran for ".concat(8e3,"ms without error, considering success")),this.disableSuccessTimer(),this._error||this._succeed||this.emit(eQ,this.job)}},{key:"disableSuccessTimer",value:function(){tt.A.info("KonnectorJobWatcher: Disabling auto success timer"),this.successTimer&&(tt.A.info("KonnectorJobWatcher: Disabling auto success timer"),clearTimeout(this.successTimer),this.successTimer=null)}},{key:"enableSuccessTimer",value:function(e){this.successTimer||(tt.A.info("KonnectorJobWatcher: Enabling auto success timer"),this.successTimer=setTimeout(this.handleSuccessDelay,e||this.options.expectedSuccessDelay))}},{key:"handleJobUpdated",value:function(e){if(!this._succeed&&!this._error){this.job=e;var t=this.job.state;"done"===t&&this.handleSuccess(this.job),"errored"===t&&this.handleError(this.job.error)}}},{key:"watch",value:(e=tr()(ti().mark(function e(){var t,n=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!1!==(n.length>0&&void 0!==n[0]?n[0]:{}).autoSuccessTimer?this.enableSuccessTimer():tt.A.info("KonnectorJobWatcher: Watching job without success timer"),e.next=4,this.realtime.subscribe("updated",sb,this.job._id,this.handleJobUpdated);case 4:return e.next=6,this.client.query((0,ew.Q)("io.cozy.jobs").getById(this.job._id));case 6:t=e.sent,this.handleJobUpdated(t.data);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"unsubscribeAll",value:function(){this.realtime.unsubscribe("updated",sb,this.job._id,this.handleJobUpdated)}}]),t}(),sk=function(e,t,n){var r=new sw(e,t);return r.watch(n),r};function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sE(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function sE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}tl().mixin(sw);var sC="io.cozy.jobs",sS=(ee={},er()(ee,eK,e2),er()(ee,eQ,"LOGIN_SUCCESS"),er()(ee,eY,e3),ee),sP=[eQ],sA=(L=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.account,r=t.cipher,a=t.client,i=t.flow,o=t.konnector,c=t.konnectorPolicy,s=t.userCredentials,(0,te.A)(i,"No flow"),(u=!!n)?tt.A.debug("Updating the account..."):tt.A.debug("Creating the account..."),l=c.onAccountCreation,d=c.shouldSaveInVault,f=ts()(n)||{},f=eZ.$V(f),f=eZ.C1(f,s),!u){e.next=12;break}f=eZ.tG(f,s),e.next=16;break;case 12:return e.next=14,(0,tf.li)(a,o);case 14:f=(p=e.sent)?eZ.tG(p,s):eZ.jq(o,s);case 16:if(!l){e.next=21;break}return tt.A.debug("Using ".concat(c.name," konnector policy custom account creation")),e.next=20,l({client:a,flow:i,account:f,konnector:o});case 20:f=e.sent;case 21:return r&&d(o)?f=eZ.iK(f,r.id):tt.A.warn("No cipher passed when creating/updating account, account will not be linked to cipher"),e.next=24,(0,tf.$4)(a,o,f);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}},e)})),function(e){return L.apply(this,arguments)}),sD=function(){var e,t,n,r,a,i,o,c,s,u;function l(e,t,n){ei()(this,l),this.client=e,this.trigger=t,this.konnector=n,this.unsubscribeAllRealtime=null,this.getTwoFACodeProvider=this.getTwoFACodeProvider.bind(this),this.getKonnectorSlug=this.getKonnectorSlug.bind(this),this.handleAccountUpdated=this.handleAccountUpdated.bind(this),this.handleCurrentJobUpdated=this.handleCurrentJobUpdated.bind(this),this.handleTriggerJobUpdated=this.handleTriggerJobUpdated.bind(this),this.handleTriggerDeleted=this.handleTriggerDeleted.bind(this),this.handleTriggerCreated=this.handleTriggerCreated.bind(this),this.handleAccountTwoFA=this.handleAccountTwoFA.bind(this),this.launch=this.launch.bind(this),this.sendTwoFACode=this.sendTwoFACode.bind(this),this.unwatch=this.unwatch.bind(this),this.state={status:e0,accountError:null,firstRun:!1},this.data={},this.twoFAWaiters=this.twoFAWaiters||[],this.realtime=e.plugins.realtime,this.watchCurrentJobIfTriggerIsAlreadyRunning(),this.watchTriggerJobs(),this.watchTriggers()}return ec()(l,[{key:"getTwoFACodeProvider",value:function(){return eZ.MO(this.account)}},{key:"getKonnectorSlug",value:function(){return this.trigger.message.konnector}},{key:"handleAccountTwoFA",value:function(e){var t=this.account,n=e&&e.state,r=t.state;return this.handleTwoFAStateChange(r,n)}},{key:"handleTwoFAStateChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t!==e&&(eZ.l(e)?(this.setState({status:"TWO_FA_REQUEST"}),this.emit(e$)):eZ.wg(e)&&(this.setState({status:e6}),this.emit("twoFAMismatch")))}},{key:"triggerEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tt.A.debug("ConnectionFlow: triggerEvent ".concat(e),n),sP.includes(e)&&this.setState(er()({},e,!0)),sS[e]&&(tt.A.debug("ConnectionFlow: Setting status ".concat(sS[e])),this.setState({status:sS[e]})),e===eK&&(this.setState({accountError:n[0]}),this.refetchTrigger()),this.emit.apply(this,[e].concat(n))}},{key:"getAccount",value:function(){return this.account}},{key:"saveTwoFARequest",value:(e=tr()(ti().mark(function e(t){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return tt.A.debug("Saving 2FA request",t),this.setState({status:"WAITING_TWOFA"}),e.prev=2,n=eZ.QN(this.account,t),e.next=6,this.saveAccount(n);case 6:this.triggerEvent(e$,t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),tt.A.error(e.t0),this.setState({status:e2,error:e.t0});case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(t){return e.apply(this,arguments)})},{key:"waitForTwoFA",value:function(){var e=this;return tt.A.info("ConnectionFlow: Waiting for two FA"),this.jobWatcher&&this.jobWatcher.disableSuccessTimer(),new Promise(function(t){var n=e.account._id;(0,te.A)(n,"Cannot wait for two fa on account without id");var r=function(){e.realtime.unsubscribe("updated",tf.So,n,a),t()},a=function(e){e&&e.twoFACode&&r()};e.twoFAWaiters.push(function(){r()}),e.realtime.subscribe("updated",tf.So,n,a)})}},{key:"expectTriggerLaunch",value:function(){var e=this;tt.A.info("ConnectionFlow: Expecting trigger launch for konnector ".concat(this.konnector.slug)),tI({client:this.client,data:{slug:this.konnector.slug}}),this.setState({status:e5,accountError:null}),this.realtime.subscribe("created",sC,function t(n){"konnector"===n.worker&&n.message.konnector===e.konnector.slug&&(e.realtime.unsubscribe("created",sC,t),e.job=n,e.watchJob({autoSuccessTimer:!1}))})}},{key:"saveAccount",value:(t=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return tt.A.debug("ConnectionFlow: Saving account"),e.next=3,(0,tf.$4)(this.client,this.konnector,t);case 3:return this.account=e.sent,tt.A.info("ConnectionFlow: Saved account"),e.abrupt("return",this.account);case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"flushTwoFAWaiters",value:function(){tt.A.debug("ConnectionFlow: Flushing ".concat(this.twoFAWaiters.length," two fa waiters"));var e,t=s_(this.twoFAWaiters);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}this.twoFAWaiters=[]}},{key:"sendAdditionalInformation",value:(n=tr()(ti().mark(function e(t){var n;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({status:e4}),e.prev=1,n=this.getKonnectorPolicy(),e.next=5,n.sendAdditionalInformation(this,t);case 5:this.flushTwoFAWaiters(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),tt.A.error(e.t0),this.setState({status:e2,error:e.t0});case 12:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return n.apply(this,arguments)})},{key:"sendTwoFACode",value:(r=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({status:e4}),e.prev=1,tt.A.debug("ConnectionFlow: Sending two fa code ".concat(t)),e.next=5,this.saveAccount(eZ.kI(this.account,t));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),tt.A.error(e.t0),this.setState({status:e2,error:e.t0});case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return r.apply(this,arguments)})},{key:"handleLoginSuccess",value:function(){this.jobWatcher.handleLoginSuccess(),this.triggerEvent(eQ)}},{key:"handleLoginSuccessHandled",value:function(){this.jobWatcher.disableSuccessTimer()}},{key:"handleFormSubmit",value:(a=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l,d;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.konnector,r=t.cipherId,a=t.vaultClient,i=t.userCredentials,o=t.t,to.ZQ({category:"konnector",message:"Slug: ".concat(n.slug),level:"info"}),e.prev=2,c=t.account,s=t.trigger,u=this.client,this.setState({status:e1,firstRun:!0}),this.trigger=s,this.account=c,this.t=o,(0,te.A)(u,"No client"),l=this.getKonnectorPolicy(),tt.A.log("ConnectionFlow: Handling submit, with konnector policy ".concat(l.name)),!l.shouldSaveInVault(n)){e.next=18;break}return e.next=15,sm(a,r,{account:c,konnector:n,userCredentials:i});case 15:d=e.sent,e.next=19;break;case 18:tt.A.info("ConnectionFlow: Bypassing cipher creation because of konnector account policy");case 19:if(!l.needsAccountAndTriggerCreation){e.next=30;break}return tt.A.debug("ConnectionFlow: Creating/updating account...",c),e.next=23,sA({account:c,cipher:d,client:u,flow:this,konnector:n,konnectorPolicy:l,userCredentials:i});case 23:return c=e.sent,this.account=c,tt.A.info("ConnectionFlow: Saved account ".concat(c._id)),e.next=28,this.ensureTriggerAndLaunch(u,{trigger:s,account:c,konnector:n,t:o});case 28:e.next=32;break;case 30:return e.next=32,this.launch();case 32:this.setState({accountError:null}),e.next=41;break;case 35:throw e.prev=35,e.t0=e.catch(2),tt.A.error(e.t0),this.setState({accountError:e.t0}),this.triggerEvent(eK,e.t0),e.t0;case 41:case"end":return e.stop()}},e,this,[[2,35]])})),function(e){return a.apply(this,arguments)})},{key:"createAccountSilently",value:(i=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.konnector,r=t.userCredentials,a=t.t,to.ZQ({category:"konnector",message:"Slug: ".concat(n.slug),level:"info"}),e.prev=2,i=t.account,o=t.trigger,c=this.client,this.setState({status:e1,firstRun:!0}),this.trigger=o,this.account=i,this.t=a,(0,te.A)(c,"No client"),s=this.getKonnectorPolicy(),tt.A.log("ConnectionFlow: Handling submit, with konnector policy ".concat(s.name)),tt.A.info("ConnectionFlow: Bypassing cipher creation because of vault may be unlocked"),!s.needsAccountAndTriggerCreation){e.next=25;break}return tt.A.debug("ConnectionFlow: Creating/updating account...",i),e.next=17,sA({account:i,client:c,flow:this,konnector:n,konnectorPolicy:s,userCredentials:r});case 17:return i=e.sent,this.account=i,tt.A.info("ConnectionFlow: Saved account ".concat(i._id)),tt.A.debug("ConnectionFlow: Ensuring trigger..."),e.next=23,(0,tp.Rq)(c,{trigger:o,account:i,konnector:n,t:a});case 23:this.trigger=e.sent,tt.A.info("Trigger is ".concat(this.trigger._id));case 25:this.setState({accountError:null}),e.next=34;break;case 28:throw e.prev=28,e.t0=e.catch(2),tt.A.error(e.t0),this.setState({accountError:e.t0}),this.triggerEvent(eK,e.t0),e.t0;case 34:case"end":return e.stop()}},e,this,[[2,28]])})),function(e){return i.apply(this,arguments)})},{key:"ensureTriggerAndLaunch",value:(o=tr()(ti().mark(function e(t,n){var r,a,i,o;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.account,a=n.konnector,i=n.trigger,o=n.t,tt.A.debug("ConnectionFlow: Ensuring trigger..."),e.next=4,(0,tp.Rq)(t,{trigger:i,account:r,konnector:a,t:o});case 4:return this.trigger=e.sent,tt.A.info("Trigger is ".concat(this.trigger._id)),e.next=8,this.ensureDefaultFolderPathInAccount(t,{trigger:this.trigger,account:r,konnector:a});case 8:return this.emit(eX),e.next=11,this.launch();case 11:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"handleTriggerCreated",value:function(e){var t;this.konnector.slug===(null==e||null==(t=e.message)?void 0:t.konnector)&&null===this.trigger&&(this.trigger=e,this.emit(eX))}},{key:"handleTriggerDeleted",value:function(e){var t;(null==(t=this.trigger)?void 0:t._id)===(null==e?void 0:e._id)&&(this.reset(),this.emit(eX))}},{key:"handleAccountUpdated",value:function(e){var t=this.account;this.account=sO({_type:t._type},e);var n=this.account.state;eZ.l(n)||eZ.wg(n)?this.handleAccountTwoFA(t):eZ.F(n)?this.handleLoginSuccessHandled():eZ.nJ(n)&&this.handleLoginSuccess()}},{key:"handleCurrentJobUpdated",value:function(){tt.A.debug("ConnectionFlow: Handling update from job"),this.refetchTrigger()}},{key:"handleTriggerJobUpdated",value:function(e){var t,n;e.trigger_id!==(null==(t=this.trigger)?void 0:t._id)||e._id!==(null==(n=this.job)?void 0:n._id)&&this.refetchTrigger()}},{key:"refetchTrigger",value:(c=tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.trigger){e.next=2;break}return e.abrupt("return",null);case 2:return tt.A.debug("ConnectionFlow: Refetching trigger  ".concat(this.trigger._id)),e.next=5,(0,tp.Pn)(this.client,this.trigger._id);case 5:t=e.sent,tt.A.debug("Refetched trigger",t),this.trigger=t,this.watchCurrentJobIfTriggerIsAlreadyRunning(),this.emit(eX);case 10:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"ensureDefaultFolderPathInAccount",value:(s=tr()(ti().mark(function e(t,n){var r,a,i,o,c,s,u;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.trigger,i=n.account,o=n.konnector,c=null==a||null==(r=a.message)?void 0:r.folder_to_save){e.next=4;break}return e.abrupt("return",i);case 4:return e.prev=4,e.next=7,t.query((0,ew.Q)("io.cozy.files").getById(c));case 7:if((s=e.sent.data).path===i.defaultFolderPath){e.next=15;break}return i.defaultFolderPath=s.path,e.next=13,(0,tf.$4)(t,o,i);case 13:return u=e.sent,e.abrupt("return",u);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),tt.A.warn("ConnectionFlow.ensureDefaultFolderPath: folder ".concat(c," does not exist. Could not ensure defaultFolderPath. ").concat(e.t0.message));case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}},e,null,[[4,17]])})),function(e,t){return s.apply(this,arguments)})},{key:"isUserActionError",value:function(e){return!!e&&["USER_ACTION_NEEDED","LOGIN_FAILED"].some(function(t){return e.message.includes(t)})}},{key:"launch",value:(u=tr()(ti().mark(function e(){var t,n,r,a,i,o=this,c=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(t=(c.length>0&&void 0!==c[0]?c[0]:{}).autoSuccessTimer)||t,r=this.getState().error,this.isUserActionError(r)&&this.setState({firstRun:!0}),a=this.getKonnectorPolicy(),i=n,tt.A.info("ConnectionFlow: Launching job..."),this.setState({status:"PENDING",accountError:null}),!this.trigger){e.next=11;break}return e.next=10,(0,tp.$S)(this.client,this.trigger);case 10:this.account=e.sent;case 11:if(a.onLaunch&&a.onLaunch({konnector:this.konnector,trigger:this.trigger,account:this.account,flow:this}).then(function(){return o.setState({status:e0})}).catch(function(e){return tt.A.error("Error while launching policy : ".concat(e.message))}),a.needsTriggerLaunch){e.next=14;break}return e.abrupt("return");case 14:return this.realtime.subscribe("updated",tf.So,this.account._id,this.handleAccountUpdated),tt.A.info("ConnectionFlow: Subscribed to ".concat(tf.So,":").concat(this.account._id)),e.next=18,(0,tp.q$)(this.client,this.trigger);case 18:this.job=e.sent,this.watchJob({autoSuccessTimer:i});case 20:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"watchCurrentJobIfTriggerIsAlreadyRunning",value:function(){var e,t,n,r;(null==(e=this.trigger)||null==(t=e.current_state)?void 0:t.status)==="running"&&(this.job={_id:null==(n=this.trigger)||null==(r=n.current_state)?void 0:r.last_executed_job_id},this.watchJob({autoSuccessTimer:!1,loginSuccess:!0}))}},{key:"watchTriggers",value:function(){this.realtime.subscribe("deleted","io.cozy.triggers",this.handleTriggerDeleted),this.realtime.subscribe("created","io.cozy.triggers",this.handleTriggerCreated)}},{key:"watchTriggerJobs",value:function(){if(this.trigger){var e;null!=(e=this.trigger)&&e.current_state&&"running"!==this.trigger.current_state.status||this.refetchTrigger(),this.realtime.subscribe("updated",sC,this.handleTriggerJobUpdated)}}},{key:"watchJob",value:function(){var e,t,n,r=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoSuccessTimer:!1,loginSuccess:!1};if((null==(e=this.job)?void 0:e._id)!==(null==(t=this.jobWatcher)||null==(n=t.job)?void 0:n._id)){this.jobWatcher&&this.jobWatcher.unsubscribeAll(),this.realtime.subscribe("updated",sC,this.job._id,this.handleCurrentJobUpdated),this.jobWatcher=sk(this.client,this.job,a),tt.A.info("ConnectionFlow: Subscribed to ".concat(sC,":").concat(this.job._id));var i,o=s_(e7);try{for(o.s();!(i=o.n()).done;)!function(){var e=i.value;r.jobWatcher.on(e,function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.triggerEvent.apply(r,[e].concat(n))})}()}catch(e){o.e(e)}finally{o.f()}a.loginSuccess&&this.handleLoginSuccess(),this.unsubscribeAllRealtime=function(){r.jobWatcher.unsubscribeAll(),r.unsubscribeAllConnectionFlowRealtime()}}}},{key:"unsubscribeAllConnectionFlowRealtime",value:function(){this.realtime.unsubscribe("updated",sC,this.handleTriggerJobUpdated),this.realtime.unsubscribe("updated",sC,this.job._id,this.handleCurrentJobUpdated),this.realtime.unsubscribe("deleted","io.cozy.triggers",this.handleTriggerDeleted),this.realtime.unsubscribe("created","io.cozy.triggers",this.handleTriggerCreated)}},{key:"unwatch",value:function(){"function"==typeof this.unsubscribeAllRealtime&&this.unsubscribeAllRealtime()}},{key:"reset",value:function(){this.trigger=null,this.job=null,this.emit(eX)}},{key:"getMockError",value:function(){return(0,td.default)("harvest.force-last-error")?new th.nc((0,td.default)("harvest.force-last-error")):null}},{key:"getDerivedState",value:function(){var e,t=this.trigger,n=this.state,r=n.status,a=n.accountError,i=n.firstRun,o=tm.zF(t),c=(null==t||null==(e=t.current_state)?void 0:e.status)==="running"||![e2,e0,e3].includes(r),s=this.getKonnectorPolicy(),u=r===e5,l=r!==e3&&!c&&!u&&(this.getMockError()||a||o),d=c&&!this.state[eQ]&&("clisk"===s.name||i);return{running:c,twoFARunning:r===e4,twoFARetry:r==e6,triggerError:o,trigger:t,accountError:a,error:l,konnectorRunning:tm.HE(t),expectingTriggerLaunch:u,userNeeded:d}}},{key:"getState",value:function(){return sO(sO({},this.state),this.getDerivedState())}},{key:"setState",value:function(e){this.state=sO(sO({},this.state),e),this.emit(eX)}},{key:"setData",value:function(e){this.data=sO(sO({},this.data),e)}},{key:"getData",value:function(){return this.data}},{key:"getKonnectorPolicy",value:function(){return t6(this.konnector)}},{key:"getAdditionalInformationNeeded",value:function(){var e=this.getKonnectorPolicy();if(e)if(e.getAdditionalInformationNeeded)return e.getAdditionalInformationNeeded(this);else throw Error("No getAdditionalInformationNeeded in konnector policy");throw Error("A konnector policy is needed to be able to detect additional information")}}]),l}();function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}tl().mixin(sD);var sR=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e,t){ei()(this,r);var a=n.call(this,e,t),i=a.props,o=i.initialTrigger,c=i.konnector;return(0,te.A)(c,"no konnector given to FlowProvider"),a.state={showTwoFAModal:!1},a.dismissTwoFAModal=a.dismissTwoFAModal.bind(eu()(a)),a.displayTwoFAModal=a.displayTwoFAModal.bind(eu()(a)),a.handleError=a.handleError.bind(eu()(a)),a.handleSuccess=a.handleSuccess.bind(eu()(a)),a.handleLoginSuccess=a.handleLoginSuccess.bind(eu()(a)),a.handleFlowUpdate=a.handleFlowUpdate.bind(eu()(a)),a.setupConnectionFlow(o,c),a}return ec()(r,[{key:"setupConnectionFlow",value:function(e,t){var n=this.props.client;this.flow=new sD(n,e,t),this.flow.on(eK,this.handleError).on(eY,this.handleSuccess).on(eJ,this.handleTriggerLaunch).on(eQ,this.handleLoginSuccess).on(e$,this.displayTwoFAModal).on(eX,this.handleFlowUpdate)}},{key:"handleFlowUpdate",value:function(){var e=this.flow.getState();tt.A.info("FlowProvider: Handle flow update",e),this.setState({flowState:e})}},{key:"stopWatchingConnectionFlow",value:function(){this.flow.removeListener(eK,this.handleError),this.flow.removeListener(eY,this.handleSuccess),this.flow.removeListener(eJ,this.handleTriggerLaunch),this.flow.removeListener(eQ,this.handleLoginSuccess),this.flow.removeListener(e$,this.displayTwoFAModal),this.flow.removeListener(eX,this.handleFlowUpdate),this.flow.unwatch()}},{key:"componentWillUnmount",value:function(){this.stopWatchingConnectionFlow()}},{key:"handleTriggerLaunch",value:function(e){tt.A.info("FlowProvider: Dismissing two fa modal");var t=this.props.onLaunch;"function"==typeof t&&t(e)}},{key:"dismissTwoFAModal",value:function(){tt.A.info("FlowProvider: Dismissing two fa modal"),this.setState({showTwoFAModal:!1})}},{key:"displayTwoFAModal",value:function(){tt.A.info("FlowProvider: Show two fa modal"),this.setState({showTwoFAModal:!0})}},{key:"handleError",value:function(e){tt.A.info("FlowProvider: Handle error"),this.state.showTwoFAModal&&this.dismissTwoFAModal();var t=this.props.onError;"function"==typeof t&&t(e)}},{key:"handleSuccess",value:function(){tt.A.info("FlowProvider: Handle success"),this.state.showTwoFAModal&&this.dismissTwoFAModal();var e=this.props.onSuccess,t=this.flow;"function"==typeof e&&e(t.trigger)}},{key:"handleLoginSuccess",value:function(e){tt.A.info("FlowProvider: Handle login success"),this.state.showTwoFAModal&&this.dismissTwoFAModal();var t=this.props.onLoginSuccess,n=this.flow,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({message:{account:e||n.account._id,konnector:n.konnector.slug}},n.trigger);"function"==typeof t&&t(r)}},{key:"render",value:function(){var e=this.state,t=e.showTwoFAModal,n=e.flowState,r=this.flow,a=this.props.children,i=null==n?void 0:n.userNeeded;return eg.createElement(eg.Fragment,null,a({flow:r}),t&&eg.createElement(e9,{flow:r,dismissAction:this.dismissTwoFAModal,into:"coz-harvest-modal-place"}),i&&eg.createElement(eT,{name:r.konnector.name}))}}]),r}(eg.Component);sR.propTypes={children:ey().func.isRequired,client:ey().object.isRequired,konnector:ey().object,onLaunch:ey().func,onSuccess:ey().func,onLoginSuccess:ey().func,onError:ey().func,submitting:ey().bool,initialTrigger:ey().object};let sj=(0,eb.translate)()((0,ew.withClient)(sR));var sM=n(51286),sI=n(67781),sN=n(41827),sz=n(4493),sF=(0,eg.createContext)(),sL=function(e){var t=e.children,n=e.options;return eg.createElement(sF.Provider,{value:n},t)},sB=(0,eg.createContext)({}),sU=function(){return(0,eg.useContext)(sB)};let sV=eg.memo(function(e){var t=(0,ew.useClient)(),n=e.children,r=t.getStackClient().uri;return eg.createElement(cg,{instance:r},n)});var sH=eg.createContext(),sq=function(){var e=eg.useContext(sH);if(!e)throw Error("ComponentsPropsContext must be used within a ComponentsPropsProvider");return e};let sW=function(e){var t=e.children,n=e.ComponentsProps;return eg.createElement(sH.Provider,{value:{ComponentsProps:n}},t)};var sG=n(98504),sZ=["children"];let sK=eg.memo(function(e){var t=e.children,n=eU()(e,sZ),r=(0,ew.useClient)();return eg.createElement(so,eL()({},n,{addCheckShouldUnlock:function(){return cn(r)}}),t)});function sQ(e){var t;return eg.createElement(sV,null,eg.createElement(sK,null,eg.createElement(sG.C,{intentData:e.intentData,intentId:e.intentId},eg.createElement(sW,{ComponentsProps:null==e||null==(t=e.componentsPropsProviderProps)?void 0:t.ComponentsProps},e.children))))}var sY=n(47767),sJ=n(49870),s$=n.n(sJ),sX=n(22902);let s0=n(68016).A;var s1=n(90774),s2=n(74710),s3=n(53811),s4=n(95037),s6=n(35855),s5=["title","text","icon","actionButton","isImportant"],s7={Infos:"styles__Infos___tpCYh","Infos--primary":"styles__Infos--primary____iqfw","Infos--secondary":"styles__Infos--secondary___2rlHM","Infos--danger":"styles__Infos--danger___1HWww","Infos-description":"styles__Infos-description___3q8sW","Info-close":"styles__Info-close___EnUCb"},s8=function(e){var t=e.description,n=e.action,r=e.dismissAction,a=e.dismissButtonProps,i=e.theme,o=e.className;return eg.createElement("div",{className:cx()(s7.Infos,s7["Infos--".concat(i)],o)},eg.createElement(s4.default,{spacing:"m"},eg.createElement("div",{className:s7["Infos-description"]},eg.createElement(s4.default,{spacing:"xs"},t)),n&&eg.createElement("div",null,n)),r&&eg.createElement("div",{className:s7["Info-close"]},eg.createElement(s2.default,eL()({size:"medium",onClick:r},a),eg.createElement(s1.default,{icon:s3.default,size:"12"}))))};s8.propTypes={description:cC().element.isRequired,action:cC().element,dismissAction:cC().func,className:cC().string,theme:cC().oneOf(["primary","secondary","danger"]),dismissButtonProps:cC().object},s8.defaultProps={theme:"primary"};var s9=(0,s6.A)(),ue=eg.memo(function(e){if(!(e.actionButton||e.icon||e.isImportant||e.text||e.title))return eg.createElement(s8,e);var t=e.title,n=e.text,r=e.icon,a=e.actionButton,i=e.isImportant,o=eU()(e,s5);return s9("The Infos component API has changed, using any of the following props is deprecated: title, text, icon, actionButton, isImportant"),eg.createElement(s8,eL()({className:"u-maw-6",theme:i?"danger":"secondary",description:eg.createElement(eg.Fragment,null,t&&eg.createElement(eC.default,{variant:"h5",className:cx()({"u-error":i})},t),eg.createElement("div",{className:cx()("u-flex","u-w-100")},r&&eg.createElement(s1.default,{icon:r,className:cx()(s7.Infos__icon,"u-w-1","u-h-1","u-flex-shrink-0")}),n&&eg.createElement(eC.default,{variant:"body1",className:cx()(er()({},"u-pl-half",null!==r))},n))),action:a},o))}),ut=n(73182),un=n(43882),ur=n(39700),ua=function(e){var t=e.name;return eg.createElement("div",{className:"u-flex u-flex-items-center u-c-pointer"},eg.createElement(eC.default,{className:"u-dib u-maw-5 u-ellipsis u-lh-1",variant:"h3"},t),eg.createElement(s1.default,{icon:ur.A,size:"15",className:"u-ml-half",color:"var('--primaryTextColor')"}))};let ui=function(e){var t=e.name;return"big"===e.variant?eg.createElement(ua,{name:t}):eg.createElement("div",{className:"u-flex u-flex-items-center u-c-pointer"},eg.createElement(eC.default,{className:"u-dib u-maw-5 u-ellipsis",variant:"body1"},t),eg.createElement(s1.default,{icon:ur.A,size:"12",className:"u-ml-half",color:"var(--iconTextColor)"}))};var uo=n(9080),uc=(0,eb.translate)()(function(e){var t=e.createAction,n=e.t;return eg.createElement(eM.default,{variant:"text",size:"small",className:"u-m-half",onClick:t,onTouchEnd:t,label:n("modal.addAccount.button")})}),us=["createAction"];let uu=function(e){var t=e.children,n=e.selectProps,r=n.createAction,a=eU()(n,us);return eg.createElement(uo.c.Menu,eL()({},e,{selectProps:a}),eg.createElement("div",{className:"u-text u-fw-normal"},t),eg.createElement(uc,{createAction:r}))};var ul=function(e){var t=e.accountsAndTriggers,n=e.selectedAccount,r=e.onChange,a=e.onCreate,i=e.loading,o=e.variant;return i?eg.createElement("div",{style:{height:20.8}},"\xa0"):eg.createElement(un.Ay,{menuPosition:"fixed",size:"tiny",options:t,onChange:r,createAction:a,getOptionLabel:function(e){return ut.Account.getAccountName(e.account)},getOptionValue:function(e){return e.trigger._id},isSearchable:!1,defaultValue:n?t.find(function(e){return e.account._id===n._id}):t[0],components:{Control:(0,un.fP)(eg.createElement(ui,{name:ut.Account.getAccountName(n),variant:o})),Menu:uu}})};ul.propTypes={accountsAndTriggers:ey().arrayOf(ey().object).isRequired,selectedAccount:ey().object,loading:ey().bool,onChange:ey().func.isRequired,onCreate:ey().func.isRequired};var ud=n(53978),uf=n.n(ud),up=n(17970),uh=n(52129),um=["className"],uv=function(e){var t=e.account,n=e.accountsAndTriggers,r=e.showAccountSelection,a=sU().dialogTitleProps,i=(0,sY.Zp)(),o=a.className,c=eU()(a,um);return eg.createElement(eg.Fragment,null,eg.createElement(up.A,{onClick:function(){i("..",{replace:!0})}}),eg.createElement(uh.A,eL()({},c,{className:uf()("dialogTitleWithBack dialogTitleWithClose",o),disableTypography:!0}),r?eg.createElement(ul,{loading:!t,selectedAccount:t,accountsAndTriggers:n,onChange:function(e){i("../accounts/".concat(e.account._id))},onCreate:function(){i("../new")},variant:"big"}):eg.createElement(eC.default,null,ew.models.account.getAccountName(t))))},uy=n(42837),ug=["className"],ub={fontSize:"1rem",fontWeight:"normal"},uw=function(e){var t=e.konnector,n=e.children,r=e.className,a=sU().dialogTitleProps,i=a.className,o=eU()(a,ug);return eg.createElement(uh.A,eL()({},o,{className:uf()("u-pb-half",r,i),disableTypography:!0}),eg.createElement(uy.$,null,eg.createElement(uy.E,{className:uf()("u-mr-1",er()({},null===n?"u-w-2 u-h-2":"u-w-3 u-h-3",!0))},eg.createElement(eW,{konnector:t})),eg.createElement("div",{className:"u-flex-grow-1 u-mr-1"},eg.createElement(eC.default,{variant:"h5",className:"u-m-0"},t.name),eg.createElement("div",{className:"u-w-100",style:ub},n))))};uw.propTypes={konnector:ey().object.isRequired,children:ey().node};var uk=function(e){var t=e.konnector,n=e.account,r=e.accountsAndTriggers,a=e.showAccountSelection,i=(0,sY.RQ)("/connected/".concat(t.slug,"/accounts/:accountId/config")),o=(0,sY.Zp)();return i?eg.createElement(uv,{konnector:t,account:n,accountsAndTriggers:r,showAccountSelection:a}):eg.createElement(uw,{konnector:t},a?eg.createElement(ul,{loading:!n,selectedAccount:n,accountsAndTriggers:r,onChange:function(e){o("../accounts/".concat(e.account._id))},onCreate:function(){o("../new")}}):eg.createElement(eC.default,null,ew.models.account.getAccountName(n)))};uk.defaultProps={showAccountSelection:!0},uk.propTypes={konnector:ey().object.isRequired,account:ey().object,accountsAndTriggers:ey().array.isRequired,showAccountSelection:ey().bool.isRequired};var ux=ey().shape({fetchSessionCode:ey().func,showInAppBrowser:ey().func,closeInAppBrowser:ey().func,tokenParamName:ey().string}),uO=ey().shape({SyncButtonWrapperComp:ey().func,deleteAccountLabel:ey().string}),u_=["Component"],uE=function(e){var t=e.Component,n=eU()(e,u_);return eg.createElement(sj,{initialTrigger:e.initialTrigger,konnector:e.konnector},function(e){var r=e.flow;return eg.createElement(t,eL()({},n,{trigger:n.initialTrigger,flow:r}))})};uE.propTypes={konnector:ey().object.isRequired,initialTrigger:ey().object.isRequired,account:ey().object.isRequired,onAccountDeleted:ey().func.isRequired,addAccount:ey().func.isRequired,initialActiveTab:ey().oneOf(["configuration","data"]),intentsApi:ux,innerAccountModalOverrides:uO,Component:ey().func};var uC=function(e){ed()(c,e);var t,n,r,a,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(c);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function c(){var e;ei()(this,c);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),er()(eu()(e),"state",{trigger:null,account:null,fetching:!0,error:null}),e}return ec()(c,[{key:"componentDidMount",value:(n=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSelectedAccountId();case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:(r=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.accountId===t.accountId){e.next=4;break}return e.next=3,this.loadSelectedAccountId();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"loadSelectedAccountId",value:(a=tr()(ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this.props).accountId,r=t.accountsAndTriggers,!(a=tb()(r.find(function(e){return e.account._id===n}),"trigger"))){e.next=7;break}return e.next=5,this.fetchAccount(a);case 5:e.next=8;break;case 7:this.setState({error:Error("No matching trigger found"),fetching:!1});case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"fetchAccount",value:(i=tr()(ti().mark(function e(t){var n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({fetching:!0}),e.prev=1,n=this.props.client,e.next=5,(0,tf.mb)(n,sX.triggers.getAccountId(t));case 5:return r=e.sent,this.setState({account:r,trigger:t}),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),this.setState({error:e.t0});case 13:return e.prev=13,this.setState({fetching:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,10,13,16]])})),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.konnector,n=e.onDismiss,r=e.accountsAndTriggers,a=e.t,i=e.navigate,o=e.initialActiveTab,c=e.breakpoints.isMobile,s=e.showAccountSelection,u=e.showNewAccountButton,l=e.intentsApi,d=e.innerAccountModalOverrides,f=e.Component,p=this.state,h=p.trigger,m=p.account,v=p.fetching,y=p.error;return eg.createElement(eg.Fragment,null,eg.createElement(uk,{konnector:t,account:m,accountsAndTriggers:r,showAccountSelection:s}),(y||v)&&eg.createElement(s0,{className:"u-pb-2"},y&&eg.createElement(ue,{actionButton:eg.createElement(eM.default,{color:"error",onClick:n,label:a("modal.konnector.error.button")}),title:a("modal.konnector.error.title"),text:a("modal.konnector.error.description",y),icon:"warning",isImportant:!0}),v&&eg.createElement("div",{className:"u-ta-center"},eg.createElement(cw.default,{size:"xxlarge"}))),!y&&!v&&eg.createElement(s0,{className:c?"u-pt-0 u-pr-0 u-pl-0":"u-pt-0",style:{paddingBottom:"var(--flagship-bottom-height)"}},eg.createElement(uE,{initialActiveTab:o,konnector:t,initialTrigger:h,account:m,onAccountDeleted:n,addAccount:function(){i("../new",{replace:!0})},showNewAccountButton:u,intentsApi:l,innerAccountModalOverrides:d,Component:f})))}}]),c}(eg.Component);uC.defaultProps={accounts:[],showAccountSelection:!0,showNewAccountButton:!0},uC.propTypes={konnector:ey().object.isRequired,onDismiss:ey().func.isRequired,accountsAndTriggers:ey().arrayOf(ey().shape({account:ey().object.isRequired,trigger:ey().object.isRequired})).isRequired,t:ey().func.isRequired,navigate:ey().func.isRequired,accountId:ey().string.isRequired,initialActiveTab:ey().oneOf(["configuration","data"]),showAccountSelection:ey().bool,showNewAccountButton:ey().bool,intentsApi:ux,innerAccountModalOverrides:uO,Component:ey().func};let uS=s$()(ew.withClient,eG.A,(0,eN.default)())(function(e){var t=(0,sY.Zp)();return eg.createElement(uC,eL()({},e,{navigate:t}))});var uP=n(69441),uA=n(60610),uD=n(56211),uT=["className"];let uR=function(e){var t=(0,eS.default)().isMobile,n=e.className,r=eU()(e,uT);return eg.createElement(uD.default,eL()({icon:uA.default,iconOnly:!0,extension:"narrow",theme:"text",label:"back",className:cx()("styles__c-modal-back-button___AjaZO","u-m-0 u-pos-absolute",{"u-p-1":t,"u-p-half":!t,"u-h-3":t},n)},r))};function uj(){return(uj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var uM=/\\(\\)?/g,uI=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),uN=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(uI,function(e,n,r,a){var i=e;r?i=a.replace(uM,"$1"):n&&(i=n.trim()),t.push(i)}),t},uz={},uF=function(e){if(null==e||!e.length)return[];if("string"!=typeof e)throw Error("toPath() expects a string");return null==uz[e]&&(uz[e]=uN(e)),uz[e]},uL=function(e,t){for(var n=uF(t),r=e,a=0;a<n.length;a++){var i=n[a];if(null==r||"object"!=typeof r||Array.isArray(r)&&isNaN(i))return;r=r[i]}return r};function uB(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var uU=function e(t,n,r,a,i){if(n>=r.length)return a;var o=r[n];if(isNaN(o)){if(null==t){var c,s,u=e(void 0,n+1,r,a,i);return void 0===u?void 0:((s={})[o]=u,s)}if(Array.isArray(t))throw Error("Cannot set a non-numeric property on an array");var l=e(t[o],n+1,r,a,i);if(void 0===l){var d=Object.keys(t).length;if(void 0===t[o]&&0===d)return;if(void 0!==t[o]&&d<=1)if(!isNaN(r[n-1])&&!i)return{};else return;return t[o],function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,[o].map(uB))}return uj({},t,((c={})[o]=l,c))}var f=Number(o);if(null==t){var p=e(void 0,n+1,r,a,i);if(void 0===p)return;var h=[];return h[f]=p,h}if(!Array.isArray(t))throw Error("Cannot set a numeric property on an object");var m=e(t[f],n+1,r,a,i),v=[].concat(t);if(i&&void 0===m){if(v.splice(f,1),0===v.length)return}else v[f]=m;return v},uV=function(e,t,n,r){if(void 0===r&&(r=!1),null==e)throw Error("Cannot call setIn() with "+String(e)+" state");if(null==t)throw Error("Cannot call setIn() with "+String(t)+" key");return uU(e,0,uF(t),n,r)},uH="FINAL_FORM/form-error",uq="FINAL_FORM/array-error";function uW(e,t){var n=e.errors,r=e.initialValues,a=e.lastSubmittedValues,i=e.submitErrors,o=e.submitFailed,c=e.submitSucceeded,s=e.submitting,u=e.values,l=t.active,d=t.blur,f=t.change,p=t.data,h=t.focus,m=t.modified,v=t.modifiedSinceLastSubmit,y=t.name,g=t.touched,b=t.validating,w=t.visited,k=uL(u,y),x=uL(n,y);x&&x[uq]&&(x=x[uq]);var O=i&&uL(i,y),_=r&&uL(r,y),E=t.isEqual(_,k),C=!!(a&&!t.isEqual(uL(a,y),k)),S=!x&&!O;return{active:l,blur:d,change:f,data:p,dirty:!E,dirtySinceLastSubmit:C,error:x,focus:h,initial:_,invalid:!S,length:Array.isArray(k)?k.length:void 0,modified:m,modifiedSinceLastSubmit:v,name:y,pristine:E,submitError:O,submitFailed:o,submitSucceeded:c,submitting:s,touched:g,valid:S,value:k,visited:w,validating:b}}var uG=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],uZ=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var o=n[i];if(!a(o)||e[o]!==t[o])return!1}return!0};function uK(e,t,n,r,a,i){var o=!1;return a.forEach(function(a){r[a]&&(e[a]=t[a],n&&(~i.indexOf(a)?uZ(t[a],n[a]):t[a]===n[a])||(o=!0))}),o}var uQ=["data"],uY=function(e,t,n,r){var a={blur:e.blur,change:e.change,focus:e.focus,name:e.name};return uK(a,e,t,n,uG,uQ)||!t||r?a:void 0},uJ=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],u$=["touched","visited"];function uX(e,t,n,r){var a={};return uK(a,e,t,n,uJ,u$)||!t||r?a:void 0}var u0=function(e){var t,n;return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(!t||a.length!==t.length||a.some(function(e,n){return!uZ(t[n],e)}))&&(t=a,n=e.apply(void 0,a)),n}},u1=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},u2=["debug","initialValues","keepDirtyOnReinitialize","mutators","onSubmit","validate","validateOnBlur"],u3=function(e,t){return e===t},u4=function e(t){return Object.keys(t).some(function(n){var r=t[n];return!r||"object"!=typeof r||r instanceof Error?void 0!==r:e(r)})};function u6(e,t,n,r,a,i){var o=a(n,r,t,i);return!!o&&(e(o),!0)}function u5(e,t,n,r,a){var i=e.entries;Object.keys(i).forEach(function(e){var o=i[Number(e)];if(o){var c=o.subscription,s=o.subscriber,u=o.notified;u6(s,c,t,n,r,a||!u)&&(o.notified=!0)}})}function u7(){return(u7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function u9(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function le(e,t,n){return e?!t||n.some(function(n){return e[n]!==t[n]}):!!t}function lt(e,t){var n=e.render,r=e.children,a=e.component,i=u9(e,["render","children","component"]);return a?(0,eg.createElement)(a,u7({},i,{children:r,render:n})):n?n(u7({},i,{children:r})):"function"!=typeof r?null:r(i)}var ln="undefined"!=typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,lr=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t},la=function(e,t,n,r){if(!r&&e.nativeEvent&&void 0!==e.nativeEvent.text||r&&e.nativeEvent)return e.nativeEvent.text;var a=e.target,i=a.type,o=a.value,c=a.checked;switch(i){case"checkbox":if(void 0===n)return!!c;if(c)return Array.isArray(t)?t.concat(n):[n];if(!Array.isArray(t))return t;var s=t.indexOf(n);if(s<0)return t;return t.slice(0,s).concat(t.slice(s+1));case"select-multiple":return lr(e.target.options);default:return o}},li=uG.reduce(function(e,t){return e[t]=!0,e},{}),lo=function(e){function t(t,n){var r,a;return(r=e.call(this,t,n)||this).subscribe=function(e,t){var n=e.isEqual,a=e.name,i=e.subscription,o=e.validateFields;r.unsubscribe=r.context.reactFinalForm.registerField(a,t,i||li,{isEqual:n,getValidator:function(){return r.props.validate},validateFields:o})},r.notify=function(e){return r.setState({state:e})},r.handlers={onBlur:function(e){var t=r.state.state;if(t){var n=r.props,a=n.format,i=n.formatOnBlur;t.blur(),a&&i&&t.change(a(t.value,t.name))}},onChange:function(e){var t=r.props,n=t.parse,a=t.value,i=e&&e.target?la(e,r.state.state&&r.state.state.value,a,ln):e;r.state.state&&r.state.state.change(n?n(i,r.props.name):i)},onFocus:function(e){r.state.state&&r.state.state.focus()}},r.context.reactFinalForm&&r.subscribe(t,function(e){a?r.notify(e):a=e}),r.state={state:a},r}u8(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.name,r=t.subscription;(e.name!==n||le(e.subscription,r,uG))&&this.context.reactFinalForm&&(this.unsubscribe(),this.subscribe(this.props,this.notify))},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,n=e.allowNull,r=e.component,a=e.children,i=e.format,o=e.formatOnBlur,c=(e.parse,e.isEqual,e.name),s=(e.subscription,e.validate,e.validateFields,e.value),u=u9(e,["allowNull","component","children","format","formatOnBlur","parse","isEqual","name","subscription","validate","validateFields","value"]),l=this.state.state||{},d=(l.blur,l.change,l.focus,l.value),f=(l.name,u9(l,["blur","change","focus","value","name"])),p={active:f.active,data:f.data,dirty:f.dirty,dirtySinceLastSubmit:f.dirtySinceLastSubmit,error:f.error,initial:f.initial,invalid:f.invalid,pristine:f.pristine,submitError:f.submitError,submitFailed:f.submitFailed,submitSucceeded:f.submitSucceeded,submitting:f.submitting,touched:f.touched,valid:f.valid,visited:f.visited};o?d=t.defaultProps.format(d,c):i&&(d=i(d,c)),null!==d||n||(d="");var h=u7({name:c,value:d},this.handlers);return("checkbox"===u.type?void 0===s?h.checked=!!d:(h.checked=!!(Array.isArray(d)&&~d.indexOf(s)),h.value=s):"radio"===u.type?(h.checked=d===s,h.value=s):"select"===r&&u.multiple&&(h.value=h.value||[]),"function"==typeof a)?a(u7({input:h,meta:p},u)):"string"==typeof r?(0,eg.createElement)(r,u7({},h,{children:a},u)):lt(u7({},{input:h,meta:p},{children:a,component:r},u),"Field("+c+")")},t}(eg.Component);lo.contextTypes={reactFinalForm:ey().object},lo.defaultProps={format:function(e,t){return void 0===e?"":e},parse:function(e,t){return""===e?void 0:e}};var lc=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var o=n[i];if(!a(o)||e[o]!==t[o])return!1}return!0},ls=function(e){return!!(e&&"function"==typeof e.stopPropagation)},lu={"final-form":"4.20.4","react-final-form":"3.6.0"},ll=uJ.reduce(function(e,t){return e[t]=!0,e},{}),ld=function(e){function t(t){(n=e.call(this,t)||this).notify=function(e){n.mounted&&n.setState({state:e}),n.mounted=!0},n.handleSubmit=function(e){return e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),n.form.submit()},t.children,t.component,t.render;var n,r=t.subscription,a=t.decorators,i=u9(t,["children","component","render","subscription","decorators"]);n.mounted=!1;try{n.form=function(e){if(!e)throw Error("No config specified");var t=e.debug,n=e.destroyOnUnregister,r=e.keepDirtyOnReinitialize,a=e.initialValues,i=e.mutators,o=e.onSubmit,c=e.validate,s=e.validateOnBlur;if(!o)throw Error("No onSubmit function specified");var u={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:a&&uj({},a),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:a?uj({},a):{}},lastFormState:void 0},l=0,d=!1,f=!1,p=!1,h=0,m={},v=function(e,t,n){var r=n(uL(e.formState.values,t));e.formState.values=uV(e.formState.values,t,r)||{}},y=function(e,t,n){if(e.fields[t]){e.fields=uj({},e.fields,((r={})[n]=uj({},e.fields[t],{name:n,blur:function(){return T.blur(n)},change:function(e){return T.change(n,e)},focus:function(){return T.focus(n)},lastFieldState:void 0}),r)),delete e.fields[t],e.fieldSubscribers=uj({},e.fieldSubscribers,((a={})[n]=e.fieldSubscribers[t],a)),delete e.fieldSubscribers[t];var r,a,i=uL(e.formState.values,t);e.formState.values=uV(e.formState.values,t,void 0)||{},e.formState.values=uV(e.formState.values,n,i),delete e.lastFormState}},g=function(e){return function(){if(i){for(var t={formState:u.formState,fields:u.fields,fieldSubscribers:u.fieldSubscribers,lastFormState:u.lastFormState},n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=i[e](r,t,{changeValue:v,getIn:uL,renameField:y,resetFieldState:T.resetFieldState,setIn:uV,shallowEqual:uZ});return u.formState=t.formState,u.fields=t.fields,u.fieldSubscribers=t.fieldSubscribers,u.lastFormState=t.lastFormState,O(void 0,function(){_(),A()}),o}}},b=i?Object.keys(i).reduce(function(e,t){return e[t]=g(t),e},{}):{},w=function(e){var t=[];if(c){var n=c(uj({},u.formState.values));u1(n)?t.push(n.then(e)):e(n)}return t},k=function(e){return Object.keys(e.validators).reduce(function(t,n){var r=e.validators[Number(n)]();return r&&t.push(r),t},[])},x=function(e,t){var n,r=[],a=k(e);return a.length&&(a.forEach(function(a){var i=a(uL(u.formState.values,e.name),u.formState.values,0===a.length||3===a.length?uW(u.formState,u.fields[e.name]):void 0);if(i&&u1(i)){e.validating=!0;var o=i.then(function(n){u.fields[e.name]&&(u.fields[e.name].validating=!1,t(n))});r.push(o)}else n||(n=i)}),t(n)),r},O=function(e,t){if(d){f=!0,t();return}var n=u.fields,r=u.formState,a=uj({},n),i=Object.keys(a);if(!c&&!i.some(function(e){return k(a[e]).length}))return void t();var o=!1;if(e){var s=a[e];if(s){var l=s.validateFields;l&&(o=!0,i=l.length?l.concat(e):[e])}}var p={},v={},y=[].concat(w(function(e){p=e||{}}),i.reduce(function(e,t){return e.concat(x(n[t],function(e){v[t]=e}))},[])),g=y.length>0,b=++h,O=Promise.all(y).then(function(e){return delete m[b],e});g&&(m[b]=O);var _=function(){var e=uj({},o?r.errors:{},p),t=function(t){i.forEach(function(r){if(n[r]){var i=uL(p,r),s=uL(e,r),u=k(a[r]).length,l=v[r];t(r,u&&l||c&&i||(i||o?void 0:s))}})};t(function(t,n){e=uV(e,t,n)||{}}),t(function(t,n){if(n&&n[uq]){var r=[].concat(uL(e,t));r[uq]=n[uq],e=uV(e,t,r)}}),uZ(r.errors,e)||(r.errors=e),r.error=p[uH]};if(g&&(u.formState.validating++,t()),_(),t(),g){var E=function(){u.formState.validating--,t()};O.then(function(){h>b||_()}).then(E,E)}},_=function(e){if(!l){var t=u.fields,n=u.fieldSubscribers,r=u.formState,a=uj({},t),i=function(e){var t=a[e],i=uW(r,t),o=t.lastFieldState;t.lastFieldState=i;var c=n[e];c&&u5(c,i,o,uY,void 0===o)};e?i(e):Object.keys(a).forEach(i)}},E=function(){Object.keys(u.fields).forEach(function(e){u.fields[e].touched=!0})},C=function(){var e,t,n,r,a,i,o,c,s,l,d,f,p,h,m,v=u.fields,y=u.formState,g=u.lastFormState,b=uj({},v),w=Object.keys(b),k=!1,x=w.reduce(function(e,t){return b[t].isEqual(uL(y.values,t),uL(y.initialValues||{},t))||(k=!0,e[t]=!0),e},{}),O=w.reduce(function(e,t){var n=y.lastSubmittedValues||{};return b[t].isEqual(uL(y.values,t),uL(n,t))||(e[t]=!0),e},{});y.pristine=!k,y.dirtySinceLastSubmit=!!(y.lastSubmittedValues&&Object.values(O).some(function(e){return e})),y.modifiedSinceLastSubmit=!!(y.lastSubmittedValues&&Object.keys(b).some(function(e){return b[e].modifiedSinceLastSubmit})),y.valid=!y.error&&!y.submitError&&!u4(y.errors)&&!(y.submitErrors&&u4(y.submitErrors));var _=(e=y.active,t=y.dirtySinceLastSubmit,n=y.modifiedSinceLastSubmit,r=y.error,a=y.errors,i=y.initialValues,o=y.pristine,c=y.submitting,s=y.submitFailed,l=y.submitSucceeded,d=y.submitError,f=y.submitErrors,p=y.valid,h=y.validating,m=y.values,{active:e,dirty:!o,dirtySinceLastSubmit:t,modifiedSinceLastSubmit:n,error:r,errors:a,hasSubmitErrors:!!(d||f&&u4(f)),hasValidationErrors:!!(r||u4(a)),invalid:!p,initialValues:i,pristine:o,submitting:c,submitFailed:s,submitSucceeded:l,submitError:d,submitErrors:f,valid:p,validating:h>0,values:m}),E=w.reduce(function(e,t){return e.modified[t]=b[t].modified,e.touched[t]=b[t].touched,e.visited[t]=b[t].visited,e},{modified:{},touched:{},visited:{}}),C=E.modified,S=E.touched,P=E.visited;return _.dirtyFields=g&&uZ(g.dirtyFields,x)?g.dirtyFields:x,_.dirtyFieldsSinceLastSubmit=g&&uZ(g.dirtyFieldsSinceLastSubmit,O)?g.dirtyFieldsSinceLastSubmit:O,_.modified=g&&uZ(g.modified,C)?g.modified:C,_.touched=g&&uZ(g.touched,S)?g.touched:S,_.visited=g&&uZ(g.visited,P)?g.visited:P,g&&uZ(g,_)?g:_},S=!1,P=!1,A=function e(){if(S)P=!0;else{if(S=!0,t&&t(C(),Object.keys(u.fields).reduce(function(e,t){return e[t]=u.fields[t],e},{})),!l&&!(d&&p)){var n=u.lastFormState,r=C();r!==n&&(u.lastFormState=r,u5(u.subscribers,r,n,uX))}S=!1,P&&(P=!1,e())}},D=function(){return Object.keys(u.fields).forEach(function(e){return u.fields[e].modifiedSinceLastSubmit=!1})};O(void 0,function(){A()});var T={batch:function(e){l++,e(),l--,_(),A()},blur:function(e){var t=u.fields,n=u.formState,r=t[e];r&&(delete n.active,t[e]=uj({},r,{active:!1,touched:!0}),s?O(e,function(){_(),A()}):(_(),A()))},change:function(e,t){var n=u.fields,r=u.formState;if(uL(r.values,e)!==t){v(u,e,function(){return t});var a=n[e];a&&(n[e]=uj({},a,{modified:!0,modifiedSinceLastSubmit:!!r.lastSubmittedValues})),s?(_(),A()):O(e,function(){_(),A()})}},get destroyOnUnregister(){return!!n},set destroyOnUnregister(value){n=value},focus:function(e){var t=u.fields[e];t&&!t.active&&(u.formState.active=e,t.active=!0,t.visited=!0,_(),A())},mutators:b,getFieldState:function(e){var t=u.fields[e];return t&&t.lastFieldState},getRegisteredFields:function(){return Object.keys(u.fields)},getState:function(){return C()},initialize:function(e){var t=u.fields,n=u.formState,a=uj({},t),i="function"==typeof e?e(n.values):e;r||(n.values=i);var o=r?Object.keys(a).reduce(function(e,t){return a[t].isEqual(uL(n.values,t),uL(n.initialValues||{},t))||(e[t]=uL(n.values,t)),e},{}):{};n.initialValues=i,n.values=i,Object.keys(o).forEach(function(e){n.values=uV(n.values,e,o[e])}),O(void 0,function(){_(),A()})},isValidationPaused:function(){return d},pauseValidation:function(e){void 0===e&&(e=!0),d=!0,p=e},registerField:function(e,t,r,a){void 0===r&&(r={}),u.fieldSubscribers[e]||(u.fieldSubscribers[e]={index:0,entries:{}});var i=u.fieldSubscribers[e].index++;u.fieldSubscribers[e].entries[i]={subscriber:u0(t),subscription:r,notified:!1},u.fields[e]||(u.fields[e]={active:!1,afterSubmit:a&&a.afterSubmit,beforeSubmit:a&&a.beforeSubmit,blur:function(){return T.blur(e)},change:function(t){return T.change(e,t)},data:a&&a.data||{},focus:function(){return T.focus(e)},isEqual:a&&a.isEqual||u3,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:e,touched:!1,valid:!0,validateFields:a&&a.validateFields,validators:{},validating:!1,visited:!1});var o=!1,c=a&&a.silent,s=function(){c?_(e):(A(),_())};if(a){o=!!(a.getValidator&&a.getValidator()),a.getValidator&&(u.fields[e].validators[i]=a.getValidator);var l=void 0===uL(u.formState.values,e);void 0!==a.initialValue&&(l||uL(u.formState.values,e)===uL(u.formState.initialValues,e))&&(u.formState.initialValues=uV(u.formState.initialValues||{},e,a.initialValue),u.formState.values=uV(u.formState.values,e,a.initialValue),O(void 0,s)),void 0!==a.defaultValue&&void 0===a.initialValue&&void 0===uL(u.formState.initialValues,e)&&l&&(u.formState.values=uV(u.formState.values,e,a.defaultValue))}return o?O(void 0,s):s(),function(){var t=!1;u.fields[e]&&(t=!!(u.fields[e].validators[i]&&u.fields[e].validators[i]()),delete u.fields[e].validators[i]);var r=!!u.fieldSubscribers[e];r&&delete u.fieldSubscribers[e].entries[i];var a=r&&!Object.keys(u.fieldSubscribers[e].entries).length;a&&(delete u.fieldSubscribers[e],delete u.fields[e],t&&(u.formState.errors=uV(u.formState.errors,e,void 0)||{}),n&&(u.formState.values=uV(u.formState.values,e,void 0,!0)||{})),!c&&(t?O(void 0,function(){A(),_()}):a&&A())}},reset:function(e){void 0===e&&(e=u.formState.initialValues),u.formState.submitting&&(u.formState.resetWhileSubmitting=!0),u.formState.submitFailed=!1,u.formState.submitSucceeded=!1,delete u.formState.submitError,delete u.formState.submitErrors,delete u.formState.lastSubmittedValues,T.initialize(e||{})},resetFieldState:function(e){u.fields[e]=uj({},u.fields[e],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),O(void 0,function(){_(),A()})},restart:function(e){void 0===e&&(e=u.formState.initialValues),T.batch(function(){for(var t in u.fields)T.resetFieldState(t),u.fields[t]=uj({},u.fields[t],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});T.reset(e)})},resumeValidation:function(){d=!1,p=!1,f&&O(void 0,function(){_(),A()}),f=!1},setConfig:function(e,a){switch(e){case"debug":t=a;break;case"destroyOnUnregister":n=a;break;case"initialValues":T.initialize(a);break;case"keepDirtyOnReinitialize":r=a;break;case"mutators":i=a,a?(Object.keys(b).forEach(function(e){e in a||delete b[e]}),Object.keys(a).forEach(function(e){b[e]=g(e)})):Object.keys(b).forEach(function(e){delete b[e]});break;case"onSubmit":o=a;break;case"validate":c=a,O(void 0,function(){_(),A()});break;case"validateOnBlur":s=a;break;default:throw Error("Unrecognised option "+e)}},submit:function(){var e,t=u.formState;if(!t.submitting){if(delete t.submitErrors,delete t.submitError,t.lastSubmittedValues=uj({},t.values),u.formState.error||u4(u.formState.errors)){E(),D(),u.formState.submitFailed=!0,A(),_();return}var n=Object.keys(m);if(n.length)return void Promise.all(n.map(function(e){return m[Number(e)]})).then(T.submit,console.error);if(!Object.keys(u.fields).some(function(e){return u.fields[e].beforeSubmit&&!1===u.fields[e].beforeSubmit()})){var r=!1,a=function(n){t.submitting=!1;var a=t.resetWhileSubmitting;return a&&(t.resetWhileSubmitting=!1),n&&u4(n)?(t.submitFailed=!0,t.submitSucceeded=!1,t.submitErrors=n,t.submitError=n[uH],E()):(a||(t.submitFailed=!1,t.submitSucceeded=!0),Object.keys(u.fields).forEach(function(e){return u.fields[e].afterSubmit&&u.fields[e].afterSubmit()})),A(),_(),r=!0,e&&e(n),n};t.submitting=!0,t.submitFailed=!1,t.submitSucceeded=!1,t.lastSubmittedValues=uj({},t.values),D();var i=o(t.values,T,a);if(!r)if(i&&u1(i))return A(),_(),i.then(a,function(e){throw a(),e});else{if(o.length>=3)return A(),_(),new Promise(function(t){e=t});a(i)}}}},subscribe:function(e,t){if(!e)throw Error("No callback given.");if(!t)throw Error("No subscription provided. What values do you want to listen to?");var n=u0(e),r=u.subscribers,a=r.index++;r.entries[a]={subscriber:n,subscription:t,notified:!1};var i=C();return u6(n,t,i,i,uX,!0),function(){delete r.entries[a]}}};return T}(i)}catch(e){}if(n.unsubscriptions=[],n.form){var o={};n.form.subscribe(function(e){o=e},r||ll)(),n.state={state:o}}return a&&a.forEach(function(e){n.unsubscriptions.push(e(n.form))}),n}u8(t,e);var n=t.prototype;return n.getChildContext=function(){return{reactFinalForm:this.form}},n.componentWillMount=function(){this.form&&this.form.pauseValidation()},n.componentDidMount=function(){this.form&&(this.unsubscriptions.push(this.form.subscribe(this.notify,this.props.subscription||ll)),this.form.resumeValidation())},n.componentWillUpdate=function(){this.form&&(this.resumeValidation=this.resumeValidation||!this.form.isValidationPaused(),this.form.pauseValidation())},n.componentDidUpdate=function(e){var t=this;this.form&&this.resumeValidation&&this.form.resumeValidation(),this.props.initialValues&&!(this.props.initialValuesEqual||lc)(e.initialValues,this.props.initialValues)&&this.form.initialize(this.props.initialValues),u2.forEach(function(n){"initialValues"!==n&&e[n]!==t.props[n]&&t.form.setConfig(n,t.props[n])})},n.componentWillUnmount=function(){this.unsubscriptions.forEach(function(e){return e()})},n.render=function(){var e=this,t=this.props,n=(t.debug,t.initialValues,t.mutators,t.onSubmit,t.subscription,t.validate,t.validateOnBlur,u9(t,["debug","initialValues","mutators","onSubmit","subscription","validate","validateOnBlur"])),r=u7({},this.state?this.state.state:{},{batch:this.form&&function(t){return e.form.batch(t)},blur:this.form&&function(t){return e.form.blur(t)},change:this.form&&function(t,n){return e.form.change(t,n)},focus:this.form&&function(t){return e.form.focus(t)},form:u7({},this.form,{reset:function(t){ls(t)?e.form.reset():e.form.reset(t)}}),handleSubmit:this.handleSubmit,initialize:this.form&&function(t){return e.form.initialize(t)},mutators:this.form&&Object.keys(this.form.mutators).reduce(function(t,n){return t[n]=function(){var t;(t=e.form.mutators)[n].apply(t,arguments)},t},{}),reset:this.form&&function(t){return e.form.reset(t)}});return lt(u7({},n,r,{__versions:lu}),"ReactFinalForm")},t}(eg.Component);ld.childContextTypes={reactFinalForm:ey().object},function(e){function t(t,n){var r,a;return(r=e.call(this,t,n)||this).subscribe=function(e,t){var n=e.subscription;r.unsubscribe=r.context.reactFinalForm.subscribe(t,n||ll)},r.notify=function(e){r.setState({state:e}),r.props.onChange&&r.props.onChange(e)},r.context.reactFinalForm&&r.subscribe(t,function(e){a?r.notify(e):(a=e,t.onChange&&t.onChange(e))}),a&&(r.state={state:a}),r}u8(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.subscription;le(e.subscription,t,uJ)&&this.context.reactFinalForm&&(this.unsubscribe(),this.subscribe(this.props,this.notify))},n.componentWillUnmount=function(){this.unsubscribe()},n.render=function(){var e=this.props,t=e.onChange,n=(e.subscription,u9(e,["onChange","subscription"])),r=this.context.reactFinalForm,a={batch:r&&function(e){return r.batch(e)},blur:r&&function(e){return r.blur(e)},change:r&&function(e,t){return r.change(e,t)},focus:r&&function(e){return r.focus(e)},form:u7({},r,{reset:function(e){ls(e)?r.reset():r.reset(e)}}),initialize:r&&function(e){return r.initialize(e)},mutators:r&&Object.keys(r.mutators).reduce(function(e,t){return e[t]=function(){var e;(e=r.mutators)[t].apply(e,arguments)},e},{}),reset:r&&function(e){return r.reset(e)}};return t?null:lt(u7({},n,this.state?this.state.state:{},a),"FormSpy")},t}(eg.Component).contextTypes={reactFinalForm:ey().object};var lf=n(7127),lp=n(49663),lh=n(29411),lm=n(44383),lv=n.n(lm),ly=["label","type"],lg=["secondaryLabels","value","onChange"],lb=function(){return eg.createElement("span",{style:{display:"none"},"aria-hidden":"true"},"\xb7")},lw=function(e){return e.label.split("").map(function(e,t){return eg.createElement(eg.Fragment,{key:"".concat(e,"-").concat(t)},eg.createElement(lb,null),e,eg.createElement(lb,null))})},lk=function(e){var t=e.label,n=e.type,r=eU()(e,ly),a="password"===n?lx:ez.default;return eg.createElement(a,eL()({},r,{label:eg.createElement(lw,{label:t}),labelProps:{"aria-label":t},type:n}))},lx=function(e){var t=e.secondaryLabels,n=e.value,r=e.onChange,a=eU()(e,lg),i=(0,eg.useState)(!0),o=ty()(i,2),c=o[0],s=o[1],u=(0,eg.useState)(n),l=ty()(u,2),d=l[0],f=l[1],p=d.replace(/./g,"â€¢");return eg.createElement(ez.default,eL()({},a,{value:c?p:d,type:"text",autoComplete:"new-password",onChange:function(e){var t=Array.from(e.target.value).reduce(function(e,t,n){return"â€¢"===t?e+d.charAt(n):e+t},"");r({target:{value:t}}),f(t)},side:d?eg.createElement("span",{onClick:function(){return s(!c)}},c?t.showLabel:t.hideLabel):null}))};function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lE="secret",lC=function(e){return"password"===e?"credentials_encrypted":"".concat(e,"_encrypted")},lS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.encrypted,a=e.initialValue,i=e.placeholder,o=n.forceEncryptedPlaceholder;return r&&(a||o)&&"*************"||i||t||""},lP=function(e){var t=e.options,n=e.value,r=l_({},e);return delete r.onKeyUp,delete r.autoComplete,r.options=t?t.map(function(e){return l_(l_({},e),{},{label:e.label||e.name})}):[],void 0!==n&&(r.value=r.options.find(function(e){return e.value===n})),r.type="select",r};let lA=function(e,t){var n=e[lE],r=t&&t.displaySecretPlaceholder;n&&(n.forceEncryptedPlaceholder=!!r)};function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lR={login:"lgn",password:"pwd"},lj=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),(t=n.call(this,e)).inputRef=null,t.setInputRef=t.setInputRef.bind(eu()(t)),t}return ec()(r,[{key:"componentDidMount",value:function(){this.props.role===ss.HR&&this.inputRef&&!(0,lf.isIOS)()&&this.inputRef.focus()}},{key:"setInputRef",value:function(e){this.inputRef=e;var t=this.props.inputRef;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.hasError,r=e.forceEncryptedPlaceholder,a=e.label,i=e.name,o=e.required,c=e.t,s=e.type,u=ss._S.includes(a)||ss.zr.includes(a)?a:i,l=lR[i]||i,d=lS(this.props,c("fields.".concat(i,".placeholder"),{_:""}),{forceEncryptedPlaceholder:r}),f=lT(lT({},this.props),{},{name:l,id:"harvest-account-".concat(l),autoCapitalize:"none",autoComplete:"off",className:"u-m-0",disabled:t,error:!t&&n,fullwidth:!0,inputRef:this.setInputRef,label:c("fields.".concat(u,".label"),{_:c("legacy.fields.".concat(u,".label"),{_:i})}),placeholder:d,side:o?null:c("accountForm.fields.optional"),size:"medium"}),p={hideLabel:c("accountForm.password.hide"),showLabel:c("accountForm.password.show")},h=function(e){return function(t){t.target.placeholder=e}};switch(s){case"date":return eg.createElement(lk,eL()({},f,{placeholder:c("fields.".concat(i,".placeholder"),{_:c("default.dateFormat").toLowerCase()})}));case"dropdown":return eg.createElement(lk,eL()({},lP(f),{menuPosition:"fixed"}));case"password":return eg.createElement(lk,eL()({},f,{onFocus:h(""),onBlur:h(d),secondaryLabels:p}));case"hidden":return eg.createElement("input",lv()(f,["value","type","name","role"]));default:return eg.createElement(lk,eL()({},f,{type:"text"}))}}}]),r}(eg.PureComponent);function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}lj.propTypes={hasError:ey().bool,initialValue:ey().oneOfType([ey().string,ey().number]),inputRef:ey().func,label:ey().oneOf([].concat(ay()(ss._S),ay()(ss.zr))),name:ey().string.isRequired,required:ey().bool,role:ey().string,type:ey().oneOf(["date","dropdown","email","password","text","hidden"]),t:ey().func};var lN=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.fields,r=e.hasError,a=e.initialValues,i=void 0===a?{}:a,o=e.inputRefByName,c=e.t,s=Object.keys(n).map(function(e){return lI(lI({},n[e]),{},{name:e})});return eg.createElement("div",null,s.map(function(e,n){var a;return eg.createElement(lo,{key:n,name:e.name,parse:(a=e.type,function(e){return"dropdown"===a?e.value:e})},function(n){var a=n.input,s=tb()(e,"forceEncryptedPlaceholder");return eg.createElement(lj,eL()({},e,a,{hasError:r,disabled:t,initialValue:i[e.name]||i[lC(e.name)],inputRef:o(e.name),forceEncryptedPlaceholder:s,t:c}))})}))}}]),r}(eg.PureComponent);lN.propTypes={disabled:ey().bool,fields:ey().object.isRequired,hasError:ey().bool,initialValues:ey().object,inputRefByName:ey().func};var lz=n(48313),lF=n(77525),lL=function(e){var t,n=e.vendorName,r=e.vendorLink,a=e.onClose,i=(0,eb.useI18n)().t,o=sq().ComponentsProps;return eg.createElement(lz.A,{open:!0,content:eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{variant:"h4",className:"u-mb-1"},i("accountForm.cannotConnectModal.title")),eg.createElement(lF.A,{className:"u-mb-1",source:i("accountForm.cannotConnectModal.content",{vendorLink:r,vendorName:n})}),eg.createElement(lF.A,{className:"u-mb-1",source:i("accountForm.cannotConnectModal.noAccount",{vendorLink:r,vendorName:n})}),null==o||null==(t=o.CannotConnectModal)?void 0:t.extraContent),onClose:a})};lL.propTypes={vendorName:ey().string,vendorLink:ey().string,onClose:ey().func};var lB=n(93923),lU=function(e){var t=e.className,n=(0,eb.useI18n)(),r=n.t,a=n.lang;return eg.createElement(eM.default,{className:t,fullWidth:!0,label:r("accountForm.installFlagship.label"),onClick:function(){var e=(0,lB.getFlagshipDownloadLink)(a);window.open(e,"_blank")}})},lV=n(98661);let lH=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 16 10"},e),eg.createElement("path",{d:"M8 5.991L13.596.395C13.86.132 14.194 0 14.601 0c.406 0 .741.132 1.004.395S16 .993 16 1.399c0 .407-.132.742-.395 1.005l-6.6 6.6a1.259 1.259 0 01-.467.305c-.167.06-.347.09-.538.09-.191 0-.37-.03-.538-.09a1.259 1.259 0 01-.466-.305l-6.601-6.6C.132 2.14 0 1.806 0 1.399 0 .993.132.658.395.395S.993 0 1.399 0c.407 0 .742.132 1.005.395L8 5.99z"}))};var lq=["className","onClick","konnector","identifier"],lW=function(e){var t=e.className,n=e.onClick,r=e.konnector,a=e.identifier,i=eU()(e,lq);return eg.createElement(lV.A,eL()({className:uf()({"u-c-pointer":n},t),onClick:n},i),eg.createElement(uy.$,null,eg.createElement(uy.E,null,eg.createElement(eW,{konnector:r,className:"u-w-1-half u-mr-1"})),eg.createElement(uy.Bd,null,a),eg.createElement(uy.E,null,eg.createElement(s1.default,{icon:lH}))))};lW.propTypes={konnector:ey().object.isRequired,identifier:ey().string.isRequired};var lG=function(e){var t=(0,eg.useState)(e.getState()),n=ty()(t,2),r=n[0],a=n[1];return(0,eg.useEffect)(function(){var t=function(){return a(e.getState())};return e.on(eX,t),function(){e.removeListener(eX,t)}},[e,a]),r};let lZ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flowPropName,n=void 0===t?"flow":t,r=e.statePropName,a=void 0===r?"flowState":r;return function(e){var t=function(t){var r=lG(t[n]);return eg.createElement(e,eL()({},t,er()({},a,r)))};return t.displayName="withConnectionFlow(".concat(e.displayName||e.name,")"),t}};var lK=n(86960);let lQ=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 96 96",fill:"none"},e),eg.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.667 83.676C11.939 83.676 0 71.737 0 57.01c0-13.06 9.387-23.926 21.781-26.22C24.075 18.395 34.941 9.01 48 9.01c13.059 0 23.925 9.386 26.22 21.78C86.613 33.085 96 43.95 96 57.01c0 14.464-11.516 26.239-25.88 26.655l-.787.011H26.667z",fill:"#B2D3FF"}),eg.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.156 57.51a2.668 2.668 0 011.214 3.57c-3.603 7.304-11.12 12.096-19.371 12.096-6.307 0-12.117-2.885-16.117-7.413-.275 1.181-1.283 2.08-2.55 2.08a2.668 2.668 0 01-2.666-2.667V54.51c0-.168.042-.318.069-.475.016-.072.013-.144.032-.213a2.58 2.58 0 01.395-.854c.02-.026.048-.048.066-.072.168-.218.37-.402.595-.557a2.648 2.648 0 012.043-.424c.072.016.14.035.21.053.23.067.446.171.659.307.072.045.144.077.213.128.03.024.064.035.094.059l8 6.666a2.665 2.665 0 01.338 3.755 2.629 2.629 0 01-1.917.939c2.877 2.496 6.592 4.021 10.536 4.021 6.195 0 11.875-3.619 14.587-9.12a2.665 2.665 0 013.57-1.213zm3.094-7.766c-.01.053-.008.107-.022.157a2.568 2.568 0 01-.415.843c-.032.045-.07.075-.105.115a2.546 2.546 0 01-.57.514c-.067.046-.128.091-.2.128a2.76 2.76 0 01-.886.31.037.037 0 00-.02.008c-.025.002-.046-.008-.07-.006a2.625 2.625 0 01-1.086-.109 2.552 2.552 0 01-.674-.33c-.061-.04-.126-.067-.181-.113-.02-.016-.043-.018-.062-.037l-8-6.667a2.665 2.665 0 01-.341-3.754c.55-.659 1.346-.942 2.139-.915a16.33 16.33 0 00-10.758-4.045c-6.31 0-12.021 3.64-14.666 9.184a2.667 2.667 0 01-4.813-2.296C32.043 35.34 39.625 30.509 48 30.509c6.38 0 12.183 2.79 16.154 7.238.33-1.094 1.31-1.904 2.512-1.904a2.668 2.668 0 012.666 2.666v10.667c0 .203-.042.384-.082.568z",fill:"#297EF1"}))};var lY=function(e){var t=e.buttonProps,n=e.description,r=e.title;return eg.createElement(lV.A,{className:"u-flex u-flex-wrap"},eg.createElement(lK.default,{icon:lQ,title:r,text:n}),eg.createElement(eM.default,eL()({className:"u-mh-auto"},t)))};function lJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lJ(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let lX=function(e){var t=function(t){ed()(a,t);var n,r=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=em()(a);return e=n?Reflect.construct(t,arguments,em()(this).constructor):t.apply(this,arguments),ep()(this,e)});function a(e,t){ei()(this,a);var n=r.call(this,e,t),i=n.props,o=i.konnector,c=i.lang,s=o.locales;return s&&c&&(0,eb.extend)(s[c]),n}return ec()(a,[{key:"render",value:function(){return eg.createElement(e,this.props)}}]),a}(eg.Component);return t.displayName="withKonnectorLocales(".concat(e.displayName||e.name||"Component"),t.propTypes=l$(l$({},e.propTypes),{},{konnector:ey().object.isRequired,lang:ey().string.isRequired}),t},l0=function(e){var t=(0,eg.useState)("loading"),n=ty()(t,2),r=n[0],a=n[1],i=(0,eg.useState)(null),o=ty()(i,2),c=o[0],s=o[1];return(0,eg.useEffect)(function(){var t;(t=tr()(ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,th.$B)(e);case 3:s(t.sent),a("loaded"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a("errored");case 11:case"end":return t.stop()}},t,null,[[0,8]])})),function(){return t.apply(this,arguments)})()},[e]),{fetchStatus:r,supportMail:c}};var l1=["children"],l2=function(e){var t=e.error,n=e.konnector,r=e.linkProps,a=(0,eb.useI18n)().t,i=l0((0,ew.useClient)()),o=i.fetchStatus,c=i.supportMail;return"loaded"===o&&c?eg.createElement(eC.default,{variant:"body1",color:"initial",component:"div"},eg.createElement(lF.A,{source:(0,th.rx)(t,n,a,"description",c),linkProps:r})):null};l2.propTypes={error:ey().object.isRequired,konnector:ey().object.isRequired,linkProps:ey().object};var l3=lX(l2);let l4=function(e){var t=e.children,n=eU()(e,l1),r=(0,eb.useI18n)().lang;return eg.createElement(l3,eL()({lang:r},n),t)};var l6=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.error,r=e.konnector,a=e.t,i=e.action;return eg.createElement(ue,{className:t,theme:"danger",action:i,description:eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{color:"initial",variant:"h6",gutterBottom:!0},(0,th.rx)(n,r,a,"title")),eg.createElement(l4,{error:n,konnector:r}))})}}]),r}(eg.PureComponent);l6.propTypes={error:ey().object.isRequired,konnector:ey().object.isRequired,t:ey().func.isRequired};let l5=(0,eb.translate)()((0,ew.withClient)(lX(l6)));function l7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l7(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l9=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e){var t;return ei()(this,r),t=n.call(this,e),er()(eu()(t),"validate",function(e,t){return function(n){var r={};for(var a in e)!e[a].required||n[a]||t[lC(a)]||(r[a]="VALIDATION_ERROR_REQUIRED_FIELD");return r}}),er()(eu()(t),"manageSecretFieldOptions",function(){var e=t.props.fieldOptions,n=t.inputs[lE];n&&e.focusSecretField&&n.focus()}),t.state={showConfirmationModal:!1,showCannotConnectModal:!1},t.inputs={},t.inputFocused=null,t.inputRefByName=t.inputRefByName.bind(eu()(t)),t.handleFocus=t.handleFocus.bind(eu()(t)),t.handleKeyUp=t.handleKeyUp.bind(eu()(t)),t.focusNext=t.focusNext.bind(eu()(t)),t.showConfirmationModal=t.showConfirmationModal.bind(eu()(t)),t.hideConfirmationModal=t.hideConfirmationModal.bind(eu()(t)),t.showCannotConnectModal=t.showCannotConnectModal.bind(eu()(t)),t.hideCannotConnectModal=t.hideCannotConnectModal.bind(eu()(t)),t}return ec()(r,[{key:"isSubmittable",value:function(e){var t=e.error,n=e.valid;return t||n}},{key:"focusNext",value:function(){if(!this.inputs)return null;var e=Object.values(this.inputs),t=e.indexOf(this.inputFocused),n=e[t+1];return n&&n.focus(),n||null}},{key:"handleFocus",value:function(e){Object.values(this.inputs).includes(e.target)&&(this.inputFocused=e.target)}},{key:"handleKeyUp",value:function(e,t){var n=t.form,r=t.valid,a=t.values;"Enter"===e.key&&!((0,lf.isMobile)()&&this.focusNext())&&this.isSubmittable({valid:r})&&this.handleSubmit(a,n)}},{key:"handleSubmit",value:function(e,t){var n=this.props,r=n.account,a=n.konnector,i=ss.Ay.getIdentifier(ss.Ay.sanitizeFields(a.fields));r&&r.auth[i]&&r.auth[i]!==e[i]?this.showConfirmationModal():this.doSubmit(e,t)}},{key:"doSubmit",value:function(e,t){var n=this.props.onSubmit;t.reset(e),n(e),this.hideConfirmationModal()}},{key:"inputRefByName",value:function(e){var t=this;return function(n){t.inputs[e]=n}}},{key:"showConfirmationModal",value:function(){this.setState(function(e){return l8(l8({},e),{},{showConfirmationModal:!0})})}},{key:"hideConfirmationModal",value:function(){this.setState(function(e){return l8(l8({},e),{},{showConfirmationModal:!1})})}},{key:"showCannotConnectModal",value:function(){this.setState(function(e){return l8(l8({},e),{},{showCannotConnectModal:!0})})}},{key:"hideCannotConnectModal",value:function(){this.setState(function(e){return l8(l8({},e),{},{showCannotConnectModal:!1})})}},{key:"componentDidMount",value:function(){this.manageSecretFieldOptions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,r=t.konnector,a=t.onBack,i=t.onSubmit,o=t.showError,c=t.t,s=t.fieldOptions,u=t.flowState,l=u.running,d=u.error,f=r.fields,p=r.name,h=r.vendor_link,m=ss.Ay.sanitizeFields(f);lA(m,s);var v=ss.Ay.getFieldsValues(r,n),y=!!tb()(n,"relationships.vaultCipher")&&this.props.readOnlyIdentifier;if(y){var g=ss.Ay.getIdentifier(m);m[g].type="hidden"}var b=d instanceof th.nc&&d.isLoginError();return eg.createElement(ld,{initialValues:v,onSubmit:i,validate:this.validate(m,v),render:function(t){var i=t.form,s=t.values,u=t.valid;return eg.createElement("div",{onKeyUp:function(t){return e.handleKeyUp(t,{form:i,valid:u,values:s})},onFocusCapture:e.handleFocus},d&&o&&eg.createElement(l5,{className:"u-mb-1",error:d,konnector:r}),y&&eg.createElement(lW,{className:"u-mb-1",onClick:a,konnector:r,identifier:tb()(n,"auth.".concat(ss.Ay.getIdentifier(m)))}),t6(r).isRunnable()?eg.createElement(eg.Fragment,null,eg.createElement(lN,{disabled:l,fields:m,hasError:d&&b,initialValues:s,inputRefByName:e.inputRefByName,t:c}),!r.clientSide&&r.vendor_link&&eg.createElement(lh.default,{className:"u-mt-1",variant:"body1",component:"button",onClick:e.showCannotConnectModal},c("accountForm.cannotConnectLink")),r.clientSide?eg.createElement(lY,{title:c("accountForm.clientSide.title"),description:c("accountForm.clientSide.description",{name:r.name}),buttonProps:er()({busy:!1,disabled:l||!e.isSubmittable({error:d,valid:u}),label:c("accountForm.clientSide.submit"),onClick:function(){return e.handleSubmit(s,i)}},"data-testid","submit-btn")}):eg.createElement(eM.default,{busy:!1,className:"u-mt-2 u-mb-1-half",disabled:l||!e.isSubmittable({error:d,valid:u}),fullWidth:!0,label:c("accountForm.submit.label"),onClick:function(){return e.handleSubmit(s,i)},"data-testid":"submit-btn"})):eg.createElement(eg.Fragment,null,eg.createElement(uy.$,{align:"top"},eg.createElement(uy.E,{className:"u-m-1"},eg.createElement(s1.default,{icon:lp.A})),eg.createElement(uy.Bd,{className:"u-m-1"},eg.createElement(eC.default,null,c("accountForm.notClientSide",{name:p})))),eg.createElement(lU,{className:"u-mt-2 u-mb-1-half"})),e.state.showConfirmationModal&&eg.createElement(uP.A,{title:c("triggerManager.confirmationModal.title"),description:c("triggerManager.confirmationModal.description"),onClose:e.hideConfirmationModal,open:!0,actions:eg.createElement(eg.Fragment,null,eg.createElement(eM.default,{label:c("triggerManager.confirmationModal.primaryText"),onClick:function(){return e.doSubmit(s,i)}}),eg.createElement(eM.default,{label:c("triggerManager.confirmationModal.secondaryText"),onClick:e.hideConfirmationModal}))}),e.state.showCannotConnectModal&&eg.createElement(lL,{onClose:e.hideCannotConnectModal,vendorName:p,vendorLink:h}))}})}}]),r}(eg.PureComponent);l9.propTypes={account:ey().object,error:ey().object,konnector:ey().object.isRequired,onSubmit:ey().func.isRequired,showError:ey().bool,t:ey().func,fieldOptions:ey().object},l9.defaultProps={showError:!0,fieldOptions:{}};let de=ej()(lZ(),eG.A,lX)(l9);var dt=n(42574),dn=n(89738);let dr=function(e){var t=e.reason,n=e.konnector,r=e.onClose;if("max_accounts_by_konnector"===t){var a=(0,dn.UJ)(n.slug);return eg.createElement(dt.MaxAccountsByKonnectorPaywall,{max:a,konnectorName:n.name,onClose:r})}if("max_accounts"===t){var i=(0,dn.I9)();return eg.createElement(dt.MaxAccountsPaywall,{max:i,onClose:r})}};function da(e,t){var n=window.screenLeft||screen.left,r=window.screenTop||screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;return{w:e,h:t,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-t/2+r,left:a/2-e/2+n}}var di=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(e,t){var a;return ei()(this,r),(a=n.call(this,e,t)).handleClose=a.handleClose.bind(eu()(a)),a.handleUrlChange=a.handleUrlChange.bind(eu()(a)),a}return ec()(r,[{key:"componentDidMount",value:function(){this.showPopup()}},{key:"componentWillUnmount",value:function(){this.killPopup()}},{key:"handleClose",value:function(e){this.killPopup();var t=this.props.onClose;"function"==typeof t&&t(e)}},{key:"showPopup",value:function(){var e=this.props,t=e.height,n=e.width,r=e.title,a=e.url,i=da(n,t),o=i.w,c=i.h,s=i.top,u=i.left,l=window.open(a,r,"scrollbars=yes, width=".concat(o,", height=").concat(c,", top=").concat(s,", left=").concat(u));if(!l)throw Error("Popup was blocked by browser. Be sure to not call showPopup asynchronously");l.focus&&l.focus(),this.startMonitoringClosing(l),this.setState({popup:l})}},{key:"killPopup",value:function(){var e=this.state.popup;this.stopMonitoringClosing(),e.closed||e.close()}},{key:"monitorClosing",value:function(e){if(e.closed)return this.stopMonitoringClosing(),this.handleClose(e)}},{key:"startMonitoringClosing",value:function(e){var t=this;this.checkClosedInterval=setInterval(function(){return t.monitorClosing(e)},500)}},{key:"stopMonitoringClosing",value:function(){clearInterval(this.checkClosedInterval)}},{key:"handleUrlChange",value:function(e){var t=e.url,n=this.props.onUrlChange;"function"==typeof n&&n(new URL(t))}},{key:"render",value:function(){return null}}]),r}(eg.PureComponent);function dc(e){clearInterval(e)}di.propTypes={height:ey().oneOfType([ey().string,ey().number]).isRequired,width:ey().oneOfType([ey().string,ey().number]).isRequired,title:ey().string,url:ey().string.isRequired,onClose:ey().func,onMessage:ey().func,onUrlChange:ey().func},di.defaultProps={title:""};var ds=n(43901),du="CLOSED",dl="ERROR";function dd(){return(dd=tr()(ti().mark(function e(t){var n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oAuthUrl,r=t.webviewIntent,a=t.registerRealtime,e.abrupt("return",new Promise(function(e,t){(function(){var i=tr()(ti().mark(function i(){var o,c,s,u;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r){i.next=2;break}return i.abrupt("return",t("No webviewIntent available"));case 2:return i.prev=2,a(function(t){return r.call("closeInAppBrowser"),e(t)}),tt.A.debug("url at the beginning: ",n),i.next=7,r.call("fetchSessionCode");case 7:return o=i.sent,tt.A.debug("got session code",o),(c=new URL(n)).searchParams.append("session_code",o),s=decodeURIComponent(c.toString()),tt.A.debug("url to open: ",s),i.next=15,r.call("showInAppBrowser",{url:s});case 15:if((null==(u=i.sent)?void 0:u.type)==="dismiss"||(null==u?void 0:u.type)==="cancel"){i.next=19;break}return e({result:dl,error:u}),i.abrupt("return");case 19:return r.call("closeInAppBrowser"),e({result:du}),i.abrupt("return");case 24:return i.prev=24,i.t0=i.catch(2),r.call("closeInAppBrowser"),e({result:dl,error:i.t0}),i.abrupt("return");case 29:case"end":return i.stop()}},i,null,[[2,24]])}));return function(){return i.apply(this,arguments)}})()()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function df(e){var t=e.client,n=e.konnector;return function(e){var r,a,i=t.plugins.realtime,o=(r=n,a=e,function(e){var t=e.data;if((0,ds.i$)(r,t)){if(t.error){tt.A.info("OAuthWindow: oauth error message",t.error),a({result:"CANCEL",error:t.error});return}a({result:"OK",key:t.key,data:t})}});return i.subscribe("notified","io.cozy.accounts",ds.Ah,o),function(){return i.unsubscribe("notified","io.cozy.accounts",ds.Ah,o)}}}function dp(e){var t,n,r,a,i,o,c,s,u,l,d,f,p,h,m,v,y,g,b=e.client,w=e.konnector,k=e.redirectSlug,x=e.extraParams,O=e.reconnect,_=e.manage,E=e.title,C=e.webviewIntent,S=e.account,P=e.intentsApi,A=(0,ds.DI)({client:b,konnector:w,redirectSlug:k,extraParams:x,reconnect:O,manage:_,account:S}),D=A.oAuthStateKey,T=A.oAuthUrl;return P?(n=(t={oAuthUrl:T,intentsApi:P,registerRealtime:df({konnector:w,client:b})}).oAuthUrl,r=t.registerRealtime,a=t.intentsApi,g=new Promise(function(e,t){var i;(i=tr()(ti().mark(function i(){var o,c,s,u,l,d,f,p,h;return ti().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=a.fetchSessionCode,c=a.showInAppBrowser,s=a.closeInAppBrowser,l=void 0===(u=a.tokenParamName)?"session_code":u,(null==a?void 0:a.fetchSessionCode)&&(null==a?void 0:a.showInAppBrowser)&&(null==a?void 0:a.closeInAppBrowser)){i.next=4;break}return i.abrupt("return",t("Missing method in intentsApi"));case 4:return i.prev=4,r(function(t){return s(),e(t)}),i.next=8,o();case 8:return d=i.sent,tt.A.debug("got session code",d),(f=new URL(n)).searchParams.append(l,d),p=decodeURIComponent(f.toString()),tt.A.debug("url to open: ",p),i.next=16,c(p);case 16:if((null==(h=i.sent)?void 0:h.state)==="dismiss"||(null==h?void 0:h.state)==="cancel"){i.next=19;break}return i.abrupt("return",e({result:dl,error:h}));case 19:return i.abrupt("return",e({result:du}));case 22:return i.prev=22,i.t0=i.catch(4),i.abrupt("return",e({result:"ERROR",error:i.t0}));case 25:case"end":return i.stop()}},i,null,[[4,22]])})),function(){return i.apply(this,arguments)})()})):(0,lf.isFlagshipApp)()&&C?g=function(e){return dd.apply(this,arguments)}({oAuthUrl:T,webviewIntent:C,registerRealtime:df({konnector:w,client:b})}):(o=(i={url:T,title:E||"",width:800,height:800,registerRealtime:df({konnector:w,client:b})}).url,c=i.title,s=i.width,u=i.height,l=i.registerRealtime,f=(d=da(s,u)).w,p=d.h,h=d.top,m=d.left,v="scrollbars=yes, width=".concat(f,", height=").concat(p,", top=").concat(h,", left=").concat(m),y=window.open(o,c||"",v),g=new Promise(function(e,t){y||t("Popup was blocked by browser. Be sure to not call showPopup asynchronously"),y.focus&&y.focus();var n,r,a,i,o,c=function(t){dc(i),l&&o(),y.closed||y.close(),e(t)};l&&(o=l(c)),n=y,r=c,i=a=setInterval(function(){n.closed&&(dc(a),r({result:"CLOSED"}))},500)})),g.then(function(e){return(0,ds.t9)(D),e})}var dh=n(53832);let dm=function(e){var t=e.account,n=e.client,r=e.konnector,a=e.reconnect,i=t6(r),o=i.fetchExtraOAuthUrlParams,c=(0,eg.useState)("loading"),s=ty()(c,2),u=s[0],l=s[1],d=(0,eg.useState)(null),f=ty()(d,2),p=f[0],h=f[1];return(0,dh.Ay)(function(){var e,c=(e=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.fetchExtraOAuthUrlParams({account:t,konnector:r,client:n,reconnect:a});case 3:h(e.sent),l("loaded"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l("errored");case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return e.apply(this,arguments)});o&&c()},[t,n,r,i,o,a]),{fetchStatus:u,needsExtraParams:o,extraParams:p}};var dv=function(e){var t,n=e.account,r=e.flow,a=e.intentsApi,i=e.konnector,o=e.onSuccess,c=e.reconnect,s=e.t,u=(0,ew.useClient)(),l=lG(r),d=(0,eO.useWebviewIntent)(),f=(0,sY.Zp)(),p=dm({account:n,client:u,konnector:i,reconnect:c}),h=p.extraParams,m=p.needsExtraParams,v=(0,eg.useState)(!1),y=ty()(v,2),g=y[0],b=y[1],w=(0,eg.useCallback)(tr()(ti().mark(function e(){var t,s;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,dp({client:u,konnector:i,account:n,extraParams:h,intentsApi:a,webviewIntent:d,reconnect:c});case 3:if(t=e.sent,b(!1),"OK"===t.result)t6(i).isBIWebView&&f("../accounts/bi/success",{replace:!0}),s=t.key,"function"==typeof o&&o(s);else{var l;t.result===dl&&r.triggerEvent(eK,"access_denied"===(l=t.error)?new th.nc("OAUTH_CANCELED"):l)}case 6:case"end":return e.stop()}},e)})),[n,u,h,r,a,i,o,c,f,d]),k=function(){b(!1)};(0,eg.useEffect)(function(){return c&&h&&w(),r.on(eQ,k),function(){r.removeListener(eQ,k)}},[h,r,w,c]);var x=l.error,O=g||l.running||m&&!h,_=null==(t=i.categories)?void 0:t.includes("banking"),E=c?_?"oauth.banking.reconnect.label":"oauth.reconnect.label":_?"oauth.banking.connect.label":"oauth.connect.submit";return eg.createElement(eg.Fragment,null,x&&eg.createElement(l5,{className:"u-mb-1",error:x,konnector:i}),!c&&eg.createElement(lY,{title:s("oauth.connect.title"),description:s("oauth.connect.description",{name:i.name}),buttonProps:{busy:O,disabled:O,label:s(E),onClick:w}}))};dv.propTypes={account:ey().object,konnector:ey().object.isRequired,onSuccess:ey().func,t:ey().func.isRequired,reconnect:ey().bool,intentsApi:ux};let dy=eg.memo(ej()(eG.A)(dv),t7());var dg=n(70879),db=n(32859),dw=n(27282),dk=n(72637),dx=n(38143),dO=n(76302),d_=["cipherView","konnector","className","onClick"],dE=function(e){var t=e.cipherView,n=e.konnector,r=e.className,a=e.onClick,i=eU()(e,d_);return eg.createElement(dw.default,eL()({button:!!a,divider:!0,className:r,onClick:a},i),eg.createElement(dk.default,null,eg.createElement(dO.default,{konnector:n})),eg.createElement(dx.default,{primary:tb()(t,"login.username"),secondary:t.name}))};dE.propTypes={cipherView:ey().object.isRequired,konnector:ey().object.isRequired};var dC=["f","t"];let dS=(0,eG.A)(function(e){e.f;var t=e.t,n=eU()(e,dC);return eg.createElement(dw.default,eL()({button:!0},n),eg.createElement(dx.default,{primary:t("vaultCiphersList.otherAccount")}))});var dP=function(e){var t=e.konnector,n=e.onSelect,r=e.ciphers,a=e.t,i=r.filter(function(e){return!e.deletedDate});return eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{className:"u-ta-center u-mb-2",variant:"h4"},a("vaultCiphersList.title")),eg.createElement(db.default,{elevation:4},eg.createElement(dg.default,null,i.map(function(e){return eg.createElement(dE,{key:e.id,cipherView:e,konnector:t,onClick:function(){return n(e)}})}),eg.createElement(dS,{onClick:function(){return n(null)}}))))};dP.propTypes={konnector:ey().object.isRequired,onSelect:ey().func.isRequired,t:ey().func.isRequired};var dA=(0,eG.A)(dP),dD=function(e){ed()(c,e);var t,n,r,a,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(c);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function c(e){ei()(this,c);var t=o.call(this,e),n=e.account||e.flow.account;return t.handleOAuthAccountId=t.handleOAuthAccountId.bind(eu()(t)),t.handleSubmit=t.handleSubmit.bind(eu()(t)),t.handleError=t.handleError.bind(eu()(t)),t.handleCipherSelect=t.handleCipherSelect.bind(eu()(t)),t.showCiphersList=t.showCiphersList.bind(eu()(t)),t.handleVaultUnlock=t.handleVaultUnlock.bind(eu()(t)),t.state={account:n,error:null,step:n?"accountForm":null,selectedCipher:void 0,showBackButton:!1,ciphers:[],showPaywall:null,isWaitingPaywallCheck:!0},t}return ec()(c,[{key:"handleOAuthAccountId",value:(n=tr()(ti().mark(function e(t){var n,r,a,i,o,c,s,u,l;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this.props).client,a=n.flow,i=n.konnector,o=n.t,!(c=n.reconnect)){e.next=5;break}e.t0=a.account,e.next=8;break;case 5:return e.next=7,(0,tf.mb)(r,t);case 7:e.t0=e.sent;case 8:if(s=e.t0,u=t6(i),l=!0,!u.handleOAuthAccount){e.next=15;break}return e.next=14,u.handleOAuthAccount({account:s,flow:a,konnector:i,client:r,reconnect:c,t:o});case 14:l=e.sent;case 15:if(!l){e.next=18;break}return e.next=18,a.ensureTriggerAndLaunch(r,{account:s,konnector:i,trigger:a.trigger,t:o});case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getSelectedCipherId",value:function(){var e=this.state.selectedCipher;return e&&e.id}},{key:"handleSubmit",value:(r=tr()(ti().mark(function e(){var t,n,r,a,i,o,c,s,u,l=arguments;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},r=(n=this.props).client,a=n.flow,i=n.konnector,o=n.vaultClient,c=n.t,s=this.state.account,this.setState({error:null,status:"RUNNING"}),e.prev=4,u=this.getSelectedCipherId(),e.next=8,a.handleFormSubmit({client:r,account:s,cipherId:u,konnector:i,trigger:a.trigger,userCredentials:t,vaultClient:o,t:c});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",this.handleError(e.t0));case 13:return e.prev=13,this.setState({status:"IDLE"}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,10,13,16]])})),function(){return r.apply(this,arguments)})},{key:"handleError",value:function(e){var t=this.props.onError;this.setState({error:e}),"function"==typeof t&&t(e)}},{key:"handleCipherSelect",value:function(e){var t=this,n=this.props.konnector,r=this.cipherToAccount(e),a=ss.Ay.getFieldsValues(n,r);ss.Ay.hasValuesForRequiredFields(n,a)?this.setState({selectedCipher:e},function(){t.handleSubmit(a)}):this.setState({step:"accountForm",selectedCipher:e,showBackButton:!0})}},{key:"cipherToAccount",value:function(e){if(void 0===e)return null;var t=ss.Ay.getIdentifier(this.props.konnector.fields);return ut.Account.fromCipher(e,{identifierProperty:t})}},{key:"componentDidMount",value:(a=tr()(ti().mark(function e(){var t,n,r,a,i,o,c,s,u;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this.props).konnector,r=t.showUnlockForm,a=t.onVaultDismiss,i=t.vaultClosable,o=t.vaultClient,c=t.client,s=t.account,u=null,void 0!==s){e.next=6;break}return e.next=5,(0,eZ.zS)(n.slug,c);case 5:u=e.sent;case 6:if(this.setState({isWaitingPaywallCheck:!1}),null!==u){e.next=21;break}if(!t6(n).shouldSaveInVault(n)){e.next=18;break}if(o){e.next=12;break}throw Error("Konnector policy `shouldSaveInVault` is true, but no vault has been passed in the context of the TriggerManager. You can wrap it the TriggerManager in a VaultUnlockProvider or VaultProvider (from cozy-keys-lib).");case 12:return e.next=14,o.isLocked();case 14:e.sent?r({onDismiss:a,closable:i,onUnlock:this.handleVaultUnlock}):this.handleVaultUnlock(),e.next=19;break;case 18:this.showAccountForm();case 19:e.next=22;break;case 21:this.setState({showPaywall:u});case 22:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){this.props.error&&this.props.error!==e.error&&null===this.state.showPaywall&&this.setState({step:"accountForm"})}},{key:"hasCipherSelected",value:function(){return void 0!==this.state.selectedCipher}},{key:"showAccountForm",value:function(){this.setState({step:"accountForm",showBackButton:!1})}},{key:"showCiphersList",value:function(e){var t={step:"ciphersList"};e&&(t.ciphers=e),this.setState(t)}},{key:"handleVaultUnlock",value:(i=tr()(ti().mark(function e(){var t,n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this.props).vaultClient,r=t.konnector,e.next=3,n.isLocked();case 3:if(!e.sent){e.next=7;break}return this.showAccountForm(),e.abrupt("return");case 7:return e.next=9,n.getAll({type:q.Login});case 9:if(0!==e.sent.length){e.next=13;break}return this.showAccountForm(),e.abrupt("return");case 13:return e.prev=13,e.next=16,n.getAllDecrypted({type:q.Login,uri:tb()(r,"vendor_link")});case 16:0===(a=e.sent).length?this.showAccountForm():"accountForm"===this.state.step?this.setState({ciphers:a}):this.showCiphersList(a),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(13),tt.A.error("Error while getting decrypted ciphers for ".concat(r.slug," konnector:")),tt.A.error(e.t0);case 24:case"end":return e.stop()}},e,this,[[13,20]])})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.konnector,r=t.showError,a=t.t,i=t.fieldOptions,o=t.flow,c=t.client,s=t.OAuthFormWrapperComp,u=t.OAuthFormWrapperCompProps,l=t.reconnect,d=t.intentsApi,f=t.onClose,p=this.state,h=p.account,m=p.step,v=p.selectedCipher,y=p.showBackButton,g=p.ciphers,b=p.showPaywall,w=p.isWaitingPaywallCheck,k=n.oauth,x=t6(n);if(w)return eg.createElement("div",{className:"u-flex u-flex-column u-flex-items-center u-pv-2"},eg.createElement(cw.default,{size:"xxlarge"}));if(b)return eg.createElement(dr,{reason:b,konnector:n,onClose:function(){return f()}});if(k||x.isBIWebView){var O=s||eg.Fragment;return eg.createElement(O,void 0===u?{}:u,eg.createElement(dy,{client:c,flow:o,account:h,reconnect:l,konnector:n,onSuccess:this.handleOAuthAccountId,intentsApi:d}))}return eg.createElement(eg.Fragment,null,"ciphersList"===m&&eg.createElement(dA,{konnector:n,ciphers:g,onSelect:this.handleCipherSelect}),"accountForm"===m&&eg.createElement(eg.Fragment,null,y&&eg.createElement(uR,{onClick:function(){return e.showCiphersList()},label:a("back")}),eg.createElement(de,{account:this.hasCipherSelected()?this.cipherToAccount(v):h,flow:o,konnector:n,onSubmit:this.handleSubmit,showError:r,onBack:function(){return e.showCiphersList()},readOnlyIdentifier:this.hasCipherSelected(),fieldOptions:i})))}}]),c}(eg.Component);dD.propTypes={account:ey().object,konnector:ey().object.isRequired,showError:ey().bool,t:ey().func,onVaultDismiss:ey().func,vaultClosable:ey().bool,vaultClient:ey().object,client:ey().object,onError:ey().func,showUnlockForm:ey().func,error:ey().any,fieldOptions:ey().object,flow:ey().object,OAuthFormWrapperComp:ey().oneOfType([ey().element,ey().func]),OAuthFormWrapperCompProps:ey().object,reconnect:ey().bool,intentsApi:ux,onClose:ey().func};var dT=["onLaunch","onSuccess","onLoginSuccess","onError","initialTrigger","konnector"],dR=["vaultUnlockFormProps"],dj=ej()((0,eb.translate)(),ew.withClient,function(e){var t=function(t){var n=si();return eg.createElement(e,eL()({},t,n))};return t.displayName="withVaultUnlockContext(".concat(e.displayName||e.name,")"),t},lZ())(dD);function dM(e){var t=e.onLaunch,n=e.onSuccess,r=e.onLoginSuccess,a=e.onError,i=e.initialTrigger,o=e.konnector,c=eU()(e,dT);return cb()?eg.createElement(sj,{onLaunch:t,onSuccess:n,onLoginSuccess:r,onError:a,konnector:o,initialTrigger:i},function(e){var t=e.flow;return eg.createElement(dj,eL()({},c,{error:t.getState().error,flow:t,konnector:o}))}):null}var dI=(0,eg.createContext)({trackPage:function(){},trackEvent:function(){}}),dN=function(){return(0,eg.useContext)(dI)},dz=function(e){var t=dN();(0,eg.useEffect)(function(){t.trackPage(e)},[])};let dF=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,eg.useState)(t),a=ty()(r,2),i=a[0],o=a[1];return(0,eg.useEffect)(function(){var t=setTimeout(function(){o(n)},e);return function(){clearTimeout(t)}},[]),i};var dL={opacity:1,transition:"opacity 0.3s ease"},dB={opacity:0,transition:"opacity 0.3s ease"},dU=function(e){var t=e.konnector,n=e.account,r=e.trigger,a=e.fetching,i=e.redirectToAccount,o=e.reconnect,c=e.intentsApi,s=(0,sY.zy)().search,u=dF(500),l=o||s.endsWith("reconnect");return eg.createElement(uP.A,{"aria-label":t.name,content:a?eg.createElement("div",{className:"u-pv-2 u-ta-center"},eg.createElement(cw.default,{size:"xxlarge"})):eg.createElement(dM,{account:n,konnector:t,initialTrigger:r,onSuccess:i,showError:!0,onVaultDismiss:i,fieldOptions:{displaySecretPlaceholder:!0,focusSecretField:l},reconnect:l,intentsApi:c,onClose:i}),onBack:i,onClose:i,open:!0,size:"medium",style:u?dL:dB,title:t.name})},dV=function(e){ed()(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(a);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function a(e){var t;return ei()(this,a),(t=r.call(this,e)).state={trigger:null,account:null,fetching:!0,error:!1},t.redirectToAccount=t.redirectToAccount.bind(eu()(t)),t}return ec()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.accountId,n=e.accounts,r=tb()(n.find(function(e){return e.account._id===t}),"trigger");r?this.fetchAccount(r):tt.A.warn("No matching trigger for account",t),this.props.trackPage("editer_identifiants")}},{key:"fetchAccount",value:(n=tr()(ti().mark(function e(t){var n,r,a;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.client,this.setState({fetching:!0}),e.prev=2,r=sX.triggers.getAccountId(t),e.next=6,(0,tf.mb)(n,r);case 6:return a=e.sent,this.setState({account:a,trigger:t}),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(2),this.setState({error:e.t0});case 14:return e.prev=14,this.setState({fetching:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])})),function(e){return n.apply(this,arguments)})},{key:"redirectToAccount",value:function(){this.state.account?this.props.navigate("../config",{replace:!0,relative:"path"}):this.props.navigate("..")}},{key:"render",value:function(){var e=this.props,t=e.konnector,n=e.reconnect,r=e.intentsApi,a=this.state,i=a.trigger,o=a.account,c=a.fetching;return eg.createElement(dU,{konnector:t,intentsApi:r,account:o,trigger:i,fetching:c,redirectToAccount:this.redirectToAccount,reconnect:n})}}]),a}(eg.Component);dV.propTypes={konnector:ey().object.isRequired,accountId:ey().string.isRequired,accounts:ey().array.isRequired,reconnect:ey().bool,intentsApi:ux};let dH=s$()(ew.withClient,function(e){var t=function(t){return eg.createElement(dI.Consumer,null,function(n){var r=n.trackPage,a=n.trackEvent;return eg.createElement(e,eL()({},t,{trackPage:r,trackEvent:a}))})};return t.displayName="withTracker(".concat(e.name||e.displayName,")"),t})(function(e){var t=(0,sY.Zp)();return eg.createElement(dV,eL()({},e,{navigate:t}))});var dq=n(10230),dW=n(94283),dG=n(16035),dZ=n(40463),dK=function(e){var t=e.t,n=e.trigger,r=e.konnector;return eg.createElement(sj,{initialTrigger:n,konnector:r},function(e){var n=e.flow.getState(),a=n.error,i=n.running,o=(0,th.rx)(a,r,t,"title");return i?eg.createElement("div",{className:"u-flex u-flex-justify-center u-flex-items-center"},eg.createElement(cw.default,{className:"u-flex-shrink-0"})):a?eg.createElement("div",{className:"u-flex u-flex-justify-center u-flex-items-center"},eg.createElement(eC.default,{variant:"caption",className:"u-mr-half u-error"},o),eg.createElement(s1.default,{icon:dZ.A,size:16,className:"u-error u-flex-shrink-0"})):eg.createElement(s1.default,{icon:dG.A,size:16,className:"u-flex-shrink-0 u-valid u-success"})})};dK.propTypes={konnector:ey().shape({name:ey().string,vendor_link:ey().string}).isRequired,trigger:ey().object.isRequired,t:ey().func.isRequired};let dQ=(0,eb.translate)()(dK);var dY=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.onClick,r=e.konnector,a=e.trigger,i=ut.Account.getAccountName(t),o=ut.Account.getAccountLogin(t),c=o&&i!==o;return eg.createElement(lV.A,{className:"u-flex u-flex-justify-between u-flex-items-center u-c-pointer u-maw-100",onClick:n},eg.createElement("div",{className:"u-flex-grow-1 u-flex-shrink-1 u-ov-hidden u-mr-1"},eg.createElement(eC.default,{className:"u-ellipsis",variant:"body1",gutterBottom:c},i),c&&eg.createElement(eC.default,{className:"u-ellipsis",variant:"caption",color:"textSecondary"},o)),eg.createElement(dQ,{konnector:r,trigger:a}))}}]),r}(eg.PureComponent);dY.propTypes={account:ey().object.isRequired,konnector:ey().shape({name:ey().string,vendor_link:ey().string}).isRequired,trigger:ey().object.isRequired,onClick:ey().func.isRequired};var dJ=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){return ei()(this,r),n.apply(this,arguments)}return ec()(r,[{key:"render",value:function(){var e=this.props,t=e.accounts,n=e.konnector,r=e.addAccount,a=e.onPick,i=e.t;return eg.createElement(dq.A,{className:"u-pb-2 u-pt-0 u-ph-0"},eg.createElement("ul",{className:"u-nolist u-p-0 u-m-0"},t.map(function(e,t){return eg.createElement("li",{key:t,className:"u-mb-half"},eg.createElement(dY,{account:e.account,konnector:n,trigger:e.trigger,onClick:function(){return a(e)}}))}),eg.createElement("li",{className:"u-mb-half"},eg.createElement(lV.A,{className:"u-p-0"},eg.createElement(eM.default,{label:i("modal.addAccount.button"),variant:"text",fullWidth:!0,icon:eg.createElement(s1.default,{icon:dW.default}),className:"u-bdrs-4",onClick:r})))))}}]),r}(eg.PureComponent);dJ.propTypes={accounts:ey().array.isRequired,konnector:ey().shape({name:ey().string,vendor_link:ey().string}).isRequired,addAccount:ey().func.isRequired,onPick:ey().func.isRequired,t:ey().func.isRequired};let d$=(0,eb.translate)()(dJ);var dX=function(e){var t=e.konnector,n=e.accounts,r=e.t,a=(0,sY.Zp)();return eg.createElement(eg.Fragment,null,eg.createElement(uh.A,{disableTypography:!0,className:"u-pt-3 u-pt-2-s"},eg.createElement("div",{className:"u-w-3 u-h-3 u-mh-auto"},eg.createElement(eW,{konnector:t})),eg.createElement(eC.default,{variant:"h5",className:"u-title-h3 u-ta-center"},r("modal.accounts.title",{name:t.name}))),eg.createElement(s0,null,eg.createElement(d$,{accounts:n,konnector:t,onPick:function(e){return a("accounts/".concat(e.account._id),{replace:!0})},addAccount:function(){return a("new")}})))};dX.propTypes={konnector:ey().object.isRequired,accounts:ey().array.isRequired};let d0=(0,eb.translate)()(dX);var d1=function(e){var t=e.accounts,n=e.konnector;return 0===t.length?eg.createElement(sY.C5,{to:"new",replace:!0}):1===t.length?eg.createElement(sY.C5,{to:"accounts/".concat(t[0].account._id),replace:!0}):eg.createElement(d0,{konnector:n,accounts:t})};d1.propTypes={accounts:ey().array,konnector:ey().object.isRequired},d1.defaultProps={accounts:[]};let d2=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 16 10"},e),eg.createElement("path",{d:"M14.546 3.545H8.473A4.357 4.357 0 004.363.636 4.367 4.367 0 000 5a4.367 4.367 0 004.364 4.364 4.357 4.357 0 004.109-2.91h.254l1.455 1.455 1.454-1.455 1.455 1.455L16 4.971l-1.454-1.426zM4.364 7.182c-1.2 0-2.182-.982-2.182-2.182s.982-2.182 2.182-2.182S6.545 3.8 6.545 5s-.981 2.182-2.181 2.182z"}))};var d3=n(83393);let d4=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 17 16"},e),eg.createElement("path",{d:"M13.907 11.45l-1.19-1.23a2.42 2.42 0 001.289-.843c.33-.416.495-.902.495-1.457 0-.66-.23-1.223-.694-1.685a2.294 2.294 0 00-1.685-.694H9.743a.767.767 0 01-.565-.228.767.767 0 01-.228-.565c0-.225.076-.413.228-.565a.767.767 0 01.565-.228h2.38c1.096 0 2.031.386 2.805 1.16.773.773 1.16 1.708 1.16 2.805a3.9 3.9 0 01-.585 2.082 3.797 3.797 0 01-1.596 1.447zm-2.875-2.915L9.624 7.127h.912c.225 0 .413.076.565.228.152.152.228.34.228.565a.787.787 0 01-.08.357.69.69 0 01-.217.258zm3.866 7.236a.752.752 0 01-.555.218.752.752 0 01-.555-.218L.306 2.29a.752.752 0 01-.219-.555c0-.225.073-.41.219-.555A.752.752 0 01.86.961c.224 0 .41.073.555.218l13.482 13.482c.145.146.218.33.218.555 0 .225-.073.41-.218.555zM4.192 11.885c-1.097 0-2.033-.386-2.806-1.16C.613 9.953.226 9.018.226 7.92c0-.912.278-1.725.833-2.439A3.864 3.864 0 013.2 4.074L4.667 5.54h-.475c-.661 0-1.223.231-1.686.694a2.294 2.294 0 00-.694 1.685c0 .66.232 1.223.694 1.685a2.294 2.294 0 001.686.694H6.57c.224 0 .413.076.565.228.152.152.228.34.228.565a.767.767 0 01-.228.565.767.767 0 01-.565.228H4.19zm1.586-3.172a.767.767 0 01-.565-.228.767.767 0 01-.228-.565c0-.225.076-.413.228-.565a.767.767 0 01.565-.228h.495L7.84 8.713H5.778z"}))};var d6=n(77148),d5=n(62858);let d7=function(e){var t=e.children,n=e.style,r=e.className;return(0,eS.default)().isMobile?eg.createElement(dg.default,{className:r,style:n},t):eg.createElement(s4.default,{spacing:"s",className:cx()("styles__DesktopSectionWrapper___1rIWP",r),style:n},t)};var d8=function(e){var t=e.children;return eg.createElement(lV.A,{className:"u-p-0 u-ov-hidden u-mb-1-half"},t)},d9=function(e){var t=e.children;return(0,eS.default)().isMobile?eg.createElement(eg.Fragment,null,t):eg.createElement(d8,null,t)},fe=function(e){var t=e.children;return(0,eS.default)().isMobile?eg.createElement(d5.default,null,t):eg.createElement(eC.default,{variant:"subtitle1",color:"textSecondary",className:"u-mb-1"},t)},ft=n(85561);let fn=n(96746).A;var fr=n(99533),fa=function(e){var t,n=e.konnector,r=e.account,a=e.t,i=e.intentsApi,o=e.innerAccountModalOverrides,c=e.onAccountDeleted,s=(0,eg.useState)(null),u=ty()(s,2),l=u[0],d=u[1],f=t6(n),p=(0,ew.useClient)(),h=(0,eO.useWebviewIntent)(),m=(0,fr.FK)(),v=(t=tr()(ti().mark(function e(t){var i;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==new URLSearchParams(null==t||null==(i=t.data)?void 0:i.finalLocation).get("connection_deleted")){e.next=4;break}return e.next=3,m.showDialog({title:a("modal.deleteBIConnection.title"),closeLabel:a("modal.deleteBIConnection.confirm-deletion"),description:a("modal.deleteBIConnection.description")});case 3:c();case 4:f.refreshContracts({client:p,account:r,konnector:n});case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});if((0,eg.useEffect)(function(){function e(){return(e=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.fetchExtraOAuthUrlParams({client:p,account:r,konnector:n,manage:!0});case 2:d(e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}f.fetchExtraOAuthUrlParams&&function(){e.apply(this,arguments)}()},[n,r,p,f]),!f.fetchExtraOAuthUrlParams)return null;var y=null!=o&&o.SyncButtonWrapperComp?o.SyncButtonWrapperComp:eg.Fragment;return eg.createElement(dw.default,null,eg.createElement(y,null,eg.createElement(fn,{variant:"text",color:"primary",disabled:!l,onClick:tr()(ti().mark(function e(){var t;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dp({client:p,konnector:n,account:r,extraParams:l,intentsApi:i,webviewIntent:h,manage:!0});case 3:return t=e.sent,e.next=6,v(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),tt.A.error("openOAuthWindow error",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))},a("contracts.handle-synchronization"))))};fa.propTypes={t:ey().func,account:ey().object,intentsApi:ux,innerAccountModalOverrides:uO,onAccountDeleted:ey().func};let fi=eg.memo((0,eG.A)(fa),t7());var fo=n(90128),fc=n.n(fo);let fs=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 16 13"},e),eg.createElement("path",{d:"M12.8 0H3.2A3.2 3.2 0 000 3.2v6.4a3.2 3.2 0 003.2 3.2h9.6A3.2 3.2 0 0016 9.6V3.2A3.2 3.2 0 0012.8 0zm-1.488 7.816c-.192.16-.456.224-.704.16L1.72 5.8c.24-.584.808-1 1.48-1h9.6c.536 0 1.008.272 1.304.672l-2.792 2.344zM3.2 1.6h9.6c.88 0 1.6.72 1.6 1.6v.44a3.198 3.198 0 00-1.6-.44H3.2c-.584 0-1.128.168-1.6.44V3.2c0-.88.72-1.6 1.6-1.6z"}))};var fu=n(92153),fl=n(13123),fd=n(23915),ff=n(70173),fp=n(63468);n(35970),n(50014);var fh=[" (sans Secure Key)"],fm=function(e){return e?e.shortLabel||e.label:""},fv=function(e){return{_id:e._id,_type:e._type}},fy={"io.cozy.bank.accounts":function(e,t){Object.keys(t).forEach(function(n){if("owners"===n){var r=t[n].filter(Boolean).map(fv);tO()(e,"relationships.owners.data",r)}else e[n]=t[n]})},default:tO()},fg=(B=tr()(ti().mark(function e(t,n,r){var a,i,o;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.fields,i=r.onSuccess,o=r.onError,(fy[n._type]||fy.default)(n,a),e.prev=3,e.next=6,t.save(n);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),o(e.t0);case 12:case"end":return e.stop()}},e,null,[[3,9]])})),function(e,t,n){return B.apply(this,arguments)}),fb={"io.cozy.bank.accounts":fm},fw=function(e){var t;return!!(null==e||null==(t=e.metadata)?void 0:t.disabledAt)},fk=function(e){var t;return!!(null==e||null==(t=e.metadata)?void 0:t.error)},fx=function(e){var t;return!!(null==e||null==(t=e.metadata)?void 0:t.imported)},fO={en:fl.A,fr:ff.default,es:fd.A},f_=function(e){var t=e.contract,n=(0,eb.useI18n)(),r=n.t,a=n.f,i=n.lang;return t._deleted?r("contracts.deleted"):fk(t)?eg.createElement(eg.Fragment,null,eg.createElement(s1.default,{icon:fp.A,size:8,color:"#FE952A"})," ",eg.createElement("span",{style:{color:"#EFA82D"}},(0,fu.default)(new Date(t.metadata.updatedAt),{addSuffix:!0,locale:fO[i]}))):fw(t)?eg.createElement(eg.Fragment,null,eg.createElement(s1.default,{icon:d4,size:8})," ",r("contracts.desynchronized.message",{date:a(new Date(t.metadata.disabledAt),r("contracts.desynchronized.dateFormat"))})):fx(t)?eg.createElement(eg.Fragment,null,eg.createElement(s1.default,{icon:fp.A,size:8})," ",(0,fu.default)(new Date(t.metadata.updatedAt),{addSuffix:!0,locale:fO[i]})):null};f_.propTypes={contract:ey().object};var fE=n(82092),fC=n(58057),fS=n(85437),fP=n(1684),fA=n(65270),fD=n(96899),fT=(0,eg.forwardRef)(function(e,t){var n=(0,eb.useI18n)().t;return eg.createElement(fA.default,eL()({ref:t,listPlaceholder:n("contractForm.listPlaceholder"),listEmptyMessage:n("contractForm.listEmptyMessage"),addContactLabel:n("contractForm.addContactLabel")},e))}),fR=(0,fS.A)({root:{flexGrow:0}})(dq.A),fj=function(e){var t=e.onCancel,n=e.onConfirm,r=e.title,a=e.description,i=e.secondaryText,o=e.primaryText;return eg.createElement(lz.A,{open:!0,onClose:t,title:r,content:eg.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),actions:eg.createElement(eg.Fragment,null,eg.createElement(eM.default,{variant:"secondary",label:i,onClick:t}),eg.createElement(eM.default,{color:"error",label:o,onClick:n}))})},fM=function(e){var t,n,r=(0,eb.useI18n)().t,a=(0,eS.default)().isMobile,i=(0,ew.useClient)(),o=dN(),c=(0,sz.useAlert)().showAlert,s=e.contract,u=e.onAfterRemove,l=e.onSuccess,d=e.onClose,f=e.onError;dz("editer_contrat");var p=(0,eg.useState)(!1),h=ty()(p,2),m=h[0],v=h[1],y=(0,eg.useState)(!1),g=ty()(y,2),b=g[0],w=g[1],k=(0,eg.useState)(fm(s)),x=ty()(k,2),O=x[0],_=x[1],E=(0,eg.useState)(tb()(s,"owners.data",[]).filter(Boolean)),C=ty()(E,2),S=C[0],P=C[1],A=(0,sM.A)({size:"medium",open:!0,onClose:d}),D=A.dialogProps,T=A.dialogTitleProps,R=(0,fD.do)("contacts"),j=(0,ew.useQuery)(R.definition,R.options),M=(0,ew.hasQueryBeenLoaded)(j)&&"loaded"===j.fetchStatus,I=(t=tr()(ti().mark(function e(t,n){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fg(i,t,{client:i,contract:t,fields:n,onSuccess:function(){l&&l(),c({message:r("contractForm.success"),severity:"success"})},onError:function(e){f&&f(e),console.error(e),c({message:r("contractForm.failure"),severity:"error"})}});case 2:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),N=function(){v(!1),o.trackEvent({name:"annuler"})},z=(n=tr()(ti().mark(function e(t){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,i.destroy(t);case 4:o.trackEvent({name:"confirmer_suppression"}),u&&u(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),c({message:r("contractForm.deletion_error"),severity:"error"});case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])})),function(e){return n.apply(this,arguments)}),F=r("contractForm.confirm-deletion.description"),L=a?"default":"inline";return eg.createElement(sN.default,D,eg.createElement(sI.A,{onClick:d}),eg.createElement(uh.A,T,a?eg.createElement(up.A,{onClick:d}):null,fm(s)),eg.createElement(fE.default,null),(0,ew.isQueryLoading)(j)?eg.createElement(cw.default,{className:"u-h-100 u-flex u-flex-items-center u-flex-justify-center",size:"xxlarge"}):eg.createElement(fR,{className:"u-pb-1"},eg.createElement("form",{id:"edit-contract-".concat(s._id),onSubmit:function(e){e.preventDefault(),I(s,{shortLabel:O,owners:S}),o.trackEvent({name:"appliquer"})}},eg.createElement(s4.default,{spacing:a?"s":"m"},eg.createElement(ez.default,{id:"account-label",placeholder:r("contractForm.label"),label:r("contractForm.label"),value:O,onChange:function(e){return _(e.target.value)},variant:L}),M&&eg.createElement(fP.default,{label:r("contractForm.owner"),values:S&&S.length>0?S:[null],component:fT,addButtonLabel:r("contractForm.addOwnerBtn"),removeButtonLabel:r("contractForm.removeOwnerBtn"),variant:L,onChange:function(e){P(e),o.trackEvent({name:"changement_titulaire"})},placeholder:r("contractForm.ownerPlaceholder")}),eg.createElement(ez.default,{id:"account-institution",placeholder:r("contractForm.bank"),label:r("contractForm.bank"),value:s?fh.reduce(function(e,t){return e.replace(t,"")},s.institutionLabel||""):s,disabled:!0,variant:L}),eg.createElement(ez.default,{id:"account-number",placeholder:r("contractForm.number"),label:r("contractForm.number"),value:s.number,disabled:!0,variant:L}),eg.createElement(eM.default,{type:"submit",form:"edit-contract-".concat(s._id),label:r("contractForm.apply"),theme:"primary",className:"u-ml-0"})))),eg.createElement(fE.default,null),eg.createElement(dq.A,{className:"u-pv-1"},eg.createElement(eM.default,{className:"u-ml-auto u-error u-ml-0 u-ph-half",icon:eg.createElement(s1.default,{icon:fC.default}),theme:"text",label:r("contractForm.removeAccountBtn"),onClick:function(e){e.preventDefault(),v(!0),o.trackEvent({name:"supprimer_compte"})}})),m?eg.createElement(fj,{title:r("contractForm.confirm-deletion.title"),description:F,primaryText:b?eg.createElement(cw.default,{color:"white"}):r("contractForm.confirm-deletion.confirm"),secondaryText:r("contractForm.cancel"),onConfirm:function(){return z(s)},onCancel:function(){return N()}}):null)};fM.propTypes={contract:ey().object.isRequired,onSuccess:ey().func.isRequired,onClose:ey().func.isRequired,accountId:ey().string,konnector:ey().object};let fI=(0,eG.A)(fM),fN=function(e){var t=e.contract,n=e.konnector,r=e.accountId,a=e.divider,i=(0,eg.useState)(!1),o=ty()(i,2),c=o[0],s=o[1],u=fw(t)?"var(--disabledTextColor)":"var(--iconTextColor)";return eg.createElement(eg.Fragment,null,eg.createElement(dw.default,{button:!0,divider:a,className:"u-c-pointer",onClick:function(){s(!0)}},eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:fs,color:u})),eg.createElement(dx.default,{primary:eg.createElement("span",{style:{color:u}},fc()((fb[t._type]||function(e){return e.label})(t).toLowerCase())),secondary:eg.createElement(f_,{contract:t})}),eg.createElement(d6.default,null,eg.createElement(s1.default,{icon:d3.default,className:"u-mr-1",color:"var(--secondaryTextColor)"}))),c&&eg.createElement(fI,{konnector:n,accountId:r,contract:t,onSuccess:function(){s(!1)},onClose:function(){s(!1)},onAfterRemove:function(){s(!1)}}))};var fz={"io.cozy.bank.accounts":"bankAccounts"},fF=function(e){var t=e.contracts,n=e.account,r=e.konnector,a=e.intentsApi,i=e.innerAccountModalOverrides,o=e.onAccountDeleted,c=(0,eb.useI18n)().t,s=t.data?t.data:t;if(0===s.length)return null;var u=fz[s[0]?s[0]._type:null]||"default";return eg.createElement(ft.default,null,eg.createElement(ew.RealTimeQueries,{doctype:"io.cozy.bank.accounts"}),eg.createElement(d7,null,eg.createElement(fe,null,c("contracts.headers.".concat(u))),eg.createElement(d9,null,s&&s.map(function(e,t){return eg.createElement(fN,{key:e._id,konnector:r,accountId:n?n._id:null,contract:e,divider:t!==s.length-1})}),eg.createElement(fi,{konnector:r,account:n,intentsApi:a,innerAccountModalOverrides:i,onAccountDeleted:o}))))},fL=ey().shape({fetchStatus:ey().string.isRequired,data:ey().array.isRequired});fF.propTypes={contracts:ey().oneOfType([fL,ey().array]),account:ey().object,konnector:ey().object,intentsApi:ux,innerAccountModalOverrides:uO,onAccountDeleted:ey().func};var fB=ej()(eG.A,(0,ew.queryConnect)({contracts:function(e){var t=e.account;return{query:function(){return(0,ew.Q)("io.cozy.bank.accounts").where({"relationships.connection.data._id":t._id}).include(["owners"]).indexFields(["relationships.connection.data._id"])},as:"connection-".concat(t._id,"/contracts"),fetchPolicy:ek().fetchPolicies.olderThan(3e4)}}}))(fF);(0,eG.A)(fF);let fU=function(e){var t=(0,eg.useRef)(),n=(0,eg.useState)(e),r=ty()(n,2),a=r[0],i=r[1],o=(0,eg.useRef)(function(){t.current&&i.apply(void 0,arguments)});return(0,eg.useEffect)(function(){return t.current=!0,function(){t.current=!1}}),[a,o.current]};var fV={borderTop:"none"},fH=function(e){var t=e.onConfirm,n=e.onCancel,r=(0,eb.useI18n)().t;return eg.createElement(lz.A,{open:!0,title:r("modal.deleteAccount.title"),content:r("modal.deleteAccount.description"),onClose:n,actions:eg.createElement(eg.Fragment,null,eg.createElement(eM.default,{variant:"secondary",label:r("modal.deleteAccount.cancel"),onClick:n}),eg.createElement(eM.default,{color:"error",label:r("modal.deleteAccount.confirm"),onClick:t}))})},fq=function(e){var t,n,r,a=e.konnector,i=e.account,o=e.addAccount,c=e.onAccountDeleted,s=e.showNewAccountButton,u=e.flow,l=e.intentsApi,d=e.innerAccountModalOverrides,f=(0,eb.useI18n)().t,p=(0,eS.default)().isMobile,h=(0,sY.Zp)(),m=(0,ew.useClient)(),v=cb(),y=(0,sz.useAlert)().showAlert,g=fU(!1),b=ty()(g,2),w=b[0],k=b[1],x=(0,eg.useState)(!1),O=ty()(x,2),_=O[0],E=O[1],C=dN(),S=u.getState().running,P=si().showUnlockForm;dz("configuration");var A=(t=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!1),!t6(a).saveInVault){e.next=6;break}P({closable:!0,onUnlock:T}),e.next=8;break;case 6:return e.next=8,D();case 8:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),D=(n=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,c(i),e.next=5,(0,tf.lw)(m,i);case 5:y({message:f("modal.updateAccount.delete-account-success"),severity:"success"}),C.trackEvent({name:"compte_bancaire_supprime",connectorSlug:i.account_type}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.warn("Error while deleting account",e.t0),y({message:f("modal.updateAccount.delete-account-error"),severity:"error"});case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return n.apply(this,arguments)}),T=(r=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return e.next=4,sd(v,i);case 4:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),R=t6(a),j=!(a.oauth||R.isBIWebView||a.clientSide);return eg.createElement("div",{className:p?"":"u-pt-1 u-pb-1-half"},eg.createElement(d7,{style:p?fV:null},eg.createElement(fe,null,f("modal.updateAccount.general-subheader")),eg.createElement(d9,null,j&&eg.createElement(dw.default,{button:!0,divider:!0,onClick:function(){return h("../accounts/".concat(i._id,"/edit"))}},eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:d2,color:"var(--iconTextColor)"})),eg.createElement(dx.default,{primary:f("modal.updateAccount.identifiers"),secondary:ut.Account.getAccountName(i)}),eg.createElement(d6.default,null,eg.createElement("div",null,S&&eg.createElement(cw.default,null),eg.createElement(s1.default,{className:"u-mr-1",icon:d3.default,color:"var(--iconTextColor)"})))),eg.createElement(dw.default,{button:!0,onClick:function(){E(!0)}},eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:d4,className:"u-error"})),eg.createElement(dx.default,{primary:eg.createElement("span",{className:"u-error"},null!=d&&d.deleteAccountLabel?d.deleteAccountLabel:f("accountForm.disconnect.button"))}),eg.createElement(d6.default,null,w&&eg.createElement(cw.default,null))),_?eg.createElement(fH,{onCancel:function(){E(!1)},onConfirm:A}):null),eg.createElement(fB,{konnector:a,account:i,intentsApi:l,innerAccountModalOverrides:d,onAccountDeleted:c})),s?eg.createElement("div",{className:uf()("u-ta-right u-mt-1",p?"u-ph-1 u-pb-1":null)},eg.createElement(eM.default,{extension:p?"full":null,onClick:o,className:"u-ml-0",label:f("modal.addAccount.button"),variant:"ghost"})):null)};fq.displayName="ConfigurationTab",fq.propTypes={konnector:ey().object.isRequired,account:ey().object,error:ey().object,flow:ey().object,addAccount:ey().func.isRequired,onAccountDeleted:ey().func.isRequired,intentsApi:ux,innerAccountModalOverrides:uO};var fW=n(16598),fG=n(34955),fZ=n(95674),fK=n(32022),fQ=function(e){if("object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message)return e;try{return Error(JSON.stringify(e))}catch(t){return Error(String(e))}},fY=function(e){if(!e)return null;try{return new URL(e).host}catch(e){return(0,tt.A)("warn",fQ(e).message),null}},fJ=function(e){var t=e.url,n=e.primaryText,r=e.secondaryText,a=e.icon;return eg.createElement(dw.default,{button:!0,className:"u-mb-half",component:"a",href:t,target:"_blank"},eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:a,size:16,color:"textPrimary"})),eg.createElement(dx.default,{primary:n,secondary:r}))},f$=function(e){var t=e.appSlug,n=(0,ew.useClient)(),r=(0,eb.useI18n)().t;if(!n||!t)return null;var a=n.getInstanceOptions().cozySubdomainType,i=new URL(n.getStackClient().uri),o=(0,ew.generateWebLink)({cozyUrl:i.origin,searchParams:[],pathname:"/",hash:"/myapps/".concat(t),slug:"store",subDomainType:a});return eg.createElement(fJ,{url:o,primaryText:r("card.information.store"),secondaryText:r("card.information.storeDescription"),icon:fK.A})},fX=function(e){var t=e.vendorLink,n=(0,eb.useI18n)().t,r=fY(t);return r?eg.createElement(fJ,{url:t,primaryText:n("card.information.websiteLink"),secondaryText:r,icon:fZ.default}):null},f0=function(e){var t=e.className,n=e.konnector,r=(0,eb.useI18n)().t;return eg.createElement(lV.A,{className:uf()("u-p-0",t)},eg.createElement("div",{className:"u-ph-1 u-flex u-flex-items-center",style:{minHeight:"64px"}},eg.createElement(eC.default,{variant:"h5"},r("card.information.title"))),eg.createElement(fE.default,{className:"u-ml-0 u-maw-100 u-mb-half"}),eg.createElement(dg.default,{className:"u-p-0"},eg.createElement(f$,{appSlug:n.slug}),eg.createElement(fX,{vendorLink:n.vendor_link})))},f1=n(28101),f2=n(32736),f3=n(89123),f4=n(74079),f6=function(){var e=(0,eb.useI18n)().t,t=(0,eg.useState)((0,lf.isFlagshipApp)()),n=ty()(t,2),r=n[0],a=n[1];return r?eg.createElement(f1.default,{action:eg.createElement(eM.default,{variant:"text",size:"small",label:e("card.launchTrigger.runningAlert.button"),onClick:function(){return a(!1)}}),block:!0,className:"u-mt-1",icon:eg.createElement(s1.default,{icon:f4.A})},eg.createElement(f3.default,null,e("card.launchTrigger.runningAlert.title")),e("card.launchTrigger.runningAlert.body")):null},f5=n(59930),f7=function(e){var t=e.flow,n=e.account,r=e.konnector,a=e.intentsApi,i=e.actionMenuItem,o=e.onClick,c=(0,eb.useI18n)().t,s=(0,ew.useClient)(),u=(0,eO.useWebviewIntent)(),l=dm({account:n,client:s,konnector:r,reconnect:!0}).extraParams,d=(0,eg.useCallback)(tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dp({client:s,konnector:r,account:n,extraParams:l,intentsApi:a,webviewIntent:u,reconnect:!0});case 4:"OK"===e.sent.result&&t.expectTriggerLaunch();case 6:case"end":return e.stop()}},e)})),[n,s,t,r,u,a,l]);return void 0!==i&&i?eg.createElement(f5.b,{left:eg.createElement(s1.default,{icon:fp.A}),onClick:function(){d(),o()}},c("card.launchTrigger.button.label")):eg.createElement(eM.default,{variant:"text",color:"error",size:"small",disabled:!l,label:c("card.launchTrigger.button.label"),onClick:d,busy:!l})};function f8(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.konnectorRoot,n=e.trigger,r=e.isInError,a=e.isRunning,i=e.error,o=e.flow,c=e.account,s=e.intentsApi,u=(0,eb.useI18n)().t,l=(0,sY.Zp)(),d=o.launch,f=o.konnector,p=(0,th.qf)(f,n),h=t6(f);return p?null:h.shouldLaunchDisplayOAuthWindow(i)?eg.createElement(f7,{flow:o,account:c,intentsApi:s,konnector:f}):eg.createElement(eM.default,{variant:"text",color:void 0!==r&&r?"error":void 0,size:"small",disabled:void 0!==a&&a,label:u("card.launchTrigger.button.label"),onClick:function(){if(h.shouldLaunchRedirectToEdit(i))return l(t?"".concat(t,"/accounts/").concat(sX.triggers.getAccountId(n),"/edit"):"/edit");d({autoSuccessTimer:!1})}})}f7.propTypes={flow:ey().object.isRequired,account:ey().object.isRequired,konnector:ey().object.isRequired,intentsApi:ux,actionMenuItem:ey().bool,onClick:ey().func};var f9=n(41190),pe=n(92372),pt=n(93583),pn=function(e){var t=e.actions,n=e.options,r=e.disabled,a=(0,eg.useRef)(),i=(0,eg.useState)(!1),o=ty()(i,2),c=o[0],s=o[1],u=(0,pe.gW)(t,n),l=function(){return s(!c)};return eg.createElement(eg.Fragment,null,eg.createElement(s2.default,{ref:a,onClick:l,"data-testid":"alert-menu-button",disabled:r},eg.createElement(s1.default,{icon:pt.default})),c?eg.createElement(f9.default,{ref:a,open:!0,actions:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoClose:!0,onClose:l}):null)};pn.defaultProps={actions:[],options:{}},pn.propTypes={actions:ey().arrayOf(ey().func).isRequired,options:ey().object.isRequired};var pr=(0,eP.A)(function(e){return{root:function(t){return{marginTop:1,marginBottom:t.hasChildren?8:-1,fontWeight:e.typography.fontWeightRegular}}}});function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,n=e.icon,r=e.color,a=e.severity,i=e.labelColor,o=e.block,c=void 0!==o&&o,s=e.menu,u=e.button,l=e.children,d=e.showAction,f=void 0===d||d,p=e.className,h=pr({hasChildren:!!l}),m=(0,eS.default)().isMobile;return eg.createElement(f1.default,{className:uf()("u-pos-relative",p),block:c,icon:n,color:r,severity:a,square:m,action:f&&eg.createElement(eg.Fragment,null,u,!c&&eg.createElement(dk.default,{className:"u-ml-half"},s))},c&&f&&eg.createElement(dk.default,{className:"u-pos-absolute u-top-xs u-right-xs"},s),eg.createElement(f3.default,{classes:h,variant:"caption",color:i},t),l)}function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.konnectorName,n=e.className,r=e.withoutIcon,a=(0,eb.useI18n)().t;return eg.createElement(pa,{severity:"secondary",icon:!(void 0!==r&&r)&&eg.createElement(s1.default,{icon:lp.A,color:"var(--iconTextColor)"}),label:a("accountForm.notClientSide",{name:t}),className:n})}pa.propsTypes={label:ey().string.isRequired,icon:ey().string.isRequired,color:ey().string,severity:ey().string,labelColor:ey().string,block:ey().bool,menu:ey().node,button:ey().node,children:ey().node,showAction:ey().bool},pi.propTypes={konnectorName:ey().string.isRequired,className:ey().string,withoutIcon:ey().bool};var po=n(647),pc=function(e){var t=e.flow,n=e.account,r=e.intentsApi,a=e.error,i=e.navigate,o=e.konnectorRoot,c=e.trigger,s=e.isDisconnected;return{name:"launchAction",action:function(){},displayCondition:function(){return!s},Component:(0,eg.forwardRef)(function(e,s){var u=(0,eb.useI18n)().t,l=t.konnector,d=t.launch,f=t6(l);return f.shouldLaunchDisplayOAuthWindow(a)?eg.createElement(f7,{flow:t,account:n,intentsApi:r,konnector:l,actionMenuItem:!0}):eg.createElement(po.A,eL()({},e,{ref:s,onClick:function(){if(f.shouldLaunchRedirectToEdit(a))return i(o?"".concat(o,"/accounts/").concat(sX.triggers.getAccountId(c),"/edit"):"./edit",{relative:"path"});d({autoSuccessTimer:!1})}}),eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:fp.A})),eg.createElement(dx.default,{primary:u("card.launchTrigger.button.label")}))})}},ps=n(81412),pu=function(e){var t=e.isDisconnected,n=e.konnectorRoot,r=e.navigate;return{name:"connectAction",action:function(){r("".concat(n,"/new"))},displayCondition:function(){return t},Component:(0,eg.forwardRef)(function(e,t){var n=(0,eb.useI18n)().t;return eg.createElement(po.A,eL()({},e,{ref:t}),eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:ps.default})),eg.createElement(dx.default,{primary:n("card.launchTrigger.connect")}))})}},pl=function(e){var t=e.isDisconnected,n=e.navigate,r=e.konnectorRoot,a=e.trigger;return{name:"configureAction",action:function(){n(r?"".concat(r,"/accounts/").concat(sX.triggers.getAccountId(a),"/config"):"./config",{relative:"path"})},displayCondition:function(){return!t},Component:(0,eg.forwardRef)(function(e,t){var n=(0,eb.useI18n)().t;return eg.createElement(po.A,eL()({},e,{ref:t}),eg.createElement(dk.default,null,eg.createElement(s1.default,{icon:ps.default})),eg.createElement(dx.default,{primary:n("card.launchTrigger.configure")}))})}};function pd(e){var t=e.label,n=e.error,r=e.konnectorRoot,a=e.trigger,i=e.isRunning,o=e.flow,c=e.account,s=e.intentsApi,u=e.isRunnable,l=(0,sY.Zp)(),d=o.konnector,f=(0,th.qf)(d,a);return eg.createElement(eg.Fragment,null,eg.createElement(pa,{block:!0,severity:"error",icon:eg.createElement(s1.default,{icon:lp.A}),label:t,labelColor:"error",showAction:u,menu:eg.createElement(pn,{actions:[pc,pu,pl],options:{flow:o,account:c,intentsApi:s,error:n,navigate:l,konnectorRoot:r,trigger:a,isRunning:i,isDisconnected:f},disabled:i}),button:eg.createElement(f8,{konnectorRoot:r,trigger:a,isInError:!0,error:n,flow:o,account:c,intentsApi:s,isRunning:i})},eg.createElement(l4,{error:n,konnector:d,linkProps:{className:"u-error"}})),u?null:eg.createElement(pi,{konnectorName:d.name,className:"u-mt-1",withoutIcon:!0}))}pd.propTypes={label:ey().string.isRequired,error:ey().oneOfType([ey().object,ey().bool]).isRequired,konnectorRoot:ey().string,trigger:ey().object.isRequired,isRunning:ey().bool.isRequired,flow:ey().object,account:ey().object,intentsApi:ey().object,isRunnable:ey().bool.isRequired};let pf=function(e){return eg.createElement("svg",eL()({viewBox:"0 0 16 16"},e),eg.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.408 6.408 0 011.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4z"}),eg.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.192 7.504a2.783 2.783 0 00-.648-2.896 2.775 2.775 0 00-3.28-.472l1.88 1.88-1.128 1.128-1.88-1.88a2.773 2.773 0 00.472 3.28c.784.784 1.92.992 2.896.648l2.728 2.728c.16.16.408.16.568 0l1.12-1.12a.396.396 0 000-.568L9.192 7.504z"}))};var pp=function(e){var t=e.maintenanceMessages,n=(0,eb.useI18n)().lang,r=tb()(t,[n,"long_message"]);return r?eg.createElement(eC.default,{variant:"body1",component:"div"},eg.createElement(lF.A,{source:r})):null};function ph(e){var t=e.isRunnable,n=e.withDescription,r=e.messages,a=e.label,i=e.konnectorRoot,o=e.trigger,c=e.konnector,s=(0,sY.Zp)(),u=(0,th.qf)(c,o),l=!!n;return eg.createElement(pa,{color:"var(--defaultBackgroundColor)",icon:eg.createElement(s1.default,{icon:pf,color:"var(--secondaryTextColor)"}),block:l,label:a,labelColor:"textSecondary",showAction:t,menu:eg.createElement(pn,{actions:[pu,pl],options:{konnectorRoot:i,trigger:o,navigate:s,isDisconnected:u}})},l?eg.createElement(pp,{maintenanceMessages:r}):null)}function pm(e){var t=e.label,n=e.isRunning,r=e.konnectorSlug,a=e.konnectorRoot,i=e.trigger,o=e.error,c=e.flow,s=e.account,u=e.intentsApi,l=e.isRunnable,d=(0,eS.useBreakpoints)().isMobile,f=(0,sY.Zp)(),p=c.konnector,h=(0,th.qf)(p,i);return l?eg.createElement(pa,{label:t,color:d?"var(--paperBackgroundColor)":"var(--contrastBackgroundColor)",icon:n?eg.createElement(cw.default,{className:"u-flex",noMargin:!0}):eg.createElement(eW,{className:"u-w-1 u-h-1",konnector:{slug:r}}),menu:eg.createElement(pn,{actions:[pc,pu,pl],options:{flow:c,account:s,intentsApi:u,error:o,navigate:f,konnectorRoot:a,trigger:i,isRunning:n,isDisconnected:h},disabled:n}),button:eg.createElement(f8,{konnectorRoot:a,trigger:i,isRunning:n,error:o,flow:c,account:s,intentsApi:u})}):eg.createElement(pi,{konnectorName:p.name})}pp.propTypes={maintenanceMessages:ey().shape({en:ey().shape({long_message:ey().string,short_message:ey().string}),fr:ey().shape({long_message:ey().string,short_message:ey().string})})},ph.propTypes={isRunnable:ey().bool,withDescription:ey().bool,messages:ey().object,label:ey().string,konnectorRoot:ey().string,trigger:ey().object,konnector:ey().object},pm.propTypes={label:ey().string.isRequired,isRunning:ey().bool.isRequired,konnectorSlug:ey().string.isRequired,konnectorRoot:ey().string,trigger:ey().object.isRequired,error:ey().oneOfType([ey().object,ey().bool]),flow:ey().object,account:ey().object,intentsApi:ey().object,isRunnable:ey().bool.isRequired};var pv=n(48011),py=function(e){var t=e.trigger,n=e.isInMaintenance,r=e.isInError,a=e.isRunning,i=e.isRunnable,o=e.withMaintenanceDescription,c=e.error,s=e.maintenanceMessages,u=e.account,l=e.konnectorRoot,d=e.intentsApi,f=e.flow,p=(0,eb.useI18n)().t,h=f.konnector,m=(0,pv.B)({t:p,konnector:h,trigger:t,isRunning:a,isInMaintenance:n});return n?eg.createElement(ph,{label:m,withDescription:o,messages:s,isRunnable:i,konnectorRoot:l,trigger:t,konnector:h}):r?eg.createElement(pd,{label:m,error:c,konnectorRoot:l,trigger:t,isRunning:a,isRunnable:i,flow:f,account:u,intentsApi:d}):eg.createElement(pm,{label:m,isRunning:a,konnectorSlug:h.slug,konnectorRoot:l,trigger:t,error:c,flow:f,account:u,intentsApi:d,isRunnable:i})};function pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pg(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let pw=function(e){var t,n,r,a,i,o,c=(null!=(t=(0,td.default)("harvest.skip-maintenance-for.list"))?t:[]).includes(e),s=(0,fD.eX)(e),u=(0,ew.useQuery)(s.definition,pb(pb({},s.options),{},{enabled:!c}));return c?{data:{isInMaintenance:!1,messages:{}},fetchStatus:"loaded",lastError:null}:{data:{isInMaintenance:null!=(n=null==(r=u.data)?void 0:r.maintenance_activated)&&n,messages:null!=(a=null==(i=u.data)||null==(o=i.maintenance_options)?void 0:o.messages)?a:{}},fetchStatus:u.fetchStatus,lastError:u.lastError}};var pk=function(e){var t=e.flow,n=e.t,r=e.konnectorRoot,a=e.intentsApi,i=e.account,o=e.withMaintenanceDescription,c=(0,eg.useState)(!1),s=ty()(c,2),u=s[0],l=s[1],d=lG(t),f=d.error,p=d.trigger,h=d.running,m=d.expectingTriggerLaunch,v=d.status,y=t.konnector,g=pw(y.slug),b=g.data,w=b.isInMaintenance,k=b.messages,x=g.fetchStatus,O=h||m,_=t6(y),E=_.isRunnable();return(0,eg.useEffect)(function(){v===e3&&l(!0)},[v]),eg.createElement(eg.Fragment,null,"loaded"===x?eg.createElement(py,{trigger:p,isRunning:O,isRunnable:E,isInError:!!f,isInMaintenance:w,error:f,withMaintenanceDescription:o,maintenanceMessages:k,account:i,konnectorRoot:r,intentsApi:a,flow:t}):null,_.shouldDisplayRunningAlert({running:h})&&eg.createElement(f6,null),eg.createElement(f2.A,{open:u,onClose:function(){return l(!1)}},eg.createElement(f1.default,{variant:"filled",elevation:6,severity:"success",onClose:function(){return l(!1)}},n("card.launchTrigger.success"))))};function px(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?px(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}pk.defaultProps={konnectorRoot:""},pk.propTypes={flow:ey().object,t:ey().func,konnectorRoot:ey().string,withDescription:ey().bool,intentsApi:ux,account:ey().object};var p_=function(e){if(e.flow)return eg.createElement(pk,e);var t=pO({},e);return e.initialTrigger&&(console.warn("props.initialTrigger is deprecated for LaunchTriggerCard, please use flowProps={{ initialTrigger: {...} }} instead."),t.flowProps={initialTrigger:e.initialTrigger}),eg.createElement(sj,t.flowProps,function(t){var n=t.flow;return eg.createElement(pk,eL()({},e,{flow:n}))})};p_.propTypes=pO(pO({},lV.A.propTypes),{},{flow:ey().object,flowProps:ey().object,disabled:ey().bool,intentsApi:ux,account:ey().object});let pE=(0,eb.translate)()(p_);var pC=n(1042),pS=n(21696),pP={query:(0,ew.Q)("io.cozy.apps"),as:"harvest-apps",fetchPolicy:ek().fetchPolicies.olderThan(3e4)},pA=function(e){var t=e.disabled,n=e.isBlocking,r=e.href,a=e.onClick,i=e.label;return eg.createElement(eM.default,{disabled:t,className:"u-m-0",component:"a",href:r,onClick:a,icon:pC.A,label:i,color:n?"error":void 0,variant:n?void 0:"secondary"})},pD=function(e){var t=e.label,n=e.isBlocking,r=e.konnector,a=(0,ew.useQuery)(pP.query,pP),i=a.data,o=a.fetchStatus,c=i?ut.Application.getStoreInstallationURL(i,r):null;return"loaded"===o&&c?eg.createElement(pS.default,{app:{slug:"store"},href:c},function(e){var r=e.onClick,a=e.href;return eg.createElement(pA,{href:a,isBlocking:n,label:t,onClick:r})}):eg.createElement(pA,{disabled:!0,label:t,isBlocking:n})};pD.propTypes={isBlocking:ey().bool,konnector:ey().object.isRequired,label:ey().string};let pT=(0,eg.memo)(pD);var pR=function(e){var t=(0,eb.useI18n)().t,n=e.className,r=e.konnector,a=e.isBlocking;return eg.createElement(ue,{className:n,theme:a?"danger":"secondary",description:eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{className:a?"u-error":"",variant:"h5"},t("infos.konnectorUpdate.title")),eg.createElement(eC.default,{variant:"body1"},t(a?"infos.konnectorUpdate.body.blocking":"infos.konnectorUpdate.body.regular"))),action:eg.createElement(pT,{konnector:r,isBlocking:a,label:t("infos.konnectorUpdate.button.label")})})};pR.propTypes={konnector:ey().object.isRequired,className:ey().string,isBlocking:ey().bool};let pj=eg.memo(pR);var pM=n(33031),pI=n.n(pM),pN=[{slug:"banks",priority:2,predicate:function(e){var t=e.konnectorManifest;return Array.isArray(t.data_types)&&t.data_types.includes("bankAccounts")}},{slug:"contacts",priority:1,predicate:function(e){var t=e.konnectorManifest;return Array.isArray(t.data_types)&&t.data_types.includes("contact")}}];let pz=function(e){var t=e.konnectorManifest,n=e.trigger,r=pN.filter(function(e){return e.predicate({konnectorManifest:t,trigger:n})});return pI()(r,function(e){return-e.priority}).map(function(e){return e.slug})},pF=function(e){var t=e.konnector,n=e.account,r=e.trigger,a=(0,eg.useContext)(sF),i=(0,eg.useMemo)(function(){var e;return a?(e={konnector:t,trigger:r,account:n},a.datacards.filter(function(t){return(0,t.match)(e)}).map(function(e){return e.component})):[]},[t,r,n,a]);return eg.createElement(eg.Fragment,null,i.map(function(e,a){return eg.createElement(e,{key:a,konnector:t,trigger:r,accountId:r.message.account,sourceAccountIdentifier:ew.models.account.getAccountName(n)})}))};var pL=["slug"],pB={height:"12px",backgroundColor:"var(--defaultBackgroundColor)"},pU=function(e){var t=e.konnector,n=e.konnectorRoot,r=e.trigger,a=e.client,i=e.flow,o=e.intentsApi,c=e.account,s=(0,eS.default)().isMobile,u=i.getState().error;dz("donnees");var l=!!u&&u.isTermsVersionMismatchError(),d=pz({konnectorManifest:t,trigger:r}).map(function(e){return fW.A[e]&&fW.A[e]({trigger:r})}).filter(Boolean).filter(function(e){return a.appMetadata.slug!==e.slug}),f=pw(t.slug).data.isInMaintenance;return eg.createElement("div",null,eg.createElement(pE,{konnectorRoot:n,flow:i,intentsApi:o,account:c,withMaintenanceDescription:!0}),s&&eg.createElement(fE.default,{style:pB}),eg.createElement("div",{className:s?"u-p-1":"u-pt-1 u-pb-1-half"},eg.createElement(s4.default,null,!f&&th.sn(t)&&eg.createElement(pj,{konnector:t,isBlocking:l}),d.map(function(e){var t=e.slug,n=eU()(e,pL);return eg.createElement(fG.A,eL()({key:t,slug:t},n))}),eg.createElement(pF,{account:c,trigger:r,konnector:t}),eg.createElement(f0,{konnector:t}))))};pU.propTypes={konnector:ey().object.isRequired,konnectorRoot:ey().string,trigger:ey().object.isRequired,client:ey().object.isRequired,flow:ey().object,intentsApi:ux,account:ey().object},pU.displayName="DataTab";let pV=(0,ew.withClient)(pU);var pH=n(29195),pq=n(6912),pW=function(e){var t=e.client,n=e.t,r="banks",a=(0,pq.A)(r,t),i=a.fetchStatus,o=a.url;return"loaded"===i?eg.createElement(pS.default,{app:{slug:r},href:o},function(e){var t=e.href,r=e.name,a=e.onClick;return eg.createElement(eM.default,{component:"a",icon:pH.default,href:t,label:n("account.success.banksLinkText",{appName:r}),onClick:a,variant:"text"})}):eg.createElement(eM.default,{component:"a",icon:pH.default,label:n("account.success.banksLinkText",{appName:name}),busy:!0,variant:"text"})};pW.propTypes={client:ey().object.isRequired,t:ey().func.isRequired};var pG=(0,ew.withClient)((0,eG.A)(pW)),pZ=(0,eg.memo)(function(e){var t=e.folderId,n=e.client,r=e.t,a="drive",i="#/files/".concat(t),o=(0,pq.A)(a,n,i),c=o.fetchStatus,s=o.url;return"loaded"===c?eg.createElement(pS.default,{app:{slug:a},href:s,nativePath:i},function(e){var t=e.href,n=e.name,a=e.onClick;return eg.createElement(eM.default,{component:"a",icon:pH.default,href:t,label:r("account.success.driveLinkText",{appName:n}),onClick:a,variant:"text"})}):eg.createElement(eM.default,{component:"a",icon:pH.default,label:r("account.success.banksLinkText",{appName:name}),busy:!0,variant:"text"})});pZ.displayName="DriveLink",pZ.propTypes={t:ey().func.isRequired,folderId:ey().string.isRequired,client:ey().object.isRequired};let pK=(0,ew.withClient)((0,eb.translate)()(pZ));var pQ=function(e){return eg.createElement("svg",e,eg.createElement("style",null,"#ehzj6171x7w6_ts","{","animation:ehzj6171x7w6_ts__ts 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w6_ts__ts","{","0%","{","transform:translate(66.836951px,106.112446px) scale(1,1);animation-timing-function:cubic-bezier(0,0,.58,1)","}","50%","{","transform:translate(66.836951px,106.112446px) scale(.9,.9);animation-timing-function:cubic-bezier(.42,0,1,1)","}","to","{","transform:translate(66.836951px,106.112446px) scale(1,1)","}","}","#ehzj6171x7w7_to","{","animation:ehzj6171x7w7_to__to 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w7_to__to","{","0%","{","transform:translate(20.039504px,9.669622px);animation-timing-function:cubic-bezier(0,0,.58,1)","}","50%","{","transform:translate(20.316618px,6.709373px);animation-timing-function:cubic-bezier(.42,0,1,1)","}","to","{","transform:translate(20.039504px,9.669622px)","}","}","#ehzj6171x7w35_to","{","animation:ehzj6171x7w35_to__to 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w35_to__to","{","0%","{","transform:translate(20.03956px,6.709373px)","}","40%,to","{","transform:translate(18.187354px,.709373px)","}","}","#ehzj6171x7w35","{","animation:ehzj6171x7w35_c_o 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w35_c_o","{","0%","{","opacity:1","}","40%,to","{","opacity:0","}","}","#ehzj6171x7w36_to","{","animation:ehzj6171x7w36_to__to 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w36_to__to","{","0%","{","transform:translate(6.839262px,18.22219px)","}","40%,to","{","transform:translate(1.839262px,15.22219px)","}","}","#ehzj6171x7w36","{","animation:ehzj6171x7w36_c_o 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w36_c_o","{","0%","{","opacity:1","}","40%,to","{","opacity:0","}","}","#ehzj6171x7w37_to","{","animation:ehzj6171x7w37_to__to 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w37_to__to","{","0%","{","transform:translate(6.710789px,35.63607px)","}","40%,to","{","transform:translate(-2.289211px,37.63607px)","}","}","#ehzj6171x7w37","{","animation:ehzj6171x7w37_c_o 1000ms linear infinite normal forwards","}","@keyframes ehzj6171x7w37_c_o","{","0%","{","opacity:1","}","40%,to","{","opacity:0","}","}"),eg.createElement("defs",null,eg.createElement("path",{id:"ehzj6171x7w2",d:"M.48.309h30.315v30.496H.48z"}),eg.createElement("path",{id:"ehzj6171x7w3",d:"M.48.309h30.315v30.496H.48z"})),eg.createElement("g",{id:"ehzj6171x7w4",transform:"translate(8.042 6.674)"},eg.createElement("g",{id:"ehzj6171x7w5"},eg.createElement("g",{id:"ehzj6171x7w6_ts",transform:"translate(66.837 106.112)"},eg.createElement("path",{id:"ehzj6171x7w6",d:"M40.893 107.851c2.17 1.412 7.738 2.638 12.222 3.129 12.245 1.343 29.361.64 36.61-1.807 7.308-2.464 7.634-6.202-10.949-8.074-15.82-1.595-34.283.637-38.23 3.981-1.06.896-1 1.894.347 2.771",transform:"translate(-67.096 -106.112)",fill:"#BBD9FD"})),eg.createElement("g",{id:"ehzj6171x7w7_to",transform:"translate(20.04 9.67)"},eg.createElement("g",{id:"ehzj6171x7w7"},eg.createElement("path",{id:"ehzj6171x7w8",d:"M56.925 13.23c-.413-2.335-1.007-4.579-2.108-6.4-1.948-3.205-5.425-3.465-9.17-2.77-1.707.261-3.41.8-4.88 1.224-7.115 2.06-32.856 9.17-33.912 9.588-3.899 1.594-4.114 4.556-3.27 7.932.08.543 11.246 47.33 12.011 49.803 1.038 3.351 2.75 6.377 5.947 6.712 3.202.348 42.19-10.316 44-10.95 2.216-.779 3.207-2.036 3.453-3.545.338-.808.21-1.729.038-2.883-.449-3.033-10.03-43.34-12.11-48.712",fill:"#FFB15C"}),eg.createElement("path",{id:"ehzj6171x7w9",d:"M64.247 38.982a192.31 192.31 0 0 1-5.22-15.93 151.41 151.41 0 0 1-3.456-12.087 98.733 98.733 0 0 1-1.796-7.538c-.28-.392-.599-.684-.982-.784-.316-.088-.616-.048-.91.024-.043.003-.087-.01-.134.007-.27.12-.548.22-.834.298-.035.014-.063.06-.096.086-7.97 3.272-27.742 9.367-36.23 12.89-.417.2-.87.343-1.2.76-.484.481-.79 1.221-.679 2.342.101 1.11.51 2.161.806 3.227.03.105.088.186.131.275 4.751 15.208 9.51 30.412 14.272 45.61.036.122.09.2.134.294v.01c.112.387.224.77.348 1.143.292.995.641 1.93 1.13 2.623.154.275.32.54.508.76.892 1.04 2.15.83 3.15.328 8.242-3.444 26.72-12.164 34.79-15.558.856-.236 1.756-.72 2.13-1.844.26-.795.22-1.672.046-2.573-2.403-4.612-4.137-9.683-5.908-14.363",fill:"#BBD9FD"}),eg.createElement("path",{id:"ehzj6171x7w10",d:"M17.52 6.746c-.165 1.014.071 3.17.088 4.191.005.104.035.194.054.281.645 13.36 1.29 26.724 1.944 40.085.066 1.345.668 7.49.914 8.997.001.005.007.013.01.022a.6.6 0 0 0 .16.36c.735.807 1.26 1.771 2.084 2.492.222.538 1.208.521 1.327-.21.117-.725.455-1.373.797-2.02l.184-.028c.425.567.84 1.14 1.38 1.612.215.54 1.207.518 1.322-.214.118-.699.435-1.325.762-1.95l.123-.02c.413.551.815 1.104 1.34 1.562.218.535 1.208.518 1.324-.214.112-.684.421-1.306.745-1.92a1.28 1.28 0 0 0 .156-.029c.41.545.808 1.088 1.322 1.537.218.542 1.206.521 1.325-.214.111-.673.416-1.287.734-1.896.081-.017.162-.03.245-.043.4.536.797 1.072 1.308 1.52.22.54 1.208.52 1.327-.215.11-.672.411-1.285.73-1.892.05-.007.1-.017.148-.027.404.536.8 1.073 1.305 1.516.223.544 1.21.518 1.328-.213.108-.67.413-1.28.726-1.888.11-.02.22-.04.33-.056.4.532.795 1.066 1.303 1.51.217.54 1.204.52 1.325-.214.108-.666.41-1.277.726-1.879.065-.01.132-.025.196-.035.401.535.792 1.065 1.3 1.504.218.54 1.204.522 1.324-.21.11-.663.408-1.27.717-1.865.074-.017.15-.025.215-.038.396.527.79 1.055 1.29 1.49.22.54 1.206.52 1.327-.213.107-.652.396-1.246.7-1.83.102-.023.213-.038.322-.056.385.516.771 1.036 1.264 1.463.217.54 1.206.522 1.328-.21.103-.627.372-1.202.667-1.77.117-.022.232-.034.345-.054.38.5.75.996 1.223 1.412.221.538 1.21.52 1.327-.214.175-1.056.82-1.965 1.246-2.922.42-.765-.248-1.747-.53-3.502-.67-4.198-1.149-8.488-1.58-12.535a179.16 179.16 0 0 1-.96-15.47c-.25-3.866-.34-7.74-.27-11.615-.04-2.387 0-4.768.15-7.16-.022-.057-.056-.1-.078-.149-.024-.06-.04-.126-.089-.187-.02-.025-.03-.048-.05-.068a1.607 1.607 0 0 0-.136-.208c-.55-.807-.975-1.692-1.652-2.41-.166-.558-1.15-.636-1.342.083-.203.764-.654 1.424-1.084 2.087-.402-.65-.773-1.32-1.304-1.879-.167-.562-1.15-.633-1.34.081-.192.72-.603 1.347-1.013 1.973-.377-.62-.735-1.244-1.239-1.78-.16-.557-1.149-.63-1.34.09-.19.715-.6 1.34-1.01 1.967-.376-.624-.739-1.246-1.24-1.775-.166-.562-1.15-.636-1.34.084-.198.741-.628 1.382-1.045 2.022-.388-.635-.754-1.28-1.27-1.827-.167-.556-1.152-.632-1.342.084-.186.71-.59 1.327-.995 1.94-.37-.61-.728-1.22-1.22-1.744-.164-.563-1.15-.636-1.34.083-.202.762-.656 1.422-1.086 2.085-.402-.655-.772-1.323-1.302-1.883-.164-.558-1.152-.63-1.34.083-.19.721-.607 1.348-1.013 1.973-.378-.622-.738-1.25-1.24-1.777-.165-.56-1.148-.634-1.338.082-.192.717-.604 1.347-1.013 1.97-.375-.62-.737-1.245-1.24-1.777-.16-.556-1.148-.634-1.34.088-.192.74-.626 1.382-1.046 2.024-.387-.639-.756-1.28-1.268-1.828-.165-.559-1.153-.635-1.34.086-.135.5-.376.954-.647 1.396a7.03 7.03 0 0 0-.79-1.063c-.166-.553-1.152-.63-1.343.08-.27 1.037-1 1.882-1.52 2.795-.007.02-.006.032-.019.05a1.11 1.11 0 0 0-.144.436",fill:"#FFE2A1"}),eg.createElement("path",{id:"ehzj6171x7w11",d:"M70.298 19.55c.214-2.122.248-4.218-.26-6.052-.898-3.25-3.843-4.34-7.258-4.655-1.549-.195-3.149-.143-4.526-.136-6.78.037-30.954-.096-31.728-.01-3.764.422-4.68 2.936-4.774 6.063-.062.494-1.867 43.756-1.808 46.083.083 3.156.82 6.192 3.504 7.278 2.684 1.076 39.065 1.406 40.798 1.302 2.098-.133 3.272-.978 3.846-2.227.497-.622.606-1.443.75-2.484.353-2.739 1.941-40.006 1.456-45.16",fill:"#B7F6F7"}),eg.createElement("path",{id:"ehzj6171x7w12",d:"M72.705 52.333c.121-5.6.505-11.179 1.112-16.728.271-4.18.697-8.35 1.315-12.503.288-2.565.66-5.12 1.15-7.662-.115-.467-.3-.858-.617-1.092-.262-.2-.553-.277-.853-.318-.042-.014-.078-.044-.127-.045-.132.004-.242.001-.368.001a5.034 5.034 0 0 1-.518-.035c-.038-.004-.08.032-.122.04-8.615.057-29.233-1.68-38.42-1.586-.46.032-.936-.006-1.4.256-.626.265-1.186.84-1.503 1.92-.32 1.066-.338 2.195-.459 3.293-.01.108.012.205.02.305-1.28 15.882-2.549 31.762-3.812 47.637-.013.128.004.22.014.325 0 0 0 .003-.004.005-.044.404-.08.802-.108 1.197-.098 1.03-.126 2.025.07 2.85a4.8 4.8 0 0 0 .188.897c.438 1.296 1.682 1.573 2.796 1.48 8.935-.11 29.332-1.29 38.084-1.424.884.102 1.9-.01 2.665-.914.54-.638.831-1.468 1.007-2.37-.506-5.177-.218-10.526-.11-15.53",fill:"#FF8E8E"}),eg.createElement("path",{id:"ehzj6171x7w13",d:"M65.68 25.352c-.139-2.382-.466-4.692-1.354-6.639-1.567-3.43-5.004-4.1-8.827-3.85-1.74.06-3.5.395-5.022.647-7.472 1.238-34.153 5.346-34.996 5.57-.479.133-1.818.567-2.204.748-2.9 1.358-2.388 3.725-1.995 6.784.013.554 5.642 48.594 6.111 51.155.647 3.468 1.997 6.688 5.15 7.404 3.157.728 43.351-5.322 45.23-5.737 2.304-.52 3.442-1.658 3.866-3.137.437-.765.413-1.7.38-2.869-.089-3.086-4.898-44.468-6.34-50.076",fill:"#FEC267"}),eg.createElement("path",{id:"ehzj6171x7w14",d:"M20.166 63.691c-2.28-13.548-4.767-27.147-6.697-40.737-.02-.164-.117-.732-.196-.85.022-.417-1.298.148-2.526.038-.038 0-.518-.064-.556-.064a8.103 8.103 0 0 1-1.205-.309c-1.992-.72-2.79-2.393-2.767-4.25.026-1.666 1.331-2.4 1.28-2.844-.027-.24-1.468.505-1.634.562-.227.073-1.754 1.06-2.45 2.278-.7 1.227-.48 2.968-.44 4.51.136 5.2 4.49 37.286 5.33 43.997-.014.085.2 1.737.307 2.475.212 1.627.432 3.255.662 4.881.18 1.273.926 8.494 1.082 8.826 1.9 4.126 7.226 5.533 11.497 5.235.243.015.477-.01.854-.056.473-.06 1.134.018 1.88-.132-.082-1.378-3.33-17.08-4.42-23.56",fill:"#FF9300"}),eg.createElement("path",{id:"ehzj6171x7w15",d:"M41.2 56.63c-.08-.236.044-.462.303-.509l8.95-1.64a.377.377 0 0 1 .464.373s.443 4.555-4.035 5.377c-4.48.818-5.683-3.6-5.683-3.6",fill:"#3281EE"}),eg.createElement("path",{id:"ehzj6171x7w16",d:"M40.67 39.554c-2.047-3.602-6.43-5.584-10.288-4.043-.897.201-1.734.61-2.444 1.194-.066.041-.123.097-.186.142l-.162.142a5.654 5.654 0 0 0-1.688 2.075c-.078.136-.16.27-.23.41-.015.048-.052.077-.065.124-.05.13-.072.26-.118.393a6.849 6.849 0 0 0-.44 1.8c-.223 1.344-.195 2.69.262 4.132.803 2.53 3.852 3.795 6.204 4.184 1.716.283 3.67-.122 5.35-.85 2.403-1.043 3.146-2.394 3.773-4.187.643-1.835 1.055-3.718.031-5.516m22.626-3.639c-.953-1.863-2.476-3.036-4.314-3.71-.04-.027-.067-.06-.112-.09-1.14-.814-2.694-1.12-4.147-.92-3.405.223-6.504 3.162-7.526 6.523-.52 1.713-.457 3.827.42 5.415 1.313 2.382 3.497 3.551 6.087 4.094 4.324.911 9.07-2.066 10.146-6.289.417-1.629.213-3.526-.554-5.023",fill:"#BBD9FD"}),eg.createElement("path",{id:"ehzj6171x7w17",d:"M35.918 45.193a1.474 1.474 0 0 1-1.626-1.304c-.083-.638-.45-1.71-1.928-1.545-1.61.175-1.59 1.52-1.545 1.928a1.473 1.473 0 1 1-2.927.323c-.206-1.873.73-4.799 4.15-5.18 3.42-.374 4.97 2.28 5.176 4.15.09.81-.49 1.54-1.3 1.628m22.84-3.288a1.467 1.467 0 0 1-1.625-1.3c-.087-.638-.454-1.708-1.932-1.546-1.61.18-1.588 1.522-1.545 1.93a1.473 1.473 0 0 1-1.302 1.625 1.476 1.476 0 0 1-1.623-1.304c-.207-1.87.725-4.798 4.147-5.175 3.422-.38 4.972 2.274 5.18 4.146a1.47 1.47 0 0 1-1.3 1.624",fill:"#3281EE"}),eg.createElement("path",{id:"ehzj6171x7w18",d:"M24.051 63.015a.532.532 0 0 0-.352.071c-.873-.095-1.79.228-2.5 1-1.327 1.434-1.2 3.94.367 5.101 1.454 1.076 4.062.19 4.963-1.376 1.206-2.092-.46-4.504-2.478-4.796",fill:"#FF9300"}),eg.createElement("path",{id:"ehzj6171x7w19",d:"M39.977 39.832a.172.172 0 0 0-.133.035c-.338-.016-.68.13-.933.443-.47.584-.357 1.54.268 1.942.584.376 1.56-.029 1.863-.65.41-.828-.286-1.708-1.065-1.77m8.438-1.102a.163.163 0 0 0-.127.037c-.34-.017-.68.13-.935.443-.47.584-.36 1.536.27 1.94.581.376 1.56-.027 1.863-.65.407-.829-.286-1.708-1.07-1.77",fill:"#FF9300"}),eg.createElement("path",{id:"ehzj6171x7w20",d:"M49.145 39.157c-.515-1.866-3.02-2.973-4.795-2.85-2.11.15-4.815 1.96-5.2 4.177-.208 1.198 1.794 1.398 1.991.263.44-2.507 4.986-3.708 6-1.123.02.2.126.4.378.562.013.013.028.02.04.028.79.516 1.844-.113 1.585-1.057",fill:"#FFB15C"}),eg.createElement("path",{id:"ehzj6171x7w21",d:"M19.8 29.407a.594.594 0 0 0-.404.06c-.987-.153-2.044.17-2.892 1.008-1.58 1.561-1.56 4.415.158 5.814 1.597 1.296 4.603.423 5.707-1.31 1.478-2.315-.292-5.138-2.57-5.572m2.011 17.347a.53.53 0 0 0-.353.053c-.869-.135-1.798.15-2.543.887-1.388 1.373-1.373 3.88.138 5.113 1.405 1.14 4.048.373 5.02-1.153 1.3-2.037-.256-4.52-2.262-4.9m2 17a.53.53 0 0 0-.353.053c-.869-.135-1.798.15-2.543.887-1.388 1.373-1.373 3.88.138 5.113 1.405 1.14 4.048.373 5.02-1.153 1.3-2.037-.256-4.52-2.262-4.9",fill:"#FF9300"}),eg.createElement("path",{id:"ehzj6171x7w22",d:"M15.261 33.544c-.222 3.323-4.876 3.547-7.722 2.687a7.558 7.558 0 0 1-.69-.284 5.067 5.067 0 0 1-.778-.488 22.354 22.354 0 0 1-.636-.534c-.608-.565-1.156-1.255-1.353-1.924-.133-1.11-.263-2.222-.39-3.334a4.776 4.776 0 0 0-1.474.638C1.43 30.828.943 31.393.59 32.272c-.049.12-.07.245-.095.373-.186.34-.31.713-.312 1.1-.87 3.152 1.457 5.501 4.81 6.675-.019-.136-.034-.267-.05-.402l.014.01c.01.13.017.256.035.392 5.9 2.067 14.987.481 15.48-6.876.203-3.023-5.008-3.023-5.21 0zm4.848 14.31l-.215-.003c-1.872-.032-2.709 1.436-2.486 2.73-.46 1.701-3.774 2.287-5.15 2.55-1.865.357-3.477.078-4.448-.95a3.096 3.096 0 0 1-.29-.375c-.542-.809-.933-1.666-1.393-2.502l-.35-2.715c-.587.007-4.17.522-4.15 2.851.033 4.146 2.304 6.706 5.534 7.792a7.562 7.562 0 0 0-.018-.13.287.287 0 0 1 .024.007l-.006.123c1.41.473 3.013.67 4.725.585 4.167-.204 10.94-2.465 10.792-7.6-.04-1.382-1.23-2.342-2.57-2.364h.001zM8.305 66.021c-.014.084.201 1.736.307 2.475.212 1.627.432 3.255.662 4.88.024.168.057.445.098.791.236.063.473.13.71.182 5.568 1.243 13.312-1.27 15.04-7.274.776-2.704-3.218-3.837-4.642-1.98-1.822 1.682-3.573 2.396-6.012 2.794-1.298.211-5.375.658-5.68-.562l-.483-1.306z",fill:"#BBD9FD"}),eg.createElement("path",{id:"ehzj6171x7w23",d:"M8.612 68.497c-.106-.738-.32-2.39-.306-2.475a487.2 487.2 0 0 0-.33-2.562c-.8-.527-1.879-.662-2.753-.087-2.257 1.482-2.953 3.501-1.98 6.073 1.004 2.647 3.538 4.024 6.13 4.722a60.263 60.263 0 0 0-.099-.79c-.23-1.625-.45-3.252-.662-4.88",fill:"#BBD9FD"}))),eg.createElement("g",{id:"ehzj6171x7w24",transform:"translate(89.6 71.487)"},eg.createElement("g",{id:"ehzj6171x7w25"},eg.createElement("g",{id:"ehzj6171x7w26",mask:"url(#ehzj6171x7w28)"},eg.createElement("path",{id:"ehzj6171x7w27",d:"M.402 19.17c.994 3.952 3.896 7.51 6.307 9.01 6.581 4.096 16.156 2.711 20.526-3.78 4.405-6.54 5.13-16.817-4.88-22.573-8.523-4.9-19.068.639-21.741 9.706-.717 2.432-.83 5.18-.212 7.638",fill:"#CBF7D8"}),eg.createElement("mask",{id:"ehzj6171x7w28"},eg.createElement("use",{id:"ehzj6171x7w29",width:"0",height:"0",xlinkHref:"#ehzj6171x7w2",fill:"#FFF",fillRule:"evenodd"})))),eg.createElement("g",{id:"ehzj6171x7w30"},eg.createElement("g",{id:"ehzj6171x7w31",mask:"url(#ehzj6171x7w33)"},eg.createElement("path",{id:"ehzj6171x7w32",d:"M12.08 9.625c-.106.611.125 1.49.524 1.973l2.586 3.125 3.484-2.077c.532-.317 1.052-1.077 1.157-1.682L12.08 9.625zm-1.467-1.394a1.123 1.123 0 0 1 .383-2.214l11.066 1.911a1.124 1.124 0 1 1-.383 2.215l.003.001-.191 1.107c-.107.615-.602 1.397-1.108 1.753l-4.277 3.017 3.017 4.277c.357.507.56 1.409.455 2.024l-.191 1.108h-.003a1.123 1.123 0 0 1-.382 2.214L7.936 23.732a1.121 1.121 0 0 1-.92-1.3c.109-.611.69-1.02 1.302-.915h-.003l.192-1.108c.105-.61.597-1.393 1.107-1.753l4.278-3.017-3.018-4.278c-.36-.51-.56-1.412-.455-2.023l.19-1.108.004.001z",fill:"#35CE68"}),eg.createElement("mask",{id:"ehzj6171x7w33"},eg.createElement("use",{id:"ehzj6171x7w34",width:"0",height:"0",xlinkHref:"#ehzj6171x7w3",fill:"#FFF",fillRule:"evenodd"}))))),eg.createElement("g",{id:"ehzj6171x7w35_to",transform:"translate(20.04 6.71)"},eg.createElement("path",{id:"ehzj6171x7w35",d:"M22.729 11.428c-1.32-5.006-1.033-5.115-2.157-10.196-.465-2.087-3.703-1.317-3.238.778 1.128 5.073.84 5.18 2.158 10.19.544 2.067 3.783 1.3 3.237-.772",transform:"translate(-20.187 -6.71)",fill:"#FF8E8E"})),eg.createElement("g",{id:"ehzj6171x7w36_to",transform:"translate(6.84 18.222)"},eg.createElement("path",{id:"ehzj6171x7w36",d:"M12.062 19.66c-4.47-2.61-4.348-2.885-8.734-5.68-1.803-1.151-3.55 1.683-1.738 2.831 4.386 2.798 4.257 3.07 8.734 5.683 1.843 1.077 3.593-1.755 1.738-2.834",transform:"translate(-6.84 -18.222)",fill:"#FF8E8E"})),eg.createElement("g",{id:"ehzj6171x7w37_to",transform:"translate(6.71 35.636)"},eg.createElement("path",{id:"ehzj6171x7w37",d:"M11.428 32.946c-5.007 1.323-5.12 1.037-10.194 2.162-2.09.462-1.32 3.702.777 3.234 5.075-1.127 5.18-.84 10.193-2.159 2.064-.543 1.302-3.784-.776-3.237",transform:"translate(-6.71 -35.636)",fill:"#FF8E8E"})))))};pQ.defaultProps={id:"ehzj6171x7w1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 136 125",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"};var pY=function(){return eg.createElement(pQ,{className:"u-w-4 u-h-4"})},pJ=function(e){var t=e.title,n=e.message,r=e.children;return eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{variant:"h4",className:"u-mb-1"},t),eg.createElement(lF.A,{source:n}),r)},p$=function(e){ed()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(r);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function r(){var e;ei()(this,r);for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),er()(eu()(e),"state",{trigger:null}),e}return ec()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.accountId,n=e.accounts,r=tb()(n.find(function(e){return e.account._id===t}),"trigger");this.setState({trigger:r})}},{key:"render",value:function(){var e=this,t=this.props.t,n=pz({konnectorManifest:this.props.konnector,trigger:this.state.trigger}).map(function(e){return r.apps[e]}).filter(Boolean),a=n.length>0;return eg.createElement(s0,{className:"u-pb-2"},eg.createElement("div",{className:"u-ta-center"},eg.createElement(pY,null),eg.createElement(pJ,{title:t("account.success.title"),message:t("account.success.connect")},a&&eg.createElement("p",{className:"u-mv-half"},n.map(function(t,n){return t.successLink(e.state,e.props,e.context,n)}))),eg.createElement(eg.Fragment,null,n.length>0?n[0].footerLink(this.state,this.props,this.context):null)))}}]),r}(eg.Component);p$.apps={drive:{successLink:function(e,t,n,r){return eg.createElement(pK,{key:r,folderId:e.trigger.message.folder_to_save})},footerLink:function(e,t){var n=t.t,r=t.successButtonLabel;return eg.createElement(eM.default,{label:r||n("account.success.button"),onClick:function(e){e.preventDefault(),t.onDismiss()}})}},banks:{successLink:function(e,t,n,r){return eg.createElement(pG,{key:r})},footerLink:function(){return null}}},p$.propTypes={accountId:ey().string.isRequired,accounts:ey().array.isRequired,successButtonLabel:ey().string,konnector:ey().object.isRequired,t:ey().func.isRequired,onDismiss:ey().func.isRequired};let pX=(0,eb.translate)()(p$);var p0=function(e){return eg.createElement("svg",e,eg.createElement("defs",null,eg.createElement("style",null,".cls-1","{","fill:#ff9300","}",".cls-4","{","fill:#ffd799","}")),eg.createElement("g",{id:"Layer_1"},eg.createElement("path",{className:"cls-1",d:"M84 85.5h3v-48a7.5 7.5 0 0 0-7.5-7.5h-63A7.5 7.5 0 0 0 9 37.5v48z"}),eg.createElement("path",{d:"M16.5 36.75A1.48 1.48 0 0 0 15 38.2v42.1a1.48 1.48 0 0 0 1.5 1.45h63A1.48 1.48 0 0 0 81 80.3V38.2a1.48 1.48 0 0 0-1.5-1.45z",fill:"#fff"}),eg.createElement("path",{d:"M91.5 85.5h-87A1.5 1.5 0 0 0 3 87v1.5a7.5 7.5 0 0 0 7.5 7.5h75a7.5 7.5 0 0 0 7.5-7.5V87a1.5 1.5 0 0 0-1.5-1.5z",fill:"#ff7f1b"}),eg.createElement("path",{className:"cls-4",d:"M36 30v-9h10.5v15h3V21H84a1.5 1.5 0 0 0 1.06-2.56l-12-12a1.4 1.4 0 0 0-.44-.29.39.39 0 0 0-.14-.05 1.23 1.23 0 0 0-.39-.1H36V1.5A1.5 1.5 0 0 0 34.5 0h-12A1.5 1.5 0 0 0 21 1.5V6h-3a1.5 1.5 0 0 0-1.06.44l-12 12A1.5 1.5 0 0 0 6 21h15v9zm37.5-18.88L80.38 18H73.5zM70.5 9v6.88L63.62 9zm-9 2.12L68.38 18H61.5zM58.5 9v6.88L51.62 9zm-9 2.12L56.38 18H49.5zM46.5 9v6.88L39.62 9zM36 9.62L44.38 18H36zM21 18H9.62l9-9H21zm29.53 29.59l3-3-2.12-2.12L48 45.88l-2.38-2.38 3.44-3.44A1.5 1.5 0 0 0 49.5 39v-3h-3v2.38l-4.06 4.06a1.49 1.49 0 0 0 0 2.12l3 3-6.71 11h4.39l4.88-8.9 5.69 8.84h3.7z"}),eg.createElement("path",{className:"cls-1",d:"M48 78.6a13.5 13.5 0 1 0-13.5-13.5A13.49 13.49 0 0 0 48 78.6z"}),eg.createElement("circle",{className:"cls-4",cx:"48",cy:"60.95",r:"5.19"}),eg.createElement("path",{className:"cls-4",d:"M38.23 71a11.43 11.43 0 0 0 19.54 0 .54.54 0 0 0-.11-.26 7.36 7.36 0 0 0-6-2.55h-7.29a7.36 7.36 0 0 0-6 2.55.54.54 0 0 0-.11.26z"}),eg.createElement("path",{className:"cls-1",d:"M27 13.5h3v3h-3z"})))};p0.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96"};let p1=(0,eN.default)()(function(e){var t=e.breakpoints.isMobile;return eg.createElement(p0,{className:uf()(t?"u-w-3":"u-w-4",t?"u-h-3":"u-h-4","u-mb-1-s","u-mr-1")})});var p2=function(e){var t=e.message,n=e.t,r=e.breakpoints.isMobile;return eg.createElement("div",{className:uf()("u-flex",r?"u-flex-column":"u-flex-row","u-flex-justify-center","u-flex-items-center","u-mb-1")},eg.createElement(p1,null),eg.createElement(s4.default,{spacing:"xs"},eg.createElement(eC.default,{className:"u-ta-center-s u-error",variant:"h5"},n("maintenance.noService")),eg.createElement(eC.default,{className:"u-error",variant:"body1"},t)))};p2.propTypes={message:ey().string,breakpoints:ey().shape({isMobile:ey().bool.isRequired}).isRequired};let p3=(0,eN.default)()((0,eb.translate)()(p2));var p4=function(e){var t=e.maintenanceMessages,n=e.lang,r=e.t,a=tb()(t,[n,"long_message"]),i=tb()(t,[n,"short_message"]);return eg.createElement("div",null,eg.createElement(p3,{message:i}),a&&eg.createElement(s4.default,{spacing:"xs"},eg.createElement(eC.default,{variant:"h5"},r("maintenance.explanationTitle")),eg.createElement(pp,{maintenanceMessages:t})))};p4.propTypes={maintenanceMessages:ey().shape({en:ey().shape({long_message:ey().string,short_message:ey().string}),fr:ey().shape({long_message:ey().string,short_message:ey().string})}),lang:ey().string.isRequired,t:ey().func.isRequired};let p6=(0,eb.translate)()(p4);var p5=function(e){var t=e.konnector,n=e.onSuccess,r=e.onDismiss,a=(0,eb.useI18n)().t,i=(0,sY.Zp)(),o=pw(t.slug),c=o.fetchStatus,s=o.data,u=s.isInMaintenance,l=s.messages,d=!(t.oauth||t.clientSide),f=sU().dialogTitleProps,p=function(e){if(n)return n();var t=sX.triggers.getAccountId(e);i("../accounts/".concat(t),{replace:!0,relative:"path"})};return eg.createElement(eg.Fragment,null,d?eg.createElement(uh.A,eL()({},f,{className:uf()(f.className,"u-ta-center u-flex-column u-stack-m u-pb-1"),disableTypography:!0}),eg.createElement(eW,{className:"u-w-3 u-h-3",konnector:t}),eg.createElement("div",null,eg.createElement(eC.default,{variant:"h5"},a("modal.addAccount.title",{name:t.name})))):eg.createElement(uw,{className:"u-elevation-1 u-mb-1",konnector:t}),"loaded"===c||"failed"===c?u?eg.createElement(s0,{className:"u-pt-0 u-pb-2"},eg.createElement(p6,{maintenanceMessages:l})):eg.createElement(s0,{className:"u-pt-0"},eg.createElement(dM,{konnector:t,onLoginSuccess:p,onSuccess:p,onVaultDismiss:r,fieldOptions:{displaySecretPlaceholder:!1},onClose:r}),!d&&eg.createElement(f0,{className:"u-mt-1",konnector:t}),eg.createElement("div",{className:"u-mb-2"})):eg.createElement(s0,{className:"u-ta-center u-pt-1 u-pb-3"},eg.createElement(cw.default,{size:"xxlarge"})))};p5.propTypes={konnector:ey().object.isRequired};var p7=n(77608),p8=n(86621),p9=function(){var e,t=(0,sY.g)(),n=t.accountId,r=t.folderToSaveId,a=t.fileIndex,i=(0,fD.Es)(n),o=(0,ew.useQuery)(i.definition,i.options),c=ew.models.account.getAccountName(o.data),s=null==(e=o.data)?void 0:e.account_type;return c&&s?eg.createElement(he,{sourceAccountIdentifier:c,folderToSaveId:r,konnectorSlug:s,accountId:n,fileIndex:a}):eg.createElement(c7,null)},he=function(e){var t=e.sourceAccountIdentifier,n=e.folderToSaveId,r=e.konnectorSlug,a=e.accountId,i=e.fileIndex,o=(0,sY.Zp)(),c=(0,p8.z)(t,n,r),s=c.data,u=c.fetchStatus,l=function(){return o("../accounts/".concat(a),{replace:!0})};return"empty"===u||"failed"===u||"loaded"===u&&i>s.length?(l(),null):"loading"===u?eg.createElement(c7,null):eg.createElement(c7,null,eg.createElement(p7.default,{files:s,currentIndex:Number(i),onCloseRequest:l,onChangeRequest:function(e,t){return o("../viewer/".concat(a,"/").concat(n,"/").concat(t))}}))},ht=function(e){var t=(0,sY.g)();return e.children(t)},hn=function(e){var t=e.konnectorWithTriggers,n=e.accountsAndTriggers,r=e.onSuccess,a=e.onDismiss;return eg.createElement(sY.BV,null,eg.createElement(sY.qh,{path:"/",element:eg.createElement(d1,{accounts:n,konnector:t})}),eg.createElement(sY.qh,{path:"new",element:eg.createElement(p5,{konnector:t,onSuccess:r,onDismiss:a})}),eg.createElement(sY.qh,{path:"accounts/:accountId",element:eg.createElement(ht,null,function(e){return eg.createElement(uS,{konnector:t,accountId:e.accountId,accountsAndTriggers:n,onDismiss:a,showNewAccountButton:!t.clientSide||(0,td.default)("clisk.multi-accounts"),showAccountSelection:!t.clientSide||(0,td.default)("clisk.multi-accounts"),Component:pV})})}),eg.createElement(sY.qh,{path:"accounts/:accountId/config",element:eg.createElement(ht,null,function(e){return eg.createElement(uS,{konnector:t,accountId:e.accountId,accountsAndTriggers:n,onDismiss:a,showNewAccountButton:!t.clientSide||(0,td.default)("clisk.multi-accounts"),showAccountSelection:!t.clientSide||(0,td.default)("clisk.multi-accounts"),Component:fq})})}),eg.createElement(sY.qh,{path:"accounts/:accountId/edit",element:eg.createElement(ht,null,function(e){return eg.createElement(dH,{konnector:t,accountId:e.accountId,accounts:n})})}),eg.createElement(sY.qh,{path:"accounts/:accountId/success",element:eg.createElement(ht,null,function(e){return eg.createElement(pX,{konnector:t,accountId:e.accountId,accounts:n,onDismiss:a})})}),eg.createElement(sY.qh,{path:"viewer/:accountId/:folderToSaveId/:fileIndex",element:eg.createElement(p9,null)}),eg.createElement(sY.qh,{path:"*",element:eg.createElement(sY.C5,{replace:!0,to:"/"})}))},hr=function(e){ed()(o,e);var t,n,r,a,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em()(o);return e=t?Reflect.construct(n,arguments,em()(this).constructor):n.apply(this,arguments),ep()(this,e)});function o(e){var t;return ei()(this,o),(t=i.call(this,e)).handleJobUpdate=t.handleJobUpdate.bind(eu()(t)),t.state={fetchingAccounts:!0,error:null,boundaryError:null,boundaryErrorInfo:null,accounts:[]},t}return ec()(o,[{key:"componentDidCatch",value:function(e,t){this.setState({boundaryError:e,boundaryErrorInfo:t})}},{key:"componentDidMount",value:(n=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAccounts();case 2:this.props.client.plugins.realtime.subscribe("updated","io.cozy.jobs",this.handleJobUpdate);case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.client.plugins.realtime.unsubscribe("updated","io.cozy.jobs",this.handleJobUpdate)}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&/\/new\/?$/.test(e.location.pathname)&&this.fetchAccounts()}},{key:"handleJobUpdate",value:(r=tr()(ti().mark(function e(t){var n,r,a,i,o,c;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.client,r=this.state.accounts,a=t.trigger_id,!(i=r.find(function(e){var t=e.trigger;return t&&t._id===a}))){e.next=10;break}return e.next=7,(0,tp.Pn)(n,a);case 7:o=e.sent,c=r.indexOf(i),this.setState({accounts:[].concat(ay()(r.slice(0,c)),[{account:i.account,trigger:o}],ay()(r.slice(c+1)))});case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"fetchAccounts",value:(a=tr()(ti().mark(function e(){var t,n,r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.triggers||tb()(this.props,"konnector.triggers.data",[]),n=this.props.client,this.setState({fetchingAccounts:!0}),e.prev=3,e.next=6,(0,tf.Gn)(n,t);case 6:r=e.sent,this.setState({accounts:r,error:null}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),tt.A.error("KonnectorAccounts could not fetch accounts",e.t0),this.setState({error:e.t0});case 14:return e.prev=14,this.setState({fetchingAccounts:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[3,10,14,17]])})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.accounts,n=e.fetchingAccounts,r=e.error,a=this.props,i=a.konnector,o=a.t;return this.state.boundaryErrorInfo?eg.createElement("div",{className:"u-error"},eg.createElement(eC.default,{variant:"h6"},this.state.boundaryError.message),eg.createElement("pre",null,this.state.boundaryErrorInfo.componentStack+"")):eg.createElement(eg.Fragment,null,(r||n)&&eg.createElement(uw,{konnector:i}),r&&eg.createElement(s0,{className:"u-pb-2"},eg.createElement(ue,{actionButton:eg.createElement(eM.default,{color:"error",onClick:this.fetchAccounts.bind(this),label:o("modal.accounts.error.retry")}),title:o("modal.accounts.error.title"),text:o("modal.accounts.error.description"),icon:"warning",isImportant:!0})),n&&eg.createElement(s0,{className:"u-pb-2"},eg.createElement("div",{className:"u-pv-2 u-ta-center"},eg.createElement(cw.default,{size:"xxlarge"}))),r||n?null:this.props.children(t))}}]),o}(eg.Component);hr.propTypes={konnector:ey().object.isRequired,triggers:ey().array,location:ey().object.isRequired,client:ey().object.isRequired,t:ey().func.isRequired};let ha=ej()((0,eb.translate)(),ew.withClient)(function(e){var t=(0,sY.zy)();return eg.createElement(hr,eL()({},e,{location:t}))});function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var hc="io.cozy.triggers",hs=function(e,t){var n=(0,ew.useClient)(),r=(0,eg.useState)(!0),a=ty()(r,2),i=a[0],o=a[1],c=(0,eg.useState)(!0),s=ty()(c,2),u=s[0],l=s[1],d=(0,eg.useState)({data:[]}),f=ty()(d,2),p=f[0],h=f[1],m=(0,eg.useState)({}),v=ty()(m,2),y=v[0],g=v[1];return(0,eg.useEffect)(function(){function t(){return(t=tr()(ti().mark(function t(){return ti().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t){return hu.apply(this,arguments)}(n,e);case 2:g(t.sent),o(!1);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[n,e]),(0,eg.useEffect)(function(){function r(){return(r=tr()(ti().mark(function r(){return ti().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=4;break}h(t.triggers),r.next=8;break;case 4:return r.next=6,function(e,t){return hl.apply(this,arguments)}(n,e);case 6:h({data:r.sent});case 8:l(!1);case 9:case"end":return r.stop()}},r)}))).apply(this,arguments)}!function(){r.apply(this,arguments)}()},[n,t,e]),(0,eg.useEffect)(function(){var t=n.plugins.realtime;function r(t){tb()(t,"message.konnector")===e&&h({data:[].concat(ay()(p.data),[t])})}return t.subscribe("created",hc,r),function(){t&&t.unsubscribe("created",hc,r)}},[n,e,p]),{konnectorWithTriggers:ho(ho({},y),{},{triggers:p}),fetching:i||u,notFoundError:!(i||u)&&!y}};function hu(){return(hu=tr()(ti().mark(function e(t,n){var r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,ew.Q)("io.cozy.konnectors").where({slug:n}));case 2:return r=e.sent,e.abrupt("return",r.data[0]);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hl(){return(hl=tr()(ti().mark(function e(t,n){var r;return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,ew.Q)(hc).where({worker:{$in:["client","konnector"]}}));case 2:return r=e.sent.data,e.abrupt("return",r.filter(function(e){return e._type===hc&&!!e.message&&!!e.message.konnector&&tb()(e,"message.konnector")===n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var hd=function(e){return si().showingUnlockForm?null:eg.createElement(sN.default,eL()({disableRestoreFocus:!0},e))},hf=function(e){var t=e.konnectorRoot,n=e.konnector,r=e.konnectorSlug,a=e.onSuccess,i=e.onDismiss,o=e.datacardOptions,c=e.ComponentsProps,s=e.closable,u=e.intentData,l=e.intentId,d=(0,eb.useI18n)().t,f=(0,sM.A)({size:"l",open:!0,onClose:i,disableTitleAutoPadding:!0}),p=(0,sz.useAlert)().showAlert,h=hs(r,n),m=h.konnectorWithTriggers,v=h.fetching,y=h.notFoundError;return(0,eg.useEffect)(function(){y&&(i(),p({message:d("error.application-not-found"),severity:"error"}))},[y,i,d,p]),eg.createElement(sL,{options:o},eg.createElement(sQ,{componentsPropsProviderProps:{ComponentsProps:c},intentData:u,intentId:l},eg.createElement(sB.Provider,{value:f},eg.createElement(hd,eL()({},f.dialogProps,{"aria-label":m.name}),!1!==s?eg.createElement(sI.A,{onClick:i}):null,v?eg.createElement("div",{className:"u-pv-2 u-ta-center"},eg.createElement(cw.default,{size:"xxlarge"})):eg.createElement(ha,{konnector:m},function(e){return eg.createElement(hn,{konnectorRoot:t,konnectorWithTriggers:m,accountsAndTriggers:e,onSuccess:a,onDismiss:i})}))),eg.createElement(sc,null)))};hf.propTypes={konnectorRoot:ey().string,konnector:ey().object,konnectorSlug:ey().string.isRequired,onSuccess:ey().func.isRequired,onDismiss:ey().func.isRequired,ComponentsProps:ey().object,closable:ey().bool,intentData:ey().object,intentId:ey().string};var hp=["style","className","primaryText","primaryTextClassName","secondaryTextClassName","secondaryText","image","right","actions","dense"],hh={height:"48px"},hm=function(e){var t=e.style,n=e.className,r=e.primaryText,a=e.primaryTextClassName,i=e.secondaryTextClassName,o=e.secondaryText,c=e.image,s=e.right,u=e.actions,l=e.dense,d=eU()(e,hp);return eg.createElement(uy.$,eL()({className:cx()(n,"styles__CompositeRow___1Dmi2",l?"styles__CompositeRow__dense___3p1f3":null),style:l?Object.assign({},hh,t):t},d),eg.createElement("div",{className:"u-media u-media-grow u-row-m"},c?eg.createElement(uy.E,{className:"u-flex-self-start"},c):null,eg.createElement("div",{className:"u-media-grow u-stack-xs"},eg.createElement("div",{className:"u-media u-row-m"},eg.createElement(uy.Bd,{className:"styles__CompositeRow__body___1Bjsp"},eg.createElement(eC.default,{className:a,variant:"body1"},r),o?eg.createElement(eC.default,{className:i,variant:"caption",color:"textSecondary"},o):null),s),u)))};hm.propTypes={style:cC().object,className:cC().string,primaryText:cC().node,secondaryText:cC().node,primaryTextClassName:cC().string,secondaryTextClassName:cC().string,image:cC().node,actions:cC().node,right:cC().node,dense:cC().bool};var hv=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{d:"M1.025 47h46M9.026 37h-6v10h6zm12-10h-6v20h6zm12 4h-6v16h6zm12-14h-6v30h6z",stroke:"#95999D"}),eg.createElement("path",{d:"M8.025 23a2 2 0 1 1-3.998.001A2 2 0 0 1 8.025 23zm12-10a2 2 0 1 1-3.998.001A2 2 0 0 1 20.025 13zm12 4a2 2 0 1 1-3.998.001A2 2 0 0 1 32.025 17zm12-14a2 2 0 1 1-3.998.001A2 2 0 0 1 44.025 3zM7.563 21.72l8.928-7.441m3.425-.65l8.27 2.757M40.725 4.518L31.327 15.48",stroke:"currentColor"})))};hv.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hy=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("g",{stroke:"#95999D"},eg.createElement("path",{d:"M9 5H1v42h46V5h-8"}),eg.createElement("path",{d:"M15 9H9V1h6zm24 0h-6V1h6zM15 5h18M1 15h46"})),eg.createElement("path",{d:"M19 39V23l-4 4m0 12h8m5 0l6-16H24v2m3 6h6",stroke:"currentColor"})))};hy.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hg=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#C2F0D1",d:"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z"}),eg.createElement("path",{fill:"#35CE68",d:"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z"}),eg.createElement("path",{stroke:"#35CE68",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24"})))};hg.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hb=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#C2F0D1",d:"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z"}),eg.createElement("path",{fill:"#35CE68",d:"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z"}),eg.createElement("path",{stroke:"#35CE68",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24"})))};hb.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hw=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#C2F0D1",d:"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z"}),eg.createElement("path",{fill:"#35CE68",d:"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z"}),eg.createElement("path",{stroke:"#35CE68",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24"})))};hw.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hk=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{d:"M1 19h8l4-6.004 4 6 4-9 6 19 5-24L36 19h11M9 41v2m12-2v2m12-2v2m-18-6v6m12-6v6m12-6v6",stroke:"currentColor"}),eg.createElement("path",{stroke:"#95999D",d:"M47 43c0 2.2-1.8 4-4 4H5c-2.202 0-4-1.8-4-4V5c0-2.202 1.798-4 4-4h38c2.2 0 4 1.798 4 4v38z"})))};hk.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hx=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("g",{stroke:"#95999D"},eg.createElement("path",{d:"M9 5H1v42h46V5h-8"}),eg.createElement("path",{d:"M15 9H9V1h6zm24 0h-6V1h6zM15 5h18M1 15h46"})),eg.createElement("path",{d:"M13 19v24m10-24v24m10-24v24M5 23h38M5 31h38M5 39h38",stroke:"currentColor"})))};hx.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hO=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#B2D3FF",d:"M3 2.002C3 .896 3.89 0 4.997 0H22l7 7v22.996A2 2 0 0 1 27.003 32H4.997A1.995 1.995 0 0 1 3 29.998V2.002z"}),eg.createElement("path",{fill:"#197BFF",d:"M21.5 0c-.276 0-.5.23-.5.5V8h7.5c.276 0 .5-.232.5-.5V7l-7-7h-.5zM9 11h14v2H9v-2zm0 4h12v2H9v-2zm0 4h14v2H9v-2zm0 4h10v2H9v-2z"})))};hO.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var h_=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("g",{stroke:"#95999D"},eg.createElement("path",{d:"M29.025 10a1 1 0 1 1-1.998.002A1 1 0 0 1 29.025 10zm6 0a1 1 0 1 1-1.998.002A1 1 0 0 1 35.025 10zm6 0a1 1 0 1 1-1.998.002A1 1 0 0 1 41.025 10z"}),eg.createElement("path",{d:"M47.026 43h-46V5h46zM1.025 15h46"})),eg.createElement("path",{d:"M13.025 21l5 5-5 5m12-4h8",stroke:"currentColor"})))};h_.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hE=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FFE2A1",d:"M24 47C11.297 47 1 36.703 1 24S11.297 1 24 1s23 10.297 23 23-10.297 23-23 23zm19-23h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2zm-1.83-8.194l-3.696 1.53a1 1 0 0 0 .765 1.848l3.696-1.53a1 1 0 0 0-.765-1.848zM30.346 6.063l-1.53 3.696a1 1 0 0 0 1.848.765l1.53-3.696a1 1 0 0 0-1.848-.765zM23 5v4a1 1 0 0 0 2 0V5a1 1 0 0 0-2 0zm-7.194 1.828l1.53 3.696a1 1 0 0 0 1.848-.765l-1.53-3.696a1 1 0 1 0-1.848.765zm-5.948 4.44l2.824 2.833a1 1 0 1 0 1.417-1.413l-2.824-2.832a1 1 0 1 0-1.417 1.413zm-3.793 6.386l3.694 1.53a1 1 0 1 0 .765-1.847l-3.694-1.53a1 1 0 1 0-.765 1.847zM5 26h4a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z"}),eg.createElement("path",{stroke:"#FF9125",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 33h4v8h-4zm8 0h4v8h-4zm-16 0h4v8h-4zm13-9a3.001 3.001 0 0 1-6 0 3.001 3.001 0 0 1 6 0zm-.879-2.121l9.9-9.898"})))};hE.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hC=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FFD799",d:"M32 25.995A1.997 1.997 0 0 1 30.002 28H24v-2.5c0-.828-.666-1.5-1.5-1.5-.828 0-1.5.679-1.5 1.5V28H11v-2.5c0-.828-.666-1.5-1.5-1.5-.828 0-1.5.679-1.5 1.5V28H1.998A2.001 2.001 0 0 1 0 25.995V6.005A2 2 0 0 1 2.002 4h27.996C31.104 4 32 4.897 32 6.005v19.99z"}),eg.createElement("path",{fill:"#FF9300",d:"M17 9h6v1h-6V9zm0 3h11v1H17v-1zm0 3h11v1H17v-1zm0 3h11v1H17v-1zm-8-3.25c-1.657 0-3-1.511-3-3.375S7.343 8 9 8s3 1.511 3 3.375-1.343 3.375-3 3.375zM3 18.5c0-.75 1.5-3 3-3s.75.75 3 .75 1.5-.75 3-.75 3 2.25 3 3 0 1.5-.75 1.5H3.75C3 20 3 19.25 3 18.5z"})))};hC.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var hS=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#A9CBF9",d:"M3.002 43A2.001 2.001 0 0 1 1 41.003V2.997C1 1.894 1.89 1 2.991 1H23l10 10v32H3.002z"}),eg.createElement("path",{fill:"#297EF2",d:"M23 1l10 10h-8c-1.113 0-2-.895-2-2V1zm3.931 45.452c-1.066.305-1.686-.306-1.38-1.38L27 40.005l13.59-13.592a2 2 0 0 1 2.831.007l2.162 2.162c.784.784.784 2.054.008 2.83L32 45.005l-5.069 1.448zM16 38h10v2H16v-2z"})))};hS.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hP=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#CEBEF7",d:"M24 41c8.837 0 16-4.925 16-11v-5H8v5c0 6.075 7.163 11 16 11z"}),eg.createElement("path",{fill:"#855CEA",d:"M8 25.605v8.538c-.212.054-.42.128-.618.214l-.058.032c-.17.078-.336.168-.492.268-.046.03-.086.064-.13.096a4.036 4.036 0 0 0-.36.28c-.052.046-.098.094-.146.144-.096.094-.19.19-.276.294a4.476 4.476 0 0 0-.348.494c-.044.076-.088.152-.128.23-.054.104-.1.212-.144.32-.034.084-.068.166-.096.25a3.95 3.95 0 0 0-.098.374c-.018.076-.038.15-.052.228a4.124 4.124 0 0 0-.054.632c0 .828.252 1.598.684 2.236.288.426.656.794 1.082 1.082A3.972 3.972 0 0 0 9 41.999a3.979 3.979 0 0 0 3.316-1.764A3.975 3.975 0 0 0 13 37.999c0-.158-.022-.31-.04-.462a3.972 3.972 0 0 0-2.36-3.188l-.6-.262v-7.438l14 7.305L47.466 21.71a.998.998 0 0 0 0-1.768L24.462 7.94c-.29-.15-.634-.15-.924 0L.534 19.942a1 1 0 0 0 0 1.768L8 25.605z"})))};hP.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hA=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#B2D3FF",d:"M3 2.002C3 .896 3.89 0 4.997 0H22l7 7v22.996A2 2 0 0 1 27.003 32H4.997A1.995 1.995 0 0 1 3 29.998V2.002z"}),eg.createElement("path",{fill:"#197BFF",d:"M21.5 0c-.276 0-.5.23-.5.5V8h7.5c.276 0 .5-.232.5-.5V7l-7-7h-.5zM9 11h14v2H9v-2zm0 4h12v2H9v-2zm0 4h14v2H9v-2zm0 4h10v2H9v-2z"})))};hA.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var hD=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("g",{stroke:"#95999D"},eg.createElement("path",{d:"M9 5H1v42h46V5h-8"}),eg.createElement("path",{d:"M15 9H9V1h6zm24 0h-6V1h6zM15 5h18M1 15h46"})),eg.createElement("path",{stroke:"currentColor",d:"M13 31l7 7 16-16"})))};hD.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hT=function(e){return eg.createElement("svg",e,eg.createElement("defs",null,eg.createElement("path",{id:"a",d:"M46 23c0 12.704-10.298 23-23 23C10.296 46 0 35.704 0 23 0 10.3 10.296 0 23 0c12.702 0 23 10.3 23 23z"})),eg.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},eg.createElement("mask",{id:"b",fill:"#fff"},eg.createElement("use",{xlinkHref:"#a"})),eg.createElement("use",{fill:"#C2F0D1",xlinkHref:"#a"}),eg.createElement("path",{fill:"#35CE68",d:"M9 25a6 6 0 0 1 6 6v16H3V31a6 6 0 0 1 6-6zm0-2a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm28 0a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm-14 8a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm14-6a6 6 0 0 1 6 6v16H31V31a6 6 0 0 1 6-6zm-14 8a6 6 0 0 1 6 6v8H17v-8a6 6 0 0 1 6-6z",mask:"url(#b)"})))};hT.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink"};var hR=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FCBFBF",d:"M47 24c0 12.704-10.298 23-23 23C11.296 47 1 36.704 1 24 1 11.3 11.296 1 24 1c12.702 0 23 10.3 23 23z"}),eg.createElement("path",{fill:"#F62C2C",d:"M21 39V27H9l25-13z"})))};hR.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hj=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{stroke:"currentColor",d:"M1 28h12l3-4 4 5.996 5-10L29 34l3-6h15"}),eg.createElement("path",{d:"M42.51 23.996C44.03 20.788 45 17.45 45 14.148c0-15.386-18.632-16.57-21-1.184C21.634-2.422 3-1.238 3 15.33c0 3 .696 5.91 1.822 8.666m4.639 8c6.172 8.25 14.54 13.792 14.54 13.792s7.512-5.822 13.552-13.792",stroke:"#95999D"})))};hj.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hM=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FF9126",d:"M6.001 21v26h36V21l4.292 4.293a1 1 0 0 0 1.414 0l.086-.086a1 1 0 0 0 0-1.414L38 14V4a1 1 0 0 0-1-1h-5a1 1 0 0 0-1 1v3L24.707.707a1 1 0 0 0-1.414 0L.207 23.793a1 1 0 0 0 0 1.414l.087.086a1 1 0 0 0 1.414 0L6 21z"}),eg.createElement("path",{fill:"#FFE2A1",d:"M14 33h8v14h-8z"})))};hM.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hI=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#A9CBF9",d:"M9 2C7.344 2 6 3.346 6 5s1.345 3 3 3h32.992c1.107 0 2.007.894 2.007 1.997v36.006A2 2 0 0 1 41.992 48H8.999c-2.756 0-5-2.244-5-5V6c0-.108.018-.208.048-.306A5.007 5.007 0 0 1 9 0h34a1 1 0 1 1 0 2H9zm0 2h32a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2z"}),eg.createElement("path",{fill:"#297EF1",d:"M21.818 22.32a2.52 2.52 0 0 0 .002-3.566l-2.676-2.678a2.528 2.528 0 0 0-3.57 0l-1.47 1.468a3.781 3.781 0 0 0-.474 4.762 58.547 58.547 0 0 0 16.4 16.398 3.784 3.784 0 0 0 4.762-.474l1.468-1.468a2.522 2.522 0 0 0 0-3.568l-2.676-2.676a2.518 2.518 0 0 0-3.568 0l-.892.89a60.016 60.016 0 0 1-8.198-8.196l.892-.892z"})))};hI.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hN=function(e){return eg.createElement("svg",e,eg.createElement("defs",null,eg.createElement("path",{d:"M13 0h13v17a3 3 0 0 1-3 3H0V0h32v26H0V0h13z",id:"a"}),eg.createElement("path",{d:"M13 0h13v17a3 3 0 0 1-3 3H0V0h32v26H0V0h13z",id:"c"})),eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("g",{transform:"translate(8 11)"},eg.createElement("mask",{id:"b",fill:"#fff"},eg.createElement("use",{xlinkHref:"#a"})),eg.createElement("rect",{fill:"#8EE39B",mask:"url(#b)",width:"32",height:"26",rx:"2"}),eg.createElement("path",{d:"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z",fill:"#1EC737",mask:"url(#b)"})),eg.createElement("g",{transform:"translate(16 19)"},eg.createElement("mask",{id:"d",fill:"#fff"},eg.createElement("use",{xlinkHref:"#c"})),eg.createElement("rect",{fill:"#8EE39B",mask:"url(#d)",width:"32",height:"26",rx:"2"}),eg.createElement("path",{d:"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z",fill:"#1EC737",mask:"url(#d)"})),eg.createElement("g",{transform:"translate(0 3)"},eg.createElement("rect",{fill:"#8EE39B",width:"32",height:"26",rx:"2"}),eg.createElement("path",{d:"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z",fill:"#1EC737"}),eg.createElement("circle",{fill:"#FFF",cx:"8",cy:"7",r:"3"}),eg.createElement("path",{d:"M11 16l-5.5 5.5L11 16z",stroke:"#8EE39B",strokeLinecap:"round",strokeLinejoin:"round"}))))};hN.defaultProps={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"};var hz=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{stroke:"#9AE6B3",d:"M40.613 39.898A22.924 22.924 0 0 0 47 24C47 11.296 36.703 1 24 1S1 11.296 1 24c0 6.166 2.434 11.766 6.388 15.898"}),eg.createElement("path",{stroke:"#9AE6B3",d:"M11.816 32.727A14.91 14.91 0 0 1 9 24c0-8.284 6.714-15 15-15 8.282 0 15 6.716 15 15 0 3.258-1.052 6.266-2.816 8.726"}),eg.createElement("path",{stroke:"#9AE6B3",d:"M17.016 24.307C17.012 24.203 17 24.1 17 24c0-3.916 3.2-7 7-7 3.808 0 7 3.09 7 7 0 .1-.012.202-.016.306"}),eg.createElement("path",{fill:"#35CE68",stroke:"#35CE68",d:"M14 47h20L24 27z"}),eg.createElement("path",{stroke:"#35CE68",d:"M24 27v-4"})))};hz.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hF=function(e){return eg.createElement("svg",e,eg.createElement("defs",null,eg.createElement("path",{id:"a",d:"M46 23c0 12.704-10.298 23-23 23C10.296 46 0 35.704 0 23 0 10.3 10.296 0 23 0c12.702 0 23 10.3 23 23z"})),eg.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},eg.createElement("mask",{id:"b",fill:"#fff"},eg.createElement("use",{xlinkHref:"#a"})),eg.createElement("use",{fill:"#CEBEF7",xlinkHref:"#a"}),eg.createElement("path",{fill:"#855CEA",d:"M23 27c-5.523 0-10-4.701-10-10.5S17.477 6 23 6s10 4.701 10 10.5S28.523 27 23 27zm0 38c-9.941 0-18-8.059-18-18s8.059-18 18-18 18 8.059 18 18-8.059 18-18 18z",mask:"url(#b)"})))};hF.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink"};var hL=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FF9126",d:"M9.001 27.002h-8a1 1 0 0 0-1 1v15c0 .55.448 1 1 1h8c.55 0 1-.45 1-1v-15c0-.552-.45-1-1-1"}),eg.createElement("path",{fill:"#FFE2A1",d:"M47.708 35.293c-2.348-2.346-4.374-3-7.024-2.24l-6.016 1.996c.054.314.082.632.082.952 0 1.28-.416 2.486-1.168 3.39-.878 1.052-2.116 1.61-3.582 1.61H20a1 1 0 0 1 0-2h10c.864 0 1.552-.3 2.044-.89.45-.538.706-1.306.706-2.11 0-1.114-.58-3-2.75-3h-6a.998.998 0 0 1-.706-.292c-.918-.918-3.708-3.708-8.294-3.708h-3a1 1 0 0 0-1 1v11c0 .43.276.814.684.948a274.217 274.217 0 0 1 7.522 2.642c3.856 1.402 6.014 2.16 7.938 2.16 2.294 0 4.256-1.078 8.354-3.418 2.712-1.552 6.424-3.674 11.95-6.436.288-.146.488-.418.54-.736.05-.316-.054-.64-.28-.868"}),eg.createElement("path",{fill:"#FF9126",d:"M34.001 15.002c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7zm-9 14c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7z"}),eg.createElement("path",{fill:"#FFE2A1",d:"M33.001 6.002a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4zm-9 14a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4z"})))};hL.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hB=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#FCBFBF",d:"M46.813 45.349L24.895 1.508c-.34-.678-1.45-.678-1.788 0l-22 44A1 1 0 0 0 2 46.956h44.02c.55 0 1-.449 1-1 0-.23-.078-.44-.208-.608z"}),eg.createElement("path",{fill:"#F52D2D",d:"M24 41.172a1.912 1.912 0 1 1-.003-3.824 1.912 1.912 0 0 1 .004 3.825zm-1-23.911a1 1 0 0 1 2 0v15.303a1 1 0 0 1-2 0V17.26z"})))};hB.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hU=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{d:"M37 38v-9c0-5.406-3.304-10.04-8-12 0-2.762-2.242-5-5-5-2.766 0-5 2.238-5 5-4.702 1.96-8 6.594-8 12v9a4 4 0 0 1-4 4h34c-2.21 0-4-1.79-4-4zm-9 4a4 4 0 0 1-8 0",stroke:"#95999D"}),eg.createElement("path",{d:"M1 12h6l-6 6h6M19 2h4l-4 4h4m16 0h8l-8 8h8",stroke:"currentColor"})))};hU.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hV=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("g",{stroke:"#95999D"},eg.createElement("path",{d:"M19 26l26.672 9.528A1.998 1.998 0 0 1 47 37.41V42H1V28a2 2 0 0 1 2-2h2c0 1.658 3.512 3 7 3 4.418 0 7-1.342 7-3zM1 38h46M24.15 27.84L22 30m5.84-.842L26 31"}),eg.createElement("path",{d:"M35 31.715C35 32.82 34.104 34 33 34h-6c-1.658 0-3 1.342-3 3v1M7 38c0-3.312-2.688-6-6-6"})),eg.createElement("g",{stroke:"currentColor"},eg.createElement("path",{d:"M29 22L2.326 12.472A1.993 1.993 0 0 1 1 10.592V6h46v14a2 2 0 0 1-2 2h-2c0-1.656-3.516-3-7-3-4.42 0-7 1.344-7 3zm18-12H1m22.848 10.16L26 18m-5.844.842L22 17"}),eg.createElement("path",{d:"M13 16.285c0-1.104.894-2.286 2-2.286h6a3 3 0 0 0 3-3v-1M41 10c0 3.314 2.684 6 6 6"}))))};hV.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hH=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",transform:"translate(17 1)",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{stroke:"#95999D",d:"M10 35.528V4a4 4 0 1 0-8 0v31.528a6 6 0 1 0 8 0z"}),eg.createElement("circle",{cx:"6",cy:"40",r:"2",stroke:"currentColor"}),eg.createElement("path",{stroke:"currentColor",d:"M6 41V23"})))};hH.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hq=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{d:"M39 11v32m-6-32v32M15 11v32M9 11v32",stroke:"currentColor"}),eg.createElement("path",{d:"M47 15c0-3.3-.7-4-4-4H5c-3.3 0-4 .7-4 4v24c0 3.3.7 4 4 4h38c3.3 0 4-.7 4-4V15zm-30-4V7c0-2.2 1.8-4 4-4h6c2.2 0 4 1.8 4 4v4",stroke:"#95999D"})))};hq.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hW=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{d:"M35.75 19.157c-1.387 0-2.715-.203-3.941-.573l-4.51 1.04.576-3.063c-2.083-1.646-3.375-3.943-3.375-6.482C24.5 5.065 29.536 1 35.75 1S47 5.065 47 10.079c0 5.013-5.036 9.078-11.25 9.078zM31.5 7.5H38m-6.5 3H41m-9.5 3H41",stroke:"currentColor"}),eg.createElement("path",{stroke:"#95999D",d:"M32.824 24.054a13.01 13.01 0 0 1-3.741 1.025 6.538 6.538 0 0 0 2.862-3.603 13.042 13.042 0 0 1-4.136 1.58A6.497 6.497 0 0 0 23.056 21a6.514 6.514 0 0 0-6.344 7.996 18.49 18.49 0 0 1-13.424-6.804 6.473 6.473 0 0 0-.881 3.274 6.51 6.51 0 0 0 2.896 5.42 6.472 6.472 0 0 1-2.95-.815v.083a6.519 6.519 0 0 0 5.223 6.386 6.55 6.55 0 0 1-2.94.112 6.525 6.525 0 0 0 6.083 4.524 13.083 13.083 0 0 1-8.088 2.787c-.52 0-1.038-.031-1.553-.091a18.443 18.443 0 0 0 9.984 2.926c11.98 0 18.53-9.924 18.53-18.531 0-.282 0-.563-.02-.843a13.287 13.287 0 0 0 3.25-3.37h.002z"})))};hW.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hG=function(e){return eg.createElement("svg",e,eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#F52D2D",d:"M7 36c-1.654 0-3-1.346-3-3 0-1.655 1.346-3 3-3h13.068c1.43 1.204 2.285-2.3.906-3.882-1.474-1.69-5.217-1.47-4.37-.119H7c-3.86 0-7 3.14-7 7s3.14 7 7 7h34c1.102 0 2 .899 2 2 0 1.105-.898 2-2 2H21A2 2 0 0 0 21 48h20c3.308 0 6-2.692 6-6s-2.692-6-6-6H7z"}),eg.createElement("path",{fill:"#FCBFBF",d:"M31 34c-9.389 0-17-7.612-17-17.001 0-9.39 7.611-17 17-17s17 7.61 17 17-7.611 17-17 17zm0-21.001c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z"}),eg.createElement("path",{fill:"#F52D2D",d:"M19.057 12.078a1 1 0 0 1 .524-.574.987.987 0 0 1 .776-.028l5 1.91c.278.108.492.33.59.61a.997.997 0 0 1-.09.842c-.98 1.624-.626 3.322-.154 4.458.102.248.1.526-.004.774-.104.246-.304.44-.552.54l-4.724 1.864a.968.968 0 0 1-.424.118h-.042c-.462 0-.872-.314-.984-.762-1.468-3.686-.768-7.33.084-9.752zm7.132-7.12c.014-.002.028-.006.042-.006 2.9-1.136 6.292-1.092 9.69.104a1.002 1.002 0 0 1 .592 1.33L34.6 10.962a1 1 0 0 1-1.458.462 5.987 5.987 0 0 0-4.44.044.999.999 0 0 1-1.306-.54L25.533 6.44a.98.98 0 0 1-.124-.438l-.002-.022c-.02-.486.31-.916.782-1.022zm15.38 6.572a.962.962 0 0 1 .43-.12c.476-.038.912.296 1.026.758 1.47 3.69.772 7.334-.082 9.754a.994.994 0 0 1-.944.67.993.993 0 0 1-.356-.066l-5-1.912a1.005 1.005 0 0 1-.5-1.452c.982-1.624.626-3.32.156-4.458a.994.994 0 0 1 .556-1.312l4.714-1.862zm-5.74 17.496c-1.418.566-2.948.85-4.552.85-1.692 0-3.442-.314-5.2-.932a.994.994 0 0 1-.574-.524.983.983 0 0 1-.026-.778l1.91-5a.997.997 0 0 1 1.45-.498c1.28.772 2.852.818 4.458.154.248-.102.526-.1.772.002.248.106.442.306.54.556l1.868 4.724c.068.126.11.272.116.42.02.478-.3.912-.762 1.026z"})))};hG.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hZ=function(e){return eg.createElement("svg",e,eg.createElement("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"},eg.createElement("path",{stroke:"#95999D",d:"M43 45H5c-2.202 0-4-1.643-4-3.652V6.652C1 4.642 2.798 3 5 3h38c2.2 0 4 1.642 4 3.652v34.696C47 43.357 45.2 45 43 45z"}),eg.createElement("g",{stroke:"currentColor",transform:"translate(16 9)"},eg.createElement("circle",{cx:"8",cy:"8",r:"8"}),eg.createElement("path",{d:"M1 12h14M7 32h2M8 12l3-7"}))))};hZ.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"};var hK={activity:hv,appointment:hy,bankTransactions:hb,bankAccounts:hg,bill:hw,bloodPressure:hk,calendar:hx,certificate:hO,commit:h_,consumption:hE,contact:hC,contract:hS,courseMaterial:hP,document:hA,event:hD,family:hT,geopoint:hR,heartbeat:hj,home:hM,phonecommunicationlog:hI,picture:hN,podcast:hz,profile:hF,refund:hL,sinister:hB,sleepTime:hU,stepsNumber:hV,temperature:hH,travelDate:hq,tweet:hW,videostream:hG,weight:hZ},hQ=function(e){var t=e.t,n=e.dataTypes,r=e.konnectorName;return n.length>0?eg.createElement(eg.Fragment,null,eg.createElement(eC.default,{className:"u-ta-center",variant:"body1"},t("suggestions.data",{name:r})),eg.createElement("ul",{className:"u-w-100 u-nolist u-mt-0 u-ph-0 u-mb-half"},n.map(function(e){var n=hK[e];return eg.createElement("li",{key:e},eg.createElement(hm,{primaryText:t("dataType.".concat(e)),image:n?eg.createElement(n,{className:"u-w-2 u-h-2"}):null}))}))):null};hQ.propTypes={t:ey().func.isRequired,dataTypes:ey().array.isRequired,konnectorName:ey().string.isRequired};let hY=(0,eb.translate)()(hQ);var hJ=function(e){return eg.createElement("svg",e,eg.createElement("defs",null,eg.createElement("linearGradient",{id:"a",x1:"0%",x2:"100.01%",y1:"50%",y2:"50%"},eg.createElement("stop",{offset:"0%",stopColor:"#F90"}),eg.createElement("stop",{offset:"100%",stopColor:"#FF8000"})),eg.createElement("linearGradient",{id:"b",x1:".11%",x2:"100.1%",y1:"50%",y2:"50%"},eg.createElement("stop",{offset:"0%",stopColor:"#FF8000"}),eg.createElement("stop",{offset:"100%",stopColor:"#CC1852"})),eg.createElement("linearGradient",{id:"c",x1:"0%",y1:"42.36%",y2:"57.2%"},eg.createElement("stop",{offset:"0%",stopColor:"#FFCA00"}),eg.createElement("stop",{offset:"100%",stopColor:"#CF1B37"})),eg.createElement("linearGradient",{id:"d",x1:"0%",y1:"36.51%",y2:"63.49%"},eg.createElement("stop",{offset:"0%",stopColor:"#FFD000"}),eg.createElement("stop",{offset:"100%",stopColor:"#FD5B22"})),eg.createElement("linearGradient",{id:"e",x1:"0%",y1:"50%",y2:"50%"},eg.createElement("stop",{offset:"0%",stopColor:"#CC1852"}),eg.createElement("stop",{offset:"100%",stopColor:"#231183"})),eg.createElement("linearGradient",{id:"f",x1:"-3.94%",x2:"103.94%",y1:"57.27%",y2:"42.72%"},eg.createElement("stop",{offset:"0%",stopColor:"#CC1852"}),eg.createElement("stop",{offset:"100%",stopColor:"#231183"})),eg.createElement("linearGradient",{id:"g",x1:".01%",y1:"50%",y2:"50%"},eg.createElement("stop",{offset:"0%",stopColor:"#212A90"}),eg.createElement("stop",{offset:"100%",stopColor:"#3459A5"})),eg.createElement("linearGradient",{id:"h",x1:"-1.52%",x2:"101.53%",y1:"62.1%",y2:"37.89%"},eg.createElement("stop",{offset:"0%",stopColor:"#212A90"}),eg.createElement("stop",{offset:"100%",stopColor:"#367B99"})),eg.createElement("linearGradient",{id:"i",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},eg.createElement("stop",{offset:"0%",stopColor:"#33A65E"}),eg.createElement("stop",{offset:"100%",stopColor:"#358E7A"})),eg.createElement("path",{id:"j",d:"M0 .002h2.77v13.974H0z"}),eg.createElement("path",{id:"l",d:"M0 .002h2.77v9.435H0z"}),eg.createElement("path",{id:"n",d:"M0 0h7.691v13.976H0z"}),eg.createElement("linearGradient",{id:"p",x1:"100%",x2:"0%",y1:"55.23%",y2:"55.23%"},eg.createElement("stop",{offset:"0%",stopColor:"#570345"}),eg.createElement("stop",{offset:"37.68%",stopColor:"#E72E73"}),eg.createElement("stop",{offset:"59.89%",stopColor:"#E72E73"}),eg.createElement("stop",{offset:"100%",stopColor:"#360030"})),eg.createElement("linearGradient",{id:"q",x1:"62.39%",x2:"93.84%",y1:"46.78%",y2:"60.36%"},eg.createElement("stop",{offset:"0%",stopColor:"#E72E73"}),eg.createElement("stop",{offset:"100%",stopColor:"#9D095E"})),eg.createElement("radialGradient",{id:"r",cx:"81.42%",cy:"16.47%",r:"93.41%",fx:"81.42%",fy:"16.47%",gradientTransform:"matrix(-.67833 .7347 -.73462 -.6784 1.488 -.322)"},eg.createElement("stop",{offset:"0%",stopColor:"#EE0005"}),eg.createElement("stop",{offset:"55.9%",stopColor:"#EB0004"}),eg.createElement("stop",{offset:"100%",stopColor:"#B30008"})),eg.createElement("linearGradient",{id:"s",x1:"95.4%",x2:"26.06%",y1:"4.63%",y2:"73.97%"},eg.createElement("stop",{offset:"0%",stopColor:"#42B8EB"}),eg.createElement("stop",{offset:"10%",stopColor:"#3EAADE"}),eg.createElement("stop",{offset:"32%",stopColor:"#2E73AD"}),eg.createElement("stop",{offset:"51%",stopColor:"#234C89"}),eg.createElement("stop",{offset:"66%",stopColor:"#1C3373"}),eg.createElement("stop",{offset:"100%",stopColor:"#192A6B"})),eg.createElement("path",{id:"t",d:"M.106.302h3.257V8.56H.106z"}),eg.createElement("path",{id:"v",d:"M0 0h8.127v3.258H0z"}),eg.createElement("linearGradient",{id:"x",x1:"50%",x2:"50%",y1:"-2.46%",y2:"103.1%"},eg.createElement("stop",{offset:"0%",stopColor:"#008053"}),eg.createElement("stop",{offset:"60%",stopColor:"#7FCBAE"}),eg.createElement("stop",{offset:"100%",stopColor:"#00A76D"})),eg.createElement("linearGradient",{id:"y",x1:"50.05%",x2:"50.05%",y1:"-27.84%",y2:"96.75%"},eg.createElement("stop",{offset:"0%",stopColor:"#00A76D"}),eg.createElement("stop",{offset:"30%",stopColor:"#7FCBAE"}),eg.createElement("stop",{offset:"55%",stopColor:"#00A76D"}),eg.createElement("stop",{offset:"83.52%",stopColor:"#008053"}),eg.createElement("stop",{offset:"86.91%",stopColor:"#008558"}),eg.createElement("stop",{offset:"92.44%",stopColor:"#009264"}),eg.createElement("stop",{offset:"99.38%",stopColor:"#00A97A"}),eg.createElement("stop",{offset:"100%",stopColor:"#00AD7D"})),eg.createElement("linearGradient",{id:"z",x1:"49.71%",x2:"49.71%",y1:"226.53%",y2:"-2.33%"},eg.createElement("stop",{offset:"0%",stopColor:"#00B387"}),eg.createElement("stop",{offset:"100%",stopColor:"#00A76D"})),eg.createElement("linearGradient",{id:"A",x1:"48.94%",x2:"48.94%",y1:"105.81%",y2:"-171.32%"},eg.createElement("stop",{offset:"0%",stopColor:"#00B387"}),eg.createElement("stop",{offset:"100%",stopColor:"#00A76D"})),eg.createElement("linearGradient",{id:"B",x1:"49.5%",x2:"49.5%",y1:"233.31%",y2:"-84.22%"},eg.createElement("stop",{offset:"0%",stopColor:"#00B387"}),eg.createElement("stop",{offset:"100%",stopColor:"#00A76D"})),eg.createElement("linearGradient",{id:"C",x1:"49.64%",x2:"49.64%",y1:"96.61%",y2:"-445.24%"},eg.createElement("stop",{offset:"0%",stopColor:"#00B387"}),eg.createElement("stop",{offset:"100%",stopColor:"#00A76D"}))),eg.createElement("g",{fill:"none",fillRule:"evenodd"},eg.createElement("path",{fill:"#BBD9FD",d:"M92.46 159.37c2.65.93 9.45 1.73 14.93 2.05 14.97.88 35.88.4 44.74-1.2 8.93-1.63 9.33-4.1-13.38-5.31-19.32-1.04-41.89.44-46.71 2.64-1.3.6-1.22 1.25.42 1.82"}),eg.createElement("path",{fill:"#3281EE",d:"M124 83l.22.01c1.88.07 3.74.36 5.53.84a24 24 0 0 1 17.5 18.96c4.9.87 9.75 3.63 13.52 7.72 3.62 3.93 5.76 8.58 6.16 13.44a19.5 19.5 0 0 1-.27 5.24 25.4 25.4 0 0 1-2.92 8.38c-4.52 7.8-12.52 10.1-18.98 11.22l-.95.16c-4.02.65-8.23 1-17.2 1.05l-2.64.01h-2.61c-9.67-.06-13.8-.47-18.12-1.22l-.67-.12c-6.34-1.17-13.95-3.56-18.31-11.1a25.53 25.53 0 0 1-2.92-8.39 19.48 19.48 0 0 1-.27-5.24c.4-4.86 2.54-9.5 6.17-13.44 3.76-4.1 8.62-6.85 13.5-7.72a24 24 0 0 1 17.53-18.95 24.96 24.96 0 0 1 5.72-.85zm0 3.8c-1.62.06-3.22.3-4.76.71a20.23 20.23 0 0 0-14.94 17.21 1.9 1.9 0 0 1-1.7 1.66c-4.4.44-9.1 2.95-12.57 6.72a18.76 18.76 0 0 0-5.18 11.19c-.1 1.24-.06 2.5.15 3.78l.1.56a21.9 21.9 0 0 0 2.44 7.05c2.9 5 7.66 7.8 15.87 9.3l.84.15c3.55.61 7.14 1.05 17.24 1.1h5.56c10.02-.07 13.45-.53 17.06-1.16 8.5-1.48 13.4-4.28 16.35-9.39a22.2 22.2 0 0 0 2.4-6.76l.06-.38c.24-1.27.33-2.54.26-3.79l-.03-.47c-.33-4-2.12-7.87-5.17-11.18-3.48-3.77-8.18-6.28-12.58-6.72a1.9 1.9 0 0 1-1.7-1.66 20.23 20.23 0 0 0-14.94-17.2 21.24 21.24 0 0 0-4.76-.72zm-11.39 33.6c.9-.1 1.94.46 2.08 1.58.12.98-.07 1.84-.42 2.59 5.57 3.33 13.42 3.45 19.33.34-.4-.7-.67-1.46-.62-2.37.04-.66.4-1.23.99-1.52a1.9 1.9 0 0 1 1.88.1c.51.33.79.89.75 1.53-.04.62.96 1.87 1.8 2.5.95.7.93 1.9.37 2.65a1.64 1.64 0 0 1-2.36.36 8.11 8.11 0 0 1-.8-.68 23.63 23.63 0 0 1-11.37 2.82 23.4 23.4 0 0 1-12.07-3.22c-.35.3-.7.55-.98.77-.3.22-.65.34-.99.34-.2 0-.41-.05-.6-.13a1.84 1.84 0 0 1-.35-3.12l.37-.28c1-.77 1.7-1.48 1.58-2.44-.11-.94.48-1.7 1.41-1.82z"}),eg.createElement("path",{fill:"#BBD9FD",fillRule:"nonzero",d:"M226.14 65.32l-.3 1.97A25.2 25.2 0 0 0 222 67v-2c1.4 0 2.78.1 4.14.32zm7.92 2.52l-.9 1.79a24.83 24.83 0 0 0-3.56-1.45l.61-1.9c1.32.41 2.61.94 3.85 1.56zm6.77 4.8l-1.4 1.44a23.9 23.9 0 0 0-2.95-2.46l1.16-1.63c1.13.8 2.2 1.7 3.19 2.66zm4.97 6.6l-1.76.95c-.6-1.13-1.3-2.21-2.07-3.24l1.6-1.2c.83 1.1 1.58 2.27 2.23 3.5zm2.76 7.9l-1.97.35c-.23-1.27-.55-2.5-.98-3.72l1.9-.66c.45 1.31.8 2.65 1.05 4.02zm.24 8.2l-1.99-.25a25.26 25.26 0 0 0 .18-3.76l2-.05a27.5 27.5 0 0 1-.2 4.06zm-2.28 7.98l-1.82-.84c.54-1.16.99-2.37 1.34-3.6l1.93.54a26.81 26.81 0 0 1-1.45 3.9zm-4.6 6.91l-1.48-1.35a24.6 24.6 0 0 0 2.37-3.02l1.67 1.1a27.11 27.11 0 0 1-2.57 3.27zm-6.45 5.18l-1-1.74a25.06 25.06 0 0 0 3.17-2.17l1.26 1.56a27.06 27.06 0 0 1-3.43 2.35zm-7.8 3l-.41-1.96a24.8 24.8 0 0 0 3.68-1.1l.72 1.87c-1.3.5-2.63.9-3.99 1.18zm-8.2.47l.19-1.99a25.32 25.32 0 0 0 3.77.07l.11 2a27.41 27.41 0 0 1-4.07-.08zm-8.04-2.03l.78-1.84c1.18.5 2.4.91 3.65 1.23l-.5 1.94a26.8 26.8 0 0 1-3.93-1.33zm-7.05-4.4l1.3-1.5c.98.83 2.01 1.6 3.1 2.27l-1.06 1.7a27.09 27.09 0 0 1-3.34-2.46zm-5.38-6.27l1.7-1.05a25.68 25.68 0 0 0 2.27 3.1l-1.52 1.3a27.08 27.08 0 0 1-2.45-3.36zm-3.23-7.7l1.94-.47a26.4 26.4 0 0 0 1.2 3.65l-1.84.77a26.8 26.8 0 0 1-1.3-3.95zm-.73-8.2l2 .13a25.4 25.4 0 0 0 .04 3.7l-2 .16a27.35 27.35 0 0 1-.04-3.98zm1.79-8.08l1.86.72a24.8 24.8 0 0 0-1.11 3.68l-1.96-.43c.3-1.36.7-2.69 1.21-3.97zm4.19-7.2l1.55 1.26c-.8 1-1.54 2.05-2.19 3.16l-1.72-1c.7-1.2 1.48-2.35 2.36-3.42zm6.13-5.56l1.1 1.67c-1.07.7-2.09 1.5-3.04 2.36L203.87 72a27.11 27.11 0 0 1 3.28-2.55zm7.58-3.45l.54 1.93c-1.24.34-2.44.78-3.61 1.31l-.83-1.82a26.81 26.81 0 0 1 3.9-1.41zM222 65v2c-.96 0-1.92.05-2.86.16l-.24-1.99c1.03-.11 2.06-.17 3.1-.17z"}),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"url(#a)",d:"M0 6.55h3.36V8.3H0z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#b)",d:"M3.84 6.55H7.2V8.3H3.84z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#c)",d:"M3.84 4.37H7.2v1.75H3.84z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#d)",d:"M3.84 2.18H7.2v1.75H3.84z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#e)",d:"M7.69 6.55h3.36V8.3H7.69z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#f)",d:"M7.69 4.37h3.36v1.75H7.69z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#g)",d:"M11.53 6.55h3.36V8.3h-3.36z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#h)",d:"M11.53 4.37h3.36v1.75h-3.36z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"url(#i)",d:"M11.53 2.18h3.36v1.75h-3.36z",transform:"rotate(9 -398.684 1460.196)"}),eg.createElement("path",{fill:"#40AB5D",d:"M234.905 82.149l3.318.526-.273 1.728-3.32-.526z"})),eg.createElement("g",{opacity:".5",transform:"rotate(19 -167.932 684.215)"},eg.createElement("mask",{id:"k",fill:"#fff"},eg.createElement("use",{xlinkHref:"#j"})),eg.createElement("path",{fill:"#B1060F",d:"M0 0v13.98l.54-.05a44.44 44.44 0 0 1 2.19-.18c.03 0 .03-.15.03-2.96l.01-2.95L0 0z",mask:"url(#k)"}),eg.createElement("mask",{id:"m",fill:"#fff"},eg.createElement("use",{xlinkHref:"#l"})),eg.createElement("path",{fill:"#9D030F",mask:"url(#m)",d:"M2.767 9.437l.003-1.593-.002-.005v.003L0 .002z"}),eg.createElement("path",{fill:"#B1060F",d:"M4.96.01V3.1l-.01 3.09 2.74 7.78h-.02.02c.01 0 .02-3.15.01-6.98V0H4.96z"}),eg.createElement("path",{fill:"#9D030F",d:"M4.949 4.625l-.003 1.561 2.628 7.454z"}),eg.createElement("mask",{id:"o",fill:"#fff"},eg.createElement("use",{xlinkHref:"#n"})),eg.createElement("path",{fill:"#E50914",d:"M0 0l2.77 7.84.22.62 1.87 5.29.4.02a31.56 31.56 0 0 1 2.43.2L4.95 6.2l-.26-.72-1.41-3.99-.5-1.43L2.75 0H0z",mask:"url(#o)"})),eg.createElement("g",{opacity:".5",fillRule:"nonzero"},eg.createElement("path",{fill:"#FBBC05",d:"M235.853 100.172l-5.128.349.147 2.095 2.952-.207a3.15 3.15 0 1 1-1.105-3.33l1.363-1.59a5.24 5.24 0 1 0 1.761 2.684z"}),eg.createElement("path",{fill:"#EA4335",d:"M225.999 99.448l1.813 1.136a3.14 3.14 0 0 1 4.907-1.516l1.363-1.579a5.22 5.22 0 0 0-8.083 1.969z"}),eg.createElement("path",{fill:"#34A853",d:"M231.163 106.786a5.25 5.25 0 0 0 3.417-1.603l-1.722-1.253a3.12 3.12 0 0 1-4.94-1.108l-1.603 1.436a5.24 5.24 0 0 0 4.848 2.528z"}),eg.createElement("path",{fill:"#4285F4",d:"M235.853 100.172l-5.128.349.147 2.095 2.952-.207a3.069 3.069 0 0 1-.965 1.531l1.721 1.253c-.112.108 1.628-1.377 1.446-3.99a5 5 0 0 0-.172-1.02z"})),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"#1877F2",d:"M222.004 82.402a6.99 6.99 0 1 0-8.757 6.017l.51-4.853-1.77-.186.211-2.01 1.77.187.161-1.532c.183-1.74 1.319-2.596 2.91-2.429.756.08 1.537.303 1.537.303l-.18 1.71-.875-.092c-.865-.09-1.189.408-1.248.965l-.135 1.293 1.929.203-.532 1.995-1.61-.17-.51 4.854a6.99 6.99 0 0 0 6.588-6.246"}),eg.createElement("path",{fill:"#FFF",d:"M217.538 83.953l.537-1.954-1.94-.204.138-1.313c.059-.557.384-1.066 1.25-.975l.874.092.178-1.69s-.781-.223-1.537-.303c-1.591-.167-2.727.689-2.91 2.43l-.16 1.53-1.77-.185-.21 1.989 1.77.186-.51 4.853a7.04 7.04 0 0 0 2.168.228l.51-4.843 1.62.17z"})),eg.createElement("path",{fill:"#CEE4FE",d:"M161.75 98.1c-.33.97.07 1.24.39 1.14 1.91-.6 3.83-1.23 5.62-2.1 1.1-.38 2.17-.85 3.25-1.29 1.48-.58.93-2.15-.42-1.54-1.8.81-3.65 1.52-5.48 2.28l.21-.26a18.12 18.12 0 0 1 5.68-3.66 27.54 27.54 0 0 1 7.11-2.1c3.72-.59 5.77-.96 9.4-.07 1.33.32 1.76-1.66.08-2.01a24.43 24.43 0 0 0-9.44-.13l-1.12.13c-4.81.67-10.63 2.9-12.6 7.7.16-.48.3-.98.45-1.46.45-1.48.86-2.97 1.3-4.45.25-.82-.85-1.53-1.42-.21-.1.24-2.22 5.74-3 8.04z"}),eg.createElement("g",null,eg.createElement("path",{fill:"#BBD9FD",fillRule:"nonzero",d:"M196.14 8.32l-.3 1.97A25.2 25.2 0 0 0 192 10V8c1.4 0 2.78.1 4.14.32zm7.92 2.52l-.9 1.79a24.83 24.83 0 0 0-3.56-1.45l.61-1.9c1.32.41 2.61.94 3.85 1.56zm6.77 4.8l-1.4 1.44a23.9 23.9 0 0 0-2.95-2.46l1.16-1.63c1.13.8 2.2 1.7 3.19 2.66zm4.97 6.6l-1.76.95c-.6-1.13-1.3-2.21-2.07-3.24l1.6-1.2c.83 1.1 1.58 2.27 2.23 3.5zm2.76 7.9l-1.97.35c-.23-1.27-.55-2.5-.98-3.72l1.9-.66c.45 1.31.8 2.65 1.05 4.02zm.24 8.2l-1.99-.25a25.26 25.26 0 0 0 .18-3.76l2-.05a27.5 27.5 0 0 1-.2 4.06zm-2.28 7.98l-1.82-.84c.54-1.16.99-2.37 1.34-3.6l1.93.54a26.81 26.81 0 0 1-1.45 3.9zm-4.6 6.91l-1.48-1.35a24.6 24.6 0 0 0 2.37-3.02l1.67 1.1a27.11 27.11 0 0 1-2.57 3.27zm-6.45 5.18l-1-1.74a25.06 25.06 0 0 0 3.17-2.17l1.26 1.56a27.06 27.06 0 0 1-3.43 2.35zm-7.8 3l-.41-1.96a24.8 24.8 0 0 0 3.68-1.1l.72 1.87c-1.3.5-2.63.9-3.99 1.18zm-8.2.47l.19-1.99a25.32 25.32 0 0 0 3.77.07l.11 2a27.41 27.41 0 0 1-4.07-.08zm-8.04-2.03l.78-1.84c1.18.5 2.4.91 3.65 1.23l-.5 1.94a26.8 26.8 0 0 1-3.93-1.33zm-7.05-4.4l1.3-1.5c.98.83 2.01 1.6 3.1 2.27l-1.06 1.7a27.09 27.09 0 0 1-3.34-2.46zM169 49.18l1.7-1.05a25.68 25.68 0 0 0 2.27 3.1l-1.52 1.3a27.08 27.08 0 0 1-2.45-3.36zm-3.23-7.7l1.94-.47a26.4 26.4 0 0 0 1.2 3.65l-1.84.77a26.8 26.8 0 0 1-1.3-3.95zm-.73-8.2l2 .13a25.4 25.4 0 0 0 .04 3.7l-2 .16a27.35 27.35 0 0 1-.04-3.98zm1.79-8.08l1.86.72a24.8 24.8 0 0 0-1.11 3.68l-1.96-.43c.3-1.36.7-2.69 1.21-3.97zm4.19-7.2l1.55 1.26c-.8 1-1.54 2.05-2.19 3.16l-1.72-1c.7-1.2 1.48-2.35 2.36-3.42zm6.13-5.56l1.1 1.67c-1.07.7-2.09 1.5-3.04 2.36L173.87 15a27.11 27.11 0 0 1 3.28-2.55zm7.58-3.45l.54 1.93c-1.24.34-2.44.78-3.61 1.31l-.83-1.82a26.81 26.81 0 0 1 3.9-1.41zM192 8v2c-.96 0-1.92.05-2.86.16l-.24-1.99c1.03-.11 2.06-.17 3.1-.17z"}),eg.createElement("path",{fill:"#0062AE",fillRule:"nonzero",d:"M187.68 37.05c.53-.63.62-.63.7-.92.06-.23-.44-.57-.72-.83a1.84 1.84 0 0 0-.78-.44c-.14-.02-.33-.03-.3-.1.29-.53-.02-.72-.14-.77l.04-.3h-.05v-.06l-5.41-.86a5.14 5.14 0 0 0-.89-.3c-.14-.02-.45.09-.55.08a.65.65 0 0 1-.26-.15c-.07-.08-.12-.27-.58-.26a.55.55 0 0 0-.41.2l-2.43-.38v.06l-.06-.01-.48 3.04a.49.49 0 0 0-.27.03c-.03.01-.17.04-.21.14-.1.06-.15.21-.1.27 0 .04-.1.22.06.3a.25.25 0 0 1-.14.37 2.4 2.4 0 0 0-.75.17c-1.25.4-.22.85-.02.9.28.07.34.1.2.38a1.6 1.6 0 0 0-.1.7c-.24-.03-.3.22-.33.39-.23.5.24.45.42.24.4.26.64-.36.67-.33l-.06.42a2.7 2.7 0 0 1-.19.22c-.27.4-.07.26-.11.45-.05.18-.05.3.13.38l-.4 2.53h.05v.07l1.77.28.1.07c.18.12.2.13.27.04a.2.2 0 0 0 .03-.06l8.36 1.32.01-.06.06.01.52-3.3c.4.06.28-.07.38-.43l.23-.86c0 .38.03 1.04-.04 1.12a.55.55 0 0 1-.28.2c-.22.1-.23.17-.22.18 0 .02-.05.12.2.16.2.02.4-.01.6-.08.1-.04.21 0 .29-.15.03-.13.06-.27.06-.42.16-.4.26-.8.3-1.23.3-.48.45-1.66.45-1.73.25-.3.35-.36.39-.68h-.01zm-11.38 5.68a.08.08 0 0 1 .02-.1v-.03l-.02.13zm.16-.3c.2-.21.47-.37.77-.43.23-.04 1-.18 1.35-.2l-.23 1.43-1.97-.31.08-.5v.02zm9.12-5.2c-.09.18-.16.38-.22.58l-1-.16c.2-.1.4-.23.57-.37.28-.04.19-.21.13-.33a.33.33 0 0 0-.37-.08c-.34-.05-.1.13-.16.18-.12.08-.58.22-.75.3l-.06.03.28-1.78c.49.3 1.37.34 1.48.45.19.36.22.77.1 1.15v.02zm-.3 1c-.19.75-.04 1.37-.06 1.75l-1.87-.3.27-1.71c.21-.06.41-.14.6-.26l1.11.18c-.04.17-.03.23-.05.33v.01zm-9.64-.55c0-.2.08-.4.22-.56.17-.08.36-.15.55-.19.3-.02.57-.1.83-.23l-.22 1.37a.4.4 0 0 1-.09-.01c-.2-.06-.22 0-.22.04 0 .05.01.04-.19 0-.32-.06-.25.17-.11.25.17.09.35.15.54.18l-.02.14-1.27-.2c.03-.47-.04-.6-.02-.78v-.01zm2.33-2.47c.05-.09-.01-.24.06-.35.08-.1.18-.18.28-.26l.9.14.25.07h.21l-.32 2.01-1.72-.27a.33.33 0 0 0 .12-.1c.07-.11.08-.24-.01-.26-.22.07-.1 0-.2 0a.58.58 0 0 1-.1.05l.11-.71c.16-.1.3-.2.42-.32zm2.26-1.31c.03-.1.09-.18.15-.26.06-.08.23-.23.25-.32l.27.06.43.04c.13.02.35.14.45.15l.26.04-.23 1.44-1.97-.3c.13-.1.24-.2.32-.33a.92.92 0 0 0 .06-.52zm3.67 1.62l-.3 1.86a.2.2 0 0 1-.1-.01l-.32-.2c-.03 0-.03.03-.31-.18a.98.98 0 0 0-.74-.29c-.29 0-.38.03-.37-.09.02-.11.2-.17.2-.17.22-.04.15-.2.14-.23a.65.65 0 0 0-.02-.25c.12-.08-.07-.21-.1-.27a1.01 1.01 0 0 0-.1-.33l.03-.17 1.94.31.05.04v-.02zm-6.53 1.15l.04-.01 1.93.3-.08.5c-.28.13-.43.24-.75.37-.38.15-.78.26-1.19.32 0 0-.12.02-.16-.03h-.02l.23-1.45zm2.08.31l.65.1-.71.32.06-.42zm2.34-1.73a.44.44 0 0 0-.38-.08 1.5 1.5 0 0 0-.88.38.4.4 0 0 0-.22.19c-.03.08.07.17-.05.33a.28.28 0 0 0-.05.32c0 .04 0 .21.1.26.3.08.2.1.32.17-.1.07-.22.13-.34.18l-.82-.13.32-2.02 2.01.31v.07l-.01.02zm-4.72 3.3c.04-.04.14-.1.4-.04.68.13 1.35-.2 1.68-.3l-.13.79-1.97-.31.02-.14zm2.2-.39c.3-.08.98-.32 1.1-.26.2.24.3.54.33.85-.09.17-.3.27-.4.46l-1.17-.19.14-.86zm.97 1.14c-.24.54-.02.53-.13.84-.04.1-.58.34-1 .67a1.5 1.5 0 0 1-.3.18l.3-1.87 1.13.18zm.6 1.89l-.03.24-.27-.04.31-.2zm.14-.09l.4-.34c.06.01.16.03.46.21.75.48.8.32.9.5l.05.27-1.87-.3.06-.35v.01zm2.14-.65l-.84-.82.94.15-.1.67zm-.97-.96l-.06-.06c.03-.15.07-.3.12-.44.03-.25.11-.49.24-.7.19-.09.19-.34.25-.46.27.07.54.12.81.13l-.27 1.68-1.09-.15zm.97-4.56c-.04 0-.15.01-.13.05.1.15.4.13.48.2l.21.17-1.75-.28.23-1.44c.08.01.17.04.25.07.08.05.44.33.5.3.06-.02-.04-.11-.02-.15.02-.04.34.1.4 0 .05-.08-.22-.25-.31-.3-.1-.04-.33-.08-.41-.1-.08-.03-.2-.13-.35-.2l.02-.17 2 .32-.27 1.7a1.19 1.19 0 0 1-.4-.23.85.85 0 0 0-.53-.29s-.23-.02-.25.1c.13.07.24.15.33.25zm-1-1.74a.66.66 0 0 0-.13-.04l-.43-.16-.08-.03.66.1-.02.13zm-3.72 1.32c.04-.06.07-.2.1-.2.03-.01.18.14.4.28l-.5-.08zm-.73-.4l-.1.27-1.95-.31.32-1.99 2 .32-.27 1.7zm-.15.38l-.22.49c0 .02-.2.22-.27.3-.06.07-.14.08-.2.12-.04.05-.05.14.06.19.1.04.24-.06.28-.05.03.02-.02.1.05.11a.4.4 0 0 0 .2-.06l-.1.72c-.04.06-.05.04-.14.06-.2.04-.4.04-.6 0l-.27-.02-.74-.11a.06.06 0 0 1-.02-.06c.23-.2.14-.23.19-.33.04-.12.06-.24.07-.36a.34.34 0 0 0 0-.25.83.83 0 0 0-.17-.1c-.06 0-.1-.07-.18-.1l.14-.86 1.92.3zm-2.54 5.58c.06-.08-.13-.33.02-.51.14-.19.58-.46.61-.68l.05-.3 1.27.2-.31 1.99-2-.32.05-.34c.18.05.25.03.31-.04zm2.07-1.28l1.97.31-.3 1.92-.22.04-1.78-.29.31-1.98h.02zm.97 2.3c-.27.08-.72.38-1.3.6l-.13.04.13-.84 1.3.2zm.7.7c.67.04.63-.1.9-.14.26-.02.52-.08.76-.19l.43.07-.32 2.01-2.02-.32.24-1.44zm2.2-.23l1.93.3.04.15-.3 1.87-2-.32.31-2h.03zm2.03.66c.07.19.16.37.27.53.18.21.28.48.28.75-.04.23-.21.38.17.55l-.99-.16.27-1.67zm1.77 1.84a.95.95 0 0 0-.26-.2 1.19 1.19 0 0 1-.53-.7c-.12-.39-.2-.79-.24-1.2l1.33.22-.3 1.88zm-1.05-2.2a5.16 5.16 0 0 1-.04-.48c.01-.34-.14-.66-.41-.86l.11-.73 1.88.3c-.02.3-.1.42-.53.6-.43.17.05.23.05.23s.03-.03.48.04l-.18 1.14-1.36-.24zm2.22-7.87c-.25.09-.18.26-.24.33-.05.06-.15.1-.16.18-.01.08.07.11.07.12l-.02.28c-.02.1.12.11.1.14-.03.03-.27.07-.45.15a.8.8 0 0 1-.42.1c-.2-.03-.4-.07-.6-.13l-.09-.02.28-1.72 2 .31-.04.24a.7.7 0 0 0-.43.02zm-7.71-1.24c0 .25.14.47.36.57.13.04.13 0 .25 0 .12-.01.12.04.17.04.05 0 .01-.04.08-.05.07 0 .2 0 .25-.06.05-.06.11-.1.11-.1-.2.49-.25.48-.25.48-.58-.26-1-.3-1.12-.23a.23.23 0 0 0-.15.13l.18-1.11.22.03c-.06.1-.08.2-.08.3h-.02zm-3.9 9.81l.32-2 2 .31-.14.9c-.23.07-.48.11-.72.13-.32.06-.2.28-.12.33.03.14.07.28.12.4.03.08.07.14.12.2l-1.58-.27z",opacity:".5"}),eg.createElement("g",{opacity:".5",fillRule:"nonzero"},eg.createElement("path",{fill:"#28377E",d:"M190.364 39.2s7.67-3.088 13.878-1.604l1.462 11.91a28.06 28.06 0 0 1-13.849 1.842L190.364 39.2z"}),eg.createElement("path",{fill:"#FEFEFE",d:"M199.52 46.488c.328-.04.657.02.934.218l-.294.48a.75.75 0 0 0-.54-.136.68.68 0 0 0-.564.825.68.68 0 0 0 .766.661.7.7 0 0 0 .482-.26l.39.395a1.26 1.26 0 0 1-.814.422 1.26 1.26 0 0 1-1.434-1.012l-.016-.13a1.24 1.24 0 0 1 1.09-1.463zm-6.481.796l.738.514.423.33.112.087.428-.536.562-.673.08-.01.311 2.541-.605.074-.158-1.28c-.067.109-.145.21-.225.3l-.297.369-.04.004-.367-.287-.145-.113-.146-.123.158 1.29-.595.073-.315-2.56.08-.01zm3.93-.483l1.602 2.383-.694.085-.2-.308-1.041.128-.11.346-.674.082.978-2.699.14-.017zm4.376-.467l.305 2.482-.616.075-.304-2.481.615-.076zm2.342-.287l-.05.58-1.091.134.07.576.953-.117.065.526-.943.116.099.804-.625.076-.304-2.471 1.826-.224zm-6.667 1.826c-.069.26-.124.468-.185.627l-.021.073.576-.07-.037-.056a7.48 7.48 0 0 1-.251-.403l-.08-.161z"}),eg.createElement("path",{fill:"#BDD630",d:"M197.335 39.029l.158 1.29a2.06 2.06 0 1 0 2.337 1.799l1.31-.161a3.38 3.38 0 1 1-3.804-2.918zm.279 1.779a1.57 1.57 0 1 1 .382 3.116 1.57 1.57 0 0 1-.382-3.116z"})),eg.createElement("g",{opacity:".5",fillRule:"nonzero"},eg.createElement("path",{fill:"#FC0D1A",d:"M192.375 29.697l-3.001-12.034-11.566 8.402z"}),eg.createElement("path",{fill:"#FFF",d:"M187.875 23.368l.846.089-.304 2.894-.846-.089.304-2.894zm-2.073 1.552l.507.053-.151-.951-.356.898zm-.015-1.772l.915.097.73 3.002-.935-.098-.099-.493-.815-.086-.2.462-.944-.1 1.348-2.784zm-4.77 2.425l.305-2.894 1.004.106.508 1.48.795-1.343.984.103-.304 2.894-.815-.086.171-1.63-.692 1.133-.527-.055-.432-1.252-.171 1.631-.826-.087zm8.022-2.083l2.198.231-.182.675-1.253-.132-.043.408 1.174.123-.173.686-1.074-.113-.116 1.104-.835-.088.304-2.894z"})),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"url(#p)",d:"M8.9 0h-.03c-1 0-2.18.6-2.94 2.58-.73 1.87-.9 1.93-1.07 1.93h-.03c-.17 0-.55-.44-.95-1.13C3.47 2.7 2.8 2.01 2 2.01c-1.39 0-.61 5.8-.61 4 0-1.8.31-2.04.57-2.04.26 0 .79.44 1.46 1.53.68 1.08 1.13 1.77 1.84 1.77.72 0 1.34-.93 1.87-2.5.53-1.57 1.18-2.1 1.56-2.1.38 0 1.41.52 1.41 2.54l.01.93C10.15 7.46 13.56.5 8.9 0",transform:"rotate(-15 186.969 -729.91)"}),eg.createElement("path",{fill:"#E72E73",d:"M197.737 24.944c-1.323.355-1.416 2.44-1.02 3.918a6.58 6.58 0 0 0 2.914 3.65c.43.257.53.127.612.043.086-.065.102-.276-.252-.554a5.95 5.95 0 0 1-1.8-3.048c-.208-.772-.274-1.252-.265-1.565a3.135 3.135 0 0 1 .243-1.297c.229-.537.847-.703 1.195-.755-.493-.333-1.076-.54-1.617-.395"}),eg.createElement("path",{fill:"url(#q)",d:"M5.73 11.37c.74 0 2.2-.24 2.87-1.2.68-.97.92-1.67 1.52-1.67s.91.43.91.94c0 .5-1.38 2.73-4.77 2.73a4.43 4.43 0 0 1-2.84-.83c-.4-.3-.51-.57-.4-.69.1-.11.32-.02.72.24.4.26 1.13.48 1.99.48",transform:"rotate(-15 186.969 -729.91)"}),eg.createElement("path",{fill:"#E72E73",d:"M203.863 21.222l-.136.036c.416-.07 2.495-.348 3.057 1.748.557 2.077-.577 2.484-.121 4.184.274 1.024.665 1.323 1.312 1.15.802-.215 1.063-1.828.597-3.566-.958-3.615-3.724-3.816-4.7-3.555"})),eg.createElement("path",{fill:"#CEE4FE",d:"M147.15 83.5c.31 1.17.9 1.17 1.15.87 1.5-1.87 3-3.76 4.2-5.82.86-1.1 1.6-2.29 2.4-3.43 1.1-1.57-.5-2.76-1.44-1.26-1.26 2-2.64 3.93-3.96 5.9l.05-.4c.5-2.65 1.8-5.14 3.22-7.4a30.99 30.99 0 0 1 5.7-6.8C161.5 62.5 162.5 61.5 166 60c1.5-.65.46-2.94-1.45-2.18-2.79 1.1-3.38 1.64-5.7 3.53a29.9 29.9 0 0 0-1.8 1.58c-.35.28-.7.57-1.03.88-4.35 3.85-8.68 9.9-7.47 16-.16-.59-.35-1.17-.52-1.75-.53-1.78-1.1-3.53-1.64-5.3-.3-.98-1.86-.96-1.56.73.06.31 1.59 7.2 2.32 10z"})),eg.createElement("g",null,eg.createElement("path",{fill:"#BBD9FD",fillRule:"nonzero",d:"M128.14.32l-.3 1.97A25.2 25.2 0 0 0 124 2V0c1.4 0 2.78.1 4.14.32zm7.92 2.52l-.9 1.79a24.83 24.83 0 0 0-3.56-1.45l.61-1.9c1.32.41 2.61.94 3.85 1.56zm6.77 4.8l-1.4 1.44a23.9 23.9 0 0 0-2.95-2.46l1.16-1.63c1.13.8 2.2 1.7 3.19 2.66zm4.97 6.6l-1.76.95c-.6-1.13-1.3-2.21-2.07-3.24l1.6-1.2c.83 1.1 1.58 2.27 2.23 3.5zm2.76 7.9l-1.97.35c-.23-1.27-.55-2.5-.98-3.72l1.9-.66c.45 1.31.8 2.65 1.05 4.02zm.24 8.2l-1.99-.25a25.26 25.26 0 0 0 .18-3.76l2-.05a27.5 27.5 0 0 1-.2 4.06zm-2.28 7.98l-1.82-.84c.54-1.16.99-2.37 1.34-3.6l1.93.54a26.81 26.81 0 0 1-1.45 3.9zm-4.6 6.91l-1.48-1.35a24.6 24.6 0 0 0 2.37-3.02l1.67 1.1a27.11 27.11 0 0 1-2.57 3.27zm-6.45 5.18l-1-1.74a25.06 25.06 0 0 0 3.17-2.17l1.26 1.56a27.06 27.06 0 0 1-3.43 2.35zm-7.8 3l-.41-1.96a24.8 24.8 0 0 0 3.68-1.1l.72 1.87c-1.3.5-2.63.9-3.99 1.18zm-8.2.47l.19-1.99a25.32 25.32 0 0 0 3.77.07l.11 2a27.41 27.41 0 0 1-4.07-.08zm-8.04-2.03l.78-1.84c1.18.5 2.4.91 3.65 1.23l-.5 1.94a26.8 26.8 0 0 1-3.93-1.33zm-7.05-4.4l1.3-1.5c.98.83 2.01 1.6 3.1 2.27l-1.06 1.7a27.09 27.09 0 0 1-3.34-2.46zM101 41.18l1.7-1.05a25.68 25.68 0 0 0 2.27 3.1l-1.52 1.3a27.08 27.08 0 0 1-2.45-3.36zm-3.23-7.7l1.95-.48a26.4 26.4 0 0 0 1.2 3.65l-1.84.77a26.8 26.8 0 0 1-1.3-3.95zm-.73-8.2l2 .13a25.4 25.4 0 0 0 .04 3.7l-2 .16a27.35 27.35 0 0 1-.04-3.98zm1.79-8.08l1.86.72a24.8 24.8 0 0 0-1.09 3.68l-1.96-.43c.3-1.36.7-2.69 1.21-3.97zm4.19-7.2l1.55 1.26c-.8 1-1.54 2.05-2.19 3.16l-1.72-1c.7-1.2 1.48-2.35 2.36-3.42zm6.13-5.56l1.1 1.67c-1.07.7-2.09 1.5-3.04 2.36L105.87 7a27.11 27.11 0 0 1 3.28-2.55zm7.58-3.45l.54 1.93c-1.24.34-2.44.78-3.61 1.31l-.83-1.82a26.81 26.81 0 0 1 3.9-1.41zM124 0v2c-.96 0-1.92.05-2.86.16L120.9.17C121.93.06 122.96 0 124 0z"}),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"#EA5D0B",d:"M116.892 21.004c.857.73 2.828-.056 4.414-1.735 1.577-1.68 2.16-3.644 1.293-4.375-.859-.72-2.782.01-4.359 1.691-1.577 1.69-2.215 3.687-1.348 4.419"}),eg.createElement("path",{fill:"#0854A1",d:"M114.55 20.716c-1.009.5-2.74-.74-3.864-2.751-1.123-2.012-1.214-4.059-.196-4.558 1.007-.491 2.697.683 3.82 2.695 1.122 2.022 1.258 4.114.24 4.614"}),eg.createElement("path",{fill:"#009CCE",d:"M121.04 13.15c.133-1.081-1.695-2.192-4.068-2.484-2.382-.292-4.415.345-4.547 1.427-.132 1.072 1.686 2.182 4.068 2.474s4.415-.345 4.547-1.416"})),eg.createElement("path",{fill:"#CD1E25",fillRule:"nonzero",d:"M129.08 30.8c-.46.04-.91.18-1.32.41a3.7 3.7 0 0 0-1.17.91c-.23.3-.42.63-.57.98l-1.03.07a.07.07 0 0 0-.06.05l-.12.27a.08.08 0 0 0 0 .08c.02.02.04.04.07.03l.99-.06-1.58 4.03a.08.08 0 0 0 0 .1l.05.03c.02.02.04.02.07.02l.73-.17c.03 0 .05-.02.05-.05l1.79-4.04 1.3-.1c.02 0 .05-.01.06-.04l.13-.27a.07.07 0 0 0 0-.08.08.08 0 0 0-.08-.03l-1.22.08.31-.8c.07-.2.17-.38.3-.53a.83.83 0 0 1 .28-.2 1.27 1.27 0 0 1 .81-.06c.13.03.27.04.4.04.06 0 .12-.03.18-.06a.4.4 0 0 0 .16-.18.43.43 0 0 0 .04-.1v-.08l-.03-.09a.26.26 0 0 0-.1-.1.62.62 0 0 0-.22-.05l-.25.01.03-.02zm6.69 1.2a4.8 4.8 0 0 0-2.43.88c-.3.2-.56.46-.77.76a1.3 1.3 0 0 0-.26.83c0 .12.04.24.1.35.13.18.32.32.53.38.33.1.68.13 1.02.1a5.6 5.6 0 0 0 2.77-1.03.09.09 0 0 0 .04-.08.08.08 0 0 0-.05-.06l-.18-.1a.08.08 0 0 0-.08 0c-.62.4-1.32.66-2.06.74-.23.02-.46 0-.69-.07a.46.46 0 0 1-.2-.12.24.24 0 0 1-.06-.16c-.01-.14 0-.28.04-.41.77-.1 1.53-.25 2.27-.47.34-.1.65-.25.94-.44.12-.08.22-.18.3-.29.06-.1.1-.23.09-.36a.3.3 0 0 0-.05-.15.5.5 0 0 0-.22-.17 1.5 1.5 0 0 0-.49-.11 4.08 4.08 0 0 0-.56 0V32zm4.66-.32a5 5 0 0 0-2.43.87c-.3.2-.55.47-.76.76a1.4 1.4 0 0 0-.27.84.8.8 0 0 0 .11.34c.13.19.32.33.53.39.33.1.68.13 1.02.09a5.6 5.6 0 0 0 2.77-1.03.1.1 0 0 0 .03-.07.08.08 0 0 0-.04-.07l-.18-.1a.08.08 0 0 0-.08.01c-.62.4-1.32.65-2.06.73-.23.02-.47 0-.7-.07a.47.47 0 0 1-.18-.12.25.25 0 0 1-.07-.15.99.99 0 0 1 .04-.42c.77-.09 1.53-.25 2.27-.47.33-.1.65-.25.94-.44.12-.08.21-.17.3-.29.06-.1.1-.23.09-.35l-.05-.16a.5.5 0 0 0-.22-.17 1.5 1.5 0 0 0-.49-.11 4.08 4.08 0 0 0-.57 0v-.01zm-10.06.78c-.18.02-.35.06-.51.14a4.9 4.9 0 0 0-1.36.9c0 .03.02.05.04.06l.17.1c.03.02.06.01.09 0a4.02 4.02 0 0 1 .71-.42.86.86 0 0 1 .25-.07.2.2 0 0 1 .13.03l.03.05v.06c-.03.1-.06.2-.1.28l-.84 1.84-.02.03v.07a.1.1 0 0 0 0 .05l.05.04.09.04.16.02.18.01.3-.02h.1l.06-.03a.1.1 0 0 0 .04-.05l.2-.42c.22-.43.49-.84.8-1.22.15-.2.34-.38.54-.52.17-.13.37-.21.58-.24h.46c.1 0 .19-.04.27-.09.1-.05.18-.14.23-.25a.57.57 0 0 0 .05-.25c0-.05-.01-.1-.04-.13a.37.37 0 0 0-.07-.08.42.42 0 0 0-.16-.05h-.2c-.24.02-.46.1-.66.23a5.23 5.23 0 0 0-1.27 1.07l.22-.5c.04-.07.06-.14.08-.2l.03-.1-.01-.08c0-.05-.03-.1-.06-.15a.34.34 0 0 0-.1-.07.56.56 0 0 0-.2-.05h-.25v-.03zm5.14-.07c.11-.02.23 0 .34.04a.2.2 0 0 1 .07.05.1.1 0 0 1 .03.07c0 .07-.01.14-.04.2a.9.9 0 0 1-.35.34c-.3.18-.62.3-.96.39a8.4 8.4 0 0 1-1 .19l.18-.26c.21-.25.46-.48.74-.66.29-.2.62-.33.97-.36h.02zm4.67-.33a.8.8 0 0 1 .34.04l.07.06c0 .02.01.04 0 .07.01.07 0 .14-.04.2a.85.85 0 0 1-.35.33c-.3.18-.61.31-.95.39-.33.09-.66.15-1 .2l.18-.26c.21-.26.46-.48.74-.67.3-.2.63-.32.97-.36h.04z",opacity:".5"}),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"#FF7900",d:"M108.23 40.581l12.349-2.4-2.4-12.347-12.35 2.4z"}),eg.createElement("g",{fill:"#FFF"},eg.createElement("path",{d:"M112.142 38.203a.2.2 0 0 0 .24.188c.157-.03.3-.13.388-.259l-.082-.422c-.41.14-.586.287-.548.483zm.699.241a1 1 0 0 1-.537.278.48.48 0 0 1-.606-.392c-.076-.392.239-.657.948-.887l-.019-.098c-.023-.118-.136-.177-.303-.145a.52.52 0 0 0-.384.278l-.327-.11a.86.86 0 0 1 .661-.474c.452-.088.736.06.797.375l.24 1.237-.393.076-.08-.148zm.509-1.678l.354-.12.077.19a.97.97 0 0 1 .543-.35.5.5 0 0 1 .649.454l.233 1.197-.462.09-.217-1.119c-.04-.206-.107-.285-.274-.252a.68.68 0 0 0-.385.268l.238 1.227-.442.086-.324-1.669zm4.983-.357a.34.34 0 0 0-.416-.306c-.196.038-.307.202-.28.441l.696-.135zm-.116 1.184c-.52.1-.88-.176-.988-.735-.111-.57.128-.962.629-1.06.49-.095.846.162.957.731l.015.079-1.138.221c.064.334.242.462.507.41a.473.473 0 0 0 .351-.292l.36.124a.84.84 0 0 1-.683.52zm-8.943.271c-.333.065-.335.37-.293.587.042.216.16.509.494.444.343-.067.341-.393.301-.599-.04-.206-.158-.499-.492-.434m.277 1.424a.84.84 0 0 1-1.03-.738.84.84 0 0 1 .669-1.067.84.84 0 0 1 1.03.737.84.84 0 0 1-.679 1.07m.825-1.995l.422-.082.038.197a.68.68 0 0 1 .502-.352l.082.422-.03.005c-.196.038-.406.11-.434.278l.221 1.14-.48.093-.331-1.699zm6.42-1.247l.314 1.62c.056.284.118.76-.695.929-.334.065-.673-.002-.799-.283l.437-.166c.027.086.103.163.358.114s.32-.185.267-.46l-.038-.196a.46.46 0 0 1-.392.341c-.402.078-.77-.136-.883-.715-.114-.589.149-.966.512-1.036.363-.071.502.065.537.14l.01-.206.37-.092zm-.552 1.513c.344-.067.305-.426.259-.662-.044-.226-.221-.456-.467-.408-.167.032-.32.184-.242.587.038.196.116.547.45.483z"}),eg.createElement("path",{d:"M119.635 35.82l-.098.019-.155-.795-.02.839-.06.011-.352-.766.157.805-.099.019-.187-.962.157-.03.31.703.024-.769.147-.028.186.952zm-.899-.692l-.176.035.162.834-.098.02-.163-.835-.176.034-.027-.137.452-.088.026.137z"}))),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"url(#r)",fillRule:"nonzero",d:"M0 10.482h10.483V0H0z",transform:"rotate(6 -67.635 1232.46)"}),eg.createElement("path",{fill:"#FFF",d:"M132.89 21.095l.34-3.223 1.968.207-.053.508-1.432-.151-.093.885 1.233.13-.052.497-1.233-.13-.14 1.333-.537-.056zm4.207.442l-.58-1.368-.537-.057-.136 1.293-.537-.056.339-3.223 1.193.126c.478.05 1.11.247 1.026 1.053-.058.547-.372.765-.832.837l.7 1.462-.636-.067zm-.478-1.86c.488.05.658-.132.689-.43.022-.21-.051-.469-.569-.523l-.606-.064-.102.965.597.063zm-5.273-.726c-.367-.139-.395-.353-.382-.482.027-.249.243-.397.591-.36a.726.726 0 0 1 .566.36l.462-.192a1.182 1.182 0 0 0-.976-.656c-.597-.062-1.134.263-1.192.81s.384.845.867 1.037l.221.093c.416.155.436.348.419.517-.032.298-.371.464-.65.434-.298-.031-.506-.153-.66-.502l-.444.205c.219.496.527.72 1.054.775.587.061 1.19-.318 1.249-.875.069-.656-.439-.9-.894-1.069l-.22-.093z"})),eg.createElement("path",{fill:"#CEE4FE",d:"M126.56 67.86c-.84 1.33-1.72 2.64-2.55 3.97-.28.43-.56.87-.83 1.32 1.4-2.76 1.32-10.71.79-13.6-.39-2.1-2-1.91-2.04.67-.03 2.12.7 10.24.52 12.42l-.04.32c-.67-1.76-1.39-3.49-2-5.26-.44-1.33-2.03-.62-1.48.79.41 1.02.78 2.07 1.23 3.07a34.98 34.98 0 0 0 2.22 5.24c.14.28.63.36 1.14-.53 1.25-2.12 4.06-7.36 4.18-7.6.63-1.3-.68-1.54-1.14-.8"})),eg.createElement("g",{fill:"#297EF1"},eg.createElement("path",{fillRule:"nonzero",d:"M60.14 8.32l-.3 1.97A25.2 25.2 0 0 0 56 10V8c1.4 0 2.78.1 4.14.32zm7.92 2.52l-.9 1.79a24.83 24.83 0 0 0-3.56-1.45l.61-1.9c1.32.41 2.61.94 3.85 1.56zm6.77 4.8l-1.4 1.44a23.9 23.9 0 0 0-2.95-2.46l1.16-1.63c1.13.8 2.2 1.7 3.19 2.66zm4.97 6.6l-1.76.95c-.6-1.13-1.3-2.21-2.07-3.24l1.6-1.2c.83 1.1 1.58 2.27 2.23 3.5zm2.76 7.9l-1.97.35c-.23-1.27-.55-2.5-.98-3.72l1.9-.66c.45 1.31.8 2.65 1.05 4.02zm.24 8.2l-1.99-.25a25.26 25.26 0 0 0 .18-3.76l2-.05a27.5 27.5 0 0 1-.2 4.06zm-2.28 7.98l-1.82-.84c.54-1.16.99-2.37 1.34-3.6l1.93.54a26.81 26.81 0 0 1-1.45 3.9zm-4.6 6.91l-1.48-1.35a24.6 24.6 0 0 0 2.37-3.02l1.67 1.1a27.11 27.11 0 0 1-2.57 3.27zm-6.45 5.18l-1-1.74a25.06 25.06 0 0 0 3.17-2.17l1.26 1.56a27.06 27.06 0 0 1-3.43 2.35zm-7.8 3l-.41-1.96a24.8 24.8 0 0 0 3.68-1.1l.72 1.87c-1.3.5-2.63.9-3.99 1.18zm-8.2.47l.19-1.99a25.32 25.32 0 0 0 3.77.07l.11 2a27.41 27.41 0 0 1-4.07-.08zm-8.04-2.03l.78-1.84c1.18.5 2.4.91 3.65 1.23l-.5 1.94a26.8 26.8 0 0 1-3.93-1.33zm-7.05-4.4l1.3-1.5c.98.83 2.01 1.6 3.1 2.27l-1.06 1.7a27.09 27.09 0 0 1-3.34-2.46zM33 49.18l1.7-1.05a25.68 25.68 0 0 0 2.27 3.1l-1.52 1.3A27.08 27.08 0 0 1 33 49.17zm-3.23-7.7l1.95-.48a26.4 26.4 0 0 0 1.2 3.65l-1.84.77a26.8 26.8 0 0 1-1.3-3.95zm-.73-8.2l2 .13a25.4 25.4 0 0 0 .04 3.7l-2 .16a27.35 27.35 0 0 1-.04-3.98zm1.79-8.08l1.86.72a24.8 24.8 0 0 0-1.09 3.68l-1.96-.43c.3-1.36.7-2.69 1.21-3.97zm4.19-7.2l1.55 1.26c-.8 1-1.54 2.05-2.19 3.16l-1.72-1c.7-1.2 1.48-2.35 2.36-3.42zm6.13-5.56l1.1 1.67c-1.07.7-2.09 1.5-3.04 2.36L37.87 15a27.11 27.11 0 0 1 3.28-2.55zm7.58-3.45l.54 1.93c-1.24.34-2.44.78-3.61 1.31l-.83-1.82A26.81 26.81 0 0 1 48.73 9zM56 8v2c-.96 0-1.92.05-2.86.16l-.24-1.99C53.93 8.06 54.96 8 56 8z"}),eg.createElement("path",{d:"M97.93 80.23c-.17.58-.36 1.16-.52 1.75 1.21-6.1-3.12-12.15-7.47-16-.34-.3-.68-.6-1.04-.88a29.76 29.76 0 0 0-1.79-1.58A132.96 132.96 0 0 0 82 59.5c-3.08-2.31-4.8.69-3.34 1.46 3.84 2.04 5.51 3.33 8.83 6.37 2.19 2 4.12 4.29 5.7 6.8 1.42 2.26 2.73 4.75 3.22 7.4l.05.4c-1.32-1.97-2.7-3.9-3.96-5.9-.94-1.5-2.53-.3-1.44 1.26.8 1.14 1.55 2.32 2.4 3.43a48.97 48.97 0 0 0 4.2 5.82c.26.3.84.3 1.15-.88.74-2.8 2.26-9.69 2.32-10 .3-1.7-1.27-1.7-1.56-.73-.53 1.77-1.11 3.53-1.64 5.3z"})),eg.createElement("g",null,eg.createElement("path",{fill:"#BBD9FD",fillRule:"nonzero",d:"M31.14 65.32l-.3 1.97A25.2 25.2 0 0 0 27 67v-2c1.4 0 2.78.1 4.14.32zm7.92 2.52l-.9 1.79a24.83 24.83 0 0 0-3.56-1.45l.61-1.9c1.32.41 2.61.94 3.85 1.56zm6.77 4.8l-1.4 1.44a23.9 23.9 0 0 0-2.95-2.46l1.16-1.63c1.13.8 2.2 1.7 3.19 2.66zm4.97 6.6l-1.76.95c-.6-1.13-1.3-2.21-2.07-3.24l1.6-1.2c.83 1.1 1.58 2.27 2.23 3.5zm2.76 7.9l-1.97.35c-.23-1.27-.55-2.5-.98-3.72l1.9-.66c.45 1.31.8 2.65 1.05 4.02zm.24 8.2l-1.99-.25a25.26 25.26 0 0 0 .18-3.76l2-.05a27.5 27.5 0 0 1-.2 4.06zm-2.28 7.98l-1.82-.84c.54-1.16.99-2.37 1.34-3.6l1.93.54a26.81 26.81 0 0 1-1.45 3.9zm-4.6 6.91l-1.48-1.35a24.6 24.6 0 0 0 2.37-3.02l1.67 1.1a27.11 27.11 0 0 1-2.57 3.27zm-6.45 5.18l-1-1.74a25.06 25.06 0 0 0 3.17-2.17l1.26 1.56a27.06 27.06 0 0 1-3.43 2.35zm-7.8 3l-.41-1.96a24.8 24.8 0 0 0 3.68-1.1l.72 1.87c-1.3.5-2.63.9-3.99 1.18zm-8.2.47l.19-1.99a25.32 25.32 0 0 0 3.77.07l.11 2a27.41 27.41 0 0 1-4.07-.08zm-8.04-2.03l.78-1.84c1.18.5 2.4.91 3.65 1.23l-.5 1.94a26.8 26.8 0 0 1-3.93-1.33zm-7.05-4.4l1.3-1.5c.98.83 2.01 1.6 3.1 2.27l-1.06 1.7a27.09 27.09 0 0 1-3.34-2.46zM4 106.18l1.7-1.05a25.68 25.68 0 0 0 2.27 3.1l-1.52 1.3A27.08 27.08 0 0 1 4 106.17zm-3.23-7.7L2.72 98a26.4 26.4 0 0 0 1.2 3.65l-1.84.77a26.8 26.8 0 0 1-1.3-3.95zm-.73-8.2l2 .13a25.4 25.4 0 0 0 .04 3.7l-2 .16a27.35 27.35 0 0 1-.04-3.98zm1.79-8.08l1.86.72A24.8 24.8 0 0 0 2.6 86.6l-1.96-.43c.3-1.36.7-2.69 1.21-3.97zM6.02 75l1.55 1.26c-.8 1-1.54 2.05-2.19 3.16l-1.72-1c.7-1.2 1.48-2.35 2.36-3.42zm6.13-5.56l1.1 1.67c-1.07.7-2.09 1.5-3.04 2.36L8.87 72a27.11 27.11 0 0 1 3.28-2.55zm7.58-3.45l.54 1.93c-1.24.34-2.44.78-3.61 1.31l-.83-1.82a26.81 26.81 0 0 1 3.9-1.41zM27 65v2c-.96 0-1.92.05-2.86.16l-.24-1.99c1.03-.11 2.06-.17 3.1-.17z"}),eg.createElement("path",{fill:"#CEE4FE",d:"M82.57 99.1c.15.5.28.99.44 1.47-1.97-4.8-7.78-7.02-12.59-7.7-.37-.05-.75-.1-1.13-.13a24.56 24.56 0 0 0-9.43.13c-1.69.36-.8 2.34.64 2.13 3.5-.5 5.12-.64 8.84-.05a27.9 27.9 0 0 1 7.1 2.1c2.05.92 4.1 2.05 5.67 3.67l.22.25c-1.83-.76-3.68-1.46-5.48-2.27-1.35-.61-1.9.95-.43 1.54 1.09.43 2.15.9 3.26 1.28 1.8.88 3.7 1.5 5.62 2.1.31.1.72-.17.39-1.13-.79-2.3-2.9-7.8-3-8.04-.57-1.32-1.67-.6-1.43.22.45 1.47.85 2.96 1.3 4.44z"}),eg.createElement("g",{opacity:".5",fillRule:"nonzero"},eg.createElement("path",{fill:"#006A4E",d:"M12.861 88.313l12.432-3.331.271 1.014-12.431 3.33z"}),eg.createElement("path",{fill:"#ED1B2F",d:"M24.525 78.406s-1.7 1.543-2.105 1.807c-.383.268-.611.112-.661.042-.098-.056-.535-.643-.535-.643s.153-.01.362-.118c.288-.16 2.625-2.256 2.625-2.256l.311 1.159z"}),eg.createElement("path",{fill:"#006A4E",d:"M19.304 80.752l1.35 1.677 1.306-1.116-1.988-2.2-1.854.497-1.428 5.103s1.287-.376 1.943-1.173c.167-.148.38-1.706.67-2.788z"}),eg.createElement("path",{fill:"#009597",d:"M21.96 81.313l-1.306 1.116c-1.1.916-2.183 1.745-2.784 2.092-1.602.895-3.604 1.732-4.53 1.328-.855-.371.148-3.156 3.077-4.51.477-.231.762-.287.762-.287s-.44-.752-.631-.887c-.282-.204-.527-.19-.86-.08-.66.28-3.314 1.695-3.846 4.115-.292 1.383.926 2.413 1.543 2.59.2.09 2.218.937 5.57-1.348 3.315-2.276 6.075-5.148 6.075-5.148l-.362-1.352-2.706 2.381z"}),eg.createElement("path",{fill:"#006A4E",d:"M21.49 83.5c.212.253.836.997.985 1.206.21.243.52.16.512.132l1.72-.461-1.9-2.028c-.38.402-.824.79-1.315 1.16z"})),eg.createElement("g",{opacity:".5"},eg.createElement("path",{fill:"url(#s)",fillRule:"nonzero",d:"M3.7 0L.1 3.58a.36.36 0 0 0-.1.25v8.4c0 .2.16.35.35.35h8.39c.1 0 .2-.04.26-.1l3.58-3.59V.24c0-.13-.1-.24-.24-.24H3.7z",transform:"rotate(-15 367.835 8.16)"}),eg.createElement("path",{fill:"#FFF",d:"M23.391 101.768l-1.352.363a.09.09 0 0 1-.085-.009l-1.773-1.399-.828 2.086a.1.1 0 0 1-.067.06l-1.372.367a.1.1 0 0 1-.109-.137l1.261-3.174a.1.1 0 0 0-.03-.116l-2.727-2.137a.06.06 0 0 1 .023-.11l1.449-.388a.1.1 0 0 1 .09.027l1.706 1.345.803-2.027a.09.09 0 0 1 .057-.057l1.468-.393a.065.065 0 0 1 .074.042l-.002.032-1.258 3.225a.09.09 0 0 0 .026.097l2.709 2.152c.051.038.036.135-.041.156"}),eg.createElement("path",{fill:"#FFF",d:"M11.923 101.083l2-.536-.562-2.096a.1.1 0 0 1 .07-.122l1.092-.293a.1.1 0 0 1 .122.071l.554 2.067 1.932-.517a.1.1 0 0 1 .123.07l.31 1.16a.1.1 0 0 1-.07.122l-1.932.517.556 2.077a.1.1 0 0 1-.07.123l-1.092.292a.1.1 0 0 1-.123-.07l-.548-2.048-2 .535-.362-1.352z"})),eg.createElement("g",{opacity:".5",transform:"rotate(-10 574.66 -114.031)"},eg.createElement("g",{transform:"translate(6.42 1.223)"},eg.createElement("mask",{id:"u",fill:"#fff"},eg.createElement("use",{xlinkHref:"#t"})),eg.createElement("path",{fill:"#E2077B",d:"M3.36.3v.1c0 .45-.18.85-.48 1.14l-.72.73L.11 4.33v2.55c0 .92.73 1.68 1.62 1.68.9 0 1.63-.76 1.63-1.68V.3",mask:"url(#u)"})),eg.createElement("path",{fill:"#22BBEA",d:"M4.23 3.26L.45 7.05C-.14 7.7-.13 8.7.48 9.3l6.05-6.05h-2.3z"}),eg.createElement("path",{fill:"#139BD8",d:"M.48 9.31c.6.6 1.6.61 2.26.03l.07-.07 3.72-3.72V3.26L.48 9.3z"}),eg.createElement("path",{fill:"#046FB7",d:"M8.58 3.5l.72-.74c-.3.3-.73.5-1.2.5H6.53v2.29l2.05-2.06"}),eg.createElement("mask",{id:"w",fill:"#fff"},eg.createElement("use",{xlinkHref:"#v"})),eg.createElement("path",{fill:"#E2077B",d:"M7.97.01h.15V0H1.69C.76 0 0 .73 0 1.63c0 .9.76 1.63 1.68 1.63h2.55l2.7-2.7c.26-.3.63-.5 1.04-.55",mask:"url(#w)"}),eg.createElement("path",{fill:"#046FB7",d:"M6.53 1.64v-.02a1.33 1.33 0 0 1 0-.05v-.09l.01-.04.03-.15c.06-.28.19-.53.36-.73l-2.7 2.7h2.3V1.64"}),eg.createElement("path",{fill:"#1F3D79",d:"M9.78 1.53l-.04-.23A1.62 1.62 0 0 0 8.13 0h-.1l-.05.01h-.01a1.61 1.61 0 0 0-1.4 1.28c0 .05-.02.1-.03.14a2.09 2.09 0 0 0 0 .1v.01l-.01.03v1.69H8.1a1.66 1.66 0 0 0 1.68-1.73"})),eg.createElement("g",{opacity:".5",fillRule:"nonzero"},eg.createElement("path",{fill:"url(#x)",d:"M0 0h13.98v13.98H0z",transform:"rotate(6 -728.93 324.418)"}),eg.createElement("path",{fill:"url(#y)",d:"M13.54 7.08c0 2.9.15 5.9.15 5.9 0 .36-.24.56-.5.56H1.08c-.26 0-.47-.23-.5-.55 0 0-.35-2.57-.35-6.44C.26 2.62.61.8.61.8c.03-.32.23-.56.5-.56h12.08c.26 0 .5.26.5.56 0 0-.15 3.37-.15 6.29z",transform:"rotate(6 -728.93 324.418)"}),eg.createElement("path",{fill:"url(#z)",d:"M9.7 2.33c-.88.5-1.14.55-2.07 1.1l.06-.11c.5-.52.7-.76 1.02-1.22-.88.05-2.13.14-3.03.35l.06-.1c.81-.4 2.33-.78 3.08-.9A9.75 9.75 0 0 0 6.72.2l.06-.08c1.17.14 2.71.67 3.38 1.07.3-.08.59-.08 1.1-.14 0 0-.08.32-.63.7.14.38-.2 2.47-.5 3.05-.03-.9-.11-2-.43-2.47z",transform:"rotate(6 -743.404 334.805)"}),eg.createElement("path",{fill:"url(#A)",d:"M3.38 9.87l.06-.09c-.47-.17-.94-.32-1.29-.67.12-.32.27-.58.47-.9l.06-.09c-.4.06-.76.2-1.1.27a5.53 5.53 0 0 1-.5-1.75l-.06.09a5 5 0 0 0 0 1.77c-.3.09-.52.09-.76.18l-.03.08c.38.24.67.41 1.08.59.23.46.44.78.82 1.16l.05-.09c-.05-.26-.14-.5-.11-.78.38.14.78.23 1.3.23z",transform:"rotate(6 -743.404 334.805)"}),eg.createElement("path",{fill:"url(#B)",d:"M4.66 2.85s-.18.32-.32.76H4.3c1.08.15 2.1.58 2.36.73l-.06.09a7.72 7.72 0 0 0-2.13-.15c-.4.03-.5.09-.5.09-.22.52-.37 1.37-.43 1.69l-.06.14C3.3 5.7 3 4.72 3 4.72a15.1 15.1 0 0 0-1.85 1.51 7.78 7.78 0 0 1 1.42-2.07c-.26-.26-.9-.37-1.37-.4l.06-.1c.3-.08.9-.1 1.34-.14.5-.03.79 0 .79 0a3.62 3.62 0 0 1 1.28-.67z",transform:"rotate(6 -743.404 334.805)"}),eg.createElement("path",{fill:"url(#C)",d:"M6.03 9c-.24.32-.41.55-.67.81-.38.12-.82.06-1.14.06l-.06.09c.27.14.5.2.79.26-.2.2-.5.35-.7.5l-.06.08a5.22 5.22 0 0 0 1.43-.55c.23 0 .44 0 .58-.03l.06-.09c-.03-.08-.12-.14-.14-.29.4-.32.7-.58 1.01-.93l.06-.09c-.32.24-.73.56-1.13.73-.03-.17-.03-.35-.03-.55z",transform:"rotate(6 -743.404 334.805)"}),eg.createElement("path",{fill:"#FFF",d:"M40.37 82.756c-.928.405-1.192.438-2.174.877.607-.509.814-.759 1.213-1.21-.881-.032-2.134-.073-3.05.032.818-.316 2.409-.622 3.228-.666-.173-.27-1.596-1.274-1.96-1.453 1.216.208 2.638.83 3.289 1.341.307-.058.596-.028 1.11-.034-.164.214-.177.333-.73.627.11.394-.458 2.446-.817 2.991.121-.872.187-1.971-.11-2.505zm-7.087 6.867a3.7 3.7 0 0 1-1.174-.878c.152-.306.33-.558.561-.846-.403.008-.708.036-1.062.06a5.3 5.3 0 0 1-.377-1.679 5 5 0 0 0-.185 1.76 7.065 7.065 0 0 0-.846.213c.353.268.624.468 1.013.69.18.481.356.821.694 1.239a2.24 2.24 0 0 1-.008-.876c.488.142.86.232 1.374.316zm2.026-6.836c-.16.184-.369.544-.446.707 1.254.313 2.201 1.056 2.201 1.056a7.72 7.72 0 0 0-2.102-.372c-.401-.012-.507.038-.507.038-.349.637-.676 1.739-.676 1.739-.147-.509-.342-1.525-.342-1.525-.569.242-2.008 1.308-2.008 1.308.845-1.34 1.638-1.9 1.638-1.9-.232-.285-.856-.472-1.32-.55a5.1 5.1 0 0 1 1.387-.086l.785.083c.461-.274 1.158-.492 1.4-.497zm.704 6.218c-.272.293-.465.504-.752.745a4.7 4.7 0 0 1-1.211.044c.252.177.476.251.758.34a5.48 5.48 0 0 1-.816.498 5.22 5.22 0 0 0 1.48-.397c.228.024.437.046.58.03a4.7 4.7 0 0 1-.048-.407 8.48 8.48 0 0 0 1.112-.828c-.376.232-.712.368-1.13.525.017-.17.033-.318.027-.55z"})))))};hJ.defaultProps={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"249",height:"162",viewBox:"0 0 250 162"};var h$=function(e){var t=e.app,n=e.alt;return eg.createElement("div",{className:"u-pos-relative u-mb-half"},eg.createElement(hJ,null),eg.createElement("div",{className:"u-w-2 u-h-2 u-pos-absolute",style:{top:"18px",left:"39px"}},eg.createElement(eV.default,{alt:n,app:t})))};h$.propTypes={app:ey().string.isRequired,alt:ey().string};var hX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tb()(e,"reason")};function h0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h0(Object(n),!0).forEach(function(t){er()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h2=function(e){var t,n=e.konnectorAppSuggestion,r=e.konnectorManifest,a=e.onClose,i=e.onSilence,o=n.slug,c=(0,ew.useClient)(),s=(0,eb.useI18n)().t,u=new URL(c.getStackClient().uri),l="store",d="/discover/".concat(o),f=c.getInstanceOptions().cozySubdomainType,p=(0,eg.useState)(!1),h=ty()(p,2),m=h[0],v=h[1],y=(0,ss.u4)(r)||[],g=(0,ss.J0)(r)||o,b=hX(n).code,w=(t=tr()(ti().mark(function e(){return ti().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,c.save(h1(h1({},n),{},{silenced:!0}));case 4:return e.prev=4,v(!1),i(),e.finish(4);case 8:case"end":return e.stop()}},e,null,[[0,,4,8]])})),function(){return t.apply(this,arguments)});return eg.createElement(ft.default,{variant:"normal",className:"u-pos-absolute"},eg.createElement(eI.A,{open:!0,onClose:a,title:eg.createElement(h$,{alt:s("app.logo.alt",{name:g}),app:o}),content:eg.createElement("div",{className:"u-flex u-flex-column u-flex-items-center"},eg.createElement(eC.default,{className:"u-mb-half",variant:"h4"},s("suggestions.title",{name:g})),eg.createElement(hY,{dataTypes:y,konnectorName:g}),"FOUND_TRANSACTION"===b&&eg.createElement(eC.default,{className:"u-mb-1 u-ta-center u-mt-auto",variant:"caption",color:"textSecondary"},s("suggestions.why",{name:g}),eg.createElement("br",null),s("suggestions.reason_bank",{name:g}))),actions:eg.createElement(eg.Fragment,null,eg.createElement(pS.default,{app:{slug:l},nativePath:d,href:(0,ew.generateWebLink)({cozyUrl:u.origin,slug:l,nativePath:d,subDomainType:f})},function(e){var t=e.onClick,n=e.href;return eg.createElement(eM.default,{href:n,onClick:t,label:s("suggestions.install"),variant:"primary"})}),eg.createElement(eM.default,{variant:"secondary",label:s("suggestions.silence"),onClick:w,busy:m}))}))};h2.propTypes={konnectorAppSuggestion:ey().shape({slug:ey().string,silenced:ey().bool,reason:ey().shape({code:ey().string})}).isRequired,konnectorManifest:ey().shape({dataTypes:ey().array,name:ey().string}),onClose:ey().func.isRequired,onSilence:ey().func.isRequired},(0,eG.A)(function(e){var t=e.vaultUnlockFormProps,n=eU()(e,dR);return eg.createElement(sQ,null,eg.createElement(dM,n),eg.createElement(sc,{unlockFormProps:t}))}),(0,eG.A)(sj),(0,eG.A)(pE);var h3=(0,eG.A)(hf);(0,eG.A)(h2)},2109:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(47285),a=n.n(r);let i=("undefined"!=typeof window&&window.minilog||a())("harvest")},61853:function(e,t,n){"use strict";var r=n(95709),a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=n(58156),h=n(71086),m=n(49517),v="io.cozy.accounts",y=["login","identifier","new_identifier","email"],g=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,null,[{key:"getAccountName",value:function(e){return e?e.auth&&(e.auth.accountName||this.getAccountLogin(e))||e._id:null}},{key:"getAccountLogin",value:function(e){if(e&&e.auth){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(y);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.auth[r])return e.auth[r]}}catch(e){n.e(e)}finally{n.f()}}}},{key:"fromCipher",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d({identifierProperty:"login"},n),i=(p(e,"fields")||[]).reduce(function(e,t){return e[t.name]=t.value,e},{}),o={auth:h(d((t={},(0,a.default)(t,r.identifierProperty,p(e,"login.username","")),(0,a.default)(t,"password",p(e,"login.password","")),t),i),function(e){return!!e})};return e&&(o.relationships={vaultCipher:{_id:e.id,_type:"com.bitwarden.ciphers",_protocol:"bitwarden"}}),o}}]),r}(m);g.schema={doctype:v,attributes:{},relationships:{master:{type:"has-one",doctype:v}}},g.probableLoginFieldNames=y,e.exports=g},80996:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(49517),l="io.cozy.apps",d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"getStoreInstallationURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var n=this.isInstalled(e,{slug:"store"});if(!n)return null;var r=n.links&&n.links.related;return r?"".concat(r,"#/discover/").concat(t.slug,"/install"):null}},{key:"isInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.attributes&&e.attributes.slug===t.slug})}},{key:"getUrl",value:function(e){return e.links&&e.links.related}}]),r}(u);d.schema={doctype:l,attributes:{}},d.doctype=l,e.exports=d},49517:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(39892)),c=a(n(92207)),s=a(n(26396)),u=a(n(79092)),l=a(n(56994)),d=a(n(65611)),f=a(n(18337)),p=a(n(82274)),h=a(n(65044)),m=["concurrency","logProgress"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=n(22894),w=n(47307),k=n(44377),x=n(58156),O=n(94394),_=n(62216),E=n(90179),C=n(42194),S=n(44383),P=n(71086),A=n(47091),D=n(33031),T=n(6023).default,R=n(11071).Q,j=n(40918).namespace("Document"),M=n(33103).parallelMap,I={},N=["shortLabel"];function z(e){return e.startsWith("\\")?e.slice(1):e}var F=function(e){return C(e,_)},L=function(e){return Object.assign({},e,{_deleted:!0})},B=function(e){var t=e.cozyMetadata&&e.cozyMetadata.updatedAt;return t?new Date(t):null},U=function(e){var t=B(e);return t?-t:0},V=function(){var e,t,n,r,a,s,v,_,C,B,V,H,q,W,G,Z,K,Q,Y,J;function $(){(0,p.default)(this,$)}return(0,h.default)($,null,[{key:"registerClient",value:function(e){if(this.cozyClient)throw console.warn("Document already has been registered, this is not possible to re-register as the client is shared globally between all classes. This is to prevent concurrency bugs."),Error("Document cannot be re-registered to a client.");this.cozyClient=e}},{key:"copyWithClient",value:function(e){var t=function(e){(0,l.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(r);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function r(){return(0,p.default)(this,r),n.apply(this,arguments)}return(0,h.default)(r)}(this);return t.cozyClient=null,t.registerClient(e),t}},{key:"usesCozyClient",value:function(){return this.cozyClient instanceof T}},{key:"getIndex",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.getIndexViaOldClient(e,t)}},{key:"getIndexViaOldClient",value:function(e,t){var n="".concat(e,":").concat(t.slice().join(","));return I[n]||(I[n]=this.cozyClient.data.defineIndex(e,t).then(function(e){return I[n]=e,e})),Promise.resolve(I[n])}},{key:"addCozyMetadata",value:function(e){return e.cozyMetadata||(e.cozyMetadata={}),e.cozyMetadata.updatedAt=new Date,!e.cozyMetadata.createdByApp&&this.createdByApp&&(e.cozyMetadata.createdByApp=this.createdByApp),this.createdByApp&&function(e,t){e.updatedByApps||(e.updatedByApps=[]);var n,r=new Date,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e.updatedByApps);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.slug===t){i.date=r;return}}}catch(e){a.e(e)}finally{a.f()}e.updatedByApps.push({slug:t,date:r})}(e.cozyMetadata,this.createdByApp),e}},{key:"get",value:(e=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.usesCozyClient()){e.next=2;break}throw Error("This method is not implemented with cozy-client-js");case 2:if(this.doctype){e.next=4;break}throw Error("doctype is not defined");case 4:return e.next=6,this.cozyClient.query(R(this.doctype).getById(t));case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"createOrUpdate",value:(t=(0,u.default)(c.default.mark(function e(t){var n,r=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},!this.usesCozyClient()){e.next=3;break}return e.abrupt("return",this.createOrUpdateViaNewClient(t,n));case 3:return e.abrupt("return",this.createOrUpdateViaOldClient(t,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"applyUpdateIfDifferent",value:function(e,t,n){return!this.checkAttributes||function(e,t){if(0===Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1}(S(e,this.checkAttributes),S(t,this.checkAttributes))||null!=n&&n.forceUpdate?(delete t.dateImport,this.addCozyMetadata(y(y({},e),t))):(j("debug","[updateIfDifferent] No need to update ".concat(t._id," because its `checkAttributes` (").concat(this.checkAttributes,") didn't change.")),e)}},{key:"getHandleDuplicateStrategy",value:function(e){if($.duplicateHandlingStrategies[e])return $.duplicateHandlingStrategies[e];throw Error("".concat(e," is not a know duplication handling strategy. Known strategies are ").concat(Object.keys($.duplicateHandlingStrategies)))}},{key:"handleDuplicates",value:(n=(0,u.default)(c.default.mark(function e(t,n,r){var a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof(a=t||this.defaultDuplicateHandling)?this.getHandleDuplicateStrategy(a):a,e.next=4,i.call(this,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"createOrUpdateViaNewClient",value:(r=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=7;break}return e.next=6,this.queryAll(r);case 6:a=e.sent;case 7:if(0!==a.length){e.next=11;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 11:if(!((a=D(a,U)).length>1)){e.next=15;break}return e.next=15,this.handleDuplicates(n.handleDuplicates,a,r);case 15:if(i=a[0],o=E(t,N),s=this.applyUpdateIfDifferent(i,o,n),!(n.forceUpdate||s!==i)){e.next=22;break}return e.abrupt("return",this.save(s));case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"createOrUpdateViaOldClient",value:(a=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=10;break}return e.next=6,this.getIndex(this.doctype,this.idAttributes);case 6:return i=e.sent,e.next=9,this.cozyClient.data.query(i,{selector:r});case 9:a=e.sent;case 10:if(0!==a.length){e.next=14;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 14:if(!((a=D(a,U)).length>1)){e.next=18;break}return e.next=18,this.handleDuplicates(n.handleDuplicates,a,r);case 18:if(o=a[0],s=E(t,N),u=this.applyUpdateIfDifferent(o,s,n),!(n.forceUpdate||u!==o)){e.next=25;break}return e.abrupt("return",this.save(u));case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"create",value:(s=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.createViaNewClient(t));case 2:return e.abrupt("return",this.createViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"createViaNewClient",value:(v=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.create(this.doctype,t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createViaOldClient",value:(_=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.create(this.doctype,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"save",value:(C=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.saveViaNewClient(t));case 2:return e.abrupt("return",this.saveViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"saveViaNewClient",value:(B=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.save(t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"saveViaOldClient",value:(V=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.updateAttributes(this.doctype,t._id,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"bulkSave",value:function(e,t,n){(n||"object"!=typeof t)&&j("warn","Second argument of bulkSave is now an object, please use bulkSave(documents, { logProgress, concurrency })");var r={};return"number"==typeof t&&(r.concurrency=t),"function"==typeof n&&(r.logProgress=n),"object"==typeof t&&Object.assign(r,t),this._bulkSave(e,r)}},{key:"_bulkSave",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.concurrency,i=r.logProgress,s=(0,o.default)(r,m);return M(e,(t=(0,u.default)(c.default.mark(function e(t){var a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i&&i(t),e.prev=1,e.next=4,n.createOrUpdate(t,s);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!r.onCreateOrUpdateError){e.next=14;break}return e.abrupt("return",r.onCreateOrUpdateError(e.t0,t));case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}),void 0===a?30:a)}},{key:"query",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.queryViaOldClient(e,t)}},{key:"queryViaOldClient",value:function(e,t){return this.cozyClient.data.query(e,t)}},{key:"fetchAll",value:(H=(0,u.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,t.fetchJSON("GET","/data/".concat(this.doctype,"/_all_docs?include_docs=true"));case 4:return n=e.sent,e.abrupt("return",n.rows.filter(function(e){return 0!==e.id.indexOf("_design")&&e.doc}).map(function(e){return e.doc}));case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0&&e.t0.response&&e.t0.response.status&&404===e.t0.response.status)){e.next=14;break}return e.abrupt("return",[]);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return H.apply(this,arguments)})},{key:"updateAll",value:(q=(0,u.default)(c.default.mark(function e(t){var n,r,a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,!(!t||!t.length)){e.next=3;break}return e.abrupt("return",Promise.resolve([]));case 3:return e.prev=3,e.next=6,n.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:t});case 6:return r=e.sent,e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(3),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."==e.t0.reason.reason)){e.next=23;break}return e.next=15,this.create(t[0]);case 15:return a=e.sent,e.next=18,this.updateAll(t.slice(1));case 18:return(i=e.sent).unshift({ok:!0,id:a._id,rev:a._rev}),e.abrupt("return",i);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[3,10]])})),function(e){return q.apply(this,arguments)})},{key:"deleteAll",value:(W=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateAll(t.map(L)));case 1:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"findDuplicates",value:function(e){var t=this.idAttributes;return w(P(O(e,function(e){return t.map(function(t){return x(e,t)}).join("#$$$$#")}),function(e){return e.length>1}),function(e){return e.slice(1)})}},{key:"deleteDuplicates",value:(G=(0,u.default)(c.default.mark(function e(t){var n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,t&&(n=D(n,t)),r=this.findDuplicates(n),e.abrupt("return",this.deleteAll(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"fetchChanges",value:(Z=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,o,s,u=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,a={since:t,include_docs:"true"},n.params&&Object.assign(a,n.params),e.next=6,r.fetchJSON("GET","/data/".concat(this.doctype,"/_changes?").concat(b.stringify(a)));case 6:return o=(i=e.sent).last_seq,s=i.results.map(function(e){return e.doc}).filter(Boolean),n.includeDesign||(s=s.filter(function(e){return 0!==e._id.indexOf("_design")})),n.includeDeleted||(s=s.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:o,documents:s});case 12:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"queryAll",value:(K=(0,u.default)(c.default.mark(function e(t,n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.queryAllViaNewClient(t));case 2:return e.abrupt("return",this.queryAllViaOldClient(t,n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"queryAllViaNewClient",value:(Q=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.fetchAll());case 2:return n=void 0!==R?R(this.doctype).where(t):this.cozyClient.find(this.doctype).where(t),e.next=5,this.cozyClient.query(n);case 5:a=(r=e.sent).data;case 7:if(!(r&&r.next)){e.next=20;break}if(!(r.bookmark&&n.offsetBookmark)){e.next=14;break}return e.next=11,this.cozyClient.query(n.offsetBookmark(r.bookmark));case 11:r=e.sent,e.next=17;break;case 14:return e.next=16,this.cozyClient.query(n.offset(a.length));case 16:r=e.sent;case 17:a.push.apply(a,(0,i.default)(r.data)),e.next=7;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"queryAllViaOldClient",value:(Y=(0,u.default)(c.default.mark(function e(t,n){var r,a,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,this.fetchAll();case 3:return e.abrupt("return",e.sent);case 4:if(r=n){e.next=9;break}return e.next=8,this.cozyClient.data.defineIndex(this.doctype,Object.keys(t));case 8:r=e.sent;case 9:a=[],o={next:!0};case 11:if(!(o&&o.next)){e.next=18;break}return e.next=14,this.cozyClient.data.query(r,{selector:t,wholeResponse:!0,skip:a.length});case 14:o=e.sent,a.push.apply(a,(0,i.default)(o.docs)),e.next=11;break;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return Y.apply(this,arguments)})},{key:"getAll",value:(J=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,n.fetchJSON("POST","/data/".concat(this.doctype,"/_all_docs?include_docs=true"),{keys:t});case 4:r=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),!e.t0.message.match(/not_found/)){e.next=11;break}return e.abrupt("return",[]);case 11:throw e.t0;case 12:return a=r.rows.filter(function(e){return e.doc}),e.abrupt("return",a.map(function(e){return e.doc}));case 14:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return J.apply(this,arguments)})}]),$}();V.defaultDuplicateHandling="throw",V.duplicateHandlingStrategies={throw:function(e,t){throw Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(t)+"\n"+JSON.stringify(e))},remove:(r=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.slice(1)).length>0)){e.next=5;break}return j("warn","Cleaning duplicates for doctype ".concat(this.doctype," (kept: ").concat(t[0]._id,", removed: ").concat(n.map(function(e){return e._id}),")")),e.next=5,this.deleteAll(n);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},e.exports=V},87274:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(31521),f=n(49517),p=/(.+)(\..*)$/,h=function(e){(0,s.default)(y,e);var t,n,r,f,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"getFullpath",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("You must provide a dirId");case 2:return e.next=4,this.get(t);case 4:return r=d(e.sent.path,"/"),e.abrupt("return","".concat(r,"/").concat(n));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"move",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,f,p=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],i=n.folderId,o=n.path,c=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,c.updateFileMetadata(t,{dir_id:i});case 6:return s=e.sent,e.abrupt("return",{moved:s.data,deleted:null});case 10:if(e.prev=10,e.t0=e.catch(3),!(409===e.t0.status&&r)){e.next=35;break}if(!o){e.next=17;break}u=o,e.next=24;break;case 17:return e.next=19,this.get(t);case 19:return l=e.sent.name,e.next=23,this.getFullpath(i,l);case 23:u=e.sent;case 24:return e.next=26,c.statByPath(u);case 26:return d=e.sent,e.next=29,c.destroy(d.data);case 29:return e.next=31,c.updateFileMetadata(t,{dir_id:i});case 31:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 35:throw e.t0;case 36:case"end":return e.stop()}},e,this,[[3,10]])})),function(e,t){return r.apply(this,arguments)})},{key:"splitFilename",value:function(e){if(!e.name)throw Error("file should have a name property ");if("file"===e.type){var t=e.name.match(p);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}}},{key:"overrideFileForPath",value:(f=(0,i.default)(a.default.mark(function e(t,n,r){var i,o,c,s,u,l,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t).endsWith("/")||(i+="/"),o=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,o.statByPath(i+n.name);case 6:return s=(c=e.sent.data).id,u=c.dir_id,e.next=10,o.updateFile(n,{dirId:u,fileId:s,metadata:r});case 10:return l=e.sent,e.abrupt("return",l);case 14:if(e.prev=14,e.t0=e.catch(3),!/Not Found/.test(e.t0)){e.next=24;break}return e.next=19,o.ensureDirectoryExists(i);case 19:return d=e.sent,e.next=22,o.createFile(n,{dirId:d,metadata:r});case 22:return f=e.sent,e.abrupt("return",f);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t,n){return f.apply(this,arguments)})},{key:"generateNewFileNameOnConflict",value:function(e){var t=e.match(/(_)([0-9]+)$/);if(!t)return"".concat(e,"_1");var n=parseInt(t[2]);return n++,e.replace(/(_)([0-9]+)$/,"_".concat(n))}},{key:"generateFileNameForRevision",value:function(e,t,n){var r=y.splitFilename({name:e.name,type:"file"}),a=r.filename,i=r.extension;return"".concat(a,"_").concat(n(t.updated_at,"DD MMMM - HH[h]mm")).concat(i)}},{key:"uploadFileWithConflictStrategy",value:(h=(0,i.default)(a.default.mark(function e(t,n,r,i,o,c){var s,u,l,d,f,p,h,m;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.cozyClient.collection("io.cozy.files"),e.prev=1,e.next=4,y.getFullpath(r,t);case 4:return u=e.sent,e.next=7,s.statByPath(u);case 7:if(l=e.sent.data.id,"erase"!==i){e.next=16;break}return e.next=12,s.updateFile(n,{dirId:r,fileId:l,name:t,metadata:o,contentType:c});case 12:return d=e.sent,e.abrupt("return",d);case 16:return p=(f=y.splitFilename({name:t,type:"file"})).filename,h=f.extension,m=y.generateNewFileNameOnConflict(p)+h,e.abrupt("return",y.uploadFileWithConflictStrategy(m,n,r,i,o,c));case 19:e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(1),!/Not Found/.test(e.t0.message)){e.next=27;break}return e.next=26,y.upload(t,n,r,o,c);case 26:return e.abrupt("return",e.sent);case 27:throw e.t0;case 28:case"end":return e.stop()}},e,this,[[1,21]])})),function(e,t,n,r,a,i){return h.apply(this,arguments)})},{key:"upload",value:(m=(0,i.default)(a.default.mark(function e(t,n,r,i){var o,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:"image/jpeg",e.abrupt("return",this.cozyClient.collection("io.cozy.files").createFile(n,{name:t,dirId:r,contentType:o,lastModifiedDate:new Date,metadata:i}));case 2:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return m.apply(this,arguments)})}]),y}(f);h.doctype="io.cozy.files",e.exports=h},91952:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(11071).Q,f=n(80996),p=n(87274),h=function(e){(0,s.default)(y,e);var t,n,r,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"createFolderWithReference",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cozyClient.collection(p.doctype),e.next=3,r.ensureDirectoryExists(t);case 3:return i=e.sent,e.next=6,r.addReferencesTo(n,[{_id:i}]);case 6:return e.next=8,this.cozyClient.query(d(p.doctype).getById(i));case 8:return o=e.sent.data,e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"ensureMagicFolder",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={_type:f.doctype,_id:t},e.next=3,this.getReferencedFolders(r);case 3:if(!(o=(i=e.sent).length?i[0]:null)){e.next=7;break}return e.abrupt("return",o);case 7:if((c=Object.values(this.magicFolders)).includes(t)){e.next=10;break}throw Error("Cannot create Magic folder with id ".concat(t,". Allowed values are ").concat(c.join(", "),"."));case 10:if(n){e.next=12;break}throw Error("Magic folder default path must be defined");case 12:return e.abrupt("return",this.createFolderWithReference(n,r));case 13:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getReferencedFolders",value:(h=(0,i.default)(a.default.mark(function e(t){var n,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.collection(p.doctype).findReferencedBy(t);case 2:return n=e.sent.included,e.abrupt("return",n.filter(function(e){return!r.isTrashed(e)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"ensureFolderWithReference",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getReferencedFolders(n);case 2:if(!(r=e.sent).length){e.next=5;break}return e.abrupt("return",r[0]);case 5:return i=this.cozyClient.collection(p.doctype),e.next=8,i.ensureDirectoryExists(t);case 8:return o=e.sent,e.next=11,i.addReferencesTo(n,[{_id:o}]);case 11:return e.next=13,i.get(o);case 13:return c=e.sent.data,e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"isTrashed",value:function(e){return/^\/\.cozy_trash/.test(e.attributes.path)}}]),y}(p);h.magicFolders={ADMINISTRATIVE:"".concat(f.doctype,"/administrative"),PHOTOS:"".concat(f.doctype,"/photos"),PHOTOS_BACKUP:"".concat(f.doctype,"/photos/mobile"),PHOTOS_UPLOAD:"".concat(f.doctype,"/photos/upload"),NOTES_FOLDER:"".concat(f.doctype,"/notes")},e.exports=h},66359:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(49517));u.schema={doctype:"io.cozy.permissions",attributes:{}},e.exports=u},93800:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=n(35970),h=n(58156),m=n(49517),v=n(2502),y=function(e){(0,u.default)(m,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(m);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function m(){return(0,c.default)(this,m),r.apply(this,arguments)}return(0,s.default)(m,null,[{key:"getPersonalData",value:function(e,t){var n={firstname:{path:"name.givenName"},lastname:{path:"name.familyName"},address:{getter:v.getPrimaryAddress},email:{getter:v.getPrimaryEmail},phone:{getter:v.getPrimaryPhone}},r={};return t.forEach(function(t){var a,i=h(n,t,t);if(i.getter)a=i.getter(e);else{var o=h(i,"path",t);a=h(e,o)}void 0!==a&&(r[t]=a)}),r}},{key:"getFilesByRules",value:(n=(0,o.default)(a.default.mark(function e(t){var n,r,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rules,r=t.count,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({trashed:!1,type:"file"},n),e.next=4,this.cozyClient.collection("io.cozy.files").createIndex(["metadata.datetime","metadata.qualification"]);case 4:return e.next=6,this.cozyClient.collection("io.cozy.files").find(o,{indexedFields:["metadata.datetime","metadata.qualification"],sort:[{"metadata.datetime":"desc"},{"metadata.qualification":"desc"}],limit:r||1});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:function(e,t){var n=e.documentsData,r=e.personalData,a=e.procedureData,i=Object.keys(n).map(function(e){return n[e].files.map(function(t){if(t)return{_id:t.id,_type:"io.cozy.files",templateDocumentId:e}})});return{personalData:r,procedureData:a,submissionDate:new Date,templateId:t.type,templateVersion:t.version,relationships:{files:{data:p(i)}}}}},{key:"createJson",value:function(e){return JSON.stringify(e)}}]),m}(m);y.doctype="io.cozy.procedures.administratives",e.exports=y},22063:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(22056)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=n(77214),p=n(49517),h=function(e){(0,u.default)(h,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,c.default)(this,h),r.apply(this,arguments)}return(0,s.default)(h,null,[{key:"getByYearAndAccount",value:(n=(0,o.default)(a.default.mark(function e(t,n){var r,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getIndex(this.doctype,this.idAttributes);case 2:return r=e.sent,o={selector:{year:t,"relationships.account.data._id":n},limit:1},e.next=6,p.query(r,o);case 6:if(c=e.sent,!(s=(0,i.default)(c,1)[0])){e.next=11;break}return e.abrupt("return",s);case 11:return e.abrupt("return",this.getEmptyDocument(t,n));case 12:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getEmptyDocument",value:function(e,t){return{year:e,balances:{},metadata:{version:this.version},relationships:{account:{data:{_id:t,_type:f.doctype}}}}}}]),h}(p);h.doctype="io.cozy.bank.balancehistories",h.idAttributes=["year","relationships.account.data._id"],h.version=1,h.checkAttributes=["balances"],e.exports=h},77214:function(e,t,n){"use strict";var r=n(95709),a=r(n(22056)),i=r(n(21259)),o=r(n(26396)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=n(58156),y=n(94394),g=n(38970),b=n(55364),w=n(40918).namespace("BankAccount"),k=n(31773),x=n(48338).getSlugFromInstitutionLabel,O=n(49517),_=function(e){var t,n,r;return null==e||null==(t=e.relationships)||null==(n=t.connection)||null==(r=n.data)?void 0:r._id},E=function(e){(0,u.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(r);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,null,[{key:"reconciliate",value:function(e,t){var n=k.matchAccounts(e,t);return(n=r.addForcedReplaceMatchings(n,t)).map(function(e){w("info",e.match?"".concat(e.account.label," matched with ").concat(e.match.label," via ").concat(e.method):"".concat(e.account.label," did not match with an existing account")),e.forcedReplace&&w("info","".concat(e.account.label," forced disabled state"));var t=e.match?e.match._id:void 0,n=e.forcedReplace?e.account._id:void 0;return m(m({},e.account),{},{relationships:b({},e.match?e.match.relationships:null,e.account.relationships),_id:n||t})})}},{key:"addForcedReplaceMatchings",value:function(e,t){var n=r.findReplacedCozyAccountIdsMatchings(e);if(!Object.keys(n).length>0)return e;var a,o=(0,i.default)(e),c=g(o,"match._id"),s=f(t);try{for(s.s();!(a=s.n()).done;){var u,l=a.value;if(null!=_(l)&&!c[l._id]){var d=n[_(l)];null!=d&&o.push({forcedReplace:!0,account:m(m({},l),{},{metadata:b({},l.metadata,{disabledAt:null==(u=l.metadata)?void 0:u.updatedAt}),relationships:b({},l.relationships,{connection:{data:{_id:d}}})})})}}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"findReplacedCozyAccountIdsMatchings",value:function(e){var t,n={},r=f(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.match&&_(null==a?void 0:a.account)!==_(null==a?void 0:a.match)&&(n[_(null==a?void 0:a.match)]=_(null==a?void 0:a.account))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findDuplicateAccountsWithNoOperations",value:function(e,t){var n,r=y(t,function(e){return e.account}),i=Object.entries(y(e,function(e){return e.institutionLabel+" > "+e.label})).map(function(e){return(0,a.default)(e,2)[1]}).filter(function(e){return e.length>1}),o=[],c=f(i);try{for(c.s();!(n=c.n()).done;){var s,u=n.value,l=f(u);try{for(l.s();!(s=l.n()).done;){var d=s.value,p=r[d._id]||[];0===p.length&&o.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){c.e(e)}finally{c.f()}return o}},{key:"hasIncoherentCreatedByApp",value:function(e){var t=x(e.institutionLabel),n=e.cozyMetadata&&e.cozyMetadata.createdByApp;return!!(t&&n&&t!==n)}},{key:"getUpdatedAt",value:function(e){var t=v(e,"metadata.updatedAt");if(t)return t;var n=v(e,"cozyMetadata.updatedAt");return n||null}}]),r}(O);E.normalizeAccountNumber=k.normalizeAccountNumber,E.doctype="io.cozy.bank.accounts",E.idAttributes=["_id"],E.version=1,E.checkAttributes=null,E.vendorIdAttr="vendorId",e.exports=E},58611:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(31126),d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"checkCurrencies",value:function(e){var t,n=e[0].currency,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;)if(t.value.currency!==n)return!1}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"sum",value:function(e){if(0===e.length)throw Error("You must give at least one stats object");if(!this.checkCurrencies(e))throw Error("Currency of all stats object must be the same.");var t=["income","additionalIncome","mortgage","loans","fixedCharges"].reduce(function(t,n){return t[n]=l(e,function(e){return e[n]||0}),t},{});return t.currency=e[0].currency,t}}]),r}(n(49517));d.doctype="io.cozy.bank.accounts.stats",d.idAttributes=["_id"],d.version=1,d.checkAttributes=null,e.exports=d},2577:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(21259)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(96220)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=n(72441),v=n(85959),y=n(88055),g=n(94394),b=n(38970),w=n(97551),k=n(94619).default,x=n(77214),O=n(72684).matchTransactions,_=n(49517),E=n(48900),C=function(e,t){var n=w(e,t);return n?t(n):null},S=function(e){return(e.realisationDate||e.date).slice(0,10)},P=function(e){var t=new Date;return C(e.filter(function(e){return!v(S(e),t)}),S)},A=function(e){return e instanceof Date?e.toISOString():e},D=function(e){(0,d.default)(T,e);var t,n,r,w,D=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(T);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function T(){return(0,s.default)(this,T),D.apply(this,arguments)}return(0,u.default)(T,[{key:"isAfter",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t>e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"isBeforeOrSame",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t<=e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"getIdentifier",value:function(){return"".concat(this.amount,"-").concat(this.originalBankLabel,"-").concat(this.date)}},{key:"getVendorAccountId",value:function(){return this[this.constructor.vendorAccountIdAttr]}}],[{key:"deleteAll",value:(n=(0,c.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k("banking.warn-on-delete")&&E("warn","OPERATION_DELETE: removing operations with _id : ".concat(JSON.stringify(t.map(function(e){return e._id})))),e.abrupt("return",(0,l.default)((0,p.default)(T),"deleteAll",this).call(this,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDate",value:function(e){return e}},{key:"getMissedTransactions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(C(t,S),-7),a=Array.from(O(e.filter(function(e){return v(S(e),r)}),t)).filter(function(e){return!e.match}).map(function(e){return e.transaction}),i=n.trackEvent;if("function"==typeof i)try{var o=a.length,c=t.length;i({e_a:"ReconciliateMissing",e_n:"MissedTransactionPct",e_v:parseFloat((o/c).toFixed(2),10)}),i({e_a:"ReconciliateMissing",e_n:"MissedTransactionAbs",e_v:o})}catch(e){E("warn","Could not send MissedTransaction event: ".concat(e.message))}return a}},{key:"reconciliate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(n);!1!==r.useSplitDate&&(r.useSplitDate=!0);var a=g(e,function(e){return t.find(function(t){return t.vendorId===e.vendorId})?"updatedTransactions":"newTransactions"}),i=a.newTransactions||[],c=a.updatedTransactions||[],s=!!r.useSplitDate&&P(t);if(s){"function"==typeof r.trackEvent&&r.trackEvent({e_a:"ReconciliateSplitDate"});var u=i.filter(function(e){return T.prototype.isAfter.call(e,s)});u.length>0?E("info","Found ".concat(u.length," transactions after ").concat(s)):E("info","No transaction after ".concat(s));var l=i.filter(function(e){return T.prototype.isBeforeOrSame.call(e,s)});E("info","Found ".concat(l.length," transactions before ").concat(s));var d=T.getMissedTransactions(l,t,r);d.length>0?E("info","Found ".concat(d.length," missed transactions before ").concat(s)):E("info","No missed transactions before ".concat(s)),i=[].concat((0,o.default)(u),(0,o.default)(d))}else E("info","Can't find a split date, saving all new transactions");return E("info","Transaction reconciliation: new ".concat(i.length,", updated ").concat(c.length,", split date ").concat(s," ")),[].concat(i).concat(c)}},{key:"getMostRecentForAccounts",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E("debug","Transaction.getLast"),e.next=4,_.getIndex(this.doctype,["date","account"]);case 4:return n=e.sent,r={selector:{date:{$gte:null},account:{$in:t}},sort:[{date:"desc"}]},e.next=8,_.query(n,r);case 8:return E("info","last transactions length: "+(i=e.sent).length),e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),E("error",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}},e,this,[[0,13]])})),function(e){return r.apply(this,arguments)})},{key:"deleteOrphans",value:(w=(0,c.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E("info","Deleting up orphan operations"),e.t0=b,e.next=4,x.fetchAll();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1,"_id"),e.next=8,this.fetchAll();case 8:if(r=(n=e.sent).filter(function(e){return!t[e.account]}),E("info","Total number of operations: ".concat(n.length)),E("info","Total number of orphan operations: ".concat(r.length)),E("info","Deleting ".concat(r.length," orphan operations...")),!(r.length>0)){e.next=16;break}return E(k("banking.warn-on-delete")?"warn":"info","OPERATION_DELETE: removing ".concat(r.length," orphan operations")),e.abrupt("return",this.deleteAll(r));case 16:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getCategoryId",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({localModelOverride:!1,localModelUsageThreshold:this.LOCAL_MODEL_USAGE_THRESHOLD,globalModelUsageThreshold:this.GLOBAL_MODEL_USAGE_THRESHOLD},t);return e.manualCategoryId?e.manualCategoryId:n.localModelOverride&&e.localCategoryId&&e.localCategoryProba&&e.localCategoryProba>n.localModelUsageThreshold?e.localCategoryId:e.cozyCategoryId&&e.cozyCategoryProba&&e.cozyCategoryProba>n.globalModelUsageThreshold?e.cozyCategoryId:e.localCategoryId||e.cozyCategoryId?e.automaticCategoryId:null}}]),T}(_);D.doctype="io.cozy.bank.operations",D.version=1,D.vendorAccountIdAttr="vendorAccountId",D.vendorIdAttr="vendorId",D.idAttributes=["vendorId"],D.checkAttributes=["label","originalBankLabel","automaticCategoryId","account"],D.LOCAL_MODEL_USAGE_THRESHOLD=.8,D.GLOBAL_MODEL_USAGE_THRESHOLD=.15,D.getSplitDate=P,e.exports=D},16013:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=n(44377),u=n(40918).namespace("BankingReconciliator");e.exports=function(){var e,t;function n(e){(0,o.default)(this,n),this.options=e}return(0,c.default)(n,[{key:"saveAccounts",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.options.BankAccount,e.next=3,r.fetchAll();case 3:return i=e.sent,o=r.reconciliate(t,i),u("info","Saving accounts..."),e.next=8,r.bulkSave(o,{handleDuplicates:"remove"});case 8:return c=e.sent,n.onAccountsSaved&&n.onAccountsSaved(c),e.abrupt("return",{savedAccounts:c,reconciliatedAccounts:o});case 11:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"save",value:(t=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,l,d,f,p,h,m,v,y,g,b,w=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.length>2&&void 0!==w[2]?w[2]:{},o=(i=this.options).BankAccount,c=i.BankTransaction,e.next=4,this.saveAccounts(t,r);case 4:return d=(l=e.sent).reconciliatedAccounts,p=s((f=l.savedAccounts).map(function(e){return[e[o.vendorIdAttr],e._id]})),u("info","Linking transactions to accounts..."),u("info",JSON.stringify(p)),n.forEach(function(e){if(e.account=p[e[c.vendorAccountIdAttr]],void 0===e.account)throw u("warn","Transaction without account, vendorAccountIdAttr: ".concat(c.vendorAccountIdAttr)),u("warn","transaction: "+JSON.stringify(e)),Error("Transaction without account.")}),h=new Set(d.filter(function(e){return e._id}).map(function(e){return e._id})),e.next=14,c.fetchAll();case 14:return m=e.sent.filter(function(e){return h.has(e.account)}),v=c.reconciliate(n,m,r),u("info","Saving transactions..."),y=1,g=function(e){u("debug","[bulkSave] ".concat(y++," Saving ").concat(e.date," ").concat(e.label))},e.next=21,c.bulkSave(v,{concurrency:30,logProgress:void 0!==r.logProgress?r.logProgress:g,handleDuplicates:"remove"});case 21:return b=e.sent,e.abrupt("return",{accounts:f,transactions:b});case 23:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),n}()},14148:function(e){"use strict";e.exports={"American Express":"americanexpress","Ark\xe9a Banque Priv\xe9e":"arkea","AXA Banque":"axabanque102","Floa Bank":"banquecasino","Banque Populaire":"banquepopulaire",Milleis:"barclays136",BforBank:"bforbank97","BNP Paribas":"bnpparibas82",BoursoBank:"boursorama83",BRED:"bred","Caisse d'\xc9pargne Particuliers":"caissedepargne1","Carrefour Banque":"carrefour159",Cetelem:"cetelem",CIC:"cic63","Compte Nickel":"comptenickel168","Cr\xe9dit Agricole":"caatlantica3","Cr\xe9dit Coop\xe9ratif":"creditcooperatif148","Cr\xe9dit Maritime":"creditmaritime","Cr\xe9dit Mutuel":"cic45","Cr\xe9dit Mutuel de Bretagne":"cic45","Cr\xe9dit Mutuel du Sud Ouest":"cic45",Fortuneo:"fortuneo84","Hello bank!":"hellobank145","HSBC Continental Europe":"hsbc119","La Banque Postale":"labanquepostale44",LCL:"lcl-linxo","MAIF Vie":"maifviebank",Monabanq:"monabanq96","Soci\xe9t\xe9 G\xe9n\xe9rale":"societegenerale","Connecteur de test":"bankingconnectortest",Revolut:"revolut",N26:"n26",Oney:"oney","Banque BCP":"bcp","Banque Transatlantique":"transatlantique","Gan Assurances":"gan",Groupama:"groupama","MAAF Vie":"maafvie",PayPal:"paypal",Yomoni:"yomoni",WeSave:"wesave","Orange Bank":"orangebank","MAIF Socram Banque":"socram","Macif Espace Banque":"socrammacif","Natixis Inter\xe9pargne":"natixis",Amundi:"amundiee","Banque Europ\xe9enne Cr\xe9dit Mutuel":"becm",Afer:"afer","CIC \xc9pargne Salariale":"cicee","PSA Banque":"psa","Cr\xe9dit Agricole - Epargne Longue des Salari\xe9s":"caels",LinXea:"linxea","Louvre Banque Priv\xe9e":"bpe",Palatine:"palatine","Cr\xe9dit Mutuel \xc9pargne Salariale":"creditmutueles","Renault Bank":"zesto","assurancevie.com":"assuranceviecom","mes-placements.fr":"mesplacementsfr",Sharinbox:"sharinbox","Soci\xe9t\xe9 G\xe9n\xe9rale \xc9pargne Salariale":"esalia","Epsens \xc9pargne Salariale":"epsenses","Cr\xe9dit Foncier":"creditfoncier","Banque Fran\xe7aise Commerciale Oc\xe9an Indien":"bfcoi",MACSF:"macsf","Banque Chalus":"chalus",Epargnissimo:"epargnissimo","AXA \xc9pargne Salariale":"axaes",Sogeretraite:"sogeretraite","Banque Edmond de Rothschild":"edmondderothschild",Mutavie:"mutavie",Agipi:"agipi","Uptevia (ex CACEIS)":"ccso","Allianz Retraite Collective":"allianzretraitecollective","Banque Transatlantique \xe9pargne salariale":"transatlantiquees","Ageas ":"ageas",Manymore:"manymore",Altaprofits:"altaprofits","AXA \xc9pargne Retraite":"axaer","Banque Postale \xc9pargne Salariale":"banquepostaleee","BNP Paribas \xc9pargne & Retraite Entreprises (Personeo)":"bnpes",Generali:"generali","Groupama \xc9pargne Salariale":"groupamaes","Oddo - Banque Priv\xe9e":"oddo",Spirica:"spirica",SwissLife:"swisslife","Union Financi\xe8re de France":"unionfinancieredefrance",Nalo:"nalo",CCF:"ccf",Lydia:"lydia","Ma French Bank":"mafrenchbank","Allianz Banque":"allianzbanque"}},31773:function(e,t,n){"use strict";var r=n(95709),a=r(n(21259)),i=r(n(26396));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(58156),d=n(33031),f=n(21062).eitherIncludes,p=n(48338).getSlugFromInstitutionLabel,h=function(e,t,n){var r=n.filter(function(n){return n[e]===t[e]});return 1===r.length?{match:r[0],method:e+"-exact"}:r.length>1?{matches:r,method:e+"-exact"}:null},m=/^(?:[A-Za-z]+)?-?([0-9]+)-?(?:[A-Za-z]+)?$/,v=/[x*]{4}[ -]?[x*]{4}[ -]?[x*]{4}[ -]?(\d{4})/,y=function(e,t){var n,r=t&&t.replace(/\s/g,""),a=e&&!e.match(v)?e.replace(/\s/g,""):e;return r&&27==r.length?r.substr(14,11):a?23==a.length?a.substr(10,11):16==a.length?a.substr(5,11):a.length>11&&(n=a.match(m))?n[1]:a:a},g=function(e,t){return t.number&&e.number&&(11===t.number.length||11===e.number.length)&&f(t.number,e.number)&&Math.min(t.number.length,e.number.length)>=4},b=function(e,t){if("CreditCard"!==e.type&&"CreditCard"!==t.type)return!1;for(var n,r,a=0,i=[e,t];a<i.length;a++){var o=i[a],c=o&&o.number&&o.number.match(v);c&&(n=o,r=c[1])}var s=n===e?t:e;return!!s&&!!s.number&&s.number.slice(-4)===r},w=[{rule:function(e,t){var n=p(e.institutionLabel),r=p(t.institutionLabel);return!n||!r||n===r},bonus:0,malus:-1e3},{rule:g,bonus:50,malus:-50,name:"approx-number"},{rule:function(e,t){var n=e.number||String(e.id),r=t.number||String(t.id);return(!e.number||!t.number)&&f(n,r)},bonus:10,malus:-10,name:"no-number-attr"},{rule:function(e,t){return e.type===t.type},bonus:50,malus:0,name:"same-type"},{rule:b,bonus:150,malus:0,name:"credit-card-number"},{rule:function(e,t){return!!e.currency&&(t.rawNumber&&t.rawNumber.includes(e.currency)||t.label&&t.label.includes(e.currency)||t.originalBankLabel&&t.originalBankLabel.includes(e.currency))},bonus:50,malus:0,name:"currency"}],k=function(e,t){var n,r=[],a={account:t,methods:r},i=0,o=s(w);try{for(o.s();!(n=o.n()).done;){var c=n.value,u=c.rule,l=c.bonus,d=c.malus,f=c.name,p=u(e,t);p&&l&&(i+=l),!p&&d&&(i+=d),f&&p&&r.push(f)}}catch(e){o.e(e)}finally{o.f()}return a.points=i,a},x=function(e){var t=y(e.number,e.iban);return c(c({},e),{},{rawNumber:e.number,number:t})},O=["iban","number"],_=function(e,t){return e&&e===t},E=function(e,t){var n,r=s(O);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e[a]){var i=h(a,e,t);if(i&&i.match)return i}}}catch(e){r.e(e)}finally{r.f()}var o=t.find(function(t){return _(e.originalNumber,t.number)||_(e.number,t.originalNumber)});if(o)return{match:o,method:"originalNumber-exact"};var c=t.find(function(t){return(_(e.rawNumber,t.number)||_(e.number,t.rawNumber))&&t.type==e.type&&t.currency==e.currency});if(c)return{match:c,method:"rawNumber-exact-currency-type"};var u=d(t.map(function(t){return k(e,t)}),function(e){return-e.points}).filter(function(e){return e.points>0});if(u.length>0)return{match:u[0].account,method:u[0].methods.join("-")}};e.exports={matchAccounts:function(e,t){var n,r=e.map(x),i=(0,a.default)(t).map(x),o=[],u=s(r);try{for(u.s();!(n=u.n()).done;){var d=n.value,f=E(d,i);if(f){var p=i.indexOf(f.match);i.splice(p,1),l(d,"metadata.disabledAt")&&l(f,"metadata.disabledAt")||o.push(c({account:d},f))}else l(d,"metadata.disabledAt")||o.push({account:d})}}catch(e){u.e(e)}finally{u.f()}return o},normalizeAccountNumber:y,score:k,creditCardMatch:b,approxNumberMatch:g}},21062:function(e){"use strict";e.exports={eitherIncludes:function(e,t){return!!(e&&t&&(e.includes(t)||t.includes(e)))}}},72684:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(22056)),c=a(n(72189)),s=a(n(92207));function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(94394),f=n(33031),p=n(21062).eitherIncludes,h=function(e){return e.date.substr(0,10)},m=s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=u(Object.keys((r=t.map(function(e){return d(e,n)}))[0]).sort()),e.prev=2,o=s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,n=r.map(function(e){return e[t]||[]}),e.next=4,[t,n];case 4:case"end":return e.stop()}},e)}),a.s();case 5:if((i=a.n()).done){e.next=9;break}return e.delegateYield(o(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}),v=function(e,t){var n=RegExp(String.raw(r||(r=(0,c.default)(["","{2,}"])),t),"gi");return e&&e.replace(n,t)},y=/\b[0-9X]+\b/gi,g=/\b\d{2}\/\d{2}\/\d{4}\b/g,b=function(e){return e&&e.replace(y,"")},w=function(e){return e&&e.replace(g,"")},k=function(e){return e&&e.replace(/\s/g,"").replace(/-/g,"")},x=function(e,t){if(v(t.originalBankLabel," ")===v(e.originalBankLabel," "))return[200,"originalBankLabel"];if(k(t.originalBankLabel)===k(e.originalBankLabel))return[120,"originalBankLabelCompacted"];if(w(t.originalBankLabel)===w(e.originalBankLabel))return[150,"originalBankLabelWithoutDate"];if(t.label===e.label)return[100,"label"];if(p(t.label.toLowerCase(),e.label.toLowerCase()))return[70,"eitherIncludes"];else if(p(b(t.label.toLowerCase()),b(e.label.toLowerCase())))return[50,"fuzzy-eitherIncludes"];else return[-1e3,"label-penalty"]},O=function(e,t){var n=new Date(e.date.substr(0,10)),r=new Date(t.date.substr(0,10)),a=Math.abs(r-n);return e.realisationDate?Math.min(a,Math.abs(r-new Date(e.realisationDate.substr(0,10)))):a},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a={op:t,methods:r};if(n.maxDateDelta){if(O(e,t)>n.maxDateDelta)return a.points=-1e3,a;r.push("approx-date")}var i=x(e,t),c=(0,o.default)(i,2),s=c[0],u=c[1];return r.push(u),a.points=(0===Math.abs(t.amount-e.amount)?r.push("amount")&&100:-1e3)+s,a},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.find(function(t){return t.vendorId&&e.vendorId&&t.vendorId===e.vendorId});if(r)return{match:r,method:"vendorId"};var a=f(t.map(function(t){return _(e,t,n)}),function(e){return-e.points}).filter(function(e){return e.points>0});return a.length>0?{match:a[0].op,method:a[0].methods.join("-")}:{candidates:a}},C=s.default.mark(function e(t,n){var r,a,o,c,l,d,f,p,h=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>2&&void 0!==h[2]?h[2]:{},a=Array.isArray(n)?(0,i.default)(n):[],o=u(t),e.prev=3,o.s();case 5:if((c=o.n()).done){e.next=14;break}return d={transaction:l=c.value},(f=a.length>0?E(l,a,r):null)&&(Object.assign(d,f),(p=a.indexOf(f.match))>-1&&a.splice(p,1)),e.next=12,d;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,16,19,22]])});e.exports={matchTransactions:s.default.mark(function e(t,n){var r,a,i,c,l,d,f,p,v,y,g,b,w,k,x,O;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set(t),a=new Set(n),i=u(m([t,n],h)),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=29;break}(l=(0,o.default)(c.value,2))[0],f=u(C((d=(0,o.default)(l[1],2))[0],d[1])),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=19;break}if(!(v=p.value).match){e.next=17;break}return a.delete(v.match),r.delete(v.transaction),e.next=17,v;case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.next=5;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(3),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:g=0,b=y=[3,4,5];case 39:if(!(g<b.length)){e.next=64;break}w=b[g],k=u(C(Array.from(r),Array.from(a),{maxDateDelta:864e5*w})),e.prev=42,k.s();case 44:if((x=k.n()).done){e.next=53;break}if((O=x.value).method&&(O.method+="-delta".concat(w)),O.match&&(a.delete(O.match),r.delete(O.transaction)),!(O.match||w===y[y.length-1])){e.next=51;break}return e.next=51,O;case 51:e.next=44;break;case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(42),k.e(e.t2);case 58:return e.prev=58,k.f(),e.finish(58);case 61:g++,e.next=39;break;case 64:case"end":return e.stop()}},e,null,[[3,31,34,37],[8,21,24,27],[42,55,58,61]])}),scoreMatching:_}},48338:function(e,t,n){"use strict";var r=n(95709)(n(22056));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(40918).namespace("slug-account"),o=Object.entries(n(14148)).map(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return"/"===n[0]&&"/"===n[n.length-1]?[RegExp(n.substr(1,n.length-2),"i"),a]:[n,a]});e.exports={getSlugFromInstitutionLabel:function(e){if(!e)return void i("warn","No institution label, cannot compute slug");var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(n.s();!(t=n.n()).done;){var c=(0,r.default)(t.value,2),s=c[0],u=c[1];if(s instanceof RegExp){if(e.match(s))return u}else if(s.toLowerCase()===e.toLowerCase())return u}}catch(e){n.e(e)}finally{n.f()}i("warn","Could not compute slug for ".concat(e))}}},2502:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(58156),l=n(85668),d=n(49517),f=n(48900),p=function(e){return function(t){return t[e]&&0!==t[e].length?t[e].find(function(e){return e.primary})||t[e][0]:""}},h=function(e){return f("warn","".concat(e," from cozy-doctypes contact is deprecated, use cozy-client/models/contacts/").concat(e," instead"))},m=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"isContact",value:function(e){return e._type===r.doctype}},{key:"getInitials",value:function(e){if(h("getInitials"),"string"==typeof e)return f("warn","Passing a string to Contact.getInitials will be deprecated soon."),e[0].toUpperCase();if(e.name)return["givenName","familyName"].map(function(t){return u(e,["name",t,0],"")}).join("").toUpperCase();var t=r.getPrimaryEmail(e);return t?t[0].toUpperCase():(f("warn","Contact has no name and no email."),"")}},{key:"getPrimaryEmail",value:function(e){return h("getPrimaryEmail"),Array.isArray(e.email)?p("email")(e).address:e.email}},{key:"getPrimaryCozy",value:function(e){return h("getPrimaryCozy"),Array.isArray(e.cozy)?p("cozy")(e).url:e.url}},{key:"getPrimaryPhone",value:function(e){return h("getPrimaryPhone"),p("phone")(e).number}},{key:"getPrimaryAddress",value:function(e){return h("getPrimaryAddress"),p("address")(e).formattedAddress}},{key:"getFullname",value:function(e){return(h("getFullname"),e.fullname)?e.fullname:e.name?["namePrefix","givenName","additionalName","familyName","nameSuffix"].map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():void 0}},{key:"getDisplayName",value:function(e){return h("getDisplayName"),r.getFullname(e)||r.getPrimaryEmail(e)}}]),r}(d),v=l.shape({_id:l.string.isRequired,_type:l.string.isRequired,fullname:l.string,name:l.shape({givenName:l.string,familyName:l.string,additionalName:l.string,namePrefix:l.string,nameSuffix:l.string}),birthday:l.string,note:l.string,email:l.arrayOf(l.shape({address:l.string.isRequired,label:l.string,type:l.string,primary:l.bool})),address:l.arrayOf(l.shape({street:l.string,pobox:l.string,city:l.string,region:l.string,postcode:l.string,country:l.string,type:l.string,primary:l.bool,label:l.string,formattedAddress:l.string})),phone:l.arrayOf(l.shape({number:l.string.isRequired,type:l.string,label:l.string,primary:l.bool})),cozy:l.arrayOf(l.shape({url:l.string.isRequired,label:l.string,primary:l.bool})),company:l.string,jobTitle:l.string,trashed:l.bool,me:l.bool,relationships:l.shape({accounts:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))}),groups:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))})})});m.doctype="io.cozy.contacts",m.propType=v,e.exports=m},11525:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(85668),l=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(49517)),d=u.shape({_id:u.string.isRequired,_type:u.string.isRequired,name:u.string.isRequired,trashed:u.bool});l.doctype="io.cozy.contacts.groups",l.propType=d,e.exports=l},73182:function(e,t,n){"use strict";var r=n(61853),a=n(80996),i=n(49517),o=n(87274),c=n(91952),s=n(66359),u=n(93800),l=n(22063),d=n(77214),f=n(58611),p=n(2577);e.exports={Account:r,AdministrativeProcedure:u,Application:a,Document:i,BalanceHistory:l,BankAccount:d,BankingReconciliator:n(16013),BankTransaction:p,BankAccountStats:f,Contact:n(2502),CozyFile:o,CozyFolder:c,Group:n(11525),registerClient:i.registerClient,Permission:s}},48900:function(e,t,n){"use strict";e.exports=n(40918).namespace("doctypes")},33103:function(e,t,n){"use strict";var r=n(95709)(n(92207));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(61711);e.exports={parallelMap:function(e,t,n){var o=[];return new i(r.default.mark(function n(){var i,c,s;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(e),n.prev=1,i.s();case 3:if((c=i.n()).done){n.next=9;break}return s=c.value,n.next=7,t(s).then(function(e){return o.push(e)});case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i.e(n.t0);case 14:return n.prev=14,i.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])}),n||30).start().then(function(){return o})}}},92424:function(e){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},72441:function(e,t,n){var r=n(68301);e.exports=function(e,t){var n=r(e),a=Number(t);return n.setDate(n.getDate()+a),n}},85959:function(e,t,n){var r=n(68301);e.exports=function(e,t){var n=r(e),a=r(t);return n.getTime()>a.getTime()}},93475:function(e){e.exports=function(e){return e instanceof Date}},68301:function(e,t,n){var r=n(92424),a=n(93475),i=/[T ]/,o=/:/,c=/^(\d{2})$/,s=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,f=/^-?(\d{3})$/,p=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,v=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,w=/^(Z)$/,k=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function O(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}e.exports=function(e,t){if(a(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n,_,E,C=(t||{}).additionalDigits;C=null==C?2:Number(C);var S=function(e){var t,n={},r=e.split(i);if(o.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var a=b.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e),P=function(e,t){var n,r=s[t],a=l[t];if(n=u.exec(e)||a.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=c.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(S.date,C),A=P.year,D=function(e,t){if(null===t)return null;if(0===e.length)return(a=new Date(0)).setUTCFullYear(t),a;if(n=d.exec(e))return a=new Date(0),r=parseInt(n[1],10)-1,a.setUTCFullYear(t,r),a;if(n=f.exec(e)){var n,r,a=new Date(0),i=parseInt(n[1],10);return a.setUTCFullYear(t,0,i),a}if(n=p.exec(e)){a=new Date(0),r=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return a.setUTCFullYear(t,r,o),a}return(n=h.exec(e))?O(t,parseInt(n[1],10)-1):(n=m.exec(e))?O(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(P.restDateString,A);if(!D)return new Date(e);var T,R=D.getTime(),j=0;if(S.time&&(j=function(e){if(t=v.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=y.exec(e))return(n=parseInt(t[1],10))%24*36e5+6e4*(r=parseFloat(t[2].replace(",",".")));if(t=g.exec(e)){var t,n=parseInt(t[1],10),r=parseInt(t[2],10);return n%24*36e5+6e4*r+1e3*parseFloat(t[3].replace(",","."))}return null}(S.time)),S.timezone){T=6e4*(n=S.timezone,(_=w.exec(n))?0:(_=k.exec(n))?(E=60*parseInt(_[2],10),"+"===_[1]?-E:E):(_=x.exec(n))?(E=60*parseInt(_[2],10)+parseInt(_[3],10),"+"===_[1]?-E:E):0)}else{var M=R+j,I=new Date(M);T=r(I);var N=new Date(M);N.setDate(I.getDate()+1);var z=r(N)-r(I);z>0&&(T+=z)}return new Date(R+j+T)}},25974:function(e,t,n){"use strict";var r=n(33309);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},85668:function(e,t,n){e.exports=n(25974)()},33309:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},30051:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numbers=void 0,t.numbers={maxAttempts:20}},13255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strings=void 0,t.strings={flagshipButNoRNAPI:"<WebviewIntentProvider /> can not instantiate its service. The application was detected as running in a Flagship webview but has no access to `window.ReactNativeWebView`, which is contradictory.",noListenerFound:"Could not handle event, this `NativeMessenger` instance does not have a listener.",noWebviewFound:'error: no WebView was found when trying to post message. This might mean we exited a CozyApp without waiting the call("backToHome") response.',postMeSignature:"@post-me",webviewIsRendered:"webviewIsRendered",errorRegisterWebview:"Cannot register webview. A webview is already registered into cozy-intent with the uri: ${uri}",errorUnregisterWebview:"Cannot unregister webview. No webview is registered into cozy-intent with the uri: ${uri}",errorEmitMessage:"Cannot emit message. No webview is registered with uri: ${webviewUri}",errorCozyBarAPIMissing:"Cozy-bar was detected by WebviewIntentProvider but the required setWebviewContext() API was not found. Cozy-bar webview intents will not work. Your cozy-bar version is most likely outdated.",errorParentHandshake:'Handshake failed for uri: "${uri}". ConcreteConnection will not be available for this uri\'s messenger, but messages should still work. Error was: "${errorMessage}".',errorNoMessengerToInit:'Could not initialise messenger for uri: "${uri}. No WebView has been registered from react-native with this uri. Please use NativeService.registerWebview(WebviewRef).',logging:{registering:function(e){return'- REGISTERING â–¶ï¸ "'.concat(e,'"')},registered:function(e){return'- REGISTERED â–¶ï¸ "'.concat(e,'"')},unregistering:function(e){return'- UNREGISTERING â–¶ï¸ "'.concat(e,'"')},unregistered:function(e){return'- UNREGISTERED â–¶ï¸ "'.concat(e,'"')}}}},90447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30051);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(13255);Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(43119);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(88534);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var c=n(9929);Object.keys(c).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=n(33584);Object.keys(s).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(16120);Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var l=n(24406);Object.keys(l).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var d=n(6702);Object.keys(d).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var f=n(40372);Object.keys(f).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var p=n(76320);Object.keys(p).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})})},43119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFlagshipUI=void 0,t.isFlagshipUI=function(e){return"object"==typeof e&&null!==e&&("bottomBackground"in e||"bottomOverlay"in e||"bottomTheme"in e||"topBackground"in e||"topOverlay"in e||"topTheme"in e)}},88534:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebviewSourceBaseUrl=function(e){return!!e.html}},9929:function(){},33584:function(){},16120:function(){},24406:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.NativeMessenger=t.DebugNativeMessenger=void 0;var a=r(n(65044)),i=r(n(82274)),o=r(n(26396)),c=n(94349),s=r(n(13572)),u=n(90447),l=(0,s.default)("cozy-intent");t.logger=l;var d=(0,c.debug)("NativeMessenger");t.NativeMessenger=(0,a.default)(function e(t){var n,r=this;(0,i.default)(this,e),(0,o.default)(this,"injectJavaScript",void 0),(0,o.default)(this,"listener",void 0),(0,o.default)(this,"webviewUri",void 0),(0,o.default)(this,"postMessage",function(e){if(e.error){var t;l.warn("Error during intent to ".concat(null!=(t=r.webviewUri)?t:"undefined webview"," : "),JSON.stringify(e.error))}try{var n,a="window.postMessage(".concat(JSON.stringify(e),")");null==(n=r.injectJavaScript)||n.call(r,a)}catch(e){d(u.strings.noWebviewFound)}}),(0,o.default)(this,"addMessageListener",function(e){return r.listener=e,function(){return r.listener=void 0}}),(0,o.default)(this,"onMessage",function(e){if(!r.listener)return d(u.strings.noListenerFound);r.listener({data:e})}),this.injectJavaScript=t.injectJavaScript,this.webviewUri=null!=(n=t.props.source.uri)?n:t.props.source.baseUrl}),t.DebugNativeMessenger=function(e){return{postMessage:function(t){"response"!==t.action&&d("- OUT",t),e.postMessage(t)},addMessageListener:function(t){return e.addMessageListener(t)},onMessage:function(t){d("- IN",t),e.onMessage(t)}}}},6702:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeService=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(26396)),u=n(94349),l=n(90447),d=n(8070);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=(0,u.debug)("NativeService");t.NativeService=function(){function e(t){var n,r,c,f=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.NativeMessenger;(0,o.default)(this,e),(0,s.default)(this,"messengerService",void 0),(0,s.default)(this,"localMethods",void 0),(0,s.default)(this,"messengerRegister",{}),(0,s.default)(this,"updateLocalMethods",function(e){f.localMethods=e}),(0,s.default)(this,"getUri",function(e){return new URL(e.nativeEvent.url).hostname.toLowerCase()}),(0,s.default)(this,"parseNativeEvent",function(e){return JSON.parse(e.nativeEvent.data)}),(0,s.default)(this,"isPostMeMessage",function(e){return e.type===l.strings.postMeSignature}),(0,s.default)(this,"isInitMessage",function(e){return e.message===l.strings.webviewIsRendered}),(0,s.default)(this,"registerWebview",function(e,t,n){if(h(l.strings.logging.registering(e)),f.messengerRegister[e])return h((0,d.interpolate)(l.strings.errorRegisterWebview,{uri:e}));var r=new f.messengerService(n);f.messengerRegister=p(p({},f.messengerRegister),{},(0,s.default)({},e,{messenger:(0,d.isNativeDevMode)()?(0,l.DebugNativeMessenger)(r):r,slug:t})),h(l.strings.logging.registered(e))}),(0,s.default)(this,"unregisterWebview",function(e){if(h(l.strings.logging.unregistering(e)),!f.messengerRegister[e])return h((0,d.interpolate)(l.strings.errorUnregisterWebview,{uri:e}));delete f.messengerRegister[e],h(l.strings.logging.unregistered(e))}),(0,s.default)(this,"initWebview",(n=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.ParentHandshake)(t,f.localMethods,l.numbers.maxAttempts);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),(0,s.default)(this,"tryEmit",(r=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.isNativeEvent(t)){e.next=2;break}return e.abrupt("return");case 2:if("setFlagshipUI"===(r=f.parseNativeEvent(t)).methodName&&(0,d.isFlagshipUiArgsArray)(r.args)&&(r.args[0].componentId=n),"setTheme"===r.methodName&&Array.isArray(r.args)&&(0,d.isThemeArg)(r.args[0])&&(r.args[0]={homeTheme:r.args[0],componentId:n}),!f.isInitMessage(r)){e.next=9;break}return e.next=8,f.tryInit(t);case 8:return e.abrupt("return",e.sent);case 9:f.isPostMeMessage(r)&&f.tryOnMessage(t,r);case 10:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),(0,s.default)(this,"tryInit",(c=(0,i.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.getUri(t),r=f.messengerRegister[n],e.prev=2,r){e.next=5;break}throw Error((0,d.interpolate)(l.strings.errorNoMessengerToInit,{uri:n}));case 5:return e.next=7,f.initWebview(r.messenger);case 7:r.connection=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h((0,d.interpolate)(l.strings.errorParentHandshake,{uri:n,errorMessage:(0,d.getErrorMessage)(e.t0)}));case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return c.apply(this,arguments)})),(0,s.default)(this,"tryOnMessage",function(e,t){var n,r=f.getUri(e),a=f.messengerRegister[r];if(void 0===a)return h((0,d.interpolate)(l.strings.errorEmitMessage,{webviewUri:r}));null==(n=t.args)||n.unshift({slug:a.slug}),a.messenger.onMessage(t)}),(0,s.default)(this,"getHostname",function(e){try{return new URL(e).hostname.toLowerCase()}catch(t){return e}}),(0,s.default)(this,"call",function(e,t){for(var n,r,a,i=arguments.length,o=Array(i>2?i-2:0),c=2;c<i;c++)o[c-2]=arguments[c];return null==(n=f.messengerRegister[f.getHostname(e)])||null==(r=n.connection)?void 0:(a=r.remoteHandle()).call.apply(a,[t].concat(o))}),this.messengerService=m,this.localMethods=t}return(0,c.default)(e,[{key:"isNativeEvent",value:function(e){return void 0!==e.nativeEvent.data}}]),e}()},40372:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewMessenger=t.DebugWebviewMessenger=void 0;var a=r(n(65044)),i=r(n(82274)),o=r(n(26396)),c=n(94349);t.WebviewMessenger=(0,a.default)(function e(t){var n=this;(0,i.default)(this,e),(0,o.default)(this,"windowRef",void 0),(0,o.default)(this,"postMessage",function(e){var t;return null==(t=n.windowRef)?void 0:t.ReactNativeWebView.postMessage(JSON.stringify(e))}),(0,o.default)(this,"addMessageListener",function(e){var t,r=function(t){return e(t)};return null==(t=n.windowRef)||t.addEventListener("message",r),function(){var e;return null==(e=n.windowRef)?void 0:e.removeEventListener("message",r)}}),this.windowRef=t}),t.DebugWebviewMessenger=function(e){var t=(0,c.debug)("WebviewMessenger");return{postMessage:function(n){"response"!==n.action&&t("- OUT",n),e.postMessage(n)},addMessageListener:function(t){return e.addMessageListener(t)}}}},76320:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewService=void 0;var a=r(n(65044)),i=r(n(82274)),o=r(n(26396));t.WebviewService=(0,a.default)(function e(t){var n=this;(0,i.default)(this,e),(0,o.default)(this,"close",void 0),(0,o.default)(this,"remoteHandle",void 0),(0,o.default)(this,"call",function(e){for(var t,r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return(t=n.remoteHandle).call.apply(t,[e].concat(a))}),(0,o.default)(this,"closeMessenger",function(){return n.close()}),this.remoteHandle=t.remoteHandle(),this.close=function(){return t.close()}})},84660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90447);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(8070);Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(1332);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},8070:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isWebDevMode=t.isThemeArg=t.isNativeDevMode=t.isFlagshipUiArgsArray=t.interpolate=t.getErrorMessage=void 0;var a=r(n(31485)),i=n(90447);t.interpolate=function(e,t){if(!t)return e;var n=Object.keys(t),r=Object.values(t),i=(0,a.default)(Function,n.concat(["return `".concat(e,"`;")]));try{return i.apply(void 0,r)}catch(t){return e}},t.isNativeDevMode=function(){try{return!!__DEV__}catch(e){return!1}},t.isWebDevMode=function(){try{return!!__DEVELOPMENT__}catch(e){return!1}},t.getErrorMessage=function(e){return e instanceof Error?e.message:String(e)},t.isFlagshipUiArgsArray=function(e){return Array.isArray(e)&&(0,i.isFlagshipUI)(e[0])},t.isThemeArg=function(e){return"string"==typeof e}},58073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeIntentService=t.NativeIntentProvider=void 0;var r,a=n(94349),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(90447),c=n(1332);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=(0,a.debug)("NativeIntentProvider");t.getNativeIntentService=function(){if(!r)throw Error("nativeIntentService has not been instantiated in a NativeIntentProvider");return r};var l=function(e){r=e};t.NativeIntentProvider=function(e){var t=e.children,n=e.localMethods,r=(0,i.useRef)(null);return null===r.current&&(r.current=new o.NativeService(n),l(r.current)),(0,i.useEffect)(function(){var e;u("Updating localMethods on nativeIntentService"),null==(e=r.current)||e.updateLocalMethods(n)},[n]),i.default.createElement(c.NativeContext.Provider,{value:r.current},t)}},46233:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewIntentProvider=void 0;var i=a(n(92207)),o=a(n(22056)),c=a(n(79092)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),u=n(94349),l=n(90447),d=n(1332),f=n(8070);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=(0,u.debug)("WebviewIntentProvider"),m=function(){try{if(cozy.bar&&void 0===cozy.bar.setWebviewContext)return h(l.strings.errorCozyBarAPIMissing);return cozy.bar.setWebviewContext}catch(e){return}},v=(r=(0,c.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var a;return a=l.strings.webviewIsRendered,window.ReactNativeWebView.postMessage(JSON.stringify({type:l.strings.postMeSignature,message:a})),r=new l.WebviewMessenger(window),e.next=4,(0,u.ChildHandshake)((0,f.isWebDevMode)()?(0,l.DebugWebviewMessenger)(r):r,n);case 4:t(e.sent);case 6:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),y=function(){var e;return!!(null==(e=window.cozy)?void 0:e.flagship)&&(void 0!==window.ReactNativeWebView||(h(l.strings.flagshipButNoRNAPI),!1))};t.WebviewIntentProvider=function(e){var t=e.children,n=e.methods,r=e.setBarContext,a=e.webviewService,i=(0,s.useState)(),c=(0,o.default)(i,2),u=c[0],f=c[1],p=(0,s.useState)(a),g=(0,o.default)(p,2),b=g[0],w=g[1],k=r||m();return(0,s.useEffect)(function(){!u&&!a&&y()&&v(f,n).catch(h)},[u,a,n]),(0,s.useEffect)(function(){!b&&u&&w(new l.WebviewService(u))},[b,u]),(0,s.useEffect)(function(){k&&b&&k(b)},[k,b]),s.default.createElement(d.WebviewContext.Provider,{value:b},t)}},95083:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeContext=void 0,t.NativeContext=r(n(96540)).default.createContext(void 0)},25355:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewContext=void 0,t.WebviewContext=r(n(96540)).default.createContext(void 0)},51817:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useIsAvailable=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=n(84043),u=n(8070);t.useIsAvailable=function(e){var t=(0,s.useWebviewIntent)(),n=(0,c.useState)(null),r=(0,o.default)(n,2),l=r[0],d=r[1],f=(0,c.useState)(void 0),p=(0,o.default)(f,2),h=p[0],m=p[1];return(0,c.useEffect)(function(){if(t){var n;(n=(0,i.default)(a.default.mark(function n(){var r;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.call("isAvailable",e);case 3:if("boolean"==typeof(r=n.sent)){n.next=6;break}throw Error("Invalid result from isAvailable method: ".concat(r));case 6:m(void 0),d(r),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),m((0,u.getErrorMessage)(n.t0)),d(!1);case 14:case"end":return n.stop()}},n,null,[[0,10]])})),function(){return n.apply(this,arguments)})()}},[t,e]),{isAvailable:l,error:h}}},89177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNativeIntent=void 0;var r=n(96540),a=n(1332);t.useNativeIntent=function(){return(0,r.useContext)(a.NativeContext)}},84043:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWebviewIntent=void 0;var r=n(96540),a=n(1332);t.useWebviewIntent=function(){return(0,r.useContext)(a.WebviewContext)}},1332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58073);Object.keys(r).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(46233);Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(95083);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(25355);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var c=n(89177);Object.keys(c).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=n(84043);Object.keys(s).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(51817);Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})},56498:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.start=function e(t,n,r,o){var l,d,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=function(){d&&c.remove(d),l&&l.stopListening()},m=function(){h()},v=new Promise(function(h,v){var y,g=(0,s.pickService)(n,p.filterServices);d=c.insertIntentIframe(n,r,g.href,p.onReadyCallback);var b=g.href.split("/",3).join("/");(l=new u.default({intentId:n.id,origin:b,onReady:function(e){e.source.postMessage(o,e.origin)},onDone:function(e){h(e.data.document),m()},onCancel:function(){h(null),m()},onError:function(e){v(e instanceof Event?s.errorSerializer.deserialize(e.data.error):e),m()},onResize:function(e){var t=e.data,n=t.transition,a=t.dimensions;c.applyStyle(r,f({transition:n},a))},onExposeFrameRemoval:function(e){h({document:e.data.document,removeIntentIframe:function(){return c.remove(d)}})},onCompose:(y=(0,i.default)(a.default.mark(function n(i){var o,s,u,l,p,h,m,v;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=(o=i.data).action,u=o.doctype,l=o.data,p=i.source,h=i.origin,n.next=4,t(s,u,l);case 4:return m=n.sent,c.hide(d),n.prev=6,n.next=9,e(t,m,r,f(f({},l),{},{exposeIntentFrameRemoval:!1}));case 9:v=n.sent,p.postMessage(v,h);case 11:return n.prev=11,c.show(d),n.finish(11);case 14:case"end":return n.stop()}},n,null,[[6,,11,14]])})),function(e){return y.apply(this,arguments)}),onHideCross:function(){p.onHideCross&&p.onHideCross()},onShowCross:function(){p.onShowCross&&p.onShowCross()}})).listen()});return v.destroy=h,v};var a=r(n(92207)),i=r(n(79092)),o=r(n(26396)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(77393)),s=n(96692),u=r(n(38937));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},77393:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertOKForIntentIframe=t.applyStyle=void 0,t.hide=function(e){e.style.display="none"},t.iframeFromIntent=i,t.insertIntentIframe=function(e,t,n,r){a(t);var o=i(e,t,n);return"function"==typeof r&&(o.onload=r),t.appendChild(o),o.focus(),o},t.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.show=function(e){e.style.display="block"};var n=function(e){return e+"px"},r={width:n,height:n,maxWidth:n,maxHeight:n};t.applyStyle=function(e,t){Object.keys(t).forEach(function(n){var a=t[n];e.style[n]="".concat(r[n]?r[n](a):a)})};var a=function(e){var t=e.ownerDocument;if(!t)throw console.warn("assertProperForIframe: bad node",e),Error("Cannot retrieve document object from given node");if(!t.defaultView)throw console.warn("assertProperForIframe: bad document",t),Error("Cannot retrieve window object from document")};function i(e,t,n){var r=t.ownerDocument;if(!r)throw Error("Cannot retrieve document object from given node");var a=r.createElement("iframe");return a.setAttribute("id","intent-".concat(e.id)),a.setAttribute("src",n),a.classList.add("coz-intent"),a}t.assertOKForIntentIframe=a},96692:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.removeQueryString=t.pickService=t.errorSerializer=t.buildRedirectionURL=void 0,n=function(e,t){return["name","message"].reduce(function(n,r){return e[r]&&(t[r]=e[r]),n},Object.assign(t,e))},t.errorSerializer={serialize:function(e){return n(e,{})},deserialize:function(e){return n(e,Error(e.message))}},t.pickService=function(e,t){var n=e.attributes.services||[],r=t?n.find(t):n[0];if(!r)throw Error("Unable to find a service");return r},t.buildRedirectionURL=function(e,t){var n=Object.keys(t).filter(function(e){return!["object","function"].includes(typeof t[e])}).map(function(e){return"".concat(e,"=").concat(t[e])});return n.length?"".concat(e,"?").concat(n.join("&")):e},t.removeQueryString=function(e){return e.replace(/\?[^/#]*/,"")}},79081:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Intents",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=r(n(26482))},26482:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=p(n(56498)),u=n(96692),l=r(n(92988)),d=p(n(16154));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}t.default=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client;(0,o.default)(this,n),this.request=new l.default(t),this.create=this.create.bind(this)}return(0,c.default)(n,[{key:"create",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)throw Error('Misformed intent, "action" property must be provided');if(!t)throw Error('Misformed intent, "type" property must be provided');var i=this.request.post(e,t,r,a);return i.start=function(e,t,a,o){var c,u={filteredServices:r.filteredServices,onReadyCallback:t,onHideCross:a,onShowCross:o};delete r.filteredServices;var l=i.then(function(t){return c=s.start(n.create,t,e,r,u)});return l.stop=function(){c&&c.destroy()},l},i}},{key:"createService",value:function(e,t){return d.start(this.request)(e,t)}},{key:"getRedirectionURL",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t&&!n)){e.next=2;break}throw Error("Cannot retrieve redirection, at least type or doc must be provided");case 2:return e.next=4,this.create("REDIRECT",t,n);case 4:return r=e.sent,i=(0,u.pickService)(r),o=(0,u.removeQueryString)(i.href),e.abrupt("return",n?(0,u.buildRedirectionURL)(o,n):o);case 8:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"redirect",value:(t=(0,i.default)(a.default.mark(function e(t,n,r){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window){e.next=2;break}throw Error("redirect() method can only be called in a browser");case 2:return e.next=4,this.getRedirectionURL(t,n);case 4:if(i=e.sent,!(r&&"function"==typeof r)){e.next=7;break}return e.abrupt("return",r(i));case 7:window.location.href=i;case 8:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),n}()},38937:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=/intent-(.*):(.*)/;t.default=function(){function e(t){(0,a.default)(this,e),this.state={handshaken:!1},this.options=t,this.handleMessageWrapper=this.handleMessageWrapper.bind(this)}return(0,i.default)(e,[{key:"handleMessage",value:function(e){if(e.origin===this.options.origin){var t=e.data.type;if("load"===t){console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`.");return}var n=o.exec(t);if(!n)return void console.warn("intents: Message type ".concat(t," not matching intent format"));var r=n[1];c(r==this.options.intentId,"Invalid event id","eventId: ".concat(r," != listener eventId ").concat(this.options.intentId));var a=n[2];"ready"!==a?c(this.state.handshaken,"Unexpected handshake message from intent service"):this.state.handshaken=!0;var i=this.options["on"+s(a)];if(i)return i(e);console.warn("intents: Unhandled event ".concat(a))}}},{key:"handleMessageWrapper",value:function(e){try{this.handleMessage(e)}catch(e){this.options.onError(e)}}},{key:"listen",value:function(){window.addEventListener("message",this.handleMessageWrapper)}},{key:"stopListening",value:function(){window.removeEventListener("message",this.handleMessageWrapper)}}]),e}();var c=function(e,t,n){if(!e)throw n&&console.warn(n),Error(t)},s=function(e){return e[0].toUpperCase()+e.slice(1)}},92988:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e),this.stackClient=t.stackClient}return(0,i.default)(e,[{key:"get",value:function(e){return this.stackClient.fetchJSON("GET","/intents/".concat(e)).then(function(e){var t=e.data;return t._id||(t._id=t.id),t})}},{key:"post",value:function(e,t,n,r){return this.stackClient.fetchJSON("POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:e,type:t,data:n,permissions:r}}}).then(function(e){return e.data})}}]),e}()},16154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=void 0;var r=n(96692);function a(e){e&&e.style&&(e.style.height="100%")}t.start=function(e){return function(t,n){var i=n||"undefined"!=typeof window&&window;if(!i||!i.document)return Promise.reject(Error("Intent service should be used in browser"));i.addEventListener("load",function(){var e=i.document;[e.documentElement,e.body].forEach(a)});var o=t||i.location.search.split("=")[1];return o?e.get(o).then(function(e){var t=!1,n=function(n){if(t)throw Error("Intent service has already been terminated");i.parent.postMessage(n,e.attributes.client)},a=function(t,r,a){return new Promise(function(o){i.addEventListener("message",function t(n){if(n.origin===e.attributes.client)return i.removeEventListener("message",t),o(n.data)}),n({type:"intent-".concat(e._id,":compose"),action:t,doctype:r,data:a})})},o=function(e){n(e),t=!0},c=function(r,a){if(t)throw Error("Intent service has been terminated");n({type:"intent-".concat(e._id,":resize"),dimensions:r.element?Object.assign({},r,{maxHeight:r.element.clientHeight,maxWidth:r.element.clientWidth}):r,transition:a})},s=function(){n({type:"intent-".concat(e._id,":hideCross")})},u=function(){n({type:"intent-".concat(e._id,":showCross")})},l=function(){o({type:"intent-".concat(e._id,":cancel")})};return i.addEventListener("unload",function(){t||l()}),new Promise(function(t){i.addEventListener("message",function n(r){r.origin===e.attributes.client&&(i.removeEventListener("message",n),t(r.data))}),i.parent.postMessage({type:"intent-".concat(e._id,":ready")},e.attributes.client)}).then(function(t){return{compose:a,getData:function(){return t},getIntent:function(){return e},terminate:function(n){var r=t&&t.exposeIntentFrameRemoval?"exposeFrameRemoval":"done";return o({type:"intent-".concat(e._id,":").concat(r),document:n})},throw:function(t){return o({type:"intent-".concat(e._id,":error"),error:r.errorSerializer.serialize(t)})},resizeClient:c,cancel:l,hideCross:s,showCross:u}})}):Promise.reject(Error("Cannot retrieve intent from URL"))}}},88212:function(e,t,n){"use strict";var r=n(85763);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},43554:function(e,t,n){e.exports=n(88212)()},85763:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},43768:function(e,t,n){e.exports=n(50276),n(12746),n(93900),n(71696),n(8106),n(3254),n(29255),n(7619)},22172:function(e){"use strict";var t=function(e){return Object.assign(this,e),this};t.prototype.toString=function(){throw Error("Cannot convert Secret to string")},e.exports=t},40918:function(e,t,n){"use strict";var r=n(65606);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(22172),o=n(26),c=o.filterLevel,s=o.filterSecrets,u=r.env.LOG_LEVEL||"debug",l=n(15030),d=[c,s],f=function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(d);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!1===n.apply(null,arguments))return!0}}catch(e){t.e(e)}finally{t.f()}return!1};function p(e,t,n,r){f(u,e,t,n,r)||console.log(l(e,t,n,r))}p.addFilter=function(e){return d.push(e)},p.setLevel=function(e){u=e},["debug","info","warn","error","ok","critical"].forEach(function(e){p[e]=function(t,n,r){return p(e,t,n,r)}}),e.exports=p,p.setNoRetry=function(e){return e?e.no_retry=!0:e={no_retry:!0},e.no_retry},p.Secret=i,p.namespace=function(e){return function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;p(t,n,r,a)}}},26:function(e,t,n){"use strict";var r={secret:0,debug:10,info:20,warn:30,error:40,ok:50,critical:50},a=n(22172);e.exports={filterSecrets:function(e,t,n){if("secret"!==t&&n instanceof a)throw Error("You should log a secret with log.secret")},filterLevel:function(e,t){return r[t]>=r[e]}}},15030:function(e,t,n){"use strict";n(54441),e.exports=n(54441)},54441:function(e,t,n){"use strict";var r=n(44106);e.exports=function(e,t,n,a){var i={time:new Date,type:e,label:n,namespace:a};"object"==typeof t?(t&&t.no_retry&&(i.no_retry=t.no_retry),t&&t.message&&(i.message=t.message)):i.message=t,i.message&&i.message.stack&&(i.message=i.message.stack);var o=i;try{o=r(i).substr(0,65535)}catch(e){console.log(e.message,"cozy-logger: Failed to convert message to JSON")}return o}},49753:function(e,t,n){"use strict";var r=n(24535),a={debug:1,info:2,warn:3,error:4};function i(){this.enabled=!0,this.defaultResult=!0,this.clear()}function o(e,t){return e.n.test?e.n.test(t):e.n==t}r.mixin(i),i.prototype.allow=function(e,t){return this._white.push({n:e,l:a[t]}),this},i.prototype.deny=function(e,t){return this._black.push({n:e,l:a[t]}),this},i.prototype.clear=function(){return this._white=[],this._black=[],this},i.prototype.test=function(e,t){var n,r=Math.max(this._white.length,this._black.length);for(n=0;n<r;n++){if(this._white[n]&&o(this._white[n],e)&&a[t]>=this._white[n].l)return!0;if(this._black[n]&&o(this._black[n],e)&&a[t]<=this._black[n].l)return!1}return this.defaultResult},i.prototype.write=function(e,t,n){if(!this.enabled||this.test(e,t))return this.emit("item",e,t,n)},e.exports=i},62576:function(e,t,n){"use strict";var r=n(24535),a=n(49753),i=new r,o=Array.prototype.slice;(t=e.exports=function(e){var n=function(){return i.write(e,void 0,o.call(arguments)),n};return n.debug=function(){return i.write(e,"debug",o.call(arguments)),n},n.info=function(){return i.write(e,"info",o.call(arguments)),n},n.warn=function(){return i.write(e,"warn",o.call(arguments)),n},n.error=function(){return i.write(e,"error",o.call(arguments)),n},n.group=function(){return i.write(e,"group",o.call(arguments)),n},n.groupEnd=function(){return i.write(e,"groupEnd",o.call(arguments)),n},n.log=n.debug,n.suggest=t.suggest,n.format=i.format,n}).defaultBackend=t.defaultFormatter=null,t.pipe=function(e){return i.pipe(e)},t.end=t.unpipe=t.disable=function(e){return i.unpipe(e)},t.Transform=r,t.Filter=a,t.suggest=new a,t.enable=function(){return t.defaultFormatter?i.pipe(t.suggest).pipe(t.defaultFormatter).pipe(t.defaultBackend):i.pipe(t.suggest).pipe(t.defaultBackend)}},24535:function(e,t,n){"use strict";function r(){}n(56173).mixin(r),r.prototype.write=function(e,t,n){this.emit("item",e,t,n)},r.prototype.end=function(){this.emit("end"),this.removeAllListeners()},r.prototype.pipe=function(e){var t=this;function n(){e.write.apply(e,Array.prototype.slice.call(arguments))}function r(){e._isStdio||e.end()}return t.emit("unpipe",e),e.emit("pipe",t),t.on("item",n),t.on("end",r),t.when("unpipe",function(a){var i=a===e||void 0===a;return i&&(t.removeListener("item",n),t.removeListener("end",r),e.emit("unpipe")),i}),e},r.prototype.unpipe=function(e){return this.emit("unpipe",e),this},r.prototype.format=function(){throw Error("Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:\nvar Minilog = require('minilog');\nMinilog\n  .pipe(Minilog.backends.console.formatClean)\n  .pipe(Minilog.backends.console);")},r.mixin=function(e){var t,n=r.prototype;for(t in n)n.hasOwnProperty(t)&&(e.prototype[t]=n[t])},e.exports=r},1973:function(e,t,n){"use strict";var r=n(24535),a=[],i=new r;i.write=function(e,t,n){a.push([e,t,n])},i.get=function(){return a},i.empty=function(){a=[]},e.exports=i},22337:function(e,t,n){"use strict";var r=n(24535),a=/\n+$/,i=new r;i.write=function(e,t,n){var r=n.length-1;if("undefined"!=typeof console&&console.log){if(console.log.apply)return console.log.apply(console,[e,t].concat(n));else if(JSON&&JSON.stringify){n[r]&&"string"==typeof n[r]&&(n[r]=n[r].replace(a,""));try{for(r=0;r<n.length;r++)n[r]=JSON.stringify(n[r])}catch(e){}console.log(n.join(" "))}}},i.formatters=["color","minilog"],i.color=n(81909),i.minilog=n(25681),e.exports=i},81909:function(e,t,n){"use strict";var r=n(24535),a=n(51724),i={debug:["cyan"],info:["purple"],warn:["yellow",!0],error:["red",!0]},o=new r;o.write=function(e,t,n){console[t]&&console[t].apply&&console[t].apply(console,["%c"+e+" %c"+t,a("gray"),a.apply(a,i[t])].concat(n))},o.pipe=function(){},e.exports=o},25681:function(e,t,n){"use strict";var r=n(24535),a=n(51724),i={debug:["gray"],info:["purple"],warn:["yellow",!0],error:["red",!0]},o=new r;o.write=function(e,t,n){var r=console.log;"debug"!=t&&console[t]&&(r=console[t]);var o=0;if("info"!=t){for(;o<n.length&&"string"==typeof n[o];o++);r.apply(console,["%c"+e+" "+n.slice(0,o).join(" "),a.apply(a,i[t])].concat(n.slice(o)))}else r.apply(console,["%c"+e,a.apply(a,i[t])].concat(n))},o.pipe=function(){},e.exports=o},51724:function(e){"use strict";var t={black:"#000",red:"#c23621",green:"#25bc26",yellow:"#bbbb00",blue:"#492ee1",magenta:"#d338d3",cyan:"#33bbc8",gray:"#808080",purple:"#708"};e.exports=function(e,n){return n?"color: #fff; background: "+t[e]+";":"color: "+t[e]+";"}},13572:function(e,t,n){"use strict";var r=n(62576),a=r.enable,i=r.disable,o="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&"ReactNative"===navigator.product,s=n(22337);if(r.defaultBackend=o||c?s.minilog:s,"undefined"!=typeof window){try{r.enable(JSON.parse(window.localStorage.minilogSettings))}catch(e){}if(window.location&&window.location.search){var u=RegExp("[?&]minilog=([^&]*)").exec(window.location.search);u&&r.enable(decodeURIComponent(u[1]))}}r.enable=function(){a.call(r,!0);try{window.localStorage.minilogSettings=JSON.stringify(!0)}catch(e){}return this},r.disable=function(){i.call(r);try{delete window.localStorage.minilogSettings}catch(e){}return this},(e.exports=r).backends={array:n(1973),browser:r.defaultBackend,localStorage:n(39142),jQuery:n(82845)}},82845:function(e,t,n){"use strict";var r=n(24535),a=new Date().valueOf().toString(36);function i(e){this.url=e.url||"",this.cache=[],this.timer=null,this.interval=e.interval||3e4,this.enabled=!0,this.jQuery=window.jQuery,this.extras={}}r.mixin(i),i.prototype.write=function(e,t,n){this.timer||this.init(),this.cache.push([e,t].concat(n))},i.prototype.init=function(){if(this.enabled&&this.jQuery){var e=this;this.timer=setTimeout(function(){var t,n,r=[],i=e.url;if(0==e.cache.length)return e.init();for(t=0;t<e.cache.length;t++)try{JSON.stringify(e.cache[t]),r.push(e.cache[t])}catch(e){}e.jQuery.isEmptyObject(e.extras)?(n=JSON.stringify({logs:r}),i=e.url+"?client_id="+a):n=JSON.stringify(e.jQuery.extend({logs:r},e.extras)),e.jQuery.ajax(i,{type:"POST",cache:!1,processData:!1,data:n,contentType:"application/json",timeout:1e4}).success(function(t){t.interval&&(e.interval=Math.max(1e3,t.interval))}).error(function(){e.interval=3e4}).always(function(){e.init()}),e.cache=[]},this.interval)}},i.prototype.end=function(){},i.jQueryWait=function(e){if("undefined"!=typeof window&&(window.jQuery||window.$))return e(window.jQuery||window.$);"undefined"!=typeof window&&setTimeout(function(){i.jQueryWait(e)},200)},e.exports=i},39142:function(e,t,n){"use strict";var r=n(24535),a=!1,i=new r;i.write=function(e,t,n){if("undefined"!=typeof window&&"undefined"!=typeof JSON&&JSON.stringify&&JSON.parse)try{a||(a=window.localStorage.minilog?JSON.parse(window.localStorage.minilog):[]),a.push([new Date().toString(),e,t,n]),window.localStorage.minilog=JSON.stringify(a)}catch(e){}},e.exports=i},33191:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e),this.tokenType=t.tokenType||t.token_type,this.accessToken=t.accessToken||t.access_token,this.refreshToken=t.refreshToken||t.refresh_token,this.scope=t.scope}return(0,i.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}}],[{key:"fromJSON",value:function(t){return new e({tokenType:t.tokenType,accessToken:t.accessToken,refreshToken:t.refreshToken,scope:t.scope})}}]),e}()},80422:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getReplicationURL=void 0;var i=a(n(21259)),o=a(n(92207)),c=a(n(79092)),s=a(n(82274)),u=a(n(65044)),l=a(n(56994)),d=a(n(65611)),f=a(n(18337)),p=a(n(26396)),h=n(52970),m=a(n(85099)),v=a(n(55896)),y=a(n(84684)),g=a(n(30307)),b=a(n(38221)),w=a(n(90179)),k=a(n(35405)),x=r(n(33618)),O=a(n(96384)),_=n(20522),E=a(n(17070)),C=n(40755),S=n(19227),P=n(11337),A=n(55713),D=a(n(38540)),T=n(78678);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,p.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}m.default.plugin(v.default);var I=function(e,t){if(!t.ok)throw Error("Pouch response is not OK");return M(M({},e),(0,w.default)(t,"ok"))},N={replicationInterval:3e4},z=function(e,t,n){var r=t.toBasicAuth(),a=e.replace("//","//".concat(r));return"".concat(a,"/data/").concat(n)};t.getReplicationURL=z;var F=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},L=function(e){(0,l.default)(et,e);var t,n,r,a,p,v,w,j,L,B,U,V,H,q,W,G,Z,K,Q,Y,J,$,X,ee=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(et);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function et(e){(0,s.default)(this,et);var t,n,r=(0,y.default)({},e,N);n=ee.call(this,r);var a=r.doctypes,i=r.doctypesReplicationOptions,o=r.periodicSync,c=r.initialSync,u=r.syncDebounceDelayInMs,l=r.syncDebounceMaxDelayInMs,d=r.performanceApi;if(n.options=r,!a)throw Error("PouchLink must be instantiated with doctypes it manages. Ex: ['io.cozy.bills']");return n.doctypes=a,n.doctypesReplicationOptions=i,n.indexes={},n.storage=new _.PouchLocalStorage((null==(t=r.platform)?void 0:t.storage)||S.platformWeb.storage),n.initialSync=null!=c&&c,n.periodicSync=null==o||o,n.replicationStatus=n.replicationStatus||{},n.startReplicationDebounced=(0,b.default)(n._startReplication,u||1e4,{maxWait:l||6e5,leading:!0}),n.performanceApi=d||h.defaultPerformanceApi,n}return(0,u.default)(et,[{key:"getReplicationURL",value:function(e){var t=this.client&&this.client.stackClient.uri,n=this.client&&this.client.stackClient.token;if(!n)throw Error("Can't get replication URL since the stack client doesn't have a token");if(!t)throw Error("Can't get replication URL since the stack client doesn't have a URI");return z(t,n,e)}},{key:"registerClient",value:(n=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.client=t;case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"migrateAdapter",value:(r=(0,c.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l,d,f,p,h,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.fromAdapter,r=t.toAdapter,a=t.url,i=t.plugins,e.prev=1,c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return R(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(i);try{for(c.s();!(s=c.n()).done;)u=s.value,m.default.plugin(u)}catch(e){c.e(e)}finally{c.f()}return e.next=6,this.storage.getPersistedSyncedDoctypes();case 6:l=e.sent,d=0,f=Object.keys(l);case 8:if(!(d<f.length)){e.next=19;break}return p=f[d],h=(0,P.getPrefix)(a),v=(0,P.getDatabaseName)(h,p),e.next=14,(0,C.migratePouch)({dbName:v,fromAdapter:n,toAdapter:r});case 14:return e.next=16,this.storage.destroyWarmedUpQueries();case 16:d++,e.next=8;break;case 19:return e.next=21,this.storage.persistAdapterName("indexeddb");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),console.error("PouchLink: PouchDB migration failed. ",e.t0);case 26:case"end":return e.stop()}},e,this,[[1,23]])})),function(e){return r.apply(this,arguments)})},{key:"onLogin",value:(a=(0,c.default)(o.default.mark(function e(){var t,n,r,a,i,c,s,u=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=3;break}return E.default.warn("PouchLink: no client registered, can't login"),e.abrupt("return");case 3:if(t=this.performanceApi.mark("onLogin"),n=(0,P.getPrefix)(this.client.stackClient.uri),!(this.pouches&&this.pouches.options&&this.pouches.options.prefix!==n)){e.next=16;break}return e.prev=8,e.next=11,this.pouches.destroy();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),E.default.warn("Error while destroying pouch DBs",e.t0);case 16:if(n){e.next=18;break}throw Error("PouchLink: Prefix is required");case 18:if(!(r=null==(a=this.options)||null==(i=a.pouch)||null==(c=i.options)?void 0:c.adapter)){e.next=26;break}return e.next=23,this.storage.getAdapterName();case 23:if(e.sent){e.next=26;break}return e.next=26,this.storage.persistAdapterName(r);case 26:return this.queryEngine=(null==(s=this.options.platform)?void 0:s.queryEngine)||D.default,this.pouches=new O.default(this.doctypes,{pouch:this.options.pouch,getReplicationURL:this.getReplicationURL.bind(this),doctypesReplicationOptions:this.doctypesReplicationOptions,onError:function(e){return u.onSyncError(e)},onSync:this.handleOnSync.bind(this),onDoctypeSyncStart:this.handleDoctypeSyncStart.bind(this),onDoctypeSyncEnd:this.handleDoctypeSyncEnd.bind(this),prefix:n,executeQuery:this.executeQuery.bind(this),platform:this.options.platform,queryEngine:this.queryEngine,client:this.client}),e.next=30,this.pouches.init();case 30:this.client&&this.initialSync&&this.startReplication(),this.performanceApi.measure({markName:t,category:"CozyPouchLink"});case 32:case"end":return e.stop()}},e,this,[[8,13]])})),function(){return a.apply(this,arguments)})},{key:"reset",value:(p=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pouches){e.next=3;break}return e.next=3,this.pouches.destroy();case 3:this.pouches=null,this.client=null;case 5:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"handleOnSync",value:function(e){var t=this,n=e&&Object.keys(e);n&&n.forEach(function(n){n&&(0,x.normalizeDocs)(t.client,n,e[n])}),this.client&&this.client.setData(e),this.options.onSync&&this.options.onSync.call(this,e),this.client.emit("pouchlink:sync:end")}},{key:"handleDoctypeSyncStart",value:function(e){this.replicationStatus[e]="replicating",this.client.emit("pouchlink:doctypesync:start",e)}},{key:"handleDoctypeSyncEnd",value:function(e){this.replicationStatus[e]="idle",this.client.emit("pouchlink:doctypesync:end",e)}},{key:"_startReplication",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForReplications;this.client.emit("pouchlink:sync:start"),this.periodicSync?this.pouches.startReplicationLoop():this.pouches.replicateOnce({waitForReplications:void 0===t||t}),this.options.onStartReplication&&this.options.onStartReplication.apply(this)}},{key:"startReplication",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForReplications,n=void 0===t||t;return n||this.startReplicationDebounced.cancel(),this._startReplication({waitForReplications:n})}},{key:"startReplicationWithDebounce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForReplications;if(this.periodicSync)throw Error("createDebounceableReplication cannot be called when periodic sync is configured");return this.startReplicationDebounced({waitForReplications:void 0===t||t})}},{key:"stopReplication",value:function(){this.pouches.stopReplicationLoop(),this.options.onStopReplication&&this.options.onStopReplication.apply(this),this.client.emit("pouchlink:sync:stop")}},{key:"onSyncError",value:(v=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,A.isExpiredTokenError)(t)){e.next=18;break}return e.prev=1,n=this.client.stackClient.token,e.next=5,this.client.stackClient.refreshToken();case 5:if(!((r=this.client.stackClient.token)===n||!r)){e.next=8;break}throw Error("Refresh token failed");case 8:return this.startReplication(),e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(1),E.default.warn("Could not refresh token, replication has stopped",e.t0),this.options.onSyncError&&this.options.onSyncError.call(this,e.t0);case 16:e.next=20;break;case 18:E.default.warn("CozyPouchLink: Synchronization error",t),this.options.onSyncError&&this.options.onSyncError.call(this,t);case 20:case"end":return e.stop()}},e,this,[[1,12]])})),function(e){return v.apply(this,arguments)})},{key:"getSyncInfo",value:function(e){return this.pouches.getSyncInfo(e)}},{key:"getQueryEngineFromDoctype",value:function(e){var t=(0,P.getDatabaseName)((0,P.getPrefix)(this.client.stackClient.uri),e);return this.pouches.getQueryEngine(t,e)}},{key:"getPouch",value:function(e){var t=(0,P.getDatabaseName)((0,P.getPrefix)(this.client.stackClient.uri),e);return this.pouches.getPouch(t)}},{key:"supportsOperation",value:function(e){if(this.options.readOnly&&e.mutationType)return!1;var t=(0,h.getDoctypeFromOperation)(e);return(!e.mutationType||!this.doctypesReplicationOptions||!this.doctypesReplicationOptions[t]||"fromRemote"!==this.doctypesReplicationOptions[t].strategy)&&!!this.getPouch(t)}},{key:"request",value:(w=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:null,a=c.length>3&&void 0!==c[3]?c[3]:F,!(null!=n&&n.forceStack)){e.next=4;break}return e.abrupt("return",a(t,n));case 4:if(i=(0,h.getDoctypeFromOperation)(t),this.pouches){e.next=8;break}return e.abrupt("return",a(t,n));case 8:if("not_synced"!==this.pouches.getSyncStatus(i)){e.next=11;break}return e.abrupt("return",a(t,n));case 11:return e.next=13,this.needsToWaitWarmup(i);case 13:if(!e.sent){e.next=16;break}return e.abrupt("return",a(t,n));case 16:if(this.supportsOperation(t)){e.next=19;break}return e.abrupt("return",a(t,n));case 19:if(!t.mutationType){e.next=23;break}return e.abrupt("return",this.executeMutation(t,n,r,a));case 23:return e.abrupt("return",this.executeQuery(t));case 24:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"getChanges",value:(j=(0,c.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return r=this.getPouch(t),e.abrupt("return",r.changes(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return j.apply(this,arguments)})},{key:"getDbInfo",value:(L=(0,c.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n=this.getPouch(t),e.abrupt("return",n.info());case 4:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"persistCozyData",value:(B=(0,c.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.length>1&&void 0!==u[1]&&u[1],n=this.performanceApi.mark("persistCozyData"),r=(0,x.sanitizeJsonApi)(t),e.prev=3,r.cozyLocalOnly=!0,(a=this.getQueryEngineFromDoctype(t._type)).db){e.next=9;break}return E.default.warn("".concat(t._id," is not persisted: no database found for doctype: ").concat(t._type)),e.abrupt("return",null);case 9:return i=this.getPouch(t._type),e.next=12,(0,T.getExistingDocument)(a,r._id);case 12:if(!(!(null!=(c=e.sent)&&c.data)||Object.keys(null==c?void 0:c.data).length<1)){e.next=15;break}return e.abrupt("return",i.put(r));case 15:if(s=(0,x.sanitizeJsonApi)(c.data),!(0,T.areDocsEqual)(s,r)){e.next=18;break}return e.abrupt("return");case 18:return r._rev=s._rev,e.next=21,i.put(r);case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(3),E.default.error("PersistCozyData failed: with ".concat(e.t0)),e.abrupt("return",null);case 27:this.performanceApi.measure({markName:n,category:"CozyPouchLink"});case 28:case"end":return e.stop()}},e,this,[[3,23]])})),function(e){return B.apply(this,arguments)})},{key:"needsToWaitWarmup",value:(U=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.doctypesReplicationOptions&&this.doctypesReplicationOptions[t]&&this.doctypesReplicationOptions[t].warmupQueries)){e.next=4;break}return e.next=3,this.pouches.areQueriesWarmedUp(t,this.doctypesReplicationOptions[t].warmupQueries);case 3:return e.abrupt("return",!e.sent);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"hasIndex",value:function(e){return!!this.indexes[e]}},{key:"executeQuery",value:(V=(0,c.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f,p,h,m,v,y,g;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.doctype,r=t.selector,a=t.sort,c=t.fields,s=t.limit,u=t.id,l=t.ids,d=t.skip,f=t.indexedFields,p=t.partialFilter,h=t.sharingId,m=this.getQueryEngineFromDoctype(n),!u){e.next=8;break}return e.next=5,m.getById(u);case 5:case 11:case 17:v=e.sent,e.next=25;break;case 8:if(!l){e.next=14;break}return e.next=11,m.getByIds(l);case 14:if(!(!r&&!p&&!c&&!a)){e.next=20;break}return e.next=17,m.allDocs({include_docs:!0,limit:s});case 20:return y=k.default.normalizeFindSelector({selector:r,sort:a,indexedFields:f,partialFilter:p,doctype:n,sharingId:h}),g={sort:a,selector:y,fields:c?[].concat((0,i.default)(c),["_id","_rev"]):void 0,limit:s,skip:d,doctype:n},e.next=24,m.find(g);case 24:v=e.sent;case 25:if(v){e.next=27;break}return e.abrupt("return",{data:[]});case 27:return e.abrupt("return",v);case 28:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"executeMutation",value:(H=(0,c.default)(o.default.mark(function e(t,n,r,a){var i,c,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=this.performanceApi.mark("executeMutation"),e.t0=t.mutationType,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.CREATE_DOCUMENTS?8:e.t0===h.MutationTypes.UPDATE_DOCUMENT?12:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?16:e.t0===h.MutationTypes.DELETE_DOCUMENT?20:e.t0===h.MutationTypes.DELETE_DOCUMENTS?24:e.t0===h.MutationTypes.ADD_REFERENCES_TO?28:32;break;case 4:return e.next=6,this.createDocument(t);case 6:case 10:case 14:case 18:case 22:case 26:case 30:return c=e.sent,e.abrupt("break",33);case 8:return e.next=10,this.createDocuments(t);case 12:return e.next=14,this.updateDocument(t);case 16:return e.next=18,this.updateDocuments(t);case 20:return e.next=22,this.deleteDocument(t);case 24:return e.next=26,this.deleteDocuments(t);case 28:return e.next=30,this.addReferencesTo(t);case 32:return e.abrupt("return",a(t,n,r));case 33:return s=x.fromPouchResult({res:c,withRows:!1,doctype:(0,h.getDoctypeFromOperation)(t),client:this.client}),this.performanceApi.measure({markName:i,category:"CozyPouchLink"}),e.abrupt("return",s);case 36:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return H.apply(this,arguments)})},{key:"createDocument",value:(q=(0,c.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("post",t);case 2:return n=e.sent,e.abrupt("return",I(t.document,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return q.apply(this,arguments)})},{key:"createDocuments",value:(W=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.bulkMutation(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"updateDocument",value:(G=(0,c.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("put",t);case 2:return n=e.sent,e.abrupt("return",I(t.document,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"updateDocuments",value:(Z=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.bulkMutation(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"deleteDocument",value:(K=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("remove",t);case 2:return n=e.sent,r=M(M({},t.document),{},{_id:n.id,_rev:n.rev,_deleted:!0}),e.abrupt("return",I(r,n));case 5:case"end":return e.stop()}},e,this)})),function(e){return K.apply(this,arguments)})},{key:"deleteDocuments",value:(Q=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.documents.map(function(e){return M(M({},e),{},{_deleted:!0})}),r=M(M({},t),{},{documents:n}),e.abrupt("return",this.bulkMutation(r));case 3:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"bulkMutation",value:(Y=(0,c.default)(o.default.mark(function e(t){var n,r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.documents,e.next=3,this.dbMethod("bulkDocs",t);case 3:if(r=e.sent,a=(0,g.default)(r,n,function(e,t){return M(M({},t),{},{_id:e.id,_rev:e.rev})}),!r.find(function(e){return!e.ok})){e.next=7;break}throw new h.BulkEditError(r,a);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e){return Y.apply(this,arguments)})},{key:"addReferencesTo",value:(J=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("addReferencesTo is not implemented in CozyPouchLink");case 1:case"end":return e.stop()}},e)})),function(e){return J.apply(this,arguments)})},{key:"dbMethod",value:($=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.performanceApi.mark("dbMethod ".concat(t)),a=(0,h.getDoctypeFromOperation)(n),i=n.document,c=n.documents,s=this.getPouch(a),e.prev=4,!c){e.next=11;break}return e.next=8,s[t](c.map(function(e){return(0,x.sanitized)(e)}));case 8:case 14:u=e.sent,e.next=18;break;case 11:if(!i){e.next=17;break}return e.next=14,s[t]((0,x.sanitized)(i));case 17:throw Error("A mutation should either have document or documents member.");case 18:return this.performanceApi.measure({markName:r,category:"PouchDB"}),e.abrupt("return",u);case 22:throw e.prev=22,e.t0=e.catch(4),this.performanceApi.measure({markName:r,measureName:"".concat(r," error"),category:"PouchDB",color:"error"}),Error("Coud not apply mutation: ".concat(e.t0.message));case 26:case"end":return e.stop()}},e,this,[[4,22]])})),function(e,t){return $.apply(this,arguments)})},{key:"syncImmediately",value:(X=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pouches){e.next=3;break}return E.default.warn("Cannot sync immediately, no PouchManager"),e.abrupt("return");case 3:this.pouches.syncImmediately();case 4:case"end":return e.stop()}},e,this)})),function(){return X.apply(this,arguments)})}]),et}(h.CozyLink);(0,p.default)(L,"getPouchAdapterName",function(e){return new _.PouchLocalStorage(e||S.platformWeb.storage).getAdapterName()}),t.default=L},96384:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(44377)),u=r(n(39754)),l=r(n(58156)),d=n(7127),f=n(20522),p=r(n(52008)),h=r(n(17070)),m=n(19227),v=n(70062),y=n(11337),g=n(42697),b=r(n(38540)),w=function(e){return e.options.as};t.default=function(){var e,t,n,r,k,x,O,_,E,C;function S(e,t){var n,r,a,i;(0,o.default)(this,S),this.options=t,this.doctypes=e,this.storage=new f.PouchLocalStorage((null==(n=t.platform)?void 0:n.storage)||m.platformWeb.storage),this.queryEngine=t.queryEngine||b.default,this.client=t.client,this.PouchDB=(null==(r=t.platform)?void 0:r.pouchAdapter)||m.platformWeb.pouchAdapter,this.isOnline=(null==(a=t.platform)?void 0:a.isOnline)||m.platformWeb.isOnline,this.events=(null==(i=t.platform)?void 0:i.events)||m.platformWeb.events,this.dbQueryEngines=new Map}return(0,c.default)(S,[{key:"init",value:(e=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.default)(this.options,"pouch.plugins",[]),(n=(0,l.default)(this.options,"pouch.options",{})).view_update_changes_batch_size||(n.view_update_changes_batch_size=1e3),(0,u.default)(t,function(e){return o.PouchDB.plugin(e)}),this.pouches=(0,s.default)(this.doctypes.map(function(e){return[(0,y.getDatabaseName)(o.options.prefix,e),new o.PouchDB((0,y.getDatabaseName)(o.options.prefix,e),n)]})),(r=Object.keys(this.pouches)).forEach(function(e){var t=(0,y.getDoctypeFromDatabaseName)(e);o.setQueryEngine(e,t)}),i=r.map(function(e){return"_pouch_".concat(e)}),e.next=10,this.storage.persistDatabasesNames(i);case 10:return e.next=12,this.storage.getPersistedSyncedDoctypes();case 12:return this.syncedDoctypes=e.sent,e.next=15,this.storage.getPersistedWarmedUpQueries();case 15:this.warmedUpQueries=e.sent,this.getReplicationURL=this.options.getReplicationURL,this.doctypesReplicationOptions=this.options.doctypesReplicationOptions||{},this.listenerLaunched=!1,this.ensureDatabasesExistDone=!1,this.startReplicationLoop=this.startReplicationLoop.bind(this),this.stopReplicationLoop=this.stopReplicationLoop.bind(this),this.replicateOnce=this.replicateOnce.bind(this),this.executeQuery=this.options.executeQuery,this.replications=void 0,(0,g.destroyOldDatabases)();case 26:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"addListeners",value:function(){this.listenerLaunched||((0,d.isMobileApp)()&&(this.events.addEventListener("pause",this.stopReplicationLoop),this.events.addEventListener("resume",this.startReplicationLoop)),this.events.addEventListener("online",this.startReplicationLoop),this.events.addEventListener("offline",this.stopReplicationLoop),this.listenerLaunched=!0)}},{key:"removeListeners",value:function(){this.listenerLaunched&&((0,d.isMobileApp)()&&(this.events.removeEventListener("pause",this.stopReplicationLoop),this.events.removeEventListener("resume",this.startReplicationLoop)),this.events.removeEventListener("online",this.startReplicationLoop),this.events.removeEventListener("offline",this.stopReplicationLoop),this.listenerLaunched=!1)}},{key:"destroy",value:(t=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopReplicationLoop(),this.removeListeners(),e.next=4,this.clearSyncedDoctypes();case 4:return e.next=6,this.clearWarmedUpQueries();case 6:return e.next=8,this.storage.destroy();case 8:return e.abrupt("return",(0,y.allSettled)(Object.values(this.pouches).map(function(e){return e.destroy()})));case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"ensureDatabasesExist",value:(n=(0,i.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ensureDatabasesExistDone){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",Promise.all(Object.values(this.pouches).map(function(e){return e.info()})).then(function(){h.default.info("PouchManager: ensure databases exist done"),t.ensureDatabasesExistDone=!0}));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"startReplicationLoop",value:(r=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureDatabasesExist();case 2:if(!this.replicationLoop){e.next=5;break}return h.default.warn("Replication loop already started"),e.abrupt("return");case 5:return t=this.options.replicationDelay||3e4,this.replicationLoop=new p.default(this.replicateOnce,t),this.replicationLoop.start(),this.addListeners(),e.abrupt("return",this.replicationLoop);case 11:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"stopReplicationLoop",value:function(){this.replicationLoop&&(h.default.info("PouchManager: Stop replication loop"),this.replicationLoop.stop(),this.replicationLoop=null)}},{key:"syncImmediately",value:function(){this.replicationLoop?this.replicationLoop.scheduleImmediateTask():h.default.warn("No replication loop, cannot syncImmediately")}},{key:"replicateOnce",value:(k=(0,i.default)(a.default.mark(function e(){var t,n=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0===(t=(n.length>0&&void 0!==n[0]?n[0]:{}).waitForReplications)||t)){e.next=4;break}return e.next=4,this.waitForCurrentReplications();case 4:return e.abrupt("return",(0,v.replicateOnce)(this));case 5:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"handleReplicationError",value:function(e){var t="";e instanceof AggregateError&&(t=(0,y.formatAggregatedError)(e)),h.default.warn("PouchManager: Error during replication - ".concat(e.message).concat(t)),this.stopReplicationLoop(),this.options.onError&&this.options.onError(e)}},{key:"cancelCurrentReplications",value:function(){this.replications?Object.values(this.replications).forEach(function(e){return e.cancel&&e.cancel()}):h.default.warn("PouchManager: No current replications")}},{key:"waitForCurrentReplications",value:function(){return this.replications?(0,y.allSettled)(Object.values(this.replications)):Promise.resolve()}},{key:"getPouch",value:function(e){return this.pouches[e]}},{key:"setQueryEngine",value:function(e,t){var n=new this.queryEngine(this,t);return n.openDB(e),this.dbQueryEngines.set(e,n),n}},{key:"getQueryEngine",value:function(e,t){var n=this.dbQueryEngines.get(e);return n||(n=this.setQueryEngine(e,t)),n}},{key:"updateSyncInfo",value:(x=(0,i.default)(a.default.mark(function e(t){var n,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"synced",this.syncedDoctypes[t]={date:new Date().toISOString(),status:n},e.next=4,this.storage.persistSyncedDoctypes(this.syncedDoctypes);case 4:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"getSyncInfo",value:function(e){return this.syncedDoctypes&&this.syncedDoctypes[e]}},{key:"getSyncStatus",value:function(e){var t=this.getSyncInfo(e);return(null==t?void 0:t.status)||"not_synced"}},{key:"clearSyncedDoctypes",value:(O=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.syncedDoctypes={},e.next=3,this.storage.destroySyncedDoctypes();case 3:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"warmupQueries",value:(_=(0,i.default)(a.default.mark(function e(t,n){var r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.warmedUpQueries[t]||(this.warmedUpQueries[t]=[]),e.prev=1,e.next=4,Promise.all(n.map(function(){var e=(0,i.default)(a.default.mark(function e(n){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w(n),r.warmedUpQueries[t].includes(i)){e.next=5;break}return e.next=4,r.executeQuery(n.definition().toDefinition());case 4:r.warmedUpQueries[t].push(i);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,this.storage.persistWarmedUpQueries(this.warmedUpQueries);case 6:h.default.log("PouchManager: warmupQueries for "+t+" are done"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),h.default.error("PouchManager: Could not warm up queries for "+t,e.t0),delete this.warmedUpQueries[t];case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e,t){return _.apply(this,arguments)})},{key:"checkToWarmupDoctype",value:function(e,t){!this.warmedUpQueries[e]&&t.warmupQueries&&this.warmupQueries(e,t.warmupQueries)}},{key:"areQueriesWarmedUp",value:(E=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getPersistedWarmedUpQueries();case 2:return r=e.sent,e.abrupt("return",n.every(function(e){return r[t]&&r[t].includes(w(e))}));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"clearWarmedUpQueries",value:(C=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.warmedUpQueries={},e.next=3,this.storage.destroyWarmedUpQueries();case 3:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})}]),S}()},29550:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));t.default=function(){var e,t,n,r;function s(){(0,o.default)(this,s)}return(0,c.default)(s,[{key:"openDB",value:function(e){throw Error("method non implemented")}},{key:"find",value:(e=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("method not implemented");case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})},{key:"allDocs",value:(t=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("method not implemented");case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"getById",value:(n=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("method not implemented");case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"getByIds",value:(r=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("method not implemented");case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})}]),s}()},78678:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getCozyPouchData=t.areDocsEqual=t.getExistingDocument=void 0;var o=i(n(92207)),c=i(n(79092)),s=i(n(32017));i(n(29550)),r=(0,c.default)(o.default.mark(function e(t,n){var r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.prev=1,e.next=4,t.getById(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!("not_found"===e.t0.name&&!r)){e.next=14;break}return e.abrupt("return",null);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[1,8]])})),t.getExistingDocument=function(e,t){return r.apply(this,arguments)},a=(0,c.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n._rev=void 0,t._rev=void 0,!(0,s.default)(t,n)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e)})),t.areDocsEqual=function(e,t){return a.apply(this,arguments)},t.getCozyPouchData=function(e){return e.cozyPouchData}},65026:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getDocs=t.getDocsAndNormalize=void 0;var o=i(n(21259)),c=i(n(26396)),s=i(n(92207)),u=i(n(79092)),l=n(55713),d=i(n(35405)),f=n(33618);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=d.default.isAdapterBugged,v=d.default.LIMIT_BUG;r=(0,u.default)(s.default.mark(function e(t){var n,r,a,i,o,c,u,d,p,h;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.doctype,a=t.db,i=t.queryFunc,c=void 0===(o=t.queryParams)?{}:o,d=void 0===(u=t.withRows)||u,e.prev=1,e.next=4,y(a,i,c);case 4:p=e.sent,e.next=14;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(0,l.isDocumentNotFoundPouchDBError)(e.t0)){e.next=13;break}p=[],e.next=14;break;case 13:throw e.t0;case 14:return h=(0,f.fromPouchResult)({res:p,withRows:d,doctype:r,client:n}),e.abrupt("return",h);case 16:case"end":return e.stop()}},e,null,[[1,7]])})),t.getDocsAndNormalize=function(e){return r.apply(this,arguments)};var y=(a=(0,u.default)(s.default.mark(function e(t,n){var r,a,i,u,l,d=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=d.length>2&&void 0!==d[2]?d[2]:{}).limit&&delete r.limit,a=r.limit,i="allDocs"===n?"rows":"docs",m(t.adapter)&&(void 0===a||a>v)&&(r.limit=v,r.skip=r.skip||0),"get"!==n){e.next=9;break}if(r.id){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",t.get(r.id));case 9:return e.next=11,t[n](r);case 11:if((u=e.sent)[i].length!==r.limit||(r.skip=(r.skip?r.skip:0)+r.limit,r.limit=a?a-r.limit:void 0,!(r.limit>0||void 0===r.limit))){e.next=20;break}return e.next=18,y(t,n,r);case 18:return l=e.sent,e.abrupt("return",h(h({},u),{},(0,c.default)({},i,[].concat((0,o.default)(u[i]),(0,o.default)(l[i])))));case 20:return r.keys&&(u.total_rows=u.rows.length),e.abrupt("return",u);case 22:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.getDocs=y},38540:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=n(16334),p=r(n(29550)),h=n(55713),m=n(65026);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){(0,u.default)(g,e);var t,n,r,i,p,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(g);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function g(e,t){var n;return(0,c.default)(this,g),(n=v.call(this)).pouchManager=e,n.client=null==e?void 0:e.client,n.doctype=t,n.db=null,n}return(0,s.default)(g,[{key:"openDB",value:function(e){return this.db=this.pouchManager.getPouch(e),this.db}},{key:"allDocs",value:(n=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.getDocsAndNormalize)({client:this.client,db:this.db,doctype:this.doctype,queryFunc:"allDocs",queryParams:y({include_docs:!0},t)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getById",value:(r=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.getDocsAndNormalize)({client:this.client,db:this.db,doctype:this.doctype,queryFunc:"get",queryParams:{id:t},withRows:!1}));case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getByIds",value:(i=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.getDocsAndNormalize)({client:this.client,db:this.db,doctype:this.doctype,queryFunc:"allDocs",queryParams:{include_docs:!0,keys:t}}));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"find",value:(p=(0,o.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.selector,r=t.sort,i=t.partialFilter,o=t.doctype,c=t.indexedFields,c=(0,f.getIndexFields)({indexedFields:c,selector:n,sort:r,partialFilter:i}),s=(0,f.getIndexName)({selector:n,sort:r,partialFilter:i,indexedFields:c}),(u=y({selector:n,sort:r,partialFilter:i,doctype:o,use_index:s},t)).indexedFields=c,e.prev=6,e.next=9,(0,m.getDocsAndNormalize)({client:this.client,db:this.db,doctype:this.doctype,queryFunc:"find",queryParams:u});case 9:case 19:l=e.sent,e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(6),!(0,h.isMissingPouchDBIndexError)(e.t0)){e.next=22;break}return e.next=17,(0,f.createIndex)(this.db,c,{indexName:s,doctype:o,partialFilter:i});case 17:return e.next=19,(0,m.getDocsAndNormalize)({client:this.client,db:this.db,doctype:this.doctype,queryFunc:"find",queryParams:u});case 22:throw e.t0;case 23:return e.abrupt("return",l);case 24:case"end":return e.stop()}},e,this,[[6,12]])})),function(e){return p.apply(this,arguments)})}]),g}(p.default)},32488:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(56994)),o=r(n(65611)),c=r(n(18337));t.default=function(e){(0,i.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(r);return e=t?Reflect.construct(n,arguments,(0,c.default)(this).constructor):n.apply(this,arguments),(0,o.default)(this,e)});function r(e,t){throw(0,a.default)(this,r),n.call(this),Error("SQLiteQueryEngine is not implemented for non-native environments")}return r}(r(n(29550)).default)},55713:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDocumentNotFoundPouchDBError=t.isMissingPouchDBIndexError=t.isMissingSQLiteIndexError=t.isExpiredTokenError=void 0;var n=/Expired token/,r=/Invalid JWT token/,a=/Invalid token/,i=/no such index/,o=/Could not find that index/,c=/no index/,s=/not_found/,u=function(e){var t=e.message,i=e.name;return n.test(t)||n.test(i)||r.test(t)||r.test(i)||a.test(t)||a.test(i)};t.isExpiredTokenError=function(e){return e instanceof AggregateError?e.errors.some(function(e){return u(e)}):u(e)},t.isMissingSQLiteIndexError=function(e){return i.test(e.message)},t.isMissingPouchDBIndexError=function(e){return o.test(e.message)||c.test(e.message)},t.isDocumentNotFoundPouchDBError=function(e){return s.test(e.name)}},9151:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.queryFileById=t.TYPE_FILE=t.TYPE_DIRECTORY=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(52970),s=c.fetchPolicies.olderThan(3e5);t.TYPE_DIRECTORY="directory",t.TYPE_FILE="file",r=(0,o.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={as:"io.cozy.files/".concat(n),fetchPolicy:s,singleDocData:!0},e.abrupt("return",t.query((0,c.Q)("io.cozy.files").getById(n),r));case 2:case"end":return e.stop()}},e)})),t.queryFileById=function(e,t){return r.apply(this,arguments)}},35405:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LIMIT_BUG=void 0;var i=a(n(26396)),o=a(n(92207)),c=a(n(79092)),s=a(n(55364)),u=a(n(22331)),l=a(n(17070));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h={};t.LIMIT_BUG=999;var m=["websql"];h.isAdapterBugged=function(e){return m.includes(e)},h.isDesignDocument=function(e){return(0,u.default)(e._id,"_design")},h.isDeletedDocument=function(e){return e._deleted},r=(0,c.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.bulkDocs(n,{new_edits:!1}));case 1:case"end":return e.stop()}},e)})),h.insertBulkDocs=function(e,t){return r.apply(this,arguments)},h.normalizeFindSelector=function(e){var t=e.selector,n=e.sort,r=e.indexedFields,a=e.partialFilter,o=e.doctype,c=e.sharingId,u=t||{};if(r){var p,h=f(r);try{for(h.s();!(p=h.n()).done;){var m=p.value;if(!Object.keys(u).includes(m)){var v=JSON.stringify(t);l.default.warn("".concat(m," was missing in selector, it has been automatically added from indexed fields. Please consider adding this field to your query's selector as required by PouchDB. The query's selector is: ").concat(v)),u[m]={$gt:null}}}}catch(e){h.e(e)}finally{h.f()}}if(n){var y,g=f(n.flatMap(function(e){return Object.keys(e)}));try{for(g.s();!(y=g.n()).done;){var b=y.value;if(!Object.keys(u).includes(b)){var w=JSON.stringify(t);l.default.warn("".concat(b," was missing in selector, it has been automatically added from sorted fields. Please consider adding this field to your query's selector as required by PouchDB. The query's selector is: ").concat(w)),u[b]={$gt:null}}}}catch(e){g.e(e)}finally{g.f()}}c&&"io.cozy.files"===o&&(u.driveId=c);var k=a?(0,s.default)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u),a):u;return Object.keys(k).length>0?k:{_id:{$gt:null}}},t.default=h},65968:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"SQLiteQuery",{enumerable:!0,get:function(){return i.default}});var a=r(n(80422)),i=r(n(32488))},33618:function(e,t,n){"use strict";var r,a=n(58784),i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeJsonApi=t.sanitized=t.fromPouchResult=t.computeFileFullpath=t.normalizeDoc=t.normalizeDocs=t.resetAllPaths=t.getFilePath=void 0;var o=i(n(92207)),c=i(n(79092)),s=i(n(26396)),u=a(n(52970)),l=i(n(90179)),d=i(n(22331)),f=n(78678),p=n(9151),h=i(n(17070));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=new Map,g=function(e){return e?y.get(e):void 0};t.getFilePath=g;var b=function(e,t){y.set(e,t)};t.resetAllPaths=function(){y.clear()};var w=function(e,t,n){for(var r=n.length;r>=0;r--){var a=n[r];if(!a||(0,d.default)(a._id,"_design/")){n.splice(r,1);continue}k(e,t,a)}};t.normalizeDocs=w;var k=function(e,t,n){var r=n._id||n.id;n.id=r,n._id=r,n._rev=n._rev||n.rev,n._type=t,n.referenced_by&&(n.relationships=v(v({},n.relationships),{},{referenced_by:{links:void 0,data:n.referenced_by}})),n.rev&&(n.rev=void 0),"io.cozy.apps"===t&&x(e,t,n),"io.cozy.files"===t&&_(e,n)};t.normalizeDoc=k;var x=function(e,t,n){if("io.cozy.apps"===t){var r=(0,u.generateWebLink)({cozyUrl:e.getStackClient().uri,slug:n.slug,subDomainType:e.capabilities.flat_subdomains?"flat":"nested",pathname:"",hash:"",searchParams:[]});n.links={self:"/apps/".concat(n.slug),related:r,icon:"/apps/".concat(n.slug,"/icon/").concat(n.version)}}},O=function(e,t){return"/"===e.substr(-1)?"".concat(e).concat(t):"".concat(e,"/").concat(t)},_=(r=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.type!==p.TYPE_DIRECTORY){e.next=2;break}return e.abrupt("return",n);case 2:if(!n.path){e.next=10;break}if(!(null!=(r=n.path)&&r.includes(n.name))){e.next=6;break}return b(n._id,n.path),e.abrupt("return",n);case 6:return a=O(n.path,n.name),b(n._id,a),n.path=a,e.abrupt("return",n);case 10:if(i=g(n._id),!((c=g(n.dir_id))&&i)){e.next=17;break}return i!==(s=O(c,n.name))&&b(n._id,s),n.path=s,e.abrupt("return",n);case 17:if(!c){e.next=22;break}return u=O(c,n.name),b(n._id,u),n.path=u,e.abrupt("return",n);case 22:if(n.dir_id){e.next=25;break}return h.default.warn("Missing dir_id for file ".concat(n._id)),e.abrupt("return",n);case 25:return e.next=27,(0,p.queryFileById)(t,n.dir_id);case 27:return null!=(l=e.sent.data)&&l.path&&(d=O(l.path,n.name),n.path=d,b(n.dir_id,l.path),b(n._id,d)),e.abrupt("return",n);case 31:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});t.computeFileFullpath=_,t.fromPouchResult=function(e){var t=e.res,n=e.withRows,r=e.doctype,a=e.client;if(!t)return null;var i=(0,f.getCozyPouchData)(t);if(i)return{data:i};if(!n)return Array.isArray(t)?w(a,r,t):k(a,r,t),{data:t};var o=t.rows?t.rows.map(function(e){return e.doc}):t.docs,c=t.offset||0,s=c+o.length<t.total_rows||o.length>=t.limit;return w(a,r,o),{data:o,meta:{count:o.length},skip:c,next:s}};var E=function(e){return(0,l.default)(e,"_type")};t.sanitized=E,t.sanitizeJsonApi=function(e){var t=E(e);return(0,l.default)(t,["attributes","meta"])}},20522:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.PouchLocalStorage=t.LOCALSTORAGE_STORAGE_KEYS=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s={SYNCED:"cozy-client-pouch-link-synced",WARMUPEDQUERIES:"cozy-client-pouch-link-warmupedqueries",LASTSEQUENCES:"cozy-client-pouch-link-lastreplicationsequence",LASTREPLICATEDDOCID:"cozy-client-pouch-link-lastreplicateddocid",ADAPTERNAME:"cozy-client-pouch-link-adaptername",DB_NAMES:"cozy-client-pouch-link-db-names"};t.LOCALSTORAGE_STORAGE_KEYS=s,t.PouchLocalStorage=function(){var e,t,n,r,l,d,f,p,h,m,v,y,g,b,w,k,x,O,_;function E(e){(0,o.default)(this,E),u(e),this.storageEngine=e}return(0,c.default)(E,[{key:"destroy",value:(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storageEngine.destroy();case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"persistDatabasesNames",value:(t=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(s.DB_NAMES,JSON.stringify(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"persistLastReplicatedDocID",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastReplicatedDocID();case 2:return(r=e.sent)[t]=n,e.next=6,this.storageEngine.setItem(s.LASTREPLICATEDDOCID,JSON.stringify(r));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getAllLastReplicatedDocID",value:(r=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(s.LASTREPLICATEDDOCID);case 2:return t=e.sent,e.abrupt("return",t?JSON.parse(t):{});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getLastReplicatedDocID",value:(l=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastReplicatedDocID();case 2:return n=e.sent,e.abrupt("return",n[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"destroyAllLastReplicatedDocID",value:(d=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(s.LASTREPLICATEDDOCID);case 2:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"persistSyncedDoctypes",value:(f=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(s.SYNCED,JSON.stringify(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"getPersistedSyncedDoctypes",value:(p=(0,i.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(s.SYNCED);case 2:if("object"==typeof(n=(t=e.sent)?JSON.parse(t):{})){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"destroySyncedDoctypes",value:(h=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(s.SYNCED);case 2:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"persistDoctypeLastSequence",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return(r=e.sent)[t]=n,e.next=6,this.storageEngine.setItem(s.LASTSEQUENCES,JSON.stringify(r));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"getAllLastSequences",value:(v=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(s.LASTSEQUENCES);case 2:return t=e.sent,e.abrupt("return",t?JSON.parse(t):{});case 4:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getDoctypeLastSequence",value:(y=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return n=e.sent,e.abrupt("return",n[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"destroyAllDoctypeLastSequence",value:(g=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(s.LASTSEQUENCES);case 2:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"destroyDoctypeLastSequence",value:(b=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return n=e.sent,delete n[t],e.next=6,this.storageEngine.setItem(s.LASTSEQUENCES,JSON.stringify(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"persistWarmedUpQueries",value:(w=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(s.WARMUPEDQUERIES,JSON.stringify(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"getPersistedWarmedUpQueries",value:(k=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(s.WARMUPEDQUERIES);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{});case 5:return e.abrupt("return",JSON.parse(t));case 6:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"destroyWarmedUpQueries",value:(x=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(s.WARMUPEDQUERIES);case 2:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getAdapterName",value:(O=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(s.ADAPTERNAME);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"persistAdapterName",value:(_=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(s.ADAPTERNAME,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})}]),E}();var u=function(e){var t=["setItem","getItem","removeItem"].filter(function(t){return!e[t]});if(t.length>0){var n=t.join(", ");throw Error("Provided storageEngine is missing the following methods: ".concat(n))}}},17070:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i=(0,a.default)("cozy-pouch-link");a.default.suggest.deny("cozy-pouch-link","info"),t.default=i},52008:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(17070)),u=function(e){return new Promise(function(t){return setTimeout(t,e)})};t.default=function(){var e,t,n,r,l;function d(e,t,n,r){(0,o.default)(this,d),this.task=e,this.delay=t,this.round=this.round.bind(this),this.immediateTasks=[],this.started=!1,this.afterRound=n,this.sleep=r||u}return(0,c.default)(d,[{key:"start",value:function(){this.started||(this.round(),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.currentTask&&this.currentTask.cancel&&this.currentTask.cancel(),clearTimeout(this.timeout),this.clearImmediateTasks(),this.started=!1)}},{key:"waitForCurrent",value:(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentTask;case 2:return e.abrupt("return");case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"runImmediateTasks",value:(t=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.immediateTasks.length>0)){e.next=6;break}return t=this.immediateTasks.shift(),e.next=4,this.runTask(t);case 4:e.next=0;break;case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"scheduleImmediateTask",value:(n=(0,i.default)(a.default.mark(function e(){var t,n=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,this.started){e.next=4;break}return s.default.warn("Cannot schedule immediate task, loop is not started"),e.abrupt("return");case 4:this.immediateTasks.push(t||this.task),this.currentTask||(clearTimeout(this.timeout),this.round());case 6:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"clearImmediateTasks",value:function(){this.immediateTasks.splice(0,this.runImmediateTasks.length)}},{key:"runTask",value:(r=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.currentTask=t(),e.next=4,this.currentTask;case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),this.stop(),s.default.warn("Could not runTask, stopped the loop",e.t0),e.t0;case 11:return e.prev=11,this.currentTask=null,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,6,11,14]])})),function(e){return r.apply(this,arguments)})},{key:"round",value:(l=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._rounding){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,this._rounding=!0,!(this.immediateTasks.length>0)){e.next=9;break}return e.next=7,this.runImmediateTasks();case 7:return e.next=9,this.sleep(this.delay);case 9:return e.next=11,this.runTask(this.task);case 11:this.started&&(this.timeout=setTimeout(this.round,this.delay));case 12:return e.prev=12,this._rounding=!1,this.afterRound&&this.afterRound(),e.finish(12);case 16:case"end":return e.stop()}},e,this,[[2,,12,16]])})),function(){return l.apply(this,arguments)})}]),d}()},16334:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexName=t.getIndexFields=t.findExistingIndex=t.createIndex=t.getIndexFieldsFromFind=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(21259)),s=a(n(22056)),u=a(n(912)),l={},d=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var n=(0,s.default)(t,2),r=n[0],a=n[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(r,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(r,"_(")),")"):"object"==typeof a?"".concat(r,"_").concat(e(a)):"".concat(r,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=d;var f=function(e,t){var n="by_".concat(e.join("_and_"));return t?"".concat(n,"_filter_(").concat(d(t),")"):n};t.getIndexNameFromFields=f;var p={_id:{$gt:null}},h=function(e){var t=e.selector,n=void 0===t?p:t,r=e.sort,a=e.partialFilter;return Array.from(new Set([].concat((0,c.default)((void 0===r?[]:r).map(function(e){return(0,u.default)(Object.keys(e))})),(0,c.default)(n?Object.keys(n):[]),(0,c.default)(a?Object.keys(a):[]))))};t.getIndexFieldsFromFind=h,r=(0,o.default)(i.default.mark(function e(t,n){var r,a,o,c,s,u,d=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=d.length>2&&void 0!==d[2]?d[2]:{}).partialFilter,o=r.indexName,c=r.doctype,s="".concat(c,"/").concat(o),e.next=4,t.createIndex({index:{fields:n,ddoc:o,indexName:o,partial_filter_selector:a}});case 4:return u=e.sent,l[s]=u,e.abrupt("return",u);case 7:case"end":return e.stop()}},e)})),t.createIndex=function(e,t){return r.apply(this,arguments)},t.findExistingIndex=function(e,t,n){return l["".concat(e,"/").concat(n)]},t.getIndexFields=function(e){var t=e.selector,n=e.sort,r=e.partialFilter,a=e.indexedFields,i=a;return a?r&&(i=Array.from(new Set([].concat((0,c.default)(a),(0,c.default)(Object.keys(r))))),i=a.filter(function(e){return"$and"!==e&&"$or"!==e})):i=h({selector:t,sort:n,partialFilter:r}),i},t.getIndexName=function(e){var t=e.selector,n=e.sort,r=e.indexedFields,a=e.partialFilter,i=r;return r?a&&(i=Array.from(new Set([].concat((0,c.default)(r),(0,c.default)(Object.keys(a))))),i=r.filter(function(e){return"$and"!==e&&"$or"!==e})):i=h({selector:t,sort:n,partialFilter:a}),f(i,a)}},40755:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.migratePouch=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(85099));r=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dbName,r=t.fromAdapter,a=t.toAdapter,o=new c.default(n,{adapter:r,location:"default"}),s="".concat(n,"_indexeddb"),u=new c.default(s,{adapter:a,location:"default"}),e.next=6,o.replicate.to(u,{batch_size:1e3});case 6:return e.next=8,o.destroy();case 8:return o=null,e.abrupt("return",u);case 10:case"end":return e.stop()}},e)})),t.migratePouch=function(e){return r.apply(this,arguments)}},42697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroyOldDatabases=void 0;var r=n(11337);t.destroyOldDatabases=function(e,t,n){t&&t.forEach(function(t){var a=new e((0,r.getOldDatabaseName)(n,t),{skip_setup:!0});a&&a.info&&a.info().then(function(){a.destroy()}).catch(function(e){})})}},19227:function(e,t,n){"use strict";var r,a,i,o,c,s=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.platformWeb=void 0;var u=s(n(92207)),l=s(n(79092)),d=s(n(85099)),f=n(20522),p=(r=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.getItem(t));case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),h=(a=(0,l.default)(u.default.mark(function e(t,n){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.setItem(t,n));case 1:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),m=(i=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.removeItem(t));case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),v=(o=(0,l.default)(u.default.mark(function e(){var t,n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.values(f.LOCALSTORAGE_STORAGE_KEYS);case 1:if(!(t<n.length)){e.next=8;break}return r=n[t],e.next=5,m(r);case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)}),y=(c=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.navigator.onLine);case 1:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)});t.platformWeb={storage:{getItem:p,setItem:h,removeItem:m,destroy:v},events:{addEventListener:function(e,t){document.addEventListener(e,t)},removeEventListener:function(e,t){document.removeEventListener(e,t)}},pouchAdapter:d.default,isOnline:y}},86096:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRemoteLastSequence=t.fetchRemoteInstance=t.isDatabaseUnradableError=t.isDatabaseNotFoundError=t.DATABASE_RESERVED_DOCTYPE_ERROR=t.DATABASE_NOT_FOUND_ERROR=void 0;var o=i(n(92207)),c=i(n(79092)),s=i(n(33191)),u="Database does not exist";t.DATABASE_NOT_FOUND_ERROR=u;var l="Reserved doctype";t.DATABASE_RESERVED_DOCTYPE_ERROR=l,t.isDatabaseNotFoundError=function(e){return e.message===u},t.isDatabaseUnradableError=function(e){return e.message===l};var d=(r=(0,c.default)(o.default.mark(function e(t){var n,r,a,i,c,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=new s.default({accessToken:t.password}),Object.keys(n).forEach(function(e){t.searchParams.set(e,n[e])}),a="".concat(t.protocol,"//").concat(t.href.substring(t.href.indexOf("@")+1)),(i=new Headers).append("Accept","application/json"),i.append("Content-Type","application/json"),i.append("Authorization",r.toAuthHeader()),e.next=10,fetch(a,{headers:i,credentials:"include"});case 10:return c=e.sent,e.next=13,c.json();case 13:if(d=e.sent,!c.ok){e.next=16;break}return e.abrupt("return",d);case 16:if(404!==c.status){e.next=18;break}throw Error(u);case 18:if(!(403===c.status&&d.error.includes("message=reserved doctype"))){e.next=20;break}throw Error(l);case 20:throw Error("Error (".concat(c.status,") while fetching remote instance: ").concat(JSON.stringify(d)));case 21:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});t.fetchRemoteInstance=d,a=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(t,"/_changes")),e.next=3,d(n,{limit:1,descending:!0});case 3:return r=e.sent,e.abrupt("return",r.last_seq);case 5:case"end":return e.stop()}},e)})),t.fetchRemoteLastSequence=function(e){return a.apply(this,arguments)}},70062:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.replicateOnce=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(44377)),s=a(n(58156)),u=a(n(55378)),l=a(n(22331)),d=a(n(87992)),f=a(n(17070)),p=n(86096),h=n(9652),m=n(11337);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}r=(0,o.default)(i.default.mark(function e(t){var n,r,a,y,g,b,w,k,x,O,_,E,C,S;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isOnline();case 2:if(e.sent){e.next=5;break}return f.default.info("PouchManager: The device is offline so the replication has been skipped"),e.abrupt("return",Promise.resolve());case 5:return f.default.info("PouchManager: Starting replication iteration"),t.replications=(0,u.default)(t.pouches,function(){var e=(0,o.default)(i.default.mark(function e(n,r){var a,o,c,u,d,v,y,g;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,m.getDoctypeFromDatabaseName)(r),f.default.info("PouchManager: Starting replication for "+a),o=function(){return t.getReplicationURL(a)},c="synced"!==t.getSyncStatus(a),u=function(e){return!(0,l.default)(e._id,"_design")},d="",!c){e.next=14;break}return e.next=9,(0,p.fetchRemoteLastSequence)(o());case 9:return v=e.sent,e.next=12,t.storage.persistDoctypeLastSequence(a,v);case 12:e.next=17;break;case 14:return e.next=16,t.storage.getDoctypeLastSequence(a);case 16:d=e.sent;case 17:return(y=(0,s.default)(t.doctypesReplicationOptions,a,{})).initialReplication=c,y.filter=u,y.since=d,y.doctype=a,t.options.onDoctypeSyncStart&&t.options.onDoctypeSyncStart(a),e.next=25,(0,h.startReplication)(n,y,o,t.storage);case 25:if(g=e.sent,!d){e.next=29;break}return e.next=29,t.storage.destroyDoctypeLastSequence(a);case 29:return e.next=31,t.updateSyncInfo(a);case 31:return t.checkToWarmupDoctype(a,y),t.options.onDoctypeSyncEnd&&t.options.onDoctypeSyncEnd(a),e.abrupt("return",g);case 34:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),n=Object.keys(t.pouches),r=Object.values(t.replications),e.prev=9,e.next=12,(0,m.allSettled)(r);case 12:if(a=e.sent,!t.options.onSync){e.next=51;break}g=(y=(0,d.default)(n,a)).filter(function(e){return"fulfilled"===e[1].status}).map(function(e){return[e[0],e[1].value]}),b=y.filter(function(e){return"rejected"===e[1].status}).map(function(e){return[e[0],e[1].reason]}),w=a.filter(function(e){return"rejected"===e.status&&!(0,p.isDatabaseNotFoundError)(e.reason)&&!(0,p.isDatabaseUnradableError)(e.reason)}),k=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(b.filter(function(e){return(0,p.isDatabaseNotFoundError)(e[1])||(0,p.isDatabaseUnradableError)(e[1])})),e.prev=21,k.s();case 23:if((x=k.n()).done){e.next=30;break}return O=x.value[0],e.next=28,t.updateSyncInfo(O,"not_complete");case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),k.e(e.t0);case 35:return e.prev=35,k.f(),e.finish(35);case 38:if(!(w.length>0)){e.next=45;break}throw E=(_=w.map(function(e){return e.reason})).join("\n"),f.default.debug("ReplicateOnce's promises failed with the following errors",E),AggregateError(_,"Failed with blocking errors");case 45:f.default.debug("ReplicateOnce's promises succeed with no blocking errors");case 46:C=(0,c.default)(g),S=(0,c.default)(b),f.default.debug("Doctypes replications in error: ",Object.keys(S)),f.default.debug("Doctypes replications in success: ",Object.keys(C)),t.options.onSync(C);case 51:return a.cancel=t.cancelCurrentReplications,e.abrupt("return",a);case 55:e.prev=55,e.t1=e.catch(9),t.handleReplicationError(e.t1);case 58:case"end":return e.stop()}},e,null,[[9,55],[21,32,35,38]])})),t.replicateOnce=function(e){return r.apply(this,arguments)}},9652:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.replicateAllDocs=t.startReplication=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(26396)),s=a(n(39892)),u=a(n(35405)),l=a(n(22331)),d=a(n(17070)),f=n(86096);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=u.default.isDesignDocument,v=u.default.isDeletedDocument;t.startReplication=function(e,t,n,r){var a,c={},u=new Promise(function(u,l){var f=n(),p=t.strategy,y=t.initialReplication,b=(t.warmupQueries,t.doctype),w=h(h({batch_size:1e3},(0,s.default)(t,["strategy","initialReplication","warmupQueries","doctype"])),{},{selector:{cozyLocalOnly:{$exists:!1}}});y&&"toRemote"!==p?(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.default.info("PouchManager: Start first replication for ".concat(b)),t.next=3,g({db:e,baseUrl:f,doctype:b,storage:r});case 3:return c=t.sent,d.default.info("PouchManager: End first replication for ".concat(b)),t.abrupt("return",u(c));case 8:case"end":return t.stop()}},t)}))():((a="fromRemote"===p?e.replicate.from(f,w):"toRemote"===p?e.replicate.to(f,w):e.sync(f,w)).on("change",function(e){var t=e.change?e.change:e;t.docs&&t.docs.filter(function(e){return!m(e)&&!v(e)}).forEach(function(e){c[e._id]=e})}),a.on("error",l).on("complete",function(){u(Object.values(c))}))});return u.cancel=function(){a&&a.cancel()},u};var y=function(e){return e.map(function(e){return e.doc}).filter(function(e){return!e._deleted&&!(0,l.default)(e._id,"_design")})},g=(r=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s,l,d,p,h,m;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.db,r=t.baseUrl,a=t.doctype,o=t.storage,c=new URL("".concat(r,"/_all_docs")),s=1e3,l=!0,e.next=6,o.getLastReplicatedDocID(a);case 6:d=e.sent,p=[];case 8:if(!l){e.next=42;break}if(d){e.next=26;break}return e.next=12,(0,f.fetchRemoteInstance)(c,{limit:s,include_docs:!0});case 12:if(0!==(p=y(e.sent.rows)).length){e.next=18;break}l=!1,e.next=24;break;case 18:return d=p[p.length-1]._id,p.length<s&&(l=!1),e.next=22,u.default.insertBulkDocs(n,p);case 22:return e.next=24,o.persistLastReplicatedDocID(a,d);case 24:e.next=40;break;case 26:return e.next=28,(0,f.fetchRemoteInstance)(c,{include_docs:!0,limit:s,startkey_docid:d});case 28:if(!((m=y((h=e.sent).rows)).length<2)){e.next=32;break}return e.abrupt("return",p);case 32:return m.shift(),d=m[m.length-1]._id,e.next=36,u.default.insertBulkDocs(n,m);case 36:return e.next=38,o.persistLastReplicatedDocID(a,d);case 38:p=p.concat(m),h.rows.length<s&&(l=!1);case 40:e.next=8;break;case 42:return e.abrupt("return",p);case 43:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});t.replicateAllDocs=g},11337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettled=t.formatAggregatedError=t.getPrefix=t.getDoctypeFromDatabaseName=t.getOldDatabaseName=t.getDatabaseName=t.DATABASE_NAME_SEPARATOR=void 0;var n="__doctype__";t.DATABASE_NAME_SEPARATOR=n,t.getDatabaseName=function(e,t){return"".concat(e).concat(n).concat(t)},t.getOldDatabaseName=function(e,t){return"".concat(e,"_").concat(t)},t.getDoctypeFromDatabaseName=function(e){if(!e)return null;var t=e.split(n);return t[t.length-1]},t.getPrefix=function(e){return e.replace(/^https?:\/\//,"")},t.formatAggregatedError=function(e){return e.errors.map(function(e,t){return"\n["+t+"]: "+e.name+" - "+e.message+"\n"+e.stack}).join("\n")},t.allSettled=function(e){return Promise.all(e.filter(function(e){return!!e}).map(function(e){return e.then(function(e){return{status:"fulfilled",value:e}}).catch(function(e){return{status:"rejected",reason:e}})}))}},59201:function(e,t,n){"use strict";var r=n(65606),a=n(58784),i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(15890)),c=i(n(22056)),s=i(n(21259)),u=i(n(39892)),l=i(n(92207)),d=i(n(79092)),f=i(n(82274)),p=i(n(65044)),h=i(n(26396)),m=i(n(73916)),v=i(n(44377)),y=i(n(35970)),g=i(n(50014)),b=i(n(87992)),w=i(n(39754)),k=i(n(58156)),x=i(n(56173)),O=a(n(46846)),_=n(58494),E=i(n(49095)),C=n(68650),S=n(77147),P=n(56975),A=n(31201),D=n(89258),T=i(n(8895)),R=a(n(46475)),j=i(n(70971)),M=i(n(39114)),I=n(46956),N=i(n(95134)),z=n(85778),F=n(36667),L=i(n(87925)),B=n(59063),U=i(n(25473)),V=i(n(10899)),H=n(71406),q=n(90912);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){(0,h.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return K(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){return{get:function(t,n){return L.default.warn(e),t[n]}}},Y=function(e){var t;if(e&&"undefined"!=typeof window&&null!=(t=window.cozy)&&t.isSecureProtocol){var n,r=new URL(e);return r.protocol="https:",(n=r.toString()).endsWith("/")?n.slice(0,-1):n}return e},J="creation",$="update",X=function(){var e,t,n,a,i,x,j,W,K,X,ee,et,en,er,ea,ei,eo,ec,es,eu,el,ed,ef,ep,eh;function em(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,em),(0,h.default)(this,"fetchQueryAndGetFromState",(e=(0,d.default)(l.default.mark(function e(t){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.definition,a=t.options,e.prev=1,e.next=4,n.query(r,a);case 4:return e.abrupt("return",n.getQueryFromState(a.as,a));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(t){return e.apply(this,arguments)}));var a=r.link,i=r.links,o=r.schema,c=r.appMetadata,s=r.capabilities,p=r.performanceApi,m=(0,u.default)(r,["link","links","schema","appMetadata","capabilities","performanceApi"]);a&&L.default.warn("`link` is deprecated, use `links`"),this.performanceApi=p||z.defaultPerformanceApi,this.appMetadata=void 0===c?{}:c,this.loginPromise=null,m.uri=Y(m.uri),this.options=m,this.queryIdGenerator=new B.QueryIDGenerator,this.isLogged=!1,this.instanceOptions={},this.handleRevocationChange=this.handleRevocationChange.bind(this),this.handleTokenRefresh=this.handleTokenRefresh.bind(this),this.createClient();var v=this.getStackClient();if(v.on("error",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.emit.apply(n,["error"].concat(t))}),this.setLinks(Array.isArray(t=a||i||new E.default({performanceApi:this.performanceApi}))?t:[t]),this.schema=new M.default(void 0===o?{}:o,v),this.capabilities=s||null,this.plugins={},!(this.stackClient instanceof O.OAuthClient))try{this.loadInstanceOptionsFromDOM()}catch(e){}this._promiseCache=new V.default,m.uri&&m.token&&this.login(),this.storeAccesors=null,this.useCustomStore=m.useCustomStore||!1,!0!==this.useCustomStore&&this.ensureStore(),this.autoHydrate=m.autoHydrate||!1,this.disableStoreForQueries=m.disableStoreForQueries||!1}return(0,p.default)(em,[{key:"emit",value:function(){}},{key:"on",value:function(){}},{key:"removeListener",value:function(){}},{key:"registerPlugin",value:function(e,t){if(!e.pluginName)throw Error("Cannot register a plugin whose class does not have `pluginName` attribute.");if(this.plugins[e.pluginName])throw Error("Cannot register plugin ".concat(e.pluginName,". A plugin with the same name has already been registered."));var n=new e(this,t);return this.plugins[e.pluginName]=n,n}},{key:"addSchema",value:function(e){this.schema.add(e)}},{key:"registerClientOnLinks",value:function(){var e,t=Z(this.links);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.registerClient)try{n.registerClient(this)}catch(e){L.default.warn(e)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"login",value:function(e){return this.isLogged&&!this.isRevoked?(L.default.warn("CozyClient is already logged."),this.loginPromise):this.loginPromise=this._login(e)}},{key:"_login",value:(e=(0,d.default)(l.default.mark(function e(t){var n,r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("beforeLogin"),this.registerClientOnLinks(),t&&(t.uri&&this.stackClient.setUri(t.uri),t.token&&this.stackClient.setToken(t.token)),n=Z(this.links),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=13;break}if(!(a=r.value).onLogin){e.next=11;break}return e.next=11,a.onLogin();case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:if(this.isLogged=!0,this.isRevoked=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=26;break}return e.next=26,this.loadInstanceOptionsFromStack();case 26:this.emit("login");case 27:case"end":return e.stop()}},e,this,[[4,15,18,21]])})),function(t){return e.apply(this,arguments)})},{key:"logout",value:(t=(0,d.default)(l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLogged){e.next=3;break}return L.default.warn("CozyClient isn't logged."),e.abrupt("return");case 3:if(this.emit("beforeLogout"),this.isLogged=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=17;break}if(e.prev=6,!(this.stackClient.unregister&&(!this.stackClient.isRegistered||this.stackClient.isRegistered()))){e.next=10;break}return e.next=10,this.stackClient.unregister();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),L.default.warn("Impossible to unregister client on stack: ".concat(e.t0));case 15:case 20:e.next=25;break;case 17:return e.prev=17,e.next=20,this.stackClient.fetch("DELETE","/auth/login");case 22:e.prev=22,e.t1=e.catch(17),L.default.warn("Impossible to log out: ".concat(e.t1));case 25:t=Z(this.links),e.prev=26,t.s();case 28:if((n=t.n()).done){e.next=41;break}if(!(r=n.value).reset){e.next=39;break}return e.prev=31,e.next=34,r.reset();case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(31),L.default.warn(e.t2);case 39:e.next=28;break;case 41:e.next=46;break;case 43:e.prev=43,e.t3=e.catch(26),t.e(e.t3);case 46:return e.prev=46,t.f(),e.finish(46);case 49:this.store&&this.dispatch((0,R.resetState)()),this.emit("logout");case 51:case"end":return e.stop()}},e,this,[[6,12],[17,22],[26,43,46,49],[31,36]])})),function(){return t.apply(this,arguments)})},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getStackClient().collection(e,t)}},{key:"fetch",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.getStackClient().fetch(e,t,n,r)}},{key:"all",value:function(e){return L.default.warn("\nclient.all is deprecated, prefer to use the Q helper to build a new QueryDefinition.\n\nimport { Q } from 'cozy-client'\nclient.query(Q('io.cozy.bills'))"),(0,A.Q)(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return L.default.warn("client.find(doctype, selector) is deprecated, please use Q(doctype).where(selector) to build the same query."),new A.QueryDefinition({doctype:e,selector:t})}},{key:"get",value:function(e,t){return L.default.warn("client.get(".concat(e,", id) is deprecated, please use Q(").concat(e,").getById(id) to build the same query.")),new A.QueryDefinition({doctype:e,id:t})}},{key:"validate",value:function(e){return this.schema.validate(e)}},{key:"create",value:(n=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},n._type,i=G({_type:t},(0,u.default)(n,["_type"])),e.next=5,this.schema.validate(i);case 5:if(!0===e.sent){e.next=8;break}throw Error("Validation failed");case 8:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(i,r),a));case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"createAll",value:(a=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.saveAll(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"save",value:(i=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=t._type,a=(0,u.default)(t,["_type"]),r){e.next=4;break}throw Error("The document must have a `_type` property");case 4:return i=G({_type:r},a),e.next=7,this.schema.validate(i);case 7:if(!0===e.sent){e.next=10;break}throw Error("Validation failed");case 10:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(i),n));case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"updateAll",value:(x=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.saveAll(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"saveAll",value:(j=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o=this,c=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},1===Array.from(new Set(t.map(function(e){return e._type}))).length){e.next=4;break}throw Error("saveAll can only save documents with the same doctype");case 4:return e.next=6,Promise.all(t.map(function(e){return o.schema.validate(e)}));case 6:if(!((r=e.sent.filter(function(e){return!0!==e})).length>0)){e.next=11;break}throw L.default.warn("There has been some validation errors while bulk saving",r),Error("Validation failed for at least one doc");case 11:return a=t.map(function(e){return o.prepareDocumentForSave(e)}),i=void 0===t[0]._id?A.Mutations.createDocuments(a):A.Mutations.updateDocuments(a),e.abrupt("return",this.mutate(i,n));case 15:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"ensureCozyMetadata",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{event:J};if(void 0===this.appMetadata)return e;if(e._type){var r=this.schema.getDoctypeSchema(e._type);t=(0,k.default)(r,"doctypeVersion")}var a=this.appMetadata,i=a.slug,o=a.sourceAccount,c=a.sourceAccountIdentifier,u=a.version,l=new Date().toISOString(),d=(0,k.default)(e,"cozyMetadata",{});return n.event===J?d=G({metadataVersion:1,doctypeVersion:t,createdByApp:i,sourceAccount:o,sourceAccountIdentifier:c,createdAt:l,createdByAppVersion:u,updatedAt:l,updatedByApps:i?[{date:l,slug:i,version:u}]:[]},d):n.event===$&&(d=G(G({},d),{},{updatedAt:l,updatedByApps:[{date:l,slug:i,version:u}].concat((0,s.default)((0,k.default)(e,"cozyMetadata.updatedByApps",[]).filter(function(e){return e.slug!==i})))})),G(G({},e),{},{cozyMetadata:d})}},{key:"prepareDocumentForSave",value:function(e){var t=!e._rev;return this.ensureCozyMetadata((0,P.dehydrate)(e),{event:t?J:$})}},{key:"getDocumentSavePlan",value:function(e,t){var n=this,r=!e._rev,a=this.prepareDocumentForSave(e),i=r?A.Mutations.createDocument(a):A.Mutations.updateDocument(a);if(!(t&&Object.values(t).filter(function(e){return Array.isArray(e)?e.length>0:e}).length>0))return i;for(var o=0,s=Object.keys(t);o<s.length;o++){var u,l,d=s[o],f=e._type,p=this.schema.getRelationship(f,d);if(!((u=p.type).prototype.addReferences&&u.prototype.removeReferences))throw l=p.name,Error('The "'.concat(l,'" relationship does not support references. If you need to add references to a document, its relationship class must have the methods {add,remove}References'))}if(t&&!r)throw Error("Unable to save external relationships on a not-new document");return[i,function(e){var r=n.schema.getDoctypeSchema(e.data._type),a=n.hydrateDocument(e.data,r,{forceHydratation:!0});return Object.entries(t).map(function(e){var t=(0,c.default)(e,2),n=t[0],r=t[1];return a[n].addReferences(r)})}]}},{key:"triggerHook",value:function(e,t){if(em.hooks){var n,r=Z((em.hooks[t._type]||{})[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(this,t)}catch(e){r.e(e)}finally{r.f()}}}},{key:"destroy",value:(W=(0,d.default)(l.default.mark(function e(t){var n,r,a=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.triggerHook("before:destroy",t);case 3:return e.next=5,this.mutate(A.Mutations.deleteDocument(t),n);case 5:return r=e.sent,e.next=8,this.triggerHook("after:destroy",t);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"destroyAll",value:(K=(0,d.default)(l.default.mark(function e(t){var n,r=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.mutate(A.Mutations.deleteDocuments(t),n));case 2:case"end":return e.stop()}},e,this)})),function(e){return K.apply(this,arguments)})},{key:"upload",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.mutate(A.Mutations.uploadFile(e,t),n)}},{key:"ensureQueryExists",value:function(e,t,n){this.ensureStore(),"loaded"===(0,R.getQueryFromState)(this.store.getState(),e).fetchStatus&&(t.skip||t.bookmark)||this.dispatch((0,R.initQuery)(e,t,n))}},{key:"query",value:(X=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,s,d,f,p,h=this,m=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=m.length>1&&void 0!==m[1]?m[1]:{}).update,a=n.executeFromStore,i=(0,u.default)(n,["update","executeFromStore"]),o=this.performanceApi.mark("client.query(".concat(t.doctype,")")),this.ensureStore(),c=i.as||this.queryIdGenerator.generateId(t),s=this.disableStoreForQueries?null:this.getQueryFromState(c,i),void 0===i.enabled||"boolean"==typeof i.enabled){e.next=9;break}throw Error("option.enabled should be a boolean for this query: ".concat(JSON.stringify(t)));case 9:if(!i.fetchPolicy){e.next=15;break}if(i.as){e.next=12;break}throw Error("Cannot use `fetchPolicy` without naming the query, please use `as` to name the query");case 12:if(i.fetchPolicy(s)){e.next=15;break}return e.abrupt("return");case 15:if(!(s&&Object.keys(s).length>0)||"loading"!==s.fetchStatus){e.next=18;break}return e.abrupt("return",this._promiseCache.get(function(){return(0,U.default)(t)}));case 18:return this.disableStoreForQueries||this.ensureQueryExists(c,t,i),e.prev=19,d=void 0!==i.backgroundFetching?i.backgroundFetching:this.options.backgroundFetching,this.disableStoreForQueries||this.dispatch((0,R.loadQuery)(c,{backgroundFetching:d})),f=a?function(){return Promise.resolve((0,R.executeQueryFromState)(h.store.getState(),t))}:function(){return h.requestQuery(t,i)},e.next=25,this._promiseCache.exec(f,function(){return(0,U.default)(t)});case 25:if(p=e.sent,!this.disableStoreForQueries){e.next=28;break}return e.abrupt("return",p);case 28:return this.dispatch((0,R.receiveQueryResult)(c,p,{update:r,backgroundFetching:d})),this.performanceApi.measure({markName:o,measureName:"".concat(o," success"),color:"primary"}),e.abrupt("return",p);case 33:if(e.prev=33,e.t0=e.catch(19),this.performanceApi.measure({markName:o,measureName:"".concat(o," error"),color:"error"}),this.dispatch((0,R.receiveQueryError)(c,e.t0)),!i.onError){e.next=41;break}i.onError(e.t0),e.next=46;break;case 41:if(!this.options.onError){e.next=45;break}this.options.onError(e.t0),e.next=46;break;case 45:throw e.t0;case 46:case"end":return e.stop()}},e,this,[[19,33]])})),function(e){return X.apply(this,arguments)})},{key:"queryAll",value:(ee=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=u.length>1&&void 0!==u[1]?u[1]:{}).as||this.queryIdGenerator.generateId(t),a=G(G({},n),{},{as:r}),e.prev=3,e.next=6,this.query(t,a);case 6:o=(i=e.sent).data;case 8:if(!(i&&i.next)){e.next=22;break}if(!i.bookmark){e.next=15;break}return e.next=12,this.query(t.offsetBookmark(i.bookmark),a);case 12:i=e.sent,e.next=19;break;case 15:return c=(0,R.getRawQueryFromState)(this.store.getState(),r),e.next=18,this.query(t.offset(c.data.length),a);case 18:i=e.sent;case 19:o.push.apply(o,(0,s.default)(i.data)),e.next=8;break;case 22:return e.abrupt("return",o);case 25:return e.prev=25,e.t0=e.catch(3),L.default.log("queryAll error for ".concat(e.t0.toString())),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[3,25]])})),function(e){return ee.apply(this,arguments)})},{key:"watchQuery",value:function(){return L.default.warn("client.watchQuery is deprecated, please use client.makeObservableQuery."),this.makeObservableQuery.apply(this,arguments)}},{key:"makeObservableQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ensureStore();var n=t.as||this.queryIdGenerator.generateId(e);return this.ensureQueryExists(n,e),new N.default(n,e,this,t)}},{key:"mutate",value:(et=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,c,s=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=s.length>1&&void 0!==s[1]?s[1]:{}).update,a=n.updateQueries,i=(0,u.default)(n,["update","updateQueries"]),this.ensureStore(),o=i.as||this.queryIdGenerator.generateId(t),this.dispatch((0,R.initMutation)(o,t)),e.prev=5,e.next=8,this.requestMutation(t,i);case 8:return c=e.sent,this.dispatch((0,R.receiveMutationResult)(o,c,{update:r,updateQueries:a},t)),e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(5),this.dispatch((0,R.receiveMutationError)(o,e.t0,t)),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return et.apply(this,arguments)})},{key:"requestQuery",value:(en=(0,d.default)(l.default.mark(function e(t,n){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chain.request(t,n);case 2:return r=e.sent,e.next=5,(0,q.persistVirtualDocuments)(this,t,r.data);case 5:if(t.includes){e.next=7;break}return e.abrupt("return",r);case 7:if(!this.schema.getDoctypeSchema(t.doctype).relationships){e.next=13;break}return e.next=11,this.fetchRelationships(r,this.getIncludesRelationships(t));case 11:return a=e.sent,e.abrupt("return",a);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this)})),function(e,t){return en.apply(this,arguments)})},{key:"fetchRelationships",value:(er=(0,d.default)(l.default.mark(function e(t,n){var r,a,i,o,s,u,d,f,p,h,m,v,k,x,O,_,E,C,P,D=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=!Array.isArray(t.data))||0!==t.data.length){e.next=3;break}return e.abrupt("return",t);case 3:return a=r?[t.data]:t.data,i=new Map,o=[],s=[],a.forEach(function(e){return(0,w.default)(n,function(t,n){try{var r=t.type.query(e,D,t),a=e._id;i.set(r,[a,n]),r instanceof A.QueryDefinition?s.push(r):o.push(e)}catch(e){}})}),u=(0,T.default)(s),e.next=11,Promise.all(u.map(function(e){return D.chain.request(e)}));case 11:d=e.sent,f=(0,g.default)((0,y.default)(o),"_id"),p=(0,y.default)(d.map(function(e){return e.included||e.data})).concat(f).filter(Boolean),h={},m=Z((0,b.default)(u,d));try{for(m.s();!(v=m.n()).done;)x=(k=(0,c.default)(v.value,2))[0],O=k[1],(_=i.get(x))&&(C=(E=(0,c.default)(_,2))[0],P=E[1],h[C]=h[C]||{},h[C][P]=(0,S.responseToRelationship)(O))}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",G(G({},(0,S.attachRelationships)(t,h)),{},{included:p}));case 18:case"end":return e.stop()}},e)})),function(e,t){return er.apply(this,arguments)})},{key:"requestMutation",value:(ea=(0,d.default)(l.default.mark(function e(t,n){var r,a,i,c,s=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=8;break}return a=(r=(0,o.default)(t))[0],i=r.slice(1),e.next=4,this.requestMutation(a);case 4:return c=e.sent,e.next=7,Promise.all(i.map(function(e){var t="function"==typeof e?e(c):e;return s.requestMutation(t)}));case 7:return e.abrupt("return",c);case 8:return e.abrupt("return",this.chain.request(t,n));case 9:case"end":return e.stop()}},e,this)})),function(e,t){return ea.apply(this,arguments)})},{key:"getIncludesRelationships",value:function(e){var t=this,n=e.includes,r=e.doctype;return n?(0,v.default)(n.map(function(e){return[e,t.schema.getRelationship(r,e)]})):{}}},{key:"hydrateDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.forceHydratation,i=void 0!==a&&a,o=this.schema.getDoctypeSchema(e);return o.relationships?t.map(function(e){return n.hydrateDocument(e,o,{forceHydratation:i})}):t}},{key:"hydrateDocument",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.forceHydratation;if(!e)return e;var a=t||this.schema.getDoctypeSchema(e._type),i=this.options.autoHydrate||void 0!==r&&r,o=this.hydrateRelationships(e,a.relationships,{forceHydratation:i});return G(G({},e),o)}},{key:"hydrateRelationships",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.forceHydratation,a=void 0!==r&&r,i=this.getRelationshipStoreAccessors();return(0,m.default)(t,function(t,n){var r;if(a||null!=(r=e.relationships)&&r[n])return(0,C.create)(e,t,i)})}},{key:"generateRandomId",value:function(){return this.queryIdGenerator.generateRandomId()}},{key:"getAssociation",value:function(e,t){return(0,C.create)(e,this.schema.getRelationship(e._type,t),this.getRelationshipStoreAccessors())}},{key:"getRelationshipStoreAccessors",value:function(){var e=this;return this.storeAccesors||(this.storeAccessors={get:this.getDocumentFromState.bind(this),save:function(t,n){return e.save.call(e,t,n)},dispatch:this.dispatch.bind(this),query:function(t,n){return e.query.call(e,t,n)},mutate:function(t,n){return e.mutate.call(e,t,n)}}),this.storeAccessors}},{key:"getCollectionFromState",value:function(e){try{return(0,R.getCollectionFromState)(this.store.getState(),e)}catch(t){return L.default.warn("Could not getCollectionFromState",e,t.message),null}}},{key:"getDocumentFromState",value:function(e,t){try{return(0,R.getDocumentFromState)(this.store.getState(),e,t)}catch(n){return L.default.warn("Could not getDocumentFromState",e,t,n.message),null}}},{key:"getQueryFromState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.singleDocData||!1,r=void 0!==t.hydrated?t.hydrated:this.options.autoHydrate;try{var a,i=(0,R.getQueryFromState)(this.store.getState(),e),o=i.definition&&i.definition.doctype,c=i.definition&&i.definition.id;if(!r&&!n)return i;var s=r&&o?this.hydrateDocuments(o,i.data):i.data,u=null==(a=this.schema.getDoctypeSchema(o))?void 0:a.relationships,l=u?Object.keys(u):null;return G(G({},i),{},{data:c&&n?s[0]:s,storeData:c&&n?i.data[0]:i.data,relationshipNames:l})}catch(t){return L.default.warn("Could not get query from state. queryId: ".concat(e,", error: ").concat(t.message)),null}}},{key:"register",value:function(e){return this.getStackClient().setUri(e),this.startOAuthFlow(D.authFunction)}},{key:"isReactNative",value:function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product}},{key:"startOAuthFlow",value:(ei=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getStackClient(),e.next=3,n.register();case 3:return e.next=5,this.certifyFlagship();case 5:return e.abrupt("return",this.authorize({openURLCallback:t}));case 6:case"end":return e.stop()}},e,this)})),function(e){return ei.apply(this,arguments)})},{key:"certifyFlagship",value:(eo=(0,d.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getStackClient()).oauthOptions.shouldRequireFlagshipPermissions){e.next=4;break}return e.next=4,(0,H.certifyFlagship)(t.oauthOptions.certificationConfig,this);case 4:case"end":return e.stop()}},e,this)})),function(){return eo.apply(this,arguments)})},{key:"authorize",value:(ec=(0,d.default)(l.default.mark(function e(){var t,n,r,a,i,o,c,s,u,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=y.length>0&&void 0!==y[0]?y[0]:{}).openURLCallback)?D.authFunction:n,i=void 0===(a=t.sessionCode)?void 0:a,c=void 0===(o=t.pkceCodes)?{}:o,e.prev=1,s=c.codeVerifier,u=c.codeChallenge,f=(d=this.getStackClient()).generateStateCode(),p=d.getAuthCodeURL({stateCode:f,scopes:void 0,sessionCode:i,codeChallenge:u}),e.next=8,r(p);case 8:return h=e.sent,m=d.getAccessCodeFromURL(h,f),e.next=12,d.fetchAccessToken(m,void 0,void 0,s);case 12:return v=e.sent,d.setToken(v),e.abrupt("return",{token:v,infos:d.oauthOptions,client:d.oauthOptions});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.message===_.REGISTRATION_ABORT&&this.getStackClient().unregister(),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,17]])})),function(){return ec.apply(this,arguments)})},{key:"renewAuthorization",value:function(){return this.authorize({openURLCallback:D.authFunction})}},{key:"setStore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force;if(void 0===e)throw Error("Store is undefined");if(this.store&&!(void 0!==n&&n))throw Error("Client already has a store, it is forbidden to change store.\nsetStore must be called before any query is executed. Try to\ncall setStore earlier in your code, preferably just after the\ninstantiation of the client.");this.store=e}},{key:"ensureStore",value:function(){this.store||this.setStore((0,R.createStore)(this.performanceApi))}},{key:"checkForRevocation",value:(es=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.stackClient instanceof O.OAuthClient)){e.next=4;break}return e.abrupt("return",this.stackClient.checkForRevocation());case 4:throw"checkForRevocation is only implemented for OAutClient";case 5:case"end":return e.stop()}},e,this)})),function(){return es.apply(this,arguments)})},{key:"handleRevocationChange",value:function(e){e?(this.isRevoked=!0,this.emit("revoked")):(this.isRevoked=!1,this.emit("unrevoked"))}},{key:"handleTokenRefresh",value:function(e){this.emit("tokenRefreshed"),this.options.onTokenRefresh&&(Q("Using onTokenRefresh is deprecated, please use events like this: cozyClient.on('tokenRefreshed', token => console.log('Token has been refreshed', token)). https://git.io/fj3M3"),this.options.onTokenRefresh(e))}},{key:"createClient",value:function(){this.options.client&&L.default.warn("CozyClient: Using options.client is deprecated, please use options.stackClient.");var e=void 0===this.options.warningForCustomHandlers||this.options.warningForCustomHandlers,t=this.options.client||this.options.stackClient,n={onRevocationChange:this.handleRevocationChange,onTokenRefresh:this.handleTokenRefresh};if(t){this.stackClient=t,t.options||(t.options={});for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];t.options[i]?e&&L.default.warn("You passed a stackClient with its own ".concat(i,". It is not supported, unexpected things might happen.")):t.options[i]=n[i]}}else{var o=G(G({},this.options),n);this.stackClient=this.options.oauth?new O.OAuthClient(o):new O.default(o)}this.client=new Proxy(this.stackClient,Q("Using cozyClient.client is deprecated, please use cozyClient.stackClient."))}},{key:"getClient",value:function(){return L.default.warn("CozyClient: getClient() is deprecated, please use getStackClient()."),this.getStackClient()}},{key:"getStackClient",value:function(){return this.stackClient||this.createClient(),this.stackClient}},{key:"reducer",value:function(){return(0,R.default)(this.performanceApi)}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"getInstanceOptions",value:function(){return this.instanceOptions}},{key:"loadInstanceOptionsFromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[role=application]",t=document.querySelector(e);if(!(t instanceof HTMLElement))throw Error("The selector that is passed does not return an HTMLElement");var n=t.dataset,r=n.cozy,a=(0,u.default)(n,["cozy"]);this.instanceOptions=G(G({},JSON.parse(void 0===r?"{}":r)),a),this.capabilities=this.instanceOptions.capabilities||null}},{key:"loadInstanceOptionsFromStack",value:(eu=(0,d.default)(l.default.mark(function e(){var t,n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.query((0,A.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities")),this.query((0,A.Q)("io.cozy.settings").getById("io.cozy.settings.instance"))]);case 2:n=(t=e.sent)[0].data,r=t[1].data,this.instanceOptions={capabilities:n,locale:r.locale,tracking:r.tracking},this.capabilities=this.instanceOptions.capabilities||null;case 7:case"end":return e.stop()}},e,this)})),function(){return eu.apply(this,arguments)})},{key:"setData",value:function(e){var t=this;this.ensureStore(),Object.entries(e).forEach(function(e){var n=(0,c.default)(e,2),r=(n[0],n[1]);t.dispatch((0,R.receiveQueryResult)(null,{data:r}))})}},{key:"setOnError",value:function(e){if(this.options&&this.options.onError)throw Error("On Error is already defined");this.options.onError=e}},{key:"toJSON",value:function(){return new F.CozyClient({uri:this.options.uri})}},{key:"setAppMetadata",value:function(e){this.appMetadata=G(G({},this.appMetadata),e)}},{key:"setLinks",value:(el=(0,d.default)(l.default.mark(function e(t){var n,r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.links=t||[new E.default({performanceApi:this.performanceApi})],this.registerClientOnLinks(),this.chain=(0,I.chain)(this.links),!this.isLogged){e.next=22;break}n=Z(this.links),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=14;break}if(!(a=r.value).onLogin){e.next=12;break}return e.next=12,a.onLogin();case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,16,19,22]])})),function(e){return el.apply(this,arguments)})},{key:"getSettings",value:(ed=(0,d.default)(l.default.mark(function e(t,n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.getSettings)(this,t,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return ed.apply(this,arguments)})},{key:"saveAfterFetchSettings",value:(ef=(0,d.default)(l.default.mark(function e(t,n,r){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.saveAfterFetchSettings)(this,t,n,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return ef.apply(this,arguments)})},{key:"resetQuery",value:(ep=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,R.isQueryExisting)(this.store.getState(),t)){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return this.dispatch((0,R.resetQuery)(t)),n=this.getQueryFromState(t),e.next=7,this.query(n.definition,{as:t});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return ep.apply(this,arguments)})}],[{key:"fromOldClient",value:function(e,t){return new em(G({uri:e._url,token:e._token.token},t))}},{key:"fromOldOAuthClient",value:(eh=(0,d.default)(l.default.mark(function e(t,n){var r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._oauth){e.next=12;break}return e.next=3,t.authorize();case 3:if(a={oauth:(r=e.sent).client,token:r.token,scope:r.token.scope},!(i=new em(G(G({uri:t._url},a),n))).loginPromise){e.next=9;break}return e.next=9,i.loginPromise;case 9:return e.abrupt("return",i);case 12:throw Error("Cannot instantiate a new client: old client is not an OAuth client. CozyClient.fromOldClient might be more suitable.");case 13:case"end":return e.stop()}},e)})),function(e,t){return eh.apply(this,arguments)})},{key:"fromEnv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||(void 0!==r?r.env:{}),a=n.COZY_URL,i=n.COZY_CREDENTIALS;if(!a||!i)throw Error("Env used to instantiate CozyClient must have COZY_URL and COZY_CREDENTIALS");try{t.oauth=JSON.parse(i)}catch(e){t.token=i.trim()}return t.uri=a.trim(),new em(G({},t))}},{key:"fromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[role=application]",n=document.querySelector(t);if(!(n instanceof HTMLElement))throw Error("Cannot find an HTMLElement corresponding to ".concat(t));if(!n||!n.dataset)throw Error("Found no data in ".concat(t," to instantiate cozyClient"));var r=n.dataset.cozy?JSON.parse(n.dataset.cozy):G({},n.dataset),a=r.domain,i=r.token;if(a&&i||(a=a||r.cozyDomain,i=i||r.cozyToken),!a||!i)throw Error("Found no data in ".concat(n.dataset," to instantiate cozyClient"));return new em(G({uri:"".concat(window.location.protocol,"//").concat(a),token:i,capabilities:r.capabilities},e))}},{key:"registerHook",value:function(e,t,n){var r=em.hooks[e]=em.hooks[e]||{};r[t]=r[t]||[],r[t].push(n)}}]),em}();X.hooks=X.hooks||{},X.fetchPolicies=j.default,X.version="60.14.0",x.default.mixin(X),t.default=X},95134:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(26396)),c=r(n(58156)),s=n(46475),u=Object.prototype.hasOwnProperty;function l(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.default=function(){function e(t,n,r,i){var c=this;if((0,a.default)(this,e),(0,o.default)(this,"handleStoreChange",function(){var e=c.currentRawResult();!function(e,t){if(l(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!u.call(t,n[a])||!l(e[n[a]],t[n[a]]))return!1;return!0}(e,c.lastResult)&&(c.lastResult=e,c.notifyObservers())}),!t||!n||!r)throw Error("ObservableQuery takes 3 arguments: queryId, definition and client");this.queryId=t,this.definition=n,this.client=r,this.observers={},this.idCounter=1,this.lastResult=this.currentRawResult(),this.options=i}return(0,i.default)(e,[{key:"currentResult",value:function(){return this.client.getQueryFromState(this.queryId,{hydrated:(0,c.default)(this.options,"hydrated",!0),singleDocData:!0})}},{key:"fetch",value:function(){return this.client.query(this.definition,{as:this.queryId})}},{key:"fetchMore",value:function(){var e=this.currentRawResult();return e.bookmark?this.client.query(this.definition.offsetBookmark(e.bookmark),{as:this.queryId}):this.client.query(this.definition.offset(e.data.length),{as:this.queryId})}},{key:"currentRawResult",value:function(){return(0,s.getRawQueryFromState)(this.getStore().getState(),this.queryId)}},{key:"notifyObservers",value:function(){var e=this;Object.keys(this.observers).forEach(function(t){return e.observers[t]()})}},{key:"subscribeToStore",value:function(){if(this._unsubscribeStore)throw Error("ObservableQuery instance is already subscribed to store.");this._unsubscribeStore=this.getStore().subscribe(this.handleStoreChange)}},{key:"unsubscribeFromStore",value:function(){if(!this._unsubscribeStore)throw Error("ObservableQuery instance is not subscribed to store");this._unsubscribeStore()}},{key:"subscribe",value:function(e){var t=this,n=this.idCounter;return this.idCounter++,this.observers[n]=e,1===Object.keys(this.observers).length&&this.subscribeToStore(),function(){return t.unsubscribe(n)}}},{key:"unsubscribe",value:function(e){if(!this.observers[e])throw Error("Cannot unsubscribe unknown callbackId ".concat(e));delete this.observers[e],0===Object.keys(this.observers).length&&(this.unsubscribeFromStore(),this._unsubscribeStore=null)}},{key:"getStore",value:function(){return this.client.store}}]),e}()},36472:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(82274)),o=a(n(65044)),c=a(n(56994)),s=a(n(65611)),u=a(n(18337)),l=a(n(26396)),d=r(n(96540)),f=a(n(21362)),p=a(n(81610)),h=f.default.shape({subscribe:f.default.func.isRequired,dispatch:f.default.func.isRequired,getState:f.default.func.isRequired}),m=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){var a;if((0,i.default)(this,r),a=n.call(this,e,t),!e.client)throw Error("CozyProvider was not passed a client instance.");return e.store&&e.client.setStore(e.store),a}return(0,o.default)(r,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store||this.props.client.store,client:this.props.client}}},{key:"render",value:function(){return d.default.createElement(p.default.Provider,{value:this.getChildContext()},this.props.children)}}]),r}(d.Component);t.default=m,(0,l.default)(m,"propTypes",{store:h,client:f.default.object.isRequired,children:f.default.oneOfType([f.default.element,f.default.arrayOf(f.default.element)]).isRequired}),(0,l.default)(m,"childContextTypes",{store:f.default.object,client:f.default.object.isRequired}),(0,l.default)(m,"contextTypes",{store:f.default.object})},7509:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.computeChildrenArgs=t.getQueryAttributes=t.default=t.fetchQuery=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(39892)),f=n(96540);r(n(59201));var p=r(n(21362));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r(n(95134));var v={},y=function(e,t){return t.fetch?t.fetch():e.query(t.definition,{as:t.queryId})};t.fetchQuery=y;var g=function(e,t){var n=e.create.bind(e),r=e.save.bind(e),a=e.destroy.bind(e),i=e.getAssociation.bind(e),o="function"==typeof t.query?t.query(e,t):t.query,c=e.makeObservableQuery(o,t),s=c.fetchMore.bind(c),u=t.mutations,l=(0,d.default)(t,["mutations"]),f="function"==typeof u?u(e,c,l):u,p=c.fetch?c.fetch.bind(c):null;return{client:e,observableQuery:c,queryDefinition:o,createDocument:n,saveDocument:r,deleteDocument:a,getAssociation:i,fetchMore:s,fetch:p,mutations:f}};t.getQueryAttributes=g;var b=function(e){var t=e.observableQuery,n=e.fetchMore,r=e.fetch,a=e.createDocument,i=e.saveDocument,o=e.deleteDocument,c=e.getAssociation,s=e.mutations;return[m({fetchMore:n,fetch:r},t.currentResult()),m({createDocument:a,saveDocument:i,deleteDocument:o,getAssociation:c},s)]};t.computeChildrenArgs=b;var w=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){(0,a.default)(this,r),i=n.call(this,e,t),(0,l.default)((0,o.default)(i),"onQueryChange",function(){i.recomputeChildrenArgs(),i.setState(v)});var i,c=t.client;if(!t.client)throw Error("Query should be used with client in context (use CozyProvider to set context)");return i.client=c,i.observableQuery=null,i.queryUnsubscribe=null,Object.assign((0,o.default)(i),g(c,e)),i.recomputeChildrenArgs(),i}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.queryUnsubscribe=this.observableQuery.subscribe(this.onQueryChange),!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"executeQueryRespectingFetchPolicy",value:function(){if(this.props.fetchPolicy){var e=this.client.getQueryFromState(this.props.as);this.props.fetchPolicy&&"function"==typeof this.props.fetchPolicy&&this.props.fetchPolicy(e)&&y(this.client,this.observableQuery)}else y(this.client,this.observableQuery)}},{key:"componentDidUpdate",value:function(e){!1===e.enabled&&!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"componentWillUnmount",value:function(){this.queryUnsubscribe&&this.queryUnsubscribe()}},{key:"recomputeChildrenArgs",value:function(){this.childrenArgs=b(this)}},{key:"render",value:function(){return(0,this.props.children)(this.childrenArgs[0],this.childrenArgs[1])}}]),r}(f.Component);t.default=w,w.contextTypes={client:p.default.object,store:p.default.object};var k=p.default.object;w.propTypes={query:p.default.oneOfType([p.default.func,k]).isRequired,enabled:p.default.bool,as:p.default.string,children:p.default.func.isRequired,fetchPolicy:p.default.func},w.defaultProps={enabled:!0}},40602:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=n(96540),c=r(n(40258)),s=n(60174),u=n(33482);t.default=(0,o.memo)(function(e){var t=e.doctype,n=(0,c.default)();return(0,o.useEffect)(function(){var e,r=n.plugins.realtime;if(!r)throw Error("You must include the realtime plugin to use RealTimeQueries");var o={};"io.cozy.files"===t&&(o.enhanceDocFn=u.ensureFilePath);var c=function(e){(0,s.dispatchCreate)(n,t,e,o)},l=function(e){(0,s.dispatchUpdate)(n,t,e,o)},d=function(e){(0,s.dispatchDelete)(n,t,e,o)};return(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.subscribe("created",t,c);case 2:return e.next=4,r.subscribe("updated",t,l);case 4:return e.next=6,r.subscribe("deleted",t,d);case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){r.unsubscribe("created",t,c),r.unsubscribe("updated",t,l),r.unsubscribe("deleted",t,d)}},[n,t]),null})},39114:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(26396)),u=r(n(38970)),l=r(n(73916)),d=r(n(55364)),f=r(n(47091)),p=r(n(44742)),h=n(68650);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(e){var t=(0,l.default)(e.relationships||{},function(e,t){return v(v({},e),{},{name:t,type:(0,h.resolveClass)(e.doctype,e.type)})});return v(v({},e),{},{relationships:(0,f.default)(t)>0?(0,u.default)(t,"name"):null})},g=function(e,t){if(!e)throw Error(t)},b=function(e,t){var n=(0,p.default)(e,t,function(e){return e.name});g(0===n.length,"Duplicated names in schemas being added: ".concat(n.map(function(e){return e.name}).join(", ")));var r=(0,p.default)(e,t,function(e){return e.doctype});g(0===r.length,"Duplicated doctypes in schemas being added: ".concat(r.map(function(e){return e.name}).join(", ")))};t.default=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,o.default)(this,n),this.byDoctype={},this.add(e),this.client=t}return(0,c.default)(n,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(e,function(e,t){return v({name:t},y(e))});b(Object.values(t),Object.values(this.byDoctype)),(0,d.default)(this.byDoctype,(0,u.default)(t,function(e){return e.doctype}))}},{key:"getDoctypeSchema",value:function(e){var t=this.byDoctype[e];return t||(t=y({name:e,doctype:e}),this.byDoctype[e]=t),t}},{key:"getRelationship",value:function(e,t){if(!e)throw TypeError("Invalid doctype ".concat(e));var n=this.getDoctypeSchema(e);if(!n)throw Error("Cannot find doctype ".concat(e," in schema"));if(!n.relationships)throw Error("Schema for doctype ".concat(e," has no relationships"));return n.relationships[t]}},{key:"validate",value:(e=(0,i.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r=this.byDoctype[t._type]){e.next=4;break}return e.abrupt("return",!0);case 4:if(r.attributes){e.next=6;break}return e.abrupt("return",!0);case 6:e.t0=a.default.keys(r.attributes);case 7:if((e.t1=e.t0()).done){e.next=15;break}return i=e.t1.value,e.next=11,this.validateAttribute(t,i,r.attributes[i]);case 11:!0!==(o=e.sent)&&(n[i]=o),e.next=7;break;case 15:if(0!==Object.keys(n).length){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"validateAttribute",value:(t=(0,i.default)(a.default.mark(function e(t,n,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.unique&&this.client)){e.next=6;break}return e.next=3,this.client.collection(t._type).checkUniquenessOf(n,t[n]);case 3:if(!0===e.sent){e.next=6;break}return e.abrupt("return","must be unique");case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),n}()},14545:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));n(31201),t.default=function(){function e(t,n,r,i){(0,a.default)(this,e);var o=i.dispatch,c=i.get,s=i.query,u=i.mutate,l=i.save;this.target=t,this.name=n,this.doctype=r,this.get=c,this.query=s,this.mutate=u,this.save=l,this.dispatch=o}return(0,i.default)(e,[{key:"raw",get:function(){throw Error("A relationship must define its raw getter")}},{key:"data",get:function(){throw Error("A relationship must define its data getter")}}],[{key:"query",value:function(e,t,n){throw Error("A custom relationship must define its query() function")}}]),e}()},25377:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.updateRelationship=t.updateHasManyItem=t.removeHasManyItem=t.setHasManyItem=t.getHasManyItems=t.getHasManyItem=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(21259)),f=r(n(58156)),p=r(n(55364)),h=n(31201),m=n(46475),v=r(n(14545)),y=r(n(87925));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e,t,n){var r=-1===t?e.length:t;return[].concat((0,d.default)(e.slice(0,r)),[n],(0,d.default)(e.slice(r+1)))},k=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){var e;(0,a.default)(this,r);for(var t=arguments.length,i=Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),(0,l.default)((0,o.default)(e),"updateRelationshipData",function(t){return function(n,r){var a=(0,m.getDocumentFromState)(r(),e.target._type,e.target._id);n((0,m.receiveQueryResult)(null,{data:b(b({},a),{},{relationships:b(b({},a.relationships),{},(0,l.default)({},e.name,t(a.relationships[e.name])))})}))}}),e}return(0,i.default)(r,[{key:"fetchMore",value:function(){throw"Not implemented"}},{key:"exists",value:function(e){return this.existsById(e._id)}},{key:"containsById",value:function(e){return void 0!==this.getRelationship().data.find(function(t){return e===t._id})}},{key:"existsById",value:function(e){return!!(this.containsById(e)&&this.get(this.doctype,e))}},{key:"add",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.addById(t)}},{key:"remove",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.removeById(t)}},{key:"addTargetRelationships",value:function(e){var t,n=this;this.target.relationships||(this.target.relationships={}),this.target.relationships[this.name]||(this.target.relationships[this.name]={data:[]});var r=(Array.isArray(e)?e:[e]).filter(function(e){return!n.existsById(e)}).map(function(e){return{_id:e,_type:n.doctype}});(t=this.target.relationships[this.name].data).push.apply(t,(0,d.default)(r)),this.updateMetaCount()}},{key:"addById",value:function(e){return this.addTargetRelationships(e),this.save(this.target)}},{key:"removeTargetRelationships",value:function(e){var t=Array.isArray(e)?e:[e];this.target.relationships[this.name].data=this.target.relationships[this.name].data.filter(function(e){var n=e._id;return!t.includes(n)}),this.updateMetaCount()}},{key:"removeById",value:function(e){return this.removeTargetRelationships(e),this.save(this.target)}},{key:"updateMetaCount",value:function(){void 0!==(0,f.default)(this.target.relationships[this.name],"meta.count")&&(this.target.relationships[this.name].meta=b(b({},this.target.relationships[this.name].meta),{},{count:this.target.relationships[this.name].data.length}))}},{key:"getRelationship",value:function(){var e=this.target[this.name],t=(0,f.default)(this.target,"relationships.".concat(this.name));return t||(e&&e.length&&y.default.warn("You're trying to access data on a relationship that appear to not be loaded yet. You may want to use 'include()' on your query"),{data:[],next:!0,meta:{count:0}})}},{key:"updateTargetRelationship",value:function(e,t){var n=e.readDocument(this.target._type,this.target._id);e.writeDocument(this.updateRelationship(n,t))}},{key:"updateRelationship",value:function(e,t){return r.updateRelationship(e,this.name,t)}},{key:"dehydrate",value:function(e){return b(b({},e),{},{relationships:b(b({},e.relationships),{},(0,l.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return this.getRelationship().data}},{key:"data",get:function(){var e=this;return this.getRelationship().data.map(function(t){var n=t._id,r=t._type;return e.get(r,n)}).filter(Boolean)}},{key:"hasMore",get:function(){return this.getRelationship().next}},{key:"count",get:function(){var e=this.getRelationship();return e.meta?e.meta.count:e.data.length}}],[{key:"query",value:function(e,t,n){var r=(0,f.default)(e,"relationships.".concat(n.name,".data"),[]).map(function(e){return e._id});return new h.QueryDefinition({doctype:n.doctype,ids:r})}}]),r}(v.default);t.getHasManyItem=k.getHasManyItem=function(e,t,n){return(0,f.default)(e,"relationships.".concat(t,".data"),[]).find(function(e){return e._id==n})},t.getHasManyItems=k.getHasManyItems=function(e,t){return(0,f.default)(e,"relationships.".concat(t,".data"),[])},t.setHasManyItem=k.setHasManyItem=function(e,t,n,r){var a=k.getHasManyItems(e,t),i=a.findIndex(function(e){return e._id===n}),o=(0,p.default)({},a[i],r),c=w(a,i,o);return k.updateRelationship(e,t,function(e){return(0,p.default)({},e,{data:c})})},t.removeHasManyItem=k.removeHasManyItem=function(e,t,n){var r=k.getHasManyItems(e,t).filter(function(e){return e._id!==n});return k.updateRelationship(e,t,function(){return{data:r}})},t.updateHasManyItem=k.updateHasManyItem=function(e,t,n,r){var a=r(k.getHasManyItem(e,t,n));return k.setHasManyItem(e,t,n,a)},t.updateRelationship=k.updateRelationship=function(e,t,n){return b(b({},e),{},{relationships:b(b({},e.relationships),{},(0,l.default)({},t,b(b({},e.relationships?e.relationships[t]:{}),n(e.relationships?e.relationships[t]:{}))))})},t.default=k},93202:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getFileDatetime=void 0;var a=r(n(92207)),i=r(n(21259)),o=r(n(26396)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(96220)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337)),h=r(n(22056)),m=r(n(58156)),v=r(n(90179)),y=r(n(63375)),g=n(31201),b=n(46475),w=n(58494);r(n(14545));var k=r(n(25377));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e,t){var n=(0,h.default)(e,3),r=n[0],a=n[1],i=n[2];return[i?[r,a,i]:[r,a],t]},E=function(e){var t;return(null==(t=e.metadata)?void 0:t.datetime)||e.created_at};t.getFileDatetime=E,t.default=function(e){(0,d.default)(k,e);var t,n,r,o,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(k);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function k(){return(0,s.default)(this,k),h.apply(this,arguments)}return(0,u.default)(k,[{key:"fetchMore",value:(n=(0,c.default)(a.default.mark(function e(){var t,n,r,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.QueryDefinition({doctype:w.DOCTYPE_FILES}),r=(n=this.getRelationship().data)[n.length-1],e.next=5,this.dispatch(function(){var e=(0,c.default)(a.default.mark(function e(c,s){var u,l,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=E((0,b.getDocumentFromState)(s(),r._type,r._id)),l=_([o.target._type,o.target._id,u],n[n.length-1]._id),e.next=5,o.query(t.referencedBy(o.target).offsetCursor(l));case 5:return(d=e.sent).data.shift(),e.next=9,o.dispatch(o.updateRelationshipData(function(e){return O(O({},e),{},{data:[].concat((0,i.default)(e.data),(0,i.default)(d.data)),next:d.next})}));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"addById",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t:[t],this.addTargetRelationships(n),r=n.map(function(e){return{_id:e,_type:i.doctype}}),e.next=5,this.mutate(this.addReferences(r));case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"removeById",value:(o=(0,c.default)(a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.isArray(t)?t:[t],this.removeTargetRelationships(t),r=n.map(function(e){return{_id:e,_type:i.doctype}}),e.next=5,this.mutate(this.removeReferences(r));case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"addReferences",value:function(e){if(this.target._type===w.DOCTYPE_FILES)return g.Mutations.addReferencedBy(this.target,e);if(e[0]._type===w.DOCTYPE_FILES)return g.Mutations.addReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"removeReferences",value:function(e){if(this.target._type===w.DOCTYPE_FILES)return g.Mutations.removeReferencedBy(this.target,e);if(e[0]._type===w.DOCTYPE_FILES)return g.Mutations.removeReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"dehydrate",value:function(e){return(0,v.default)(e,[this.name,"relationships.".concat(this.name)])}},{key:"data",get:function(){var e=this;return this.target._type===w.DOCTYPE_FILES?(0,m.default)(this.target,"referenced_by",[]).map(function(t){var n=t.id,r=t.type;return e.get(r,n)}).filter(Boolean):(0,l.default)((0,p.default)(k.prototype),"data",this)}}],[{key:"query",value:function(e,t,n){if(e._type===w.DOCTYPE_FILES){var r=(0,m.default)(e,"relationships.referenced_by.data",[]),a=(0,y.default)(r.filter(function(e){return e.type===n.doctype}).map(function(e){return e.id}));return a.length>0?(0,g.Q)(n.doctype).getByIds(a):null}var i=_([e._type,e._id],"");return(0,g.Q)(n.doctype).referencedBy(e).offsetCursor(i)}}]),k}(k.default)},93063:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=n(31201);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"addById",value:function(e){this.getRelationship().push(e)}},{key:"removeById",value:function(e){var t=this.getRelationship(),n=t.indexOf(e);-1!==n&&t.splice(n,1)}},{key:"existsById",value:function(e){return -1!==this.getRelationship().indexOf(e)}},{key:"getRelationship",value:function(){return this.target[this.name]=this.target[this.name]||[],this.target[this.name]}},{key:"dehydrate",value:function(e){return f(f({},e),{},(0,a.default)({},this.name,this.raw||[]))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var e=this,t=this.doctype;return(this.raw||[]).map(function(n){return e.get(t,n)})}}],[{key:"query",value:function(e,t,n){var r=e[n.name];return r&&r>0?(0,l.Q)(n.doctype).getByIds(r):null}}]),r}(r(n(14545)).default)},1268:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(96220)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(25377)),d=n(31201);t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,[{key:"data",get:function(){var e=this;return(0,o.default)((0,u.default)(r.prototype),"data",this).filter(function(t){return t.slug===e.target.slug})}}],[{key:"query",value:function(e,t){return(0,d.Q)("io.cozy.triggers").where({worker:"konnector"})}}]),r}(l.default)},88232:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(58156)),d=r(n(63560)),f=n(31201),p=r(n(14545)),h=r(n(87925));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"add",value:function(e){return this.setRelationship(e),this.save(this.target)}},{key:"remove",value:function(){return this.setRelationship(void 0),this.save(this.target)}},{key:"setRelationship",value:function(e){if(e&&e._type!==this.doctype)throw Error("Tried to associate a ".concat(e._type," document to a HasOne relationship on ").concat(this.doctype," document"));var t="relationships[".concat(this.name,"].data");e?(0,d.default)(this.target,t,{_id:e._id,_type:e._type}):(0,d.default)(this.target,t,void 0)}},{key:"set",value:function(e){h.default.warn("set is deprecated for has-one relationships. Use `add` instead."),this.setRelationship(e)}},{key:"unset",value:function(){h.default.warn("unset is deprecated for has-one relationships. Use `remove` instead."),this.setRelationship(void 0)}},{key:"dehydrate",value:function(e){return this.raw?v(v({},e),{},{relationships:v(v({},e.relationships),{},(0,a.default)({},this.name,{data:this.raw}))}):e}},{key:"raw",get:function(){return(0,l.default)(this.target,"relationships[".concat(this.name,"].data"),null)}},{key:"data",get:function(){return this.raw?this.get(this.doctype,this.raw._id):null}}],[{key:"query",value:function(e,t,n){var r=(0,l.default)(e,"relationships.".concat(n.name,".data"),{});return r&&r._id?(0,f.Q)(n.doctype).getById(r._id):null}}]),r}(p.default)},15304:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BelongsToInPlace=t.default=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(14545)),d=n(31201);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"dehydrate",value:function(e){return p(p({},e),{},(0,a.default)({},this.name,this.raw||void 0))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){return this.get(this.doctype,this.raw)}}],[{key:"query",value:function(e,t,n){var r=e[n.name];return t.getDocumentFromState(n.doctype,r)||(0,d.Q)(n.doctype).getById(r)}}]),r}(l.default);t.default=h,t.BelongsToInPlace=h},77147:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedById=t.getReferencedBy=t.isReferencedById=t.isReferencedBy=t.create=t.resolveClass=t.attachRelationships=t.responseToRelationship=t.pickTypeAndId=void 0;var a=r(n(26396)),i=r(n(44383)),o=r(n(71086)),c=r(n(14545)),s=r(n(88232)),u=r(n(15304)),l=r(n(25377)),d=r(n(93063)),f=r(n(93202));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return(0,i.default)(e,"_type","_id")};t.pickTypeAndId=m,t.responseToRelationship=function(e){var t;return(0,o.default)({data:Array.isArray(t=e.data)?t.map(m):m(t),meta:e.meta,next:e.next,skip:e.skip,bookmark:e.bookmark})};var v=function(e,t){return h(h({},e),{},{relationships:h(h({},e.relationships),t)})};t.attachRelationships=function(e,t){if(Array.isArray(e.data))return h(h({},e),{},{data:e.data.map(function(e){return v(e,t[e._id])})});var n=e.data;return h(h({},e),{},{data:v(n,t[n._id])})};var y={"io.cozy.files:has-many":f.default,"has-many":l.default,"belongs-to-in-place":u.default,"has-one":s.default,"has-one-in-place":u.default,"has-many-in-place":d.default};t.resolveClass=function(e,t){if(void 0===t)throw Error("Undefined type for "+e);if("string"!=typeof t)return t;var n=y["".concat(e,":").concat(t)]||y[t];if(n)return n;throw Error("Unknown association '".concat(t,"'"))},t.create=function(e,t,n){var r=t.name,a=t.type,i=t.doctype;if(e[r]instanceof c.default)throw Error("Association ".concat(r," already exists"));return new a(e,r,i,n)},t.isReferencedBy=function(e,t){var n,r;return((null==e||null==(n=e.relationships)||null==(r=n.referenced_by)?void 0:r.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t})},t.isReferencedById=function(e,t,n){var r,a;return((null==e||null==(r=e.relationships)||null==(a=r.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t&&e.id===n})},t.getReferencedBy=function(e,t){var n,r;return((null==e||null==(n=e.relationships)||null==(r=n.referenced_by)?void 0:r.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t})},t.getReferencedById=function(e,t,n){var r,a;return((null==e||null==(r=e.relationships)||null==(a=r.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t&&e.id===n})}},68650:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HasManyFiles",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"resolveClass",{enumerable:!0,get:function(){return d.resolveClass}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return d.create}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return d.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return d.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return d.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return d.getReferencedById}});var a=r(n(93202)),i=r(n(25377)),o=r(n(88232)),c=r(n(15304)),s=r(n(93063)),u=r(n(1268)),l=r(n(14545)),d=n(77147)},89258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authFunction=void 0,t.authFunction=function(){throw"Not implemented"}},58494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES_ENCRYPTION=t.DOCTYPE_PERMISSIONS=t.DOCTYPE_FILES=t.REGISTRATION_ABORT=void 0,t.REGISTRATION_ABORT="REGISTRATION_ABORT",t.DOCTYPE_FILES="io.cozy.files",t.DOCTYPE_PERMISSIONS="io.cozy.permissions",t.DOCTYPE_FILES_ENCRYPTION="io.cozy.files.encryption"},39924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_TYPE=void 0,t.APP_TYPE={KONNECTOR:"konnector",WEBAPP:"webapp"}},81610:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clientContext=void 0;var a=n(96540);r(n(59201));var i=(0,a.createContext)({client:null,store:null});t.clientContext=i,t.default=i},54002:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.BulkEditError=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(16826)),d=r(n(30307));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.BulkEditError=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){var a;return(0,i.default)(this,r),(a=n.call(this,"Error while bulk saving")).name="BulkEditError",a.results=(0,d.default)(e,t,function(e,t){return p(p({},e),{},{doc:t})}),a}return(0,o.default)(r,[{key:"getUpdatedDocuments",value:function(){return this.results.filter(function(e){return e.ok}).map(function(e){return e.doc})}},{key:"getErrors",value:function(){return this.results.filter(function(e){return!e.ok})}}]),r}((0,l.default)(Error))},71406:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.certifyFlagship=void 0;var c=o(n(92207)),s=o(n(79092));o(n(59201));var u=n(20707),l=(r=(0,s.default)(c.default.mark(function e(t){var n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.getStackClient(),e.next=4,n.fetchJSON("POST","/auth/clients/".concat(n.oauthOptions.clientID,"/challenge"),null,{headers:{Authorization:n.registrationAccessTokenToAuthHeader()}});case 4:return r=e.sent,e.abrupt("return",r.nonce);case 8:throw e.prev=8,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while requesting a challenge from CozyStack:\n"+e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return r.apply(this,arguments)}),d=(a=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.platform,i=t.attestation,o=t.keyId,s=t.issuer,u=r.getStackClient(),e.next=5,u.fetchJSON("POST","/auth/clients/".concat(u.oauthOptions.clientID,"/attestation"),{platform:a,attestation:i,challenge:n,keyId:o,issuer:s},{headers:{Authorization:u.registrationAccessTokenToAuthHeader()}});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while giving attestation to CozyStack:\n"+e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return a.apply(this,arguments)});i=(0,s.default)(c.default.mark(function e(t,n){var r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("[FLAGSHIP_CERTIFICATION] Certification configuration is not set");case 2:return e.prev=2,e.next=5,l(n);case 5:return r=e.sent,e.next=8,(0,u.getAppAttestationFromStore)(r,t);case 8:return a=e.sent,e.next=11,d(a,r,n);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.warn('[FLAGSHIP_CERTIFICATION] Automatic certification for URI "'.concat(n.stackClient.uri,'" failed. This is expected on dev environments and non-official phones. Cozy-stack will continue with manual certification through 2FA')),console.warn(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[2,13]])})),t.certifyFlagship=function(e,t){return i.apply(this,arguments)}},20707:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getAppAttestationFromStore=void 0;var i=a(n(92207));t.getAppAttestationFromStore=(r=(0,a(n(79092)).default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("getAppAttestationFromStore can only be called from a React Native container");case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},35625:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrate=void 0;var a=r(n(22056)),i=n(68650);t.dehydrate=function(e){return Object.entries(e).reduce(function(e,t){var n=(0,a.default)(t,2),r=n[0],o=n[1],c=e;if(o instanceof i.Association)if(o.dehydrate)c=o.dehydrate(c);else throw Error("Association on key ".concat(r," should have a dehydrate method"));else c[r]=o;return c},{})}},56975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return r.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return r.deconstructRedirectLink}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return r.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return r.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return r.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return r.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return r.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return r.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return r.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return r.BlockedCozyError}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return a.dehydrate}}),Object.defineProperty(t,"editSettings",{enumerable:!0,get:function(){return i.editSettings}}),Object.defineProperty(t,"getQuery",{enumerable:!0,get:function(){return i.getQuery}}),Object.defineProperty(t,"getSettings",{enumerable:!0,get:function(){return i.getSettings}}),Object.defineProperty(t,"normalizeSettings",{enumerable:!0,get:function(){return i.normalizeSettings}}),Object.defineProperty(t,"saveAfterFetchSettings",{enumerable:!0,get:function(){return i.saveAfterFetchSettings}});var r=n(79846),a=n(35625),i=n(93082)},33482:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureFilePath=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(79092)),s=n(31201),u=a(n(59201));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=function(e){return{definition:function(){return(0,s.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),singleDocData:!0,fetchPolicy:u.default.fetchPolicies.olderThan(3e4)}}};r=(0,c.default)(i.default.mark(function e(t){var n,r,a,c,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},!t.path){e.next=3;break}return e.abrupt("return",t);case 3:return r=d(t.dir_id),e.next=6,n.client.fetchQueryAndGetFromState({definition:r.definition(),options:r.options});case 6:if(!(!(a=e.sent).data||!a.data.path)){e.next=9;break}throw Error("Could not define a file path for ".concat(t._id||t.id));case 9:return c=a.data.path+"/"+t.name,e.abrupt("return",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({path:c},t));case 11:case"end":return e.stop()}},e)})),t.ensureFilePath=function(e){return r.apply(this,arguments)}},93082:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t.extractKeys=t.editSettings=t.normalizeSettings=t.saveAfterFetchSettings=t.getSettings=void 0;var o=i(n(22056)),c=i(n(26396)),s=i(n(92207)),u=i(n(79092));i(n(59201));var l=i(n(70971)),d=n(31201);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=l.default.olderThan(36e5);r=(0,u.default)(s.default.mark(function e(t,n,r){var a,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=k(n),e.next=3,t.fetchQueryAndGetFromState({definition:a.definition,options:a.options});case 3:return i=v(e.sent.data),e.abrupt("return",w(i,r));case 6:case"end":return e.stop()}},e)})),t.getSettings=function(e,t,n){return r.apply(this,arguments)},a=(0,u.default)(s.default.mark(function e(t,n,r,a){var i,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=k(n),e.next=3,t.fetchQueryAndGetFromState({definition:i.definition,options:i.options});case 3:return o=v(e.sent.data),c=void 0,c="function"==typeof r?r(w(o,a)):h(h({},w(o,Object.keys(r))),r),u=y(n,o,c),e.next=10,t.save(u);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),t.saveAfterFetchSettings=function(e,t,n,r){return a.apply(this,arguments)};var v=function(e){return(Array.isArray(e)?e[0]:e)||{}};t.normalizeSettings=v;var y=function(e,t,n){var r=_(e);return"instance"===e?g(t,n):b(t,r,n)};t.editSettings=y;var g=function(e,t){for(var n=h(h({_id:e._id,_type:e._type,_rev:e.meta.rev},e),{},{attributes:h({},e.attributes)}),r=0,a=Object.entries(t);r<a.length;r++){var i=(0,o.default)(a[r],2),c=i[0],s=i[1];n[c]=s,n.attributes[c]=s}return n},b=function(e,t,n){for(var r=h({_type:t},e),a=0,i=Object.entries(n);a<i.length;a++){var c=(0,o.default)(i[a],2),s=c[0],u=c[1];r[s]=u}return r},w=function(e,t){var n,r={},a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r[i]=e[i]}}catch(e){a.e(e)}finally{a.f()}return r};t.extractKeys=w;var k=function(e){return"instance"===e?O(e):"passwords"===e?O("bitwarden"):x(e)};t.getQuery=k;var x=function(e){var t=_(e);return{definition:(0,d.Q)(t).limitBy(1),options:{as:t,fetchPolicy:m,singleDocData:!0}}},O=function(e){var t="io.cozy.settings",n=_(e);return{definition:(0,d.Q)(t).getById(n),options:{as:"".concat(t,"/").concat(n),fetchPolicy:m,singleDocData:!0}}},_=function(e){return["instance","bitwarden"].includes(e)?"io.cozy.settings.".concat(e):"passwords"===e?"io.cozy.settings.bitwarden":"io.cozy.".concat(e,".settings")}},79846:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRegistrationDetails=t.rootCozyUrl=t.InvalidCozyUrlError=t.BlockedCozyError=t.InvalidProtocolError=t.InvalidRedirectLinkError=t.deconstructRedirectLink=t.deconstructCozyWebLinkWithSlug=t.generateWebLink=t.ensureFirstSlash=void 0;var s=c(n(21259)),u=c(n(15890)),l=c(n(92207)),d=c(n(79092)),f=c(n(82274)),p=c(n(56994)),h=c(n(65611)),m=c(n(18337)),v=c(n(16826)),y=c(n(22056));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,m.default)(e);return n=t?Reflect.construct(r,arguments,(0,m.default)(this).constructor):r.apply(this,arguments),(0,h.default)(this,n)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){return e?e.startsWith("/")?e:"/"+e:"/"};t.ensureFirstSlash=w,t.generateWebLink=function(e){var t=e.cozyUrl,n=e.searchParams,r=e.pathname,a=e.hash,i=e.slug,o=e.subDomainType,c=new URL(t);c.host="nested"===o?"".concat(i,".").concat(c.host):c.host.split(".").map(function(e,t){return 0===t?e+"-"+i:e}).join("."),c.pathname=w(r),c.hash=w(a);var s,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(n||[]);try{for(u.s();!(s=u.n()).done;){var l=(0,y.default)(s.value,2),d=l[0],f=l[1];c.searchParams.set(d,f)}}catch(e){u.e(e)}finally{u.f()}return c.toString()},t.deconstructCozyWebLinkWithSlug=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flat",n=new URL(e),r="nested"===t?n.host.split(".")[0]:n.host.split(".")[0].split("-")[1],a="nested"===t?n.host.split(".")[1]:n.host.split(".")[0].split("-")[0];return{cozyBaseDomain:n.host.split(".").slice("nested"===t?2:1).join("."),cozyName:a,pathname:n.pathname,hash:n.hash,protocol:n.protocol,searchParams:n.searchParams.toString(),slug:r}},t.deconstructRedirectLink=function(e){var t=e.split("#"),n=(0,y.default)(t,2),r=n[0],a=n[1],i=r.split(/\/(.*)/),o=(0,y.default)(i,2),c=o[0],s=o[1];if(!c.match(/^[a-z0-9]+$/))throw new k(e);return{slug:c,pathname:s,hash:a}};var k=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Invalid redirect link ".concat(e))).redirectLink=e,r}return n}((0,v.default)(Error));t.InvalidRedirectLinkError=k;var x=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Invalid URL protocol ".concat(e.protocol))).url=e,r}return n}((0,v.default)(Error));t.InvalidProtocolError=x;var O=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"Blocked cozy ".concat(e.toString()))).url=e,r}return n}((0,v.default)(Error));t.BlockedCozyError=O;var _=function(e){(0,p.default)(n,e);var t=g(n);function n(e){var r;return(0,f.default)(this,n),(r=t.call(this,"URL ".concat(e.toString()," does not seem to be a valid Cozy URL"))).url=e,r}return n}((0,v.default)(Error));t.InvalidCozyUrlError=_;var E=function(e){var t=e.protocol,n=e.hostname,r=e.port;return(""!==t?"".concat(t,"//"):"https://")+n+(""!==r?":".concat(r):"")},C=(r=(0,d.default)(l.default.mark(function e(t){var n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E(t)+"/public/prelogin");case 2:if(r=(n=e.sent).status,a=n.url,404!==r){e.next=6;break}throw new _(t);case 6:return e.next=8,S(n);case 8:if(!e.sent){e.next=10;break}throw new O(t);case 10:if(200===r){e.next=12;break}return e.abrupt("return");case 12:if(!(a&&t.origin!==new URL(a).origin)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!(!(i=n.headers.get("content-type"))||-1===i.indexOf("application/json"))){e.next=18;break}return e.abrupt("return",!1);case 18:return e.abrupt("return",n.json());case 19:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});a=(0,d.default)(l.default.mark(function e(t){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return n=e.sent,e.abrupt("return",n.rootUrl);case 4:case"end":return e.stop()}},e)})),t.rootCozyUrl=function(e){return a.apply(this,arguments)};var S=(i=(0,d.default)(l.default.mark(function e(t){var n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(503===t.status){e.next=2;break}return e.abrupt("return",!1);case 2:return a=(r=t.headers.get("content-type"))&&r.indexOf("json")>=0,e.next=6,a?t.json():t.text();case 6:if(!(null!=(i=e.sent)&&null!=(n=i.some)&&n.call(i,function(e){return"Blocked"===e.title}))){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),P=function(e){if(!["http:","https:"].includes(e.protocol))throw new x(e)},A=function(e){var t=e.hostname.split("."),n=(0,u.default)(t),r=n[0],a=n.slice(1),i=[r.replace(/-.+/,"")].concat((0,s.default)(a)).join(".");return new URL(E({protocol:e.protocol,hostname:i,port:e.port}))},D=function(e){var t=e.hostname.split(".").splice(1).join(".");return new URL(E({protocol:e.protocol,hostname:t,port:e.port}))},T=(o=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(t),e.next=3,C(t);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",{rootUrl:new URL(E({protocol:t.protocol,hostname:t.hostname,port:t.port})),isOIDC:n.OIDC});case 6:if(!/^[^.-][^.]+-[^.-]+\./.test(t.hostname)){e.next=13;break}return r=A(t),e.next=10,C(r);case 10:if(!(a=e.sent)){e.next=13;break}return e.abrupt("return",{rootUrl:r,isOIDC:a.OIDC});case 13:return i=D(t),e.next=16,C(i);case 16:if(!(o=e.sent)){e.next=19;break}return e.abrupt("return",{rootUrl:i,isOIDC:o.OIDC});case 19:throw new _(t);case 20:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});t.fetchRegistrationDetails=T},55403:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.queryConnectFlat=t.queryConnect=t.withClient=void 0;var i=a(n(26396)),o=a(n(16193)),c=r(n(96540)),s=a(n(21362)),u=a(n(71382)),l=a(n(7509)),d=a(n(40258)),f=n(24921),p=a(n(87925));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.withClient=function(e){var t=function(t){var n=(0,d.default)();return c.default.createElement(e,(0,o.default)({},t,{client:n}))};return t.displayName="withClient(".concat(e.displayName||e.name,")"),t};var v=function(e,t,n){if(!t)throw Error("withQuery has no options for ".concat(e," (wrapping ").concat(n.name,")"));return function(n){var r=function(r,a){if(!a.client)throw Error("Should be used with client in context (use CozyProvider to set context)");var o="function"==typeof t?t(r):t;return t.doc?(p.default.warn("queryOpts.doc is deprecated"),c.default.createElement(n,m((0,i.default)({},e,o.doc),r))):c.default.createElement(l.default,o,function(t){return c.default.createElement(n,m((0,i.default)({},e,t),r))})};return r.contextTypes={client:s.default.object},r.displayName="withQuery(".concat(n.displayName||n.name,")"),r}};t.queryConnect=function(e){return function(t){var n=Object.keys(e).map(function(n){return v(n,e[n],t)});return u.default.apply(null,n)(t)}},t.queryConnectFlat=function(e){return function(t){var n=function(n){var r=(0,f.useQueries)(e);return c.default.createElement(t,(0,o.default)({},n,r))};return n.displayName="queryConnectFlat(".concat(t.displayName||t.name,")"),n}}},715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(96540);t.default=function(){var e=(0,r.useRef)();return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e}},67393:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=n(96540),o=r(n(715));t.default=function(e){var t=(0,o.default)(),n=(0,i.useState)(e),r=(0,a.default)(n,2),c=r[0],s=r[1];return[c,(0,i.useCallback)(function(e){t.current&&s(e)},[])]}},34658:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAppLinkWithStoreFallback",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useCapabilities",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useFetchShortcut",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"useFetchHomeShortcuts",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useClient",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useQuery",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useQueries",{enumerable:!0,get:function(){return l.useQueries}}),Object.defineProperty(t,"useAppsInMaintenance",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useQueryAll",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"useMutation",{enumerable:!0,get:function(){return p.useMutation}}),Object.defineProperty(t,"useInstanceInfo",{enumerable:!0,get:function(){return h.useInstanceInfo}}),Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return m.useSettings}});var i=a(n(40103)),o=a(n(50611)),c=a(n(40791)),s=a(n(82203)),u=a(n(40258)),l=r(n(24921)),d=a(n(15547)),f=a(n(1334)),p=n(89634),h=n(96702),m=n(42241)},40103:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=n(31201),u=n(83077);t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,c.useState)("loading"),l=(0,o.default)(r,2),d=l[0],f=l[1],p=(0,c.useState)(!0),h=(0,o.default)(p,2),m=h[0],v=h[1],y=(0,c.useState)(null),g=(0,o.default)(y,2),b=g[0],w=g[1];return(0,c.useEffect)(function(){var r;(r=(0,i.default)(a.default.mark(function r(){var i,o,c;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.query((0,s.Q)("io.cozy.apps"));case 3:i=r.sent,o={slug:e},v(!!(c=(0,u.isInstalled)(i.data,o))),c?w((0,u.getUrl)(c)+n):w((0,u.getStoreURL)(i.data,o)),f("loaded"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),f("errored");case 14:case"end":return r.stop()}},r,null,[[0,11]])})),function(){return r.apply(this,arguments)})()},[t,e,n]),{fetchStatus:d,isInstalled:m,url:b}}},15547:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(24921)),i=n(31201),o=r(n(59201));t.default=function(){return(0,a.default)((0,i.Q)("io.cozy.apps_registry").getById("maintenance"),{as:"io.cozy.apps_registry/maintenance",fetchPolicy:o.default.fetchPolicies.olderThan(6e5),singleDocData:!1}).data||[]}},50611:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=r(n(58156)),u=n(31201);t.default=function(e){var t=(0,c.useState)(),n=(0,o.default)(t,2),r=n[0],l=n[1],d=(0,c.useState)("idle"),f=(0,o.default)(d,2),p=f[0],h=f[1];return(0,c.useEffect)(function(){var t,n=(t=(0,i.default)(a.default.mark(function t(){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h("loading"),t.prev=1,t.next=4,e.query((0,u.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities"));case 4:n=t.sent,l((0,s.default)(n,"data",{})),h("loaded"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),h("failed");case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return t.apply(this,arguments)});e.capabilities?(l(e.capabilities),h("loaded")):n()},[e]),{capabilities:r,fetchStatus:p}}},40258:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(96540),i=r(n(81610));r(n(59201)),t.default=function(){return(0,a.useContext)(i.default).client}},82203:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(24921)),o=n(31201);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=r(n(59201)).default.fetchPolicies.olderThan(3e4);t.default=function(){var e,t,n={query:(0,o.Q)("io.cozy.files").where({path:"/Settings/Home"}).indexFields(["path"]),as:"io.cozy.files/path/Settings/Home",fetchPolicy:u},r=(0,i.default)(n.query,n),a=null==r||null==(e=r.data)||null==(t=e[0])?void 0:t._id,c={query:(0,o.Q)("io.cozy.files").where({dir_id:a,class:"shortcut"}).indexFields(["dir_id","class"]),as:"io.cozy.files/dir_id/".concat(a,"/class/shortcut"),fetchPolicy:u};return(0,i.default)(c.query,s(s({},c),{},{enabled:!!a})).data||[]}},40791:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=n(31201),u=r(n(59201));t.default=function(e,t){var n=(0,c.useState)(null),r=(0,o.default)(n,2),l=r[0],d=r[1],f=(0,c.useState)(null),p=(0,o.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)("idle"),y=(0,o.default)(v,2),g=y[0],b=y[1];return(0,c.useEffect)(function(){var n;(n=(0,i.default)(a.default.mark(function n(){var r,i,o,c,l,f;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return b("loading"),n.prev=1,n.next=4,e.fetchQueryAndGetFromState({definition:(0,s.Q)("io.cozy.files.shortcuts").getById(t),options:{as:"io.cozy.files.shortcuts/".concat(t),fetchPolicy:u.default.fetchPolicies.olderThan(6e5),singleDocData:!0}});case 4:if(!(l=null==(c=n.sent)||null==(r=c.data)||null==(i=r.metadata)||null==(o=i.target)?void 0:o.app)){n.next=13;break}return n.next=9,e.getStackClient().getIconURL({type:"app",slug:l,priority:"stack"});case 9:m(n.sent),n.next=16;break;case 13:f=new URL(c.data.url),m("".concat(e.getStackClient().uri,"/bitwarden/icons/").concat(f.host,"/icon.png"));case 16:d({data:c.data}),b("loaded"),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(1),b("failed");case 23:case"end":return n.stop()}},n,null,[[1,20]])})),function(){return n.apply(this,arguments)})()},[e,t]),{shortcutInfos:l,shortcutImg:h,fetchStatus:g}}},96702:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useInstanceInfo=void 0;var a=r(n(24921)),i=r(n(59201)),o=n(31201),c=n(51240);t.useInstanceInfo=function(){var e=s("io.cozy.settings.instance"),t=(0,a.default)(e.definition,e.options),n=s("io.cozy.settings.context"),r=(0,a.default)(n.definition,n.options),i=s("io.cozy.settings.disk-usage"),o=(0,a.default)(i.definition,i.options);return{isLoaded:null!==(0,c.hasQueryBeenLoaded)(t)&&null!==(0,c.hasQueryBeenLoaded)(r)&&null!==(0,c.hasQueryBeenLoaded)(o),instance:{data:t.data},context:{data:r.data},diskUsage:{data:o.data}}};var s=function(e){return{definition:(0,o.Q)("io.cozy.settings").getById(e),options:{as:"io.cozy.settings/".concat(e),fetchPolicy:i.default.fetchPolicies.olderThan(54e4),singleDocData:!0}}}},89634:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useMutation=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540),s=r(n(21362)),u=r(n(40258)),l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onSuccess,r=void 0===n?void 0:n,s=t.onError,l=void 0===s?void 0:s,d=(0,u.default)(),f=(0,c.useState)("pending"),p=(0,o.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)(),y=(0,o.default)(v,2),g=y[0],b=y[1],w=(0,c.useState)(),k=(0,o.default)(w,2),x=k[0],O=k[1];return{mutate:(0,c.useCallback)((e=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(void 0),m("loading"),e.prev=2,e.next=5,d.save(t);case 5:if(O((n=e.sent).data),"function"!=typeof r){e.next=10;break}return e.next=10,r(n.data);case 10:m("loaded"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(2),m("failed"),b(e.t0),"function"!=typeof l){e.next=20;break}return e.next=20,l(e.t0);case 20:case"end":return e.stop()}},e,null,[[2,13]])})),function(t){return e.apply(this,arguments)}),[d,l,r]),mutationStatus:h,error:g,data:x}};t.useMutation=l,l.propTypes={onSuccess:s.default.func,onError:s.default.func}},24921:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useQueries=void 0;var a=r(n(22056)),i=r(n(26396)),o=n(96540),c=n(89490),s=r(n(58156)),u=r(n(40258)),l=r(n(87925)),d=n(81610);n(31201);var f=n(28918);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,c.createSelectorHook)(d.clientContext),v=function(e,t){if(!m)throw Error("You must use react-redux > 7.1.0 to use useQuery (uses useSelector) under the hood");if(!e)throw l.default.warn("Bad query",e),Error("Bad query");var n=t.as,r=t.enabled,a=void 0===r||r,i=a?"function"==typeof e?e():e:null;if(!n)throw Error("You must specify options.as when using useQuery");var c=(0,u.default)(),d=m(function(){return void 0===t.singleDocData&&null!=i&&i.id&&l.default.warn("useQuery options.singleDocData will pass to true in a next version of cozy-client, please add it now to prevent any problem in the future."),c.getQueryFromState(n,{hydrated:(0,s.default)(t,"hydrated",!0),singleDocData:(0,s.default)(t,"singleDocData",!1)})},f.equalityCheckForQuery);(0,o.useEffect)(function(){!1!==a&&c.query(i,t)},[n,a]);var p=(0,o.useCallback)(function(){var e=c.getQueryFromState(n);return c.query(e.bookmark?e.definition.offsetBookmark(e.bookmark):e.definition.offset(e.data.length),{as:n})},[n,c]),v=(0,o.useCallback)(function(){return c.query(i,t)},[c,i,t]);return h(h({},d),{},{fetchMore:p,fetch:v})};t.useQueries=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=(0,a.default)(r[n],2),o=i[0],c=i[1];t[o]=v(c.query,c)}return t},t.default=v},1334:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540);n(31201);var s=r(n(24921)),u=r(n(67393));t.default=function(e,t){var n=(0,u.default)(!1),r=(0,o.default)(n,2),l=r[0],d=r[1],f=(0,s.default)(e,t);return(0,c.useEffect)(function(){var e;(e=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("loaded"===f.fetchStatus&&f.hasMore&&!l)){e.next=5;break}return d(!0),e.next=4,f.fetchMore();case 4:d(!1);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[f.hasMore,f.fetchStatus,l]),f}},42241:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=void 0;var a=r(n(39892)),i=n(96540),o=n(56975),c=n(89634),s=r(n(24921)),u=n(51240),l=n(93082);t.useSettings=function(e,t){var n=(0,o.getQuery)(e),r=(0,s.default)(n.definition,n.options),d=r.data,f=(0,a.default)(r,["data"]),p=(0,c.useMutation)(),h=p.mutate,m=(0,a.default)(p,["mutate"]),v=(0,i.useCallback)(function(t){var n=(0,o.normalizeSettings)(d);return h((0,o.editSettings)(e,n,t))},[h,d,e]),y=(0,o.normalizeSettings)(d),g=(0,u.hasQueryBeenLoaded)(f)?(0,l.extractKeys)(y,t):void 0;return{query:f,values:g,save:v,mutation:m}}},52970:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0});var i={CozyLink:!0,StackLink:!0,WebFlagshipLink:!0,DataProxyLink:!0,compose:!0,QueryDefinition:!0,Q:!0,Mutations:!0,MutationTypes:!0,getDoctypeFromOperation:!0,Association:!0,HasMany:!0,HasOne:!0,HasOneInPlace:!0,HasManyInPlace:!0,HasManyTriggers:!0,isReferencedBy:!0,isReferencedById:!0,getReferencedBy:!0,getReferencedById:!0,deconstructCozyWebLinkWithSlug:!0,deconstructRedirectLink:!0,dehydrate:!0,generateWebLink:!0,ensureFirstSlash:!0,fetchRegistrationDetails:!0,rootCozyUrl:!0,InvalidRedirectLinkError:!0,InvalidCozyUrlError:!0,InvalidProtocolError:!0,BlockedCozyError:!0,cancelable:!0,isQueryLoading:!0,hasQueryBeenLoaded:!0,isQueriesLoading:!0,hasQueriesBeenLoaded:!0,getQueryFromState:!0,dispatchCreate:!0,dispatchUpdate:!0,dispatchDelete:!0,Registry:!0,RealTimeQueries:!0,manifest:!0,CozyProvider:!0,withMutation:!0,withMutations:!0,Query:!0,queryConnect:!0,queryConnectFlat:!0,withClient:!0,models:!0,fetchPolicies:!0,BulkEditError:!0,webPerformanceApi:!0,defaultPerformanceApi:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"CozyLink",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackLink",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WebFlagshipLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"DataProxyLink",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"compose",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"QueryDefinition",{enumerable:!0,get:function(){return f.QueryDefinition}}),Object.defineProperty(t,"Q",{enumerable:!0,get:function(){return f.Q}}),Object.defineProperty(t,"Mutations",{enumerable:!0,get:function(){return f.Mutations}}),Object.defineProperty(t,"MutationTypes",{enumerable:!0,get:function(){return f.MutationTypes}}),Object.defineProperty(t,"getDoctypeFromOperation",{enumerable:!0,get:function(){return f.getDoctypeFromOperation}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return p.Association}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return p.HasMany}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return p.HasOne}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return p.HasOneInPlace}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return p.HasManyInPlace}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return p.HasManyTriggers}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return h.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return h.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return h.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return h.getReferencedById}}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return m.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return m.deconstructRedirectLink}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return m.dehydrate}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return m.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return m.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return m.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return m.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return m.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return m.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return m.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return m.BlockedCozyError}}),Object.defineProperty(t,"cancelable",{enumerable:!0,get:function(){return v.cancelable}}),Object.defineProperty(t,"isQueryLoading",{enumerable:!0,get:function(){return v.isQueryLoading}}),Object.defineProperty(t,"hasQueryBeenLoaded",{enumerable:!0,get:function(){return v.hasQueryBeenLoaded}}),Object.defineProperty(t,"isQueriesLoading",{enumerable:!0,get:function(){return v.isQueriesLoading}}),Object.defineProperty(t,"hasQueriesBeenLoaded",{enumerable:!0,get:function(){return v.hasQueriesBeenLoaded}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return y.getQueryFromState}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return y.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return y.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return y.dispatchDelete}}),Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"RealTimeQueries",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"withMutation",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"withMutations",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"queryConnect",{enumerable:!0,get:function(){return _.queryConnect}}),Object.defineProperty(t,"queryConnectFlat",{enumerable:!0,get:function(){return _.queryConnectFlat}}),Object.defineProperty(t,"withClient",{enumerable:!0,get:function(){return _.withClient}}),Object.defineProperty(t,"fetchPolicies",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"BulkEditError",{enumerable:!0,get:function(){return P.BulkEditError}}),Object.defineProperty(t,"webPerformanceApi",{enumerable:!0,get:function(){return A.webPerformanceApi}}),Object.defineProperty(t,"defaultPerformanceApi",{enumerable:!0,get:function(){return D.defaultPerformanceApi}}),t.models=t.manifest=void 0;var o=a(n(59201)),c=a(n(46956)),s=a(n(49095)),u=a(n(17917)),l=a(n(37687)),d=a(n(49870)),f=n(31201),p=n(68650),h=n(77147),m=n(56975),v=n(51240),y=n(46475),g=a(n(80366)),b=a(n(40602));t.manifest=r(n(67907));var w=a(n(36472)),k=a(n(24858)),x=a(n(78505)),O=a(n(7509)),_=n(55403);t.models=r(n(3584));var E=a(n(70971)),C=n(77647);Object.keys(C).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}})});var S=n(34658);Object.keys(S).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}})});var P=n(54002),A=n(56569),D=n(85778)},46956:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.chain=t.default=void 0;var a=r(n(21259)),i=r(n(92207)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=function(){var e,t,n;function r(e,t){(0,c.default)(this,r),"function"==typeof e&&(this.request=e),"function"==typeof t&&(this.persistCozyData=t)}return(0,s.default)(r,[{key:"request",value:(e=(0,o.default)(i.default.mark(function e(t,n,r,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("request is not implemented");case 1:case"end":return e.stop()}},e)})),function(t,n,r,a){return e.apply(this,arguments)})},{key:"persistCozyData",value:(t=(0,o.default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("persistCozyData is not implemented");case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})},{key:"reset",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("reset is not implemented");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),r}();t.default=u;var l=function(e){return"function"==typeof e?new u(e):e},d=new u(function(e,t,n){if(n)return n;if(e.execute)return e.execute();throw Error("No link could handle operation ".concat(JSON.stringify(e)))},function(e,t){});t.chain=function(e){return[].concat((0,a.default)(e),[d]).map(l).reduce(f)};var f=function(e,t){return new u(function(n,r,a,i){return e.request(n,r,a,function(e,n,r){return t.request(e,n,r,i)})},function(n,r){return e.persistCozyData(n,function(e){return t.persistCozyData(e,r)})})}},37687:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(46956)),h=r(n(40918));t.default=function(e){(0,u.default)(g,e);var t,n,r,p,m,v,y=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(g);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function g(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dataproxy;return(0,o.default)(this,g),e=y.call(this),(0,f.default)((0,s.default)(e),"_onReceiveMessage",function(t){if(t.origin.includes("dataproxy")){var n=null==t?void 0:t.data;n&&"object"==typeof n&&"DATAPROXYMESSAGE"===n.type&&"READY"===n.payload&&(h.default.info("Received message: DataProxy is ready"),e._flushQueue())}}),e.dataproxy=n||null,e._queue=[],e._drainingRequests=!1,window&&window.addEventListener("message",e._onReceiveMessage),e}return(0,c.default)(g,[{key:"registerClient",value:function(e){}},{key:"registerDataProxy",value:function(e){this.dataproxy=e,this._flushQueue()}},{key:"reset",value:(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,i.default)(a.default.mark(function e(t,n,r,i){var o,c=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(o=this.dataproxy)&&o.requestLink)){e.next=2;break}return e.abrupt("return",this.doRequest(t,n));case 2:return e.abrupt("return",new Promise(function(e,r){c._queue.push({operation:t,options:n,resolve:e,reject:r})}));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"doRequest",value:(p=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},i=performance.now(),e.next=4,this.dataproxy.requestLink(t,r);case 4:return o=e.sent,c=performance.now(),h.default.info("Request query took ".concat(c-i," ms")),e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"persistCozyData",value:(m=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})},{key:"_flushQueue",value:(v=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(null!=(t=this.dataproxy)&&t.requestLink)||this._queue.length<1)){e.next=2;break}return e.abrupt("return");case 2:h.default.info("Execute ".concat(this._queue.length," delayed requests")),this._drainingRequests=!0,e.prev=4;case 5:if(!(this._queue.length>0)){e.next=19;break}return r=(n=this._queue.shift()).operation,i=n.options,o=n.resolve,c=n.reject,e.prev=7,e.next=10,this.doRequest(r,i);case 10:s=e.sent,o(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),c(e.t0);case 17:e.next=5;break;case 19:return e.prev=19,this._drainingRequests=!1,this._queue.length>0&&this._flushQueue(),e.finish(19);case 23:case"end":return e.stop()}},e,this,[[4,,19,23],[7,14]])})),function(){return v.apply(this,arguments)})}]),g}(p.default)},49095:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transformBulkDocsResponse=void 0;var a=r(n(39892)),i=r(n(92207)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(30307)),h=n(31201),m=r(n(46956)),v=n(58494),y=n(54002),g=r(n(87925)),b=n(51240),w=n(85778);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=function(e){var t=e.selector,n=e.partialFilter,r=e.sort,a=e.fields;return!!t||!!n||!!r||!!a},_=function(e,t){var n=(0,p.default)(e,t,function(e,t){return e.ok?x(x({},t),{},{_id:e.id,_rev:e.rev}):t});if(e.find(function(e){return!e.ok}))throw new y.BulkEditError(e,n);return{data:n}};t.transformBulkDocsResponse=_,t.default=function(e){(0,u.default)(y,e);var t,n,r,f,p,m=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(y);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.client,r=t.stackClient,a=t.platform,i=t.performanceApi;return(0,c.default)(this,y),e=m.call(this),n&&g.default.warn("Using options.client is deprecated, prefer options.stackClient"),e.stackClient=r||n,e.isOnline=null==a?void 0:a.isOnline,e.performanceApi=i||w.defaultPerformanceApi,e}return(0,s.default)(y,[{key:"registerClient",value:function(e){this.stackClient=e.stackClient||e.client}},{key:"reset",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.stackClient=null;case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,o.default)(i.default.mark(function e(t,n,r,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!=n&&n.forceStack)&&this.isOnline,!e.t0){e.next=5;break}return e.next=4,this.isOnline();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",a(t,n));case 7:if(e.prev=7,!t.mutationType){e.next=12;break}return e.next=11,this.executeMutation(t,n,r,a);case 11:case 14:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeQuery(t);case 17:if(e.prev=17,e.t1=e.catch(7),!(!(null!=n&&n.forceStack)&&(0,b.isReactNativeOfflineError)(e.t1))){e.next=21;break}return e.abrupt("return",a(t,n));case 21:throw e.t1;case 22:case"end":return e.stop()}},e,this,[[7,17]])})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"persistCozyData",value:(f=(0,o.default)(i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(t));case 1:case"end":return e.stop()}},e)})),function(e,t){return f.apply(this,arguments)})},{key:"executeQuery",value:function(e){var t=e.doctype,n=e.selector,r=e.id,i=e.ids,o=e.referenced,c=e.sharingId,s=x(x({},(0,a.default)(e,["doctype","selector","id","ids","referenced","sharingId"])),{},{driveId:void 0});if(!t)throw g.default.warn("Bad query",e),Error("No doctype found in a query definition");t===v.DOCTYPE_FILES&&c&&(s=x(x({},s),{},{driveId:c}));var u=this.stackClient.collection(t,s);return r?u.get(r,e):i?u.getAll(i):o?u.findReferencedBy(o,s):O(e)?u.find(n,s):u.all(s)}},{key:"executeMutation",value:(p=(0,o.default)(i.default.mark(function e(t,n,r,o){var c,s,u,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=t.mutationType,s=t.document,u=t.documents,l=(0,a.default)(t,["mutationType","document","documents"]),e.t0=c,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?5:e.t0===h.MutationTypes.UPDATE_DOCUMENT?9:e.t0===h.MutationTypes.DELETE_DOCUMENT?10:e.t0===h.MutationTypes.DELETE_DOCUMENTS?11:e.t0===h.MutationTypes.ADD_REFERENCES_TO?12:e.t0===h.MutationTypes.REMOVE_REFERENCES_TO?13:e.t0===h.MutationTypes.ADD_REFERENCED_BY?14:e.t0===h.MutationTypes.REMOVE_REFERENCED_BY?19:e.t0===h.MutationTypes.UPLOAD_FILE?24:25;break;case 4:return e.abrupt("return",this.stackClient.collection(s._type).create(s));case 5:return e.next=7,this.stackClient.collection(u[0]._type).updateAll(u);case 7:return d=e.sent,e.abrupt("return",_(d,u));case 9:return e.abrupt("return",this.stackClient.collection(s._type).update(s));case 10:return e.abrupt("return",this.stackClient.collection(s._type).destroy(s));case 11:return e.abrupt("return",this.stackClient.collection(s._type).destroyAll(u));case 12:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).addReferencesTo(s,l.referencedDocuments));case 13:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).removeReferencesTo(s,l.referencedDocuments));case 14:if(s._type!==v.DOCTYPE_FILES){e.next=18;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).addReferencedBy(s,l.referencedDocuments));case 18:case 23:throw Error("The document type should be io.cozy.files");case 19:if(s._type!==v.DOCTYPE_FILES){e.next=23;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).removeReferencedBy(s,l.referencedDocuments));case 24:return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).upload(l.file,l.dirPath));case 25:return e.abrupt("return",o(t,n,r));case 26:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return p.apply(this,arguments)})}]),y}(m.default)},17917:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337));t.default=function(e){(0,s.default)(p,e);var t,n,r,d,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(p);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.webviewIntent;return(0,o.default)(this,p),(e=f.call(this)).webviewIntent=n,e}return(0,c.default)(p,[{key:"registerClient",value:function(e){}},{key:"reset",value:(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"request",value:(r=(0,i.default)(a.default.mark(function e(t,n,r,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webviewIntent.call("flagshipLinkRequest",t,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,a){return r.apply(this,arguments)})},{key:"persistCozyData",value:(d=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})}]),p}(r(n(46956)).default)},87925:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i=(0,a.default)("cozy-client");a.default.suggest.deny("cozy-client","info"),t.default=i},77647:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.createFakeClient=t.createMockClient=void 0;var a=r(n(22056)),i=r(n(92207)),o=r(n(79092)),c=r(n(26396)),s=r(n(39892)),u=r(n(55364)),l=r(n(59201)),d=n(46475),f=n(46846),p=n(31201);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=function(e,t,n){var r=n.definition,a=n.doctype,i=n.data,o=n.queryError,u=(0,s.default)(n,["definition","doctype","data","queryError"]);e.store.dispatch((0,d.initQuery)(t,r||(0,p.Q)(a))),o?e.store.dispatch((0,d.receiveQueryError)(t,o)):e.store.dispatch((0,d.receiveQueryResult)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({data:i?i.map(function(e){return(0,f.normalizeDoc)(e,a)}):i},u)))},v=function(e){var t;return t=(0,o.default)(i.default.mark(function t(n){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{data:null});case 2:if(!e[n.doctype]){t.next=6;break}return t.abrupt("return",{data:e[n.doctype]});case 6:return t.abrupt("return",{data:[]});case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}};t.createMockClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,n=e.remote,r=e.clientOptions,a=e.clientFunctions,i=jest.fn().mockImplementation(v(n));return y({queries:t,remote:n,clientOptions:r,clientFunctions:(0,u.default)({query:i,save:jest.fn(),saveAll:jest.fn(),stackClient:{fetchJSON:jest.fn()}},a)})};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,n=e.remote,r=e.clientOptions,i=e.clientFunctions,o=new l.default(r||{});o.ensureStore();for(var c=0,s=Object.entries(t||{});c<s.length;c++){var d=(0,a.default)(s[c],2);m(o,d[0],d[1])}return o.query=v(n),(0,u.default)(o,i),o};t.createFakeClient=y},9499:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isAccountWithTrigger=t.buildAccount=t.getAccountName=t.getAccountLogin=t.setContractSyncStatusInAccount=t.getContractSyncStatusFromAccount=t.muteError=t.getMutedErrors=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(26396)),s=a(n(55364)),u=n(31201),l=n(25377),d=n(67907);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return(null==e?void 0:e.mutedErrors)||[]};t.getMutedErrors=m,t.muteError=function(e,t){var n=m(e);return n.push({type:t,mutedAt:new Date().toISOString()}),h(h({},e),{},{mutedErrors:n})},t.getContractSyncStatusFromAccount=function(e,t){var n,r,a=(0,l.getHasManyItem)(e,"contracts",t);if(!a)throw Error("Cannot find contrat ".concat(t," in account"));return null==(n=null==a||null==(r=a.metadata)?void 0:r.imported)||n},t.setContractSyncStatusInAccount=function(e,t,n){return(0,l.updateHasManyItem)(e,"contracts",t,function(e){if(void 0===e)throw Error("Cannot find contrat ".concat(t," in account"));return(0,s.default)({},e,{metadata:{imported:n}})})};var v=function(e){if(e.identifier)return e.auth[e.identifier];if(e&&e.auth){var t,n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(d.legacyLoginFields);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.auth[r])return e.auth[r]}}catch(e){n.e(e)}finally{n.f()}}return null};t.getAccountLogin=v,t.getAccountName=function(e){return e?e.auth&&(e.auth.accountName||v(e))||e._id:null},t.buildAccount=function(e,t){return{auth:t,account_type:e.slug,identifier:(0,d.getIdentifier)(e.fields),state:null}},r=(0,o.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,u.Q)("io.cozy.triggers").where({"message.account":n._id}).indexFields(["message.account"]).limitBy(1));case 2:return r=e.sent,e.abrupt("return",r.data.length>0);case 4:case"end":return e.stop()}},e)})),t.isAccountWithTrigger=function(e,t){return r.apply(this,arguments)}},83077:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.filterEntrypoints=t.selectEntrypoints=t.shouldDisplayEntrypoint=t.checkEntrypointCondition=t.sortApplicationsList=t.getAppDisplayName=t.getUrl=t.isInstalled=t.getStoreInstallationURL=t.getStoreURL=void 0;var a=r(n(21259)),i=r(n(94619)),o=r(n(58156)),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var n=s(e,{slug:"store"});if(!n)return null;var r=n.links&&n.links.related;return r?"".concat(r,"#/discover/").concat(t.slug):null};t.getStoreURL=c,t.getStoreInstallationURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(e,t);return n?"".concat(n,"/install"):null};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.slug===t.slug})};t.isInstalled=s,t.getUrl=function(e){return e.links&&e.links.related},t.getAppDisplayName=function(e,t){var n=(0,o.default)(e,"name_prefix"),r=(0,o.default)(e,"name"),a=(0,o.default)(e,["locales",t,"name"],r),i=(0,o.default)(e,["locales",t,"name_prefix"],n);return i&&"cozy"!==i.toLowerCase()&&"twake"!==i.toLowerCase()?"".concat(i," ").concat(a):a},t.sortApplicationsList=function(e,t){return(0,a.default)(e).sort(function(e,n){var r=t.indexOf(e.slug);-1===r&&(r=1e3);var a=t.indexOf(n.slug);return -1===a&&(a=1e3),r-a})};var u=function(e){return"flag"===e.type&&(0,i.default)(e.name)===e.value};t.checkEntrypointCondition=u;var l=function(e){return(e.conditions||[]).every(function(e){return u(e)})};t.shouldDisplayEntrypoint=l,t.selectEntrypoints=function(e,t){return e.filter(function(e){return t.includes(e.name)})},t.filterEntrypoints=function(e){return e.filter(function(e){return l(e)})}},53010:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasExtensionInstalledAttribute=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(31201);r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,c.Q)("io.cozy.settings").getById("io.cozy.settings.bitwarden"),options:{as:"io.cozy.settings/io.cozy.settings.bitwarden",singleDocData:!0}});case 3:return n=e.sent.data.extension_installed,e.abrupt("return",!!n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasExtensionInstalledAttribute=function(e){return r.apply(this,arguments)}},95380:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMagicLink=t.isOIDC=void 0,t.isOIDC=function(e){var t;return null!=(t=e.capabilities.can_auth_with_oidc)&&t},t.isMagicLink=function(e){var t;return null!=(t=e.capabilities.can_auth_with_magic_links)&&t}},5840:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.updateIndexFullNameAndDisplayName=t.getFormattedAddress=t.cleanFormattedAddress=t.isContact=t.getIndexByFamilyNameGivenNameEmailCozyUrl=t.getDefaultSortIndexValue=t.makeDefaultSortIndexValue=t.getDisplayName=t.makeDisplayName=t.getFullname=t.makeFullname=t.getPrimaryAddress=t.getPrimaryPhone=t.getPrimaryCozyDomain=t.getPrimaryCozy=t.getPrimaryEmail=t.getInitials=t.getPrimaryOrFirst=t.CONTACTS_DOCTYPE=void 0;var a=r(n(26396)),i=r(n(58156)),o=r(n(62193)),c=r(n(87925));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="io.cozy.contacts";t.CONTACTS_DOCTYPE=l;var d=function(e){return function(t){return t&&t[e]&&0!==t[e].length&&t[e][0]?t[e].find(function(e){return e.primary})||t[e][0]:""}};t.getPrimaryOrFirst=d,t.getInitials=function(e){if(null!=e&&null!=(t=e.name)&&t.givenName||null!=e&&null!=(n=e.name)&&n.familyName)return["givenName","familyName"].map(function(t){return(0,i.default)(e,["name",t,0],"")}).join("").toUpperCase();var t,n,r=f(e);if(r)return r[0].toUpperCase();var a=h(e);return a?a[0].toUpperCase():""};var f=function(e){return Array.isArray(e.email)?d("email")(e).address||"":e.email};t.getPrimaryEmail=f;var p=function(e){return Array.isArray(e.cozy)?d("cozy")(e).url||"":e.url};t.getPrimaryCozy=p;var h=function(e){try{return new URL(p(e)).hostname.replace(/^(www.)/g,"")}catch(t){return p(e)}};t.getPrimaryCozyDomain=h,t.getPrimaryPhone=function(e){return d("phone")(e).number||""},t.getPrimaryAddress=function(e){return d("address")(e).formattedAddress||""};var m=["namePrefix","givenName","additionalName","familyName","nameSuffix"],v=function(e,t){var n=(null==t?void 0:t.attributesFullname)||m;return e.name?n.map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():""};t.makeFullname=v,t.getFullname=function(e){return(0,i.default)(e,"fullname")?e.fullname:v(e)};var y=function(e,t){var n=v(e,t),r=f(e),a=h(e);return n&&n.length>0?n:r&&r.length>0?r:a&&a.length>0?a:""};t.makeDisplayName=y,t.getDisplayName=function(e){return(0,i.default)(e,"displayName")?e.displayName:y(e)};var g=function(e){var t=[(0,i.default)(e,"name.familyName",""),(0,i.default)(e,"name.givenName",""),f(e),h(e)].join("").trim().toLowerCase();return 0===t.length?null:t};t.makeDefaultSortIndexValue=g;var b=function(e){var t=(0,i.default)(e,"indexes.byFamilyNameGivenNameEmailCozyUrl",null);return null!==t?(0,o.default)(t)?null:t:g(e)};t.getDefaultSortIndexValue=b,t.getIndexByFamilyNameGivenNameEmailCozyUrl=function(e){return c.default.warn("Deprecation: `getIndexByFamilyNameGivenNameEmailCozyUrl` is deprecated, please use `getDefaultSortIndexValue` instead"),b(e)},t.isContact=function(e){return e._type===l};var w=function(e){var t=e.replace(/\s+/g," ").replace(/\s,/g,"").trim();return t.lastIndexOf(",")===t.length-1&&(t=t.slice(0,t.length-1)),0===t.indexOf(",")&&(t=t.slice(1)),t};t.cleanFormattedAddress=w,t.getFormattedAddress=function(e,t){return e&&e.formattedAddress?e.formattedAddress:w(t("formatted.address",{number:e.number||"",street:e.street||"",code:e.postcode||"",city:e.city||"",region:e.region||"",country:e.country||""}))},t.updateIndexFullNameAndDisplayName=function(e){return u(u({},e),{},{fullname:v(e),displayName:y(e),indexes:{byFamilyNameGivenNameEmailCozyUrl:g(e)}})}},1875:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiByCountry=t.getAllNationalities=t.getNationalityByCodeISO=t.getAllCountryNames=t.getCountryNameByCodeISO=t.getAllCountries=t.checkCountryCode=t.isCountryCodeAlpha2=t.isCountryCodeAlpha3=t.isValidCountryCodeTranslation=t.COUNTRIES_ISO=void 0;var a=r(n(21259)),i=n(86717),o=r(n(87925)),c=[{code2:"AF",code3:"AFG",number:"004"},{code2:"AL",code3:"ALB",number:"008"},{code2:"DZ",code3:"DZA",number:"012"},{code2:"AD",code3:"AND",number:"020"},{code2:"AO",code3:"AGO",number:"024"},{code2:"AG",code3:"ATG",number:"028"},{code2:"AR",code3:"ARG",number:"032"},{code2:"AM",code3:"ARM",number:"051"},{code2:"AU",code3:"AUS",number:"036"},{code2:"AT",code3:"AUT",number:"040"},{code2:"AZ",code3:"AZE",number:"031"},{code2:"BS",code3:"BHS",number:"044"},{code2:"BH",code3:"BHR",number:"048"},{code2:"BD",code3:"BGD",number:"050"},{code2:"BB",code3:"BRB",number:"052"},{code2:"BY",code3:"BLR",number:"112"},{code2:"BE",code3:"BEL",number:"056"},{code2:"BZ",code3:"BLZ",number:"084"},{code2:"BJ",code3:"BEN",number:"204"},{code2:"BM",code3:"BMU",number:"060"},{code2:"BT",code3:"BTN",number:"064"},{code2:"BO",code3:"BOL",number:"068"},{code2:"BQ",code3:"BES",number:"535"},{code2:"BA",code3:"BIH",number:"070"},{code2:"BW",code3:"BWA",number:"072"},{code2:"BV",code3:"BVT",number:"074"},{code2:"BR",code3:"BRA",number:"076"},{code2:"IO",code3:"IOT",number:"086"},{code2:"BN",code3:"BRN",number:"096"},{code2:"BG",code3:"BGR",number:"100"},{code2:"BF",code3:"BFA",number:"854"},{code2:"BI",code3:"BDI",number:"108"},{code2:"CV",code3:"CPV",number:"132"},{code2:"KH",code3:"KHM",number:"116"},{code2:"CM",code3:"CMR",number:"120"},{code2:"CA",code3:"CAN",number:"124"},{code2:"KY",code3:"CYM",number:"136"},{code2:"CF",code3:"CAF",number:"140"},{code2:"TD",code3:"TCD",number:"148"},{code2:"CL",code3:"CHL",number:"152"},{code2:"CN",code3:"CHN",number:"156"},{code2:"CX",code3:"CXR",number:"162"},{code2:"CC",code3:"CCK",number:"166"},{code2:"CO",code3:"COL",number:"170"},{code2:"KM",code3:"COM",number:"174"},{code2:"CD",code3:"COD",number:"180"},{code2:"CG",code3:"COG",number:"178"},{code2:"CK",code3:"COK",number:"184"},{code2:"CR",code3:"CRI",number:"188"},{code2:"HR",code3:"HRV",number:"191"},{code2:"CU",code3:"CUB",number:"192"},{code2:"CW",code3:"CUW",number:"531"},{code2:"CY",code3:"CYP",number:"196"},{code2:"CZ",code3:"CZE",number:"203"},{code2:"CI",code3:"CIV",number:"384"},{code2:"DK",code3:"DNK",number:"208"},{code2:"DJ",code3:"DJI",number:"262"},{code2:"DM",code3:"DMA",number:"212"},{code2:"DO",code3:"DOM",number:"214"},{code2:"EC",code3:"ECU",number:"218"},{code2:"EG",code3:"EGY",number:"818"},{code2:"SV",code3:"SLV",number:"222"},{code2:"GQ",code3:"GNQ",number:"226"},{code2:"ER",code3:"ERI",number:"232"},{code2:"EE",code3:"EST",number:"233"},{code2:"SZ",code3:"SWZ",number:"748"},{code2:"ET",code3:"ETH",number:"231"},{code2:"FK",code3:"FLK",number:"238"},{code2:"FO",code3:"FRO",number:"234"},{code2:"FJ",code3:"FJI",number:"242"},{code2:"FI",code3:"FIN",number:"246"},{code2:"FR",code3:"FRA",number:"250"},{code2:"GF",code3:"GUF",number:"254"},{code2:"PF",code3:"PYF",number:"258"},{code2:"TF",code3:"ATF",number:"260"},{code2:"GA",code3:"GAB",number:"266"},{code2:"GM",code3:"GMB",number:"270"},{code2:"GE",code3:"GEO",number:"268"},{code2:"DE",code3:"DEU",number:"276"},{code2:"GH",code3:"GHA",number:"288"},{code2:"GI",code3:"GIB",number:"292"},{code2:"GR",code3:"GRC",number:"300"},{code2:"GL",code3:"GRL",number:"304"},{code2:"GD",code3:"GRD",number:"308"},{code2:"GP",code3:"GLP",number:"312"},{code2:"GU",code3:"GUM",number:"316"},{code2:"GT",code3:"GTM",number:"320"},{code2:"GG",code3:"GGY",number:"831"},{code2:"GN",code3:"GIN",number:"324"},{code2:"GW",code3:"GNB",number:"624"},{code2:"GY",code3:"GUY",number:"328"},{code2:"HT",code3:"HTI",number:"332"},{code2:"HM",code3:"HMD",number:"334"},{code2:"VA",code3:"VAT",number:"336"},{code2:"HN",code3:"HND",number:"340"},{code2:"HK",code3:"HKG",number:"344"},{code2:"HU",code3:"HUN",number:"348"},{code2:"IS",code3:"ISL",number:"352"},{code2:"IN",code3:"IND",number:"356"},{code2:"ID",code3:"IDN",number:"360"},{code2:"IR",code3:"IRN",number:"364"},{code2:"IQ",code3:"IRQ",number:"368"},{code2:"IE",code3:"IRL",number:"372"},{code2:"IM",code3:"IMN",number:"833"},{code2:"IL",code3:"ISR",number:"376"},{code2:"IT",code3:"ITA",number:"380"},{code2:"JM",code3:"JAM",number:"388"},{code2:"JP",code3:"JPN",number:"392"},{code2:"JE",code3:"JEY",number:"832"},{code2:"JO",code3:"JOR",number:"400"},{code2:"KZ",code3:"KAZ",number:"398"},{code2:"KE",code3:"KEN",number:"404"},{code2:"KI",code3:"KIR",number:"296"},{code2:"KP",code3:"PRK",number:"408"},{code2:"KR",code3:"KOR",number:"410"},{code2:"KW",code3:"KWT",number:"414"},{code2:"KG",code3:"KGZ",number:"417"},{code2:"LA",code3:"LAO",number:"418"},{code2:"LV",code3:"LVA",number:"428"},{code2:"LB",code3:"LBN",number:"422"},{code2:"LS",code3:"LSO",number:"426"},{code2:"LR",code3:"LBR",number:"430"},{code2:"LY",code3:"LBY",number:"434"},{code2:"LI",code3:"LIE",number:"438"},{code2:"LT",code3:"LTU",number:"440"},{code2:"LU",code3:"LUX",number:"442"},{code2:"MO",code3:"MAC",number:"446"},{code2:"MG",code3:"MDG",number:"450"},{code2:"MW",code3:"MWI",number:"454"},{code2:"MY",code3:"MYS",number:"458"},{code2:"MV",code3:"MDV",number:"462"},{code2:"ML",code3:"MLI",number:"466"},{code2:"MT",code3:"MLT",number:"470"},{code2:"MH",code3:"MHL",number:"584"},{code2:"MQ",code3:"MTQ",number:"474"},{code2:"MR",code3:"MRT",number:"478"},{code2:"MU",code3:"MUS",number:"480"},{code2:"YT",code3:"MYT",number:"175"},{code2:"MX",code3:"MEX",number:"484"},{code2:"FM",code3:"FSM",number:"583"},{code2:"MD",code3:"MDA",number:"498"},{code2:"MC",code3:"MCO",number:"492"},{code2:"MN",code3:"MNG",number:"496"},{code2:"ME",code3:"MNE",number:"499"},{code2:"MS",code3:"MSR",number:"500"},{code2:"MA",code3:"MAR",number:"504"},{code2:"MZ",code3:"MOZ",number:"508"},{code2:"MM",code3:"MMR",number:"104"},{code2:"NA",code3:"NAM",number:"516"},{code2:"NR",code3:"NRU",number:"520"},{code2:"NP",code3:"NPL",number:"524"},{code2:"NL",code3:"NLD",number:"528"},{code2:"NC",code3:"NCL",number:"540"},{code2:"NZ",code3:"NZL",number:"554"},{code2:"NI",code3:"NIC",number:"558"},{code2:"NE",code3:"NER",number:"562"},{code2:"NG",code3:"NGA",number:"566"},{code2:"NU",code3:"NIU",number:"570"},{code2:"NF",code3:"NFK",number:"574"},{code2:"MP",code3:"MNP",number:"580"},{code2:"NO",code3:"NOR",number:"578"},{code2:"OM",code3:"OMN",number:"512"},{code2:"PK",code3:"PAK",number:"586"},{code2:"PW",code3:"PLW",number:"585"},{code2:"PS",code3:"PSE",number:"275"},{code2:"PA",code3:"PAN",number:"591"},{code2:"PG",code3:"PNG",number:"598"},{code2:"PY",code3:"PRY",number:"600"},{code2:"PE",code3:"PER",number:"604"},{code2:"PH",code3:"PHL",number:"608"},{code2:"PN",code3:"PCN",number:"612"},{code2:"PL",code3:"POL",number:"616"},{code2:"PT",code3:"PRT",number:"620"},{code2:"PR",code3:"PRI",number:"630"},{code2:"QA",code3:"QAT",number:"634"},{code2:"MK",code3:"MKD",number:"807"},{code2:"RO",code3:"ROU",number:"642"},{code2:"RU",code3:"RUS",number:"643"},{code2:"RW",code3:"RWA",number:"646"},{code2:"RE",code3:"REU",number:"638"},{code2:"BL",code3:"BLM",number:"652"},{code2:"SH",code3:"SHN",number:"654"},{code2:"KN",code3:"KNA",number:"659"},{code2:"LC",code3:"LCA",number:"662"},{code2:"MF",code3:"MAF",number:"663"},{code2:"PM",code3:"SPM",number:"666"},{code2:"VC",code3:"VCT",number:"670"},{code2:"WS",code3:"WSM",number:"882"},{code2:"SM",code3:"SMR",number:"674"},{code2:"ST",code3:"STP",number:"678"},{code2:"SA",code3:"SAU",number:"682"},{code2:"SN",code3:"SEN",number:"686"},{code2:"RS",code3:"SRB",number:"688"},{code2:"SC",code3:"SYC",number:"690"},{code2:"SL",code3:"SLE",number:"694"},{code2:"SG",code3:"SGP",number:"702"},{code2:"SX",code3:"SXM",number:"534"},{code2:"SK",code3:"SVK",number:"703"},{code2:"SI",code3:"SVN",number:"705"},{code2:"SB",code3:"SLB",number:"090"},{code2:"SO",code3:"SOM",number:"706"},{code2:"ZA",code3:"ZAF",number:"710"},{code2:"GS",code3:"SGS",number:"239"},{code2:"SS",code3:"SSD",number:"728"},{code2:"ES",code3:"ESP",number:"724"},{code2:"LK",code3:"LKA",number:"144"},{code2:"SD",code3:"SDN",number:"729"},{code2:"SR",code3:"SUR",number:"740"},{code2:"SJ",code3:"SJM",number:"744"},{code2:"SE",code3:"SWE",number:"752"},{code2:"CH",code3:"CHE",number:"756"},{code2:"SY",code3:"SYR",number:"760"},{code2:"TW",code3:"TWN",number:"158"},{code2:"TJ",code3:"TJK",number:"762"},{code2:"TZ",code3:"TZA",number:"834"},{code2:"TH",code3:"THA",number:"764"},{code2:"TL",code3:"TLS",number:"626"},{code2:"TG",code3:"TGO",number:"768"},{code2:"TK",code3:"TKL",number:"772"},{code2:"TO",code3:"TON",number:"776"},{code2:"TT",code3:"TTO",number:"780"},{code2:"TN",code3:"TUN",number:"788"},{code2:"TR",code3:"TUR",number:"792"},{code2:"TM",code3:"TKM",number:"795"},{code2:"TC",code3:"TCA",number:"796"},{code2:"TV",code3:"TUV",number:"798"},{code2:"UG",code3:"UGA",number:"800"},{code2:"UA",code3:"UKR",number:"804"},{code2:"AE",code3:"ARE",number:"784"},{code2:"GB",code3:"GBR",number:"826"},{code2:"UM",code3:"UMI",number:"581"},{code2:"US",code3:"USA",number:"840"},{code2:"UY",code3:"URY",number:"858"},{code2:"UZ",code3:"UZB",number:"860"},{code2:"VU",code3:"VUT",number:"548"},{code2:"VE",code3:"VEN",number:"862"},{code2:"VN",code3:"VNM",number:"704"},{code2:"VG",code3:"VGB",number:"092"},{code2:"VI",code3:"VIR",number:"850"},{code2:"WF",code3:"WLF",number:"876"},{code2:"EH",code3:"ESH",number:"732"},{code2:"YE",code3:"YEM",number:"887"},{code2:"ZM",code3:"ZMB",number:"894"},{code2:"ZW",code3:"ZWE",number:"716"},{code2:"AX",code3:"ALA",number:"248"}];t.COUNTRIES_ISO=c,t.isValidCountryCodeTranslation=function(e,t){var n=(0,i.getLocalizer)(e).polyglot;return u(t)&&n.has("nationalities.".concat(t))&&n.has("countries.".concat(t))};var s=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code3===t})};t.isCountryCodeAlpha3=s;var u=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code2===t})};t.isCountryCodeAlpha2=u,t.checkCountryCode=function(e){return u(e)||s(e)};var l=function(e){var t=(0,i.getLocalizer)(e).t;return c.map(function(e){return{code2:e.code2,code3:e.code3,number:e.number,name:t("countries.".concat(e.code2)),nationality:t("nationalities.".concat(e.code2))}})};t.getAllCountries=l;var d=function(e){return function(t){var n,r=null==e||null==(n=e.toString())?void 0:n.toUpperCase();return/^[A-Z]{2,3}$/.test(r)?t.code2===r||t.code3===r:!!/^\d+$/.test(r)&&t.number===r}};t.getCountryNameByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},n=l(t.lang).find(d(e));return n?n.name:(o.default.warn("Country with code ".concat(e," not found")),null)},t.getAllCountryNames=function(e){return l(e).map(function(e){return e.name})},t.getNationalityByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},n=l(t.lang).find(d(e));return n?n.nationality:(o.default.warn("Nationality with code ".concat(e," not found")),null)},t.getAllNationalities=function(e){return l(e).map(function(e){return e.nationality})},t.getEmojiByCountry=function(e){if(!e)return null;if(!/^[a-z]{2}$/i.test(e))return o.default.error("Country argument must be an ISO 3166-1 alpha-2 string, but got '".concat(JSON.stringify(e),"' instead.")),null;if(!c.find(function(t){return t.code2===e.toUpperCase()}))return o.default.error("Country with code ".concat(e," not found in the list of countries")),null;var t=(0,a.default)(e.toUpperCase()).map(function(e){return e.codePointAt(0)+127397});return String.fromCodePoint.apply(String,(0,a.default)(t))}},86717:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=void 0;for(var a=r(n(14682)),i=r(n(45383)),o=r(n(82356)),c={en:i.default,fr:o.default},s={},u=0,l=["fr","en"];u<l.length;u++){var d=l[u],f=new a.default;f.extend(c[d]),s[d]=f}t.getLocalizer=function(e){var t=s[e]||s.en;return{t:t.t.bind(t),polyglot:t,lang:e}}},1411:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAggregatesFromDACC=t.buildAggregateParams=t.sendMeasureToDACC=t.checkMeasureParams=t.isCorrectDateFormat=void 0;var o=i(n(92207)),c=i(n(79092)),s=i(n(40918));i(n(59201));var u=function(e){try{return!!new Date(Date.parse(e)).toISOString().startsWith(e)}catch(e){return!1}};t.isCorrectDateFormat=u;var l=function(e){var t=e.createdBy,n=e.measureName,r=e.startDate,a=e.value,i=e.group1,o=e.group2,c=e.group3;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: createdBy");if(!n||"string"!=typeof n)throw Error("Missing or wrong type parameter: measureName");if(!r)throw Error("Missing parameter: startDate");if(!u(r))throw Error("Date should be in YYYY-MM-DD format");if("number"!=typeof a)throw Error("Missing or wrong type parameter: value");if(i&&("object"!=typeof i||0===Object.keys(i).length)||o&&("object"!=typeof o||0===Object.keys(o).length)||c&&("object"!=typeof c||0===Object.keys(c).length))throw Error("Groups should be key-value objects");if(c&&(!o||!i)||o&&!i)throw Error("Group order must be respected")};t.checkMeasureParams=l,r=(0,c.default)(o.default.mark(function e(t,n,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(r),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(n),{data:JSON.stringify(r),path:"measure"});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,s.default)("error","Error while sending measure to remote doctype: ".concat(e.t0.message)),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])})),t.sendMeasureToDACC=function(e,t,n){return r.apply(this,arguments)};var d=function(e){var t=e.measureName;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: measureName");var n=e.startDate||new Date(0).toISOString(),r=e.endDate||new Date(Date.now()).toISOString();if(!u(n)||!u(r))throw(0,s.default)("error","Date should be in YYYY-MM-DD format but received: startDate: ".concat(n," | endDate: ").concat(r)),Error("Date should be in YYYY-MM-DD format");return{measureName:t,startDate:n,endDate:r}};t.buildAggregateParams=d,a=(0,c.default)(o.default.mark(function e(t,n,r){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d(r),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(n),{data:JSON.stringify(a),path:"aggregate"});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),(0,s.default)("error","Error while fetching aggregates to remote doctype: ".concat(e.t0.message)),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])})),t.fetchAggregatesFromDACC=function(e,t,n){return a.apply(this,arguments)}},57814:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.listAllDoctypes=void 0;var i=a(n(92207)),o=a(n(79092));a(n(59201)),r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stackClient.fetchJSON("GET","/data/_all_doctypes");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),t.listAllDoctypes=function(e){return r.apply(this,arguments)}},40929:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconLabelPairs=t.THEME_OTHERS_LABELS=t.THEME_INVOICE_LABELS=t.THEME_FINANCE_LABELS=t.THEME_ACTIVITY_LABELS=t.THEME_TRANSPORT_LABELS=t.THEME_HOME_LABELS=t.THEME_HEALTH_LABELS=t.THEME_WORK_STUDY_LABELS=t.THEME_FAMILY_LABELS=t.THEME_IDENTITY_LABELS=void 0,t.THEME_IDENTITY_LABELS=["identity_photo","national_id_card","passport","residence_permit","electoral_card","family_record_book","birth_certificate","driver_license","citizen_registration_certificate","note_identity_document","other_identity_document"],t.THEME_FAMILY_LABELS=["family_record_book","birth_certificate","wedding","pacs","single_parent_benefit","divorce","large_family_card","caf","payment_proof_family_allowance","note_family_document","other_family_document","person_insurance"],t.THEME_WORK_STUDY_LABELS=["diploma","work_contract","pay_sheet","unemployment_benefit","employment_center_certificate","pension","work_disability_recognition","gradebook","student_card","school_attendance_certificate","school_insurance_certificate","resume","motivation_letter","expense_claim","note_work_document","other_work_document"],t.THEME_HEALTH_LABELS=["health_certificate","health_book","national_health_insurance_card","national_health_insurance_right_certificate","health_insurance_card","prescription","health_invoice","work_disability_recognition","pregnancy_medical_certificate","note_health_document","other_health_document"],t.THEME_HOME_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","other_invoice","work_invoice","house_sale_agreeement","building_permit","technical_diagnostic_record","unfit_for_habitation_declaration","lease","rent_receipt","accommodation_proof","house_insurance","work_quote","condition_report","note_house_document","other_house_document","real_estate_insurance"],t.THEME_TRANSPORT_LABELS=["driver_license","vehicle_registration","car_insurance","transport_card","mechanic_invoice","transport_invoice","note_transport_document","other_transport_document"],t.THEME_ACTIVITY_LABELS=["personal_sporting_licence","fidelity_card","note_activity_document","other_activity_document"],t.THEME_FINANCE_LABELS=["fine","tax_certificate","tax_return","tax_notice","tax_timetable","real_estate_tax","pay_sheet","receipt","single_parent_benefit","other_tax_document","bank_details","bank_statement","loan_agreement","payment_proof_family_allowance","note_finance","expense_claim","other_bank_document","other_revenue"],t.THEME_INVOICE_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","appliance_invoice","web_service_invoice","restaurant_invoice","work_invoice","transport_invoice","health_invoice","note_invoice","expense_claim","energy_contract","grocery_invoice","other_invoice"],t.THEME_OTHERS_LABELS=["other_administrative_document"],t.iconLabelPairs=[{icon:"bank-check",labels:["bank_details"]},{icon:"bank",labels:["other_administrative_document","other_tax_document","real_estate_tax","tax_certificate","tax_notice","tax_return","tax_timetable"]},{icon:"benefit",labels:["loan_agreement","other_revenue","pay_sheet","payment_proof_family_allowance","pension"]},{icon:"bill",labels:["other_invoice"]},{icon:"car",labels:["car_insurance","driver_license","other_transport_document","transport_card","transport_invoice","vehicle_registration"]},{icon:"child",labels:["birth_certificate"]},{icon:"email",labels:["receipt"]},{icon:"euro",labels:["other_bank_document"]},{icon:"exchange",labels:["bank_statement"]},{icon:"file-type-note",labels:["note_activity_document","note_family_document","note_finance","note_health_document","note_house_document","note_identity_document","note_invoice","note_transport_document","note_work_document"]},{icon:"fitness",labels:["other_activity_document","personal_sporting_licence"]},{icon:"globe",labels:["residence_permit"]},{icon:"gouv",labels:["electoral_card"]},{icon:"heart",labels:["health_book","health_certificate","health_insurance_card","health_invoice","national_health_insurance_card","national_health_insurance_right_certificate","other_health_document","person_insurance","pregnancy_medical_certificate","prescription"]},{icon:"home",labels:["accommodation_proof","building_permit","condition_report","house_insurance","house_sale_agreeement","lease","mechanic_invoice","other_house_document","real_estate_insurance","rent_receipt","technical_diagnostic_record","unfit_for_habitation_declaration","work_invoice","work_quote"]},{icon:"image",labels:["identity_photo"]},{icon:"justice",labels:["fine"]},{icon:"laudry",labels:["appliance_invoice"]},{icon:"lightning",labels:["energy_contract","energy_invoice"]},{icon:"people",labels:["national_id_card","other_identity_document","resume","work_disability_recognition"]},{icon:"plane",labels:["passport"]},{icon:"remboursement",labels:["expense_claim"]},{icon:"restaurant",labels:["restaurant_invoice"]},{icon:"school",labels:["diploma","gradebook"]},{icon:"shop",labels:["fidelity_card","grocery_invoice"]},{icon:"team",labels:["caf","citizen_registration_certificate","divorce","family_record_book","large_family_card","other_family_document","pacs","single_parent_benefit","wedding"]},{icon:"telecom",labels:["isp_invoice","telecom_invoice","web_service_invoice"]},{icon:"telephone",labels:["phone_invoice"]},{icon:"water",labels:["water_invoice"]},{icon:"work",labels:["employment_center_certificate","motivation_letter","other_work_document","school_attendance_certificate","school_insurance_certificate","student_card","unemployment_benefit","work_contract"]}]},62439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themesList=void 0;var r=n(40929),a=n(6905),i=function(e){return e.map(function(e){try{return a.Qualification.getByLabel(e)}catch(e){return console.log("error",e),null}}).filter(function(e){return e})};t.themesList=[{id:"theme1",label:"identity",icon:"people",items:i(r.THEME_IDENTITY_LABELS),defaultItems:["birth_certificate"]},{id:"theme2",label:"family",icon:"team",items:i(r.THEME_FAMILY_LABELS),defaultItems:["family_record_book"]},{id:"theme3",label:"work_study",icon:"work",items:i(r.THEME_WORK_STUDY_LABELS)},{id:"theme4",label:"health",icon:"heart",items:i(r.THEME_HEALTH_LABELS)},{id:"theme5",label:"home",icon:"home",items:i(r.THEME_HOME_LABELS)},{id:"theme6",label:"transport",icon:"car",items:i(r.THEME_TRANSPORT_LABELS),defaultItems:["driver_license"]},{id:"theme7",label:"activity",icon:"chess",items:i(r.THEME_ACTIVITY_LABELS)},{id:"theme8",label:"finance",icon:"bank",items:i(r.THEME_FINANCE_LABELS)},{id:"theme9",label:"invoice",icon:"bill",items:i(r.THEME_INVOICE_LABELS)},{id:"theme10",label:"others",icon:"dots",items:i(r.THEME_OTHERS_LABELS)}]},30458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQualificationNote=t.getThemeByItem=void 0;var r=n(62439);t.getThemeByItem=function(e){var t=r.themesList.find(function(t){return t.defaultItems&&t.defaultItems.includes(e.label)});return t||r.themesList.find(function(t){return t.items.some(function(t){return t.label===e.label})})},t.isQualificationNote=function(e){return e.label.toLowerCase().startsWith("note_")}},88828:function(e,t,n){"use strict";var r=n(58784);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Qualification",{enumerable:!0,get:function(){return a.Qualification}}),Object.defineProperty(t,"setQualification",{enumerable:!0,get:function(){return a.setQualification}}),Object.defineProperty(t,"getQualification",{enumerable:!0,get:function(){return a.getQualification}}),t.helpers=t.themes=t.locales=void 0;var a=n(6905);t.locales=r(n(91944)),t.themes=r(n(62439)),t.helpers=r(n(30458))},91944:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=t.getBoundT=void 0;var a=r(n(26396)),i=r(n(14682)),o=r(n(96100)),c=r(n(23967)),s=n(1875);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}for(var d={en:o.default,fr:c.default},f={},p=0,h=["fr","en"];p<h.length;p++){var m=h[p],v=new i.default;v.extend(d[m]),f[m]=v}t.getBoundT=function(e){var t=y(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l(l({},n),{},{smart_count:(null==n?void 0:n.smart_count)||1}),a=null==n?void 0:n.country,i="foreign"!==a?(0,s.getEmojiByCountry)(a):null,o="foreign"===a?t("country.foreign"):null;return i||o?"".concat(t(e,r)," ").concat(i||o):t(e,r)}};var y=function(e){var t=f[e]||f.en;return t.t.bind(t)};t.getLocalizer=y},6905:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasSupportedQualification=t.isSupportedQualification=t.getIconByLabel=t.getQualification=t.setQualification=t.Qualification=void 0;var i=a(n(26396)),o=a(n(82274)),c=a(n(65044)),s=a(n(63560)),u=a(n(66245)),l=r(n(51996)),d=a(n(87925)),f=n(40929);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e);var r=l.qualifications.find(function(e){return e.label===t});if(r){this.icon=n.icon||y(t),this.label=r.label;var a=n.purpose||r.purpose;a&&(this.purpose=a);var i=n.sourceCategory||r.sourceCategory;i&&(this.sourceCategory=i);var c=n.sourceSubCategory||r.sourceSubCategory;c&&(this.sourceSubCategory=c);var s=n.subjects||r.subjects;s&&(this.subjects=s)}else throw Error("No qualification found for the label ".concat(t))}return(0,c.default)(e,[{key:"checkAttributes",value:function(e){if(this.purpose!==e.purpose)if(this.purpose)throw Error("The purpose for the label ".concat(this.label," should be ").concat(this.purpose,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.purposeKnownValues.includes(e.purpose)||d.default.info("This purpose is not listed among the known values: ".concat(e.purpose,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceCategory!==e.sourceCategory)if(this.sourceCategory)throw Error("The sourceCategory for the label ".concat(this.label," should be ").concat(this.sourceCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceCategoryKnownValues.includes(e.sourceCategory)||d.default.info("This sourceCategory is not listed among the known values: ".concat(e.sourceCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceSubCategory!==e.sourceSubCategory)if(this.sourceSubCategory)throw Error("The sourceSubCategory for the label ".concat(this.label," should be ").concat(this.sourceSubCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceSubCategoryKnownValues.includes(e.sourceSubCategory)||d.default.info("This sourceSubCategory is not listed among the known values: ".concat(e.sourceSubCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if((0,u.default)(this.subjects,e.subjects).length>0)throw Error("The subjects for the label ".concat(this.label," should include ").concat(this.subjects,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");var t=(0,u.default)(e.subjects,this.subjects);if(t.length>0){var n=(0,u.default)(t,l.subjectsKnownValues);n.length>0&&d.default.info("These subjects are not listed among the known values: ".concat(n,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues")}}},{key:"setPurpose",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{purpose:t}))}},{key:"setSourceCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceCategory:t}))}},{key:"setSourceSubCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceSubCategory:t}))}},{key:"setSubjects",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{subjects:t}))}},{key:"setIcon",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{icon:t}))}},{key:"toQualification",value:function(){return{icon:this.icon,label:this.label,purpose:this.purpose,sourceCategory:this.sourceCategory,sourceSubCategory:this.sourceSubCategory,subjects:this.subjects}}}]),e}();t.Qualification=v,v.getByLabel=function(e){return new v(e)},t.setQualification=function(e,t){if(t.label){var n=t;return new v(t.label).checkAttributes(t),t.icon||(n=new v(t.label,t).setIcon(y(t.label))),(0,s.default)(e,"metadata.qualification",n)}throw Error("You must set a label to qualify")},t.getQualification=function(e){var t,n=null==e||null==(t=e.metadata)?void 0:t.qualification;return n?new v(n.label,n.qualification).toQualification():null};var y=function(e){var t,n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(f.iconLabelPairs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.labels.includes(e))return r.icon}}catch(e){n.e(e)}finally{n.f()}return d.default.info("The ".concat(e," qualification does not seem to have an icon.\n    Please open an issue on https://github.com/cozy/cozy-client/issues")),""};t.getIconByLabel=y;var g=function(e){return l.qualifications.some(function(t){return t.label===e})};t.isSupportedQualification=g,t.hasSupportedQualification=function(e){var t,n;return g(null==e||null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label)}},60400:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l,d,f=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=function(e){var t=e._id||e.id;return C({_id:t,id:t,_type:e._type||O.DOCTYPE_FILES},e)},t.ensureFilePath=function(e,t){if(e.path)return e;if(!t||!t.path)throw Error("Could not define a file path for ".concat(e._id||e.id));return C({path:t.path+"/"+e.name},e)},t.getParentFolderId=function(e){var t=(0,y.default)(e,"attributes.dir_id");return""===t?null:t},t.downloadFile=t.copy=t.fetchBlobFileById=t.isFromKonnector=t.hasCertifications=t.hasQualifications=t.isPlainText=t.uploadFileWithConflictStrategy=t.generateFileNameForRevision=t.generateNewFileNameOnConflict=t.overrideFileForPath=t.move=t.getFullpath=t.hasMetadataAttribute=t.fetchFilesByQualificationRules=t.saveFileQualification=t.isSharingShorcutNew=t.isSharingShortcutNew=t.isSharingShorcut=t.isSharingShortcut=t.getSharingShortcutTargetDoctype=t.getSharingShortcutTargetMime=t.getSharingShortcutStatus=t.getShortcutImgSrc=t.isShortcut=t.shouldBeOpenedByOnlyOffice=t.isOnlyOfficeFile=t.isEncryptedFileOrFolder=t.isEncryptedFolder=t.getEncryptiondRef=t.isEncrypted=t.isDocs=t.isNote=t.isDirectory=t.isFile=t.splitFilename=t.ALBUMS_DOCTYPE=void 0;var p=f(n(92207)),h=f(n(79092)),m=f(n(26396)),v=n(7127),y=f(n(58156)),g=f(n(85015)),b=f(n(61448)),w=f(n(31521)),k=n(6905),x=n(31201),O=n(58494);f(n(59201));var _=f(n(87925));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,m.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S="file";t.ALBUMS_DOCTYPE="io.cozy.photos.albums";var P=/(.+)(\..*)$/,A=function(e){if(!(0,g.default)(e.name))throw Error("file should have a name property");if("file"===e.type){var t=e.name.match(P);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}};t.splitFilename=A;var D=function(e){return e&&e.type===S};t.isFile=D,t.isDirectory=function(e){return e&&"directory"===e.type};var T=function(e){return!!(e&&e.name&&e.name.endsWith(".cozy-note"))&&e.type===S&&!!e.metadata&&void 0!==e.metadata.title&&void 0!==e.metadata.version};t.isNote=T,t.isDocs=function(e){var t,n;return(null==e||null==(t=e.name)?void 0:t.endsWith(".docs-note"))&&!!(null!=e&&null!=(n=e.metadata)&&n.externalId)};var R=function(e){return!!e.encrypted};t.isEncrypted=R;var j=function(e){return(0,y.default)(e,"referenced_by",[]).find(function(e){return e.type===O.DOCTYPE_FILES_ENCRYPTION})};t.getEncryptiondRef=j;var M=function(e){return!!j(e)};t.isEncryptedFolder=M,t.isEncryptedFileOrFolder=function(e){return M(e)||R(e)};var I=function(e){return D(e)&&!T(e)&&("text"===e.class||"spreadsheet"===e.class||"slide"===e.class)};t.isOnlyOfficeFile=I,t.shouldBeOpenedByOnlyOffice=function(e){return I(e)&&!e.name.endsWith(".txt")&&!e.name.endsWith(".md")},t.isShortcut=function(e){return e&&"shortcut"===e.class},t.getShortcutImgSrc=function(e){var t,n,r=null==e||null==(t=e.metadata)?void 0:t.icon,a=null==e||null==(n=e.metadata)?void 0:n.iconMimeType;if(r)return a?"data:".concat(a,";base64,").concat(r):"data:image/svg+xml;base64,".concat(window.btoa(r))};var N=function(e){return(0,y.default)(e,"metadata.sharing.status")};t.getSharingShortcutStatus=N,t.getSharingShortcutTargetMime=function(e){return(0,y.default)(e,"metadata.target.mime")},t.getSharingShortcutTargetDoctype=function(e){return(0,y.default)(e,"metadata.target._type")};var z=function(e){return!!N(e)};t.isSharingShortcut=z,t.isSharingShorcut=function(e){return _.default.warn("Deprecation: `isSharingShorcut` is deprecated, please use `isSharingShortcut` instead"),z(e)};var F=function(e){return"new"===N(e)};t.isSharingShortcutNew=F,t.isSharingShorcutNew=function(e){return _.default.warn("Deprecation: `isSharingShorcutNew` is deprecated, please use `isSharingShortcutNew` instead"),F(e)},r=(0,h.default)(p.default.mark(function e(t,n,r){var a,i,o=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(o.length>3&&void 0!==o[3]?o[3]:{}).driveId,i=(0,k.setQualification)(n,r),e.abrupt("return",t.collection(O.DOCTYPE_FILES,{driveId:a}).updateMetadataAttribute(n._id,i.metadata));case 3:case"end":return e.stop()}},e)})),t.saveFileQualification=function(e,t,n){return r.apply(this,arguments)},a=(0,h.default)(p.default.mark(function e(t,n){var r,a,i,o;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rules,a=n.count,i=(0,x.Q)(O.DOCTYPE_FILES).where(C({},r)).partialIndex({trashed:!1}).indexFields(["cozyMetadata.updatedAt","metadata.qualification"]).sortBy([{"cozyMetadata.updatedAt":"desc"}]).limitBy(a||1),e.next=4,t.query(i);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}},e)})),t.fetchFilesByQualificationRules=function(e,t){return a.apply(this,arguments)},t.hasMetadataAttribute=function(e){var t=e.file,n=e.attribute;return(0,b.default)(t,"metadata.".concat(n))};var L=(i=(0,h.default)(p.default.mark(function e(t,n,r){var a,i,o,c,s=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>3&&void 0!==s[3]?s[3]:void 0,n){e.next=3;break}throw Error("You must provide a dirId");case 3:return i=(0,x.Q)(O.DOCTYPE_FILES).getById(n),a&&(i=i.sharingById(a)),e.next=7,t.query(i);case 7:return o=e.sent.data,c=(0,w.default)(o.path,"/"),e.abrupt("return","".concat(c,"/").concat(r));case 11:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)});t.getFullpath=L,o=(0,h.default)(p.default.mark(function e(t,n,r){var a,i,o,c,s,u,l,d,f,h=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0!==(i=(a=h.length>3&&void 0!==h[3]?h[3]:{}).force)&&i,c=a.driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==n._type){e.next=10;break}if("io.cozy.remote.nextcloud.files"!==r._type){e.next=7;break}return e.next=6,t.collection("io.cozy.remote.nextcloud.files").move(n,r);case 6:case 9:case 13:return e.abrupt("return",{moved:void 0,deleted:null});case 7:return e.next=9,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(n,r);case 10:if("io.cozy.remote.nextcloud.files"!==r._type){e.next=14;break}return e.next=13,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(r,n);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return s=t.collection(O.DOCTYPE_FILES,{driveId:c}),e.prev=20,e.next=23,s.updateFileMetadata(n._id,{dir_id:r._id});case 23:return u=e.sent,e.abrupt("return",{moved:u.data,deleted:null});case 27:if(e.prev=27,e.t1=e.catch(20),!(409===e.t1.status&&o)){e.next=44;break}return e.next=32,L(t,r._id,n.name);case 32:return l=e.sent,e.next=35,s.statByPath(l);case 35:return d=e.sent,e.next=38,s.destroy(d.data);case 38:return e.next=40,s.updateFileMetadata(n._id,{dir_id:r._id});case 40:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 44:throw e.t1;case 45:case"end":return e.stop()}},e,null,[[1,16],[20,27]])})),t.move=function(e,t,n){return o.apply(this,arguments)},c=(0,h.default)(p.default.mark(function e(t,n,r,a){var i,o,c,s,u,l,d,f,h,m=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(m.length>4&&void 0!==m[4]?m[4]:{}).driveId,(o=n).endsWith("/")||(o+="/"),c=t.collection(O.DOCTYPE_FILES,{driveId:i}),e.prev=4,e.next=7,c.statByPath(o+r.name);case 7:return u=(s=e.sent.data).id,l=s.dir_id,e.next=11,c.updateFile(r,{dirId:l,fileId:u,metadata:a});case 11:return d=e.sent,e.abrupt("return",d);case 15:if(e.prev=15,e.t0=e.catch(4),!/Not Found/.test(e.t0)){e.next=25;break}return e.next=20,c.ensureDirectoryExists(o);case 20:return f=e.sent,e.next=23,c.createFile(r,{dirId:f,metadata:a});case 23:return h=e.sent,e.abrupt("return",h);case 25:throw e.t0;case 26:case"end":return e.stop()}},e,null,[[4,15]])})),t.overrideFileForPath=function(e,t,n,r){return c.apply(this,arguments)};var B=function(e,t){var n=(null==t?void 0:t.delimiter)||"_",r=new RegExp("(".concat(n,")([0-9]+)$")),a=e.match(r);if(!a)return"".concat(e).concat(n,"1");var i=parseInt(a[2]);return i++,e.replace(new RegExp("(".concat(n,")([0-9]+)$")),"".concat(n).concat(i))};t.generateNewFileNameOnConflict=B,t.generateFileNameForRevision=function(e,t,n){var r=A(e),a=r.filename,i=r.extension;return"".concat(a,"_").concat(n(t.updated_at,"DD MMMM - HH[h]mm")).concat(i)};var U=(s=(0,h.default)(p.default.mark(function e(t,n,r){var a,i,o,c,s,u,l,d,f,h,m,v,y;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.name,i=r.dirId,o=r.conflictStrategy,c=r.conflictOptions,s=r.driveId,u=t.collection(O.DOCTYPE_FILES,{driveId:s}),e.prev=2,e.next=5,L(t,i,a,s);case 5:return l=e.sent,e.next=8,u.statByPath(l);case 8:if(d=e.sent.data.id,"erase"!==o){e.next=17;break}return e.next=13,u.updateFile(n,C(C({},r),{},{fileId:d}));case 13:return f=e.sent,e.abrupt("return",f);case 17:return m=(h=A({name:a,type:"file"})).filename,v=h.extension,y=B(m,c)+v,e.abrupt("return",U(t,n,C(C({},r),{},{name:y})));case 20:e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(2),!/Not Found/.test(e.t0.message)){e.next=26;break}return e.abrupt("return",u.createFile(n,r));case 26:throw e.t0;case 27:case"end":return e.stop()}},e,null,[[2,22]])})),function(e,t,n){return s.apply(this,arguments)});t.uploadFileWithConflictStrategy=U,t.isPlainText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?/^text\//.test(e):/\.(txt|md)$/.test(t)},t.hasQualifications=function(e){return!!(0,y.default)(e,"metadata.qualification")},t.hasCertifications=function(e){return(0,y.default)(e,"metadata.carbonCopy",!1)||(0,y.default)(e,"metadata.electronicSafe",!1)},t.isFromKonnector=function(e){return(0,b.default)(e,"cozyMetadata.sourceAccount")},u=(0,h.default)(p.default.mark(function e(t,n){var r,a,i,o,c=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(c.length>2&&void 0!==c[2]?c[2]:{}).driveId,a=t.collection(O.DOCTYPE_FILES,{driveId:r}),e.next=4,a.fetchFileContentById(n);case 4:return i=e.sent,e.next=7,i.blob();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e)})),t.fetchBlobFileById=function(e,t){return u.apply(this,arguments)},l=(0,h.default)(p.default.mark(function e(t,n,r){var a,i,o,c,s,u=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(u.length>3&&void 0!==u[3]?u[3]:{}).driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==n._type||"io.cozy.remote.nextcloud.files"!==r._type){e.next=7;break}return e.next=5,t.collection("io.cozy.remote.nextcloud.files").copy(n,r);case 5:return i=e.sent,e.abrupt("return",i);case 7:if("io.cozy.remote.nextcloud.files"!==n._type||"io.cozy.files"!==r._type){e.next=12;break}return e.next=10,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(n,r,{copy:!0});case 10:return o=e.sent,e.abrupt("return",o);case 12:if("io.cozy.remote.nextcloud.files"!==r._type){e.next=17;break}return e.next=15,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(r,n,{copy:!0});case 15:return c=e.sent,e.abrupt("return",c);case 17:return e.next=19,t.collection(O.DOCTYPE_FILES,{driveId:a}).copy(n._id,void 0,r._id);case 19:return s=e.sent,e.abrupt("return",s);case 23:throw e.prev=23,e.t0=e.catch(1),e.t0;case 26:case"end":return e.stop()}},e,null,[[1,23]])})),t.copy=function(e,t,n){return l.apply(this,arguments)},d=(0,h.default)(p.default.mark(function e(t){var n,r,a,i,o,c,s;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.file,a=t.url,i=t.webviewIntent,o=t.driveId,c=n.collection(O.DOCTYPE_FILES,{driveId:o}),!((0,v.isFlagshipApp)()&&i&&!R(r))){e.next=19;break}return e.next=5,null==i?void 0:i.call("isAvailable","downloadFile");case 5:if(e.t1=s=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==s;case 9:if(!e.t0){e.next=13;break}e.t2=s,e.next=14;break;case 13:e.t2=!1;case 14:if(!e.t2){e.next=19;break}return e.next=18,i.call("downloadFile",r);case 18:return e.abrupt("return",e.sent);case 19:if(!R(r)){e.next=21;break}return e.abrupt("return",c.forceFileDownload(a,r.name));case 21:return e.abrupt("return",c.download(r));case 22:case"end":return e.stop()}},e)})),t.downloadFile=function(e){return d.apply(this,arguments)}},56006:function(e,t,n){"use strict";var r,a,i,o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedFolder=t.createFolderWithReference=t.ensureMagicFolder=t.MAGIC_FOLDERS=void 0;var c=o(n(92207)),s=o(n(79092)),u=o(n(33031));o(n(59201));var l=n(58494),d=n(31201),f="io.cozy.apps",p="administrative",h="photos",m={ADMINISTRATIVE:"".concat(f,"/").concat(p),PHOTOS:"".concat(f,"/").concat(h),PHOTOS_BACKUP:"".concat(f,"/").concat(h,"/mobile"),PHOTOS_UPLOAD:"".concat(f,"/").concat(h,"/upload"),NOTES:"".concat(f,"/notes"),HOME:"".concat(f,"/home"),PAPERS:"".concat(f,"/").concat(p,"/papers"),COACH_CO2:"".concat(f,"/").concat(p,"/coachco2")};t.MAGIC_FOLDERS=m,r=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={_type:f,_id:n},e.next=3,y(t,a);case 3:if(!(i=e.sent)){e.next=6;break}return e.abrupt("return",i);case 6:if((o=Object.values(m)).includes(n)){e.next=9;break}throw Error("Cannot create Magic folder with id ".concat(n,". Allowed values are ").concat(o.join(", "),"."));case 9:if(r){e.next=11;break}throw Error("Magic folder default path must be defined");case 11:return e.abrupt("return",v(t,r,a));case 12:case"end":return e.stop()}},e)})),t.ensureMagicFolder=function(e,t,n){return r.apply(this,arguments)};var v=(a=(0,s.default)(c.default.mark(function e(t,n,r){var a,i,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(l.DOCTYPE_FILES),e.next=3,a.ensureDirectoryExists(n);case 3:return i=e.sent,e.next=6,a.addReferencesTo(r,[{_id:i}]);case 6:return e.next=8,a.get(i);case 8:return o=e.sent.data,e.abrupt("return",o);case 11:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)});t.createFolderWithReference=v;var y=(i=(0,s.default)(c.default.mark(function e(t,n){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,d.Q)(l.DOCTYPE_FILES).partialIndex({type:"directory",trashed:!1}).referencedBy(n));case 2:return r=e.sent.included,e.abrupt("return",r.length>0?(0,u.default)(r,"created_at").pop():null);case 5:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)});t.getReferencedFolder=y},25893:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.deltaLatitude=t.deltaLongitude=t.computeSphericalCenter=t.geodesicDistance=t.computeSpeed=void 0,t.computeSpeed=function(e,t){return e&&t?Math.round(e/t*100)/100:0};var r=function(e){return e*Math.PI/180},a=function(e){return 180*e/Math.PI},i=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};t.geodesicDistance=function(e,t){if((null==e?void 0:e.lon)===void 0||(null==e?void 0:e.lat)===void 0||(null==t?void 0:t.lon)===void 0||(null==t?void 0:t.lat)===void 0)return null;var n=r(e.lon),a=r(e.lat),o=r(t.lon),c=r(t.lat);return i(6378137*(2*Math.asin(Math.sqrt(Math.pow(Math.sin((c-a)/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin((o-n)/2),2)))),2)},t.computeSphericalCenter=function(e){if(e.length<1)return null;if(1===e.length)return e[0];var t,o=0,c=0,s=0,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}(e);try{for(u.s();!(t=u.n()).done;){var l=t.value,d=r(l.lon),f=r(l.lat),p=Math.cos(f)*Math.cos(d),h=Math.cos(f)*Math.sin(d),m=Math.sin(f);o+=p,c+=h,s+=m}}catch(e){u.e(e)}finally{u.f()}var v=o/e.length,y=c/e.length,g=s/e.length,b=a(Math.atan2(y,v));return{lat:i(a(Math.atan2(g,Math.sqrt(v*v+y*y))),13),lon:i(b,13)}},t.deltaLongitude=function(e,t){return i(a(t/(6378137*Math.cos(r(e)))),13)},t.deltaLatitude=function(e){return i(e/(40075e3/360),13)}},3584:function(e,t,n){"use strict";var r=n(58784);Object.defineProperty(t,"__esModule",{value:!0}),t.doctypes=t.geo=t.user=t.paper=t.dacc=t.sharing=t.timeseries=t.document=t.contact=t.utils=t.permission=t.note=t.account=t.konnectorFolder=t.folder=t.file=t.applications=t.instance=t.trigger=t.accounts=t.triggers=void 0;var a=r(n(35056));t.trigger=a,t.instance=r(n(50357)),t.applications=r(n(83077)),t.file=r(n(60400)),t.folder=r(n(56006)),t.konnectorFolder=r(n(49619));var i=r(n(9499));t.account=i,t.note=r(n(52254)),t.permission=r(n(77957)),t.utils=r(n(90969)),t.contact=r(n(5840)),t.document=r(n(88828)),t.timeseries=r(n(47314)),t.sharing=r(n(29312)),t.dacc=r(n(1411)),t.paper=r(n(57698)),t.user=r(n(27141)),t.geo=r(n(25893)),t.doctypes=r(n(57814)),t.triggers=a,t.accounts=i},50357:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDiskInfos=t.hasPasswordDefinedAttribute=t.buildPremiumLink=t.hasAnOffer=t.shouldDisplayOffers=t.getUuid=t.isFreemiumUser=t.arePremiumLinksEnabled=t.isSelfHosted=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(58156)),s=n(31201),u=function(e){return!(0,c.default)(e,"context.data.manager_url")};t.isSelfHosted=u;var l=function(e){return!!(0,c.default)(e,"context.data.enable_premium_links")};t.arePremiumLinksEnabled=l;var d=function(e){return 5e10>=parseInt((0,c.default)(e,"diskUsage.data.quota",!1))};t.isFreemiumUser=d;var f=function(e){return(0,c.default)(e,"instance.data.uuid")};t.getUuid=f,t.shouldDisplayOffers=function(e){return!u(e)&&l(e)&&f(e)&&d(e)},t.hasAnOffer=function(e){return!u(e)&&l(e)&&f(e)&&!d(e)},t.buildPremiumLink=function(e){var t=(0,c.default)(e,"context.data.manager_url",!1),n=(0,c.default)(e,"instance.data.locale","en"),r=f(e);return t&&r?"".concat(t,"/cozy/instances/").concat(r,"/premium?lang=").concat(n):null},r=(0,o.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,s.Q)("io.cozy.settings").getById("io.cozy.settings.instance"),options:{as:"io.cozy.settings/io.cozy.settings.instance",singleDocData:!0}});case 3:return n=e.sent.data.password_defined,e.abrupt("return",!!n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasPasswordDefinedAttribute=function(e){return r.apply(this,arguments)};var p=function(e){return 1e-9*e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e%1?e.toFixed(t):e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return{diskQuota:p(t),diskUsage:p(e),percentUsage:e/t*100}};t.makeDiskInfos=function(e,t){var n=m(+e,t?+t:void 0),r=n.diskQuota,a=n.diskUsage,i=n.percentUsage;return{humanDiskQuota:h(r),humanDiskUsage:h(a),percentUsage:Math.round(i).toString()}}},49619:function(e,t,n){"use strict";var r,a,i,o,c,s,u,l=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.findKonnectorAccountFolderByReference=t.buildFolderPermission=t.buildMainFolderPath=t.buildFolderPath=t.statDirectoryByPath=t.createDirectoryByPath=t.ensureKonnectorFolder=void 0;var d=l(n(92207)),f=l(n(22056)),p=l(n(79092)),h=n(56006);l(n(59201));var m=n(9499),v=n(91944),y=n(31201),g="io.cozy.files";r=(0,p.default)(d.default.mark(function e(t,n){var r,a,i,o,c,s,u,l,p,y,g,O,_,E,C;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.konnector,a=n.account,i=n.lang,o=t.collection("io.cozy.permissions"),c=(0,v.getLocalizer)(i),e.next=5,Promise.all([(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.ADMINISTRATIVE,c("MagicFolders.administrative")),(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.PHOTOS,c("MagicFolders.photos"))]);case 5:return s=e.sent,l=(u=(0,f.default)(s,2))[0],p=u[1],y=(0,m.getAccountName)(a),e.next=12,I({client:t,slug:r.slug,sourceAccountIdentifier:y});case 12:if(!(g=e.sent)){e.next=15;break}return e.abrupt("return",g);case 15:return e.next=17,N({client:t,slug:r.slug});case 17:if(!(O=e.sent)){e.next=22;break}return e.next=21,function(e){return z.apply(this,arguments)}({client:t,mainFolder:O,konnector:r,sourceAccountIdentifier:y});case 21:return e.abrupt("return",e.sent);case 22:return _=x(r,{administrative:l.path,photos:p.path}),e.next=25,w(t,_);case 25:if(e.t0=e.sent,e.t0){e.next=30;break}return e.next=29,b(t,_);case 29:e.t0=e.sent;case 30:return j({client:t,folder:e.t0,konnector:r}),E=k(r,a,{administrative:l.path,photos:p.path}),e.next=35,w(t,E);case 35:if(e.t1=e.sent,e.t1){e.next=40;break}return e.next=39,b(t,E);case 39:e.t1=e.sent;case 40:return C=e.t1,e.next=43,Promise.all([o.add(r,A(C)),j({client:t,folder:C,konnector:r}),M({client:t,folder:C,sourceAccountIdentifier:y})]);case 43:return e.abrupt("return",C);case 44:case"end":return e.stop()}},e)})),t.ensureKonnectorFolder=function(e,t){return r.apply(this,arguments)};var b=(a=(0,p.default)(d.default.mark(function e(t,n){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(g).createDirectoryByPath(n);case 2:return r=e.sent.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.createDirectoryByPath=b;var w=(i=(0,p.default)(d.default.mark(function e(t,n){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection(g).statByPath(n);case 3:if(!(r=e.sent).data.trashed){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r.data);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0&&404===e.t0.status)){e.next=13;break}return e.abrupt("return",null);case 13:throw Error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return i.apply(this,arguments)});t.statDirectoryByPath=w;var k=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=D(((null==e||null==(n=e.folders)||null==(r=n[0])?void 0:r.defaultDir)||"$administrative/$konnector/$account").replace(/(\/+)/g,"/"),"/");O(i)||(i="$administrative/"+i);var o=i.split("/",1),c=E(i,o[0]),s=C(o[0],a),u=S(c,{konnector:e.name,account:(0,m.getAccountName)(t).replace(P,"-")});return"/".concat(s,"/").concat(u)};t.buildFolderPath=k;var x=function(e){var t,n,r,a,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=D(((null==e||null==(t=e.folders)||null==(n=t[0])||null==(r=n.defaultDir)||null==(a=r.split("/"))||null==(i=a.slice(0,-1))?void 0:i.join("/"))||"$administrative/$konnector").replace(/(\/+)/g,"/"),"/");O(c)||(c="$administrative/"+c);var s=c.split("/",1),u=E(c,s[0]),l=C(s[0],o),d=S(u,{konnector:e.name});return"/".concat(l,"/").concat(d)};t.buildMainFolderPath=x;var O=function(e){return _.some(function(t){return e.startsWith(t)})},_=["$administrative","$photos"],E=function(e,t){var n=e.substring(t.length);return""===n&&(n="$konnector/$account"),n},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D((t[e.slice(1)]||"Administrative").replace(/(\/+)/g,"/"),"/")},S=function(e,t){return D(e.replace(/(\/+)/g,"/"),"/").split("/").map(function(e){return(null==t?void 0:t[e.slice(1)])||e}).join("/")},P=/\//g,A=function(e){return{saveFolder:{type:g,values:[e._id],verbs:["GET","PATCH","POST"]}}};t.buildFolderPermission=A;var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return e.replace(new RegExp("^([".concat(t,"]*)(.*?)([").concat(t,"]*)$")),"$2")},T=function(e,t){var n;return!!(null==(n=e.referenced_by)?void 0:n.find(function(e){return"io.cozy.konnectors"===e.type&&e.id==="io.cozy.konnectors/"+t}))},R=function(e,t){var n;return!!(null==(n=e.referenced_by)?void 0:n.find(function(e){return"io.cozy.accounts.sourceAccountIdentifier"===e.type&&(!t||e.id===t)}))},j=(o=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.folder,a=t.konnector,i=n.collection(g),T(r,a.slug)){e.next=5;break}return e.next=5,i.addReferencesTo(a,[r]);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),M=(c=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.folder,a=t.sourceAccountIdentifier,i=n.collection(g),R(r,a)){e.next=5;break}return e.next=5,i.addReferencesTo({_id:a,_type:"io.cozy.accounts.sourceAccountIdentifier"},[r]);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),I=(s=(0,p.default)(d.default.mark(function e(t){var n,r,a,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.slug,a=t.sourceAccountIdentifier,e.next=3,n.query((0,y.Q)(g).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(r)}));case 3:return i=e.sent.included,e.abrupt("return",i.find(function(e){return R(e,a)}));case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});t.findKonnectorAccountFolderByReference=I;var N=(u=(0,p.default)(d.default.mark(function e(t){var n,r,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.slug,e.next=3,n.query((0,y.Q)(g).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(r)}));case 3:return a=e.sent.included,e.abrupt("return",a.find(function(e){return!R(e)}));case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});function z(){return(z=(0,p.default)(d.default.mark(function e(t){var n,r,a,i,o,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.mainFolder,a=t.konnector,i=t.sourceAccountIdentifier,o=r.path+"/"+i,e.next=4,w(n,o);case 4:if(e.t0=e.sent,e.t0){e.next=9;break}return e.next=8,b(n,o);case 8:e.t0=e.sent;case 9:return c=e.t0,e.next=12,j({client:n,folder:c,konnector:a});case 12:return e.next=14,M({client:n,folder:c,sourceAccountIdentifier:i});case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},67907:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeCategories=h,t.areTermsValid=m,t.isPartnershipValid=v,t.sanitize=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return!e.categories&&e.category&&"string"==typeof e.category&&(t.categories=[e.category],delete t.category),t.categories=h(t.categories),"object"==typeof e.name&&(t.name=e.name.en),e.available_version&&(t.availableVersion=e.available_version,delete t.available_version),e.latest_version&&(t.latestVersion=e.latestVersion,delete t.latest_version),t.terms&&!m(t.terms)&&delete t.terms,t.partnership&&!v(t.partnership)&&delete t.partnership,t.fields&&(t.fields=g(e.fields)),t},t.getIdentifier=t.sanitizeIdentifier=t.legacyLoginFields=t.ROLE_IDENTIFIER=void 0;var a=r(n(26396)),i=r(n(49870)),o=r(n(88055)),c=r(n(20826));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l="identifier";t.ROLE_IDENTIFIER=l;var d=["login","identifier","new_identifier","email"];t.legacyLoginFields=d;var f=["secret","dob","code","answer","access_token","refresh_token","appSecret"],p=["banking","cozy","energy","health","host_provider","insurance","isp","mes_infos","online_services","others","partners","press","productivity","ptnb","public_service","shopping","social","telecom","transport"];function h(e){if(!e)return["others"];var t=e.filter(function(e){return p.includes(e)});return t.length?t:["others"]}function m(e){return!!(e&&e.id&&e.url&&e.version)}function v(e){return!!(e&&e.description)}var y=function(e){var t=(0,o.default)(e),n=!1;for(var r in t)t[r].role===l&&(n?delete t[r].role:n=!0);if(n)return t;var a,i=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(d);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(t[c])return t[c].role=l,t}}catch(e){i.e(e)}finally{i.f()}for(var u in t)if("password"!==t[u].type){t[u].role=l;break}return t};t.sanitizeIdentifier=y,t.getIdentifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.default)(y(e),function(e){return e.role===l})||null};var g=(0,i.default)([function(e){var t=(0,o.default)(e);return delete t.advancedFields,t},y,function(e){var t=(0,o.default)(e);for(var n in t){var r=t[n],a=void 0===r.required?r.isRequired:r.required;t[n].required="boolean"!=typeof a||a}return t},function(e){var t=(0,o.default)(e);for(var n in t){var r=t[n];"boolean"!=typeof r.encrypted&&(r.encrypted="password"===r.type||f.includes(n))}return t}])},52254:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchURL=t.generateUrlForNote=t.generatePrivateUrl=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(56975),s=a(n(87925)),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.returnUrl,a=new URL(e);return r&&a.searchParams.set("returnUrl",r),a.hash="#/n/".concat(t.id),a.toString()};t.generatePrivateUrl=u,t.generateUrlForNote=function(e,t){return s.default.warn("generateUrlForNote is deprecated. Please use models.note.generatePrivateUrl instead"),u(e,t)},r=(0,o.default)(i.default.mark(function e(t,n){var r,a,o,s,u,l,d,f,p,h,m,v=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:{},e.next=3,t.getStackClient().collection("io.cozy.notes",{driveId:r.driveId}).fetchURL({_id:n.id});case 3:if(o=(a=e.sent.data).note_id,s=a.subdomain,u=a.protocol,l=a.instance,d=a.sharecode,f=a.public_name,!d){e.next=18;break}return(h=[["id",o]]).push(["sharecode",d]),f&&h.push(["username",f]),e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(u,"://").concat(l),searchParams:h,pathname:null!=(p=r.pathname)?p:"/public/",slug:"notes",subDomainType:s}));case 18:return e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(u,"://").concat(l),pathname:null!=(m=r.pathname)?m:"",slug:"notes",subDomainType:s,hash:"/n/".concat(o)}));case 19:case"end":return e.stop()}},e)})),t.fetchURL=function(e,t){return r.apply(this,arguments)}},57698:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isForeignPaper=t.makeExpirationDescription=t.makeExpiresInMessage=t.makeExpiredMessage=t.formatContactValue=t.getTranslatedNameForContact=t.formatOtherMetadataValue=t.getTranslatedNameForOtherMetadata=t.formatInformationMetadataValue=t.getTranslatedNameForInformationMetadata=t.formatDateMetadataValue=t.getTranslatedNameForDateMetadata=t.getMetadataQualificationType=t.formatMetadataQualification=t.makeMetadataQualification=t.isExpiringSoon=t.isExpired=t.computeExpirationNoticeLink=t.computeExpirationNoticeDate=t.computeExpirationDate=t.isExpiring=t.KNOWN_BILLS_ATTRIBUTES_NAMES=t.KNOWN_OTHER_METADATA_NAMES=t.KNOWN_INFORMATION_METADATA_NAMES=t.KNOWN_DATE_METADATA_NAMES=void 0;var a=r(n(21259)),i=r(n(93165)),o=r(n(266)),c=r(n(97793)),s=r(n(70173)),u=n(91944),l=n(86717),d=n(5840),f=r(n(58156)),p=n(1875),h={national_id_card:"https://www.service-public.fr/particuliers/vosdroits/N358",residence_permit:"https://www.service-public.fr/particuliers/vosdroits/N110",passport:"https://www.service-public.fr/particuliers/vosdroits/N360",driver_license:"https://permisdeconduire.ants.gouv.fr/demarches-en-ligne/perte-vol-deterioration-fin-de-validite-ou-changement-d-etat-civil"},m=["AObtentionDate","BObtentionDate","CObtentionDate","DObtentionDate","obtentionDate","expirationDate","referencedDate","issueDate","shootingDate","date","datetime"];t.KNOWN_DATE_METADATA_NAMES=m;var v=["number","bicNumber","country","refTaxIncome","contractType","netSocialAmount","employerName","vehicle.licenseNumber","vehicle.confidentialNumber","noticePeriod"];t.KNOWN_INFORMATION_METADATA_NAMES=v;var y=["contact","page","qualification"];t.KNOWN_OTHER_METADATA_NAMES=y;var g=["amount","subtype","employer"];t.KNOWN_BILLS_ATTRIBUTES_NAMES=g;var b=function(e){var t,n,r,a,i,o=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label,c=null==(r=e.metadata)?void 0:r.country,s=null==(a=e.metadata)?void 0:a.expirationDate,u=null==(i=e.metadata)?void 0:i.noticePeriod;return"national_id_card"===o&&(!c||"fr"===c)&&!!s&&!!u},w=function(e){var t,n,r=null==(t=e.metadata)?void 0:t.expirationDate,a=null==(n=e.metadata)?void 0:n.noticePeriod;return!!r&&!!a},k=function(e){var t,n,r,a=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label,i=null==(r=e.metadata)?void 0:r.referencedDate,o=e.created_at;return"personal_sporting_licence"===a&&(!!i||!!o)};t.isExpiring=function(e){return!!(b(e)||w(e)||k(e))};var x=function(e){if(b(e)||w(e)){var t;return new Date(null==(t=e.metadata)?void 0:t.expirationDate)}if(k(e)){var n,r=null==(n=e.metadata)?void 0:n.referencedDate,a=e.created_at;return(0,i.default)(new Date(null!=r?r:a),{days:365})}return null};t.computeExpirationDate=x;var O=function(e){if(b(e)||w(e)){var t;return parseInt(null==(t=e.metadata)?void 0:t.noticePeriod,10)}return k(e)?15:null},_=function(e){var t=x(e);if(null==t)return null;var n=O(e);return null==n?null:(0,o.default)(t,{days:n})};t.computeExpirationNoticeDate=_,t.computeExpirationNoticeLink=function(e){var t,n,r=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label;return r&&h[r]||null},t.isExpired=function(e){var t=new Date,n=x(e);return null!=n&&n<=t},t.isExpiringSoon=function(e){var t=new Date,n=x(e),r=_(e);return null!=n&&null!=r&&r<=t&&t<n};var E=function(e){var t=e.metadata,n=e.knownMetadataPath,r=e.value||(0,f.default)(t,n,null)||null;return Object.keys(t).some(function(e){return n.startsWith(e)})||"contact"===n?{name:n,value:r}:null};t.makeMetadataQualification=E,t.formatMetadataQualification=function(e){var t=m.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean).filter(function(e,t,n){return n.length>1?"datetime"!==e.name:e}),n=v.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean),r=y.map(function(t){var n,r="qualification"===t?null==(n=e[t])?void 0:n.label:e[t];return E({metadata:e,knownMetadataPath:t,value:r})}).filter(Boolean);return[].concat((0,a.default)(t),(0,a.default)(n),(0,a.default)(r))},t.getMetadataQualificationType=function(e){return m.includes(e)?"date":v.includes(e)?"information":y.includes(e)?"contact"===e?"contact":"other":g.includes(e)?"bills":null},t.getTranslatedNameForDateMetadata=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.qualification.date.title.".concat(e))},t.formatDateMetadataValue=function(e,t){var n=t.lang,r=t.f,a=(0,u.getLocalizer)(n);return e?r(e,"en"===n?"LL/dd/yyyy":"dd/LL/yyyy"):a("Scan.qualification.noInfo")},t.getTranslatedNameForInformationMetadata=function(e,t){var n=t.lang,r=t.qualificationLabel,a=(0,u.getLocalizer)(n);return a("number"===e?"Scan.qualification.information.title.".concat(r,".").concat(e):"Scan.qualification.information.title.".concat(e))},t.formatInformationMetadataValue=function(e,t){var n=t.lang,r=t.name,a=t.qualificationLabel,i=(0,u.getLocalizer)(n),o=(0,l.getLocalizer)(n).t;return"number"==typeof e||e?"noticePeriod"===r?"".concat(e," ").concat(i("Scan.qualification.information.day",{smart_count:e})):"contractType"===r?i("Scan.attributes.contractType.".concat(e),{_:e}):"refTaxIncome"===r||"netSocialAmount"===r||"amount"===r||"number"===r&&"pay_sheet"===a?"".concat(e," â‚¬"):"country"===r&&(0,p.isValidCountryCodeTranslation)(n,e)?o("countries.".concat(e)):e:i("Scan.qualification.noInfo")},t.getTranslatedNameForOtherMetadata=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.qualification.".concat(e))},t.formatOtherMetadataValue=function(e,t){var n=t.lang,r=t.name,a=(0,u.getLocalizer)(n);return"qualification"===r?a("Scan.items.".concat(e),{smart_count:1}):a("Scan.qualification.".concat(e))},t.getTranslatedNameForContact=function(e){var t=e.lang;return(0,u.getLocalizer)(t)("Scan.qualification.contact")},t.formatContactValue=function(e){return e&&e.length>0?e.map(function(e){return"".concat((0,d.getDisplayName)(e))}).join(", "):""},t.makeExpiredMessage=function(e){var t=e.lang;return(0,u.getLocalizer)(t)("Scan.expiration.expired")},t.makeExpiresInMessage=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.expiration.expiresIn",{duration:(0,c.default)(new Date(e),{locale:"fr"===n?s.default:void 0})})},t.makeExpirationDescription=function(e,t){var n=t.lang;return(0,u.getLocalizer)(n)("Scan.expiration.description",{duration:(0,c.default)(new Date(e),{locale:"fr"===n?s.default:void 0})})},t.isForeignPaper=function(e){var t;return null!=(t=e.metadata)&&!!t.country&&"fr"!==e.metadata.country.toLowerCase()}},77957:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnly=v,t.fetchOwn=y,t.isForType=b,t.isDocumentReadOnly=function(e){return k.apply(this,arguments)},t.isShortcutCreatedOnTheRecipientCozy=void 0;var a=r(n(26396)),i=r(n(92207)),o=r(n(79092)),c=r(n(21259)),s=r(n(5287)),u=r(n(58156));r(n(59201));var l=n(31201),d=n(60400),f=n(58494),p=r(n(87925));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.writability;return e.verbs&&e.verbs.length>0&&0===(0,s.default)(e.verbs,["ALL"].concat((0,c.default)(void 0===n?["PATCH","POST","PUT","DELETE"]:n))).length}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection("io.cozy.permissions"),e.next=3,n.fetchOwnPermissions();case 3:if(r=e.sent,a=(0,u.default)(r,"data.attributes.permissions")){e.next=7;break}throw"Can't get self permissions";case 7:return e.abrupt("return",Object.values(a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return e.type===t||e.type+".*"===t}function w(){return(w=(0,o.default)(i.default.mark(function e(t){var n,r,a,c,s,u,p,h,v,g,w;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w=function(){return(w=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.doc,r=t.client,!(o=(a=t.perms).find(function(e){if(!e.values)return!0;var t=n[e.selector||"id"];return e.values.includes(t)}))){e.next=6;break}return e.abrupt("return",o);case 6:if(s!==f.DOCTYPE_FILES){e.next=16;break}if(e.t0=c=(0,d.getParentFolderId)(n),!e.t0){e.next=13;break}return e.next=12,h(c);case 12:e.t0=e.sent;case 13:if(!(u=e.t0)){e.next=16;break}return e.abrupt("return",g({doc:u,perms:a,client:r}));case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)},g=function(e){return w.apply(this,arguments)},v=function(){return(v=(0,o.default)(i.default.mark(function e(t){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.Q)(f.DOCTYPE_FILES).getById(t),e.next=3,r.query(n);case 3:return a=e.sent,e.abrupt("return",a&&a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return v.apply(this,arguments)},n=t.document,r=t.client,a=t.permissions,c=n._id||n.id,s=n._type||n.type,u=m(m({},n),{},{id:c,type:s}),!a){e.next=12;break}e.t0=a,e.next=15;break;case 12:return e.next=14,y(r);case 14:e.t0=e.sent;case 15:return p=e.t0.filter(function(e){return b(e,s)}),e.abrupt("return",g({doc:u,client:r,perms:p}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.document,r=t.client,a=t.writability,void 0!==(o=t.permissions)){e.next=10;break}return e.next=7,y(r);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=o;case 11:if(!((c=e.t0).length<=1)){e.next=16;break}e.t1=c[0],e.next=19;break;case 16:return e.next=18,function(e){return w.apply(this,arguments)}({document:n,client:r,permissions:c});case 18:e.t1=e.sent;case 19:if(!(s=e.t1)){e.next=24;break}return e.abrupt("return",v(s,{writability:a}));case 24:return p.default.warn("can't find the document in current attached permissions"),e.abrupt("return",void 0);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.isShortcutCreatedOnTheRecipientCozy=function(e){if(!e.included)return!1;var t=e.included.find(function(e){return"io.cozy.sharings.members"===e.type});return!!t&&!!t.attributes.instance}},29312:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeSharingLink=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(79092)),s=n(58494);a(n(59201));var u=n(56975);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r=(0,c.default)(i.default.mark(function e(t,n){var r,a,o,c,l,f,p,h,m,v,y=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(o=y.length>2&&void 0!==y[2]?y[2]:{}).ttl,l=o.password,p=void 0===(f=o.verbs)?["GET"]:f,h=d(d({_type:s.DOCTYPE_PERMISSIONS,permissions:{files:{type:s.DOCTYPE_FILES,values:n,verbs:p}}},c&&{ttl:c}),l&&{password:l}),e.next=4,t.save(h);case 4:return m=e.sent.data,v=(0,u.generateWebLink)({cozyUrl:t.getStackClient().uri,searchParams:[["sharecode",null==m||null==(r=m.attributes)||null==(a=r.shortcodes)?void 0:a.code]],pathname:"/public",slug:"drive",subDomainType:t.capabilities.flat_subdomains?"flat":"nested"}),e.abrupt("return",v);case 8:case"end":return e.stop()}},e)})),t.makeSharingLink=function(e,t){return r.apply(this,arguments)}},47314:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTimeSeriesByIntervalAndSource=t.saveTimeSeries=void 0;var o=i(n(92207)),c=i(n(79092)),s=n(31201),u=function(e){if(!e.startDate||!e.endDate)throw Error("You must specify a startDate and endDate for the time serie");if(!Date.parse(e.startDate)||!Date.parse(e.endDate))throw Error("Invalid date format for the time serie");if(!e.dataType)throw Error("You must specify a dataType for the time serie");if(!e.series||!Array.isArray(e.series))throw Error("You must specify a series array for the time serie")};r=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,s,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dataType,a=n.series,i=n.startDate,c=n.endDate,s=n.source,l=n.theme,u({dataType:r,series:a,startDate:i,endDate:c,source:s}),d={_type:"io.cozy.timeseries.".concat(r),startDate:i,endDate:c,source:s,theme:l,series:a},e.abrupt("return",t.save(d));case 5:case"end":return e.stop()}},e)})),t.saveTimeSeries=function(e,t){return r.apply(this,arguments)},a=(0,c.default)(o.default.mark(function e(t,n){var r,a,i,c,u,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.startDate,a=n.endDate,i=n.dataType,c=n.source,u=n.limit,l="io.cozy.timeseries.".concat(i),d=(0,s.Q)(l).where({source:c,startDate:{$gte:r},endDate:{$lte:a}}).indexFields(["source","startDate","endDate"]).sortBy([{source:"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(u||5),e.abrupt("return",t.query(d));case 4:case"end":return e.stop()}},e)})),t.fetchTimeSeriesByIntervalAndSource=function(e,t){return a.apply(this,arguments)}},35056:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.triggers=t.triggerStates=void 0;var a=r(n(26396)),i=n(9499),o=r(n(87925));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=["CHALLENGE_ASKED","DISK_QUOTA_EXCEEDED","TERMS_VERSION_MISMATCH","USER_ACTION_NEEDED","USER_ACTION_NEEDED.CHANGE_PASSWORD","USER_ACTION_NEEDED.ACCOUNT_REMOVED","USER_ACTION_NEEDED.WEBAUTH_REQUIRED","USER_ACTION_NEEDED.SCA_REQUIRED","LOGIN_FAILED"],l={getLastExecution:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_execution},getLastSuccess:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_success},getLastsuccess:function(e){var t;return o.default.warn("Deprecated, please use getLastSuccess instead of getLastsuccess"),null==e||null==(t=e.current_state)?void 0:t.last_success},isErrored:function(e){var t;return(null==e||null==(t=e.current_state)?void 0:t.status)==="errored"},getLastErrorType:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_error}};t.triggerStates=l;var d={isKonnectorWorker:function(e){return"konnector"===e.worker},isKonnector:function(e){return"konnector"===e.worker||"client"===e.worker},getKonnector:function(e){return d.isKonnector(e)?e.message&&e.message.konnector?e.message.konnector:e.message&&e.message.Data?JSON.parse(atob(e.message.Data)).konnector:void 0:null},getAccountId:function(e){var t,n,r=null==e||null==(t=e.message)?void 0:t.Data;return r?JSON.parse(atob(r)).account:null==e||null==(n=e.message)?void 0:n.account},isLatestErrorMuted:function(e,t){var n=l.getLastErrorType(e),r=l.getLastSuccess(e),a=r?new Date(r):new Date;return(0,i.getMutedErrors)(t).some(function(e){return e.type===n&&(!r||new Date(e.mutedAt)>a)})},hasActionableError:function(e){var t;return u.includes(null==e||null==(t=e.current_state)?void 0:t.last_error)},buildTriggerAttributes:function(e){var t=e.account,n=e.cron,r=e.folder,a=e.konnector,i={account:t._id,konnector:a.slug};r&&(i.folder_to_save=r._id);var o=a.clientSide?{type:"@client"}:{type:"@cron",arguments:void 0===n?"0 0 0 * * 0":n};return s(s({},{worker:"konnector",message:i}),o)}};t.triggers=d},27141:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.hasPassword=void 0;var i=a(n(92207)),o=a(n(79092)),c=n(50357),s=n(53010),u=n(95380);r=(0,o.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.hasExtensionInstalledAttribute)(t);case 2:return n=e.sent,e.next=5,(0,c.hasPasswordDefinedAttribute)(t);case 5:return r=e.sent,e.abrupt("return",!((0,u.isMagicLink)(t)||(0,u.isOIDC)(t))||n||r);case 7:case"end":return e.stop()}},e)})),t.hasPassword=function(e){return r.apply(this,arguments)}},90969:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getFlagshipDownloadLink=t.getCreatedByApp=t.hasBeenUpdatedByApp=void 0;var a=r(n(58156)),i=n(7127),o=r(n(94619));t.hasBeenUpdatedByApp=function(e,t){var n=(0,a.default)(e,"cozyMetadata.updatedByApps");return!!(n&&n.find(function(e){return e.slug===t}))},t.getCreatedByApp=function(e){return(0,a.default)(e,"cozyMetadata.createdByApp")},t.getFlagshipDownloadLink=function(e){if((0,i.isAndroid)()){var t=(0,o.default)("flagship.playstore-id")||"io.cozy.flagship.mobile";return"https://play.google.com/store/apps/details?id=".concat(t,"&hl=").concat(e)}if((0,i.isIOS)()){var n=(0,o.default)("flagship.appstore-id")||"id1600636174";return"https://apps.apple.com/".concat(e,"/app/").concat(n)}return(0,o.default)("flagship.download-link")||"https://cozy.io/".concat(e,"/download")}},85778:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPerformanceApi=void 0,t.defaultPerformanceApi={measure:function(e){},mark:function(e){return e}}},56569:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.webPerformanceApi=void 0;var a=r(n(97200));t.webPerformanceApi={measure:function(e){var t=e.measureName,n=e.markName,r=e.category,a=e.color,i=null!=t?t:n;performance.measure(i,{start:n,detail:{devtools:{track:null!=r?r:"CozyClient",color:null!=a?a:"secondary"}}})},mark:function(e){var t="".concat((0,a.default)()," ").concat(e);return performance.mark(t),t}}},70971:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={olderThan:function(e){return function(t){return!t||!t.lastUpdate||Date.now()-t.lastUpdate>e}},noFetch:function(){return!1}}},10899:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));t.default=function(){var e;function t(){(0,o.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),(i=this.pending[r])?o=i:(o=t(),this.pending[r]=o),e.prev=3,e.next=6,o;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[r]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,n){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),n=this.pending[t];return n||null}}]),t}()},31201:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryDefinition=t.MutationTypes=t.Mutations=t.getDoctypeFromOperation=t.uploadFile=t.removeReferencedBy=t.addReferencedBy=t.removeReferencesTo=t.addReferencesTo=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocuments=t.createDocument=t.isAGetByIdQuery=t.Q=void 0;var a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(20826)),s=r(n(87925));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e),this.doctype=t.doctype,this.id=t.id,this.ids=t.ids,this.selector=t.selector,this.fields=t.fields,this.indexedFields=t.indexedFields,this.partialFilter=t.partialFilter,this.sort=t.sort,this.includes=t.includes,this.referenced=t.referenced,this.limit=t.limit,this.skip=t.skip,this.cursor=t.cursor,this.bookmark=t.bookmark,this.sharingId=t.sharingId}return(0,o.default)(e,[{key:"checkSortOrder",value:function(e){var t=e.sort,n=e.selector,r=e.indexedFields,a=this.sort||t,i=this.selector||n||{},o=this.indexedFields||r;if(a){var c=o||Object.keys(i);if(c&&!(c.length<1)){if(a.length>c.length)return void s.default.warn("You should not sort on non-indexed fields.\n\n        Sort: ".concat(JSON.stringify(a),"\n\n        Indexed fields: ").concat(c));for(var u=0;u<a.length;u++)if(Object.keys(a[u])[0]!==c[u])return void s.default.warn("The sort order should be the same than the indexed fields.\n\n          Sort: ".concat(JSON.stringify(a),"\n\n          Indexed fields: ").concat(c,"\n"))}}}},{key:"checkSelector",value:function(e){(0,c.default)(e,["$exists",!1])&&s.default.warn('The "$exists: false" predicate should be defined as a partial index for better performance.\n\n        Selector: '.concat(JSON.stringify(e))),(0,c.default)(e,"$ne")&&s.default.info("The use of the $ne operator is more efficient with a partial index.\n\n        Selector: ".concat(JSON.stringify(e)));var t=(0,c.default)(e,function(e){return Array.isArray(e)});if(t&&!t.startsWith("$"))throw Error("You pass ".concat(JSON.stringify(e),", this is a valid mango operation, \n\n        but sift doesn't support it so CozyClient can not evaluate \n\n        the request in memory. You must use a MongoDB operator \n\n        like $in or $or operator instead, preferably in a partial index, \n\n        to avoid costly full-scan"))}},{key:"checkSelectFields",value:function(e){var t=e.fields,n=e.selector,r=e.partialFilter,a=this.fields||t,i=this.selector||n,o=this.partialFilter||r;if(a&&(i||o)&&!Object.keys(l(l({},i),o)).every(function(e){return a.includes(e)}))throw Error("The .select should includes all the fields used in where or partialIndex.\n        Please fix this query: fields: ".concat(JSON.stringify(this.toDefinition())))}},{key:"getById",value:function(t){if(!t)throw Error("getById called with undefined id");return new e(l(l({},this.toDefinition()),{},{id:t}))}},{key:"getByIds",value:function(t){return new e(l(l({},this.toDefinition()),{},{ids:t}))}},{key:"where",value:function(t){return this.checkSortOrder({selector:t}),this.checkSelector(t),this.checkSelectFields({selector:t}),new e(l(l({},this.toDefinition()),{},{selector:t}))}},{key:"select",value:function(t){return this.checkSelectFields({fields:t}),new e(l(l({},this.toDefinition()),{},{fields:t}))}},{key:"indexFields",value:function(t){return this.checkSortOrder({indexedFields:t}),new e(l(l({},this.toDefinition()),{},{indexedFields:t}))}},{key:"partialIndex",value:function(t){return this.checkSelectFields({partialFilter:t}),new e(l(l({},this.toDefinition()),{},{partialFilter:t}))}},{key:"sortBy",value:function(t){if(!Array.isArray(t))throw Error('Invalid sort, should be an array ([{ label: "desc"}, { name: "asc"}]), you passed '.concat(JSON.stringify(t),"."));return this.checkSortOrder({sort:t}),new e(l(l({},this.toDefinition()),{},{sort:t}))}},{key:"include",value:function(t){if(!Array.isArray(t))throw Error("include() takes an array of relationship names");return new e(l(l({},this.toDefinition()),{},{includes:t}))}},{key:"limitBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{limit:t}))}},{key:"UNSAFE_noLimit",value:function(){return new e(l(l({},this.toDefinition()),{},{limit:null}))}},{key:"offset",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,cursor:void 0,skip:t}))}},{key:"offsetCursor",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,skip:void 0,cursor:t}))}},{key:"offsetBookmark",value:function(t){return new e(l(l({},this.toDefinition()),{},{skip:void 0,cursor:void 0,bookmark:t}))}},{key:"referencedBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{referenced:t}))}},{key:"sharingById",value:function(t){return new e(l(l({},this.toDefinition()),{},{sharingId:t}))}},{key:"toDefinition",value:function(){return{doctype:this.doctype,id:this.id,ids:this.ids,selector:this.selector,fields:this.fields,indexedFields:this.indexedFields,partialFilter:this.partialFilter,sort:this.sort,includes:this.includes,referenced:this.referenced,limit:this.limit,skip:this.skip,cursor:this.cursor,bookmark:this.bookmark,sharingId:this.sharingId}}}]),e}();t.QueryDefinition=d,t.Q=function(e){return new d({doctype:e})},t.isAGetByIdQuery=function(e){if(!e)return!1;var t=Object.values(e);return 0!==t.length&&2===t.filter(function(e){return void 0!==e}).length&&void 0!==e.id};var f="CREATE_DOCUMENT",p="CREATE_DOCUMENTS",h="UPDATE_DOCUMENT",m="UPDATE_DOCUMENTS",v="DELETE_DOCUMENT",y="DELETE_DOCUMENTS",g="ADD_REFERENCES_TO",b="UPLOAD_FILE",w=function(e){return{mutationType:T.CREATE_DOCUMENT,document:e}};t.createDocument=w;var k=function(e){return{mutationType:T.CREATE_DOCUMENTS,documents:e}};t.createDocuments=k;var x=function(e){return{mutationType:T.UPDATE_DOCUMENT,document:e}};t.updateDocument=x;var O=function(e){return{mutationType:T.UPDATE_DOCUMENTS,documents:e}};t.updateDocuments=O;var _=function(e){return{mutationType:T.DELETE_DOCUMENT,document:e}};t.deleteDocument=_;var E=function(e){return{mutationType:T.DELETE_DOCUMENTS,documents:e}};t.deleteDocuments=E;var C=function(e,t){return{mutationType:T.ADD_REFERENCES_TO,referencedDocuments:t,document:e}};t.addReferencesTo=C;var S=function(e,t){return{mutationType:T.REMOVE_REFERENCES_TO,referencedDocuments:t,document:e}};t.removeReferencesTo=S;var P=function(e,t){return{mutationType:T.ADD_REFERENCED_BY,referencedDocuments:t,document:e}};t.addReferencedBy=P;var A=function(e,t){return{mutationType:T.REMOVE_REFERENCED_BY,referencedDocuments:t,document:e}};t.removeReferencedBy=A;var D=function(e,t){return{mutationType:T.UPLOAD_FILE,file:e,dirPath:t}};t.uploadFile=D,t.getDoctypeFromOperation=function(e){if(!e.mutationType)return e.doctype;var t=e.mutationType;switch(t){case f:return e.document._type;case p:return e.documents[0]._type;case h:return e.document._type;case m:return e.documents[0]._type;case v:return e.document._type;case y:return e.documents[0]._type;case g:case b:throw Error("Not implemented");default:throw Error("Unknown mutationType ".concat(t))}},t.Mutations={createDocument:w,createDocuments:k,updateDocument:x,updateDocuments:O,deleteDocument:_,deleteDocuments:E,addReferencesTo:C,removeReferencesTo:S,addReferencedBy:P,removeReferencedBy:A,uploadFile:D};var T={CREATE_DOCUMENT:f,CREATE_DOCUMENTS:p,UPDATE_DOCUMENT:h,UPDATE_DOCUMENTS:m,DELETE_DOCUMENT:v,DELETE_DOCUMENTS:y,ADD_REFERENCES_TO:g,REMOVE_REFERENCES_TO:"REMOVE_REFERENCES_TO",ADD_REFERENCED_BY:"ADD_REFERENCED_BY",REMOVE_REFERENCED_BY:"REMOVE_REFERENCED_BY",UPLOAD_FILE:b};t.MutationTypes=T},8895:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(73916)),i=r(n(94394)),o=r(n(35970)),c=r(n(2404)),s=r(n(63375)),u=r(n(9063)),l=n(31201),d=function(e){var t=(0,i.default)(e,function(e){return e.id||e.ids?"idQueries":"others"}),n=t.idQueries,r=void 0===n?[]:n,a=t.others,d=r.length>0?new l.QueryDefinition({doctype:e[0].doctype,ids:(0,s.default)((0,o.default)(r.map(function(e){return e.id||e.ids})))}):[];return(0,u.default)(void 0===a?[]:a,c.default).concat(d)};t.default=function(e){var t=(0,i.default)(e,function(e){return e.doctype});return(0,o.default)(Object.values((0,a.default)(t,d)))}},80366:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.registryEndpoint=t.transformRegistryFormatToStackFormat=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(26396)),u=r(n(58156));n(48318);var l=r(n(84969)),d=n(39924);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.transformRegistryFormatToStackFormat=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:(0,u.default)(e,"latest_version.manifest.source"),attributes:(0,u.default)(e,"latest_version.manifest")},e)},t.registryEndpoint="/registry/";var p=function(e){var t=new URLSearchParams(e).toString();return t?"?".concat(t):""},h=function(e){var t=e.type,n=t===d.APP_TYPE.KONNECTOR||"node"===t?"konnectors":"apps";return"/".concat(n)};t.default=function(){var e,t,n;function r(e){if((0,o.default)(this,r),!e.client)throw Error("Need to pass a client to instantiate a Registry API.");this.client=e.client}return(0,c.default)(r,[{key:"installApp",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.slug,i=t.terms,o={},(c=t.installed)&&(o.PermissionsAcked=c),n&&(o.Source=n),s=p(o),!i){e.next=9;break}return e.next=9,l.default.save(this.client,i);case 9:return u=t.installed?"PUT":"POST",d=h(t),e.abrupt("return",this.client.stackClient.fetchJSON(u,"".concat(d,"/").concat(r).concat(s)));case 12:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"uninstallApp",value:(t=(0,i.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slug,r=h(t),e.abrupt("return",this.client.stackClient.fetchJSON("DELETE","".concat(r,"/").concat(n)));case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"fetchApps",value:(n=(0,i.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.channel,r=t.type,s=new URLSearchParams(c={limit:o=void 0===(i=t.limit)?"200":i,versionsChannel:n,latestChannelVersion:n}).toString(),r&&(s+="&filter[type]=".concat(r)),e.next=6,this.client.stackClient.fetchJSON("GET","/registry?".concat(s));case 6:return u=e.sent.data,e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"fetchAppsInMaintenance",value:function(){return this.client.stackClient.fetchJSON("GET","/registry/maintenance")}},{key:"fetchApp",value:function(e){return this.client.stackClient.fetchJSON("GET","/registry/".concat(e))}},{key:"fetchAppVersion",value:function(e){if(!e.slug)throw Error("Need to pass a slug to use fetchAppVersion");var t=e.slug,n=e.channel,r=e.version,a=n||r&&"latest"!==r?n:"stable",i="/registry/".concat(t,"/");return a?i+="".concat(a,"/").concat(r||"latest"):i+="".concat(r),this.client.stackClient.fetchJSON("GET",i)}}]),r}()},90912:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.persistVirtualDocuments=t.shouldDocumentBePersisted=t.shouldEnforcePersist=t.ENFORCE_LIST=void 0;var o=i(n(92207)),c=i(n(79092));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}i(n(59201)),n(31201);var u=["io.cozy.files.shortcuts"];t.ENFORCE_LIST=u;var l=function(e){return u.includes(e.doctype)};t.shouldEnforcePersist=l;var d=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&!e.cozyLocalOnly&&((null==(t=e.meta)||!t.rev)&&!e._rev||!!n||!!e.driveId&&"io.cozy.files"===e._type)};t.shouldDocumentBePersisted=d,r=(0,c.default)(o.default.mark(function e(t,n,r){var a,i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l(n),"io.cozy.apps_registry"!==n.doctype){e.next=5;break}return e.next=4,f(t,{_type:"io.cozy.apps_registry",_id:n.id,cozyPouchData:r},a);case 4:return e.abrupt("return",e.sent);case 5:if(Array.isArray(r)){e.next=10;break}return e.next=8,f(t,r,a);case 8:e.next=28;break;case 10:i=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(r.filter(function(e){return d(e,a)})),e.prev=12,i.s();case 14:if((c=i.n()).done){e.next=20;break}return u=c.value,e.next=18,f(t,u,a);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[12,22,25,28]])})),t.persistVirtualDocuments=function(e,t,n){return r.apply(this,arguments)};var f=(a=(0,c.default)(o.default.mark(function e(t,n,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(n,r)){e.next=3;break}return e.next=3,t.chain.persistCozyData(n);case 3:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})},68737:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndMergeDocument=t.getCollectionFromSlice=t.getDocumentsFromSlice=t.getDocumentFromSlice=t.default=t.mergeDocumentsWithRelationships=void 0;var a=r(n(26396)),i=r(n(58156)),o=r(n(90179)),c=r(n(32017)),s=r(n(95051)),u=r(n(87925)),l=n(59063),d=n(31201),f=n(31171),p=n(69626);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=(0,s.default)({mergeArray:function(e){var t=e.clone;return function(e,n){return t(n)}}}),y=function(e,t){var n=t._type;if(!n)throw Error("Document without _type");if(!(0,p.properId)(t))throw Error("Document without id");var r=(0,i.default)(e,[n,(0,p.properId)(t)]);return(0,c.default)(r,t)?e:m(m({},e),{},(0,a.default)({},n,m(m({},e[n]),{},(0,a.default)({},(0,p.properId)(t),g(r,t)))))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m(m({},e),t);return(e.relationships||t.relationships)&&(n.relationships=m(m({},e.relationships),t.relationships)),n};t.mergeDocumentsWithRelationships=g,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!(0,l.isReceivingData)(t)&&!(0,f.isReceivingMutationResult)(t))return e;if(t&&t.definition&&t.definition.mutationType===d.MutationTypes.DELETE_DOCUMENT){var n=t.definition.document._id,r=t.definition.document._type;return m(m({},e),{},(0,a.default)({},r,(0,o.default)(e[r],n)))}var i=t.response,c=i.data,s=i.included;if(!c||Array.isArray(c)&&0===c.length)return e;var u=s?s.reduce(y,e):e;return Array.isArray(c)?b(c,u):y(u,c)},t.getDocumentFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");if(!n)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined id");return e[t]&&e[t][n]?e[t][n]:null},t.getDocumentsFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined doctype");if(!n||n.length<1)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined ids");return e[t]?n.map(function(n){return e[t][n]}).filter(Boolean):[]},t.getCollectionFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");return e[t]?Object.values(e[t]):null};var b=function(e,t){var n=e[0]._type;if(!n)throw u.default.info("Document without _type",e[0]),Error("Document without _type");var r=new Map(e.map(function(e){return[(0,p.properId)(e),e]})),a=Object.assign({},t);a[n]=Object.assign({},t[n]),a[n]||(a[n]={});var i=!1;return(r.forEach(function(e,t){var r=a[n][t];r?(0,c.default)(r,e)||(a[n][t]=v(a[n][t],e),i=!0):(a[n][t]=e,i=!0)}),i)?a:t};t.extractAndMergeDocument=b},69626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.properId=void 0,t.properId=function(e){return e.id||e._id}},46475:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initQuery",{enumerable:!0,get:function(){return f.initQuery}}),Object.defineProperty(t,"loadQuery",{enumerable:!0,get:function(){return f.loadQuery}}),Object.defineProperty(t,"resetQuery",{enumerable:!0,get:function(){return f.resetQuery}}),Object.defineProperty(t,"receiveQueryResult",{enumerable:!0,get:function(){return f.receiveQueryResult}}),Object.defineProperty(t,"receiveQueryError",{enumerable:!0,get:function(){return f.receiveQueryError}}),Object.defineProperty(t,"executeQueryFromState",{enumerable:!0,get:function(){return f.executeQueryFromState}}),Object.defineProperty(t,"initMutation",{enumerable:!0,get:function(){return p.initMutation}}),Object.defineProperty(t,"receiveMutationResult",{enumerable:!0,get:function(){return p.receiveMutationResult}}),Object.defineProperty(t,"receiveMutationError",{enumerable:!0,get:function(){return p.receiveMutationError}}),Object.defineProperty(t,"getStateRoot",{enumerable:!0,get:function(){return h.getStateRoot}}),Object.defineProperty(t,"getCollectionFromState",{enumerable:!0,get:function(){return h.getCollectionFromState}}),Object.defineProperty(t,"getDocumentFromState",{enumerable:!0,get:function(){return h.getDocumentFromState}}),Object.defineProperty(t,"getQueryFromStore",{enumerable:!0,get:function(){return h.getQueryFromStore}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return h.getQueryFromState}}),Object.defineProperty(t,"getRawQueryFromState",{enumerable:!0,get:function(){return h.getRawQueryFromState}}),Object.defineProperty(t,"isQueryExisting",{enumerable:!0,get:function(){return h.isQueryExisting}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return m.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return m.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return m.dispatchDelete}}),t.resetState=t.createStore=t.default=t.StoreProxy=void 0;var i=a(n(26396)),o=a(n(82274)),c=a(n(65044)),s=a(n(94619)),u=n(47993),l=a(n(1265)),d=a(n(68737)),f=r(n(59063)),p=n(31171),h=n(61813),m=n(60174);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g="COZY_CLIENT.RESET_STATE";t.resetState=function(){return{type:g}};var b=function(){function e(t){(0,o.default)(this,e),this.state=t}return(0,c.default)(e,[{key:"readDocument",value:function(e,t){return this.state.documents[e][t]}},{key:"writeDocument",value:function(e){this.setState(function(t){return y(y({},t),{},{documents:y(y({},t.documents),{},(0,i.default)({},e._type,y(y({},t.documents[e._type]),{},(0,i.default)({},e._id,e))))})})}},{key:"setState",value:function(e){this.state=e(this.state)}},{key:"getState",value:function(){return this.state}}]),e}();t.StoreProxy=b;var w={documents:{},queries:{}},k=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0,r=e.mark("combinedReducer");if(n.type==g)return e.measure({markName:r,measureName:"".concat(r," reset"),category:"CozyClientStore"}),w;if(!(0,f.isQueryAction)(n)&&!(0,p.isMutationAction)(n))return e.measure({markName:r,measureName:"".concat(r," no query nor mutate action"),category:"CozyClientStore"}),t;if(n.update){var a=new b(t);n.update(a,n.response);var i={documents:a.getState().documents,queries:(0,f.default)(e,a.getState().queries,n,a.getState().documents)};return e.measure({markName:r,measureName:"".concat(r," update action"),category:"CozyClientStore"}),i}var o=(0,d.default)(t.documents,n),c=o!==t.documents,s={documents:o,queries:(0,f.default)(e,t.queries,n,o,c)};return e.measure({markName:r,measureName:"".concat(r," queries"),category:"CozyClientStore"}),s}};t.default=k;var x=(0,s.default)("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.compose;t.createStore=function(e){return(0,u.createStore)((0,u.combineReducers)({cozy:k(e)}),x((0,u.applyMiddleware)(l.default)))}},31171:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMutationError=t.receiveMutationResult=t.initMutation=t.isReceivingMutationResult=t.isMutationAction=void 0;var a=r(n(26396));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c="INIT_MUTATION",s="RECEIVE_MUTATION_RESULT",u="RECEIVE_MUTATION_ERROR";t.isMutationAction=function(e){return -1!==[c,s,u].indexOf(e.type)},t.isReceivingMutationResult=function(e){return e.type===s},t.initMutation=function(e,t){return{type:c,mutationId:e,definition:t}},t.receiveMutationResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(o({type:s,mutationId:e,response:t},n),{},{definition:r})},t.receiveMutationError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:u,mutationId:e,error:t,definition:n}}},59063:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryIDGenerator=t.getQueryFromSlice=t.mapIdsToDocuments=t.resetQuery=t.receiveQueryError=t.receiveQueryResult=t.loadQuery=t.initQuery=t.default=t.updateData=t.makeSorterFromDefinition=t.executeQueryFromState=t.mergeSelectorAndPartialIndex=t.convert$gtNullSelectors=t.sortAndLimitDocsIds=t.isReceivingData=t.isQueryAction=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(22056)),c=r(n(26396)),s=r(n(21259)),u=r(n(73916)),l=r(n(94394)),d=r(n(66245)),f=r(n(5287)),p=r(n(92078)),h=r(n(11331)),m=r(n(63375)),v=r(n(42877)),y=r(n(85015)),g=r(n(58156)),b=r(n(14745)),w=r(n(94619)),k=n(68737),x=n(31171),O=n(69626),_=n(31201),E=r(n(87925)),C=n(61813);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A="INIT_QUERY",D="LOAD_QUERY",T="RECEIVE_QUERY_RESULT",R="RECEIVE_QUERY_ERROR",j="RESET_QUERY",M=(0,w.default)("debug"),I=function(e){return -1!==[A,D,T,R,j].indexOf(e.type)};t.isQueryAction=I,t.isReceivingData=function(e){return e.type===T};var N={id:null,definition:null,fetchStatus:"pending",isFetching:null,lastFetch:null,lastUpdate:null,lastErrorUpdate:null,lastError:null,hasMore:!1,count:0,fetchedPagesCount:0,data:[],storeData:[],bookmark:null,relationshipNames:[]},z=function(e,t,n,r){var a,i=r.count,o=r.fetchedPagesCount,c=(0,s.default)(n);if(e.definition.sort&&t){var u=W(e.definition),l=t[e.definition.doctype];c=u(l?c.map(function(e){return l[e]}).filter(Boolean):[]).map(O.properId)}var d=e.definition.limit;return d&&(a=i<d?o>1?d*(o-1)+i:i:d*o,c=c.slice(0,a)),c};t.sortAndLimitDocsIds=z;var F=function(e,t,n,r){var a=r.count,i=r.fetchedPagesCount,o=(0,m.default)([].concat((0,s.default)(e.data),(0,s.default)(t.data.map(O.properId))));return z(e,n,o,{count:a,fetchedPagesCount:i})},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;switch(n.type){case A:if(t.lastUpdate&&t.id===n.queryId&&t.definition===n.queryDefinition)return t;return P(P({},t),{},{id:n.queryId,definition:n.queryDefinition,options:n.options,fetchStatus:t.lastUpdate?t.fetchStatus:"pending"});case D:if("loading"===t.fetchStatus)return t;if("loaded"===t.fetchStatus&&n.backgroundFetching)return P(P({},t),{},{fetchStatus:"loaded",isFetching:!0});return P(P({},t),{},{fetchStatus:"loading"});case T:var a=e.mark("RECEIVE_QUERY_RESULT"),i=n.response;if(!i.data)return e.measure({markName:a,measureName:"".concat(a," with no data"),category:"CozyClientStore"}),P(P({},t),{},{fetchStatus:"loaded",isFetching:!n.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()});var o=P({fetchStatus:"loaded",isFetching:!n.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()},M&&{execution_stats:i.execution_stats});if(!Array.isArray(i.data))return e.measure({markName:a,measureName:"".concat(a," with object"),category:"CozyClientStore"}),P(P(P({},t),o),{},{hasMore:!1,count:1,data:[(0,O.properId)(i.data)]});var c=i.meta&&i.meta.count?i.meta.count:i.data.length;if(n.backgroundFetching)return e.measure({markName:a,measureName:"".concat(a," with background fetching"),category:"CozyClientStore"}),P(P(P({},t),o),{},{bookmark:i.bookmark||null,hasMore:void 0!==i.next?i.next:t.hasMore,count:c,data:i.data.map(O.properId)});var s=t.fetchedPagesCount+1,u=F(t,i,r,{count:c,fetchedPagesCount:s});return e.measure({markName:a,measureName:"".concat(a," default"),category:"CozyClientStore"}),P(P(P({},t),o),{},{bookmark:i.bookmark||null,hasMore:void 0!==i.next?i.next:t.hasMore,count:c,fetchedPagesCount:s,data:u});case R:return P(P({},t),{},{id:n.queryId,fetchStatus:"failed",isFetching:!n.backgroundFetching&&null,lastError:n.error,lastErrorUpdate:Date.now()});case j:return P(P({},N),{},{id:n.queryId,definition:t.definition,options:t.options});default:return t}},B=function e(t){for(var n={},r=0,a=Object.entries(t);r<a.length;r++){var i=(0,o.default)(a[r],2),c=i[0],s=i[1],u=(0,h.default)(s)?e(s):s;n["$gt"===c&&null===u?"$gtnull":c]=u}return n};t.convert$gtNullSelectors=B;var U=function(e){return P(P({},(0,g.default)(e,"selector")),(0,g.default)(e,"partialFilter"))};t.mergeSelectorAndPartialIndex=U;var V=function(e){if(e.selector||e.partialFilter){var t=U(e);return b.default.use({$gtnull:function(e,t){return!!t}}),(0,b.default)(B(t))}if(e.id){var n={_id:e.id};return(0,b.default)(n)}if(!e.ids)return null;var r={_id:{$in:e.ids}};return(0,b.default)(r)};t.executeQueryFromState=function(e,t){var n,r=!!t.id;if(t.id){var a=(0,C.getDocumentFromState)(e,t.doctype,t.id);n=a?[a]:[]}else if(t.ids)n=(0,C.getDocumentsFromState)(e,t.doctype,t.ids);else{var i=(0,C.getCollectionFromState)(e,t.doctype);n=null==i?void 0:i.filter(H(t))}return!n||n.length<1?{data:r?null:[]}:r?{data:n[0]}:{data:W(t)(n)}};var H=function(e){var t=e.doctype,n=V(e);return function(e){return e._type===t&&!e._deleted&&(!n||!!n(e))}},q=function(e){return function(t){var n=(0,g.default)(t,e);return(0,y.default)(n)?n.toLowerCase():n}},W=function(e){var t=e.sort;if(!t)return function(e){return e};if(!Array.isArray(e.sort))return E.default.warn("Correct update of queries with a sort that is not an array is not supported. Use an array as argument of QueryDefinition::sort"),function(e){return e};var n=t.map(function(e){return Object.entries(e)[0]}),r=n.map(function(e){return e[0]}).map(q),a=n.map(function(e){return e[1]});return function(e){return(0,v.default)(e,r,a)}};t.makeSorterFromDefinition=W;var G=function(e,t,n){var r=H(e.definition),a=(0,u.default)((0,l.default)(t,r),function(e){return e.map(O.properId)}),i=a.true,o=void 0===i?[]:i,c=a.false,s=e.data,h=e.options&&e.options.autoUpdate,m=!h||!1!==h.remove,v=!h||!1!==h.add,y=!h||!1!==h.update,g=m?(0,f.default)(s,void 0===c?[]:c):[],b=v?(0,d.default)(o,s):[],w=y?(0,f.default)(s,o):[],k=g.length||b.length||w.length,x=(0,d.default)((0,p.default)(s,b),g),_=e.fetchedPagesCount,E=z(e,n,x,{count:x.length,fetchedPagesCount:_});return P(P({},e),{},{data:E,count:E.length,fetchedPagesCount:_,lastUpdate:k?Date.now():e.lastUpdate})};t.updateData=G;var Z=function(e,t){return function(n){var r=(0,g.default)(e,"response.data")||(0,g.default)(e,"definition.document");return r&&(Array.isArray(r)||(r=[r]),r.length&&n.definition.doctype===r[0]._type)?G(n,r,t):n}};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(n.type==A){var i=L(e,t[n.queryId],n,r);return i===t[n.queryId]?t:P(P({},t),{},(0,c.default)({},n.queryId,i))}if(I(n)){var o=Z(n,r);return(0,u.default)(t,function(t){return t.id==n.queryId?L(e,t,n,r):a?o(t):t})}if((0,x.isReceivingMutationResult)(n)){var s=n.updateQueries?function(e){var t=n.updateQueries,a=n.response,i=t[e.id];if(!i)return e;var o=i(K(r,e.definition.doctype,e.data),a).map(O.properId);return P(P({},e),{},{data:o,count:o.length,lastUpdate:Date.now()})}:Z(n,r);return(0,u.default)(t,s)}return t},t.initQuery=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.doctype)throw Error("Cannot init query with no doctype");return{type:A,queryId:e,queryDefinition:t,options:n}},t.loadQuery=function(e,t){return P({type:D,queryId:e},t)},t.receiveQueryResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P({type:T,queryId:e,response:t},n)},t.receiveQueryError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P({type:R,queryId:e,error:t},n)},t.resetQuery=function(e){return{type:j,queryId:e}};var K=function(e,t,n){return n.map(function(n){return(0,k.getDocumentFromSlice)(e,t,n)}).filter(function(e){return!!e})};t.mapIdsToDocuments=K,t.getQueryFromSlice=function(e,t,n){if(!e||!e[t])return P(P({},N),{},{id:t,data:null});var r=e[t];return n?P(P({},r),{},{data:K(n,r.definition.doctype,r.data)}):r};var Q=function(){function e(){(0,a.default)(this,e),this.idCounter=1}return(0,i.default)(e,[{key:"generateRandomId",value:function(){var e=this.idCounter;return this.idCounter++,e.toString()}},{key:"generateId",value:function(e){if(!(0,_.isAGetByIdQuery)(e))return this.generateRandomId();var t=e.id,n=e.doctype;return"".concat(n,"/").concat(t)}}]),e}();t.QueryIDGenerator=Q,Q.UNNAMED="unnamed"},60174:function(e,t,n){"use strict";var r,a,i,o,c=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchDelete=t.dispatchUpdate=t.dispatchCreate=void 0;var s=c(n(92207)),u=c(n(79092)),l=c(n(26396)),d=n(31201),f=n(31171);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e,t){return h({id:e._id,_type:t},e)},v=(r=(0,u.default)(s.default.mark(function e(t,n){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n.enhanceDocFn){e.next=4;break}return e.next=3,n.enhanceDocFn(t,{client:n.client});case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),y=function(e,t,n){e.dispatch((0,f.receiveMutationResult)(e.generateRandomId(),{data:t},{},n(t)))};a=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(r,n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.createDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchCreate=function(e,t,n){return a.apply(this,arguments)},i=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(r,n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.updateDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchUpdate=function(e,t,n){return i.apply(this,arguments)},o=(0,u.default)(s.default.mark(function e(t,n,r){var a,i,o=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},i=m(h(h({},r),{},{_deleted:!0}),n),e.next=4,v(i,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.deleteDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchDelete=function(e,t,n){return o.apply(this,arguments)}},28918:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.equalityCheckForQuery=void 0,t.equalityCheckForQuery=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||e.id!==t.id||e.fetchStatus!==t.fetchStatus)return!1;var i=e.storeData,o=t.storeData;if(!i||!o||!Array.isArray(i)&&!Array.isArray(o)&&i!==o||Array.isArray(i)&&Array.isArray(o)&&!a(i,o))return!1;if(Array.isArray(i)&&Array.isArray(o)){for(var c=0;c<i.length;c++)if(i[c]!==o[c])return!1}if(e.relationshipNames){var s=e.data,u=t.data;if(!Array.isArray(s)&&!Array.isArray(u))return r(s,u);if(!a(s,u))return!1;if(Array.isArray(s)&&Array.isArray(u))for(var l=0;l<s.length;l++){var d,f=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}(e.relationshipNames);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=s[l][p],m=u[l][p];if(h&&m&&!r(h,m))return!1}}catch(e){f.e(e)}finally{f.f()}}}return!0};var r=function(e,t){return!!e._rev&&!!t._rev&&(null==e?void 0:e._rev)===(null==t?void 0:t._rev)},a=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length}},61813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryExisting=t.getRawQueryFromState=t.getQueryFromState=t.getQueryFromStore=t.getDocumentsFromState=t.getDocumentFromState=t.getCollectionFromState=t.getStateRoot=void 0;var r=n(68737),a=n(59063),i=function(e){return e.cozy||{}};t.getStateRoot=i,t.getCollectionFromState=function(e,t){return(0,r.getCollectionFromSlice)(i(e).documents,t)},t.getDocumentFromState=function(e,t,n){return(0,r.getDocumentFromSlice)(i(e).documents,t,n)},t.getDocumentsFromState=function(e,t,n){return(0,r.getDocumentsFromSlice)(i(e).documents,t,n)},t.getQueryFromStore=function(e,t){return o(e.getState(),t)};var o=function(e,t){return(0,a.getQueryFromSlice)(i(e).queries,t,i(e).documents)};t.getQueryFromState=o,t.getRawQueryFromState=function(e,t){return(0,a.getQueryFromSlice)(i(e).queries,t)},t.isQueryExisting=function(e,t){return void 0!==i(e).queries[t]}},84969:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(39892)),c=r(n(79092));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="io.cozy.terms";function d(){return(d=(0,c.default)(a.default.mark(function e(t,n){var r,i,c,s,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=(0,o.default)(n,["id"]),e.next=3,t.query({doctype:l,selector:{termsId:r,version:i.version},limit:1});case 3:if(!((c=e.sent.data)&&c.length)){e.next=13;break}if((s=c[0]).termsId!=r||s.version!=i.version||s.url==i.url){e.next=11;break}return d=u(u({_type:l},s),{},{url:i.url}),e.next=11,t.save(d);case 11:e.next=16;break;case 13:return f=u(u({_type:l},i),{},{termsId:r,accepted:!0,acceptedAt:new Date}),e.next=16,t.save(f);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.default={save:function(e,t){return d.apply(this,arguments)}}},36667:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.CozyClient=void 0;var a=r(n(56994)),i=r(n(65611)),o=r(n(18337)),c=r(n(82274));t.CozyClient=function(e){(0,a.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,o.default)(r);return e=t?Reflect.construct(n,arguments,(0,o.default)(this).constructor):n.apply(this,arguments),(0,i.default)(this,e)});function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return r}(function e(t){(0,c.default)(this,e),Object.assign(this,t)})},51240:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=t.isReactNativeOfflineError=t.hasQueriesBeenLoaded=t.isQueriesLoading=t.hasQueryBeenLoaded=t.isQueryLoading=t.cancelable=void 0;var a=r(n(94619)),i=r(n(87925));t.cancelable=function(e){var t,n=new Promise(function(n,r){t=r,e.then(n),e.catch(r)});return n.cancel=function(){t({canceled:!0})},n};var o=function(e){return e?"loading"===e.fetchStatus||"pending"===e.fetchStatus:(i.default.warn("isQueryLoading called on falsy value."),!1)};t.isQueryLoading=o;var c=function(e){return e.lastFetch};t.hasQueryBeenLoaded=c,t.isQueriesLoading=function(e){return Object.values(e).some(function(e){return o(e)})},t.hasQueriesBeenLoaded=function(e){return Object.values(e).some(function(e){return c(e)})},t.isReactNativeOfflineError=function(e){return"Network request failed"===e.message},t.isDebug=function(){return!!(0,a.default)("debug")}},24858:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(16193)),o=a(n(82274)),c=a(n(65044)),s=a(n(41972)),u=a(n(56994)),l=a(n(65611)),d=a(n(18337)),f=a(n(26396)),p=r(n(96540)),h=a(n(21362));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.displayName||n.name||"Component",a=function(a){(0,u.default)(v,a);var h,m=(h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(v);return e=h?Reflect.construct(t,arguments,(0,d.default)(this).constructor):t.apply(this,arguments),(0,l.default)(this,e)});function v(n,a){var i;if((0,o.default)(this,v),i=m.call(this,n,a),(0,f.default)((0,s.default)(i),"mutate",function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return i.client.mutate(e.apply(null,r),t)}),i.client=n.client||a.client,!i.client)throw Error('Could not find "client" in either the context or props of '.concat(r));return i}return(0,c.default)(v,[{key:"render",value:function(){var e=(0,f.default)({},t.name||"mutate",this.mutate);return p.default.createElement(n,(0,i.default)({},e,this.props))}}]),v}(p.Component);return(0,f.default)(a,"contextTypes",{client:h.default.object}),a.displayName="WithMutation(".concat(r,")"),a}}},78505:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(16193)),o=a(n(82274)),c=a(n(65044)),s=a(n(56994)),u=a(n(65611)),l=a(n(18337)),d=a(n(26396)),f=a(n(21259)),p=a(n(55364)),h=r(n(96540)),m=a(n(21362)),v=a(n(87925));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.displayName||e.name||"Component",r=function(r){(0,s.default)(g,r);var a,m=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,l.default)(g);return e=a?Reflect.construct(t,arguments,(0,l.default)(this).constructor):t.apply(this,arguments),(0,u.default)(this,e)});function g(e,r){(0,o.default)(this,g);var a=m.call(this,e,r),i=e.client||r.client;if(v.default.warn("Deprecation: withMutations will be removed in the near future, prefer to use withClient to access the client. See https://github.com/cozy/cozy-client/pull/638 for more information."),!i)throw Error('Could not find "client" in either the context or props of '.concat(n));return a.mutations=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({createDocument:i.create.bind(i),saveDocument:i.save.bind(i),deleteDocument:i.destroy.bind(i)},p.default.apply(void 0,(0,f.default)(t.map(function(t){return"function"==typeof t?t(i,e):t})))),a}return(0,c.default)(g,[{key:"render",value:function(){return h.default.createElement(e,(0,i.default)({},this.mutations,this.props))}}]),g}(h.Component);return(0,d.default)(r,"contextTypes",{client:m.default.object}),r.displayName="WithMutations(".concat(n,")"),r}}},48068:function(e,t,n){"use strict";var r=n(13715);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},21362:function(e,t,n){e.exports=n(48068)()},13715:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},89490:function(e,t,n){"use strict";n.r(t),n.d(t,{useSelector:()=>ee,useStore:()=>Q,ReactReduxContext:()=>m,batch:()=>et.unstable_batchedUpdates,createSelectorHook:()=>X,Provider:()=>b,createStoreHook:()=>K,connect:()=>G,shallowEqual:()=>I,createDispatchHook:()=>Y,connectAdvanced:()=>j,useDispatch:()=>J});var r,a,i,o,c,s,u,l,d,f,p,h=n(96540);n(21362);var m=h.createContext(null),v=function(e){e()},y={notify:function(){}},g=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=y,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return!!this.unsubscribe},t.trySubscribe=function(){if(!this.unsubscribe){var e,t,n;this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=v,t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}})}},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},e}();let b=function(e){var t=e.store,n=e.context,r=e.children,a=(0,h.useMemo)(function(){var e=new g(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),i=(0,h.useMemo)(function(){return t.getState()},[t]);(0,h.useEffect)(function(){var e=a.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,i]);var o=n||m;return h.createElement(o.Provider,{value:a},r)};var w=n(40160),k=n(54707),x=n(4146),O=n.n(x),_=n(44363),E="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect,C=[],S=[null,null];function P(e,t){var n=e[1];return[t.payload,n+1]}function A(e,t,n){E(function(){return e.apply(void 0,t)},n)}function D(e,t,n,r,a,i,o){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,o())}function T(e,t,n,r,a,i,o,c,s,u){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,a.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?o.current||s():(i.current=e,c.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var R=function(){return[null,0]};function j(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,o=void 0===i?"connectAdvanced":i,c=n.renderCountProp,s=void 0===c?void 0:c,u=n.shouldHandleStateChanges,l=void 0===u||u,d=n.storeKey,f=void 0===d?"store":d,p=(n.withRef,n.forwardRef),v=void 0!==p&&p,y=n.context,b=void 0===y?m:y,x=(0,k.A)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);return function(t){var n=t.displayName||t.name||"Component",r=a(n),i=(0,w.A)({},x,{getDisplayName:a,methodName:o,renderCountProp:s,shouldHandleStateChanges:l,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=x.pure,u=c?h.useMemo:function(e){return e()};function d(n){var r=(0,h.useMemo)(function(){var e=n.reactReduxForwardedRef,t=(0,k.A)(n,["reactReduxForwardedRef"]);return[n.context,e,t]},[n]),a=r[0],o=r[1],c=r[2],s=(0,h.useMemo)(function(){return a&&a.Consumer&&(0,_.isContextConsumer)(h.createElement(a.Consumer,null))?a:b},[a,b]),d=(0,h.useContext)(s),f=!!n.store&&!!n.store.getState&&!!n.store.dispatch;d&&d.store;var p=f?n.store:d.store,m=(0,h.useMemo)(function(){return e(p.dispatch,i)},[p]),v=(0,h.useMemo)(function(){if(!l)return S;var e=new g(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,d]),y=v[0],x=v[1],O=(0,h.useMemo)(function(){return f?d:(0,w.A)({},d,{subscription:y})},[f,d,y]),E=(0,h.useReducer)(P,C,R),j=E[0][0],M=E[1];if(j&&j.error)throw j.error;var I=(0,h.useRef)(),N=(0,h.useRef)(c),z=(0,h.useRef)(),F=(0,h.useRef)(!1),L=u(function(){return z.current&&c===N.current?z.current:m(p.getState(),c)},[p,j,c]);A(D,[N,I,F,c,L,z,x]),A(T,[l,p,y,m,N,I,F,z,x,M],[p,y,m]);var B=(0,h.useMemo)(function(){return h.createElement(t,(0,w.A)({},L,{ref:o}))},[o,t,L]);return(0,h.useMemo)(function(){return l?h.createElement(s.Provider,{value:O},B):B},[s,B,O])}var p=c?h.memo(d):d;if(p.WrappedComponent=t,p.displayName=r,v){var m=h.forwardRef(function(e,t){return h.createElement(p,(0,w.A)({},e,{reactReduxForwardedRef:t}))});return m.displayName=r,m.WrappedComponent=t,O()(m,t)}return O()(p,t)}}function M(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function I(e,t){if(M(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!M(e[n[a]],t[n[a]]))return!1;return!0}var N=n(47993);function z(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function F(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function L(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=F(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=F(a),a=r(t,n)),a},r}}let B=[function(e){return"function"==typeof e?L(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:z(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?z(function(t){return(0,N.bindActionCreators)(e,t)}):void 0}],U=[function(e){return"function"==typeof e?L(e,"mapStateToProps"):void 0},function(e){return e?void 0:z(function(){return{}})}];function V(e,t,n){return(0,w.A)({},n,{},e,{},t)}let H=[function(e){return"function"==typeof e?function(t,n){n.displayName;var r,a=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,c){var s=e(t,n,c);return o?a&&i(s,r)||(r=s):(o=!0,r=s),r}}:void 0},function(e){return e?void 0:function(){return V}}];function q(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}let G=(i=void 0===(a=(r={}).connectHOC)?j:a,c=void 0===(o=r.mapStateToPropsFactories)?U:o,u=void 0===(s=r.mapDispatchToPropsFactories)?B:s,d=void 0===(l=r.mergePropsFactories)?H:l,p=void 0===(f=r.selectorFactory)?function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=(0,k.A)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),c=r(e,i),s=a(e,i);return(i.pure?function(e,t,n,r,a){var i,o,c,s,u,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,g,b,w;return p?(m=a,b=!d(v=h,o),w=!l(m,i),(i=m,o=v,b&&w)?(c=e(i,o),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):b?(e.dependsOnOwnProps&&(c=e(i,o)),t.dependsOnOwnProps&&(s=t(r,o)),u=n(c,s,o)):w?(g=!f(y=e(i,o),c),c=y,g&&(u=n(c,s,o)),u):u):(c=e(i=a,o=h),s=t(r,o),u=n(c,s,o),p=!0,u)}}:function(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}})(o,c,s,e,i)}:f,function(e,t,n,r){void 0===r&&(r={});var a=r,o=a.pure,s=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?I:l,h=a.areStatePropsEqual,m=void 0===h?I:h,v=a.areMergedPropsEqual,y=void 0===v?I:v,g=(0,k.A)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=q(e,c,"mapStateToProps"),x=q(t,u,"mapDispatchToProps"),O=q(n,d,"mergeProps");return i(p,(0,w.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:O,pure:void 0===o||o,areStatesEqual:void 0===s?W:s,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},g))});function Z(){return(0,h.useContext)(m)}function K(e){void 0===e&&(e=m);var t=e===m?Z:function(){return(0,h.useContext)(e)};return function(){return t().store}}var Q=K();function Y(e){void 0===e&&(e=m);var t=e===m?Q:K(e);return function(){return t().dispatch}}var J=Y(),$=function(e,t){return e===t};function X(e){void 0===e&&(e=m);var t=e===m?Z:function(){return(0,h.useContext)(e)};return function(e,n){void 0===n&&(n=$);var r=t(),a=function(e,t,n,r){var a,i=(0,h.useReducer)(function(e){return e+1},0)[1],o=(0,h.useMemo)(function(){return new g(n,r)},[n,r]),c=(0,h.useRef)(),s=(0,h.useRef)(),u=(0,h.useRef)(),l=(0,h.useRef)(),d=n.getState();try{a=e!==s.current||d!==u.current||c.current?e(d):l.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return E(function(){s.current=e,u.current=d,l.current=a,c.current=void 0}),E(function(){function e(){try{var e=s.current(n.getState());if(t(e,l.current))return;l.current=e}catch(e){c.current=e}i()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}},[n,o]),a}(e,n,r.store,r.subscription);return(0,h.useDebugValue)(a),a}}var ee=X(),et=n(40961);v=et.unstable_batchedUpdates},47993:function(e,t,n){"use strict";n.r(t),n.d(t,{applyMiddleware:()=>f,combineReducers:()=>c,bindActionCreators:()=>u,createStore:()=>o,compose:()=>l});var r=n(7652),a=n(99112),i="@@redux/INIT";function o(e,t,n){if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var c,s=e,u=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function m(e){if(!(0,r.A)(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw Error("Reducers may not dispatch actions.");try{f=!0,u=s(u,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++)(0,t[n])();return e}return m({type:i}),(c={dispatch:m,subscribe:h,getState:function(){return u},replaceReducer:function(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");s=e,m({type:i})}})[a.A]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e)throw TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(u)}return t(),{unsubscribe:h(t)}}})[a.A]=function(){return this},e},c}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var o=Object.keys(n),c=void 0;try{Object.keys(n).forEach(function(e){var t=n[e];if(void 0===t(void 0,{type:i}))throw Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+i+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var r=!1,a={},i=0;i<o.length;i++){var s=o[i],u=n[s],l=e[s],d=u(l,t);if(void 0===d)throw Error(function(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}(s,t));a[s]=d,r=r||d!==l}return r?a:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var i=n[a],o=e[i];"function"==typeof o&&(r[i]=s(o,t))}return r}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),o=i.dispatch,c=[],s={getState:i.getState,dispatch:function(e){return o(e)}};return c=t.map(function(e){return e(s)}),o=l.apply(void 0,c)(i.dispatch),d({},i,{dispatch:o})}}}},44712:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56173)),l=r(n(1424)),d=r(n(70128)),f=n(16311),p=r(n(37325)),h=n(33520);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(){var e,t,n,r,i;function u(e){var t=this;(0,c.default)(this,u),this.client=(0,h.getCozyClientFromOptions)(e),this.createWebSocket=e.createWebSocket||h.createWebSocket,this.logger=e.logger||p.default,this.subscriptions=new d.default({logger:e.logger}),this.retryManager=new l.default({raiseErrorAfterAttempts:f.raiseErrorAfterAttempts,timeBeforeSuccessful:f.timeBeforeSuccessful,baseWaitAfterFirstFailure:f.baseWaitAfterFirstFailure,maxWaitBetweenRetries:f.maxWaitBetweenRetries,logger:e.logger}),this.retryManager.on("error",function(e){return t.emit("error",e)}),this.bindEventHandlers()}return(0,s.default)(u,[{key:"start",value:function(){!this.isStarted&&(this.logger.info("started"),this.isStarted=!0,this.retryManager.reset(),this.subscribeGlobalEvents(),this.subscribeClientEvents(),this.emit("start"),(0,h.isOnline)()&&this.connect())}},{key:"createSocket",value:function(){this.websocket&&(this.logger.error("Unexpected replacement of an existing socket, this should not happen. A `revokeWebSocket()` should have been called first inside CozyRealtime"),this.revokeWebSocket()),this.logger.info("creating a new websocketâ€¦");var e=(0,h.getUrl)(this.client);try{return this.websocket=this.createWebSocket(e,h.protocol),this.websocket.authenticated=!1,this.websocket.onmessage=this.onWebSocketMessage,this.websocket.onerror=this.onWebSocketError,this.websocket.onopen=this.onWebSocketOpen,this.websocket.onclose=this.onWebSocketClose,this.websocket}catch(e){this.onWebSocketError(e)}}},{key:"connect",value:(e=(0,o.default)(a.default.mark(function e(){var t,n,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0!==(t=(r.length>0&&void 0!==r[0]?r[0]:{}).immediate)&&t,this.logger.info("connectingâ€¦"),!this.waitingForConnect){e.next=7;break}this.logger.debug("Pending reconnection, skipping reconnect"),n&&this.retryManager.stopCurrentAttemptWaitingTime(),e.next=17;break;case 7:if(this.logger.debug("No pending reconnection, will reconnect"),e.prev=8,this.waitingForConnect=!0,n){e.next=13;break}return e.next=13,this.retryManager.waitBeforeNextAttempt();case 13:this.createSocket();case 14:return e.prev=14,this.waitingForConnect=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[8,,14,17]])})),function(){return e.apply(this,arguments)})},{key:"reconnect",value:(t=(0,o.default)(a.default.mark(function e(){var t,n,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0!==(t=(r.length>0&&void 0!==r[0]?r[0]:{}).immediate)&&t,this.hasWebSocket()&&this.revokeWebSocket(),this.connect({immediate:n});case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"revokeWebSocket",value:function(){var e=this;if(this.emit("disconnected"),this.hasWebSocket()){this.logger.info("trashing the previous websocketâ€¦"),this.websocket.onmessage=null,this.websocket.onerror=function(t){e.logger.error("Error while trying to close the websocket: ".concat(t.message))},this.websocket.onopen=null,this.websocket.onclose=null;try{this.websocket.close()}catch(e){}finally{this.websocket=null}}else this.logger.error("Trying to revoke a websocket that is not attached. This should not happen")}},{key:"stop",value:function(){this.isStarted&&(this.logger.info("stopped"),this.unsubscribeGlobalEvents(),this.unsubscribeClientEvents(),this.hasWebSocket()&&this.revokeWebSocket(),this.isStarted=!1,this.subscriptions.isEmpty()||this.unsubscribeAll(),this.emit("close"))}},{key:"authenticate",value:function(){if(this.isWebSocketOpen()){var e=(0,h.getToken)(this.client);this.logger.debug("authenticate with",e),this.sendWebSocketMessage("AUTH",e),this.websocket.authenticated=!0}else this.logger.error("Trying to authenticate to a non-opened websocket. This should not happen.",this.websocket,this.websocket&&this.websocket.readyState)}},{key:"sendWebSocketMessage",value:function(e,t){var n=JSON.stringify({method:e,payload:t});this.websocket.send(n)}},{key:"sendNotification",value:(n=(0,o.default)(a.default.mark(function e(t,n,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.client.getStackClient().fetchJSON("POST","/realtime/".concat(t,"/").concat(n),{data:r}));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"send",value:function(){return this.sendDeprecationNoticeSent||(this.sendDeprecationNoticeSent=!0,this.logger.warn("Deprecation notice: CozyRealtime.send() is deprecated, please use CozyRealtime.sendNotification() from now on")),this.sendNotification.apply(this,arguments)}},{key:"waitForSocketReady",value:(r=(0,o.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isWebSocketAuthenticated()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",new Promise(function(e,n){t.once("ready",e),t.once("close",n)}));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"hasWebSocket",value:function(){return!!this.websocket}},{key:"isWebSocketOpen",value:function(){return!!(this.hasWebSocket()&&this.websocket.readyState===WebSocket.OPEN)}},{key:"isWebSocketAuthenticated",value:function(){return!!(this.isWebSocketOpen()&&this.websocket.authenticated)}},{key:"subscribe",value:function(e,t,n,r){this.start();var a=this.normalizeSubscription(e,t,n,r),i=this.subscriptions.hasSameTypeAndId(a);this.subscriptions.add(a),!i&&this.isWebSocketAuthenticated()&&this.sendSubscription(a.type,a.id)}},{key:"unsubscribe",value:function(e,t,n,r){var a=this.normalizeSubscription(e,t,n,r);this.subscriptions.remove(a),!this.subscriptions.hasSameTypeAndId(a)&&this.isWebSocketAuthenticated()&&this.sendUnsubscription(a.type,a.id),this.subscriptions.isEmpty()&&this.stop()}},{key:"unsubscribeAll",value:function(){var e,t=y(this.subscriptions.getAll());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.event,a=n.type,i=n.id,o=n.handler;this.unsubscribe(r,a,i,o)}}catch(e){t.e(e)}finally{t.f()}}},{key:"sendSubscriptions",value:function(){var e,t=y(this.subscriptions.getAllTypeAndIdPairs());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.type,a=n.id;this.sendSubscription(r,a)}}catch(e){t.e(e)}finally{t.f()}}},{key:"sendSubscription",value:function(e,t){if(this.isWebSocketOpen()){var n=t?{type:e,id:t}:{type:e};this.logger.debug("send subscription to",n.type,n.id),this.sendWebSocketMessage("SUBSCRIBE",n)}else this.logger.error("Trying to subscribe on a non-ready socket. This should not happen. Type and id:",e,t)}},{key:"sendUnsubscription",value:function(e,t){if(this.isWebSocketOpen()){var n=t?{type:e,id:t}:{type:e};this.logger.debug("send unsubscription to",n.type,n.id),this.sendWebSocketMessage("UNSUBSCRIBE",n)}else this.logger.error("Trying to subscribe on a non-ready socket. This should not happen. Type and id:",e,t)}},{key:"normalizeSubscription",value:function(e,t,n,r){return{event:e?e.toUpperCase():e,type:t,id:r?n:null,handler:r||n}}},{key:"bindEventHandlers",value:(i=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.onWebSocketMessage=this.onWebSocketMessage.bind(this),this.onWebSocketError=this.onWebSocketError.bind(this),this.onWebSocketOpen=this.onWebSocketOpen.bind(this),this.onWebSocketClose=this.onWebSocketClose.bind(this),this.onClientLogin=this.onClientLogin.bind(this),this.onClientTokenRefreshed=this.onClientTokenRefreshed.bind(this),this.onClientLogout=this.onClientLogout.bind(this),this.onOnline=this.onOnline.bind(this),this.onOffline=this.onOffline.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this);case 10:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onWebSocketMessage",value:function(e){var t=JSON.parse(e.data),n=t.event,r=t.payload;this.logger.info("receive message from server",{event:n,payload:r});var a,i=y(this.subscriptions.getAllHandlersForEvent(n,r.type,r.id));try{for(i.s();!(a=i.n()).done;){var o=a.value;try{o(v(v({},r.doc),{},{_type:r.type}))}catch(e){this.logger.error("handler did throw for ".concat(n,", ").concat(r.type,", ").concat(r.id))}}}catch(e){i.e(e)}finally{i.f()}"error"===n&&this.logger.warn("Stack returned an error",r)}},{key:"onWebSocketError",value:function(e){this.logger.info("An error was raised on the websocket",e),this.retryManager.onFailure(e),this.reconnect()}},{key:"onWebSocketOpen",value:function(){this.retryManager.onSuccess(),this.authenticate(),this.sendSubscriptions(),this.emit("ready")}},{key:"onWebSocketClose",value:function(e){this.logger.info("The current websocket was closed by a third party",e),this.retryManager.onFailure(e),this.reconnect()}},{key:"subscribeClientEvents",value:function(){this.client.on("login",this.onClientLogin),this.client.on("tokenRefreshed",this.onClientTokenRefreshed),this.client.on("logout",this.onClientLogout)}},{key:"unsubscribeClientEvents",value:function(){this.client.removeListener("login",this.onClientLogin),this.client.removeListener("tokenRefreshed",this.onClientTokenRefreshed),this.client.removeListener("logout",this.onClientLogout)}},{key:"onClientLogin",value:function(){this.logger.info("Received login from cozy-client"),this.isWebSocketOpen()&&(this.authenticate(),this.sendSubscriptions())}},{key:"onClientTokenRefreshed",value:function(){this.hasWebSocket()&&this.reconnect()}},{key:"onClientLogout",value:function(){this.hasWebSocket()&&this.revokeWebSocket()}},{key:"subscribeGlobalEvents",value:function(){h.hasBrowserContext&&window.addEventListener&&(window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline),window.addEventListener("visibilitychange",this.onVisibilityChange))}},{key:"unsubscribeGlobalEvents",value:function(){h.hasBrowserContext&&window.removeEventListener&&(window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline),window.removeEventListener("visibilitychange",this.onVisibilityChange))}},{key:"onOnline",value:function(){this.logger.info("reconnect because receiving an online event"),this.reconnect({immediate:!0})}},{key:"onOffline",value:function(){this.hasWebSocket()&&this.revokeWebSocket()}},{key:"onVisibilityChange",value:function(){document.visibilityState&&"visible"===document.visibilityState&&this.retryManager.stopCurrentAttemptWaitingTime()}}]),u}();u.default.mixin(b),t.default=b},56283:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(44712)),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,e),this.client=t,this.createWebSocket=n.createWebSocket,this.logger=n.logger,this.realtime=null,this.handleLogin=this.handleLogin.bind(this),this.handleLogout=this.handleLogout.bind(this),this.client.on("login",this.handleLogin),this.client.on("logout",this.handleLogout),t.isLogged&&this.handleLogin()}return(0,i.default)(e,[{key:"handleLogin",value:function(){this.realtime=new o.default({client:this.client,createWebSocket:this.createWebSocket,logger:this.logger}),this.client.emit("plugin:realtime:login")}},{key:"handleLogout",value:function(){this.unsubscribeAll(),this.realtime=null,this.client.emit("plugin:realtime:logout")}},{key:"checkRealtimeInstance",value:function(){if(!this.realtime)throw Error("Unable to use realtime while cozy-client is not logged in")}},{key:"subscribe",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).subscribe.apply(e,arguments)}},{key:"unsubscribe",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).unsubscribe.apply(e,arguments)}},{key:"unsubscribeAll",value:function(){this.checkRealtimeInstance(),this.realtime.unsubscribeAll()}},{key:"sendNotification",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).sendNotification.apply(e,arguments)}}]),e}();c.pluginName="realtime",t.default=c},1424:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56173)),u=n(16311),l=r(n(37325)),d=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.maxWaitBetweenRetries,r=void 0===n?u.maxWaitBetweenRetries:n,a=e.baseWaitAfterFirstFailure,i=void 0===a?u.baseWaitAfterFirstFailure:a,c=e.timeBeforeSuccessful,s=void 0===c?u.timeBeforeSuccessful:c,d=e.raiseErrorAfterAttempts,f=void 0===d?u.raiseErrorAfterAttempts:d,p=e.logger,h=void 0===p?l.default:p;(0,o.default)(this,t),this.logger=h,this.reset(),this.onSuccess=this.onSuccess.bind(this),this.onFailure=this.onFailure.bind(this),this.onSuccessAcknowledged=this.onSuccessAcknowledged.bind(this),this.raiseErrorAfterAttempts=f,this.timeBeforeSuccessful=s,this.baseWaitAfterFirstFailure=i,this.maxWaitBetweenRetries=r}return(0,c.default)(t,[{key:"onSuccess",value:function(){this.timeBeforeSuccessful>0?this.startSuccessTimer(this.onSuccessAcknowledged,this.timeBeforeSuccessful):this.onSuccessAcknowledged()}},{key:"onSuccessAcknowledged",value:function(){this.emit("success"),this.reset()}},{key:"clearSuccessTimer",value:function(){this.successTimer&&(n.g.clearTimeout(this.successTimer),this.successTimer=null)}},{key:"startSuccessTimer",value:function(e,t){var r=this;this.successTimer||(this.successTimer=n.g.setTimeout(function(){r.successTimer=null,e()},t))}},{key:"onFailure",value:function(e){this.logger.debug("failure, increase the failure counter of the retry manager"),this.clearSuccessTimer(),this.increaseFailureCounter(),this.emit("failure",e),this.shouldEmitError()&&this.emit("error",e)}},{key:"shouldEmitError",value:function(){return this.retries>0&&this.retries%this.raiseErrorAfterAttempts==0}},{key:"reset",value:function(){this.logger.debug("reset the retry manager"),this.clearSuccessTimer(),this.retries=0,this.wait=0}},{key:"increaseFailureCounter",value:function(){0===this.retries?this.wait=0:0===this.wait?this.wait=this.baseWaitAfterFirstFailure:this.wait=Math.min(2*this.wait,this.maxWaitBetweenRetries),this.retries=this.retries+1}},{key:"waitBeforeNextAttempt",value:(e=(0,i.default)(a.default.mark(function e(){var t,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("waitBeforeNextAttempt",this.wait),!this.wait){e.next=5;break}return this.waiting||((r=new Promise(function(e){t=function(){i.waiting===r&&(i.waiting=null),e()},n.g.setTimeout(t,i.wait)})).stop=t,this.waiting=r),e.next=5,this.waiting;case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stopCurrentAttemptWaitingTime",value:function(){this.waiting&&this.waiting.stop()}}]),t}();s.default.mixin(d),t.default=d},70128:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(2404)),c=r(n(44383)),s=r(n(72568)),u=r(n(14174)),l=r(n(9063)),d=n(16311),f=r(n(37325));t.default=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.subscriptions=[],this.logger=t.logger||f.default}return(0,i.default)(e,[{key:"add",value:function(e){var t=this.normalize(e);(!this.subscriptions.find(function(e){return(0,o.default)(e,t)})||(d.onDoubleSubscriptions&&(0,d.onDoubleSubscriptions)(t,{logger:this.logger}),d.allowDoubleSubscriptions))&&this.subscriptions.push(t)}},{key:"remove",value:function(e){var t=this.normalize(e);if(d.requireDoubleUnsubscriptions){var n=this.subscriptions.findIndex(function(e){return(0,o.default)(e,t)});if(n>=0)return void(0,s.default)(this.subscriptions,n)}else{var r=(0,u.default)(this.subscriptions,function(e){return(0,o.default)(e,t)});if(r&&r.length>0)return}this.logger.warn("Trying to unsubscribe to an unknown subscription",t)}},{key:"getAll",value:function(){return this.subscriptions.slice()}},{key:"getAllTypeAndIdPairs",value:function(){return(0,l.default)(this.subscriptions.map(function(e){return(0,c.default)(e,["type","id"])}),o.default)}},{key:"hasSameTypeAndId",value:function(e){var t=e.type,n=e.id,r=t||null,a=n||null;return!!this.subscriptions.find(function(e){return e.type===r&&e.id===a})}},{key:"getAllHandlersForEvent",value:function(e,t,n){var r=this;return this.subscriptions.filter(function(a){return r.isMatchingEvent(a,e,t,n)}).map(function(e){return e.handler})}},{key:"isMatchingEvent",value:function(e,t,n,r){return(!e.event||e.event===t)&&(!e.id||e.id===(r||null))&&(!e.type||e.type===(n||null))}},{key:"isEmpty",value:function(){return 0===this.subscriptions.length}},{key:"normalize",value:function(e){function t(e){throw this.logger.error(e),Error(e)}return e.event&&!d.eventNames.includes(e.event)&&t("Trying to subscribe to a unknown event name ".concat(e.event)),"function"!=typeof e.handler&&t("Trying to subscribe with a non-function handler ".concat(e.event)),"error"!==e.event&&"string"!=typeof e.type&&t("Trying to subscribe with to non-string type ".concat(e.type)),e.id&&"string"!=typeof e.id&&t("Trying to subscribe with to non-string id ".concat(e.id)),{event:e.event||null,type:e.type||null,id:e.id||null,handler:e.handler||null}}}]),e}()},16311:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.timeBeforeSuccessful=t.requireDoubleUnsubscriptions=t.raiseErrorAfterAttempts=t.onDoubleSubscriptions=t.maxWaitBetweenRetries=t.eventNames=t.baseWaitAfterFirstFailure=t.allowDoubleSubscriptions=void 0;var a=r(n(37325));t.maxWaitBetweenRetries=3e5,t.baseWaitAfterFirstFailure=128,t.timeBeforeSuccessful=1200,t.raiseErrorAfterAttempts=8;var i=t.allowDoubleSubscriptions=!0,o=t.requireDoubleUnsubscriptions=!0;t.onDoubleSubscriptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.logger,r=void 0===n?a.default:n;r.warn("Double subscription for ",e),i?(r.info("The handler may be called twice for the same event!"),r.info("Remember to call one `unsubscribe` for each `subscribe`")):(r.info("The handler will only be called once"),o?r.info("Remember to call one `unsubscribe` for each `subscribe`"):r.info("`unsubscribe` will remove all similar subscriptions"))},t.eventNames=["CREATED","UPDATED","DELETED","NOTIFIED","error"]},4595:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RealtimePlugin",{enumerable:!0,get:function(){return o.default}}),t.default=void 0,Object.defineProperty(t,"useRealtime",{enumerable:!0,get:function(){return i.default}});var a=r(n(44712)),i=r(n(19143)),o=r(n(56283));t.default=a.default},37325:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i="undefined"!=typeof window&&window.minilog||a.default,o=i("cozy-realtime");o.minilog=a.default,i.enable(),i.suggest.deny("cozy-realtime","warn"),i.suggest.allow("cozy-realtime","warn"),t.default=o},19143:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=n(96540);t.default=function(e,t,n){(0,c.useEffect)(function(){return e.plugins&&e.plugins.realtime?(Object.entries(t).forEach(function(t){var n,r=(0,o.default)(t,2),c=r[0];Object.entries(r[1]).forEach((n=(0,i.default)(a.default.mark(function t(n){var r,i,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(r=(0,o.default)(n,2))[0],s=r[1],t.prev=1,t.next=4,e.plugins.realtime.subscribe(i,c,s);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to subscribe to ".concat(i," event on ").concat(c,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return n.apply(this,arguments)}))}),function(){Object.entries(t).forEach(function(t){var n,r=(0,o.default)(t,2),c=r[0];Object.entries(r[1]).forEach((n=(0,i.default)(a.default.mark(function t(n){var r,i,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(r=(0,o.default)(n,2))[0],s=r[1],t.prev=1,t.next=4,e.plugins.realtime.unsubscribe(i,c,s);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to unsubscribe from ".concat(i," event on ").concat(c,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return n.apply(this,arguments)}))})}):void console.error("[useRealtime] The provided CozyClient instance does not have a RealtimePlugin registered, useRealtime will not work")},n)}},33520:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.createWebSocket=function(e,t){return new WebSocket(e,t)},t.getCozyClientFromOptions=function(e){var t=e.cozyClient,n=e.client,r=e.logger,a=void 0===r?i.default:r;return t?a.warn("Passing a `cozyClient` parameter is deprecated, please use `client` instead"):n||a.warn("Realtime must be initialized with a client. Ex: `new Realtime({ client })`"),n||t},t.getToken=function(e){return e.getStackClient().getAccessToken()},t.getUrl=function(e){var t=e.getStackClient().uri,n=t.toString().match("^(https:/{2})")?"wss:":"ws:",r=new URL(t).host;return"".concat(n,"//").concat(r,"/realtime/")},t.hasBrowserContext=void 0,t.isOnline=function(){return!(0,a.default)(n.g,"navigator.onLine")||n.g.navigator.onLine},t.protocol=void 0;var a=r(n(61448)),i=r(n(37325));t.hasBrowserContext="undefined"!=typeof window,t.protocol="io.cozy.websocket"},56191:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(76819),c=r(n(734)),s=n(80006),u=r(n(49077)),l=r(n(98707)),d=function(e){var t=e.componentsProps,n=e.searchOptions;return(0,o.useExtendI18n)(s.locales),i.default.createElement("div",{className:"u-mh-auto u-w-100 u-maw-100"},i.default.createElement(c.default,null,i.default.createElement(l.default,{searchOptions:void 0===n?{}:n},i.default.createElement(u.default,{componentsProps:t}))))};d.propTypes={componentsProps:a.default.shape({SearchBarDesktop:a.default.shape({elevation:a.default.number,size:a.default.string,hasHalfBorderRadius:a.default.bool,className:a.default.string,disabledHover:a.default.bool})})},t.default=d},67864:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.TwakeAssistantIcon=void 0;var a=r(n(16193)),i=r(n(96540));t.TwakeAssistantIcon=function(e){return i.default.createElement("svg",(0,a.default)({viewBox:"0 0 22 22",fill:"none"},e),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.094.305a1.5 1.5 0 012.351.79l.005.02 1.581 6.135a1 1 0 00.718.719l6.136 1.58.016.005a1.5 1.5 0 010 2.892l-.016.004-6.135 1.581a1 1 0 00-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 01-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 00-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 010-2.886l.023-.006L7.25 7.968a1 1 0 00.719-.718L9.55 1.115l.005-.02a1.5 1.5 0 01.538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 002.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 00-2.155 2.155L11 18.497 9.905 14.25a3 3 0 00-2.155-2.156L3.504 11 7.75 9.904A3 3 0 009.905 7.75L11 3.503zM19 1a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V5h-1a1 1 0 110-2h1V2a1 1 0 011-1zM3 15a1 1 0 011 1 1 1 0 110 2 1 1 0 11-2 0 1 1 0 110-2 1 1 0 011-1z"}))}},30805:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.TwakeAssistantIconColor=void 0;var a=r(n(16193)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.TwakeAssistantIconColor=function(e){return i.createElement("svg",(0,a.default)({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18"},e),i.createElement("path",{fill:"#4A1616",d:"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z"}),i.createElement("path",{fill:"url(#a)",d:"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z"}),i.createElement("path",{fill:"url(#b)",d:"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z"}),i.createElement("path",{fill:"#4A1616",d:"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572"}),i.createElement("path",{fill:"url(#c)",d:"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572"}),i.createElement("path",{fill:"url(#d)",d:"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572"}),i.createElement("path",{fill:"#4A1616",d:"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572"}),i.createElement("path",{fill:"url(#e)",d:"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572"}),i.createElement("path",{fill:"url(#f)",d:"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"a",x1:16.5,x2:1.5,y1:10.248,y2:10.248,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.13,stopColor:"#A033FF"}),i.createElement("stop",{offset:.61,stopColor:"#0094FF"}),i.createElement("stop",{offset:1,stopColor:"#4FB500"})),i.createElement("linearGradient",{id:"b",x1:8.375,x2:3.687,y1:6.186,y2:15.56,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),i.createElement("stop",{offset:.563,stopColor:"#FFC700"})),i.createElement("linearGradient",{id:"c",x1:17.069,x2:12.926,y1:3.849,y2:3.849,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.13,stopColor:"#A033FF"}),i.createElement("stop",{offset:.61,stopColor:"#0094FF"}),i.createElement("stop",{offset:1,stopColor:"#4FB500"})),i.createElement("linearGradient",{id:"d",x1:14.825,x2:14.704,y1:3.539,y2:4.416,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),i.createElement("stop",{offset:.563,stopColor:"#FFC700"})),i.createElement("linearGradient",{id:"e",x1:4.319,x2:1.676,y1:13.595,y2:13.595,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.13,stopColor:"#A033FF"}),i.createElement("stop",{offset:.61,stopColor:"#0094FF"}),i.createElement("stop",{offset:1,stopColor:"#4FB500"})),i.createElement("linearGradient",{id:"f",x1:2.887,x2:2.703,y1:13.285,y2:14.139,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),i.createElement("stop",{offset:.563,stopColor:"#FFC700"}))))}},61565:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AssistantMobile=void 0;var a=r(n(16193)),i=r(n(53978)),o=r(n(5556)),c=r(n(96540)),s=n(84976),u=n(76819),l=r(n(90774)),d=r(n(13691)),f=r(n(5379)),p=n(80006),h=function(e){var t=e.componentsProps,n=(0,s.useNavigate)(),r=(0,s.useLocation)().pathname;return(0,u.useExtendI18n)(p.locales),c.default.createElement(f.default,(0,a.default)({},null==t?void 0:t.SearchBar,{size:"medium",icon:c.default.createElement(l.default,{className:(0,i.default)("u-ml-1 u-mr-half","styles__search-bar-icon___1affF"),icon:d.default,size:16}),type:"button",onClick:function(){return n("connected/search?returnPath=".concat(r))}}))};t.AssistantMobile=h,h.propTypes={componentsProps:o.default.shape({SearchBar:o.default.shape({className:o.default.string})})},t.default=h},734:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useAssistant=t.default=t.AssistantContext=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(26396)),c=r(n(22056)),s=r(n(63560)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),l=n(84976),d=n(42895),f=r(n(19143)),p=n(70322),h=n(82495);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=u.default.createContext();t.AssistantContext=g,t.useAssistant=function(){var e=(0,u.useContext)(g);if(!e)throw Error("useAssistant must be used within a AssistantProvider");return e},t.default=u.default.memo(function(e){var t,n=e.children,r=(0,l.useParams)().conversationId,m=(0,d.useClient)(),v=(0,u.useState)({message:{},status:"idle",messagesId:[]}),b=(0,c.default)(v,2),w=b[0],k=b[1];(0,f.default)(m,(0,o.default)({},h.CHAT_CONVERSATIONS_DOCTYPE,{created:function(e){(0,p.pushMessagesIdInState)(r,e,k)},updated:function(e){(0,p.pushMessagesIdInState)(r,e,k)}}),[]),(0,f.default)(m,(0,o.default)({},h.CHAT_EVENTS_DOCTYPE,{created:function(e){k(function(t){if(!(0,p.isMessageForThisConversation)(e,t.messagesId))return t;if("done"===e.object&&"idle"!==t.status)return y(y({},t),{},{status:"idle"});if("delta"===e.object){var n=(0,s.default)(t.message,e.position,e.content);return y(y({},t),{},{message:n,status:"writing"})}return t})}}),[]);var x=(0,u.useCallback)(function(){return k({message:{},status:"pending",messagesId:[]})},[]),O=(0,u.useCallback)((t=(0,i.default)(a.default.mark(function e(t,n){var r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.value,i=t.conversationId,r){e.next=3;break}return e.abrupt("return");case 3:return null==n||n(),x(),e.next=7,m.stackClient.fetchJSON("POST","/ai/chat/conversations/".concat(i),{q:r});case 7:k(function(e){return y(y({},e),{},{status:"pending"})});case 8:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),[m,x]),_=(0,u.useMemo)(function(){return{assistantState:w,setAssistantState:k,clearAssistant:x,onAssistantExecute:O}},[w,x,O]);return u.default.createElement(g.Provider,{value:_},n)})},85009:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(96540)),c=n(76819),s=r(n(90774)),u=r(n(69935)),l=r(n(22591)),d=n(67864),f=["label","className","id","sources"];t.default=function(e){var t=e.label,n=e.className,r=e.id,p=e.sources,h=(0,i.default)(e,f),m=(0,c.useI18n)().t;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,(0,a.default)({},h,{label:t,className:n,icon:o.default.createElement(s.default,{icon:d.TwakeAssistantIcon,size:24,className:"u-mh-half",color:"var(--primaryColor)"}),name:m("assistant.name")})),(null==p?void 0:p.length)>0&&o.default.createElement(l.default,{messageId:r,sources:p}))}},25687:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(39892)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(42895),c=r(n(85009)),s=r(n(24907)),u=r(n(76912)),l=n(734),d=n(70322),f=n(82495),p=["data"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=function(e){var t,n,r,a,o,f=e.conversation,p=e.myself,h=(0,l.useAssistant)().assistantState,m=(0,i.useRef)(),v=Object.keys(h.message).length,y="idle"!==h.status||(null==f||null==(t=f.messages)||null==(n=t[(null==f||null==(r=f.messages)?void 0:r.length)-1])?void 0:n.role)==="user";return((0,i.useEffect)(function(){var e,t;null==(e=m.current)||null==(t=e.lastElementChild)||t.scrollIntoView(!1)},[null==f||null==(a=f.messages)?void 0:a.length,h.status,v]),f&&(0!=f.messages.length||y))?i.default.createElement("div",{ref:m,className:"u-h-100 u-w-100 u-maw-7 ".concat("styles__chatConversation___2EmkA")},null==f||null==(o=f.messages)?void 0:o.map(function(e,t){return"user"===e.role?i.default.createElement(u.default,{key:f._id+"--"+t,className:"u-mt-1-half",myself:p,label:e.content}):t!==(null==f?void 0:f.messages.length)-1?i.default.createElement(c.default,{key:f._id+"--"+t,className:"u-mt-1-half",id:e.id,label:e.content,sources:e.sources}):y?null:i.default.createElement(c.default,{key:f._id+"--"+t,className:"u-mt-1-half",id:e.id,label:e.content,sources:e.sources})}),y&&i.default.createElement(s.default,{isLoading:"pending"===h.status,label:(0,d.getInstantMessage)(h)})):null};t.default=function(e){var t=e.id,n=e.myself,r=(0,f.buildChatConversationQueryById)(t),c=(0,o.useQuery)(r.definition,r.options),s=c.data,u=(0,a.default)(c,p);return(0,o.isQueryLoading)(u)?null:i.default.createElement(m,{conversation:s,myself:n})}},69935:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(89004)),o=r(n(39274)),c=r(n(3577));t.default=function(e){var t=e.className,n=e.icon,r=e.name,s=e.label;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{className:t,display:"flex",alignItems:"center",gridGap:12},n,a.default.createElement(o.default,{variant:"h6",display:"inline"},r)),a.default.createElement(i.default,{pl:"44px"},a.default.createElement(c.default,{label:s})))}},3577:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(41666)),o=n(70322);t.default=a.default.memo(function(e){var t=e.label;if("string"==typeof t){var n=(0,o.sanitizeChatContent)(t);return a.default.createElement(i.default,{content:n})}return t})},24907:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(55540)),o=r(n(85009));t.default=function(e){var t=e.isLoading,n=e.label;return a.default.createElement(o.default,{className:"u-mt-1-half",label:t?a.default.createElement("span",null,a.default.createElement(i.default,{width:"100%"}),a.default.createElement(i.default,{width:"60%"})):n})}},76912:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(96540)),c=n(76819),s=n(62878),u=r(n(27998)),l=r(n(69935)),d=["className","label","myself"];t.default=function(e){var t=e.className,n=e.label,r=e.myself,f=(0,i.default)(e,d),p=(0,c.useI18n)().t,h=r||{displayName:p("assistant.default_username")};return o.default.createElement(l.default,(0,a.default)({},f,{className:t,icon:o.default.createElement(u.default,{text:(0,s.getInitials)(h),size:24}),name:(0,s.getDisplayName)(h),label:n}))}},92141:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(39892)),i=r(n(96540)),o=n(42895),c=r(n(94619)),s=n(13292),u=r(n(25687)),l=n(82495),d=r(n(48344)),f=n(734),p=r(n(93169)),h=r(n(65185)),m=["data"],v=["data"];t.default=function(e){var t=e.id,n=(0,f.useAssistant)().assistantState,r=(0,l.buildMyselfQuery)(),y=(0,o.useQuery)(r.definition,r.options),g=y.data,b=(0,a.default)(y,m),w=(0,l.buildChatConversationQueryById)(t),k=(0,o.useQuery)(w.definition,w.options),x=k.data,O=(0,a.default)(k,v),_=(0,o.isQueryLoading)(O)||x&&x.messages.length>0,E=(0,o.isQueryLoading)(b)||(0,o.isQueryLoading)(O);return i.default.createElement("div",{className:"u-flex-auto u-flex u-flex-column u-flex-items-center u-flex-justify-center"},E?i.default.createElement("div",{className:"u-h-100 u-w-100 u-maw-7 u-flex u-flex-column u-flex-items-center u-flex-justify-center"},i.default.createElement(s.CircularProgress,null)):i.default.createElement(u.default,{id:t,myself:g[0]}),!_&&i.default.createElement(p.default,null),i.default.createElement(d.default,{assistantStatus:n.status}),(0,c.default)("cozy.assistant.demo")&&i.default.createElement(h.default,null))}},48344:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(84976),c=n(76819),s=r(n(36040)),u=r(n(90774)),l=r(n(54215)),d=r(n(81539)),f=r(n(5379)),p=r(n(73112)),h=n(24242),m=n(734);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}t.default=function(e){var t=e.assistantStatus,n=(0,c.useI18n)().t,r=(0,h.useBreakpoints)().isMobile,v=(0,m.useAssistant)().onAssistantExecute,y=(0,i.useState)(""),g=(0,a.default)(y,2),b=g[0],w=g[1],k=(0,i.useRef)(),x=(0,o.useParams)().conversationId;(0,p.default)(k.current,"input",function(){k.current.style.height="auto",k.current.style.height="".concat(k.current.scrollHeight,"px")});var O=function(){w("")},_=function(){return v({value:b,conversationId:x},function(){O(),k.current.style.height="auto"})};return i.default.createElement("div",{className:"u-w-100 u-maw-7 u-mh-auto u-mb-1"},i.default.createElement(f.default,{className:"styles__conversationBar___2J-Us",icon:null,size:"auto",placeholder:n("assistant.search.placeholder"),value:b,disabledClear:!0,componentsProps:{inputBase:{inputRef:k,className:"u-pv-0",rows:1,multiline:!0,inputProps:{className:"styles__conversationBar-input___2DfdZ"},autoFocus:!r,endAdornment:"idle"!==t?i.default.createElement(s.default,{component:"div",className:"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1",classes:{label:"u-flex u-w-auto"},label:i.default.createElement(u.default,{icon:d.default,size:12}),onClick:function(){}}):i.default.createElement(s.default,{component:"div",className:"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1",classes:{label:"u-flex u-w-auto"},label:i.default.createElement(u.default,{icon:l.default,size:12}),disabled:!b,onClick:_}),onKeyDown:function(e){if(!r){if(e.shiftKey&&"Enter"===e.key)return e;if("Enter"===e.key)return e.preventDefault(),_()}}}},onChange:function(e){w(e.target.value)}}))}},93169:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(76819),o=r(n(39274));t.default=function(){var e=(0,i.useI18n)().t;return a.default.createElement("div",{className:"u-mb-2"},a.default.createElement(o.default,{variant:"h3",align:"center"},e("assistant.search.greetings")))}},44224:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(96540)),o=n(84976),c=r(n(95310)),s=r(n(90774)),u=r(n(74710)),l=r(n(53811));t.default=function(){var e=(0,o.useNavigate)(),t=(0,o.useSearchParams)(),n=(0,a.default)(t,1)[0];return i.default.createElement("div",{className:"u-flex u-ph-1 ".concat("styles__conversationHeaderBar___C8tlD")},i.default.createElement("div",{className:"u-flex u-w-100 u-flex-items-center u-flex-justify-start"},i.default.createElement(c.default,{slug:"home"})),i.default.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-end"},i.default.createElement(u.default,{onClick:function(){try{var t=n.get("returnPath");t?e(t):e("..")}catch(t){e("..")}}},i.default.createElement(s.default,{icon:l.default}))))}},47889:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(84976),c=n(76819),s=n(42895),u=r(n(94619)),l=r(n(36040)),d=r(n(90774)),f=r(n(60482)),p=r(n(13691)),h=r(n(94283)),m=r(n(70879)),v=r(n(27282)),y=r(n(38143)),g=r(n(39274)),b=n(70322),w=n(82495);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}var x={conversationBar:"styles__conversationBar___2J-Us","conversationBar-input":"styles__conversationBar-input___2DfdZ",chatConversation:"styles__chatConversation___2EmkA",conversationHeaderBar:"styles__conversationHeaderBar___C8tlD",conversationList:"styles__conversationList___2GCzV","conversationList--container":"styles__conversationList--container___2xRAG","conversationList--hidden":"styles__conversationList--hidden___20BsT","conversationListItem--selected":"styles__conversationListItem--selected___2jCyB",menuToggler:"styles__menuToggler___39GfB","menuToggler--disabled":"styles__menuToggler--disabled___15vd4","conversationChips-container":"styles__conversationChips-container___327dE","conversationChips-startIcon":"styles__conversationChips-startIcon___1yOVn","conversationChips-chipIcon":"styles__conversationChips-chipIcon___1wmF-","conversationChips-deleteIcon":"styles__conversationChips-deleteIcon___s9C40","is-warning":"styles__is-warning___3sa0v","conversationChips-chip":"styles__conversationChips-chip___2PqQv"};t.default=function(){var e=(0,c.useI18n)().t,t=(0,o.useNavigate)(),n=(0,o.useLocation)(),r=(0,i.useState)(!0),k=(0,a.default)(r,2),O=k[0],_=k[1],E=(0,o.useParams)().conversationId,C=(0,w.buildRecentConversationsQuery)(),S=function(e){var r=n.pathname.split("/"),a=r.findIndex(function(e){return"assistant"===e});-1!==a&&r.length>a+1?r[a+1]=e:r.push("assistant",e),t({pathname:r.join("/"),search:n.search,hash:n.hash})},P=function(){S((0,b.makeConversationId)())},A=(0,s.useQuery)(C.definition,C.options).data;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"u-h-3 u-ph-1 u-flex u-flex-row u-flex-items-center u-flex-justify-start ".concat(x.menuToggler,"  ").concat(O?x["menuToggler--enabled"]+" u-w-5 u-mw-5":x["menuToggler--disabled"])},i.default.createElement(l.default,{className:"u-h-2 u-miw-1 u-mah-2 u-bdrs-4",size:"small",label:i.default.createElement(d.default,{icon:f.default}),variant:O?"ghost":"text",onClick:function(){return _(!O)},color:"text"}),O&&i.default.createElement("div",{className:"u-flex-auto"}),(0,u.default)("cozy.assistant.demo")&&i.default.createElement(l.default,{className:"u-h-2 u-miw-1 u-mah-2 u-bdrs-4",size:"small",label:i.default.createElement(d.default,{icon:p.default}),variant:"text",color:"text"})),i.default.createElement("div",{className:"u-w-5 u-mw-5 u-h-100 u-flex u-flex-column ".concat(x.conversationList," ").concat(O?x["conversationList--visible"]:x["conversationList--hidden"])},i.default.createElement("div",{className:"u-h-4 u-mb-half"}),i.default.createElement("div",{className:"u-p-1"},i.default.createElement(l.default,{label:e("assistant.history.new"),variant:"primary",startIcon:i.default.createElement(d.default,{icon:h.default}),className:"u-bdrs-6 u-w-100",onClick:function(){return P()}})),i.default.createElement(g.default,{className:"u-ph-half u-mh-1 u-mv-half",variant:"subtitle1",color:"textSecondary"},e("assistant.history.recent")),i.default.createElement("div",{className:"u-ph-half ".concat(x["conversationList--container"])},i.default.createElement(m.default,{disabledGutters:!0},A&&A.map(function(e,t){var n,r,a;return i.default.createElement(v.default,{dense:!0,button:!0,className:"u-bdrs-4 ".concat(e.id==E?x["conversationListItem--selected"]:""),key:t,onClick:function(){return S(e.id)}},i.default.createElement(y.default,null,i.default.createElement(g.default,{variant:"body2"},null==(n=e.messages[e.messages.length-1])?void 0:n.content),i.default.createElement(g.default,{variant:"subtitle1",color:"textSecondary"},null==(r=e.messages[e.messages.length-1])?void 0:r.content),i.default.createElement(g.default,{variant:"caption",color:"textSecondary"},new Date(null==(a=e.cozyMetadata)?void 0:a.updatedAt).toLocaleString())))})))))}},65185:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(21259)),o=r(n(26396)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=r(n(28101)),l=r(n(89123)),d=r(n(36040)),f=r(n(90978)),p=r(n(90774)),h=r(n(60042)),m=r(n(78459)),v=n(30805);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e){var t=e.modes,n=e.onModeSelect,r=e.splice,a=void 0===r?3:r,i=e.startIcon,o=void 0===i?m.default:i,s=e.moreEndLabel,u=t.slice(0,a),l=t.length-a;return c.default.createElement("div",{className:"u-flex u-flex-row u-flex-wrap u-w-100 u-flex-justify-between u-flex-items-center u-mb-1 ".concat("styles__conversationChips-container___327dE")},c.default.createElement(p.default,{icon:o,size:18,className:"styles__conversationChips-startIcon___1yOVn"}),u.map(function(e){return c.default.createElement(f.default,{icon:c.default.createElement(p.default,{icon:e.icon,className:"styles__conversationChips-chipIcon___1wmF-"}),label:e.label,clickable:!0,onDelete:e.external&&function(){},deleteIcon:e.external&&c.default.createElement(p.default,{icon:"openwith",className:"".concat("styles__conversationChips-deleteIcon___s9C40"," ").concat(e.external?"styles__is-warning___3sa0v":"")}),color:e.external&&e.selected?"warning":void 0,key:e.label,variant:e.selected?"ghost":"default",className:"styles__conversationChips-chip___2PqQv",onClick:function(){n(e.key)}})}),l>0&&c.default.createElement(f.default,{label:"+".concat(l," ").concat(s||"more"),clickable:!0,variant:"outlined"}))},k=function(e){var t=e.experts,n=e.selectedExpert,r=e.setSelectedExpert,a=(0,s.useI18n)().t,i=(0,c.useMemo)(function(){return t.map(function(e){return b(b({},e),{},{selected:e.key===n})})},[n,t]);return c.default.createElement(w,{modes:i,onModeSelect:function(e){r(e===n?null:e)},splice:4,startIcon:m.default,moreEndLabel:a("assistant.experts.more")})},x=function(e){var t=e.knowledges,n=e.selectedKnowledges,r=e.setSelectedKnowledges,a=(0,s.useI18n)().t,o=(0,c.useMemo)(function(){return t.map(function(e){return b(b({},e),{},{selected:n.includes(e.key)})})},[n,t]);return c.default.createElement(w,{modes:o,onModeSelect:function(e){n.includes(e)?r(n.filter(function(t){return t!==e})):r([].concat((0,i.default)(n),[e]))},splice:4,startIcon:h.default,moreEndLabel:a("assistant.knowledge_bases.more")})},O=function(){var e=(0,s.useI18n)().t;return c.default.createElement(u.default,{severity:"warning",className:"u-w-100 u-mh-1",action:c.default.createElement(d.default,{variant:"text",label:e("assistant.experts.external_warning.know_more"),color:"warning"})},c.default.createElement(l.default,null,e("assistant.experts.external_warning.title")),e("assistant.experts.external_warning.description"))};t.default=function(){var e=(0,s.useI18n)().t,t=(0,c.useMemo)(function(){return[{key:"legal",label:e("assistant.experts.legal"),icon:"justice",external:!0},{key:"financial",label:e("assistant.experts.financial"),icon:"benefit"},{key:"image_creation",label:e("assistant.experts.image_creation"),icon:"image",external:!0},{key:"marketing",label:e("assistant.experts.marketing"),icon:"lightning"},{key:"code_assistant",label:e("assistant.experts.code_assistant"),icon:"lightning"},{key:"brainstorming",label:e("assistant.experts.brainstorming"),icon:"lightbulb"},{key:"travel_planner",label:e("assistant.experts.travel_planner"),icon:"plane"},{key:"fitness_coach",label:e("assistant.experts.fitness_coach"),icon:"fitness"},{key:"recipe_suggester",label:e("assistant.experts.recipe_suggester"),icon:"restaurant"}]},[e]),n=(0,c.useMemo)(function(){return[{key:"twake_knowledge",label:e("assistant.knowledge_bases.twake_knowledge"),icon:v.TwakeAssistantIconColor},{key:"web",label:e("assistant.knowledge_bases.web"),icon:"globe"},{key:"linagora_client",label:e("assistant.knowledge_bases.linagora_client"),icon:"collect"},{key:"security_procedures",label:e("assistant.knowledge_bases.security_procedures"),icon:"lock"},{key:"other_1",label:e("assistant.knowledge_bases.other"),icon:"globe"},{key:"other_2",label:e("assistant.knowledge_bases.other"),icon:"globe"},{key:"other_3",label:e("assistant.knowledge_bases.other"),icon:"globe"},{key:"other_4",label:e("assistant.knowledge_bases.other"),icon:"globe"},{key:"other_5",label:e("assistant.knowledge_bases.other"),icon:"globe"},{key:"other_6",label:e("assistant.knowledge_bases.other"),icon:"globe"}]},[e]),r=(0,c.useState)(null),i=(0,a.default)(r,2),o=i[0],u=i[1],l=(0,c.useState)(n.map(function(e){return e.key})),d=(0,a.default)(l,2),f=d[0],p=d[1],h=(0,c.useRef)(null),m=(0,c.useMemo)(function(){var e=o?t.find(function(e){return e.key===o}):null;return!!e&&e.external},[o,t]);return(0,c.useEffect)(function(){var e=h.current;o||null===e||p(n.map(function(e){return e.key})),h.current=o},[o,t,n]),c.default.createElement("div",{className:"u-flex u-flex-column u-flex-items-center u-flex-justify-center u-maw-7 u-mh-auto u-w-100 u-mb-1"},c.default.createElement(x,{knowledges:n,selectedKnowledges:f,setSelectedKnowledges:p}),c.default.createElement(k,{experts:t,selectedExpert:o,setSelectedExpert:u}),m&&c.default.createElement(O,null))}},22591:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(39892)),i=r(n(22056)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(76819),s=n(42895),u=r(n(89004)),l=r(n(90978)),d=r(n(94208)),f=r(n(90774)),p=r(n(12939)),h=r(n(83393)),m=r(n(40932)),v=n(82495),y=["data"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var b=function(e){var t=e.messageId,n=e.files,r=(0,o.useState)(!1),a=(0,i.default)(r,2),s=a[0],v=a[1],y=(0,c.useI18n)().t,g=(0,o.useRef)(),b=function(){v(function(e){return!e})};return(0,o.useEffect)(function(){var e;null==(e=g.current)||e.scrollIntoView(!1)},[]),(0,o.useEffect)(function(){s&&g.current.getBoundingClientRect().bottom>document.getElementsByClassName("cozyDialogContent")[0].getBoundingClientRect().bottom&&g.current.scrollIntoView(!1)},[s]),o.default.createElement(u.default,{ref:g,className:"u-mt-1-half",pl:"44px"},o.default.createElement(l.default,{className:"u-mb-1",icon:o.default.createElement(f.default,{icon:p.default,className:"u-ml-half"}),label:y("assistant.sources",n.length),deleteIcon:o.default.createElement(f.default,{className:"u-h-1",icon:h.default,rotate:90*!!s}),clickable:!0,onClick:b,onDelete:b}),o.default.createElement(d.default,{in:s,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0},o.default.createElement("div",null,n.map(function(e){return o.default.createElement(m.default,{key:"".concat(t,"-").concat(e._id),file:e})}))))};t.default=function(e){var t=e.messageId,n=e.sources.map(function(e){return e.id}),r=(0,v.buildFilesByIds)(n),i=(0,s.useQuery)(r.definition,r.options),c=i.data,u=(0,a.default)(i,y);return(0,s.isQueryLoading)(u)||0===c.length?null:o.default.createElement(b,{messageId:t,files:c})}},40932:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(42895),o=n(39046),c=r(n(90774)),s=r(n(27282)),u=r(n(72637)),l=r(n(38143)),d=n(27875);t.default=function(e){var t=e.file,n=(0,i.useClient)(),r=(0,o.isNote)(t)?"notes":(0,o.isDocs)(t)?"docs":"drive",f="notes"===r?"/n/".concat(t._id):"docs"===r?"/bridge/docs/".concat(t.metadata.externalId):"/folder/".concat(t.dir_id,"/file/").concat(t._id),p=(0,i.generateWebLink)({slug:r,cozyUrl:null==n?void 0:n.getStackClient().uri,subDomainType:null==n?void 0:n.getInstanceOptions().subdomain,hash:f});return a.default.createElement(s.default,{className:"styles__sourcesItem___204Zw",component:"a",href:p,target:"_blank",button:!0},a.default.createElement(u.default,null,a.default.createElement(c.default,{icon:(0,d.getDriveMimeTypeIcon)(t),size:32})),a.default.createElement(l.default,{primary:t.name,secondary:t.path.replace(t.name,"")}))}},69445:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(76819),o=r(n(27282)),c=r(n(38143));t.default=function(){var e=(0,i.useI18n)().t;return a.default.createElement(o.default,{size:"small"},a.default.createElement(c.default,{primary:e("assistant.search.noItem")}))}},56900:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(76819),o=r(n(27282)),c=r(n(38143));t.default=function(){var e=(0,i.useI18n)().t;return a.default.createElement(o.default,{size:"small"},a.default.createElement(c.default,{primary:e("assistant.search.notEnough")}))}},73006:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(32859)),o=r(n(51757)),c=r(n(84645));t.default=function(e){var t=e.anchorRef,n=e.listRef,r=e.onClear;return a.default.createElement(o.default,{style:{width:t.current.offsetWidth,zIndex:"var(--zIndex-popover)"},anchorEl:t.current,open:!!t.current,placement:"bottom-start"},a.default.createElement(i.default,{className:"styles__resultMenu___o76q-",square:!0},a.default.createElement("div",{className:"styles__resultMenu-inner___2Lf0d"},a.default.createElement(c.default,{ref:n,onClear:r}))))}},84645:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),i=n(61122),o=r(n(70879)),c=r(n(79293)),s=r(n(69445)),u=r(n(56900)),l=r(n(90161)),d=n(98707);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t=e.onClear,n=(0,d.useSearch)(),r=n.isLoading,i=n.results,o=n.selectedIndex,f=n.searchValue;if(r&&!(null!=i&&i.length))return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{hasSecondary:!0}),a.default.createElement(c.default,{hasSecondary:!0}),a.default.createElement(c.default,{hasSecondary:!0}));if(!r&&!(null!=i&&i.length))if(f.length>=3)return a.default.createElement(s.default,null);else return a.default.createElement(u.default,null);return i.map(function(e,n){return a.default.createElement(l.default,{key:e.id||n,icon:e.icon,slug:e.slug,url:e.url,primaryText:e.primary,secondaryText:e.secondary,secondaryUrl:e.secondaryUrl,query:f,highlightQuery:"true",selected:o===n,onClear:t})})},h=(0,a.forwardRef)(function(e,t){var n=e.onClear,r=(0,i.useDataProxy)().dataProxyServicesAvailable;return a.default.createElement(o.default,{ref:t},r&&a.default.createElement(p,{onClear:n}))});h.displayName="ResultMenuContent",t.default=h},90161:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),i=r(n(90774)),o=r(n(27282)),c=r(n(72637)),s=r(n(38143)),u=r(n(62162)),l=r(n(88807)),d=r(n(56268));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.default=function(e){var t=e.icon,n=e.url,r=e.primaryText,f=e.secondaryText,p=e.secondaryUrl,h=e.slug,m=e.selected,v=e.query,y=e.highlightQuery,g=void 0!==y&&y,b=e.onClear,w=(0,a.useRef)(),k="component"===t.type?a.default.createElement(i.default,{icon:t.component,size:32}):"app"===t.type?a.default.createElement(u.default,{app:t.app}):t,x=g?a.default.createElement(l.default,{text:r,query:v}):r,O=g?a.default.createElement(d.default,{text:f,query:v,slug:h,url:p}):f;return(0,a.useEffect)(function(){if(m){var e;null==w||null==(e=w.current)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},[m]),a.default.createElement(o.default,{component:"a",href:n,ref:w,size:"small",selected:m,className:"styles__resultMenuItem___3-bLe",onClick:b},a.default.createElement(c.default,null,k),a.default.createElement(s.default,{primary:x,secondary:O}))}},88807:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(96540));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return e.toString().toLowerCase().replace(/\//g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ")},u=function(e,t){var n=s(t),r=s(e),a=[],o=0;r.forEach(function(e){n.forEach(function(t){var n=e.indexOf(t);n>=0&&a.push({from:o+n,to:o+n+t.length})}),o+=e.length+1});for(var c=a.sort(function(e,t){return e.from>t.from}).reduce(function(e,t){return 0===e.length||e[e.length-1].to<t.from?e.push(t):e[e.length-1].to<t.to&&(e[e.length-1].to=t.to),e},[]),u=c.length>0?[i.default.createElement("span",{key:"0"},e.slice(0,c[0].from))]:e,l=0,d=c.length;l<d;++l)u.push(i.default.createElement("span",{className:"u-primaryColor"},e.slice(c[l].from,c[l].to))),l+1<d&&u.push(i.default.createElement("span",null,e.slice(c[l].to,c[l+1].from)));return c.length>0&&u.push(i.default.createElement("span",null,e.slice(c[c.length-1].to,e.length))),u};t.default=function(e){var t=e.text,n=e.query;if(!t)return null;var r=u(t,n);return Array.isArray(r)?r.map(function(e,t){return c(c({},e),{},{key:t})}):r}},56268:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(29411)),o=r(n(24242)),c=r(n(21696)),s=r(n(88807));t.default=function(e){var t=e.text,n=e.query,r=e.url,u=e.slug;return(0,o.default)().isMobile||!r?a.default.createElement(s.default,{text:t,query:n}):a.default.createElement(c.default,{app:{slug:u},href:r},function(e){var r=e.href,o=e.onClick;return a.default.createElement(i.default,{color:"textSecondary",underline:"hover",href:r,onClick:function(e){e.stopPropagation(),"function"==typeof o&&o(e)}},a.default.createElement(s.default,{text:t,query:n,slug:u}))})}},4616:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantButton=void 0;var a=r(n(96540)),i=n(84976),o=r(n(90774)),c=r(n(74710)),s=r(n(2589)),u=n(67864),l=n(734),d=n(70322);t.AssistantButton=function(e){var t=e.size,n=(0,l.useAssistant)().onAssistantExecute,r=(0,i.useNavigate)(),f=(0,i.useLocation)().pathname;return a.default.createElement(s.default,{position:"end",className:"u-mr-half"},a.default.createElement(c.default,{onClick:function(){var e=(0,d.makeConversationId)();n({value:"",conversationId:e}),r("assistant/".concat(e,"?returnPath=").concat(f))},size:"small",color:"primary"},a.default.createElement(o.default,{icon:u.TwakeAssistantIcon,size:"medium"===t?24:16})))}},32452:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(84976),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(734)),c=n(70322);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=function(e){var t=e.children,n=(0,o.useAssistant)().onAssistantExecute,r=(0,i.useNavigate)(),s=(0,i.useLocation)().pathname;return a.default.createElement(o.default,null,t({openAssistant:function(){if((0,c.isAssistantEnabled)()){var e=(0,c.makeConversationId)();n({value:"",conversationId:e}),r("assistant/".concat(e,"?returnPath=").concat(s))}}}))};t.default=function(e){var t=e.children;return a.default.createElement(o.default,null,a.default.createElement(u,null,t))}},15624:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540));t.default=function(){return a.default.createElement("svg",{viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M21.6305 29.5812C22.7983 29.2538 23.9166 28.6562 24.6505 27.6003C25.3749 26.5663 25.5789 25.2547 25.5789 23.9925V5.50099C25.5789 5.17358 25.5611 4.84557 25.5216 4.52148C26.1016 4.74961 26.5486 5.12658 26.8626 5.65239C27.2331 6.25024 27.4184 7.03757 27.4184 8.01435V26.7964C27.4184 28.1184 27.0942 29.1078 26.4458 29.7646C25.7974 30.4214 24.8207 30.7498 23.5155 30.7498H16.4209C16.5889 30.7204 16.7574 30.6901 16.9262 30.659C18.4067 30.3944 19.9713 30.0354 21.6185 29.5846L21.6305 29.5812Z",fill:"#C9191E"}),a.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.58203 26.405V7.5977C4.58203 6.45251 4.88938 5.58519 5.50408 4.99575C6.1272 4.40631 6.95242 4.08212 7.97972 4.02318C9.49542 3.93055 10.9311 3.80425 12.2868 3.64425C13.6425 3.47584 14.9393 3.28217 16.1771 3.06324C17.4234 2.8443 18.6359 2.60011 19.8148 2.33065C21.0274 2.04435 21.9578 2.1875 22.6062 2.7601C23.2546 3.33269 23.5788 4.24632 23.5788 5.50099V23.9925C23.5788 25.0956 23.3893 25.9166 23.0104 26.4555C22.6315 27.0029 21.9915 27.4028 21.0905 27.6554C19.4906 28.0933 17.9833 28.4386 16.5687 28.6912C15.154 28.9522 13.7731 29.1501 12.4258 29.2848C11.0785 29.4196 9.69751 29.5248 8.28286 29.6006C7.11241 29.668 6.20299 29.4238 5.5546 28.868C4.90622 28.3207 4.58203 27.4997 4.58203 26.405ZM9.20865 11.0124C11.0635 10.8944 12.7632 10.7131 14.3075 10.4683C14.6822 10.4072 15.0564 10.3436 15.4291 10.2776C15.8192 10.2085 16.1013 9.86859 16.1013 9.47337C16.1013 8.96154 15.638 8.57609 15.135 8.66189C14.846 8.71118 14.5555 8.75909 14.2635 8.80562C12.7346 9.04923 11.0452 9.22998 9.19523 9.3477C8.91819 9.36558 8.69776 9.45188 8.55608 9.62391C8.42209 9.78661 8.35645 9.98229 8.35645 10.2053C8.35645 10.4321 8.43296 10.6295 8.58568 10.7918L8.58783 10.7939C8.75336 10.9595 8.96369 11.0311 9.20865 11.0124ZM9.20801 15.206C11.0631 15.088 12.763 14.9066 14.3075 14.6619C15.8588 14.4089 17.3936 14.1138 18.9112 13.7766C19.2191 13.7081 19.4498 13.6003 19.5652 13.433C19.6786 13.2721 19.7347 13.0876 19.7347 12.8832C19.7347 12.6526 19.6469 12.454 19.476 12.2926C19.2921 12.1189 19.0348 12.0784 18.7304 12.1411L18.7285 12.1415C17.2823 12.4694 15.794 12.7553 14.2635 12.9992C12.7346 13.2428 11.0452 13.4235 9.19523 13.5413C8.91819 13.5591 8.69776 13.6454 8.55608 13.8175C8.42276 13.9794 8.35645 14.1705 8.35645 14.3863C8.35645 14.6203 8.43209 14.8223 8.58558 14.9854L8.59 14.9896C8.75499 15.1449 8.96316 15.2155 9.20551 15.2062L9.20801 15.206ZM9.20847 19.3994C11.0634 19.2729 12.7631 19.0874 14.3075 18.8427C15.8589 18.5982 17.3934 18.3073 18.9112 17.97C19.2199 17.9014 19.4508 17.7891 19.566 17.6127C19.6783 17.4529 19.7347 17.2733 19.7347 17.0766C19.7347 16.8461 19.6469 16.6474 19.476 16.4861C19.2921 16.3123 19.0348 16.2718 18.7304 16.3345L18.729 16.3348C17.2827 16.6543 15.7942 16.9361 14.2635 17.18C12.7345 17.4236 11.045 17.6086 9.19495 17.7347C8.91804 17.7526 8.69771 17.8389 8.55608 18.0109C8.42276 18.1728 8.35645 18.3639 8.35645 18.5797C8.35645 18.8137 8.43209 19.0158 8.58558 19.1789L8.59 19.183C8.75499 19.3383 8.96316 19.4089 9.20551 19.3996L9.20847 19.3994ZM14.3075 23.007C12.7632 23.2518 11.0635 23.4331 9.20867 23.5512C8.9637 23.5698 8.75337 23.4982 8.58783 23.3326L8.58572 23.3305C8.433 23.1682 8.35645 22.9708 8.35645 22.7441C8.35645 22.521 8.42209 22.3253 8.55608 22.1626C8.69776 21.9906 8.91827 21.9043 9.19531 21.8864C11.0453 21.7687 12.7346 21.588 14.2635 21.3443C14.5555 21.2978 14.846 21.2499 15.135 21.2006C15.638 21.1148 16.1013 21.5003 16.1013 22.0121C16.1013 22.4073 15.8192 22.7472 15.4291 22.8163C15.0564 22.8823 14.6822 22.9459 14.3075 23.007Z",fill:"#000091"}))}},87888:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(96540));t.default=function(e){return i.default.createElement("svg",(0,a.default)({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.default.createElement("path",{opacity:"0.34",fillRule:"evenodd",clipRule:"evenodd",d:"M12.9657 1C13.5206 1 14.2876 1.3125 14.6803 1.6995L16 3H30.0059C31.1072 3 32 3.89498 32 4.997V27.003C32 28.1059 31.1107 29 29.9983 29H2.00174C0.896211 29 0 28.1001 0 27.0088V1.99653C0 1.44616 0.448999 1 1.00472 1H12.9657Z",fill:"#297EF2"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 1C0.447715 1 0 1.44772 0 2V6C0 6.55228 0.447716 7 1 7H13.5858C13.851 7 14.1054 6.89464 14.2929 6.70711L15.7071 5.29289C15.8946 5.10536 16.149 5 16.4142 5H32C32 3.89543 31.1046 3 30 3H16.4142C16.149 3 15.8946 2.89464 15.7071 2.70711L14.2929 1.29289C14.1054 1.10536 13.851 1 13.5858 1H1ZM10 15.9954V24.0046C10 24.5543 10.4558 25 11.0025 25H20.9975C21.5512 25 22 24.5443 22 24.0046V15.9954C22 15.4457 21.5561 15 21 15H20V13C20 10.794 18.2053 9 16 9C13.794 9 12 10.794 12 13V15H11C10.4477 15 10 15.4557 10 15.9954ZM16 11C14.8968 11 14 12.1215 14 13.5V15H18V13.5C18 12.1215 17.1028 11 16 11ZM17.5 19C17.5 18.172 16.8265 17.5 16 17.5C15.172 17.5 14.5 18.172 14.5 19C14.5 19.552 14.803 20.032 15.25 20.29V22.75C15.25 23.1625 15.586 23.5 16 23.5C16.4125 23.5 16.75 23.1625 16.75 22.75V20.29C17.1955 20.032 17.5 19.552 17.5 19Z",fill:"#297EF2"}))}},49077:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(22056)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(24242),s=r(n(67853)),u=r(n(38571)),l=n(98707);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.default=function(e){var t=e.componentsProps,n=(0,c.useBreakpoints)().isMobile,r=(0,o.useState)(""),d=(0,i.default)(r,2),f=d[0],p=d[1],h=(0,l.useSearch)(),m=h.clearSearch,v=h.setSelectedIndex,y=h.delayedSetSearchValue,g=function(){p(""),m()},b=function(e){v(0),y(e.target.value),p(e.target.value)};return n?o.default.createElement(u.default,{value:f,onClear:g,onChange:b}):o.default.createElement(s.default,(0,a.default)({},null==t?void 0:t.SearchBarDesktop,{value:f,onClear:g,onChange:b}))}},67853:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53978)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=r(n(24615)),c=r(n(90774)),s=r(n(13691)),u=r(n(5379)),l=n(4616),d=n(98707),f=r(n(73006)),p=n(70322);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m="styles__search-bar-icon___1affF",v=function(e){var t=e.value,n=e.onClear,r=e.onChange,h=e.elevation,v=e.size,y=e.hasHalfBorderRadius,g=e.className,b=e.disabledHover,w=(0,d.useSearch)(),k=w.searchValue,x=w.results,O=w.selectedIndex,_=w.setSelectedIndex,E=(0,i.useRef)(),C=(0,i.useRef)();return i.default.createElement(o.default,{onClickAway:n},i.default.createElement("span",null,i.default.createElement(u.default,{elevation:h,className:(0,a.default)(g,k&&y?"styles__searchBarDesktop--result___2bQQy":""),ref:E,size:v,icon:"large"===v?i.default.createElement(c.default,{className:(0,a.default)("u-mh-1",m),icon:s.default,size:24}):i.default.createElement(c.default,{className:(0,a.default)("u-ml-1 u-mr-half",m),icon:s.default,size:16}),value:t,componentsProps:{inputBase:{onKeyDown:function(e){var t=null==(r=C.current)?void 0:r.childElementCount;if("ArrowDown"===e.key&&(e.preventDefault(),O===t-1?_(0):_(function(e){return e+1})),"ArrowUp"===e.key&&(e.preventDefault(),0===O?_(t-1):_(function(e){return e-1})),"Escape"===e.key&&(e.preventDefault(),n()),"Enter"===e.key&&(e.preventDefault(),void 0!==O)){var r,a,i=null==x||null==(a=x[O])?void 0:a.onClick;n(),i()}},endAdornment:(0,p.isAssistantEnabled)()&&i.default.createElement(l.AssistantButton,{size:v})}},disabledClear:!0,disabledFocus:""!==t,disabledHover:b,onChange:r}),k&&i.default.createElement(f.default,{listRef:C,anchorRef:E,onClear:n})))};v.defaultProps={size:"large",elevation:0},t.default=v},38571:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(5379));t.default=function(e){var t=e.value,n=e.onClear,r=e.onChange;return a.default.createElement(i.default,{className:"styles__conversationBar___2J-Us",size:"auto",icon:null,value:t,componentsProps:{inputBase:{inputProps:{className:"styles__conversationBar-input___2DfdZ"},autoFocus:!0}},onChange:r,onClear:function(){n()}})}},98707:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useSearch=t.default=t.SearchContext=void 0;var a=r(n(22056)),i=r(n(38221)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(93178);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=o.default.createContext();t.SearchContext=u,t.useSearch=function(){var e=(0,o.useContext)(u);if(!e)throw Error("useSearch must be used within a SearchProvider");return e},t.default=o.default.memo(function(e){var t=e.children,n=e.searchOptions,r=(0,o.useState)(""),s=(0,a.default)(r,2),l=s[0],d=s[1],f=(0,o.useState)(),p=(0,a.default)(f,2),h=p[0],m=p[1],v=(0,c.useFetchResult)(l,void 0===n?{}:n),y=v.isLoading,g=v.results,b=(0,o.useMemo)(function(){return(0,i.default)(d,250)},[d]),w=(0,o.useCallback)(function(){d(""),m()},[]),k=(0,o.useMemo)(function(){return{searchValue:l,setSearchValue:d,delayedSetSearchValue:b,isLoading:y,clearSearch:w,selectedIndex:h,setSelectedIndex:m,results:g}},[l,b,y,w,h,g]);return o.default.createElement(u.Provider,{value:k},t)})},99470:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getFileMimetype=void 0;var a=r(n(22056)),i=r(n(2317)),o={word:"text",text:"text",zip:"zip",pdf:"pdf",spreadsheet:"sheet",excel:"sheet",sheet:"sheet",presentation:"slide",powerpoint:"slide"};t.getFileMimetype=function(e){return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=("application/octet-stream"===n?(t=r.toLowerCase(),i.default.lookup(t)||"application/octet-stream"):n).split("/"),s=(0,a.default)(c,2),u=s[0],l=s[1];if(e[u])return u;if("application"===u){var d=l.match(Object.keys(o).join("|"));return d?o[d[0]]:void 0}}}},27875:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconForSearchResult=t.getDriveMimeTypeIcon=void 0;var a=r(n(58156)),i=n(39046),o=r(n(14970)),c=r(n(57611)),s=r(n(14196)),u=r(n(13612)),l=r(n(88382)),d=r(n(6397)),f=r(n(36572)),p=r(n(24577)),h=r(n(4799)),m=r(n(82150)),v=r(n(21452)),y=r(n(82706)),g=r(n(946)),b=r(n(29650)),w=r(n(15624)),k=r(n(87888)),x=n(99470);t.getIconForSearchResult=function(e){return"io.cozy.apps"===e.doc._type?{type:"app",app:e.doc}:"notes"===e.slug?{type:"component",component:p.default}:"drive"===e.slug?{type:"component",component:O(e.doc)}:"contacts"===e.slug?{type:"component",component:o.default}:{type:"component",component:l.default}};var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isEncrypted,r="directory"===e.type,o=e.name,O=e.mime;if(void 0!==n&&n)return k.default;if(r)return d.default;if((0,i.isNote)(e))return p.default;if((0,i.isDocs)(e))return w.default;var _={audio:c.default,bin:s.default,code:u.default,image:f.default,pdf:h.default,slide:v.default,sheet:m.default,text:y.default,video:g.default,zip:b.default},E=(0,x.getFileMimetype)(_)(O,o);return(0,a.default)(_,E,l.default)};t.getDriveMimeTypeIcon=O},93178:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useFetchResult=void 0;var i=a(n(92207)),o=a(n(22056)),c=a(n(39892)),s=a(n(79092)),u=n(96540),l=n(84976),d=n(42895),f=n(61122),p=a(n(13572)),h=n(27875),m=["maxRetries","delay"],v=(0,p.default)("\uD83D\uDD0D [useFetchResult]"),y=(r=(0,s.default)(i.default.mark(function e(t,n){var r,a,o,s,u,l,d,f,p,h=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=void 0===(a=(r=h.length>2&&void 0!==h[2]?h[2]:{}).maxRetries)?5:a,u=void 0===(s=r.delay)?500:s,l=(0,c.default)(r,m),d=u,f=0;case 4:if(!(f<o)){e.next=17;break}return e.next=7,t.search(n,l);case 7:if(!(p=e.sent)){e.next=10;break}return e.abrupt("return",p);case 10:return v.info("Search attempt ".concat(f+1," failed, retrying in ").concat(d," ms...")),e.next=13,new Promise(function(e){return setTimeout(e,d)});case 13:d*=2;case 14:f++,e.next=4;break;case 17:return v.error("Search failed after ".concat(o," attempts")),e.abrupt("return",[]);case 19:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});t.useFetchResult=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d.useClient)(),r=(0,l.useNavigate)(),a=(0,u.useState)({isLoading:!0,results:null,searchValue:null}),c=(0,o.default)(a,2),p=c[0],m=c[1],g=(0,f.useDataProxy)();return(0,u.useEffect)(function(){var a,o=(a=(0,s.default)(i.default.mark(function e(t,a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.dataProxyServicesAvailable){e.next=3;break}return v.log("DataProxy services are not available. Skipping search..."),e.abrupt("return");case 3:return m({isLoading:!0,results:null,searchValue:t}),e.next=6,y(g,t,a);case 6:m({isLoading:!1,results:e.sent.map(function(e){e.slug=e.slug||e.type,e.subTitle=e.subTitle||e.name;var t=(0,h.getIconForSearchResult)(e);return{id:e.doc._id,icon:t,slug:e.slug,url:e.url,secondaryUrl:e.secondaryUrl,primary:e.title,secondary:e.subTitle,onClick:function(){if(e.slug===n.appMetadata.slug)try{var t=new URL(e.url).hash.replace("#","");r(t)}catch(t){window.open(e.url)}else window.open(e.url)}}}),searchValue:t});case 9:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});e?e!==p.searchValue&&o(e,t):m({isLoading:!0,results:null,searchValue:null})},[g,e,p.searchValue,m]),{isLoading:p.isLoading,results:p.results}}},37166:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(41827)),o=r(n(85561)),c=r(n(734)),s=r(n(39998)),u=function(){return a.default.createElement(i.default,{open:!0,fullScreen:!0,size:"full",disableGutters:!0},a.default.createElement(s.default,null))};t.default=function(){return a.default.createElement(o.default,{variant:"normal"},a.default.createElement(c.default,null,a.default.createElement(u,null)))}},39998:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(84976),o=r(n(92141)),c=r(n(44224)),s=r(n(47889));t.default=function(){var e=(0,i.useParams)().conversationId;return a.default.createElement("div",{className:"u-h-100 u-flex u-flex-column"},a.default.createElement(c.default,null),a.default.createElement("div",{className:"u-h-100 u-flex u-flex-row u-mih-1 u-flex-grow-1"},a.default.createElement(s.default,null),a.default.createElement(o.default,{id:e})))}},85844:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(96540)),o=n(84976),c=n(76819),s=n(89184),u=r(n(85561)),l=n(80006),d=r(n(734)),f=r(n(84645)),p=r(n(49077)),h=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(98707));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var v=function(){(0,c.useExtendI18n)(l.locales);var e=(0,o.useNavigate)(),t=(0,o.useSearchParams)(),n=(0,a.default)(t,1)[0],r=(0,h.useSearch)().searchValue;return i.default.createElement(s.FixedDialog,{open:!0,fullScreen:!0,size:"full",disableGutters:!0,componentsProps:{dialogTitle:{className:"u-ph-half u-pb-0 u-mt-2-half u-ov-visible"},divider:{className:"u-dn"}},title:i.default.createElement(p.default,null),content:r&&i.default.createElement(f.default,null),onClose:function(){try{var t=n.get("returnPath");t?e(t):e("..")}catch(t){e("..")}}})};t.default=function(){return i.default.createElement(u.default,{variant:"normal"},i.default.createElement(d.default,null,i.default.createElement(h.default,null,i.default.createElement(v,null))))}},70322:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeChatContent=t.pushMessagesIdInState=t.makeConversationId=t.isMessageForThisConversation=t.isAssistantEnabled=t.getInstantMessage=void 0;var a=r(n(26396)),i=r(n(94619));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.getInstantMessage=function(e){return Object.keys(e.message).sort(function(e,t){return e-t}).map(function(t){return e.message[t]}).join("")},t.makeConversationId=function(){return"".concat(Date.now(),"-").concat(Math.floor(9e4*Math.random())+1e4)},t.pushMessagesIdInState=function(e,t,n){if(e===t._id){var r=t.messages.map(function(e){return e.id});n(function(e){return c(c({},e),{},{messagesId:r})})}},t.isMessageForThisConversation=function(e,t){return 0===t.length||t.includes(e._id)},t.isAssistantEnabled=function(){return(0,i.default)("cozy.assistant.enabled")},t.sanitizeChatContent=function(e){return e?e.replace(/\s?\[REF\][\s\S]*?\[\/REF\]/g,"").replace(/\s?REF[\s\S]*?\/REF/g,"").replace(/\s?\[doc_\d+\]/g,""):""}},82495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRecentConversationsQuery=t.buildMyselfQuery=t.buildFilesByIds=t.buildChatConversationQueryById=t.FILES_DOCTYPE=t.CHAT_EVENTS_DOCTYPE=t.CHAT_CONVERSATIONS_DOCTYPE=void 0;var r=n(42895),a="io.cozy.contacts",i="io.cozy.ai.chat.conversations";t.CHAT_CONVERSATIONS_DOCTYPE=i,t.CHAT_EVENTS_DOCTYPE="io.cozy.ai.chat.events";var o="io.cozy.files";t.FILES_DOCTYPE=o;var c=r.fetchPolicies.olderThan(86400);t.buildFilesByIds=function(e){return{definition:(0,r.Q)(o).getByIds(e),options:{as:"".concat(o,"/").concat(e.join("")),fetchPolicy:c}}},t.buildChatConversationQueryById=function(e){return{definition:(0,r.Q)(i).getById(e),options:{as:"".concat(i,"/").concat(e),fetchPolicy:c,singleDocData:!0}}},t.buildMyselfQuery=function(){return{definition:(0,r.Q)(a).where({me:!0}),options:{as:"".concat(a,"/myself"),fetchPolicy:c}}},t.buildRecentConversationsQuery=function(){return{definition:function(){return(0,r.Q)(i).where({"cozyMetadata.doctypeVersion":"1"}).sortBy([{"cozyMetadata.updatedAt":"desc"}]).limitBy(50)},options:{as:i+"/recent",fetchPolicy:c}}}},38594:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AssistantDesktop",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"AssistantDialog",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"AssistantLink",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"AssistantMobile",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"SearchDialog",{enumerable:!0,get:function(){return s.default}});var a=r(n(32452)),i=r(n(56191)),o=r(n(61565)),c=r(n(37166)),s=r(n(85844))},80006:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={en:{assistant:{search:{greetings:"How can I help you ?",placeholder:"Any question?",send:"Send",noItem:"No results",notEnough:"Your query must contain at least 3 characters"},dialog:{close:"Close"},name:"Twake Assistant",default_username:"Anonymous",sources:"%{smart_count} source |||| %{smart_count} sources",suggestions:{find_file:"Search a file",reimbursements:"Check my repayments",reorganise_files:"Reorganise my files"},history:{new:"New chat",recent:"Recent chats"},experts:{legal:"Legal",financial:"Financial",image_creation:"Image creation",marketing:"Marketing",code_assistant:"Code assistant",brainstorming:"Brainstorming",travel_planner:"Travel planner",fitness_coach:"Fitness coach",recipe_suggester:"Recipe suggester",web_search:"Web search",external_warning:{title:"External expert selected",description:"Be careful with the selected knowledge bases",know_more:"Know more"},more:"experts"},knowledge_bases:{twake_knowledge:"My Twake",web:"Web",linagora_client:"CRM",security_procedures:"Security",other:"Other knowledge base",more:"knowledge bases"}}},fr:{assistant:{search:{greetings:"Comment puis-je vous aider ?",placeholder:"Une question\xa0?",send:"Envoyer",noItem:"Aucun r\xe9sultat",notEnough:"Votre recherche doit contenir au moins 3 caract\xe8res"},dialog:{close:"Fermer"},name:"Assistant Twake",default_username:"Anonyme",sources:"%{smart_count} source |||| %{smart_count} sources",suggestions:{find_file:"Rechercher un fichier",reimbursements:"V\xe9rifier mes remboursements",reorganise_files:"R\xe9organiser mes fichiers"},history:{new:"Nouveau",recent:"Conversations r\xe9centes"},experts:{legal:"Juridique",financial:"Financier",image_creation:"Cr\xe9ation d'images",marketing:"Marketing",code_assistant:"Assistant de code",brainstorming:"Brainstorming",travel_planner:"Planificateur de voyage",fitness_coach:"Coach sportif",recipe_suggester:"Suggestions de recettes",web_search:"Recherche web",external_warning:{title:"Expert externe s\xe9lectionn\xe9",description:"Attention aux bases de donn\xe9es s\xe9lectionn\xe9es.",know_more:"En savoir plus"},more:"experts"},knowledge_bases:{twake_knowledge:"Connaissances Twake",web:"Web",linagora_client:"CRM",security_procedures:"S\xe9curit\xe9",other:"Autre base de connaissances",more:"bases de connaissances"}}},ru:{assistant:{search:{placeholder:"Ð•ÑÑ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ?",send:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",noItem:"ÐÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²",notEnough:"Ð’Ð°Ñˆ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 3 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"},dialog:{close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},name:"ÐÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚ Twake",default_username:"ÐÐ½Ð¾Ð½Ð¸Ð¼Ð½Ð¾",sources:"%{smart_count} Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº |||| %{smart_count} Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ° |||| %{smart_count} Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð²",suggestions:{find_file:"ÐÐ°Ð¹Ñ‚Ð¸ Ñ„Ð°Ð¹Ð»",reimbursements:"ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²Ð¾Ð·Ð¼ÐµÑ‰ÐµÐ½Ð¸Ñ Ñ€Ð°ÑÑ…Ð¾Ð´Ð¾Ð²",reorganise_files:"Ð ÐµÐ¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¾Ð¸ Ñ„Ð°Ð¹Ð»Ñ‹"}}},vi:{assistant:{search:{placeholder:"C\xf3 c\xe2u há»i n\xe0o kh\xf4ng?",send:"Gá»­i",noItem:"Kh\xf4ng c\xf3 káº¿t quáº£",notEnough:"Truy váº¥n cá»§a báº¡n pháº£i chá»©a \xedt nháº¥t 3 k\xfd tá»±"},dialog:{close:"Ä\xf3ng"},name:"Trá»£ l\xfd Twake",default_username:"áº¨n danh",sources:"%{smart_count} nguá»“n |||| %{smart_count} nguá»“n",suggestions:{find_file:"T\xecm má»™t tá»‡p",reimbursements:"Kiá»ƒm tra c\xe1c khoáº£n ho\xe0n tráº£ cá»§a t\xf4i",reorganise_files:"Sáº¯p xáº¿p láº¡i c\xe1c tá»‡p cá»§a t\xf4i"}}}}},12042:function(e,t,n){e.exports=n(90123)},2317:function(e,t,n){"use strict";var r,a,i,o=n(12042),c=n(57975).extname,s=/^\s*([^;\s]*)(?:;|\s|$)/,u=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=s.exec(e),n=t&&o[t[1].toLowerCase()];return n&&n.charset?n.charset:!!(t&&u.test(t[1]))&&"UTF-8"}t.charset=l,t.charsets={lookup:l},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=s.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!!r&&!!r.length&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=c("x."+e).toLowerCase().substr(1);return!!n&&(t.types[n]||!1)},t.types=Object.create(null),r=t.extensions,a=t.types,i=["nginx","apache",void 0,"iana"],Object.keys(o).forEach(function(e){var t=o[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var c=0;c<n.length;c++){var s=n[c];if(a[s]){var u=i.indexOf(o[a[s]].source),l=i.indexOf(t.source);if("application/octet-stream"!==a[s]&&(u>l||u===l&&"application/"===a[s].substr(0,12)))continue}a[s]=e}}})},31398:function(e,t,n){"use strict";n.r(t),n.d(t,{ShareButton:()=>nL,createCozySharingLink:()=>oi,OwnerRecipientDefaultLite:()=>nb,RefreshableSharings:()=>iC,SharedDocument:()=>tA,ConfirmTrustedRecipientsDialog:()=>iK,useSharingContext:()=>tS,addToCozySharingLink:()=>oc,default:()=>op,syncToCozySharingLink:()=>ou,shareNative:()=>of,useFetchDocumentPath:()=>tP,useNativeFileSharing:()=>on,DOCUMENT_TYPE:()=>r9,MemberRecipientLite:()=>nf,SharedRecipientsList:()=>nP,SharedRecipients:()=>t6,withLocales:()=>tC,OpenSharingLinkFabButton:()=>i8,SharedBadge:()=>t1,SharingContext:()=>N,SharedStatus:()=>tY,NativeFileSharingProvider:()=>or,CozyPassFingerprintDialogContent:()=>iD,LinkRecipientLite:()=>ng,ShareModal:()=>iE,OpenSharingLinkButton:()=>i0,SharingOwnerAvatar:()=>t3,useSharingInfos:()=>iL,SharingBannerPlugin:()=>iU,ShareButtonWithRecipients:()=>iJ,SharedDriveModal:()=>a7});var r,a,i,o,c,s,u,l,d,f=n(21259),p=n.n(f),h=n(22056),m=n.n(h),v=n(79092),y=n.n(v),g=n(82274),b=n.n(g),w=n(65044),k=n.n(w),x=n(65611),O=n.n(x),_=n(18337),E=n.n(_),C=n(56994),S=n.n(C),P=n(26396),A=n.n(P),D=n(92207),T=n.n(D),R=n(96540),j=n(42895),M=n(13572),I=n.n(M);let N=R.createContext();var z=n(39892),F=n.n(z),L=n(58156),B=n.n(L),U=n(94619);function V(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W="RECEIVE_SHARINGS",G="ADD_SHARING",Z="UPDATE_SHARING",K="REVOKE_RECIPIENT",Q="REVOKE_GROUP",Y="REVOKE_SELF",J="ADD_SHARING_LINK",$="UPDATE_SHARING_LINK",X="REVOKE_SHARING_LINK",ee="RECEIVE_PATHS",et="two-way",en="one-way",er=function(e){var t=e.instanceUri,n=e.sharings,r=e.permissions,a=e.apps;return{type:W,data:{sharings:(void 0===n?[]:n).filter(function(e){return(eU(e)||!eV(e))&&!eH(e,t)}),permissions:void 0===r?[]:r,apps:void 0===a?[]:a}}},ea=function(e,t){return{type:G,data:e,path:t}},ei=function(e){return{type:Z,sharing:e}},eo=function(e,t,n){return{type:K,sharing:q(q({},e),{},{attributes:q(q({},e.attributes),{},{members:e.attributes.members.map(function(e,n){return n===t?q(q({},e),{},{status:"revoked"}):e})})}),path:n}},ec=function(e,t,n){return{type:Q,sharing:q(q({},e),{},{attributes:q(q({},e.attributes),{},{groups:e.attributes.groups.map(function(e,n){return n===t?q(q({},e),{},{revoked:!0}):e})})}),path:n}},es=function(e){return{type:J,data:e}},eu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t.instance&&t.instance.toString().toLowerCase()===e.toLowerCase()}},el={sharings:[],permissions:[]},ed=function(e,t,n){var r=e[t],a=F()(e,[t].map(V)),i=n(r||el);return 0===i.sharings.length&&0===i.permissions.length?a:q(q({},a),{},A()({},t,i))},ef=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ez(t).reduce(function(e,n){return ed(e,n,function(e){return q(q({},e),{},{sharings:Object.values(e.sharings).includes(t.id)?p()(e.sharings):[].concat(p()(e.sharings),[t.id])})})},e)},ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ez(t).reduce(function(e,n){return ed(e,n,function(e){return q(q({},e),{},{sharings:e.sharings.filter(function(e){return e!==t.id})})})},e)},eh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ez(t).reduce(function(e,n){return ed(e,n,function(e){return q(q({},e),{},{permissions:[].concat(p()(e.permissions),[t.id])})})},e)},em=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ez(t).reduce(function(e,n){return ed(e,n,function(e){return q(q({},e),{},{permissions:e.permissions.filter(function(e){return e!==t.id})})})},e)},ev=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var n=t.data.sharings.reduce(function(e,t){return ef(e,t)},e);return t.data.permissions.reduce(function(e,t){return eh(e,t)},n);case G:return ef(e,t.data);case Q:case K:case Z:if(!eU(t.sharing)&&eV(t.sharing))return ep(e,t.sharing);return e;case J:if(!Array.isArray(t.data))return eh(e,t.data);var r=q({},e);return t.data.map(function(e){r=q({},eh(r,e))}),r;case Y:return ep(e,t.sharing);case X:return t.permissions.reduce(function(e,t){return em(e,t)},e);default:return e}},ey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.data.permissions;case J:if(!Array.isArray(t.data))return[].concat(p()(e),[t.data]);return[].concat(p()(e),p()(t.data));case $:return e.map(function(e){return e.id===t.data.id?t.data:e});case X:var n=t.permissions.map(function(e){return e.id});return e.filter(function(e){return -1===n.indexOf(e.id)});default:return e}},eg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===W?t.data.apps:e},eb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.data.sharings;case G:var n=e.filter(function(e){return e.id!==t.data.id});return[].concat(p()(n),[t.data]);case Z:case Q:case K:return e.map(function(e){return e.id!==t.sharing.id?e:t.sharing});case Y:return e.filter(function(e){return e.id!==t.sharing.id});default:return e}},ew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return t.paths;case G:return[].concat(p()(e),[t.path]);case Q:case K:if(!eU(t.sharing)&&eV(t.sharing))return e.filter(function(e){return e!==t.path});return e;default:return e}};let ek=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{byDocId:ev(e.byDocId,t),sharings:eb(e.sharings,t),permissions:ey(e.permissions,t),apps:eg(e.apps,t),sharedPaths:ew(e.sharedPaths,t)}};var ex=function(e,t){return!e.byDocId[t]||0===e.byDocId[t].sharings.length||!0===ej(e,e.byDocId[t].sharings[0]).attributes.owner},eO=function(e,t,n){var r=eT(e,t),a=r.attributes.members.find(eu(n));return!0===r.attributes.open_sharing&&a&&!a.read_only},e_=function(e,t){var n=eR(e,t);return(0,U.default)("sharing.show-recipient-groups")?eS(n,t):eC(n,t)},eE=function(e,t,n){return t.read_only?"one-way":e.drive?"two-way":n},eC=function(e,t){var n=e.map(function(e){var n=eZ(e,t);return e.attributes.members.map(function(t,r){return q(q({},t),{},{index:"sharing-".concat(e.id,"-member-").concat(r),type:eE(e,t,n),sharingId:e.id,memberIndex:r,avatarPath:"/sharings/".concat(e.id,"/recipients/").concat(r,"/avatar")})})}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return"revoked"!==e.status});return n[0]&&"owner"===n[0].status?[n[0]].concat(p()(n.filter(function(e){return"owner"!==e.status}))):n},eS=function(e,t){var n=e.flatMap(function(e){var n,r=eZ(e,t),a=e.id,i=e.attributes.members.map(function(t,n){return q(q({},t),{},{type:eE(e,t,r),sharingId:a,index:"sharing-".concat(e.id,"-member-").concat(n),memberIndex:n,avatarPath:"/sharings/".concat(a,"/recipients/").concat(n,"/avatar")})}),o=(null==(n=e.attributes.groups)?void 0:n.map(function(t,n){return q(q({},t),{},{sharingId:a,index:"sharing-".concat(e.id,"-group-").concat(n),groupIndex:n,owner:i[t.addedBy],members:i.filter(function(e){var t;return null==(t=e.groups)?void 0:t.includes(n)})})}).filter(function(e){return!e.revoked}))||[];return[].concat(p()(i.filter(function(e){return!e.only_in_groups&&"revoked"!==e.status})),p()(o))});return n[0]&&"owner"===n[0].status?[n[0]].concat(p()(n.filter(function(e){return"owner"!==e.status}))):n},eP=function(e,t,n){var r=eM(e,t);if(0===r.length)return null;var a=r[0],i=B()(a,"attributes.shortcodes.email")||B()(a,"attributes.shortcodes.code")||B()(a,"attributes.codes.email")||B()(a,"attributes.codes.code");return i?eQ(e,n,i):null},eA=function(e,t){return eT(e,t)},eD=function(e,t,n){var r,a=eA(e,t);if(!a)return!1;var i=eZ(a,t);if(null!=(r=a.attributes)&&r.owner)return i;var o=a.attributes.members.find(eu(n));return o?o.read_only?"one-way":a.attributes.drive?"two-way":i:i},eT=function(e,t){return eR(e,t)[0]||null},eR=function(e,t){return e.byDocId[t]?e.byDocId[t].sharings.map(function(t){return ej(e,t)}):[]},ej=function(e,t){return e.sharings.find(function(e){return e.id===t})},eM=function(e,t){return e.byDocId[t]?e.byDocId[t].permissions.map(function(t){return eI(e,t)}):[]},eI=function(e,t){return e.permissions.find(function(e){return e.id===t})},eN=function(e,t){return!!e.sharedPaths&&e.sharedPaths.some(function(e){return 0===t.indexOf("".concat(e,"/"))})},ez=function(e){return"io.cozy.sharings"===e.type?eF(e):eB(e)},eF=function(e){var t=e.attributes.rules.map(function(e){return e.values}).reduce(function(e,t){return e.concat(t)},[]);return e.attributes.shortcut_id&&t.push(e.attributes.shortcut_id),t},eL=function(e,t){var n=e.attributes.members.find(function(e){return e.instance===t}),r=[];return(null==n?void 0:n.status)==="ready"&&(r=e.attributes.rules.map(function(e){return e.values}).reduce(function(e,t){return e.concat(t)},[])),e.attributes.shortcut_id&&r.push(e.attributes.shortcut_id),r},eB=function(e){return Object.keys(e.attributes.permissions).map(function(t){return e.attributes.permissions[t].values?e.attributes.permissions[t].values:[]}).reduce(function(e,t){return[].concat(p()(e),p()(t))},[])},eU=function(e){return!0===e.attributes.drive},eV=function(e){return e.attributes.owner&&1===e.attributes.members.filter(function(e){return"revoked"!==e.status}).length},eH=function(e,t){var n=e.attributes.members.find(eu(t));return!e.attributes.owner&&n&&"revoked"===n.status},eq=function(e,t){return e.attributes.rules.find(function(e){return -1!==e.values.indexOf(t)})},eW=function(e){return e&&"sync"===e.update&&"sync"===e.remove?et:en},eG=function(e){return e&&"sync"===e.update&&"revoke"===e.remove?et:en},eZ=function(e,t){if(!e)return null;var n=eq(e,t),r=eW(n),a=eG(n);return r===et||a===et?et:en},eK=function(e,t){var n=eq(e,t),r=eW(n),a=eG(n);return r!==et&&a!==et},eQ=function(e,t,n){var r=eY(e,t);return"Notes"===t?"".concat(r,"public/?sharecode=").concat(n):"".concat(r,"public?sharecode=").concat(n)},eY=function(e,t){var n=e.apps;switch(t){case"Notes":return eJ(n,"notes");case"Files":case"Document":return eJ(n,"drive");case"Albums":return eJ(n,"photos");default:throw Error("Sharing link: don't know which app to use for doctype ".concat(t))}},eJ=function(e,t){var n=e.find(function(e){return(null==e?void 0:e.slug)===t&&(null==e?void 0:e.state)==="ready"});if(!n)throw Error("Sharing link: app ".concat(t," not installed"));return n.links.related},e$=function(e){var t=[];return e.data?(e.data.forEach(function(e){e.attributes&&e.attributes.active&&t.push.apply(t,p()(eF(e)))}),t):[]},eX=function(e,t,n){var r,a=ej(e,t);if(!a)return null;var i=null==(r=a.attributes.members)?void 0:r.find(eu(n));return i?i.read_only?en:et:null},e0=(r=y()(T().mark(function e(t,n,r){var a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.links&&t.links.next)){e.next=6;break}return e.next=3,r.fetchPermissionsByLink(t);case 3:return n(es((a=e.sent).data)),e.abrupt("return",e0(a,n,r));case 6:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)}),e1=(a=y()(T().mark(function e(t,n,r){var a,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.map(function(e){return e.dir_id}).filter(function(e,t,n){return n.indexOf(e)===t}),e.next=3,t.collection(n).all({keys:a});case 3:return i=e.sent,o=r.map(function(e){return i.data.find(function(t){return t.id===e.dir_id})}).filter(function(e){return void 0!==e}).map(function(e){var t=e.path;return"/"===t?"/".concat(e.name):"".concat(t,"/").concat(e.name)}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)}),e2=n(16193),e3=n.n(e2);let e4=function(e){return R.createElement("svg",e3()({viewBox:"0 0 16 12"},e),R.createElement("path",{d:"M12.9 4.693A4.993 4.993 0 003.567 3.36 3.996 3.996 0 000 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0016 8a3.317 3.317 0 00-3.1-3.307zM12.667 10H4a2.666 2.666 0 01-2.667-2.667 2.649 2.649 0 012.374-2.646l.713-.074.333-.633A3.646 3.646 0 018 2a3.669 3.669 0 013.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2zM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667z"}))};var e6=n(63468);let e5=function(e){return R.createElement("svg",e3()({viewBox:"0 0 16 12"},e),R.createElement("path",{d:"M12.9 4.693A4.993 4.993 0 003.567 3.36 3.996 3.996 0 000 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0016 8a3.317 3.317 0 00-3.1-3.307zM12.667 10H4a2.666 2.666 0 01-2.667-2.667 2.649 2.649 0 012.374-2.647l.713-.073.333-.633A3.646 3.646 0 018 2a3.669 3.669 0 013.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2zM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667z"}))};function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e9=n(47285),te=n.n(e9),tt="undefined"!=typeof window&&window.minilog||te(),tn=tt("cozy-sharing");tt.suggest.deny("cozy-sharing","log"),tt.suggest.deny("cozy-sharing","info");var tr=function(e,t){return e?e8(e8({},e),{},{meta:{rev:t._rev},attributes:e8({},t)}):e8(e8({id:t._id},t),{},{attributes:e8({id:t._id},t),type:"io.cozy.sharings"})},ta=(i=y()(T().mark(function e(t){var n,r,a,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.doctype,a=t.dispatch,i=t.docsId,o=t.sharing,e.next=3,Promise.all(i.map(function(){var e=y()(T().mark(function e(t){var i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"io.cozy.files"!==r){e.next=7;break}return e.next=4,n.query((0,j.Q)(r).getById(t));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:if(i=e.t0,e.t1=i,!e.t1){e.next=17;break}if(e.t2=i.data.path,e.t2){e.next=16;break}return e.next=15,e1(n,r,[i.data]);case 15:e.t2=e.sent;case 16:e.t1=e.t2;case 17:a(ea(o,e.t1)),e.next=24;break;case 21:e.prev=21,e.t3=e.catch(0),tn.log(e.t3);case 24:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),ti=function(e,t){e(ei(t))},to=function(e){window.open(e,"_blank")},tc=function(e){var t=e.link,n=e.isSharingShortcutCreated,r=e.isShortLabel,a=e.t;return"https://sign-up.twake.app"===t?{icon:e5,label:a("Share.create-cozy",{smart_count:r?1:2})}:n?{icon:e6.A,label:a("Share.banner.sync_to_mine",{smart_count:r?1:2})}:{icon:e4,label:a("Share.banner.add_to_mine",{smart_count:r?1:2})}},ts=k()(function e(){b()(this,e),this.isRunning=!1,this.queue=[]},[{key:"push",value:function(e){this.queue.push(e),this.isRunning||this.run()}},{key:"run",value:(o=y()(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isRunning=!0;case 1:if(!(this.queue.length>0)){e.next=7;break}return t=this.queue.shift(),e.next=5,t.function(t.arguments);case 5:e.next=1;break;case 7:this.isRunning=!1;case 8:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}]),tu=n(41433),tl=j.models.contact,td=function(e){return"io.cozy.contacts"===e._type},tf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(td(e))return tl.getInitials(e);var n=e.public_name||e.name||e.email;return n&&n[0].toUpperCase()||t},tp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return td(e)?tl.getDisplayName(e):e.public_name||e.name||e.email||t};let th=tu.Contact;var tm=j.fetchPolicies.olderThan(54e4),tv=function(){return{definition:(0,j.Q)("io.cozy.settings").getById("io.cozy.settings.instance"),options:{as:"io.cozy.settings/instance",singleDocData:!0}}};function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tb=I()("SharingProvider"),tw="io.cozy.sharings",tk=function(e){var t;function n(e,t){b()(this,n),r=n,a=[e,t],r=E()(r),g=O()(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?r.apply(this,a):Reflect.construct(r,a||[],E()(this).constructor)),A()(g,"dispatch",function(e){return g.setState(function(t){return tg(tg({},t),ek(t,e))})}),A()(g,"initialize",function(){if(!g.isInitialized){var e=g.props.client;g.fetchAllSharings(),e.plugins.realtime?(g.realtime=e.plugins.realtime,g.realtime.subscribe("created",tw,g.handleCreateOrUpdateSharings),g.realtime.subscribe("updated",tw,g.handleCreateOrUpdateSharings)):console.warn("You should register the realtime plugin to your CozyClient instance see https://docs.cozy.io/en/cozy-realtime/#example"),g.isInitialized=!0}}),A()(g,"handleCreateOrUpdateSharings",(i=y()(T().mark(function e(t){var n,r,a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=g.props).client,a=n.doctype,o=tr(i=ej(g.state,t._id),t),i?ti(g.dispatch,o):(c=eL(o,r.getStackClient().uri),g.synchronousJobQueue.push({function:ta,arguments:{client:r,doctype:a,dispatch:g.dispatch,docsId:c,sharing:o}}));case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})),A()(g,"share",(o=y()(T().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p,h,m;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.document,a=t.recipients,i=t.readOnlyRecipients,o=t.description,c=t.openSharing,s=t.sharedDrive,l=(u=g.props).client,d=u.doctype,!(f=eT(g.state,r.id))){e.next=10;break}return e.next=6,g.addRecipients({document:f,recipients:a,readOnlyRecipients:i});case 6:return p=e.sent,e.next=9,g.state.onShared({document:r,recipients:a,readOnlyRecipients:i});case 9:return e.abrupt("return",p);case 10:return h=null!=(n=g.props.previewPath)?n:"/preview",e.next=13,g.sharingCol.create({document:r,recipients:a,readOnlyRecipients:i,description:o,previewPath:h,openSharing:c,sharedDrive:s});case 13:if(m=e.sent.data,e.t0=g,e.t1=ea,e.t2=m,e.t3=r.path,e.t3){e.next=23;break}return e.next=22,e1(l,d,[r]);case 22:e.t3=e.sent;case 23:return e.t4=e.t3,e.t5=(0,e.t1)(e.t2,e.t4),e.t0.dispatch.call(e.t0,e.t5),e.next=28,g.state.onShared({document:r,recipients:a,readOnlyRecipients:i});case 28:return e.abrupt("return",m);case 29:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),A()(g,"addRecipients",(c=y()(T().mark(function e(t){var n,r,a,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,r=t.recipients,a=t.readOnlyRecipients,e.next=3,g.sharingCol.addRecipients({document:n,recipients:r,readOnlyRecipients:a});case 3:i=e.sent,g.dispatch(ei(i.data));case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})),A()(g,"renameSharedDrive",(s=y()(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(g.state,t.id),e.next=3,g.sharingCol.renameSharedDrive(r,n);case 3:r.description=n,g.dispatch(ei(r));case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})),A()(g,"revokeAllRecipients",(u=y()(T().mark(function e(t){var n,r,a,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=g.props).client,a=n.doctype,i=e_(g.state,t.id),o=eT(g.state,t.id),e.next=5,g.sharingCol.revokeAllRecipients(o);case 5:i.map(function(){var e=y()(T().mark(function e(n,i){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=g,e.t1=eo,e.t2=o,e.t3=i,e.t4=t.path,e.t4){e.next=9;break}return e.next=8,e1(r,a,[t]);case 8:e.t4=e.sent;case 9:e.t5=e.t4,e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.dispatch.call(e.t0,e.t6);case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})),A()(g,"revoke",(l=y()(T().mark(function e(t,n,r){var a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(a=g.props).client,o=a.doctype,c=ej(g.state,n),e.next=4,g.sharingCol.revokeRecipient(c,r);case 4:if(e.t0=g,e.t1=eo,e.t2=c,e.t3=r,e.t4=t.path,e.t4){e.next=13;break}return e.next=12,e1(i,o,[t]);case 12:e.t4=e.sent;case 13:e.t5=e.t4,e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.dispatch.call(e.t0,e.t6);case 16:case"end":return e.stop()}},e)})),function(e,t,n){return l.apply(this,arguments)})),A()(g,"revokeGroup",(d=y()(T().mark(function e(t,n,r){var a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(a=g.props).client,o=a.doctype,c=ej(g.state,n),e.next=4,g.sharingCol.revokeGroup(c,r);case 4:if(e.t0=g,e.t1=ec,e.t2=c,e.t3=r,e.t4=t.path,e.t4){e.next=13;break}return e.next=12,e1(i,o,[t]);case 12:e.t4=e.sent;case 13:e.t5=e.t4,e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.dispatch.call(e.t0,e.t6);case 16:case"end":return e.stop()}},e)})),function(e,t,n){return d.apply(this,arguments)})),A()(g,"revokeSelf",(f=y()(T().mark(function e(t){var n;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=eA(g.state,t.id),e.next=3,g.sharingCol.revokeSelf(n);case 3:g.dispatch({type:Y,sharing:n});case 4:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})),A()(g,"shareByLink",(p=y()(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.permissionCol.createSharingLink(t,n);case 2:return r=e.sent,g.dispatch(es(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e,t){return p.apply(this,arguments)})),A()(g,"updateDocumentPermissions",(h=y()(T().mark(function e(t,n){var r,a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.verbs,a=n.expiresAt,i=n.password,o=eM(g.state,t.id),e.next=4,Promise.all(o.map(function(){var e=y()(T().mark(function e(t){var n,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(n=t.attributes.permissions).map(function(e){n[e].verbs=r}),e.next=4,g.permissionCol.add(t,n,{expiresAt:a,password:i});case 4:return o=e.sent,g.dispatch({type:$,data:o.data}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)})),A()(g,"revokeSharingLink",(m=y()(T().mark(function e(t){var n;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=eM(g.state,t.id),e.next=3,Promise.all(n.map(function(e){return g.permissionCol.destroy(e)}));case 3:g.dispatch({type:X,permissions:n});case 4:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)})),A()(g,"hasWriteAccess",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=g.props.client.getStackClient().uri;return t?eX(g.state,t,n)===et:!g.state.byDocId||!g.state.byDocId[e]||ex(g.state,e)||eD(g.state,e,n)===et});var r,a,i,o,c,s,u,l,d,f,p,h,m,v,g,w=e.client.getStackClient().uri,k=e.documentType||"Document",x=e.onShared||function(){};g.fetchAllSharings=g.fetchAllSharings.bind(g),g.state={byDocId:{},sharings:[],permissions:[],sharedFolderPaths:[],documentType:k,isOwner:function(e){return ex(g.state,e)},isSharedDrive:function(e){var t;return t=g.state,!!t.byDocId[e]&&0!==t.byDocId[e].sharings.length&&!0===ej(t,t.byDocId[e].sharings[0]).attributes.drive},canReshare:function(e){return eO(g.state,e,w)},getOwner:function(e){return e_(g.state,e).find(function(e){return"owner"===e.status})},getSharingType:function(e){return eD(g.state,e,w)},getSharingForSelf:function(e){return eA(g.state,e)},getRecipients:function(e){return e_(g.state,e)},getSharedParentPath:function(e){var t;return eN(t=g.state,e)?t.sharedPaths.find(function(t){return e.startsWith(t)}):null},getDocumentPermissions:function(e){return eM(g.state,e)},getSharingLink:function(e){return eP(g.state,e,k)},hasSharedParent:function(e){return eN(g.state,e)},hasSharedChild:function(e){var t;return t=g.state,!!t.sharedPaths&&t.sharedPaths.some(function(t){return 0===t.indexOf("".concat(e,"/"))})},share:g.share,onShared:x,revoke:g.revoke,revokeGroup:g.revokeGroup,revokeSelf:g.revokeSelf,shareByLink:g.shareByLink,updateDocumentPermissions:g.updateDocumentPermissions,revokeSharingLink:g.revokeSharingLink,hasLoadedAtLeastOnePage:!1,allLoaded:!1,revokeAllRecipients:g.revokeAllRecipients,refresh:g.fetchAllSharings,hasWriteAccess:g.hasWriteAccess,renameSharedDrive:g.renameSharedDrive},g.isPublic=null!=(v=e.isPublic)&&v,g.realtime=null,g.isInitialized=!1,g.synchronousJobQueue=new ts;var _=e.client;return g.sharingCol=_.collection(tw),g.permissionCol=_.collection("io.cozy.permissions"),g}return S()(n,e),k()(n,[{key:"componentDidMount",value:function(){var e=this.props.client;e.isLogged?this.initialize():e.on("plugin:realtime:login",this.initialize)}},{key:"componentWillUnmount",value:function(){this.realtime&&(this.realtime.unsubscribe("created",tw,this.handleCreateOrUpdateSharings),this.realtime.unsubscribe("updated",tw,this.handleCreateOrUpdateSharings))}},{key:"fetchAllSharings",value:(t=y()(T().mark(function e(){var t,n,r,a,i,o,c,s,u,l,d,f;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPublic){e.next=4;break}return tb.warn("fetchAllSharings is not allowed in public context."),this.setState({allLoaded:!0}),e.abrupt("return");case 4:return n=(t=this.props).doctype,r=t.client,e.next=7,Promise.all([this.sharingCol.findByDoctype(n,{withSharedDocs:!1}),this.permissionCol.findLinksByDoctype(n),r.fetchQueryAndGetFromState({definition:(0,j.Q)("io.cozy.apps"),options:{as:"io.cozy.apps",fetchPolicy:tm}})]);case 7:return a=e.sent,o=(i=m()(a,3))[0],c=i[1],s=i[2],this.dispatch(er({instanceUri:r.options.uri,sharings:o.data,permissions:c.data,apps:s.data})),this.setState({hasLoadedAtLeastOnePage:!0}),e.next=16,e0(c,this.dispatch,this.permissionCol);case 16:if("io.cozy.files"!==n){e.next=26;break}return u=e$(o),e.next=20,r.collection(n).all({keys:u});case 20:return d=(l=e.sent).data.filter(function(e){return"directory"===e.type&&!e.trashed}).map(function(e){return e.path}),e.next=24,e1(r,n,l.data.filter(function(e){return"directory"!==e.type&&!e.trashed}));case 24:f=e.sent,this.dispatch({type:ee,paths:[].concat(p()(d),p()(f))});case 26:this.setState({allLoaded:!0});case 27:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return R.createElement(N.Provider,{value:tg({},this.state)},this.props.children)}}])}(R.Component);let tx=(0,j.withClient)(tk);var tO=n(76819),t_={en:n(54625),fr:n(40282),ru:n(33571),vi:n(91635)},tE=function(){return(0,tO.getI18n)(void 0,function(e){return t_[e]})};let tC=function(e){return(0,tO.translate)()(function(t){return R.createElement(tO.I18n,{dictRequire:function(e){return t_[e]},lang:t.lang},R.createElement(e,t))})};var tS=function(){return(0,R.useContext)(N)},tP=function(e,t){var n=(0,R.useState)(t.path?t.path:null),r=m()(n,2),a=r[0],i=r[1];return(0,R.useEffect)(function(){y()(T().mark(function n(){return T().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"directory"!==t.type){n.next=4;break}return n.abrupt("return",i(t.path));case 4:return n.next=6,e1(e,t._type,[t]);case 6:i(n.sent[0]),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(0);case 12:case"end":return n.stop()}},n,null,[[0,10]])}))()},[e,t]),a},tA=function(e){var t=e.docId,n=e.children,r=e.driveId;return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.hasWriteAccess,i=e.byDocId,o=e.isOwner,c=e.getRecipients,s=e.getSharingLink,u=e.refresh,l=e.revokeSelf;return n({hasWriteAccess:a(t,r),isShared:void 0!==i&&i[t],isSharedByMe:void 0!==i&&i[t]&&o(t),isSharedWithMe:void 0!==i&&i[t]&&!o(t),recipients:c(t),link:null!==s(t),onFileDelete:u,onLeave:l})})},tD=n(53978),tT=n.n(tD),tR=n(27998),tj=n(90774);let tM=function(e){return R.createElement("svg",e3()({viewBox:"0 0 16 8"},e),R.createElement("path",{d:"M12 0H8.8v1.6H12c1.32 0 2.4 1.08 2.4 2.4 0 1.32-1.08 2.4-2.4 2.4H8.8V8H12c2.208 0 4-1.792 4-4s-1.792-4-4-4zM7.2 6.4H4C2.68 6.4 1.6 5.32 1.6 4c0-1.32 1.08-2.4 2.4-2.4h3.2V0H4C1.792 0 0 1.792 0 4s1.792 4 4 4h3.2V6.4zM4.8 3.2h6.4v1.6H4.8V3.2z"}))};var tI=n(97200),tN=n.n(tI),tz=n(5556),tF=n.n(tz),tL=n(30873),tB=function(e){return R.createElement(tL.A,e3()({place:"bottom",effect:"solid",className:"tooltip__shared-tooltip___7Dys3"},e),e.children)},tU=function(e){function t(){var e,n;return b()(this,t),e=t,n=arguments,e=E()(e),O()(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?e.apply(this,n):Reflect.construct(e,n||[],E()(this).constructor))}return S()(t,e),k()(t,[{key:"render",value:function(){var e=this.context.t,t=this.props,n=t.recipientNames,r=t.cutoff,a=void 0===r?4:r;return R.createElement("ul",{className:"tooltip__shared-tooltip-list___jD5hi"},n.slice(0,a).map(function(e,t){return R.createElement("li",{key:"key_name_".concat(e,"_").concat(t)},e)}),n.length>a&&R.createElement("li",null,e("Share.members.others",{smart_count:n.slice(a).length})))}}])}(R.Component);A()(tU,"contextTypes",{t:tF().func.isRequired}),tU.propTypes={recipientNames:tF().arrayOf(tF().string),cutoff:tF().number},tU.defaultProps={recipientNames:[],cutoff:4};var tV=function(e){var t=e.className,n=e.size,r=e.extraRecipients,a=void 0===r?[]:r,i=tN()("extra-recipients-avatar-");return R.createElement("span",{"data-tip":!0,"data-for":i,className:"u-db"},R.createElement(tR.default,{className:t,size:n,color:"none",border:!0,innerBorder:!0},"+".concat(Math.min(a.length,99))),R.createElement(tB,{id:i},R.createElement(tU,{recipientNames:a})))};tV.propTypes={extraRecipients:tF().arrayOf(tF().string),size:tF().oneOfType([tF().string,tF().number]),className:tF().string},tV.defaultProps={extraRecipients:[],size:"m"};var tH=n(23566),tq=function(e){var t=e.size,n=e.className;return R.createElement(tR.default,{size:t,className:n,border:!0},R.createElement(tj.default,{icon:tH.default}))},tW=["recipient"];function tG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tZ=function(e){var t=e.recipient,n=F()(e,tW),r=(0,j.useClient)();if(!t)return tn.warn("RecipientAvatar: recipient is missing, see props:",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tG(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({recipient:t},n)),null;var a=t.avatarPath&&t.status?"".concat(r.options.uri).concat(t.avatarPath,"?v=").concat(t.status):null;return R.createElement(tR.default,n,a?R.createElement("img",{width:"100%",height:"100%",src:a}):tf(t))},tK=function(e){var t=e.recipients,n=e.isOwner,r=e.client;return t.filter(function(e){return n?"owner"!==e.status:e.instance!==r.options.uri})},tQ=function(e){var t=e.recipients,n=e.link,r=e.size,a=e.className,i=e.onClick,o=e.isOwner,c=e.showMeAsOwner,s=(0,j.useClient)(),u=c?t.slice().reverse():tK({recipients:t,isOwner:o,client:s}).reverse(),l=u.length>3,d=u.slice(3).map(function(e){return tp(e)}),f=u.slice(0,3);return R.createElement("div",{className:tT()("recipient__recipients-avatars___1npjD",A()({},"recipient__--interactive___160Bp",i),a),onClick:i},n&&R.createElement("span",{"data-testid":"AvatarList-link"},R.createElement(tR.default,{color:"none",border:!0,innerBorder:!0,size:r},R.createElement(tj.default,{icon:tM}))),l&&R.createElement("span",{"data-testid":"AvatarList-plusX"},R.createElement(tV,{extraRecipients:d,size:r})),f.map(function(e){return e.members?R.createElement("span",{"data-testid":"AvatarList-avatar".concat("owner"===e.status?"-owner":""),key:e.index},R.createElement(tq,{size:r})):R.createElement("span",{"data-testid":"AvatarList-avatar".concat("owner"===e.status?"-owner":""),key:e.index},R.createElement(tZ,{recipient:e,size:r}))}))},tY=tC(function(e){var t=e.docId,n=e.className,r=e.noSharedClassName,a=e.onClick,i=e.showMeAsOwner;return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.byDocId,c=e.getRecipients,s=e.getSharingLink,u=e.isOwner;return o&&o[t]?R.createElement(tQ,{className:n,recipients:c(t),link:null!==s(t),onClick:a,isOwner:u(t),size:"s",showMeAsOwner:i}):R.createElement("span",{className:n+" "+r},"â€”")})}),tJ=n(91292),t$={"shared-badge":"badge__shared-badge___2jGsy","--small":"badge__--small___2VMyY","shared-badge-icon":"badge__shared-badge-icon___3s9t1","--xsmall":"badge__--xsmall___2cEGG","--by-me":"badge__--by-me___3aTHb","--with-me":"badge__--with-me___3jW7R"};let tX=function(e){var t=e.byMe,n=e.className,r=e.small,a=e.xsmall;return R.createElement("div",{className:tT()(t$["shared-badge"],n,A()({},t$["--small"],r),A()({},t$["--xsmall"],a),t$[t?"--by-me":"--with-me"])},R.createElement(tj.default,{icon:tJ.default,color:"var(--primaryContrastTextColor)",className:t$["shared-badge-icon"]}))};var t0=["docId"],t1=tC(function(e){var t=e.docId,n=F()(e,t0);return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.byDocId,a=e.isOwner;return r&&r[t]?R.createElement(tX,e3()({byMe:a(t)},n)):null})}),t2=["docId"],t3=tC(function(e){var t=e.docId,n=F()(e,t2);return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.byDocId,a=e.getOwner;return r&&r[t]?R.createElement(tZ,e3()({recipient:a(t)},n)):null})}),t4=["docId","onClick"],t6=tC(function(e){var t=e.docId,n=e.onClick,r=F()(e,t4);return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.byDocId,i=e.getRecipients,o=e.getSharingLink,c=e.isOwner;return a&&a[t]?R.createElement(tQ,e3()({recipients:i(t),link:null!==o(t),onClick:n,isOwner:c(t)},r)):null})}),t5=n(27282),t7=n(72637),t8=n(38143),t9=n(39274),ne=n(1042),nt=n(54215);let nn=function(e){var t,n,r=e.status,a=e.isMe,i=e.instance,o=e.typographyProps,c=(0,tO.useI18n)().t,s=!a&&"mail-not-sent"===r;return a||"ready"===r||"owner"===r?(t=i,n=e5):s?(t=c("Share.status.mail-not-sent"),n=nt.default):(t=c(["pending","seen"].includes(r)?"Share.status.".concat(r):"Share.status.pending"),n="seen"===r?ne.A:nt.default),R.createElement("div",{className:"u-flex u-flex-items-center"},R.createElement(tj.default,{icon:n,size:10}),"\xa0",R.createElement(t9.default,e3()({variant:"caption",color:"textSecondary"},o),t))};function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ni="Share.contacts.defaultDisplayName",no=function(){var e=(0,U.default)("sharing.recipients-limit");return null!==e?e:100},nc=function(e,t){var n=no();return e.length+t.length>n},ns=function(e,t){var n=(t._type===tu.Group.doctype?t.members:[t]).filter(function(e){return e.email&&e.email.length>0||e.cozy&&e.cozy.length>0}).filter(function(t){return!e.find(function(e){return e===t})});return[].concat(p()(e),p()(n))},nu=function(e){var t=e.nbMember,n=e.nbMemberReady,r=e.t,a=e.isUserInsideMembers;return r("GroupRecipient.secondary",{memberCount:t===n?t:[n,t].join("/"),smart_count:t})+(a?" (".concat(r("GroupRecipient.secondary_you"),")"):"")},nl=["recipient","isOwner"],nd=function(e){var t,n=e.recipient,r=e.isOwner,a=F()(e,nl),i=(0,tO.useI18n)().t,o=(0,j.useClient)(),c="owner"===n.status,s=r&&c||n.instance===o.options.uri;return R.createElement(t5.default,{size:"small",ellipsis:!0},R.createElement(t7.default,null,R.createElement(tZ,e3()({size:"m",recipient:n},a))),R.createElement(t8.default,{primary:s?i("Share.recipients.you"):tp(n,i(ni)),secondary:R.createElement(nn,{status:n.status,isMe:s,instance:n.instance,typographyProps:{noWrap:!0}})}),R.createElement(t9.default,{className:"u-flex-shrink-0",variant:"body2"},c?i("Share.status.".concat(n.status)).toLowerCase():i("Share.type.".concat(null!=(t=n.type)?t:"one-way")).toLowerCase()))};nd.propTypes={recipient:tF().object,isOwner:tF().bool};let nf=tC(nd);var np=function(e){return Object.values(B()(e,"[0].attributes.permissions",{})).filter(function(e){return j.models.permission.isReadOnly(e)}).length>0},nh=function(e){var t;return!!(null==e||null==(t=e[0])||null==(t=t.attributes)?void 0:t.expires_at)},nm=function(e){var t;return null==e||null==(t=e[0])||null==(t=t.attributes)?void 0:t.expires_at},nv=function(e){var t;return!!(null==e||null==(t=e[0])||null==(t=t.attributes)?void 0:t.password)},ny=function(e){var t=e.permissions,n=e.link,r=(0,tO.useI18n)().t;if(!n)return null;var a=np(t);return R.createElement(t5.default,{size:"small",ellipsis:!0},R.createElement(t7.default,null,R.createElement(tR.default,{size:"m",color:"none",border:!0,innerBorder:!0},R.createElement(tj.default,{icon:tM}))),R.createElement(t8.default,{primary:r("Share.recipients.anyoneWithTheLink"),secondary:n}),R.createElement(t9.default,{className:"u-flex-shrink-0",variant:"body2"},r("Share.type.".concat(a?"one-way":"two-way")).toLowerCase()))};ny.propTypes={permissions:tF().array,link:tF().string};let ng=tC(ny),nb=tC(function(){var e,t=(0,j.useClient)(),n=tv(),r=(0,j.useQuery)(n.definition,n.options);return(0,j.hasQueryBeenLoaded)(r)&&R.createElement(nf,{recipient:{status:"owner",instance:t.options.uri,public_name:null==r||null==(e=r.data)||null==(e=e.attributes)?void 0:e.public_name},isOwner:!0})});var nw=function(e){var t=e.name,n=e.details;return R.createElement("div",{className:tT()("recipient__recipient-idents___3s7rw","u-ml-1")},R.createElement("div",{className:"recipient__recipient-user___1THIU"},t),R.createElement("div",{className:"recipient__recipient-details___2fZfc"},n))};nw.propTypes={name:tF().string.isRequired,details:tF().string},nw.defaultProps={details:"-"};var nk={recipient:"recipient__recipient___2DmZI","recipients-list-light":"recipient__recipients-list-light___Vq4op","recipient-idents":"recipient__recipient-idents___3s7rw","recipient-user":"recipient__recipient-user___1THIU","recipient-details":"recipient__recipient-details___2fZfc",avatar:"recipient__avatar___2LnIV","link-recipient-icon-circle":"recipient__link-recipient-icon-circle___3ZTU-","recipients-avatars":"recipient__recipients-avatars___1npjD","--interactive":"recipient__--interactive___160Bp",spin:"recipient__spin___2tYv3",shake:"recipient__shake___TGyPp"},nx=function(e,t){var n=e.extraRecipients,r=t.t;return R.createElement("div",{className:nk.recipient},R.createElement(tV,{extraRecipients:n.map(function(e){return tp(e)})}),R.createElement("div",{className:nk["recipient-ident-status"]},R.createElement(nw,{name:r("Share.members.otherContacts",n.length)})))};nx.contextTypes={t:tF().func.isRequired};var nO=["instance"],n_={recipient:"recipient__recipient___2DmZI","recipients-list-light":"recipient__recipients-list-light___Vq4op","recipient-idents":"recipient__recipient-idents___3s7rw","recipient-user":"recipient__recipient-user___1THIU","recipient-details":"recipient__recipient-details___2fZfc",avatar:"recipient__avatar___2LnIV","link-recipient-icon-circle":"recipient__link-recipient-icon-circle___3ZTU-","recipients-avatars":"recipient__recipients-avatars___1npjD","--interactive":"recipient__--interactive___160Bp",spin:"recipient__spin___2tYv3",shake:"recipient__shake___TGyPp"},nE=function(e){var t=e.instance,n=F()(e,nO),r=tp(n);return R.createElement("div",{className:n_.recipient},R.createElement(tR.default,null,tf(n)),R.createElement("div",{className:n_["recipient-ident-status"]},R.createElement(nw,{name:r,details:t})))};let nC=function(e){var t=e.recipients,n=e.className;return R.createElement("div",{className:tT()("recipient__recipients-list-light___Vq4op",n)},t.slice(0,2).map(function(e,t){return R.createElement(nE,e3()({},e,{key:"key_recipient__".concat(t)}))}),t.length>2&&R.createElement(nx,{extraRecipients:t.slice(2)}))};var nS=["docId"],nP=tC(function(e){var t=e.docId,n=F()(e,nS);return R.createElement(N.Consumer,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.byDocId,a=e.isOwner,i=e.getRecipients;return r&&r[t]&&a(t)?R.createElement(nC,e3()({recipients:i(t).filter(function(e){return"owner"!==e.status})},n)):null})}),nA=n(36040),nD=["label","onClick","className"],nT=["label","onClick","className"],nR=["label","onClick","className"],nj=function(e){var t=e.label,n=e.onClick,r=e.className,a=F()(e,nT);return R.createElement(nA.default,e3()({"data-test-id":"share-by-me-button",className:tT()("button__coz-btn-shared___9MFbY",r),onClick:function(){return n()},icon:R.createElement(tj.default,{icon:tJ.default}),label:t},a))},nM=function(e){var t=e.label,n=e.onClick,r=e.className,a=F()(e,nR);return R.createElement(nA.default,e3()({className:tT()("button__coz-btn-sharedWithMe___25PBh",r),onClick:function(){return n()},startIcon:R.createElement(tj.default,{icon:tJ.default}),label:t},a))};let nI=function(e){var t=e.label,n=e.onClick,r=e.className,a=F()(e,nD);return R.createElement(nA.default,e3()({"data-test-id":"share-button",variant:"secondary",className:r,onClick:function(){return n()},startIcon:R.createElement(tj.default,{icon:tJ.default}),label:t},a))};var nN=["docId","useShortLabel"];function nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nz(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nL=tC(function(e){var t=e.docId,n=e.useShortLabel,r=F()(e,nN),a=(0,tO.useI18n)().t,i=nF(nF({},r),{},{t:null,f:null,lang:null});return R.createElement(N.Consumer,null,function(e){var r=e.byDocId,o=e.documentType,c=e.isOwner;return r[t]?c(t)?R.createElement(nj,e3()({label:n?a("".concat(o,".share.shared")):a("".concat(o,".share.sharedByMe"))},i)):R.createElement(nM,e3()({label:n?a("".concat(o,".share.shared")):a("".concat(o,".share.sharedWithMe"))},i)):R.createElement(nI,e3()({label:a("".concat(o,".share.cta"))},i))})}),nB=n(4493),nU=n(17007),nV=n(57759),nH=n(62243),nq=n.n(nH),nW=n(90978),nG=n(39968),nZ=j.models.contact,nK=function(e){var t,n,r,a=e.contactOrGroup,i=(0,tO.useI18n)().t,o=a._type===tu.Group.doctype;return o?(n=a.name,t="G",r=i("Share.members.count",{smart_count:a.members.length.toString()})):(n=tp(a),t=tf(a),r=nZ.getPrimaryCozy(a)),R.createElement(t5.default,{button:!0},R.createElement(t7.default,null,o?R.createElement(tq,{size:"m"}):R.createElement(tR.default,{size:"m"},t)),R.createElement(t8.default,{primary:n,secondary:r&&""!==r?r:"-"}))},nQ=tF().shape({_type:tF().string.isRequired,email:tF().string.isRequired});nK.propTypes={contactOrGroup:tF().oneOfType([th.propType,tu.Group.propType,nQ]).isRequired,contacts:tF().arrayOf(th.propType)};var nY=function(e){return/([\w.+-]+@[\w.-]+\.[\w-]+)/i.test(String(e).toLowerCase())},nJ=function(e,t){if(!t.email)return!1;var n=RegExp(e,"i");return Array.isArray(t.email)?t.email.some(function(e){return n.test(e.address)}):n.test(t.email)},n$=function(e,t){if(!t.cozy&&!t.url)return!1;var n=RegExp(e,"i");return t.cozy&&Array.isArray(t.cozy)?t.cozy.some(function(e){return n.test(e.url)}):n.test(t.url)},nX={container:"autosuggest__container___1Yro7",suggestionsContainer:"autosuggest__suggestionsContainer___3EDuG",suggestionsContainerOpen:"autosuggest__suggestionsContainerOpen___35OCI",input:"autosuggest__input___1Ea-3",suggestionsList:"autosuggest__suggestionsList___3uRpV",suggestionHighlighted:"autosuggest__suggestionHighlighted___1vpXJ",suggestionInput:"autosuggest__suggestionInput___3SK9w",recipientsContainer:"autosuggest__recipientsContainer___1JYxA",recipientChip:"autosuggest__recipientChip___d5I3R"},n0=function(e){var t=e.loading,n=e.contactsAndGroups,r=e.recipients,a=e.onPick,i=e.onRemove,o=e.placeholder,c=(0,R.useState)(""),s=m()(c,2),u=s[0],l=s[1],d=(0,R.useState)([]),f=m()(d,2),p=f[0],h=f[1],v=(0,R.useState)(!1),y=m()(v,2),g=y[0],b=y[1],w=(0,R.useState)(!1),k=m()(w,2),x=k[0],O=k[1],_=(0,R.useRef)(null),E=function(e){var t=e.trim().toLowerCase();return 0===t.length?[]:n.filter(function(e){return e._type===tu.Group.doctype&&RegExp(t,"i").test(e.name)||!!e.fullname&&RegExp(t,"i").test(e.fullname)||nJ(t,e)||n$(t,e)})},C=function(e){(("Enter"===e.key||13===e.keyCode)&&nY(u)||("Space"===e.key||32===e.keyCode)&&nY(u))&&P({email:u})},S=function(e){var t=e.key,n=e.keyCode;r.length>0&&""===u&&("Backspace"===t||8===n||"Delete"===t||46===n)&&document.getElementById("recipient_".concat(r.length-1)).focus()},P=function(e){var t;a(e),l(""),null==_||null==(t=_.current)||null==(t=t.input)||t.focus()},A=function(e){var t;i(e),null==_||null==(t=_.current)||null==(t=t.input)||t.focus()};return R.createElement(nq(),{ref:_,theme:nX,suggestions:p.slice(0,20),getSuggestionValue:function(e){return e},onSuggestionsFetchRequested:function(e){var t=e.value,n=E(t);h(0===n.length&&nY(t)?[{email:t,_type:th.doctype}]:n)},onSuggestionsClearRequested:function(){h([])},renderSuggestion:function(e){return R.createElement(nK,{contactOrGroup:e})},renderInputComponent:function(e){return R.createElement("div",{className:nX.recipientsContainer},r.map(function(e,t){var n=e._type===tu.Group.doctype,r=tf(e),a=tp(e);return R.createElement(nW.default,{id:"recipient_".concat(t),key:"key_recipient_".concat(t),avatar:n?R.createElement(tq,{size:"xs"}):R.createElement(tR.default,{size:"xs"},r),label:a,onDelete:function(){A(e)},className:nX.recipientChip})}),R.createElement("input",e3()({},e,{onKeyPress:C,onKeyUp:S})),t&&x?R.createElement(nG.Spinner,{color:"var(--primaryColor)"}):null)},highlightFirstSuggestion:!0,inputProps:{onFocus:function(){O(!0)},onChange:function(e,t){var n=t.newValue,r=t.method;if(g){var a="string"==typeof n?n.match(/([\w.+-]+@[\w.-]+\.[\w-]+)/gi):null;a&&a.map(function(e){P({email:e})}),b(!1)}else"object"!=typeof n?l(n):("click"===r||"enter"===r)&&P(n)},onPaste:function(){b(!0)},onBlur:function(){""!==u&&u.match(/\S+@\S+/)&&P({email:u})},value:u,type:"email",placeholder:o,className:nX.suggestionInput}})};n0.propTypes={loading:tF().bool,contactsAndGroups:tF().array,recipients:tF().array.isRequired,onPick:tF().func.isRequired,onRemove:tF().func.isRequired,placeholder:tF().string};var n1=(c=y()(T().mark(function e(t,n,r){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=y()(T().mark(function e(n){var a,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=4;break}return e.abrupt("return",n);case 4:if(!nY(n.email)){e.next=16;break}return e.next=7,t.collection("io.cozy.contacts").find({email:{$elemMatch:{address:n.email}},_id:{$gt:null}},{indexedFields:["_id"]});case 7:if(!((a=e.sent).data.length>0)){e.next=12;break}return e.abrupt("return",a.data[0]);case 12:return e.next=14,r({email:[{address:n.email,primary:!0}]});case 14:return i=e.sent,e.abrupt("return",i.data);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t,n){return c.apply(this,arguments)}),n2=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){var n;return null==(n=e.relationships)||null==(n=n.groups)||null==(n=n.data)?void 0:n.some(function(e){return e._id===t})})};function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var n6=function(e){var t=e.currentRecipients,n=e.recipients,r=e.placeholder,a=e.onPick,i=e.onRemove,o={definition:(0,j.Q)(th.doctype).where({_id:{$gt:null}}).partialIndex({trashed:{$or:[{$eq:!1},{$exists:!1}]},$or:[{cozy:{$not:{$size:0}}},{email:{$not:{$size:0}}}]}).indexFields(["_id"]).limitBy(1e3),options:{as:"io.cozy.contacts/reachable"}},c=(0,j.useQueryAll)(o.definition,o.options),s={definition:(0,j.Q)(th.doctype).where({_id:{$gt:null}}).partialIndex({trashed:{$or:[{$eq:!1},{$exists:!1}]},cozy:{$size:0},email:{$size:0},"relationships.groups.data":{$exists:!0}}).indexFields(["_id"]).limitBy(1e3),options:{as:"io.cozy.contacts/unreachable-with-groups",fetchPolicy:tm}},u=(0,j.useQueryAll)(s.definition,n4(n4({},s.options),{},{enabled:!!(0,U.default)("sharing.show-recipient-groups")})),l={definition:(0,j.Q)(tu.Group.doctype),options:{as:"io.cozy.contacts.groups",fetchPolicy:tm}},d=(0,j.useQueryAll)(l.definition,l.options),f=(0,j.isQueryLoading)(c)||c.hasMore||(0,j.isQueryLoading)(d)||d.hasMore||(0,U.default)("sharing.show-recipient-groups")&&((0,j.isQueryLoading)(u)||u.hasMore),h=t.map(function(e){return e.id}).filter(Boolean),m=(d.data||[]).filter(function(e){var t=e._id;return!(0,U.default)("sharing.show-recipient-groups")||!h.includes(t)}).map(function(e){var t=n2(c.data,e.id).map(function(e){return n4(n4({},e),{},{isReachable:!0})});if(!0!==(0,U.default)("sharing.show-recipient-groups"))return n4(n4({},e),{},{members:t});var n=n2(u.data,e.id).map(function(e){return n4(n4({},e),{},{isReachable:!1})});return n4(n4({},e),{},{members:[].concat(p()(t),p()(n))})}),v=[].concat(p()(c.data||[]),p()(m));return R.createElement(n0,{loading:f,contactsAndGroups:v,recipients:n,onPick:a,onRemove:i,placeholder:r})};n6.propTypes={currentRecipients:tF().array,recipients:tF().array,placeholder:tF().string,onPick:tF().func.isRequired,onRemove:tF().func.isRequired},n6.defaultProps={currentRecipients:[],recipients:[]};var n5=n(48313),n7=function(e){var t=e.documentName,n=e.onConfirm,r=(0,tO.useI18n)().t,a=no();return R.createElement(n5.A,{open:!0,title:r("ShareRecipientsLimitModal.title"),content:r("ShareRecipientsLimitModal.content",{documentName:t,limit:a}),actions:R.createElement(nA.default,{label:r("ShareRecipientsLimitModal.confirm"),onClick:n,fullWidth:!0})})};n7.propTypes={documentName:tF().string.isRequired};var n8=function(e){return R.createElement(nA.default,{onClick:function(){e.onSubmit()},size:"large",busy:e.loading,label:e.label,disabled:e.disabled,variant:"ghost"})};n8.propTypes={onSubmit:tF().func.isRequired,label:tF().string,loading:tF().bool,disabled:tF().bool},n8.defaultProps={label:"Submit",loading:!1};var n9=n(39700),re=n(16035),rt=n(9080),rn=n(43882);function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ri=function(e){return R.createElement(rt.c.DropdownIndicator,e,R.createElement(tj.default,{icon:n9.A,color:"var(--iconTextColor)"}))},ro=function(e){return R.createElement(rt.c.Option,e,R.createElement("div",{className:tT()("share__select-option___3Jp8_")},e.isSelected&&R.createElement(tj.default,{icon:re.A,color:"var(--primaryColor)"}),R.createElement("div",null,R.createElement("div",{className:"share__select-option-label___1BWz_"},e.label),R.createElement("div",{className:"share__select-option-desc___3jOnr"},e.data.desc))))},rc={option:function(e,t){return ra(ra({},e),{},{color:"var(--primaryTextColor)",backgroundColor:t.isFocused?"var(--actionColorHover)":null,padding:0,borderBottom:0===t.options.findIndex(function(e){return e.value===t.value})?"1px solid var(--borderMainColor)":null})},menu:function(e){return ra(ra({},e),{},{backgroundColor:"var(--paperBackgroundColor)",width:"204%"})}},rs=function(e){var t=e.options,n=e.onChange;return R.createElement("div",{className:"share__select-wrapper___3XBKC"},R.createElement(rn.Ay,{name:"select",classNamePrefix:"needsclick react-select",components:{DropdownIndicator:ri,Option:ro},styles:rc,defaultValue:t[0],isSearchable:!1,onChange:function(e){n(e.value)},options:t,menuPosition:"fixed"}))};function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}rs.propTypes={onChange:tF().func,options:tF().array.isRequired},rs.defaultProps={onChange:tn.log,value:""};var rd=function(e,t,n){if(1===t.length){var r=t[0],a=th.isContact(r)?j.models.contact.getPrimaryEmail(r):r.email,i=j.models.contact.getPrimaryCozy(r);return r._type===tu.Group.doctype?["".concat(n,".share.shareByEmail.singleGroupSuccess"),{groupName:r.name}]:a?["".concat(n,".share.shareByEmail.singleContactSuccess"),{email:a}]:i?["".concat(n,".share.shareByEmail.singleContactSuccess"),{email:i}]:["".concat(n,".share.shareByEmail.contactSuccess"),{smart_count:1}]}var o=t.filter(function(t){if(th.isContact(t)){var n=j.models.contact.getPrimaryEmail(t),r=j.models.contact.getPrimaryCozy(t);return!e.find(function(e){return n&&e.email&&e.email===n||r&&e.instance&&e.instance===r})}return!0}).reduce(function(e,t){return t._type===tu.Group.doctype?rl(rl({},e),{},{group:e.group+1}):rl(rl({},e),{},{contact:e.contact+1})},{group:0,contact:0});return o.contact>0&&o.group>0?["".concat(n,".share.shareByEmail.contactAndGroupSuccess"),{nbContact:o.contact,nbGroup:o.group}]:o.group>0?["".concat(n,".share.shareByEmail.groupSuccess"),{smart_count:o.group}]:["".concat(n,".share.shareByEmail.contactSuccess"),{smart_count:o.contact}]},rf=function(e){var t=e.t,n=e.err,r=e.documentType,a=e.recipients,i=e.selectedOption;if("FetchError"===n.name&&400===n.status&&JSON.parse(n.message).errors[0].detail.startsWith("A group member cannot be added as they are already in")){var o=t("Share.errors.sharingRights.".concat("readOnly"===i?"readWrite":"readOnly"));return 1===a.length&&a[0]._type===th.doctype?["Share.errors.contactAlreadyInSharing",{smart_count:a.length,contactName:tp(a[0]),sharingRights:o,icon:!1}]:["Share.errors.groupMemberAlreadyInSharing",{smart_count:a.length,groupName:a[0].name,sharingRights:o,icon:!1}]}return["".concat(r,".share.error.generic")]},rp=function(e){var t,n,r,a,i=e.document,o=e.sharingDesc,c=e.onShare,s=e.createContact,u=e.documentType,l=e.currentRecipients,d=e.sharing,f=e.submitLabel,h=e.showNotifications,v=void 0===h||h,g=(0,j.useClient)(),b=(0,tO.useI18n)().t,w=(0,nB.useAlert)().showAlert,k=(0,R.useState)([]),x=m()(k,2),O=x[0],_=x[1],E=(0,R.useState)(!1),C=m()(E,2),S=C[0],P=C[1],A=(0,R.useState)("readWrite"),D=m()(A,2),M=D[0],I=D[1],N=(0,R.useState)(!1),z=m()(N,2),F=z[0],L=z[1],B=function(){I("readWrite"),_([]),P(!1)},V=function(e){_((0,U.default)("sharing.show-recipient-groups")?[].concat(p()(O),[e]):ns(O,e))},H=function(e){var t=O.findIndex(function(t){return t===e});_([].concat(p()(O.slice(0,t)),p()(O.slice(t+1))))},q=(t=y()(T().mark(function e(){var t,n,r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==O.length){e.next=2;break}return e.abrupt("return");case 2:if(!nc(t=l,O)){e.next=6;break}return L(!0),e.abrupt("return");case 6:return P(!0),e.prev=7,e.next=10,n1(g,O,s);case 10:return n=e.sent,r=[],a=[],"readOnly"===M?a=n:r=n,e.next=16,c({document:i,recipients:r,readOnlyRecipients:a,description:o,openSharing:r.length>0});case 16:v&&w({message:b.apply(void 0,p()(rd(t,n,u))),severity:"success",variant:"filled"}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),v&&w({message:b.apply(void 0,p()(rf({t:b,err:e.t0,documentType:u,recipients:O,selectedOption:M}))),severity:"error",variant:"filled"});case 22:return e.prev=22,B(),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[7,19,22,25]])})),function(){return t.apply(this,arguments)}),W=O.length>0;return R.createElement("div",{className:"share__coz-form-group___VsQp7"},R.createElement("div",{className:"share__coz-form___1ICST"},R.createElement(n6,{placeholder:0===O.length?b("".concat(u,".share.shareByEmail.emailPlaceholder")):"",onPick:function(e){return V(e)},onRemove:function(e){return H(e)},currentRecipients:l,recipients:O})),W&&R.createElement("div",{className:"share__share-type-control___1YoRr"},R.createElement(rs,{value:M,options:(n=!!d&&eK(d,i._id),r={value:"readWrite",label:b("Share.type.two-way"),desc:b("Share.type.desc.two-way"),disabled:!1},a={value:"readOnly",label:b("Share.type.one-way"),desc:b("Share.type.desc.one-way"),disabled:!1},n?[a]:[r,a]),onChange:function(e){I(e)}}),R.createElement(n8,{label:f||b("".concat(u,".share.shareByEmail.send")),onSubmit:q,loading:S,disabled:0===O.length})),F?R.createElement(n7,{documentName:i.name,onConfirm:function(){return L(!1)}}):null)};rp.propTypes={currentRecipients:tF().arrayOf(tF().object),document:tF().object.isRequired,documentType:tF().string.isRequired,sharingDesc:tF().string.isRequired,onShare:tF().func.isRequired,createContact:tF().func.isRequired,sharing:tF().object,submitLabel:tF().string,showNotifications:tF().bool};var rh=n(70879);let rm=n(95834).A;var rv=n(24242),ry=n(96746),rg=n(73294),rb=n.n(rg),rw=n(82096),rk=["spaceBetween","variant","disabled","noWrap","color","children","innerTextProps","innerIconContainerProps","innerIconProps"],rx=(0,rw.A)(function(e){return{container:{display:"flex",width:"100%",alignItems:"center",justifyContent:function(e){return e.spaceBetween?"space-between":"left"}},typography:{color:function(t){return t.disabled?e.palette.text.disabled:void 0}},endIcon:{display:"flex",marginLeft:"5px",marginTop:function(e){return"body1"===e.variant?"3px":void 0},color:function(t){return t.disabled?e.palette.text.disabled:void 0}}}}),rO={h1:24,h2:17,h3:15,h4:14,h5:13,h6:12,body1:12,body2:11,caption:10,subtitle1:11,subtitle2:10},r_=(0,R.forwardRef)(function(e,t){var n=e.spaceBetween,r=e.variant,a=void 0===r?"body1":r,i=e.disabled,o=e.noWrap,c=e.color,s=void 0===c?"initial":c,u=e.children,l=e.innerTextProps,d=e.innerIconContainerProps,f=e.innerIconProps,p=F()(e,rk),h=rx({spaceBetween:void 0!==n&&n,disabled:void 0!==i&&i,variant:a});return R.createElement("div",e3()({ref:t,className:h.container},p),R.createElement(t9.default,e3()({color:s,classes:{root:h.typography},variant:a,noWrap:void 0!==o&&o},l),u),R.createElement(t9.default,e3()({color:s,classes:{root:h.endIcon}},d),R.createElement(tj.default,e3()({icon:n9.A,size:rO[a]},f))))});r_.propTypes={color:rb().string,spaceBetween:rb().bool,variant:rb().string,disabled:rb().bool,noWrap:rb().bool,innerTextProps:rb().object,innerIconContainerProps:rb().object,innerIconProps:rb().object,children:rb().node};var rE=["spaceBetween","textVariant","disabled","fullWidth","noWrap","children","className","dropdownTextProps"],rC=(0,rw.A)({root:{height:"auto",width:function(e){var t=e.fullWidth,n=e.noWrap;return t||n?"calc(100% + 16px)":"auto"},margin:"-8px",padding:"8px"},text:{textTransform:"none",textAlign:"left"}}),rS=(0,R.forwardRef)(function(e,t){var n=e.spaceBetween,r=e.textVariant,a=e.disabled,i=e.fullWidth,o=e.noWrap,c=e.children,s=e.className,u=e.dropdownTextProps,l=F()(e,rE),d=rC({fullWidth:i,noWrap:o}),f=d.root,p=d.text;return R.createElement(ry.A,e3()({ref:t,classes:{root:f,text:p},disabled:a,className:s},l),R.createElement(r_,e3()({variant:r,spaceBetween:n,disabled:a,noWrap:o},u),c))});rS.defaultProps={spaceBetween:!1,textVariant:"body1",disabled:!1,fullWidth:!1,noWrap:!1},rS.propTypes={spaceBetween:rb().bool,textVariant:rb().string,disabled:rb().bool,fullWidth:rb().bool,noWrap:rb().bool,dropdownTextProps:rb().object,className:rb().string,children:rb().node};var rP=n(92998),rA=n(58057),rD=n(92884),rT=n(89004),rR=n(63237),rj=n(24354),rM=n(32977),rI=n(68648),rN=n(85500),rz=n(83257),rF=n(4103),rL=n.n(rF),rB=n(27813),rU=n(13123),rV=n(70173),rH=n(979),rq=function(e){var t=e.ampm,n=e.mode,r=e.lang;switch(n){case"date":return"fr"===r?"dd/LL/yyyy":"LL/dd/yyyy";case"time":return"fr"===r?"HH:mm":t?"HH:mm a":"HH:mm";case"dateTime":return"fr"===r?"dd/LL/yyyy HH:mm":t?"LL/dd/yyyy HH:mm a":"LL/dd/yyyy HH:mm";default:return"fr"===r?"dd/LL/yyyy":t?"LL/dd/yyyy a":"LL/dd/yyyy"}};let rW=(0,tO.withOnlyLocales)({en:{cancel:"Cancel",clear:"Clear",invalidDate:"Invalid date",ok:"Ok",today:"Today",minDateLabelError:"Date should not be before minimal date (%{date})"},fr:{cancel:"Annuler",clear:"Supprimer",invalidDate:"Date invalide",ok:"Ok",today:"Aujourd'hui",minDateLabelError:"La date ne doit pas \xeatre ant\xe9rieure \xe0 la date minimale (%{date})"},ru:{cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",clear:"ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ",invalidDate:"ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ Ð´Ð°Ñ‚Ð°",ok:"ÐžÐš",today:"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ",minDateLabelError:"Ð”Ð°Ñ‚Ð° Ð½Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð° Ð±Ñ‹Ñ‚ÑŒ Ñ€Ð°Ð½ÑŒÑˆÐµ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð°Ñ‚Ñ‹ (%{date})"},vi:{cancel:"Há»§y",clear:"X\xf3a",invalidDate:"Ng\xe0y kh\xf4ng há»£p lá»‡",ok:"Ok",today:"H\xf4m nay",minDateLabelError:"Ng\xe0y kh\xf4ng Ä‘Æ°á»£c trÆ°á»›c ng\xe0y tá»‘i thiá»ƒu (%{date})"}});var rG=["className","label","clearable","value","placeholder","onFocus","onBlur","onChange","minDate","minDateLabelError","format","cancelLabel","clearLabel","okLabel","todayLabel","showTodayButton","helperText","errorLabel","inputVariant","inputProps","KeyboardButtonProps","enableKeyboard","mode","ampm"];function rZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rZ(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rQ={fr:rV.default,en:rU.A},rY=(0,rw.A)(function(){return{overrides:{width:"100%",height:function(e){return e?"5rem":"inherit"},MuiOutlinedInput:{"&:focused":{notchedOutline:{borderColor:"var(--primaryColor)"}}}}}}),rJ=(0,R.forwardRef)(function(e,t){var n,r=e.className,a=e.label,i=e.clearable,o=e.value,c=e.placeholder,s=e.onFocus,u=e.onBlur,l=e.onChange,d=e.minDate,f=e.minDateLabelError,p=e.format,h=e.cancelLabel,v=e.clearLabel,y=e.okLabel,g=e.todayLabel,b=e.showTodayButton,w=e.helperText,k=e.errorLabel,x=e.inputVariant,O=e.inputProps,_=e.KeyboardButtonProps,E=e.enableKeyboard,C=e.mode,S=void 0===C?"date":C,P=e.ampm,A=F()(e,rG),D=(0,R.useState)(null),T=m()(D,2),j=T[0],M=T[1],I=(0,R.useState)(!1),N=m()(I,2),z=N[0],L=N[1],B=rY((0,rv.default)().isDesktop),U=(0,tO.useI18n)(),V=U.t,H=U.lang,q=!z&&!!j,W=p||rq({ampm:P,mode:S,lang:H}),G=null!=P?P:"time"!==S&&"dateTime"!==S,Z=null!=c?c:(0,rR.default)(new Date,W),K=v||V("clear"),Q=g||V("today"),Y=h||V("cancel"),J=y||V("ok"),$=f||(d?V("minDateLabelError",{date:(0,rR.default)(d,W)}):null),X=rK({"aria-label":a},_),ee=rK({inputMode:"numeric"},O);switch(S){case"date":n=E?rM.s:rM.l;break;case"time":n=E?rI.n:rI.A;break;case"dateTime":n=E?rN.d:rN.K}return R.createElement(rz.M,{utils:rj.A,locale:rQ[H]},R.createElement(n,e3()({inputRef:t,label:a,placeholder:Z,value:void 0===o?null:o,helperText:q?j:null!=w?w:null,className:rL()(B.overrides,r),minDate:d,ampm:G,format:W,onChange:function(e){if((null==e?void 0:e.toString())!=="Invalid Date"){if(d&&(0,rB.A)(e,(0,rH.A)(d,1))){M($),l(e,!1);return}M(null),l(e,!0)}else""===e?(M(null),l(null,!0)):(M(null!=k?k:V("invalidDate")),l(e,!1))},error:q,onBlur:function(){L(!1),null==s||s(!0),null==u||u(!1)},onFocus:function(){L(!0),null==s||s(!1),null==u||u(!0)},inputVariant:void 0===x?"outlined":x,inputProps:ee,KeyboardButtonProps:X,showTodayButton:void 0!==b&&b,todayLabel:Q,clearable:void 0!==i&&i,clearLabel:K,cancelLabel:Y,okLabel:J},A)))});rJ.displayName="DatePicker",rJ.prototype={className:rb().string,label:rb().string,value:rb().string.isRequired,placeholder:rb().string,onChange:rb().func.isRequired,onBlur:rb().func,onFocus:rb().func,helperText:rb().string,minDate:rb().instanceOf(Date),minDateLabelError:rb().string,format:rb().string,cancelLabel:rb().string,showTodayButton:rb().bool,todayLabel:rb().string,okLabel:rb().string,clearable:rb().bool,clearLabel:rb().string,errorLabel:rb().string,inputVariant:rb().string,inputProps:rb().object,KeyboardButtonProps:rb().object,enableKeyboard:rb().bool,mode:rb().oneOf(["date","time","dateTime"]),ampm:rb().bool};let r$=rW(R.memo(rJ));var rX=n(37341),r0=n(77148),r1=n(60439),r2=function(e){var t=e.onChange,n=e.date,r=e.toggle,a=e.onToggle,i=(0,tO.useI18n)(),o=i.t,c=i.lang,s=function(e){var t,n;a(null!=(t=null==e||null==(n=e.target)?void 0:n.checked)?t:e)};return R.createElement(rT.default,{borderRadius:"0.5rem",border:"1px solid var(--borderMainColor)"},R.createElement(rh.default,{className:"u-p-0"},R.createElement(t5.default,{button:!0,size:"large",ellipsis:!1,onClick:function(){return s(!r)}},R.createElement(t7.default,null,R.createElement(tj.default,{icon:rX.default})),R.createElement(t8.default,{primary:o("BoxDate.text")}),R.createElement(r0.default,null,R.createElement(r1.A,{edge:"start",color:"primary",checked:r,onChange:s})))),r&&R.createElement("div",{className:"u-pt-half u-ph-1 u-pb-1"},R.createElement(r$,{className:"u-w-100",enableKeyboard:!0,label:o("BoxDate.label"),placeholder:(0,rR.default)(new Date,"fr"===c?"dd/MM/yyyy":"MM/dd/yyyy"),value:n,minDate:new Date,onChange:t,inputProps:{inputMode:"numeric"},KeyboardButtonProps:{"aria-label":o("BoxDate.label")}})))};r2.propTypes={onChange:tF().func.isRequired,date:tF().instanceOf(Date),toggle:tF().bool.isRequired,onToggle:tF().func.isRequired};var r3=n(39046),r4=n(41190),r6=n(92372),r5=n(70804),r7=n(647),r8=n(29781),r9={ALBUMS:"Albums",FILES:"Files",NOTES:"Notes",ORGANIZATIONS:"Organizations"},ae=function(e){return e.documentType===r9.ALBUMS?"photos":"drive"},at=function(e){var t=e.label,n=e.desc,r=e.editingRights,a=(0,R.forwardRef)(function(e,a){var i=tS().updateDocumentPermissions;return R.createElement(r7.A,e3()({},e,{ref:a,button:!1,onClick:function(){return e.onClick({updateDocumentPermissions:i})}}),R.createElement(t7.default,null,R.createElement(r8.A,{checked:"write"===r})),R.createElement(t8.default,{primary:t,secondary:n}))});return a.displayName="EditPermissionLink",a},an=function(e){var t=e.isDirectory,n=e.t,r=e.editingRights,a=e.setEditingRights,i=e.documentType,o=n(t?"Share.permissionLink.modifyFolder":"Share.permissionLink.modifyFile");return{name:"editPermissionLink",label:o,icon:null,displayCondition:function(){return i!==r9.ALBUMS},action:function(){a("write")},Component:at({label:o,desc:n("Share.permissionLink.writeDescription"),editingRights:r})}},ar=function(e){var t=e.label,n=e.desc,r=e.editingRights,a=(0,R.forwardRef)(function(e,a){var i=tS().updateDocumentPermissions;return R.createElement(r7.A,e3()({},e,{ref:a,button:!1,onClick:function(){return e.onClick({updateDocumentPermissions:i})}}),R.createElement(t7.default,null,R.createElement(r8.A,{checked:"readOnly"===r})),R.createElement(t8.default,{primary:t,secondary:n}))});return a.displayName="ReadOnlyPermissionLink",a},aa=function(e){var t=e.isDirectory,n=e.t,r=e.editingRights,a=e.setEditingRights,i=n(t?"Share.permissionLink.seeFolder":"Share.permissionLink.seeFile");return{name:"readOnlyPermissionLink",label:i,icon:null,action:function(){a("readOnly")},Component:ar({label:i,desc:n("Share.permissionLink.readDescription"),editingRights:r})}},ai=function(e){var t=e.file,n=e.editingRights,r=e.setEditingRights,a=(0,R.useReducer)(function(e){return!e},!1),i=m()(a,2),o=i[0],c=i[1],s=(0,R.useRef)(),u=(0,tO.useI18n)().t,l=tS().documentType,d=(0,j.useClient)(),f=(0,r3.isDirectory)(t),p=(0,r6.gW)([aa,an],{client:d,t:u,editingRights:n,setEditingRights:r,documentType:l,isDirectory:f}),h=u("readOnly"===n?"BoxEditingRights.readOnlyTitle":"BoxEditingRights.editTitle"),v=u("readOnly"===n?"Share.permissionLink.readDescription":"Share.permissionLink.writeDescription");return R.createElement(R.Fragment,null,R.createElement(rT.default,{borderRadius:"0.5rem",border:"1px solid var(--borderMainColor)",ref:s},R.createElement(rh.default,{className:"u-p-0"},R.createElement(t5.default,{button:!0,size:"large",ellipsis:!1,onClick:c},R.createElement(t7.default,null,R.createElement(tj.default,{icon:r5.default})),R.createElement(t8.default,{primary:h,secondary:v}),R.createElement(t7.default,{className:"u-mr-half"},R.createElement(tj.default,{icon:n9.A}))))),R.createElement(r4.default,{ref:s,open:o,docs:[t],actions:p,autoClose:!0,onClose:c}))};ai.propTypes={file:tF().object.isRequired,editingRights:tF().oneOf(["readOnly","write"]).isRequired,setEditingRights:tF().func.isRequired};var ao=n(74710),ac=n(31482);let as=function(e){return R.createElement("svg",e3()({viewBox:"0 0 16 10"},e),R.createElement("path",{d:"M.727 7.909h14.546v1.455H.727V7.909zm.837-2.946l.618-1.076.618 1.076.945-.545-.618-1.076h1.237V2.25H3.127l.618-1.07L2.8.637l-.618 1.07-.618-1.07-.946.546.618 1.069H0v1.09h1.236L.618 4.419l.946.545zm4.872-.545l.946.545L8 3.887l.618 1.076.946-.545-.619-1.076h1.237V2.25H8.945l.619-1.07-.946-.545L8 1.706 7.382.635l-.946.546.619 1.069H5.818v1.09h1.237l-.619 1.077zM16 2.251h-1.236l.618-1.07-.946-.545-.618 1.07L13.2.635l-.945.546.618 1.069h-1.237v1.09h1.237l-.618 1.077.945.545.618-1.076.618 1.076.946-.545-.618-1.076H16V2.25z"}))};var au=I()("ShareRestrictionModal/helpers"),al=["GET","POST","PUT","PATCH"],ad=["GET"],af=(s=y()(T().mark(function e(t){var n,r,a,i=arguments;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=i.length>1&&void 0!==i[1]?i[1]:{}).t,a=n.showAlert,t){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,navigator.clipboard.writeText(t);case 6:a({message:r("copyReminderContent.success"),severity:"success",variant:"filled"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),a({message:r("copyReminderContent.error"),severity:"error",variant:"filled"}),au.error("Error in 'copyToClipboard' function when trying to copy to clipboard",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,9]])})),function(e){return s.apply(this,arguments)}),ap=function(e){if(e)try{var t=e;if("string"==typeof e&&"Invalid Date"===(t=new Date(e)).toString())throw Error("Invalid date: ".concat(e));if(t instanceof Date){var n=new Date;return t>n?"".concat(Math.round((t-n)/1e3),"s"):void 0}throw Error("Invalid date: ".concat(e))}catch(e){au.error(e);return}},ah=(u=y()(T().mark(function e(t){var n,r,a,i,o,c,s,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.t,a=t.ttl,i=t.password,o=t.editingRights,c=t.documentType,s=t.shareByLink,u=t.showAlert,e.prev=1,l="readOnly"===o?ad:al,e.abrupt("return",s(n,{verbs:l,ttl:a,password:i}));case 6:e.prev=6,e.t0=e.catch(1),u({message:r("".concat(c,".share.shareByLink.permserror")),severity:"error",variant:"filled"}),au.error("Error in 'readOnlyPermissionLink' function when trying to change permission",e.t0);case 10:case"end":return e.stop()}},e,null,[[1,6]])})),function(e){return u.apply(this,arguments)}),am=(l=y()(T().mark(function e(t){var n,r,a,i,o,c,s,u,l,d,f,p,h;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.t,a=t.dateToggle,i=t.selectedDate,o=t.passwordToggle,c=t.password,s=t.editingRights,u=t.documentType,l=t.updateDocumentPermissions,d=t.showAlert,e.prev=1,f=a?(null==i?void 0:i.toISOString())||void 0:"",p=o?c||void 0:"",h="readOnly"===s?ad:al,e.abrupt("return",l(n,{verbs:h,expiresAt:f,password:p}));case 8:e.prev=8,e.t0=e.catch(1),d({message:r("".concat(u,".share.shareByLink.permserror")),severity:"error",variant:"filled"}),au.error("Error in 'updateDocumentPermissions' function when trying to change permission",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return l.apply(this,arguments)}),av=(d=y()(T().mark(function e(t){var n,r,a,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.t,a=t.documentType,i=t.revokeSharingLink,o=t.showAlert,e.prev=1,e.abrupt("return",i(n));case 5:e.prev=5,e.t0=e.catch(1),o({message:r("".concat(a,".share.error.revoke")),severity:"error",variant:"filled"}),au.error("Error in 'revokePermissions' function when trying to revoke sharing link",e.t0);case 9:case"end":return e.stop()}},e,null,[[1,5]])})),function(e){return d.apply(this,arguments)}),ay=function(e){var t,n=e.file,r=e.onChange,a=e.password,i=e.onToggle,o=e.toggle,c=e.helperText,s=e.inputProps,u=(0,tO.useI18n)().t,l=(0,nB.useAlert)().showAlert,d=(0,R.useState)(!1),f=m()(d,2),p=f[0],h=f[1],v=R.useRef(),g=nv((0,tS().getDocumentPermissions)(n._id)),b=function(e){var t,n;i(null!=(t=null==e||null==(n=e.target)?void 0:n.checked)?t:e)},w=function(e){var t,n;r(null!=(t=null==e||null==(n=e.target)?void 0:n.value)?t:e)},k=(t=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(a,{t:u,showAlert:l});case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return R.createElement(rT.default,{borderRadius:"0.5rem",border:"1px solid var(--borderMainColor)"},R.createElement(rh.default,{className:"u-p-0"},R.createElement(t5.default,{button:!0,size:"large",ellipsis:!1,onClick:function(){return b(!o)}},R.createElement(t7.default,null,R.createElement(tj.default,{icon:as})),R.createElement(t8.default,{primary:u("BoxPassword.text")}),R.createElement(r0.default,null,R.createElement(r1.A,{edge:"start",color:"primary",checked:o,onChange:b})))),o&&R.createElement("div",{className:"u-pt-half u-ph-1 u-pb-1"},R.createElement(nV.default,e3()({inputRef:v,autoFocus:!0,label:u("BoxPassword.label")},g&&{placeholder:"****",InputLabelProps:{shrink:!0}},{value:a,error:p&&!!c,helperText:p&&c,onChange:w,onFocus:function(){h(!1)},onBlur:function(){w(v.current.value.trim()),h(!0)},fullWidth:!0,type:"text",variant:"outlined",InputProps:{endAdornment:R.createElement(ao.default,{onClick:k},R.createElement(tj.default,{icon:ac.default}))},inputProps:s}))))};ay.propTypes={onChange:tF().func.isRequired,password:tF().string,onToggle:tF().func.isRequired,toggle:tF().bool.isRequired,helperText:tF().string,inputProps:tF().object};var ag=function(e){var t=e.file,n=e.selectedDate,r=e.setSelectedDate,a=e.dateToggle,i=e.setDateToggle,o=e.setIsValidDate,c=e.helperTextPassword,s=e.password,u=e.setPassword,l=e.passwordToggle,d=e.setPasswordToggle,f=e.setIsValidPassword,p=e.editingRights,h=e.setEditingRights,m=(0,tO.useI18n)().t,v=nv((0,tS().getDocumentPermissions)(t._id));return R.createElement(rT.default,{display:"flex",flexDirection:"column",gridGap:"1rem"},R.createElement(t9.default,{variant:"h4",className:"u-mb-half u-ml-half"},m("ShareRestrictionModal.title")),R.createElement(ai,{file:t,editingRights:p,setEditingRights:h}),R.createElement(r2,{onChange:function(e){r(e),o((0,rD.A)(e))},date:n,onToggle:function(e){i(e),e?r(e?(0,rP.A)(new Date,30):null):r(null),o(!0)},toggle:a}),R.createElement(ay,{file:t,onChange:function(e){u(e),f(v&&0===e.trim().length||e.trim().length>=4)},password:s,onToggle:function(e){d(e),u(""),e&&!s?f(v):f(!0)},toggle:l,helperText:c,inputProps:{minLength:4}}))};ag.propTypes={file:tF().object.isRequired,selectedDate:tF().object,setSelectedDate:tF().func.isRequired,dateToggle:tF().bool,setDateToggle:tF().func.isRequired,setIsValidDate:tF().func.isRequired,helperTextPassword:tF().string,password:tF().string,setPassword:tF().func.isRequired,passwordToggle:tF().bool.isRequired,setPasswordToggle:tF().func.isRequired,setIsValidPassword:tF().func.isRequired,editingRights:tF().oneOf(["readOnly","write"]),setEditingRights:tF().func.isRequired};var ab=function(e){var t,n,r=e.file,a=e.onClose,i=(0,j.useClient)(),o=(0,tO.useI18n)().t,c=(0,nB.useAlert)().showAlert,s=(0,R.useState)(""),u=m()(s,2),l=u[0],d=u[1],f=(0,R.useState)(!0),p=m()(f,2),h=p[0],v=p[1],g=(0,R.useState)(!0),b=m()(g,2),w=b[0],k=b[1],x=(0,R.useState)(!1),O=m()(x,2),_=O[0],E=O[1],C=tS(),S=C.documentType,P=C.getDocumentPermissions,A=C.updateDocumentPermissions,D=C.shareByLink,M=C.getSharingLink,I=C.revokeSharingLink,N=null!==M(r._id),z=P(r._id),F=np(z),L=nv(z),B=nh(z),V=nm(z),H=V?new Date(V):(0,rP.A)(new Date,30),q=(0,R.useState)(H),W=m()(q,2),G=W[0],Z=W[1],K=(0,R.useState)(z.length>0?B:(0,U.default)("sharing.date-toggle.enabled")),Q=m()(K,2),Y=Q[0],J=Q[1],$=(0,R.useState)(L),X=m()($,2),ee=X[0],et=X[1],en=(0,R.useState)(F||0===z.length?"readOnly":"write"),er=m()(en,2),ea=er[0],ei=er[1],eo=w?null:o("ShareRestrictionModal.invalidPasswordMessage",{smart_count:4-l.length}),ec=(t=y()(T().mark(function e(){var t,n,s,u,d,f;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),N){e.next=13;break}return t=ap(Y&&G),e.next=5,ah({file:r,t:o,ttl:t,password:l,editingRights:ea,documentType:S,shareByLink:D,showAlert:c});case 5:return n=e.sent.data,s=(0,j.generateWebLink)({cozyUrl:i.getStackClient().uri,searchParams:[["sharecode",n.attributes.shortcodes.code]],pathname:"/public",slug:ae({documentType:S}),subDomainType:i.capabilities.flat_subdomains?"flat":"nested"}),e.next=10,af(s,{t:o,showAlert:c});case 10:a(),e.next=22;break;case 13:return e.next=15,am({file:r,t:o,dateToggle:Y,selectedDate:G,passwordToggle:ee,password:l,editingRights:ea,documentType:S,updateDocumentPermissions:A,showAlert:c});case 15:return u=e.sent,d=m()(u,1)[0].data,f=(0,j.generateWebLink)({cozyUrl:i.getStackClient().uri,searchParams:[["sharecode",d.attributes.shortcodes.code]],pathname:"/public",slug:ae({documentType:S}),subDomainType:i.capabilities.flat_subdomains?"flat":"nested"}),e.next=21,af(f,{t:o,showAlert:c});case 21:a();case 22:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),es=(n=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,av({file:r,t:o,documentType:S,revokeSharingLink:I,showAlert:c});case 3:a();case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return R.createElement(n5.A,{open:!0,onClose:a,content:R.createElement(ag,{file:r,dateToggle:Y,setDateToggle:J,setSelectedDate:Z,selectedDate:G,setIsValidDate:v,helperTextPassword:eo,passwordToggle:ee,setPasswordToggle:et,password:l,setPassword:d,setIsValidPassword:k,editingRights:ea,setEditingRights:ei}),actions:R.createElement(R.Fragment,null,N&&R.createElement(nA.default,{label:o("Share.permissionLink.deactivate"),variant:"secondary",color:"error",startIcon:R.createElement(tj.default,{icon:rA.default}),onClick:es,busy:_}),R.createElement(nA.default,{label:o("ShareRestrictionModal.action.confirm"),onClick:ec,disabled:!h||!w,busy:_}))})};ab.propTypes={file:tF().object.isRequired,onClose:tF().func};var aw=function(e){var t=e.className,n=e.document,r=e.permissions,a=(0,tO.useI18n)().t,i=(0,R.useRef)(),o=(0,R.useState)(!1),c=m()(o,2),s=c[0],u=c[1],l=np(r);return R.createElement("div",{className:t},R.createElement(R.Fragment,null,R.createElement(rS,{ref:i,textVariant:"body2",onClick:function(){return u(!0)}},a("Share.type.".concat(l?"one-way":"two-way")).toLowerCase()),s&&R.createElement(ab,{file:n,onClose:function(){return u(!1)}})))};aw.propTypes={className:tF().string,document:tF().object.isRequired,permissions:tF().arrayOf(tF().object).isRequired};var ak=function(e){var t=e.recipientConfirmationData,n=e.verifyRecipient,r=(0,tO.useI18n)().t;return R.createElement(nA.default,{style:{position:"initial"},variant:"text",className:"share__aligned-dropdown-button___3crgG",onClick:function(){n(t)},label:r("Share.twoStepsConfirmation.verify")})};ak.propTypes={recipientConfirmationData:tF().object.isRequired,verifyRecipient:tF().func.isRequired};var ax=function(e){var t=(0,tO.useI18n)(),n=t.t,r=t.f,a=t.lang,i=(0,rv.default)().isMobile,o=tS().getDocumentPermissions,c=e.recipientConfirmationData,s=e.verifyRecipient,u=e.link,l=e.fadeIn,d=o(e.document._id),f=nv(d),p=nm(d),h=p?r(p,"fr"===a?"dd/LL/yyyy":"LL/dd/yyyy"):null,m=n(f?"Share.recipients.linkWithPassword":"Share.recipients.anyoneWithTheLink"),v=p?n("Share.recipients.expires",{date:h}):u,y=c?R.createElement(ak,{recipientConfirmationData:c,verifyRecipient:s}):R.createElement(aw,e3()({},e,{className:"u-flex-shrink-0"}));return R.createElement(rm,{in:!0,timeout:600*!!l},R.createElement(t5.default,{gutters:i?"default":"double",size:"small"},R.createElement(t7.default,null,R.createElement(tR.default,{size:"m",color:"none",border:!0,innerBorder:!0},R.createElement(tj.default,{icon:tM}))),R.createElement(t8.default,{primary:R.createElement(t9.default,{variant:"body1"},m),secondary:v}),y))};ax.propTypes={link:tF().string.isRequired};var aO=n(94404),a_=function(e){var t=e.t,n=e.type,r=t("Share.type.".concat(n));return{name:"permission",label:r,icon:null,action:null,Component:(0,R.forwardRef)(function(e,t){return R.createElement(r7.A,e3()({},e,{ref:t,button:!1}),R.createElement(t7.default,null,R.createElement(r8.A,{checked:!0})),R.createElement(t8.default,{primary:r}))})}},aE=function(e){var t=e.t,n=e.isOwner,r=e.isSharedDrive,a=e.handleRevocation,i=n?"revoke":"revokeSelf",o=t("RevokeMemberItem.".concat(i,".title")),c=t(n&&r?"RevokeMemberItem.revoke.sharedDriveDesc":"RevokeMemberItem.".concat(i,".desc")),s=rA.default;return{name:"revokeMember",label:o,icon:s,action:function(){a()},Component:(0,R.forwardRef)(function(e,t){return R.createElement(r7.A,e3()({},e,{ref:t}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:s,color:"var(--errorColor)"})),R.createElement(t8.default,{primary:R.createElement(t9.default,{color:"error"},o),secondary:c}))})}};let aC=function(e){var t=e.isOwner,n=e.isSharedDrive,r=e.status,a=e.instance,i=e.type,o=e.document,c=e.className,s=e.onRevoke,u=e.onRevokeSelf,l=e.sharingId,d=e.memberIndex,f=(0,tO.useI18n)().t,p=(0,R.useRef)(),h=(0,j.useClient)(),v=(0,R.useState)(!1),g=m()(v,2),b=g[0],w=g[1],k=(0,R.useState)(!1),x=m()(k,2),O=x[0],_=x[1],E=void 0!==a&&a===h.options.uri,C=!b&&"owner"!==r&&(E&&!t||t),S=(0,R.useCallback)(y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!t){e.next=6;break}return e.next=4,s(o,l,d);case 4:e.next=8;break;case 6:return e.next=8,u(o);case 8:w(!1);case 9:case"end":return e.stop()}},e)})),[t,s,u,o,l,d]),P=(0,r6.gW)([a_,aO.y,aE],{client:h,t:f,type:null!=i?i:"one-way",isOwner:t,isSharedDrive:n,handleRevocation:S});return R.createElement("div",{className:c},b&&R.createElement(nG.default,null),!C&&!b&&R.createElement(t9.default,{variant:"body2"},f("Share.status.".concat(r)).toLowerCase()),C&&R.createElement(R.Fragment,null,R.createElement(rS,{ref:p,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return _(!O)},textVariant:"body2"},f("Share.type.".concat(i)).toLowerCase()),R.createElement(r4.default,{ref:p,open:O,actions:P,autoClose:!0,onClose:function(){return _(!1)}})))};var aS=["instance","isOwner","status","recipientConfirmationData","verifyRecipient","fadeIn"],aP=function(e){var t=(0,tO.useI18n)().t,n=(0,j.useClient)(),r=(0,rv.default)().isMobile,a=e.instance,i=e.isOwner,o=e.status,c=e.recipientConfirmationData,s=e.verifyRecipient,u=e.fadeIn,l=F()(e,aS),d=i&&"owner"===o||a===n.options.uri,f=tp(l,t(ni)),p=c?R.createElement(ak,{recipientConfirmationData:c,verifyRecipient:s}):R.createElement(aC,e3()({},e,{className:"u-flex-shrink-0"}));return R.createElement(rm,{in:!0,timeout:600*!!u},R.createElement(t5.default,{gutters:r?"default":"double",size:"small"},R.createElement(t7.default,null,R.createElement(tZ,{size:"m",recipient:e})),R.createElement(t8.default,{primary:R.createElement(t9.default,{variant:"body1"},d?t("Share.recipients.you"):f),secondary:R.createElement(nn,{status:o,isMe:d,instance:a})}),p))};aP.propTypes={instance:tF().string,isOwner:tF().bool,status:tF().string,recipientConfirmationData:tF().object,verifyRecipient:tF().func};let aA=function(){var e,t=(0,j.useClient)(),n=tv(),r=(0,j.useQuery)(n.definition,n.options);return(0,j.hasQueryBeenLoaded)(r)&&R.createElement(aP,{isOwner:!0,status:"owner",instance:t.options.uri,public_name:null==r||null==(e=r.data)||null==(e=e.attributes)?void 0:e.public_name})};var aD=function(e){var t=e.recipients.find(function(e){return"owner"===e.status});return t?R.createElement(aP,t):R.createElement(aA,null)};aD.propTypes={recipients:tF().array.isRequired};var aT=n(69441),aR=n(86960),aj=function(e){var t=e.withAccess,n=(0,tO.useI18n)().t,r=(0,j.useClient)();return R.createElement("div",null,R.createElement(t9.default,{variant:"subtitle2"},n("GroupRecipientDetail.withAccess.title")),R.createElement(rh.default,null,t.map(function(e){var t=tp(e),n=e.instance===r.options.uri;return R.createElement(t5.default,{disableGutters:!0,key:e.index,size:"small"},R.createElement(t7.default,null,R.createElement(tR.default,{size:"m"},tf(e))),R.createElement(t8.default,{primary:t,secondary:R.createElement(nn,{status:e.status,isMe:n,instance:e.instance})}))})))};let aM=function(e){return R.createElement("svg",e3()({viewBox:"0 0 16 16"},e),R.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM1.6 8c0-3.536 2.864-6.4 6.4-6.4 1.48 0 2.84.504 3.92 1.352L2.952 11.92A6.322 6.322 0 011.6 8zM8 14.4c-1.48 0-2.84-.504-3.92-1.352l8.968-8.968A6.322 6.322 0 0114.4 8c0 3.536-2.864 6.4-6.4 6.4z"}))};var aI=function(e){var t=e.withoutAccess,n=e.isOwner,r=(0,tO.useI18n)().t;return R.createElement("div",null,R.createElement(t9.default,{variant:"subtitle2"},r("GroupRecipientDetail.withoutAccess.title")),R.createElement(rh.default,null,t.map(function(e){var t="revoked"===e.status?aM:null,a=tp(e,r(ni));return R.createElement(t5.default,{disableGutters:!0,key:e.index,ellipsis:!1,size:"small"},R.createElement(t7.default,null,R.createElement(tR.default,{size:"m"},tf(e))),R.createElement(t8.default,{primary:a,secondary:R.createElement("div",{className:"u-flex u-flex-items-center"},t?R.createElement(tj.default,{icon:t,size:10,style:{marginRight:"0.25rem"}}):null,r("GroupRecipientDetail.withoutAccess.status.".concat(e.status)),n&&"mail-not-sent"===e.status?" - ".concat(r("GroupRecipientDetail.withoutAccess.addEmail")):null)}))})))},aN=function(e){var t=e.name,n=e.owner,r=e.members,a=e.onClose,i=e.isOwner,o=(0,j.useClient)(),c=(0,tO.useI18n)().t,s=r.filter(function(e){return!["revoked","mail-not-sent"].includes(e.status)}),u=r.filter(function(e){return["revoked","mail-not-sent"].includes(e.status)}),l=n.public_name,d=(0,j.generateWebLink)({cozyUrl:o.getStackClient().uri,slug:"contacts",pathname:"/",subDomainType:o.getInstanceOptions().subdomain});return R.createElement(aT.A,{open:!0,size:"small",onClose:a,title:R.createElement(R.Fragment,null,t,l?R.createElement(t9.default,{variant:"caption"},c("GroupRecipientDetail.subtitle",{ownerName:l})):null),content:R.createElement("div",{className:"u-flex u-stack-xs u-flex-column"},0===r.length?R.createElement(aR.default,{text:c("GroupRecipientDetail.empty.content")},R.createElement(nA.default,{component:"a",className:"u-mt-1",href:d,target:"_blank",rel:"noopener noreferrer",label:c("GroupRecipientDetail.empty.action")})):null,s.length>0?R.createElement(aj,{withAccess:s}):null,u.length>0?R.createElement(aI,{withoutAccess:u,isOwner:i}):null)})},az=n(1990),aF=function(e){var t=e.t,n=e.isOwner,r=e.isSharedDrive,a=e.handleRevocation,i=n?"revoke":"revokeSelf",o=t("RevokeGroupItem.".concat(i,".title")),c=t(n&&r?"RevokeGroupItem.revoke.sharedDriveDesc":"RevokeGroupItem.".concat(i,".desc"));return{name:"revokeMember",label:o,icon:aM,action:function(){a()},Component:(0,R.forwardRef)(function(e,t){return R.createElement(r7.A,e3()({},e,{ref:t}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:aM,color:"var(--errorColor)"})),R.createElement(t8.default,{primary:R.createElement(t9.default,{color:"error"},o),secondary:c}))})}},aL=function(e){var t,n=e.name,r=e.isOwner,a=e.sharingId,i=e.groupIndex,o=e.read_only,c=e.className,s=e.isUserInsideMembers,u=e.document,l=(0,tO.useI18n)().t,d=(0,R.useRef)(),f=(0,j.useClient)(),p=tS(),h=p.revokeGroup,v=p.revokeSelf,g=(0,R.useState)(!1),b=m()(g,2),w=b[0],k=b[1],x=(0,R.useState)(!1),O=m()(x,2),_=O[0],E=O[1],C=!_&&(r||s),S=(t=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),!r){e.next=6;break}return e.next=4,h(u,a,i);case 4:e.next=8;break;case 6:return e.next=8,v(u);case 8:E(!1);case 9:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),P=void 0!==o&&o?"one-way":"two-way",A=(0,r6.gW)([a_,aO.y,aF],{client:f,t:l,type:P,isOwner:r,handleRevocation:S});return R.createElement("div",{className:c},_&&R.createElement(nG.default,null),C&&R.createElement(R.Fragment,null,R.createElement(rS,{ref:d,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return k(!w)},textVariant:"body2"},l("Share.type.".concat(P)).toLowerCase()),R.createElement(r4.default,{ref:d,open:w,actions:A,autoClose:!0,onClose:function(){return k(!1)}},R.createElement(az.default,null,R.createElement(t7.default,null,R.createElement(tq,{size:"m"})),R.createElement(t8.default,{primary:n,primaryTypographyProps:{variant:"h6"}})))))},aB=function(e){var t=e.name,n=e.members,r=e.fadeIn,a=e.owner,i=e.isOwner,o=(0,tO.useI18n)().t,c=(0,j.useClient)(),s=(0,rv.default)().isMobile,u=(0,R.useState)(!1),l=m()(u,2),d=l[0],f=l[1],p=n.length,h=n.filter(function(e){return!["revoked","mail-not-sent"].includes(e.status)}).length,v=n.some(function(e){return e.instance===c.options.uri});return R.createElement(R.Fragment,null,R.createElement(rm,{in:!0,timeout:600*!!r},R.createElement(t5.default,{button:!0,onClick:function(){f(!d)},gutters:s?"default":"double",size:"small"},R.createElement(t7.default,null,R.createElement(tq,{size:"m"})),R.createElement(t8.default,{primary:R.createElement(t9.default,{variant:"body1"},t),secondary:nu({t:o,nbMember:p,nbMemberReady:h,isUserInsideMembers:v})}),R.createElement(r0.default,{className:s?"u-mr-1":"u-mr-2"},R.createElement(aL,e3()({isUserInsideMembers:v},e))))),d?R.createElement(aN,{isOwner:i,owner:a,name:t,members:n,onClose:function(){f(!1)}}):null)},aU="undefined"==typeof window;function aV(e){var t=(0,R.useRef)();return(0,R.useEffect)(function(){t.current=e},[e]),t.current}function aH(e){var t,n,r=(t=(0,R.useRef)(!1),n=(0,R.useCallback)(function(){return t.current},[]),R[aU?"useEffect":"useLayoutEffect"](function(){return t.current=!0,function(){t.current=!1}},[]),n),a=R.useState(e),i=m()(a,2),o=i[0],c=i[1];return[o,R.useCallback(function(e){var t;t=function(){r()&&c(e)},Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})},[r])]}var aq=function(e){var t=(0,R.forwardRef)(function(t,n){return R.createElement(r7.A,e3()({},t,{ref:n}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:rA.default,color:"var(--errorColor)"})),R.createElement(t8.default,{primary:R.createElement(t9.default,{color:"error"},e)}))});return t.displayName="RevokeSharedDriveMember",t},aW=function(e){var t=e.t,n=e.handleRevocation,r=t("RevokeSharedDriveMemberItem.revoke.title");return{name:"revokeSharedDriveMember",label:r,action:function(){n()},Component:aq(r)}},aG=function(e){var t=e.label,n=e.type,r=e.onClick,a=(0,R.forwardRef)(function(e,a){return R.createElement(r7.A,e3()({},e,{ref:a,button:!1,onClick:r}),R.createElement(t7.default,null,R.createElement(r8.A,{checked:"one-way"===n})),R.createElement(t8.default,{primary:t}))});return a.displayName="SetReadOnlySharedPermission",a},aZ=function(e){var t=e.t,n=e.type,r=e.setType,a=t("Share.type.one-way"),i=function(){r("one-way")};return{name:"setReadOnlySharedPermission",label:a,icon:null,action:i,Component:aG({label:a,type:n,onClick:i})}},aK=function(e){var t=e.label,n=e.type,r=e.onClick,a=(0,R.forwardRef)(function(e,a){return R.createElement(r7.A,e3()({},e,{ref:a,button:!1,onClick:r}),R.createElement(t7.default,null,R.createElement(r8.A,{checked:"two-way"===n})),R.createElement(t8.default,{primary:t}))});return a.displayName="SetReadWriteSharedPermission",a},aQ=function(e){var t=e.t,n=e.type,r=e.setType,a=t("Share.type.two-way"),i=function(){r("two-way")};return{name:"setReadWriteSharedPermission",label:a,icon:null,action:i,Component:aK({label:a,type:n,onClick:i})}};let aY=function(e){var t,n,r=e.index,a=e.onSetType,i=e.type,o=e.onRevoke,c=(0,tO.useI18n)().t,s=(0,R.useRef)(),u=(0,j.useClient)(),l=(0,R.useState)(!1),d=m()(l,2),f=d[0],p=d[1],h=function(){return p(!1)},v=(t=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o(r),h();case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),g=(n=y()(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t!==i&&a(r,t),h();case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),b=(0,r6.gW)([aZ,aQ,aO.y,aW],{t:c,client:u,type:i,setType:g,handleRevocation:v});return R.createElement("div",null,R.createElement(rS,{ref:s,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return p(!f)},textVariant:"body2"},c("Share.type.".concat(i)).toLowerCase()),R.createElement(r4.default,{ref:s,open:f,actions:b,autoClose:!0,onClose:h}))},aJ=function(e){var t=e.members,n=e.email,r=(0,tO.useI18n)().t,a=t?r("GroupRecipient.secondary",{memberCount:t.length,smart_count:t.length}):n;return R.createElement(t9.default,{variant:"caption",color:"textSecondary"},a)};var a$=["fadeIn","members"],aX=function(e){var t=(0,tO.useI18n)().t,n=(0,rv.default)().isMobile,r=e.fadeIn,a=e.members,i=tp(F()(e,a$),t(ni));return R.createElement(rm,{in:!0,timeout:600*!!r},R.createElement(t5.default,{gutters:n?"default":"double",size:"small"},R.createElement(t7.default,null,a?R.createElement(tq,{size:"m"}):R.createElement(tZ,{size:"m",recipient:e})),R.createElement(t8.default,{primary:R.createElement(t9.default,{variant:"body1"},i),secondary:R.createElement(aJ,e)}),R.createElement(aY,e3()({},e,{className:"u-flex-shrink-0"}))))};aX.propTypes={instance:tF().string,isOwner:tF().bool,status:tF().string,recipientConfirmationData:tF().object,verifyRecipient:tF().func};var a0=function(e){var t=e.recipients,n=e.recipientsToBeConfirmed,r=e.isOwner,a=e.isSharedDrive,i=e.document,o=e.documentType,c=e.onRevoke,s=e.onRevokeSelf,u=e.onSetType,l=e.verifyRecipient,d=aV(t);return t.filter(function(e){return"owner"!==e.status}).map(function(e){return d&&!d.find(function(t){return t.name===e.name&&t.email===e.email})?na(na({},e),{},{hasBeenJustAdded:!0}):e}).map(function(e){var t,d=n.find(function(t){return t.email===e.email});return(null==e||null==(t=e.index)?void 0:t.toString().startsWith("virtual-shared-drive"))?R.createElement(aX,e3()({},e,{key:e.index,onRevoke:c,onSetType:u,fadeIn:e.hasBeenJustAdded})):e.members?R.createElement(aB,e3()({},e,{isOwner:r,key:e.index,document:i,documentType:o,onRevoke:c,onRevokeSelf:s,fadeIn:e.hasBeenJustAdded})):R.createElement(aP,e3()({},e,{key:e.index,isOwner:r,isSharedDrive:a,document:i,documentType:o,onRevoke:c,onRevokeSelf:s,recipientConfirmationData:d,verifyRecipient:l,fadeIn:e.hasBeenJustAdded}))})},a1=function(e){var t=e.recipientsToBeConfirmed,n=(0,tO.useI18n)().t;return t.length>0?n("Share.twoStepsConfirmation.contactAreWaitingForConfirmation",{smart_count:t.length}):null},a2=function(e){var t=e.isOwner,n=e.isSharedDrive,r=e.recipients,a=e.recipientsToBeConfirmed,i=void 0===a?[]:a,o=e.document,c=e.documentType,s=e.className,u=e.onRevoke,l=e.onRevokeSelf,d=e.onSetType,f=e.verifyRecipient,p=e.link,h=e.permissions,m=aV(p),v=p&&null===m;return R.createElement("div",{className:s},R.createElement(a1,{recipientsToBeConfirmed:i}),R.createElement(rh.default,null,p&&R.createElement(ax,{document:o,documentType:c,onRevoke:u,onRevokeSelf:l,link:p,permissions:h,fadeIn:v}),R.createElement(aD,{recipients:r}),R.createElement(a0,{recipients:r,recipientsToBeConfirmed:i,isOwner:void 0!==t&&t,isSharedDrive:void 0!==n&&n,document:o,documentType:c,onRevoke:u,onRevokeSelf:l,onSetType:d,verifyRecipient:f})))};a2.propTypes={isOwner:tF().bool,recipients:tF().array.isRequired,recipientsToBeConfirmed:tF().arrayOf(tF().shape({email:tF().string.isRequired})),document:tF().object.isRequired,documentType:tF().string.isRequired,onRevoke:tF().func.isRequired,onRevokeSelf:tF().func,verifyRecipient:tF().func};var a3=tC(function(e){var t=e.title,n=e.document,r=e.sharedDriveName,a=e.handleSharedDriveNameChange,i=e.createContact,o=e.recipients,c=e.onRevoke,s=e.onSetType,u=e.onCreate,l=e.onClose,d=e.onShare,f=e.onRename,p=(0,tO.useI18n)().t;return R.createElement(nU.A,{open:!0,disableGutters:!0,onClose:l,title:t,classes:{paper:"u-ov-visible"},componentsProps:{dialogContent:{className:"u-ov-visible"}},content:R.createElement("div",null,R.createElement("div",{className:"u-ph-2"},a&&R.createElement(nV.default,{required:!0,label:p("SharedDrive.sharedDriveModal.nameLabel"),variant:"outlined",size:"small",className:"u-w-100 u-mt-1-half",value:r,onChange:a}),R.createElement(t9.default,{variant:"h6",className:"u-mt-1-half u-mb-half"},p("SharedDrive.sharedDriveModal.addPeople")),R.createElement(rp,{createContact:i,currentRecipients:[],document:n,documentType:"Files",onShare:d,submitLabel:p("SharedDrive.sharedDriveModal.add"),showNotifications:!1})),R.createElement(a2,{isOwner:!0,isSharedDrive:!0,recipients:o,document:n,documentType:"Files",className:"u-w-100",onRevoke:c,onSetType:s})),actions:R.createElement(R.Fragment,null,u&&R.createElement(R.Fragment,null,R.createElement(nA.default,{variant:"secondary",label:p("SharedDrive.sharedDriveModal.cancel"),onClick:l}),R.createElement(nA.default,{variant:"primary",label:p("SharedDrive.sharedDriveModal.create"),onClick:u})),f&&R.createElement(R.Fragment,null,R.createElement(nA.default,{variant:"primary",label:p("SharedDrive.sharedDriveModal.save"),onClick:function(){return f(r)}})))})});a3.propTypes={title:tF().string,document:tF().object,sharedDriveName:tF().string,handleSharedDriveNameChange:tF().func.isRequired,createContact:tF().func.isRequired,recipients:tF().array,onRevoke:tF().func.isRequired,onSetType:tF().func.isRequired,onCreate:tF().func.isRequired,onClose:tF().func.isRequired,onShare:tF().func.isRequired,onRename:tF().func.isRequired};var a4=j.models.contact,a6=function(e){var t=e.flat(),n=new Set;return t.filter(function(e){return!n.has(e.id)&&(n.add(e.id),!0)})},a5=function(e){var t=[];return e.recipients.forEach(function(e){t.push({index:"virtual-shared-drive-sharing-".concat(e._id),email:a4.getPrimaryEmail(e),public_name:e.displayName||e.name,memberIndex:e._id,type:"two-way",members:e.members})}),e.readOnlyRecipients.forEach(function(e){t.push({index:"virtual-shared-drive-sharing-".concat(e._id),email:a4.getPrimaryEmail(e),public_name:e.displayName||e.name,memberIndex:e._id,type:"one-way",members:e.members})}),t.sort(function(e,t){return e.public_name<t.public_name?-1:+(e.public_name>t.public_name)}),t},a7=tC(function(e){var t,n=e.onClose,r=(0,j.useClient)(),a=(0,tO.useI18n)().t,i=tS().share,o=(0,nB.useAlert)().showAlert,c=(0,R.useState)({recipients:[],readOnlyRecipients:[]}),s=m()(c,2),u=s[0],l=s[1],d=(0,R.useState)(""),f=m()(d,2),h=f[0],v=f[1],g=(t=y()(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.collection("io.cozy.files").getOrCreateSharedDrivesDirectory();case 3:return e.next=5,r.create("io.cozy.files",{name:h,dirId:"io.cozy.files.shared-drives-dir",type:"directory"});case 5:return t=e.sent.data,e.next=9,i({description:h,document:t,recipients:u.recipients,readOnlyRecipients:u.readOnlyRecipients,sharedDrive:!0});case 9:o({message:a("SharedDrive.sharedDriveModal.successNotification"),severity:"success",variant:"filled"}),n(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o({message:a("SharedDrive.sharedDriveModal.errorNotification"),severity:"error",variant:"filled"});case 16:case"end":return e.stop()}},e,null,[[0,13]])})),function(){return t.apply(this,arguments)}),b=a5(u);return R.createElement(a3,{title:a("SharedDrive.sharedDriveModal.title"),sharedDriveName:h,handleSharedDriveNameChange:function(e){v(e.target.value)},createContact:function(e){return r.create(th.doctype,e)},recipients:b,onRevoke:function(e){var t=e.split("virtual-shared-drive-sharing-")[1];l(function(e){return{recipients:e.recipients.filter(function(e){return e._id!==t}),readOnlyRecipients:e.readOnlyRecipients.filter(function(e){return e._id!==t})}})},onSetType:function(e,t){var n=e.split("virtual-shared-drive-sharing-")[1];"two-way"===t?l(function(e){var t=e.readOnlyRecipients.find(function(e){return e._id===n});return{recipients:[].concat(p()(e.recipients),[t]),readOnlyRecipients:e.readOnlyRecipients.filter(function(e){return e._id!==n})}}):l(function(e){var t=e.recipients.find(function(e){return e._id===n});return{recipients:e.recipients.filter(function(e){return e._id!==n}),readOnlyRecipients:[].concat(p()(e.readOnlyRecipients),[t])}})},onCreate:g,onClose:n,onShare:function(e){l({recipients:a6([u.recipients,e.recipients]),readOnlyRecipients:a6([u.readOnlyRecipients,e.readOnlyRecipients])})}})});a7.propTypes={onClose:tF().func.isRequired};var a8=n(90179),a9=n.n(a8),ie=n(47767),it=function(e){var t,n,r=e.link,a=e.document,i=e.documentType,o=(0,tO.useI18n)().t,c=(0,rv.default)().isMobile,s=(0,nB.useAlert)().showAlert,u=r&&c&&navigator.share,l=r&&!c||r&&c&&!navigator.share,d=(0,R.useReducer)(function(e){return!e},!1),f=m()(d,2),p=f[0],h=f[1],v=(t=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(r,{t:o,showAlert:s});case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),g=(n=y()(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={text:o("".concat(i,".share.shareByLink.shareDescription"),{name:a.name||""}),url:r},e.next=4,navigator.share(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({message:o("".concat(i,".share.error.generic")),severity:"error",variant:"filled"});case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return n.apply(this,arguments)});return R.createElement("div",{className:"u-w-100 u-flex u-flex-justify-center"},!r&&R.createElement(nA.default,{label:o("".concat(i,".share.shareByLink.create")),variant:"secondary",size:"medium",startIcon:R.createElement(tj.default,{icon:tM}),className:"u-flex-auto",style:{position:"initial"},onClick:h}),u&&R.createElement(R.Fragment,null,R.createElement(nA.default,{label:o("".concat(i,".share.shareByLink.send")),variant:"secondary",size:"medium",startIcon:R.createElement(tj.default,{icon:tM}),className:"u-flex-auto u-mr-half",onClick:g}),R.createElement(nA.default,{label:R.createElement(tj.default,{icon:ac.default}),variant:"secondary",size:"medium",onClick:v})),l&&R.createElement(nA.default,{label:o("".concat(i,".share.shareByLink.copy")),variant:"secondary",size:"medium",startIcon:R.createElement(tj.default,{icon:tM}),className:"u-flex-auto u-mr-half",onClick:v}),p&&R.createElement(ab,{file:a,onClose:h}))};it.propTypes={link:tF().string,document:tF().object.isRequired,documentType:tF().string.isRequired};var ir=function(){return R.createElement("div",{className:"u-ta-center"},R.createElement(nG.default,{size:"xxlarge",loadingType:"sharing"}))},ia=function(){var e=(0,tO.useI18n)().t;return R.createElement("div",null,e("Share.loadingError"))},ii=function(e){var t=e.confirm,n=e.reject,r=(0,tO.useI18n)().t;return R.createElement(R.Fragment,null,R.createElement(nA.default,{variant:"secondary",color:"error",label:r("Share.twoStepsConfirmation.reject"),onClick:n}),R.createElement(nA.default,{label:r("Share.twoStepsConfirmation.confirm"),onClick:t}))},io=function(e){var t=e.recipientConfirmationData;return(0,(0,tO.useI18n)().t)("Share.twoStepsConfirmation.confirmRejection",{userName:t.name,userEmail:t.email})},ic=function(e){var t=e.reject,n=e.cancel,r=(0,tO.useI18n)().t;return R.createElement(R.Fragment,null,R.createElement(nA.default,{variant:"secondary",label:r("Share.twoStepsConfirmation.cancel"),onClick:n}),R.createElement(nA.default,{label:r("Share.twoStepsConfirmation.reject"),onClick:t}))};let is=function(e){var t=e.createContact,n=e.document,r=e.documentType,a=e.hasSharedParent,i=e.isOwner,o=e.link,c=e.onClose,s=e.onRevoke,u=e.onRevokeLink,l=e.onRevokeSelf,d=e.onShare,f=e.onUpdateShareLinkPermissions,p=e.permissions,h=e.recipients,v=e.sharing,g=e.sharingDesc,b=e.showShareByEmail,w=e.showShareOnlyByLink,k=e.showWhoHasAccess,x=e.twoStepsConfirmationMethods,O=void 0===x?{}:x,_=e.dialogContentOnShare,E=e.dialogActionsOnShare,C=e.dialogTitleOnShare,S=(0,tO.useI18n)().t,P=null==O?void 0:O.getRecipientsToBeConfirmed,A=aH(P?"loading":"sharing"),D=m()(A,2),j=D[0],M=D[1],I=aH([]),N=m()(I,2),z=N[0],F=N[1],L=(0,R.useState)(void 0),B=m()(L,2),U=B[0],V=B[1],H=O.confirmRecipient,q=O.rejectRecipient,W=O.recipientConfirmationDialogContent,G=(0,R.useCallback)(y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=15;break}return M("loading"),e.prev=2,e.next=5,O.getRecipientsToBeConfirmed();case 5:F(e.sent),M("sharing"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),M("error");case 13:e.next=16;break;case 15:M("sharing");case 16:case"end":return e.stop()}},e,null,[[2,10]])})),[P,O,F,M]);(0,R.useEffect)(function(){G()},[G]);var Z=function(){M("confirmingRecipient")},K=R.createElement(C,{recipientsToBeConfirmed:z}),Q=null,Y=null,J=null;return"error"===j?Q=R.createElement(ia,null):"loading"===j?Q=R.createElement(ir,null):"sharing"===j?(Q=R.createElement(_,{createContact:t,document:n,documentType:r,hasSharedParent:a,isOwner:i,onRevoke:s,onRevokeSelf:l,onShare:d,recipients:h,sharing:v,sharingDesc:g,showShareByEmail:b,showShareOnlyByLink:w,showWhoHasAccess:k,recipientsToBeConfirmed:z,verifyRecipient:function(e){V(e),M("confirmingRecipient")},link:o,permissions:p,onUpdateShareLinkPermissions:f,onRevokeLink:u}),Y=E?R.createElement(E,{link:o,document:n,documentType:r}):null):"confirmingRecipient"===j?(K=S("Share.twoStepsConfirmation.title"),Q=R.createElement(W,{recipientConfirmationData:U}),Y=R.createElement(ii,{confirm:function(){H(U).then(function(){G()})},reject:function(){V(U),M("rejectingRecipient")}}),J=function(){M("sharing")}):"rejectingRecipient"===j&&(K=S("Share.twoStepsConfirmation.titleReject"),Q=R.createElement(io,{recipientConfirmationData:U}),Y=R.createElement(ic,{reject:function(){M("loading"),q(U).then(function(){G()})},cancel:Z}),J=Z),R.createElement(nU.A,{disableGutters:!0,disableEnforceFocus:!0,open:!0,onClose:c,onBack:J,title:K,content:Q,actions:Y})};var iu=["showShareByLink","documentType","document"],il=function(e){var t=e.createContact,n=e.document,r=e.documentType,a=e.hasSharedParent,i=e.isOwner,o=e.onRevoke,c=e.onRevokeSelf,s=e.onShare,u=e.recipients,l=e.sharing,d=e.sharingDesc,f=e.showShareByEmail,p=e.showShareOnlyByLink,h=e.showWhoHasAccess,m=e.recipientsToBeConfirmed,v=e.verifyRecipient,y=e.link,g=e.permissions,b=(0,tO.useI18n)().t,w=(0,rv.default)().isMobile;return R.createElement("div",{className:tT()("share__share-modal-content___1iqEq")},R.createElement("div",{className:tT()("u-pt-1-half",w?"u-ph-1":"u-ph-2")},p&&R.createElement("div",{className:"share__share-byemail-onlybylink___29W-t"},b("".concat(r,".share.shareByEmail.onlyByLink"),{type:b("".concat(r,".share.shareByEmail.type.").concat("directory"===n.type?"folder":"file"))})," ",R.createElement("strong",null,b("".concat(r,".share.shareByEmail.").concat(a?"hasSharedParent":"hasSharedChild")))),R.createElement(t9.default,{variant:"h6",className:"u-mb-1-half"},b("Share.contacts.whoHasAccess")),f&&R.createElement(rp,{createContact:t,currentRecipients:u,document:n,documentType:r,onShare:s,sharing:l,sharingDesc:d})),h&&R.createElement(a2,{document:n,documentType:r,isOwner:i,onRevoke:o,onRevokeSelf:c,recipients:u,recipientsToBeConfirmed:m,verifyRecipient:v,link:y,permissions:g}))},id=function(e){var t=e.documentType,n=e.document;return function(){var e;return(0,(0,tO.useI18n)().t)("".concat(t,".share.title"),{name:n.name||(null==(e=n.attributes)?void 0:e.name)})}};let ip=function(e){var t=e.showShareByLink,n=e.documentType,r=e.document,a=F()(e,iu);return R.createElement(is,e3()({},a,{documentType:n,document:r,dialogContentOnShare:il,dialogActionsOnShare:t?it:null,dialogTitleOnShare:id({documentType:n,document:r}),disableGutters:!0}))},ih=function(e){var t=e.isOwner,n=e.onRevoke,r=e.onRevokeSelf,a=e.recipients,i=e.document,o=e.documentType,c=e.link,s=e.onClose,u=e.permissions,l=(0,tO.useI18n)().t,d=(0,rv.default)().isMobile;return R.createElement(aT.A,{disableGutters:!0,disableEnforceFocus:!0,open:!0,onClose:s,title:l("".concat(o,".share.title"),{name:i.name||i.attributes.name}),content:R.createElement(R.Fragment,null,R.createElement(t9.default,{variant:"h6",className:tT()(d?"u-ph-1 u-mt-1":"u-ph-2 u-mt-1-half")},l("Share.contacts.whoHasAccess")),R.createElement(a2,{document:i,documentType:o,isOwner:t,onRevoke:n,onRevokeSelf:r,recipients:a,link:c,permissions:u}),R.createElement("div",{className:tT()("u-mt-half",d?"u-ph-1 u-mb-1":"u-ph-2 u-mb-1-half")},R.createElement(it,{link:c,document:i,documentType:o})))})};var im=tC(function(e){var t,n=e.document,r=e.sharing,a=e.recipients,i=e.onShare,o=e.onRevoke,c=e.onClose,s=(0,j.useClient)(),u=(0,tO.useI18n)().t,l=(0,nB.useAlert)().showAlert,d=tS().renameSharedDrive,f=(0,R.useState)(null==r?void 0:r.description),p=m()(f,2),h=p[0],v=p[1],g=(t=y()(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(n,t);case 3:l({message:u("SharedDrive.sharedDriveModal.successNotificationUpdate"),severity:"success"}),c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({message:u("SharedDrive.sharedDriveModal.errorNotificationUpdate"),severity:"error"});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return t.apply(this,arguments)});return R.createElement(a3,{title:u("Files.share.title",{name:null==r?void 0:r.description}),document:n,createContact:function(e){return s.create(th.doctype,e)},recipients:a,onRevoke:o,onClose:c,onShare:i,sharedDriveName:h,handleSharedDriveNameChange:function(e){v(e.target.value)},onRename:g})});im.propTypes={onClose:tF().func.isRequired};var iv=function(e){var t=e.createContact,n=e.document,r=e.documentType,a=void 0===r?"Document":r,i=e.hasSharedChild,o=e.hasSharedParent,c=e.isOwner,s=e.isSharedDrive,u=e.link,l=e.onClose,d=e.onRevoke,f=e.onRevokeSelf,p=e.onShare,h=e.permissions,m=e.recipients,v=e.sharing,y=e.sharingDesc,g=e.twoStepsConfirmationMethods;if(s)return R.createElement(im,{document:n,sharing:v,recipients:m,onShare:p,onRevoke:d,onClose:l});var b=(0,U.default)("cozy.hide-sharing-cozy-to-cozy")||"Albums"===a,w=!o&&!i,k="Organizations"!==a,x=o||i,O="Albums"!==a;return b?R.createElement(ih,{isOwner:c,onRevoke:d,onRevokeSelf:f,recipients:m,document:n,documentType:a,link:u,onClose:l,permissions:h}):R.createElement(ip,{createContact:t,document:n,documentType:a,hasSharedParent:o,isOwner:c,link:u,onClose:l,onRevoke:d,onRevokeSelf:f,onShare:p,permissions:h,recipients:m,sharing:v,sharingDesc:y,showShareByEmail:w,showShareByLink:k,showShareOnlyByLink:x,showWhoHasAccess:O,twoStepsConfirmationMethods:g})};iv.propTypes={createContact:tF().func.isRequired,document:tF().object.isRequired,documentType:tF().string,hasSharedChild:tF().bool,hasSharedParent:tF().bool,isOwner:tF().bool,link:tF().string,onClose:tF().func.isRequired,onRevoke:tF().func.isRequired,onShare:tF().func.isRequired,permissions:tF().array.isRequired,recipients:tF().array.isRequired,sharingDesc:tF().string,twoStepsConfirmationMethods:tF().shape({getRecipientsToBeConfirmed:tF().func,confirmRecipient:tF().func,rejectRecipient:tF().func,recipientConfirmationDialogContent:tF().func})};var iy=["document"],ig=function(e){var t=e.document,n=F()(e,iy),r=(0,j.useClient)(),a=tP(r,t),i=tS(),o=i.documentType,c=i.getDocumentPermissions,s=i.getRecipients,u=i.getSharingForSelf,l=i.getSharingLink,d=i.hasSharedChild,f=i.hasSharedParent,p=i.isOwner,h=i.isSharedDrive,m=i.revoke,v=i.revokeSelf,y=i.share;return R.createElement(iv,e3()({createContact:function(e){return r.create(th.doctype,e)},document:t,documentType:o,hasSharedChild:a&&d(a),hasSharedParent:a&&f(a),isOwner:p(t._id),isSharedDrive:h(t._id),link:l(t._id),onRevoke:m,onRevokeSelf:v,onShare:y,permissions:c(t._id),recipients:s(t._id),sharing:u(t._id)},n))};ig.propTypes={document:tF().object};var ib=n(82092),iw=["url","size"];let ik=function(e){var t=e.url,n=e.size,r=F()(e,iw);return R.createElement("div",{className:"recipient__avatar___2LnIV"},R.createElement(tR.default,{size:n},tf(r)),R.createElement(nw,{name:tp(r),details:t}))};var ix={"share-modal-content":"share__share-modal-content___1iqEq","coz-form":"share__coz-form___1ICST","coz-form-group":"share__coz-form-group___VsQp7","coz-form-desc":"share__coz-form-desc___2mYN4","coz-form-label":"share__coz-form-label___bogBw","coz-form-label--error":"share__coz-form-label--error___3YPkf","coz-form-errors":"share__coz-form-errors___2xYRz","coz-form-controls":"share__coz-form-controls___H8kGc","coz-form-controls--full":"share__coz-form-controls--full___1oQXF","coz-form-controls--dispatch":"share__coz-form-controls--dispatch___1zIxt",error:"share__error___pwqPO","share-byemail-onlybylink":"share__share-byemail-onlybylink___29W-t","aligned-dropdown-button":"share__aligned-dropdown-button___3crgG","share-type-control":"share__share-type-control___1YoRr","select-wrapper":"share__select-wrapper___3XBKC","select-option":"share__select-option___3Jp8_","select-option-label":"share__select-option-label___1BWz_","select-option-desc":"share__select-option-desc___3jOnr","share-details-created":"share__share-details-created___z3nvO","share-details-perm":"share__share-details-perm___3HjxK","share-details-perm-desc":"share__share-details-perm-desc___3HyHu"},iO=function(e){var t=e.onClose,n=e.sharingType,r=e.owner,a=e.recipients,i=e.document,o=e.documentType,c=void 0===o?"Document":o,s=e.onRevoke,u=e.onRevokeSelf,l=(0,tO.useI18n)(),d=l.t,f=l.f,p=(0,rv.default)().isMobile;return R.createElement(aT.A,{disableGutters:!0,open:!0,onClose:t,className:ix["share-modal"],title:d("".concat(c,".share.details.title")),content:R.createElement("div",{className:ix["share-modal-content"]},R.createElement("div",{className:tT()(ix["share-details"],p?"u-ph-1 u-pt-1-half":"u-ph-2 u-pt-1")},r?R.createElement(ik,{name:d("".concat(c,".share.sharedBy"),{name:tp(r)}),url:r.instance}):null,R.createElement("div",{className:ix["share-details-created"]},d("".concat(c,".share.details.createdAt"),{date:f(i.created_at||null,"do LLLL yyyy")})),R.createElement("div",{className:ix["share-details-perm"]},d("".concat(c,".share.details.").concat("one-way"===n?"ro":"rw"))),R.createElement("div",{className:ix["share-details-perm-desc"]},d("".concat(c,".share.details.desc.").concat("one-way"===n?"ro":"rw")))),R.createElement(ib.default,{className:"u-mv-1"}),R.createElement(a2,{title:d("Share.recipients.accessCount",{count:a.length}),recipients:a,document:i,documentType:c,onRevoke:s,onRevokeSelf:u}))})};iO.propTypes={onClose:tF().func,sharingType:tF().string,owner:tF().object.isRequired,document:tF().object.isRequired,documentType:tF().string.isRequired,onRevoke:tF().func.isRequired,onRevokeSelf:tF().func};var i_=["onRevokeSuccess"],iE=tC(function(e){var t,n,r=null===ie.zy||void 0===ie.zy?void 0:(0,ie.zy)(),a=null==r||null==(n=r.state)?void 0:n.modalProps,i=(null==a?void 0:a.document)||e.document,o=a9()(a||e,"document"),c=o.onRevokeSuccess,s=F()(o,i_),u=tS(),l=u.byDocId,d=u.isOwner,f=u.canReshare,p=u.documentType,h=u.getOwner,m=u.getSharingType,v=u.getRecipients,g=u.revokeSelf,b=(t=y()(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:null==c||c(t);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return!l[i.id]||d(i.id)||f(i.id)?R.createElement(ig,e3()({document:i},s)):R.createElement(iO,e3()({document:i,documentType:p,owner:h(i.id),sharingType:m(i.id),recipients:v(i.id),onRevoke:g,onRevokeSelf:b},s))});iE.propTypes={document:tF().object.isRequired,onRevokeSuccess:tF().func};var iC=function(e){var t=e.children;return R.createElement(N.Consumer,null,function(e){return t({refresh:e.refresh})})},iS=n(64786),iP=n(32859),iA={"cozy-pass-fingerprint-modal__fingerprint":"CozyPassFingerprintDialogContent__cozy-pass-fingerprint-modal__fingerprint___3qIGs"},iD=function(e){var t=e.recipientConfirmationData,n=(0,tO.useI18n)().t,r=(0,iS.A)(n("Organizations.fingerprint.instruction",{userName:t.name,userEmail:t.email})),a=(0,iS.A)(n("Organizations.fingerprint.instruction2"));return R.createElement("div",{className:tT()(iA["share-modal-content"])},R.createElement("p",{dangerouslySetInnerHTML:{__html:r}}),R.createElement(iP.default,{className:tT()(iA["cozy-pass-fingerprint-modal__fingerprint"]),elevation:1},R.createElement(t9.default,{variant:"body1"},t.fingerprintPhrase)),R.createElement("p",{dangerouslySetInnerHTML:{__html:a}}))};iD.propTypes={recipientConfirmationData:tF().shape({name:tF().string.isRequired,email:tF().string.isRequired,fingerprintPhrase:tF().string.isRequired})};var iT=n(44819),iR=function(e){var t=e.icon,n=e.bgcolor,r=e.className,a=e.text,i=e.buttonOne,o=e.buttonTwo,c=e.inline,s=e.noDivider,u=e.disableIconStyles,l=c?[8,4]:[12,12];return R.createElement(R.Fragment,null,R.createElement(iP.default,{elevation:0,square:!0},R.createElement("div",{className:rL()("styles__c-banner-wrapper___3KlaG",r),style:n&&{backgroundColor:n}},R.createElement(iT.default,{container:!0,justifyContent:"space-between"},R.createElement(iT.default,{container:!0,item:!0,xs:12,lg:l[0],alignItems:u?"flex-start":"center",wrap:"nowrap"},t&&R.createElement(iT.default,{item:!0},R.createElement("div",{className:rL()(A()({},"styles__c-banner-icon___1f_LM",!u))},t)),R.createElement(iT.default,{item:!0,className:"styles__c-banner-text___1sTVC"},R.createElement(t9.default,{variant:"body2"},a))),(i||o)&&R.createElement(iT.default,{container:!0,item:!0,xs:12,lg:l[1],justifyContent:"flex-end",alignItems:"center"},R.createElement(iT.default,{item:!0,className:"styles__c-banner-buttons___3sLgG"},i&&i,o&&o))))),!s&&R.createElement(ib.default,null))};iR.propTypes={icon:rb().node,bgcolor:rb().string,text:rb().node,buttonOne:rb().node,buttonTwo:rb().node,inline:rb().bool,noDivider:rb().bool,disableIconWrapper:rb().bool};var ij=function(e){var t=e.sharing,n=(0,tO.useI18n)().t,r=(0,j.useClient)(),a=t.attributes.members[0].public_name,i="".concat(r.options.uri,"/public/avatar?fallback=initials"),o=(0,iS.A)(n("Share.banner.shared_from",{name:a,image:i})).split("<img src"),c=o[1].split("<strong>")[1].split("</strong>"),s=m()(c,2),u=s[0],l=s[1];return R.createElement("span",{className:"publicBanner__bannermarkdown___1dR1E"},o[0],R.createElement("img",{src:i,alt:"avatar"})," ",R.createElement("strong",null,u),l)};ij.propTypes={sharing:tF().object.isRequired};var iM=function(e){var t=e.sharing,n=e.isSharingShortcutCreated,r=e.addSharingLink,a=e.onClose,i=(0,tO.useI18n)().t,o=function(){return window.location=r},c=n?{label:i("Share.banner.sync_to_mine",{smart_count:2}),icon:"sync-cozy",action:o}:{label:i("Share.banner.add_to_mine",{smart_count:2}),icon:"to-the-cloud",action:o};return R.createElement(iR,{bgcolor:"var(--defaultBackgroundColor)",text:R.createElement(ij,{sharing:t}),buttonOne:R.createElement(nA.default,{variant:"text",label:c.label,icon:c.icon,onClick:c.action}),buttonTwo:R.createElement(nA.default,{variant:"text",label:i("Share.banner.close"),onClick:a}),inline:!0})},iI=function(){var e=(0,tO.useI18n)().t,t=e("Share.banner.whats_cozy"),n=R.createElement("a",{href:"https://twake.app",target:"_blank",className:"u-link",rel:"noopener noreferrer"},e("Share.banner.know_more"));return R.createElement("span",{style:{color:"var(--iconTextColor)"}},t," ",n)},iN=function(e){var t=e.onClose,n=(0,tO.useI18n)().t,r=(0,U.default)("signup.url");return R.createElement(iR,{bgcolor:"var(--defaultBackgroundColor)",text:R.createElement(iI,null),buttonOne:R.createElement(nA.default,{component:"a",variant:"text",label:n("Share.create-cozy",{smart_count:2}),icon:"cloud",href:r}),buttonTwo:R.createElement(nA.default,{variant:"text",label:n("Share.banner.close"),onClick:t}),inline:!0})};iM.propTypes={sharing:tF().object.isRequired,isSharingShortcutCreated:tF().bool.isRequired,addSharingLink:tF().string.isRequired,onClose:tF().func.isRequired};var iz=function(e){var t=e.sharingInfos,n=(0,R.useState)(!0),r=m()(n,2),a=r[0],i=r[1],o=(0,R.useCallback)(function(){return i(!1)},[i]),c=t.loading,s=t.addSharingLink,u=t.sharing,l=t.isSharingShortcutCreated;return c?null:a&&(s?R.createElement(iM,{isSharingShortcutCreated:l,sharing:u,addSharingLink:s,onClose:o}):R.createElement(iN,{onClose:o}))};iz.propTypes={sharingInfos:tF().object};var iF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=m()(t,2),r=n[0],a=n[1];return e[r]=decodeURIComponent(void 0===a||a),e},iL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/preview",t=(0,j.useClient)(),n=(0,R.useState)(),r=m()(n,2),a=r[0],i=r[1],o=(0,R.useState)(),c=m()(o,2),s=c[0],u=c[1],l=(0,R.useState)(!1),d=m()(l,2),f=d[0],p=d[1],h=(0,R.useState)(),v=m()(h,2),g=v[0],b=v[1],w=(0,R.useState)(!0),k=m()(w,2),x=k[0],O=k[1],_=(0,U.default)("signup-url")||"https://sign-up.twake.app";return(0,R.useEffect)(function(){var n,r=(n=y()(T().mark(function e(){var n,r,a,o,c,s,l,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,t.collection("io.cozy.permissions").fetchOwnPermissions();case 4:return n=e.sent,r=j.models.permission.isShortcutCreatedOnTheRecipientCozy(n),a=n.data.attributes.source_id.split("/")[1],o=window.location.search.substring(1).split("&").map(function(e){return e.split("=")}).reduce(iF,{}).sharecode,c=t.collection("io.cozy.sharings").getDiscoveryLink(a,o,{shortcut:!0}),s=t.collection("io.cozy.sharings").getDiscoveryLink(a,o),l={definition:(0,j.Q)("io.cozy.sharings").getById(a),options:{as:"io.cozy.sharings/".concat(a),fetchPolicy:tm}},e.next=13,t.query(l.definition);case 13:d=e.sent.data,i(c),u(s),p(r),b(d),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),tn.warn("Failed to load sharing discovery link",e.t0);case 24:return e.prev=24,O(!1),e.finish(24);case 27:case"end":return e.stop()}},e,null,[[1,21,24,27]])})),function(){return n.apply(this,arguments)});window.location.pathname===e?r():O(!1)},[t,e]),{sharing:g,loading:x,addSharingLink:a,syncSharingLink:s,createCozyLink:_,isSharingShortcutCreated:f}},iB=function(e){var t=iL(e.previewPath);return R.createElement(iz,{sharingInfos:t})};iB.propTypes={previewPath:tF().string};var iU=tC(iB),iV=n(95018),iH=n.n(iV),iq=function(e){var t=e.recipientsToBeConfirmed,n=e.verifyRecipient,r=(0,tO.useI18n)().t,a=(0,rv.default)().isMobile;return R.createElement(R.Fragment,null,R.createElement(t9.default,{variant:"body1",className:tT()("u-mb-half",a?"u-ph-1 u-mt-1":"u-ph-2 u-mt-1-half")},r("ConfirmRecipientModal.intruction")),R.createElement(rh.default,{className:a?"u-mb-half":"u-mb-1"},t.map(function(e){return R.createElement(aP,e3()({},e,{key:"key_r_".concat(e.id),isOwner:!1,recipientConfirmationData:e,verifyRecipient:n}))})))},iW=function(e){var t=e.recipientsToBeConfirmed;return(0,(0,tO.useI18n)().t)("ConfirmRecipientModal.title",{smart_count:t.length})};let iG=function(e){var t=e3()({},(iH()(e),e));return R.createElement(is,e3()({},t,{dialogContentOnShare:iq,dialogActionsOnShare:null,dialogTitleOnShare:iW}))};var iZ=["document"],iK=tC(function(e){var t=e.document,n=F()(e,iZ);return R.createElement(N.Consumer,null,function(){return R.createElement(iG,e3()({document:t},n))})}),iQ=n(55540),iY=["docId","onClick"],iJ=function(e){var t=e.docId,n=e.onClick,r=F()(e,iY),a=(0,rv.default)().isMobile;return R.createElement(N.Consumer,null,function(e){return e.allLoaded?R.createElement(iT.default,{container:!0,alignItems:"center",className:"u-w-auto"},!a&&R.createElement(iT.default,{item:!0},R.createElement(t6,{docId:t,onClick:n,size:32})),R.createElement(iT.default,{item:!0},R.createElement(nL,e3()({docId:t,onClick:n},r)))):R.createElement(iQ.default,{width:120,animation:"wave"})})},i$=["link","isSharingShortcutCreated","isShortLabel"],iX=function(e){var t=e.link,n=e.isSharingShortcutCreated,r=e.isShortLabel,a=F()(e,i$),i=tc({link:t,isSharingShortcutCreated:void 0!==n&&n,isShortLabel:void 0!==r&&r,t:(0,tO.useI18n)().t}),o=i.icon,c=i.label;return R.createElement(nA.default,e3()({onClick:function(){to(t)},startIcon:R.createElement(tj.default,{icon:o}),label:c},a))};iX.propTypes={link:tF().string,isSharingShortcutCreated:tF().bool,isShortLabel:tF().bool};let i0=tC(iX);var i1=n(78080),i2=["position","right","bottom"],i3=["link","isSharingShortcutCreated","isShortLabel"],i4=["style"];function i6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var i5=function(e){var t=e.position,n=e.right,r=e.bottom;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i6(Object(n),!0).forEach(function(t){A()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:null!=t?t:"fixed",right:null!=n?n:"1rem",bottom:null!=r?r:"1rem"},F()(e,i2))},i7=function(e){var t=e.link,n=e.isSharingShortcutCreated,r=e.isShortLabel,a=F()(e,i3),i=a.style,o=F()(a,i4),c=(0,tO.useI18n)().t,s=i5(void 0===i?{}:i),u=tc({link:t,isSharingShortcutCreated:void 0!==n&&n,isShortLabel:r,t:c}),l=u.icon,d=u.label;return R.createElement(i1.A,e3()({color:"primary",label:d,style:s,icon:l,follow:window,onClick:function(){to(t)}},o))};i7.propTypes={link:tF().string.isRequired,isSharingShortcutCreated:tF().bool,isShortLabel:tF().bool};let i8=tC(i7);var i9=n(90281),oe=n(84660),ot=(0,R.createContext)(),on=function(){var e=(0,R.useContext)(ot);if(!e)throw Error("useFileSharing must be used within a FileSharingProvider");return e},or=function(e){var t,n=e.children,r=(0,oe.useWebviewIntent)(),a=(0,R.useState)(!1),i=m()(a,2),o=i[0],c=i[1];(0,R.useEffect)(function(){var e;(e=y()(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=(0,i9.isFlagshipApp)(),!e.t0){e.next=5;break}return e.next=4,r.call("isAvailable","shareFiles");case 4:e.t0=e.sent;case 5:c(e.t0);case 7:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[r]);var s=(t=y()(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.call("shareFiles",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return R.createElement(ot.Provider,{value:{isNativeFileSharingAvailable:o,shareFilesNative:s}},n)},oa=function(e,t){var n=(0,R.forwardRef)(function(n,r){return R.createElement(r7.A,e3()({},n,{ref:r}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:t})),R.createElement(t8.default,{primary:e}))});return n.displayName="CreateCozySharingLink",n},oi=function(e){var t=e.openSharingLinkDisplayed,n=void 0===t||t,r=e.isShortLabel,a=e.createCozyLink,i=(0,tE().t)("Share.create-cozy",{smart_count:void 0!==r&&r?1:2});return{name:"createCozySharingLink",label:i,icon:e5,displayCondition:function(){return n},action:function(){to(a)},Component:oa(i,e5)}},oo=function(e,t){var n=(0,R.forwardRef)(function(n,r){return R.createElement(r7.A,e3()({},n,{ref:r}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:t})),R.createElement(t8.default,{primary:e}))});return n.displayName="AddToCozySharingLink",n},oc=function(e){var t=e.isSharingShortcutCreated,n=e.openSharingLinkDisplayed,r=void 0===n||n,a=e.isShortLabel,i=e.addSharingLink,o=(0,tE().t)("Share.banner.add_to_mine",{smart_count:void 0!==a&&a?1:2});return{name:"addToCozySharingLink",label:o,icon:e4,displayCondition:function(){return r&&!t},action:function(){to(i)},Component:oo(o,e4)}},os=function(e,t){var n=(0,R.forwardRef)(function(n,r){return R.createElement(r7.A,e3()({},n,{ref:r}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:t})),R.createElement(t8.default,{primary:e}))});return n.displayName="SyncToCozySharingLink",n},ou=function(e){var t=e.openSharingLinkDisplayed,n=void 0===t||t,r=e.isShortLabel,a=e.syncSharingLink,i=(0,tE().t)("Share.banner.sync_to_mine",{smart_count:void 0!==r&&r?1:2}),o=e6.A;return{name:"syncToCozySharingLink",label:i,icon:o,displayCondition:function(){return n},action:function(){to(a)},Component:os(i,o)}},ol=n(26151),od=function(e,t){var n=(0,R.forwardRef)(function(n,r){return R.createElement(r7.A,e3()({},n,{ref:r}),R.createElement(t7.default,null,R.createElement(tj.default,{icon:t})),R.createElement(t8.default,{primary:e}))});return n.displayName="ShareNative",n},of=function(e){var t=e.shareFilesNative,n=e.isNativeFileSharingAvailable,r=(0,tE().t)("Share.send"),a=ol.default;return{name:"shareNative",label:r,icon:a,displayCondition:function(e){return n&&e.every(function(e){return"file"===e.type})},action:function(e){t(e.map(function(e){return e._id}))},Component:od(r,a)}};let op=tx},97569:function(e,t,n){"use strict";var r,a,i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isFlagshipOfflineSupported=t.isFlagshipApp=t.getFlagshipMetadata=t.FlagshipRoutes=void 0;var o=i(n(40918));t.FlagshipRoutes=a,(r=a||(t.FlagshipRoutes=a={})).Home="home",r.Cozyapp="cozyapp",r.Authenticate="authenticate",r.Onboarding="onboarding",r.Stack="stack";var c=function(){return"undefined"!=typeof window?window:void(0,o.default)("error",'"window" is not defined. This means that getGlobalWindow() shouldn\'t have been called and investigation should be done to prevent this call')};t.getFlagshipMetadata=function(){var e,t,n;return null!=(e=null==(t=c())||null==(n=t.cozy)?void 0:n.flagship)?e:{}},t.isFlagshipApp=function(){var e,t;return(null==(e=c())||null==(t=e.cozy)?void 0:t.flagship)!==void 0},t.isFlagshipOfflineSupported=function(){var e,t,n;return null==(e=c())||null==(t=e.cozy)||null==(n=t.flagship)?void 0:n.offline_available}},90281:function(e,t,n){"use strict";Object.defineProperty(t,"isFlagshipApp",{enumerable:!0,get:function(){return r.isFlagshipApp}}),n(50850);var r=n(97569)},50850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=t.isIOS=t.isAndroid=void 0;var n=function(){return window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0};t.isAndroid=n;var r=function(){return window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)};t.isIOS=r,t.isMobile=function(){return n()||r()}},990:function(e,t,n){"use strict";var r=n(95709),a=r(n(26396)),i=r(n(82274)),o=r(n(65044)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=n(58156),h=n(71086),m=n(87292),v="io.cozy.accounts",y=["login","identifier","new_identifier","email"],g=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,null,[{key:"getAccountName",value:function(e){return e?e.auth&&(e.auth.accountName||this.getAccountLogin(e))||e._id:null}},{key:"getAccountLogin",value:function(e){if(e&&e.auth){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(y);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.auth[r])return e.auth[r]}}catch(e){n.e(e)}finally{n.f()}}}},{key:"fromCipher",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d({identifierProperty:"login"},n),i=(p(e,"fields")||[]).reduce(function(e,t){return e[t.name]=t.value,e},{}),o={auth:h(d((t={},(0,a.default)(t,r.identifierProperty,p(e,"login.username","")),(0,a.default)(t,"password",p(e,"login.password","")),t),i),function(e){return!!e})};return e&&(o.relationships={vaultCipher:{_id:e.id,_type:"com.bitwarden.ciphers",_protocol:"bitwarden"}}),o}}]),r}(m);g.schema={doctype:v,attributes:{},relationships:{master:{type:"has-one",doctype:v}}},g.probableLoginFieldNames=y,e.exports=g},86831:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(87292),l="io.cozy.apps",d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"getStoreInstallationURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var n=this.isInstalled(e,{slug:"store"});if(!n)return null;var r=n.links&&n.links.related;return r?"".concat(r,"#/discover/").concat(t.slug,"/install"):null}},{key:"isInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.attributes&&e.attributes.slug===t.slug})}},{key:"getUrl",value:function(e){return e.links&&e.links.related}}]),r}(u);d.schema={doctype:l,attributes:{}},d.doctype=l,e.exports=d},87292:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(39892)),c=a(n(92207)),s=a(n(26396)),u=a(n(79092)),l=a(n(56994)),d=a(n(65611)),f=a(n(18337)),p=a(n(82274)),h=a(n(65044)),m=["concurrency","logProgress"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=n(22894),w=n(47307),k=n(44377),x=n(58156),O=n(94394),_=n(62216),E=n(90179),C=n(42194),S=n(44383),P=n(71086),A=n(47091),D=n(33031),T=n(6023).default,R=n(11071).Q,j=n(40918).namespace("Document"),M=n(81460).parallelMap,I={},N=["shortLabel"];function z(e){return e.startsWith("\\")?e.slice(1):e}var F=function(e){return C(e,_)},L=function(e){return Object.assign({},e,{_deleted:!0})},B=function(e){var t=e.cozyMetadata&&e.cozyMetadata.updatedAt;return t?new Date(t):null},U=function(e){var t=B(e);return t?-t:0},V=function(){var e,t,n,r,a,s,v,_,C,B,V,H,q,W,G,Z,K,Q,Y,J;function $(){(0,p.default)(this,$)}return(0,h.default)($,null,[{key:"registerClient",value:function(e){if(this.cozyClient)throw console.warn("Document already has been registered, this is not possible to re-register as the client is shared globally between all classes. This is to prevent concurrency bugs."),Error("Document cannot be re-registered to a client.");this.cozyClient=e}},{key:"copyWithClient",value:function(e){var t=function(e){(0,l.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(r);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function r(){return(0,p.default)(this,r),n.apply(this,arguments)}return(0,h.default)(r)}(this);return t.cozyClient=null,t.registerClient(e),t}},{key:"usesCozyClient",value:function(){return this.cozyClient instanceof T}},{key:"getIndex",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.getIndexViaOldClient(e,t)}},{key:"getIndexViaOldClient",value:function(e,t){var n="".concat(e,":").concat(t.slice().join(","));return I[n]||(I[n]=this.cozyClient.data.defineIndex(e,t).then(function(e){return I[n]=e,e})),Promise.resolve(I[n])}},{key:"addCozyMetadata",value:function(e){return e.cozyMetadata||(e.cozyMetadata={}),e.cozyMetadata.updatedAt=new Date,!e.cozyMetadata.createdByApp&&this.createdByApp&&(e.cozyMetadata.createdByApp=this.createdByApp),this.createdByApp&&function(e,t){e.updatedByApps||(e.updatedByApps=[]);var n,r=new Date,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e.updatedByApps);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.slug===t){i.date=r;return}}}catch(e){a.e(e)}finally{a.f()}e.updatedByApps.push({slug:t,date:r})}(e.cozyMetadata,this.createdByApp),e}},{key:"get",value:(e=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.usesCozyClient()){e.next=2;break}throw Error("This method is not implemented with cozy-client-js");case 2:if(this.doctype){e.next=4;break}throw Error("doctype is not defined");case 4:return e.next=6,this.cozyClient.query(R(this.doctype).getById(t));case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"createOrUpdate",value:(t=(0,u.default)(c.default.mark(function e(t){var n,r=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},!this.usesCozyClient()){e.next=3;break}return e.abrupt("return",this.createOrUpdateViaNewClient(t,n));case 3:return e.abrupt("return",this.createOrUpdateViaOldClient(t,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"applyUpdateIfDifferent",value:function(e,t,n){return!this.checkAttributes||function(e,t){if(0===Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1}(S(e,this.checkAttributes),S(t,this.checkAttributes))||null!=n&&n.forceUpdate?(delete t.dateImport,this.addCozyMetadata(y(y({},e),t))):(j("debug","[updateIfDifferent] No need to update ".concat(t._id," because its `checkAttributes` (").concat(this.checkAttributes,") didn't change.")),e)}},{key:"getHandleDuplicateStrategy",value:function(e){if($.duplicateHandlingStrategies[e])return $.duplicateHandlingStrategies[e];throw Error("".concat(e," is not a know duplication handling strategy. Known strategies are ").concat(Object.keys($.duplicateHandlingStrategies)))}},{key:"handleDuplicates",value:(n=(0,u.default)(c.default.mark(function e(t,n,r){var a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof(a=t||this.defaultDuplicateHandling)?this.getHandleDuplicateStrategy(a):a,e.next=4,i.call(this,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"createOrUpdateViaNewClient",value:(r=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=7;break}return e.next=6,this.queryAll(r);case 6:a=e.sent;case 7:if(0!==a.length){e.next=11;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 11:if(!((a=D(a,U)).length>1)){e.next=15;break}return e.next=15,this.handleDuplicates(n.handleDuplicates,a,r);case 15:if(i=a[0],o=E(t,N),s=this.applyUpdateIfDifferent(i,o,n),!(n.forceUpdate||s!==i)){e.next=22;break}return e.abrupt("return",this.save(s));case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"createOrUpdateViaOldClient",value:(a=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k(this.idAttributes.map(function(e){return[e,x(t,z(e))]})),a=[],A(F(r))!==this.idAttributes.length){e.next=10;break}return e.next=6,this.getIndex(this.doctype,this.idAttributes);case 6:return i=e.sent,e.next=9,this.cozyClient.data.query(i,{selector:r});case 9:a=e.sent;case 10:if(0!==a.length){e.next=14;break}return e.abrupt("return",this.create(this.addCozyMetadata(t)));case 14:if(!((a=D(a,U)).length>1)){e.next=18;break}return e.next=18,this.handleDuplicates(n.handleDuplicates,a,r);case 18:if(o=a[0],s=E(t,N),u=this.applyUpdateIfDifferent(o,s,n),!(n.forceUpdate||u!==o)){e.next=25;break}return e.abrupt("return",this.save(u));case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"create",value:(s=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.createViaNewClient(t));case 2:return e.abrupt("return",this.createViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"createViaNewClient",value:(v=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.create(this.doctype,t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createViaOldClient",value:(_=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.create(this.doctype,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"save",value:(C=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.saveViaNewClient(t));case 2:return e.abrupt("return",this.saveViaOldClient(t));case 3:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"saveViaNewClient",value:(B=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.save(t);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"saveViaOldClient",value:(V=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cozyClient.data.updateAttributes(this.doctype,t._id,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"bulkSave",value:function(e,t,n){(n||"object"!=typeof t)&&j("warn","Second argument of bulkSave is now an object, please use bulkSave(documents, { logProgress, concurrency })");var r={};return"number"==typeof t&&(r.concurrency=t),"function"==typeof n&&(r.logProgress=n),"object"==typeof t&&Object.assign(r,t),this._bulkSave(e,r)}},{key:"_bulkSave",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.concurrency,i=r.logProgress,s=(0,o.default)(r,m);return M(e,(t=(0,u.default)(c.default.mark(function e(t){var a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i&&i(t),e.prev=1,e.next=4,n.createOrUpdate(t,s);case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),!r.onCreateOrUpdateError){e.next=14;break}return e.abrupt("return",r.onCreateOrUpdateError(e.t0,t));case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}),void 0===a?30:a)}},{key:"query",value:function(e,t){if(this.usesCozyClient())throw Error("This method is not implemented yet with CozyClient");return this.queryViaOldClient(e,t)}},{key:"queryViaOldClient",value:function(e,t){return this.cozyClient.data.query(e,t)}},{key:"fetchAll",value:(H=(0,u.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,t.fetchJSON("GET","/data/".concat(this.doctype,"/_all_docs?include_docs=true"));case 4:return n=e.sent,e.abrupt("return",n.rows.filter(function(e){return 0!==e.id.indexOf("_design")&&e.doc}).map(function(e){return e.doc}));case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0&&e.t0.response&&e.t0.response.status&&404===e.t0.response.status)){e.next=14;break}return e.abrupt("return",[]);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return H.apply(this,arguments)})},{key:"updateAll",value:(q=(0,u.default)(c.default.mark(function e(t){var n,r,a,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,!(!t||!t.length)){e.next=3;break}return e.abrupt("return",Promise.resolve([]));case 3:return e.prev=3,e.next=6,n.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:t});case 6:return r=e.sent,e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(3),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."==e.t0.reason.reason)){e.next=23;break}return e.next=15,this.create(t[0]);case 15:return a=e.sent,e.next=18,this.updateAll(t.slice(1));case 18:return(i=e.sent).unshift({ok:!0,id:a._id,rev:a._rev}),e.abrupt("return",i);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[3,10]])})),function(e){return q.apply(this,arguments)})},{key:"deleteAll",value:(W=(0,u.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateAll(t.map(L)));case 1:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"findDuplicates",value:function(e){var t=this.idAttributes;return w(P(O(e,function(e){return t.map(function(t){return x(e,t)}).join("#$$$$#")}),function(e){return e.length>1}),function(e){return e.slice(1)})}},{key:"deleteDuplicates",value:(G=(0,u.default)(c.default.mark(function e(t){var n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,t&&(n=D(n,t)),r=this.findDuplicates(n),e.abrupt("return",this.deleteAll(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"fetchChanges",value:(Z=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,o,s,u=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,a={since:t,include_docs:"true"},n.params&&Object.assign(a,n.params),e.next=6,r.fetchJSON("GET","/data/".concat(this.doctype,"/_changes?").concat(b.stringify(a)));case 6:return o=(i=e.sent).last_seq,s=i.results.map(function(e){return e.doc}).filter(Boolean),n.includeDesign||(s=s.filter(function(e){return 0!==e._id.indexOf("_design")})),n.includeDeleted||(s=s.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:o,documents:s});case 12:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"queryAll",value:(K=(0,u.default)(c.default.mark(function e(t,n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.usesCozyClient()){e.next=2;break}return e.abrupt("return",this.queryAllViaNewClient(t));case 2:return e.abrupt("return",this.queryAllViaOldClient(t,n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"queryAllViaNewClient",value:(Q=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.fetchAll());case 2:return n=void 0!==R?R(this.doctype).where(t):this.cozyClient.find(this.doctype).where(t),e.next=5,this.cozyClient.query(n);case 5:a=(r=e.sent).data;case 7:if(!(r&&r.next)){e.next=20;break}if(!(r.bookmark&&n.offsetBookmark)){e.next=14;break}return e.next=11,this.cozyClient.query(n.offsetBookmark(r.bookmark));case 11:r=e.sent,e.next=17;break;case 14:return e.next=16,this.cozyClient.query(n.offset(a.length));case 16:r=e.sent;case 17:a.push.apply(a,(0,i.default)(r.data)),e.next=7;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"queryAllViaOldClient",value:(Y=(0,u.default)(c.default.mark(function e(t,n){var r,a,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,this.fetchAll();case 3:return e.abrupt("return",e.sent);case 4:if(r=n){e.next=9;break}return e.next=8,this.cozyClient.data.defineIndex(this.doctype,Object.keys(t));case 8:r=e.sent;case 9:a=[],o={next:!0};case 11:if(!(o&&o.next)){e.next=18;break}return e.next=14,this.cozyClient.data.query(r,{selector:t,wholeResponse:!0,skip:a.length});case 14:o=e.sent,a.push.apply(a,(0,i.default)(o.docs)),e.next=11;break;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return Y.apply(this,arguments)})},{key:"getAll",value:(J=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,e.prev=1,e.next=4,n.fetchJSON("POST","/data/".concat(this.doctype,"/_all_docs?include_docs=true"),{keys:t});case 4:r=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),!e.t0.message.match(/not_found/)){e.next=11;break}return e.abrupt("return",[]);case 11:throw e.t0;case 12:return a=r.rows.filter(function(e){return e.doc}),e.abrupt("return",a.map(function(e){return e.doc}));case 14:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return J.apply(this,arguments)})}]),$}();V.defaultDuplicateHandling="throw",V.duplicateHandlingStrategies={throw:function(e,t){throw Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(t)+"\n"+JSON.stringify(e))},remove:(r=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.slice(1)).length>0)){e.next=5;break}return j("warn","Cleaning duplicates for doctype ".concat(this.doctype," (kept: ").concat(t[0]._id,", removed: ").concat(n.map(function(e){return e._id}),")")),e.next=5,this.deleteAll(n);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},e.exports=V},10043:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(31521),f=n(87292),p=/(.+)(\..*)$/,h=function(e){(0,s.default)(y,e);var t,n,r,f,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"getFullpath",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("You must provide a dirId");case 2:return e.next=4,this.get(t);case 4:return r=d(e.sent.path,"/"),e.abrupt("return","".concat(r,"/").concat(n));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"move",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,f,p=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],i=n.folderId,o=n.path,c=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,c.updateFileMetadata(t,{dir_id:i});case 6:return s=e.sent,e.abrupt("return",{moved:s.data,deleted:null});case 10:if(e.prev=10,e.t0=e.catch(3),!(409===e.t0.status&&r)){e.next=35;break}if(!o){e.next=17;break}u=o,e.next=24;break;case 17:return e.next=19,this.get(t);case 19:return l=e.sent.name,e.next=23,this.getFullpath(i,l);case 23:u=e.sent;case 24:return e.next=26,c.statByPath(u);case 26:return d=e.sent,e.next=29,c.destroy(d.data);case 29:return e.next=31,c.updateFileMetadata(t,{dir_id:i});case 31:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 35:throw e.t0;case 36:case"end":return e.stop()}},e,this,[[3,10]])})),function(e,t){return r.apply(this,arguments)})},{key:"splitFilename",value:function(e){if(!e.name)throw Error("file should have a name property ");if("file"===e.type){var t=e.name.match(p);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}}},{key:"overrideFileForPath",value:(f=(0,i.default)(a.default.mark(function e(t,n,r){var i,o,c,s,u,l,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t).endsWith("/")||(i+="/"),o=this.cozyClient.collection("io.cozy.files"),e.prev=3,e.next=6,o.statByPath(i+n.name);case 6:return s=(c=e.sent.data).id,u=c.dir_id,e.next=10,o.updateFile(n,{dirId:u,fileId:s,metadata:r});case 10:return l=e.sent,e.abrupt("return",l);case 14:if(e.prev=14,e.t0=e.catch(3),!/Not Found/.test(e.t0)){e.next=24;break}return e.next=19,o.ensureDirectoryExists(i);case 19:return d=e.sent,e.next=22,o.createFile(n,{dirId:d,metadata:r});case 22:return f=e.sent,e.abrupt("return",f);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[3,14]])})),function(e,t,n){return f.apply(this,arguments)})},{key:"generateNewFileNameOnConflict",value:function(e){var t=e.match(/(_)([0-9]+)$/);if(!t)return"".concat(e,"_1");var n=parseInt(t[2]);return n++,e.replace(/(_)([0-9]+)$/,"_".concat(n))}},{key:"generateFileNameForRevision",value:function(e,t,n){var r=y.splitFilename({name:e.name,type:"file"}),a=r.filename,i=r.extension;return"".concat(a,"_").concat(n(t.updated_at,"DD MMMM - HH[h]mm")).concat(i)}},{key:"uploadFileWithConflictStrategy",value:(h=(0,i.default)(a.default.mark(function e(t,n,r,i,o,c){var s,u,l,d,f,p,h,m;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.cozyClient.collection("io.cozy.files"),e.prev=1,e.next=4,y.getFullpath(r,t);case 4:return u=e.sent,e.next=7,s.statByPath(u);case 7:if(l=e.sent.data.id,"erase"!==i){e.next=16;break}return e.next=12,s.updateFile(n,{dirId:r,fileId:l,name:t,metadata:o,contentType:c});case 12:return d=e.sent,e.abrupt("return",d);case 16:return p=(f=y.splitFilename({name:t,type:"file"})).filename,h=f.extension,m=y.generateNewFileNameOnConflict(p)+h,e.abrupt("return",y.uploadFileWithConflictStrategy(m,n,r,i,o,c));case 19:e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(1),!/Not Found/.test(e.t0.message)){e.next=27;break}return e.next=26,y.upload(t,n,r,o,c);case 26:return e.abrupt("return",e.sent);case 27:throw e.t0;case 28:case"end":return e.stop()}},e,this,[[1,21]])})),function(e,t,n,r,a,i){return h.apply(this,arguments)})},{key:"upload",value:(m=(0,i.default)(a.default.mark(function e(t,n,r,i){var o,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:"image/jpeg",e.abrupt("return",this.cozyClient.collection("io.cozy.files").createFile(n,{name:t,dirId:r,contentType:o,lastModifiedDate:new Date,metadata:i}));case 2:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return m.apply(this,arguments)})}]),y}(f);h.doctype="io.cozy.files",e.exports=h},88045:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=n(11071).Q,f=n(86831),p=n(10043),h=function(e){(0,s.default)(y,e);var t,n,r,h,m,v=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(y);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function y(){return(0,o.default)(this,y),v.apply(this,arguments)}return(0,c.default)(y,null,[{key:"createFolderWithReference",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cozyClient.collection(p.doctype),e.next=3,r.ensureDirectoryExists(t);case 3:return i=e.sent,e.next=6,r.addReferencesTo(n,[{_id:i}]);case 6:return e.next=8,this.cozyClient.query(d(p.doctype).getById(i));case 8:return o=e.sent.data,e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"ensureMagicFolder",value:(r=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={_type:f.doctype,_id:t},e.next=3,this.getReferencedFolders(r);case 3:if(!(o=(i=e.sent).length?i[0]:null)){e.next=7;break}return e.abrupt("return",o);case 7:if((c=Object.values(this.magicFolders)).includes(t)){e.next=10;break}throw Error("Cannot create Magic folder with id ".concat(t,". Allowed values are ").concat(c.join(", "),"."));case 10:if(n){e.next=12;break}throw Error("Magic folder default path must be defined");case 12:return e.abrupt("return",this.createFolderWithReference(n,r));case 13:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getReferencedFolders",value:(h=(0,i.default)(a.default.mark(function e(t){var n,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cozyClient.collection(p.doctype).findReferencedBy(t);case 2:return n=e.sent.included,e.abrupt("return",n.filter(function(e){return!r.isTrashed(e)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"ensureFolderWithReference",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getReferencedFolders(n);case 2:if(!(r=e.sent).length){e.next=5;break}return e.abrupt("return",r[0]);case 5:return i=this.cozyClient.collection(p.doctype),e.next=8,i.ensureDirectoryExists(t);case 8:return o=e.sent,e.next=11,i.addReferencesTo(n,[{_id:o}]);case 11:return e.next=13,i.get(o);case 13:return c=e.sent.data,e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"isTrashed",value:function(e){return/^\/\.cozy_trash/.test(e.attributes.path)}}]),y}(p);h.magicFolders={ADMINISTRATIVE:"".concat(f.doctype,"/administrative"),PHOTOS:"".concat(f.doctype,"/photos"),PHOTOS_BACKUP:"".concat(f.doctype,"/photos/mobile"),PHOTOS_UPLOAD:"".concat(f.doctype,"/photos/upload"),NOTES_FOLDER:"".concat(f.doctype,"/notes")},e.exports=h},95054:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(87292));u.schema={doctype:"io.cozy.permissions",attributes:{}},e.exports=u},37853:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=n(35970),h=n(58156),m=n(87292),v=n(17519),y=function(e){(0,u.default)(m,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(m);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function m(){return(0,c.default)(this,m),r.apply(this,arguments)}return(0,s.default)(m,null,[{key:"getPersonalData",value:function(e,t){var n={firstname:{path:"name.givenName"},lastname:{path:"name.familyName"},address:{getter:v.getPrimaryAddress},email:{getter:v.getPrimaryEmail},phone:{getter:v.getPrimaryPhone}},r={};return t.forEach(function(t){var a,i=h(n,t,t);if(i.getter)a=i.getter(e);else{var o=h(i,"path",t);a=h(e,o)}void 0!==a&&(r[t]=a)}),r}},{key:"getFilesByRules",value:(n=(0,o.default)(a.default.mark(function e(t){var n,r,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rules,r=t.count,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({trashed:!1,type:"file"},n),e.next=4,this.cozyClient.collection("io.cozy.files").createIndex(["metadata.datetime","metadata.qualification"]);case 4:return e.next=6,this.cozyClient.collection("io.cozy.files").find(o,{indexedFields:["metadata.datetime","metadata.qualification"],sort:[{"metadata.datetime":"desc"},{"metadata.qualification":"desc"}],limit:r||1});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:function(e,t){var n=e.documentsData,r=e.personalData,a=e.procedureData,i=Object.keys(n).map(function(e){return n[e].files.map(function(t){if(t)return{_id:t.id,_type:"io.cozy.files",templateDocumentId:e}})});return{personalData:r,procedureData:a,submissionDate:new Date,templateId:t.type,templateVersion:t.version,relationships:{files:{data:p(i)}}}}},{key:"createJson",value:function(e){return JSON.stringify(e)}}]),m}(m);y.doctype="io.cozy.procedures.administratives",e.exports=y},22098:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(22056)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=n(81169),p=n(87292),h=function(e){(0,u.default)(h,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,c.default)(this,h),r.apply(this,arguments)}return(0,s.default)(h,null,[{key:"getByYearAndAccount",value:(n=(0,o.default)(a.default.mark(function e(t,n){var r,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getIndex(this.doctype,this.idAttributes);case 2:return r=e.sent,o={selector:{year:t,"relationships.account.data._id":n},limit:1},e.next=6,p.query(r,o);case 6:if(c=e.sent,!(s=(0,i.default)(c,1)[0])){e.next=11;break}return e.abrupt("return",s);case 11:return e.abrupt("return",this.getEmptyDocument(t,n));case 12:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getEmptyDocument",value:function(e,t){return{year:e,balances:{},metadata:{version:this.version},relationships:{account:{data:{_id:t,_type:f.doctype}}}}}}]),h}(p);h.doctype="io.cozy.bank.balancehistories",h.idAttributes=["year","relationships.account.data._id"],h.version=1,h.checkAttributes=["balances"],e.exports=h},81169:function(e,t,n){"use strict";var r=n(95709),a=r(n(22056)),i=r(n(21259)),o=r(n(26396)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337));function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=n(58156),y=n(94394),g=n(38970),b=n(55364),w=n(40918).namespace("BankAccount"),k=n(62794),x=n(20419).getSlugFromInstitutionLabel,O=n(87292),_=function(e){var t,n,r;return null==e||null==(t=e.relationships)||null==(n=t.connection)||null==(r=n.data)?void 0:r._id},E=function(e){(0,u.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(r);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,null,[{key:"reconciliate",value:function(e,t){var n=k.matchAccounts(e,t);return(n=r.addForcedReplaceMatchings(n,t)).map(function(e){w("info",e.match?"".concat(e.account.label," matched with ").concat(e.match.label," via ").concat(e.method):"".concat(e.account.label," did not match with an existing account")),e.forcedReplace&&w("info","".concat(e.account.label," forced disabled state"));var t=e.match?e.match._id:void 0,n=e.forcedReplace?e.account._id:void 0;return m(m({},e.account),{},{relationships:b({},e.match?e.match.relationships:null,e.account.relationships),_id:n||t})})}},{key:"addForcedReplaceMatchings",value:function(e,t){var n=r.findReplacedCozyAccountIdsMatchings(e);if(!Object.keys(n).length>0)return e;var a,o=(0,i.default)(e),c=g(o,"match._id"),s=f(t);try{for(s.s();!(a=s.n()).done;){var u,l=a.value;if(null!=_(l)&&!c[l._id]){var d=n[_(l)];null!=d&&o.push({forcedReplace:!0,account:m(m({},l),{},{metadata:b({},l.metadata,{disabledAt:null==(u=l.metadata)?void 0:u.updatedAt}),relationships:b({},l.relationships,{connection:{data:{_id:d}}})})})}}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"findReplacedCozyAccountIdsMatchings",value:function(e){var t,n={},r=f(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.match&&_(null==a?void 0:a.account)!==_(null==a?void 0:a.match)&&(n[_(null==a?void 0:a.match)]=_(null==a?void 0:a.account))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findDuplicateAccountsWithNoOperations",value:function(e,t){var n,r=y(t,function(e){return e.account}),i=Object.entries(y(e,function(e){return e.institutionLabel+" > "+e.label})).map(function(e){return(0,a.default)(e,2)[1]}).filter(function(e){return e.length>1}),o=[],c=f(i);try{for(c.s();!(n=c.n()).done;){var s,u=n.value,l=f(u);try{for(l.s();!(s=l.n()).done;){var d=s.value,p=r[d._id]||[];0===p.length&&o.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){c.e(e)}finally{c.f()}return o}},{key:"hasIncoherentCreatedByApp",value:function(e){var t=x(e.institutionLabel),n=e.cozyMetadata&&e.cozyMetadata.createdByApp;return!!(t&&n&&t!==n)}},{key:"getUpdatedAt",value:function(e){var t=v(e,"metadata.updatedAt");if(t)return t;var n=v(e,"cozyMetadata.updatedAt");return n||null}}]),r}(O);E.normalizeAccountNumber=k.normalizeAccountNumber,E.doctype="io.cozy.bank.accounts",E.idAttributes=["_id"],E.version=1,E.checkAttributes=null,E.vendorIdAttr="vendorId",e.exports=E},78550:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(31126),d=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"checkCurrencies",value:function(e){var t,n=e[0].currency,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;)if(t.value.currency!==n)return!1}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"sum",value:function(e){if(0===e.length)throw Error("You must give at least one stats object");if(!this.checkCurrencies(e))throw Error("Currency of all stats object must be the same.");var t=["income","additionalIncome","mortgage","loans","fixedCharges"].reduce(function(t,n){return t[n]=l(e,function(e){return e[n]||0}),t},{});return t.currency=e[0].currency,t}}]),r}(n(87292));d.doctype="io.cozy.bank.accounts.stats",d.idAttributes=["_id"],d.version=1,d.checkAttributes=null,e.exports=d},97438:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(26396)),o=r(n(21259)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(96220)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=n(64862),v=n(19856),y=n(88055),g=n(94394),b=n(38970),w=n(97551),k=n(94619).default,x=n(81169),O=n(77323).matchTransactions,_=n(87292),E=n(64831),C=function(e,t){var n=w(e,t);return n?t(n):null},S=function(e){return(e.realisationDate||e.date).slice(0,10)},P=function(e){var t=new Date;return C(e.filter(function(e){return!v(S(e),t)}),S)},A=function(e){return e instanceof Date?e.toISOString():e},D=function(e){(0,d.default)(T,e);var t,n,r,w,D=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(T);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function T(){return(0,s.default)(this,T),D.apply(this,arguments)}return(0,u.default)(T,[{key:"isAfter",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t>e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"isBeforeOrSame",value:function(e){if(!e)return!0;var t=A(this.date).slice(0,10);return"NaN"!==t?t<=e:(E("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}},{key:"getIdentifier",value:function(){return"".concat(this.amount,"-").concat(this.originalBankLabel,"-").concat(this.date)}},{key:"getVendorAccountId",value:function(){return this[this.constructor.vendorAccountIdAttr]}}],[{key:"deleteAll",value:(n=(0,c.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k("banking.warn-on-delete")&&E("warn","OPERATION_DELETE: removing operations with _id : ".concat(JSON.stringify(t.map(function(e){return e._id})))),e.abrupt("return",(0,l.default)((0,p.default)(T),"deleteAll",this).call(this,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDate",value:function(e){return e}},{key:"getMissedTransactions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(C(t,S),-7),a=Array.from(O(e.filter(function(e){return v(S(e),r)}),t)).filter(function(e){return!e.match}).map(function(e){return e.transaction}),i=n.trackEvent;if("function"==typeof i)try{var o=a.length,c=t.length;i({e_a:"ReconciliateMissing",e_n:"MissedTransactionPct",e_v:parseFloat((o/c).toFixed(2),10)}),i({e_a:"ReconciliateMissing",e_n:"MissedTransactionAbs",e_v:o})}catch(e){E("warn","Could not send MissedTransaction event: ".concat(e.message))}return a}},{key:"reconciliate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(n);!1!==r.useSplitDate&&(r.useSplitDate=!0);var a=g(e,function(e){return t.find(function(t){return t.vendorId===e.vendorId})?"updatedTransactions":"newTransactions"}),i=a.newTransactions||[],c=a.updatedTransactions||[],s=!!r.useSplitDate&&P(t);if(s){"function"==typeof r.trackEvent&&r.trackEvent({e_a:"ReconciliateSplitDate"});var u=i.filter(function(e){return T.prototype.isAfter.call(e,s)});u.length>0?E("info","Found ".concat(u.length," transactions after ").concat(s)):E("info","No transaction after ".concat(s));var l=i.filter(function(e){return T.prototype.isBeforeOrSame.call(e,s)});E("info","Found ".concat(l.length," transactions before ").concat(s));var d=T.getMissedTransactions(l,t,r);d.length>0?E("info","Found ".concat(d.length," missed transactions before ").concat(s)):E("info","No missed transactions before ".concat(s)),i=[].concat((0,o.default)(u),(0,o.default)(d))}else E("info","Can't find a split date, saving all new transactions");return E("info","Transaction reconciliation: new ".concat(i.length,", updated ").concat(c.length,", split date ").concat(s," ")),[].concat(i).concat(c)}},{key:"getMostRecentForAccounts",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E("debug","Transaction.getLast"),e.next=4,_.getIndex(this.doctype,["date","account"]);case 4:return n=e.sent,r={selector:{date:{$gte:null},account:{$in:t}},sort:[{date:"desc"}]},e.next=8,_.query(n,r);case 8:return E("info","last transactions length: "+(i=e.sent).length),e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),E("error",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}},e,this,[[0,13]])})),function(e){return r.apply(this,arguments)})},{key:"deleteOrphans",value:(w=(0,c.default)(a.default.mark(function e(){var t,n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E("info","Deleting up orphan operations"),e.t0=b,e.next=4,x.fetchAll();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1,"_id"),e.next=8,this.fetchAll();case 8:if(r=(n=e.sent).filter(function(e){return!t[e.account]}),E("info","Total number of operations: ".concat(n.length)),E("info","Total number of orphan operations: ".concat(r.length)),E("info","Deleting ".concat(r.length," orphan operations...")),!(r.length>0)){e.next=16;break}return E(k("banking.warn-on-delete")?"warn":"info","OPERATION_DELETE: removing ".concat(r.length," orphan operations")),e.abrupt("return",this.deleteAll(r));case 16:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getCategoryId",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({localModelOverride:!1,localModelUsageThreshold:this.LOCAL_MODEL_USAGE_THRESHOLD,globalModelUsageThreshold:this.GLOBAL_MODEL_USAGE_THRESHOLD},t);return e.manualCategoryId?e.manualCategoryId:n.localModelOverride&&e.localCategoryId&&e.localCategoryProba&&e.localCategoryProba>n.localModelUsageThreshold?e.localCategoryId:e.cozyCategoryId&&e.cozyCategoryProba&&e.cozyCategoryProba>n.globalModelUsageThreshold?e.cozyCategoryId:e.localCategoryId||e.cozyCategoryId?e.automaticCategoryId:null}}]),T}(_);D.doctype="io.cozy.bank.operations",D.version=1,D.vendorAccountIdAttr="vendorAccountId",D.vendorIdAttr="vendorId",D.idAttributes=["vendorId"],D.checkAttributes=["label","originalBankLabel","automaticCategoryId","account"],D.LOCAL_MODEL_USAGE_THRESHOLD=.8,D.GLOBAL_MODEL_USAGE_THRESHOLD=.15,D.getSplitDate=P,e.exports=D},18712:function(e,t,n){"use strict";var r=n(95709),a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=n(44377),u=n(40918).namespace("BankingReconciliator");e.exports=function(){var e,t;function n(e){(0,o.default)(this,n),this.options=e}return(0,c.default)(n,[{key:"saveAccounts",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.options.BankAccount,e.next=3,r.fetchAll();case 3:return i=e.sent,o=r.reconciliate(t,i),u("info","Saving accounts..."),e.next=8,r.bulkSave(o,{handleDuplicates:"remove"});case 8:return c=e.sent,n.onAccountsSaved&&n.onAccountsSaved(c),e.abrupt("return",{savedAccounts:c,reconciliatedAccounts:o});case 11:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"save",value:(t=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,l,d,f,p,h,m,v,y,g,b,w=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.length>2&&void 0!==w[2]?w[2]:{},o=(i=this.options).BankAccount,c=i.BankTransaction,e.next=4,this.saveAccounts(t,r);case 4:return d=(l=e.sent).reconciliatedAccounts,p=s((f=l.savedAccounts).map(function(e){return[e[o.vendorIdAttr],e._id]})),u("info","Linking transactions to accounts..."),u("info",JSON.stringify(p)),n.forEach(function(e){if(e.account=p[e[c.vendorAccountIdAttr]],void 0===e.account)throw u("warn","Transaction without account, vendorAccountIdAttr: ".concat(c.vendorAccountIdAttr)),u("warn","transaction: "+JSON.stringify(e)),Error("Transaction without account.")}),h=new Set(d.filter(function(e){return e._id}).map(function(e){return e._id})),e.next=14,c.fetchAll();case 14:return m=e.sent.filter(function(e){return h.has(e.account)}),v=c.reconciliate(n,m,r),u("info","Saving transactions..."),y=1,g=function(e){u("debug","[bulkSave] ".concat(y++," Saving ").concat(e.date," ").concat(e.label))},e.next=21,c.bulkSave(v,{concurrency:30,logProgress:void 0!==r.logProgress?r.logProgress:g,handleDuplicates:"remove"});case 21:return b=e.sent,e.abrupt("return",{accounts:f,transactions:b});case 23:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),n}()},85011:function(e){"use strict";e.exports={"American Express":"americanexpress","Ark\xe9a Banque Priv\xe9e":"arkea","AXA Banque":"axabanque102","Floa Bank":"banquecasino","Banque Populaire":"banquepopulaire",Milleis:"barclays136",BforBank:"bforbank97","BNP Paribas":"bnpparibas82",BoursoBank:"boursorama83",BRED:"bred","Caisse d'\xc9pargne Particuliers":"caissedepargne1","Carrefour Banque":"carrefour159",Cetelem:"cetelem",CIC:"cic63","Compte Nickel":"comptenickel168","Cr\xe9dit Agricole":"caatlantica3","Cr\xe9dit Coop\xe9ratif":"creditcooperatif148","Cr\xe9dit Maritime":"creditmaritime","Cr\xe9dit Mutuel":"cic45","Cr\xe9dit Mutuel de Bretagne":"cic45","Cr\xe9dit Mutuel du Sud Ouest":"cic45",Fortuneo:"fortuneo84","Hello bank!":"hellobank145","HSBC Continental Europe":"hsbc119","La Banque Postale":"labanquepostale44",LCL:"lcl-linxo","MAIF Vie":"maifviebank",Monabanq:"monabanq96","Soci\xe9t\xe9 G\xe9n\xe9rale":"societegenerale","Connecteur de test":"bankingconnectortest",Revolut:"revolut",N26:"n26",Oney:"oney","Banque BCP":"bcp","Banque Transatlantique":"transatlantique","Gan Assurances":"gan",Groupama:"groupama","MAAF Vie":"maafvie",PayPal:"paypal",Yomoni:"yomoni",WeSave:"wesave","Orange Bank":"orangebank","MAIF Socram Banque":"socram","Macif Espace Banque":"socrammacif","Natixis Inter\xe9pargne":"natixis",Amundi:"amundiee","Banque Europ\xe9enne Cr\xe9dit Mutuel":"becm",Afer:"afer","CIC \xc9pargne Salariale":"cicee","PSA Banque":"psa","Cr\xe9dit Agricole - Epargne Longue des Salari\xe9s":"caels",LinXea:"linxea","Louvre Banque Priv\xe9e":"bpe",Palatine:"palatine","Cr\xe9dit Mutuel \xc9pargne Salariale":"creditmutueles","Renault Bank":"zesto","assurancevie.com":"assuranceviecom","mes-placements.fr":"mesplacementsfr",Sharinbox:"sharinbox","Soci\xe9t\xe9 G\xe9n\xe9rale \xc9pargne Salariale":"esalia","Epsens \xc9pargne Salariale":"epsenses","Cr\xe9dit Foncier":"creditfoncier","Banque Fran\xe7aise Commerciale Oc\xe9an Indien":"bfcoi",MACSF:"macsf","Banque Chalus":"chalus",Epargnissimo:"epargnissimo","AXA \xc9pargne Salariale":"axaes",Sogeretraite:"sogeretraite","Banque Edmond de Rothschild":"edmondderothschild",Mutavie:"mutavie",Agipi:"agipi","Uptevia (ex CACEIS)":"ccso","Allianz Retraite Collective":"allianzretraitecollective","Banque Transatlantique \xe9pargne salariale":"transatlantiquees","Ageas ":"ageas",Manymore:"manymore",Altaprofits:"altaprofits","AXA \xc9pargne Retraite":"axaer","Banque Postale \xc9pargne Salariale":"banquepostaleee","BNP Paribas \xc9pargne & Retraite Entreprises (Personeo)":"bnpes",Generali:"generali","Groupama \xc9pargne Salariale":"groupamaes","Oddo - Banque Priv\xe9e":"oddo",Spirica:"spirica",SwissLife:"swisslife","Union Financi\xe8re de France":"unionfinancieredefrance",Nalo:"nalo",CCF:"ccf",Lydia:"lydia","Ma French Bank":"mafrenchbank","Allianz Banque":"allianzbanque"}},62794:function(e,t,n){"use strict";var r=n(95709),a=r(n(21259)),i=r(n(26396));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=n(58156),d=n(33031),f=n(62575).eitherIncludes,p=n(20419).getSlugFromInstitutionLabel,h=function(e,t,n){var r=n.filter(function(n){return n[e]===t[e]});return 1===r.length?{match:r[0],method:e+"-exact"}:r.length>1?{matches:r,method:e+"-exact"}:null},m=/^(?:[A-Za-z]+)?-?([0-9]+)-?(?:[A-Za-z]+)?$/,v=/[x*]{4}[ -]?[x*]{4}[ -]?[x*]{4}[ -]?(\d{4})/,y=function(e,t){var n,r=t&&t.replace(/\s/g,""),a=e&&!e.match(v)?e.replace(/\s/g,""):e;return r&&27==r.length?r.substr(14,11):a?23==a.length?a.substr(10,11):16==a.length?a.substr(5,11):a.length>11&&(n=a.match(m))?n[1]:a:a},g=function(e,t){return t.number&&e.number&&(11===t.number.length||11===e.number.length)&&f(t.number,e.number)&&Math.min(t.number.length,e.number.length)>=4},b=function(e,t){if("CreditCard"!==e.type&&"CreditCard"!==t.type)return!1;for(var n,r,a=0,i=[e,t];a<i.length;a++){var o=i[a],c=o&&o.number&&o.number.match(v);c&&(n=o,r=c[1])}var s=n===e?t:e;return!!s&&!!s.number&&s.number.slice(-4)===r},w=[{rule:function(e,t){var n=p(e.institutionLabel),r=p(t.institutionLabel);return!n||!r||n===r},bonus:0,malus:-1e3},{rule:g,bonus:50,malus:-50,name:"approx-number"},{rule:function(e,t){var n=e.number||String(e.id),r=t.number||String(t.id);return(!e.number||!t.number)&&f(n,r)},bonus:10,malus:-10,name:"no-number-attr"},{rule:function(e,t){return e.type===t.type},bonus:50,malus:0,name:"same-type"},{rule:b,bonus:150,malus:0,name:"credit-card-number"},{rule:function(e,t){return!!e.currency&&(t.rawNumber&&t.rawNumber.includes(e.currency)||t.label&&t.label.includes(e.currency)||t.originalBankLabel&&t.originalBankLabel.includes(e.currency))},bonus:50,malus:0,name:"currency"}],k=function(e,t){var n,r=[],a={account:t,methods:r},i=0,o=s(w);try{for(o.s();!(n=o.n()).done;){var c=n.value,u=c.rule,l=c.bonus,d=c.malus,f=c.name,p=u(e,t);p&&l&&(i+=l),!p&&d&&(i+=d),f&&p&&r.push(f)}}catch(e){o.e(e)}finally{o.f()}return a.points=i,a},x=function(e){var t=y(e.number,e.iban);return c(c({},e),{},{rawNumber:e.number,number:t})},O=["iban","number"],_=function(e,t){return e&&e===t},E=function(e,t){var n,r=s(O);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e[a]){var i=h(a,e,t);if(i&&i.match)return i}}}catch(e){r.e(e)}finally{r.f()}var o=t.find(function(t){return _(e.originalNumber,t.number)||_(e.number,t.originalNumber)});if(o)return{match:o,method:"originalNumber-exact"};var c=t.find(function(t){return(_(e.rawNumber,t.number)||_(e.number,t.rawNumber))&&t.type==e.type&&t.currency==e.currency});if(c)return{match:c,method:"rawNumber-exact-currency-type"};var u=d(t.map(function(t){return k(e,t)}),function(e){return-e.points}).filter(function(e){return e.points>0});if(u.length>0)return{match:u[0].account,method:u[0].methods.join("-")}};e.exports={matchAccounts:function(e,t){var n,r=e.map(x),i=(0,a.default)(t).map(x),o=[],u=s(r);try{for(u.s();!(n=u.n()).done;){var d=n.value,f=E(d,i);if(f){var p=i.indexOf(f.match);i.splice(p,1),l(d,"metadata.disabledAt")&&l(f,"metadata.disabledAt")||o.push(c({account:d},f))}else l(d,"metadata.disabledAt")||o.push({account:d})}}catch(e){u.e(e)}finally{u.f()}return o},normalizeAccountNumber:y,score:k,creditCardMatch:b,approxNumberMatch:g}},62575:function(e){"use strict";e.exports={eitherIncludes:function(e,t){return!!(e&&t&&(e.includes(t)||t.includes(e)))}}},77323:function(e,t,n){"use strict";var r,a=n(95709),i=a(n(21259)),o=a(n(22056)),c=a(n(72189)),s=a(n(92207));function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(94394),f=n(33031),p=n(62575).eitherIncludes,h=function(e){return e.date.substr(0,10)},m=s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=u(Object.keys((r=t.map(function(e){return d(e,n)}))[0]).sort()),e.prev=2,o=s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,n=r.map(function(e){return e[t]||[]}),e.next=4,[t,n];case 4:case"end":return e.stop()}},e)}),a.s();case 5:if((i=a.n()).done){e.next=9;break}return e.delegateYield(o(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}),v=function(e,t){var n=RegExp(String.raw(r||(r=(0,c.default)(["","{2,}"])),t),"gi");return e&&e.replace(n,t)},y=/\b[0-9X]+\b/gi,g=/\b\d{2}\/\d{2}\/\d{4}\b/g,b=function(e){return e&&e.replace(y,"")},w=function(e){return e&&e.replace(g,"")},k=function(e){return e&&e.replace(/\s/g,"").replace(/-/g,"")},x=function(e,t){if(v(t.originalBankLabel," ")===v(e.originalBankLabel," "))return[200,"originalBankLabel"];if(k(t.originalBankLabel)===k(e.originalBankLabel))return[120,"originalBankLabelCompacted"];if(w(t.originalBankLabel)===w(e.originalBankLabel))return[150,"originalBankLabelWithoutDate"];if(t.label===e.label)return[100,"label"];if(p(t.label.toLowerCase(),e.label.toLowerCase()))return[70,"eitherIncludes"];else if(p(b(t.label.toLowerCase()),b(e.label.toLowerCase())))return[50,"fuzzy-eitherIncludes"];else return[-1e3,"label-penalty"]},O=function(e,t){var n=new Date(e.date.substr(0,10)),r=new Date(t.date.substr(0,10)),a=Math.abs(r-n);return e.realisationDate?Math.min(a,Math.abs(r-new Date(e.realisationDate.substr(0,10)))):a},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a={op:t,methods:r};if(n.maxDateDelta){if(O(e,t)>n.maxDateDelta)return a.points=-1e3,a;r.push("approx-date")}var i=x(e,t),c=(0,o.default)(i,2),s=c[0],u=c[1];return r.push(u),a.points=(0===Math.abs(t.amount-e.amount)?r.push("amount")&&100:-1e3)+s,a},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.find(function(t){return t.vendorId&&e.vendorId&&t.vendorId===e.vendorId});if(r)return{match:r,method:"vendorId"};var a=f(t.map(function(t){return _(e,t,n)}),function(e){return-e.points}).filter(function(e){return e.points>0});return a.length>0?{match:a[0].op,method:a[0].methods.join("-")}:{candidates:a}},C=s.default.mark(function e(t,n){var r,a,o,c,l,d,f,p,h=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>2&&void 0!==h[2]?h[2]:{},a=Array.isArray(n)?(0,i.default)(n):[],o=u(t),e.prev=3,o.s();case 5:if((c=o.n()).done){e.next=14;break}return d={transaction:l=c.value},(f=a.length>0?E(l,a,r):null)&&(Object.assign(d,f),(p=a.indexOf(f.match))>-1&&a.splice(p,1)),e.next=12,d;case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,16,19,22]])});e.exports={matchTransactions:s.default.mark(function e(t,n){var r,a,i,c,l,d,f,p,v,y,g,b,w,k,x,O;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set(t),a=new Set(n),i=u(m([t,n],h)),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=29;break}(l=(0,o.default)(c.value,2))[0],f=u(C((d=(0,o.default)(l[1],2))[0],d[1])),e.prev=8,f.s();case 10:if((p=f.n()).done){e.next=19;break}if(!(v=p.value).match){e.next=17;break}return a.delete(v.match),r.delete(v.transaction),e.next=17,v;case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.next=5;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(3),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:g=0,b=y=[3,4,5];case 39:if(!(g<b.length)){e.next=64;break}w=b[g],k=u(C(Array.from(r),Array.from(a),{maxDateDelta:864e5*w})),e.prev=42,k.s();case 44:if((x=k.n()).done){e.next=53;break}if((O=x.value).method&&(O.method+="-delta".concat(w)),O.match&&(a.delete(O.match),r.delete(O.transaction)),!(O.match||w===y[y.length-1])){e.next=51;break}return e.next=51,O;case 51:e.next=44;break;case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(42),k.e(e.t2);case 58:return e.prev=58,k.f(),e.finish(58);case 61:g++,e.next=39;break;case 64:case"end":return e.stop()}},e,null,[[3,31,34,37],[8,21,24,27],[42,55,58,61]])}),scoreMatching:_}},20419:function(e,t,n){"use strict";var r=n(95709)(n(22056));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(40918).namespace("slug-account"),o=Object.entries(n(85011)).map(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return"/"===n[0]&&"/"===n[n.length-1]?[RegExp(n.substr(1,n.length-2),"i"),a]:[n,a]});e.exports={getSlugFromInstitutionLabel:function(e){if(!e)return void i("warn","No institution label, cannot compute slug");var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(n.s();!(t=n.n()).done;){var c=(0,r.default)(t.value,2),s=c[0],u=c[1];if(s instanceof RegExp){if(e.match(s))return u}else if(s.toLowerCase()===e.toLowerCase())return u}}catch(e){n.e(e)}finally{n.f()}i("warn","Could not compute slug for ".concat(e))}}},17519:function(e,t,n){"use strict";var r=n(95709),a=r(n(82274)),i=r(n(65044)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(58156),l=n(66857),d=n(87292),f=n(64831),p=function(e){return function(t){return t[e]&&0!==t[e].length?t[e].find(function(e){return e.primary})||t[e][0]:""}},h=function(e){return f("warn","".concat(e," from cozy-doctypes contact is deprecated, use cozy-client/models/contacts/").concat(e," instead"))},m=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,null,[{key:"isContact",value:function(e){return e._type===r.doctype}},{key:"getInitials",value:function(e){if(h("getInitials"),"string"==typeof e)return f("warn","Passing a string to Contact.getInitials will be deprecated soon."),e[0].toUpperCase();if(e.name)return["givenName","familyName"].map(function(t){return u(e,["name",t,0],"")}).join("").toUpperCase();var t=r.getPrimaryEmail(e);return t?t[0].toUpperCase():(f("warn","Contact has no name and no email."),"")}},{key:"getPrimaryEmail",value:function(e){return h("getPrimaryEmail"),Array.isArray(e.email)?p("email")(e).address:e.email}},{key:"getPrimaryCozy",value:function(e){return h("getPrimaryCozy"),Array.isArray(e.cozy)?p("cozy")(e).url:e.url}},{key:"getPrimaryPhone",value:function(e){return h("getPrimaryPhone"),p("phone")(e).number}},{key:"getPrimaryAddress",value:function(e){return h("getPrimaryAddress"),p("address")(e).formattedAddress}},{key:"getFullname",value:function(e){return(h("getFullname"),e.fullname)?e.fullname:e.name?["namePrefix","givenName","additionalName","familyName","nameSuffix"].map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():void 0}},{key:"getDisplayName",value:function(e){return h("getDisplayName"),r.getFullname(e)||r.getPrimaryEmail(e)}}]),r}(d),v=l.shape({_id:l.string.isRequired,_type:l.string.isRequired,fullname:l.string,name:l.shape({givenName:l.string,familyName:l.string,additionalName:l.string,namePrefix:l.string,nameSuffix:l.string}),birthday:l.string,note:l.string,email:l.arrayOf(l.shape({address:l.string.isRequired,label:l.string,type:l.string,primary:l.bool})),address:l.arrayOf(l.shape({street:l.string,pobox:l.string,city:l.string,region:l.string,postcode:l.string,country:l.string,type:l.string,primary:l.bool,label:l.string,formattedAddress:l.string})),phone:l.arrayOf(l.shape({number:l.string.isRequired,type:l.string,label:l.string,primary:l.bool})),cozy:l.arrayOf(l.shape({url:l.string.isRequired,label:l.string,primary:l.bool})),company:l.string,jobTitle:l.string,trashed:l.bool,me:l.bool,relationships:l.shape({accounts:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))}),groups:l.shape({data:l.arrayOf(l.shape({_id:l.string.isRequired,_type:l.string.isRequired}))})})});m.doctype="io.cozy.contacts",m.propType=v,e.exports=m},45860:function(e,t,n){"use strict";var r=n(95709),a=r(n(65044)),i=r(n(82274)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=n(66857),l=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,a.default)(r)}(n(87292)),d=u.shape({_id:u.string.isRequired,_type:u.string.isRequired,name:u.string.isRequired,trashed:u.bool});l.doctype="io.cozy.contacts.groups",l.propType=d,e.exports=l},41433:function(e,t,n){"use strict";var r=n(990),a=n(86831),i=n(87292),o=n(10043),c=n(88045),s=n(95054),u=n(37853),l=n(22098),d=n(81169),f=n(78550),p=n(97438);e.exports={Account:r,AdministrativeProcedure:u,Application:a,Document:i,BalanceHistory:l,BankAccount:d,BankingReconciliator:n(18712),BankTransaction:p,BankAccountStats:f,Contact:n(17519),CozyFile:o,CozyFolder:c,Group:n(45860),registerClient:i.registerClient,Permission:s}},64831:function(e,t,n){"use strict";e.exports=n(40918).namespace("doctypes")},81460:function(e,t,n){"use strict";var r=n(95709)(n(92207));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=n(61711);e.exports={parallelMap:function(e,t,n){var o=[];return new i(r.default.mark(function n(){var i,c,s;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(e),n.prev=1,i.s();case 3:if((c=i.n()).done){n.next=9;break}return s=c.value,n.next=7,t(s).then(function(e){return o.push(e)});case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i.e(n.t0);case 14:return n.prev=14,i.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])}),n||30).start().then(function(){return o})}}},29575:function(e){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},64862:function(e,t,n){var r=n(90632);e.exports=function(e,t){var n=r(e),a=Number(t);return n.setDate(n.getDate()+a),n}},19856:function(e,t,n){var r=n(90632);e.exports=function(e,t){var n=r(e),a=r(t);return n.getTime()>a.getTime()}},81269:function(e){e.exports=function(e){return e instanceof Date}},90632:function(e,t,n){var r=n(29575),a=n(81269),i=/[T ]/,o=/:/,c=/^(\d{2})$/,s=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,f=/^-?(\d{3})$/,p=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,v=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,w=/^(Z)$/,k=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function O(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}e.exports=function(e,t){if(a(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n,_,E,C=(t||{}).additionalDigits;C=null==C?2:Number(C);var S=function(e){var t,n={},r=e.split(i);if(o.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var a=b.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e),P=function(e,t){var n,r=s[t],a=l[t];if(n=u.exec(e)||a.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=c.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(S.date,C),A=P.year,D=function(e,t){if(null===t)return null;if(0===e.length)return(a=new Date(0)).setUTCFullYear(t),a;if(n=d.exec(e))return a=new Date(0),r=parseInt(n[1],10)-1,a.setUTCFullYear(t,r),a;if(n=f.exec(e)){var n,r,a=new Date(0),i=parseInt(n[1],10);return a.setUTCFullYear(t,0,i),a}if(n=p.exec(e)){a=new Date(0),r=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return a.setUTCFullYear(t,r,o),a}return(n=h.exec(e))?O(t,parseInt(n[1],10)-1):(n=m.exec(e))?O(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(P.restDateString,A);if(!D)return new Date(e);var T,R=D.getTime(),j=0;if(S.time&&(j=function(e){if(t=v.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=y.exec(e))return(n=parseInt(t[1],10))%24*36e5+6e4*(r=parseFloat(t[2].replace(",",".")));if(t=g.exec(e)){var t,n=parseInt(t[1],10),r=parseInt(t[2],10);return n%24*36e5+6e4*r+1e3*parseFloat(t[3].replace(",","."))}return null}(S.time)),S.timezone){T=6e4*(n=S.timezone,(_=w.exec(n))?0:(_=k.exec(n))?(E=60*parseInt(_[2],10),"+"===_[1]?-E:E):(_=x.exec(n))?(E=60*parseInt(_[2],10)+parseInt(_[3],10),"+"===_[1]?-E:E):0)}else{var M=R+j,I=new Date(M);T=r(I);var N=new Date(M);N.setDate(I.getDate()+1);var z=r(N)-r(I);z>0&&(T+=z)}return new Date(R+j+T)}},8549:function(e,t,n){"use strict";var r=n(98070);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},66857:function(e,t,n){e.exports=n(8549)()},98070:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},91685:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e);var n=t;"string"==typeof n&&(n=JSON.parse(n)),this.tokenType=n.token_type||n.tokenType,this.accessToken=n.access_token||n.accessToken,this.refreshToken=n.refresh_token||n.refreshToken,this.scope=n.scope}return(0,i.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAccessToken",value:function(){return this.accessToken}}]),e}()},52997:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeApp=t.APPS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(58156)),p=n(41520),h=r(n(20796)),m=r(n(81189)),v=n(90597);n(21987);var y=r(n(1084));function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="io.cozy.apps";t.APPS_DOCTYPE=k;var x=function(e,t){return w(w({},(0,v.normalizeDoctypeJsonApi)(t)(e)),{},{id:e.id})};t.normalizeApp=x;var O=function(e){(0,s.default)(w,e);var t,n,r,d,m,v,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(w);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function w(e){var t;return(0,o.default)(this,w),(t=b.call(this,k,e)).endpoint="/apps/",t}return(0,c.default)(w,[{key:"get",value:(n=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s,u,l,d,m=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.indexOf("/")>-1?r=t.split("/")[1]:(y.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query apps/konnectors only with id, please use the form ".concat(this.doctype,"/").concat(t,"\n\n- Q('io.cozy.apps').getById('banks')\n+ Q('io.cozy.apps').getById('io.cozy.apps/banks')")),r=t),!(n&&n.sources&&(!Array.isArray(n.sources)||0===n.sources.length))){e.next=3;break}throw Error('Invalid "sources" attribute passed in query, please use an array with at least one element.');case 3:i=(0,f.default)(n,"sources",["stack"]),o={stack:function(){return h.default.get(m.stackClient,"".concat(m.endpoint).concat(encodeURIComponent(r)),{normalize:function(e){return x(e,m.doctype)}})},registry:function(){return m.stackClient.fetchJSON("GET",p.registryEndpoint+r)}},c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(i),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=27;break}return u=s.value,e.prev=10,e.next=13,o[u]();case 13:if(l=e.sent,"registry"===u){e.next=16;break}return e.abrupt("return",l);case 16:return y.default.warn("The use of source registry is deprecated since it can polute the io.cozy.apps slice. For exemple, if we request data from the registry, than the app will be present in the io.cozy.apps slice and then the isInstalled() will return true.\n\n            Use Q('io.cozy.apps_registry) instead"),d=(0,p.transformRegistryFormatToStackFormat)(l),e.abrupt("return",{data:x(d,this.doctype)});case 21:if(e.prev=21,e.t0=e.catch(10),u!==i[i.length-1]){e.next=25;break}throw e.t0;case 25:e.next=8;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),c.e(e.t1);case 32:return e.prev=32,c.f(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[6,29,32,35],[10,21]])})),function(e,t){return n.apply(this,arguments)})},{key:"all",value:(r=(0,i.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.endpoint);case 2:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return x(e,n.doctype)}),meta:{count:t.meta.count},skip:0,next:!1});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"create",value:(d=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"update",value:(m=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("update() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)})},{key:"destroy",value:(v=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})}]),w}(m.default);O.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=O},43972:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e),this.token=t||""}return(0,i.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:".concat(this.token,"@")}},{key:"getAccessToken",value:function(){return this.token}}]),e}()},85063:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeAppFromRegistry=t.APPS_REGISTRY_DOCTYPE=void 0;var i=a(n(82274)),o=a(n(65044)),c=a(n(56994)),s=a(n(65611)),u=a(n(18337)),l=a(n(92207)),d=a(n(79092)),f=a(n(26396)),p=a(n(81189)),h=n(90597);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y="io.cozy.apps_registry";t.APPS_REGISTRY_DOCTYPE=y;var g=function(e,t){var n,r="".concat("webapp"===e.type?"io.cozy.apps":"io.cozy.konnectors","/").concat(e.slug),a=v(v({},e.attributes),null==(n=e.latest_version)?void 0:n.manifest);return v({},(0,h.normalizeDoc)(v(v({},e),{},{attributes:a,id:r,_id:r}),t))};t.normalizeAppFromRegistry=g;var b=(r=(0,d.default)(l.default.mark(function e(t,n,r){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchJSON("GET","/registry?versionsChannel=".concat(t,"&filter[type]=konnector&limit=500"));case 2:return a=e.sent,e.abrupt("return",{data:a.data.map(function(e){return g(e,n)})});case 4:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)});t.default=function(e){(0,c.default)(p,e);var t,n,r,a,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(p);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function p(e){var t;return(0,i.default)(this,p),(t=f.call(this,y,e)).endpoint="/registry/",t}return(0,o.default)(p,[{key:"get",value:(n=(0,d.default)(l.default.mark(function e(t){var n,r,a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("konnectors/")){e.next=3;break}return n=t.split("/")[1],e.abrupt("return",b(n,this.doctype,this.stackClient));case 3:return e.next=5,this.stackClient.fetchJSON("GET","".concat(this.endpoint).concat(t));case 5:if(r=e.sent,"maintenance"!==t){e.next=8;break}return e.abrupt("return",{data:r.map(function(e){return g(e,a.doctype)})});case 8:return e.abrupt("return",{data:g(r,this.doctype)});case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:(r=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})}]),p}(p.default)},20796:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Collection=t.isDocumentUpdateConflict=t.isTimeoutError=t.isNoUsableIndexError=t.isIndexNotUsedWarning=t.isIndexConflictError=t.isIndexNotFoundError=t.dontThrowNotFoundError=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));n(42867);var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.message.match(/not_found/))return Array.isArray(t)?{data:t,meta:{count:0},skip:0,next:!1}:{data:t};throw e};t.dontThrowNotFoundError=s,t.isIndexNotFoundError=function(e){return e.message.match(/no_index/)},t.isIndexConflictError=function(e){return e.message.match(/error_saving_ddoc/)},t.isIndexNotUsedWarning=function(e){return e.match(/was not used because it does not contain a valid index for this query/)},t.isNoUsableIndexError=function(e){return e.message.match(/no_usable_index/)},t.isTimeoutError=function(e){return e.message.match(/context deadline exceeded/)},t.isDocumentUpdateConflict=function(e){return e.message.match(/Document update conflict/)};var u=function(){var e;function t(){(0,o.default)(this,t)}return(0,c.default)(t,null,[{key:"get",value:(e=(0,i.default)(a.default.mark(function e(t,n,r){var i,o,c,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(i=r.normalize)?function(e,t){return e}:i,u=void 0===(c=r.method)?"GET":c,e.prev=1,e.next=4,t.fetchJSON(u,n);case 4:return l=e.sent,e.abrupt("return",{data:o(l.data,l)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",s(e.t0,null));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t,n,r){return e.apply(this,arguments)})}]),t}();t.Collection=u,t.default=u},28465:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONTACTS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(96220)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(81189)),h=n(90597);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(98854);var y="io.cozy.contacts";t.CONTACTS_DOCTYPE=y;var g=(0,h.normalizeDoctypeJsonApi)(y),b=function(e){var t;return v(v({},g(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})};t.default=function(e){(0,u.default)(h,e);var t,n,r,f,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,o.default)(this,h),p.apply(this,arguments)}return(0,c.default)(h,[{key:"find",value:(n=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||1!==Object.values(t).length||!0!=t.me){e.next=4;break}return e.abrupt("return",this.findMyself());case 4:return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"find",this).call(this,t,n));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findMyself",value:(r=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/contacts/myself");case 2:return t={data:[b(e.sent.data)],next:!1,meta:null,bookmark:!1},e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(f=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys((null==t||null==(n=t.cozyMetadata)?void 0:n.sync)||{}).length>0)){e.next=6;break}return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"update",this).call(this,v(v({},t),{},{trashed:!0})));case 6:return e.abrupt("return",(0,s.default)((0,d.default)(h.prototype),"destroy",this).call(this,t));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}]),h}(p.default)},45308:function(e,t,n){"use strict";var r,a=n(58784),i=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(39892)),c=i(n(26396)),s=i(n(82274)),u=i(n(65044)),l=i(n(92207)),d=i(n(79092)),f=i(n(88055)),p=a(n(52997)),h=i(n(43972));i(n(91685));var m=i(n(81189)),v=i(n(79374)),y=a(n(6281)),g=a(n(64565)),b=i(n(6926)),w=i(n(771)),k=a(n(96446)),x=a(n(95741)),O=a(n(88255)),_=a(n(77493)),E=a(n(88213)),C=a(n(28465)),S=a(n(85063)),P=i(n(79934)),A=i(n(3961)),D=n(78866),T=i(n(56173)),R=a(n(21987)),j=i(n(1084)),M=i(n(22428)),I=n(55125);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(e){var t=e;if(null===t)return null;for(;"/"===t[t.length-1];)t=t.slice(0,-1);return t},L=(r=(0,d.default)(l.default.mark(function e(t){var n,r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t.headers.get("content-type"))&&/\bapplication\/(vnd\.api\+)?json\b/.test(n),e.abrupt("return",r?t.json():t.text());case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),B=function(){var e,t,n,r;function a(e){(0,s.default)(this,a);var t=z({},e),n=t.token,r=t.uri;this.options=t,this.setUri(void 0===r?"":r),this.setToken(n),this.konnectors=new g.default(this),this.jobs=new y.default(this),this._promiseCache=new M.default}return(0,u.default)(a,[{key:"isRevocationError",value:function(e){return!!(null==e?void 0:e.message)&&(!!(R.default.CLIENT_NOT_FOUND.test(e.message)||R.default.UNREGISTERED_CLIENT.test(e.message))||void 0)}},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("CozyStackClient.collection() called without a doctype");switch(e){case p.APPS_DOCTYPE:return new p.default(this,t);case g.KONNECTORS_DOCTYPE:return new g.default(this,t);case"io.cozy.files":return new v.default(e,this,t);case"io.cozy.sharings":return new b.default(e,this,t);case"io.cozy.permissions":return new w.default(e,this,t);case C.CONTACTS_DOCTYPE:return new C.default(e,this,t);case k.TRIGGERS_DOCTYPE:return new k.default(this,t);case y.JOBS_DOCTYPE:return new y.default(this,t);case x.SETTINGS_DOCTYPE:return new x.default(this,t);case O.NOTES_DOCTYPE:return new O.default(this,t);case _.OAUTH_CLIENTS_DOCTYPE:return new _.default(this,t);case E.SHORTCUTS_DOCTYPE:return new E.default(this,t);case S.APPS_REGISTRY_DOCTYPE:return new S.default(this,t);case I.NEXTCLOUD_FILES_DOCTYPE:return new I.NextcloudFilesCollection(this,t);default:return new m.default(e,this,t)}}},{key:"fetch",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,c,s,u,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0===(c=(i=z({},a=y.length>3&&void 0!==y[3]?y[3]:{})).throwFetchErrors)?this.options.throwFetchErrors:c,(u=(0,o.default)(i,["throwFetchErrors"])).method=t,d=u.headers=z({},a.headers),"GET"!==t&&"HEAD"!==t&&void 0!==r&&d["Content-Type"]&&(u.body=r),d.Authorization||(d.Authorization=this.getAuthorizationHeader()),u.credentials=u.credentials||"include",f=this.fullpath(n),p=(0,D.shouldXMLHTTPRequestBeUsed)(t,n,u)?D.fetchWithXMLHttpRequest:fetch,e.prev=9,e.next=12,p(f,u);case 12:if((h=e.sent).ok){e.next=21;break}return e.next=16,L(h);case 16:if(m=e.sent,v=new R.FetchError(h,m),this.emit("error",v),!s){e.next=21;break}throw v;case 21:return e.abrupt("return",h);case 24:throw e.prev=24,e.t0=e.catch(9),this.isRevocationError(e.t0)&&this.onRevocationChange(!0),e.t0;case 28:case"end":return e.stop()}},e,this,[[9,24]])})),function(t,n,r){return e.apply(this,arguments)}))},{key:"onTokenRefresh",value:function(e){this.options&&this.options.onTokenRefresh&&this.options.onTokenRefresh(e)}},{key:"onRevocationChange",value:function(e){this.options&&this.options.onRevocationChange&&this.options.onRevocationChange(e)}},{key:"refreshToken",value:(t=(0,d.default)(l.default.mark(function e(){var t,n,r,a,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}throw Error("Cannot refresh an empty token");case 2:return t={method:"GET",credentials:"include"},e.next=5,fetch("/?refreshToken",t);case 5:if((n=e.sent).ok){e.next=8;break}throw Error("Couldn't fetch a new token - response "+n.statusCode);case 8:return e.next=10,n.text();case 10:if(!(!(r=e.sent.match(/data-cozy="([^"]+)"/))||r.length<2)){e.next=14;break}throw Error("Couldn't fetch a new token - no data-cozy element found in HTML");case 14:if(a=JSON.parse(r[1].replace(/&#34;/g,'"')).token){e.next=19;break}throw Error("Couldn't fetch a new token - missing in data-cozy attribute");case 19:return i=new h.default(a),this.setToken(i),this.onTokenRefresh(i),j.default.info("Token successfully refreshed"),e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"fetchJSON",value:(n=(0,d.default)(l.default.mark(function e(t,n,r){var a,i=this,o=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},e.prev=1,e.next=4,this.fetchJSONWithCurrentToken(t,n,r,a);case 4:case 20:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(R.default.EXPIRED_TOKEN.test(e.t0.message)||R.default.INVALID_TOKEN.test(e.t0.message)||R.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=23;break}return e.prev=10,e.next=13,this._promiseCache.exec(function(){return i.refreshToken()},function(){return"refreshToken"});case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),e.t0;case 18:return e.next=20,this.fetchJSONWithCurrentToken(t,n,r,a);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[1,7],[10,15]])})),function(e,t,r){return n.apply(this,arguments)})},{key:"fetchJSONWithCurrentToken",value:(r=(0,d.default)(l.default.mark(function e(t,n,r){var a,i,o,c,s,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:{},(o=(i=(0,f.default)(a)).headers=i.headers||{}).Accept="application/json",c=r,"GET"===t||"HEAD"===t||void 0===c||o["Content-Type"]||(o["Content-Type"]="application/json",c=JSON.stringify(c)),i.throwFetchErrors=!0,e.next=9,this.fetch(t,n,c,i);case 9:return s=e.sent,e.abrupt("return",L(s));case 11:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"fullpath",value:function(e){return e.startsWith("http")?e:this.uri+e}},{key:"getAuthorizationHeader",value:function(){return this.token?this.token.toAuthHeader():null}},{key:"setCredentials",value:function(e){return(0,A.default)("CozyStackClient::setCredentials is deprecated, use CozyStackClient::setToken"),this.setToken(e)}},{key:"getCredentials",value:function(){return(0,A.default)("CozyStackClient::getCredentials is deprecated, use CozyStackClient::getAuthorizationHeader"),this.getAuthorizationHeader()}},{key:"setToken",value:function(e){if(e){if(e.toAuthHeader)this.token=e;else if("string"==typeof e)this.token=new h.default(e);else throw j.default.warn("Cozy-Client: Unknown token format",e),Error("Cozy-Client: Unknown token format");this.onRevocationChange(!1)}else this.token=null}},{key:"getAccessToken",value:function(){return this.token&&this.token.getAccessToken()}},{key:"setUri",value:function(e){this.uri=F(e)}},{key:"getIconURL",value:function(e){return(0,P.default)(this,e)}}]),a}();T.default.mixin(B),t.default=B},81189:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(39892)),o=a(n(21259)),c=a(n(26396)),s=a(n(92207)),u=a(n(72189)),l=a(n(79092)),d=a(n(82274)),f=a(n(65044)),p=a(n(94619)),h=n(42447),m=a(n(63375)),v=a(n(90179)),y=a(n(912)),g=a(n(55364)),b=a(n(22331)),w=a(n(55373)),k=n(18366),x=n(90597),O=r(n(20796)),_=r(n(95327));n(21987);var E=a(n(1084));function C(){var e=(0,u.default)(["/data/","/_design/","/copy?rev=",""]);return C=function(){return e},e}function S(){var e=(0,u.default)(["/data/","/_design/","?rev=",""]);return S=function(){return e},e}function P(){var e=(0,u.default)(["/data/","/_design_docs?include_docs=true"]);return P=function(){return e},e}function A(){var e=(0,u.default)(["/data/","/_index"]);return A=function(){return e},e}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(){var e=(0,u.default)(["/data/","/","?rev=",""]);return T=function(){return e},e}function R(){var e=(0,u.default)(["/data/","/",""]);return R=function(){return e},e}function j(){var e=(0,u.default)(["/data/","/",""]);return j=function(){return e},e}function M(){var e=(0,u.default)(["/data/","/_all_docs?include_docs=true"]);return M=function(){return e},e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(){var e=(0,u.default)(["/data/","/_find"]);return z=function(){return e},e}function F(){var e=(0,u.default)(["/data/","/",""]);return F=function(){return e},e}var L=function(e){return Object.assign({},(0,v.default)(e,"_type"),{_deleted:!0})};t.default=function(){var e,t,n,r,a,u,I,B,U,V,H,q,W,G,Z,K,Q,Y,J,$,X,ee;function et(e,t,n){(0,d.default)(this,et),this.doctype=e,this.stackClient=t,this.indexes={},this.endpoint="/data/".concat(this.doctype,"/")}return(0,f.default)(et,[{key:"all",value:(e=(0,l.default)(s.default.mark(function e(){var t,n,r,a,i,o,c,u,l,d,f,p,m,v,y,g=this,w=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=w.length>0&&void 0!==w[0]?w[0]:{}).limit)?100:n,i=void 0===(a=t.skip)?0:a,o=t.bookmark,l=(u=!!(c=t.keys)||null===r)?"_all_docs":"_normal_docs",d=(0,h.uri)(F(),this.doctype,l),f={include_docs:!0,limit:r,skip:i,keys:c,bookmark:o},p=_.buildURL(d,f),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",p);case 9:m=e.sent,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 15:return v=u?m.rows.filter(function(e){return e&&null!==e.doc&&!e.error&&!(0,b.default)(e.id,"_design")}).map(function(e){return(0,x.normalizeDoc)(e.doc,g.doctype)}):m.rows.map(function(e){return(0,x.normalizeDoc)(e,g.doctype)}),y=o?m.rows.length>=r:i+m.rows.length<m.total_rows,e.abrupt("return",{data:v,meta:{count:u?v.length:m.total_rows},skip:i,bookmark:m.bookmark,next:y});case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(){return e.apply(this,arguments)})},{key:"fetchDocumentsWithMango",value:(t=(0,l.default)(s.default.mark(function e(t,n){var r,a=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",this.stackClient.fetchJSON("POST",t,this.toMangoOptions(n,r)));case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"migrateIndex",value:(n=(0,l.default)(s.default.mark(function e(t,n){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.copyIndex(t,n);case 3:return e.next=5,this.destroyIndex(t);case 5:e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(0),(0,O.isDocumentUpdateConflict)(e.t0)){e.next=11;break}throw e.t0;case 11:return(0,h.sleep)(1e3),e.next=14,this.copyIndex(t,n);case 14:return e.next=16,this.destroyIndex(t);case 16:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return n.apply(this,arguments)})},{key:"handleMissingIndex",value:(r=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.indexedFields,a=n.partialFilter,r||(r=(0,k.getIndexFields)({sort:n.sort,selector:t})),i=(0,k.getIndexNameFromFields)(r,a),e.next=5,this.findExistingIndex(t,n);case 5:if(o=e.sent){e.next=11;break}return e.next=9,this.createIndex(r,{partialFilter:a,indexName:i});case 9:case 14:e.next=17;break;case 11:if(o._id==="_design/".concat(i)){e.next=16;break}return e.next=14,this.migrateIndex(o,i);case 16:throw Error("Index unusable for query, index used: ".concat(i));case 17:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"findWithMango",value:(a=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,e.next=4,this.fetchDocumentsWithMango(t,n,r);case 4:if(!((o=(a=e.sent).warning||(null==(i=a.meta)?void 0:i.warning))&&r.partialFilter&&(0,O.isIndexNotUsedWarning)(o))){e.next=8;break}throw Error("no_index");case 8:e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(1),!((0,O.isIndexNotFoundError)(e.t0)||(0,O.isNoUsableIndexError)(e.t0)||(0,O.isTimeoutError)(e.t0))){e.next=20;break}return e.next=15,this.handleMissingIndex(n,r);case 15:return e.next=17,this.fetchDocumentsWithMango(t,n,r);case 17:a=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}},e,this,[[1,10]])})),function(e,t){return a.apply(this,arguments)})},{key:"find",value:(u=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c=this,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=u.length>1&&void 0!==u[1]?u[1]:{}).skip)?0:r,e.prev=2,o=(0,h.uri)(z(),this.doctype),e.next=6,this.findWithMango(o,t,n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 12:return e.abrupt("return",{data:i.docs.map(function(e){return(0,x.normalizeDoc)(e,c.doctype)}),next:i.next,skip:a,bookmark:i.bookmark,execution_stats:i.execution_stats});case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return u.apply(this,arguments)})},{key:"findAll",value:(I=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,c,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=!0,a=[],i=n.bookmark||void 0;case 4:if(!r){e.next=13;break}return e.next=7,this.find(t,N(N({},n),{},{bookmark:i}));case 7:c=e.sent,a.push.apply(a,(0,o.default)(c.data)),i=c.bookmark,r=c.next,e.next=4;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"get",value:(B=(0,l.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.default.get(this.stackClient,"".concat(this.endpoint).concat(encodeURIComponent(t)),{normalize:this.constructor.normalizeDoctype(this.doctype)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"getAll",value:(U=(0,l.default)(s.default.mark(function e(t){var n,r,a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",(0,h.uri)(M(),this.doctype),{keys:t});case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 9:return r=n.rows.filter(function(e){return e.doc}),e.abrupt("return",{data:r.map(function(e){return(0,x.normalizeDoc)(e.doc,a.doctype)}),meta:{count:r.length}});case 11:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return U.apply(this,arguments)})},{key:"create",value:(V=(0,l.default)(s.default.mark(function e(t){var n,r,a,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,t._type,r=(0,i.default)(t,["_id","_type"]),o=(a=!!n)?"PUT":"POST",c=(0,h.uri)(j(),this.doctype,a?n:""),e.next=6,this.stackClient.fetchJSON(o,c,r);case 6:return u=e.sent,e.abrupt("return",{data:(0,x.normalizeDoc)(u.data,this.doctype)});case 8:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"update",value:(H=(0,l.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("PUT",(0,h.uri)(R(),this.doctype,t._id),t);case 2:return n=e.sent,e.abrupt("return",{data:(0,x.normalizeDoc)(n.data,this.doctype)});case 4:case"end":return e.stop()}},e,this)})),function(e){return H.apply(this,arguments)})},{key:"destroy",value:(q=(0,l.default)(s.default.mark(function e(t){var n,r,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,r=t._rev,a=(0,i.default)(t,["_id","_rev"]),e.next=3,this.stackClient.fetchJSON("DELETE",(0,h.uri)(T(),this.doctype,n,r));case 3:return o=e.sent,e.abrupt("return",{data:(0,x.normalizeDoc)(N(N({},a),{},{_id:n,_rev:o.rev,_deleted:!0}),this.doctype)});case 5:case"end":return e.stop()}},e,this)})),function(e){return q.apply(this,arguments)})},{key:"updateAll",value:(W=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.stackClient,!(!(r=t?t.map(function(e){return(0,v.default)(e,"_type")}):t)||!r.length)){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return e.prev=4,e.next=7,n.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:r});case 7:return a=e.sent,e.abrupt("return",a);case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."===e.t0.reason.reason)){e.next=24;break}return e.next=16,this.create(r[0]);case 16:return i=e.sent,e.next=19,this.updateAll(r.slice(1));case 19:return(o=e.sent).unshift({ok:!0,id:i._id,rev:i._rev}),e.abrupt("return",o);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[4,11]])})),function(e){return W.apply(this,arguments)})},{key:"destroyAll",value:function(e){return this.updateAll(e.map(L))}},{key:"toMangoOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sort,r=t.indexedFields,a=t.partialFilter,i=t.fields,s=t.skip,u=t.limit,l=t.bookmark;n=(0,k.transformSort)(n),!r&&e&&E.default.warn("Selector fields should be manually indexed to prevent unexpected behaviour"),r=r||(0,k.getIndexFields)({sort:n,selector:e});var d=t.indexId||"_design/".concat((0,k.getIndexNameFromFields)(r,a));if(n){var f=(0,m.default)(n.map(function(e){return(0,y.default)(Object.values(e))}));if(f.length>1)throw Error("Mango sort can only use a single order (asc or desc).");var h,v=f.length>0?(0,y.default)(f):"asc",b=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return D(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(r);try{for(b.s();!(h=b.n()).done;)!function(){var e=h.value;n.find(function(t){return(0,y.default)(Object.keys(t))===e})||n.push((0,c.default)({},e,v))}()}catch(e){b.e(e)}finally{b.f()}}return{selector:a?(0,g.default)(N({},e),a):e,use_index:d,fields:i?[].concat((0,o.default)(i),["_id","_rev"]):void 0,limit:u,skip:void 0===s?0:s,bookmark:t.bookmark||l,sort:n,execution_stats:!!(0,p.default)("debug")||void 0}}},{key:"checkUniquenessOf",value:(G=(0,l.default)(s.default.mark(function e(t,n){var r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUniqueIndexId(t);case 2:return r=e.sent,e.next=5,this.find((0,c.default)({},t,n),{indexId:r,fields:["_id"]});case 5:return a=e.sent,e.abrupt("return",0===a.data.length);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return G.apply(this,arguments)})},{key:"getUniqueIndexId",value:function(e){return this.getIndexId([e],{indexName:"".concat(this.doctype,"/").concat(e)})}},{key:"getIndexId",value:(Z=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=n.partialFilter)?"":r,o=void 0===(i=n.indexName)?(0,k.getIndexNameFromFields)(t):i,this.indexes[o]){e.next=20;break}return e.prev=2,e.next=5,this.createIndex(t,{partialFilter:a});case 5:c=e.sent,e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(2),(0,O.isIndexConflictError)(e.t0)){e.next=14;break}throw e.t0;case 14:return e.next=16,(0,h.sleep)(1e3);case 16:return e.next=18,this.createIndex(t,{partialFilter:a});case 18:c=e.sent;case 19:this.indexes[o]=c;case 20:return e.abrupt("return",this.indexes[o].id);case 21:case"end":return e.stop()}},e,this,[[2,8]])})),function(e,t){return Z.apply(this,arguments)})},{key:"createIndex",value:(K=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c,u,l,d=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=d.length>1&&void 0!==d[1]?d[1]:{}).partialFilter,a=n.indexName,i={index:{fields:t}},a&&(i.ddoc=a),r&&(i.index.partial_filter_selector=r),e.prev=4,e.next=7,this.stackClient.fetchJSON("POST",(0,h.uri)(A(),this.doctype),i);case 7:o=e.sent,e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(4),(0,O.isIndexConflictError)(e.t0)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return");case 17:if(c={id:o.id,fields:t},"exists"!==o.result){e.next=20;break}return e.abrupt("return",c);case 20:return u={},t.forEach(function(e){return u[e]={$gt:null}}),l={indexId:c.id,limit:1,partialFilterFields:r?(0,k.getIndexFields)({partialFilter:r}):null},e.next=25,(0,h.attempt)(this.find(u,l));case 25:if(!e.sent){e.next=27;break}return e.abrupt("return",c);case 27:return e.next=29,(0,h.sleep)(1e3);case 29:return e.next=31,(0,h.attempt)(this.find(u,l));case 31:if(!e.sent){e.next=33;break}return e.abrupt("return",c);case 33:return e.next=35,(0,h.sleep)(500);case 35:return e.abrupt("return",c);case 36:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return K.apply(this,arguments)})},{key:"fetchAllMangoIndexes",value:(Q=(0,l.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.uri)(P(),this.doctype),e.next=3,this.stackClient.fetchJSON("GET",t);case 3:return n=e.sent,e.abrupt("return",n.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(0,k.normalizeDesignDoc)(e)}));case 5:case"end":return e.stop()}},e,this)})),function(){return Q.apply(this,arguments)})},{key:"destroyIndex",value:(Y=(0,l.default)(s.default.mark(function e(t){var n,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id.split("/")[1],r=t._rev,a=(0,h.uri)(S(),this.doctype,n,r),e.abrupt("return",this.stackClient.fetchJSON("DELETE",a));case 4:case"end":return e.stop()}},e,this)})),function(e){return Y.apply(this,arguments)})},{key:"copyIndex",value:(J=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id.split("/")[1],a=t._rev,i=(0,h.uri)(C(),this.doctype,r,a),o={headers:{Destination:"_design/".concat(n)}},e.abrupt("return",this.stackClient.fetchJSON("POST",i,null,o));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return J.apply(this,arguments)})},{key:"findExistingIndex",value:($=(0,l.default)(s.default.mark(function e(t,n){var r,a,i,o,c,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sort,a=n.indexedFields,i=n.partialFilter,e.next=3,this.fetchAllMangoIndexes();case 3:if(!((o=e.sent).length<1)){e.next=6;break}return e.abrupt("return",null);case 6:return r=(0,k.transformSort)(r),c=a||(0,k.getIndexFields)({sort:r,selector:t}),u=o.find(function(e){return(0,k.isMatchingIndex)(e,c,i)}),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return $.apply(this,arguments)})},{key:"fetchChangesRaw",value:(X=(0,l.default)(s.default.mark(function e(t){var n,r,a,i,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.doc_ids&&t.doc_ids.length>0,r="?".concat([w.default.stringify(N(N({},(0,v.default)(t,["doc_ids","includeDocs"])),{},{include_docs:t.includeDocs})),n&&void 0===t.filter?"filter=_doc_ids":void 0].filter(Boolean).join("&")),a=n?"POST":"GET",i="/data/".concat(this.doctype,"/_changes").concat(r),o=n?{doc_ids:t.doc_ids}:void 0,e.next=7,this.stackClient.fetchJSON(a,i,o);case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)})),function(e){return X.apply(this,arguments)})},{key:"fetchChanges",value:(ee=(0,l.default)(s.default.mark(function e(){var t,n,r,a,i,o,c=this,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},r={includeDocs:!0},"object"!=typeof t?(r.since=t,E.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(r,t),e.next=6,this.fetchChangesRaw(r);case 6:return i=(a=e.sent).last_seq,o=a.results.map(function(e){return e.doc}).filter(Boolean),n.includeDesign||(o=o.filter(function(e){return 0!==e._id.indexOf("_design")})),n.includeDeleted||(o=o.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:i,documents:o.map(function(e){return(0,x.normalizeDoc)(e,c.doctype)})});case 12:case"end":return e.stop()}},e,this)})),function(){return ee.apply(this,arguments)})}],[{key:"normalizeDoctype",value:function(e){return(0,x.normalizeDoctypeRawApi)(e)}}]),et}()},79374:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isDirectory=t.isFile=void 0;var i=a(n(39892)),o=a(n(92207)),c=a(n(72189)),s=a(n(79092)),u=a(n(82274)),l=a(n(65044)),d=a(n(41972)),f=a(n(56994)),p=a(n(65611)),h=a(n(18337)),m=a(n(26396)),v=a(n(71133)),y=a(n(61448)),g=a(n(58156)),b=a(n(90179)),w=a(n(44383));n(18366);var k=a(n(81189)),x=n(90597),O=n(42447);n(21987);var _=n(20796),E=n(36951),C=r(n(95327)),S=a(n(1084));function P(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return P=function(){return e},e}function A(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return A=function(){return e},e}function D(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return D=function(){return e},e}function T(){var e=(0,c.default)(["/","/versions"]);return T=function(){return e},e}function R(){var e=(0,c.default)(["/upload/metadata"]);return R=function(){return e},e}function j(){var e=(0,c.default)(["/",""]);return j=function(){return e},e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(){var e=(0,c.default)(["/","?Name=","&Type=directory&MetadataID=",""]);return I=function(){return e},e}function N(){var e=(0,c.default)(["/metadata?Path=",""]);return N=function(){return e},e}function z(){var e=(0,c.default)(["/",""]);return z=function(){return e},e}function F(){var e=(0,c.default)(["/download/",""]);return F=function(){return e},e}function L(){var e=(0,c.default)(["/downloads?Path=",""]);return L=function(){return e},e}function B(){var e=(0,c.default)(["/downloads?VersionId=","&Filename=",""]);return B=function(){return e},e}function U(){var e=(0,c.default)(["/downloads?Id=","&Filename=",""]);return U=function(){return e},e}function V(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=",""]);return V=function(){return e},e}function H(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=","&MetadataID=","&Size=","&SourceAccount=","&SourceAccountIdentifier=",""]);return H=function(){return e},e}function q(){var e=(0,c.default)(["/",""]);return q=function(){return e},e}function W(){var e=(0,c.default)(["/","/copy"]);return W=function(){return e},e}function G(){var e=(0,c.default)(["/trash/",""]);return G=function(){return e},e}function Z(){var e=(0,c.default)(["/",""]);return Z=function(){return e},e}function K(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return K=function(){return e},e}function Q(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return Q=function(){return e},e}function Y(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return Y=function(){return e},e}function J(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return J=function(){return e},e}function $(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return $=function(){return e},e}function X(){var e=(0,c.default)(["/_all_docs?include_docs=true"]);return X=function(){return e},e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){(0,m.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en="io.cozy.files.root-dir",er=(0,x.normalizeDoctypeJsonApi)("io.cozy.files"),ea=function(e){var t;return et(et({},er(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})},ei=function(e){return e?e.map(function(e){return{_type:e.type,_id:e.id}}):[]},eo=function(e){return e&&e.trim()},ec=function(e){var t=eo(e);if("string"!=typeof t||""===t)throw Error("Missing name argument");if("."===e||".."===e)throw Error("Invalid filename: ".concat(e));var n=(0,E.getIllegalCharacters)(t);if(n.length)throw Error("Invalid filename containing illegal character(s): ".concat(n));return t};t.isFile=function(e){var t=e._type,n=e.type;return"io.cozy.files"===t||"directory"===n||"file"===n},t.isDirectory=function(e){return"directory"===e.type};var es=function(e,t){return new Promise(function(n){e.forEach(function(e){return e.then(function(e){t(e)&&n(!0)})}),Promise.all(e).then(function(){return n(!1)})})},eu=function(e){var t=e.lastIndexOf("/");return e.substring(0,t)};t.default=function(e){(0,f.default)(eB,e);var t,n,r,a,c,k,x,E,ee,er,el,ed,ef,ep,eh,em,ev,ey,eg,eb,ew,ek,ex,eO,e_,eE,eC,eS,eP,eA,eD,eT,eR,ej,eM,eI,eN,ez,eF,eL=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,h.default)(eB);return e=t?Reflect.construct(n,arguments,(0,h.default)(this).constructor):n.apply(this,arguments),(0,p.default)(this,e)});function eB(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.default)(this,eB),n=eL.call(this,e,t,r),(0,m.default)((0,d.default)(n),"extractResponseLinkRelated",function(e){var t=e.links&&e.links.related;if(!t)throw Error("No related link in server response");return n.stackClient.fullpath(t)}),(0,m.default)((0,d.default)(n),"forceFileDownload",function(e,t){(0,O.forceDownload)(e,t)}),n.specialDirectories={},n.prefix=r.driveId?(0,O.sharedDriveApiPrefix)(r.driveId):"/files",n}return(0,l.default)(eB,[{key:"get",value:function(e){return this.statById(e)}},{key:"getAll",value:(n=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(X()),{keys:t});case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,_.dontThrowNotFoundError)(e.t0));case 9:return e.abrupt("return",{data:n.data.map(function(e){return ea(e)}),meta:{count:n.data.length},execution_stats:n.execution_stats});case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return n.apply(this,arguments)})},{key:"fetchFindFiles",value:(r=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST",this.prefix+"/_find",this.toMangoOptions(t,n)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"find",value:(a=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:r,e.prev=2,c=this.prefix+"/_find",e.next=6,this.findWithMango(c,t,n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,_.dontThrowNotFoundError)(e.t0));case 12:return s=(0,g.default)(i,"links.next",""),u=new URL("".concat(this.stackClient.uri).concat(s)).searchParams.get("page[cursor]"),e.abrupt("return",{data:i.data.map(function(e){return ea(e)}),meta:i.meta,next:i.meta.count>a+i.data.length,skip:a,bookmark:u||void 0,execution_stats:i.meta.execution_stats});case 16:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return a.apply(this,arguments)})},{key:"findReferencedBy",value:(c=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:r,i={include:"files","page[limit]":n.limit,"page[cursor]":n.cursor,sort:"datetime"},c=(0,O.uri)($(),t._type,t._id),s=C.buildURL(c,i),e.next=6,this.stackClient.fetchJSON("GET",s);case 6:return u=e.sent,e.abrupt("return",{data:ei(u.data),included:u.included?u.included.map(function(e){return ea(e)}):[],next:(0,y.default)(u,"links.next"),meta:u.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"addReferencedBy",value:(k=(0,s.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:e._type}}),e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(J(),t._id),{data:r});case 3:return a=e.sent,e.abrupt("return",{data:ei(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"removeReferencedBy",value:(x=(0,s.default)(o.default.mark(function e(t,n){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id||e.id,type:e._type||e.type}}),e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(Y(),t._id||t.id),{data:r});case 3:return a=e.sent,e.abrupt("return",{data:ei(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},{key:"addReferencesTo",value:(E=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("POST",(0,O.uri)(Q(),t._type,t._id),{data:r}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"removeReferencesTo",value:(ee=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("DELETE",(0,O.uri)(K(),t._type,t._id),{data:r}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ee.apply(this,arguments)})},{key:"destroy",value:(er=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(l.length>1&&void 0!==l[1]?l[1]:{}).ifMatch)?"":n,a=t._id,i=t.relationships,c=t.referenced_by,e.next=4,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(Z(),a),void 0,{headers:{"If-Match":r}});case 4:if(s=e.sent,!Array.isArray(u=(0,g.default)(i,"referenced_by.data",c))){e.next=9;break}return e.next=9,this.removeReferencedBy(t,u);case 9:return e.abrupt("return",{data:ea(s.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return er.apply(this,arguments)})},{key:"emptyTrash",value:(el=(0,s.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("DELETE",this.prefix+"/trash");case 2:return t=e.sent,e.abrupt("return",{data:ea(t.data)});case 4:case"end":return e.stop()}},e,this)})),function(){return el.apply(this,arguments)})},{key:"restore",value:(ed=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(G(),t));case 2:return n=e.sent,e.abrupt("return",{data:ea(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return ed.apply(this,arguments)})},{key:"copy",value:(ef=(0,s.default)(o.default.mark(function e(t,n,r){var a,i,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(a=(f.length>3&&void 0!==f[3]?f[3]:{}).sanitizeName)||a,null!=(c=n)&&i&&(c=ec(c)),s={name:c,DirID:r},u=this.prefix+(0,O.uri)(W(),t),l=C.buildURL(u,s),e.next=8,this.stackClient.fetchJSON("POST",l);case 8:return d=e.sent,e.abrupt("return",{data:ea(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e,t,n){return ef.apply(this,arguments)})},{key:"deleteFilePermanently",value:(ep=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(i.length>1&&void 0!==i[1]?i[1]:{}).ifMatch)?"":n,e.next=3,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(q(),t),{data:{type:"io.cozy.files",id:t,attributes:{permanent_delete:!0}}},{headers:{"If-Match":r}});case 3:return a=e.sent,e.abrupt("return",{data:ea(a.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return ep.apply(this,arguments)})},{key:"upload",value:(eh=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(c.length>2&&void 0!==c[2]?c[2]:{}).sanitizeName)||r,e.next=3,this.ensureDirectoryExists(n,{sanitizeName:a});case 3:return i=e.sent,e.abrupt("return",this.createFile(t,{dirId:i},{sanitizeName:a}));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return eh.apply(this,arguments)})},{key:"create",value:(em=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0===(n=(s.length>1&&void 0!==s[1]?s[1]:{}).sanitizeName)||n,"directory"!==t.type){e.next=5;break}return e.abrupt("return",this.createDirectory(t,{sanitizeName:r}));case 5:return a=t.data,c=(0,i.default)(t,["data"]),e.abrupt("return",this.createFile(a,c,{sanitizeName:r}));case 7:case"end":return e.stop()}},e,this)})),function(e){return em.apply(this,arguments)})},{key:"update",value:(ev=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=(n=f.length>1&&void 0!==f[1]?f[1]:{}).ifMatch)?"":r,s=void 0===(c=n.sanitizeName)||c,u=t.data,l=(0,i.default)(t,["data"]),d=t.id||t._id,!u){e.next=8;break}if("directory"!==t.type){e.next=6;break}throw Error("You cannot pass a data object for a directory");case 6:return l.fileId=d,e.abrupt("return",this.updateFile(u,l,{ifMatch:a,sanitizeName:s}));case 8:return e.abrupt("return",this.updateAttributes(d,t,{ifMatch:a,sanitizeName:s}));case 9:case"end":return e.stop()}},e,this)})),function(e){return ev.apply(this,arguments)})},{key:"createFile",value:(ey=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,_,E=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:{},a=void 0===(r=(E.length>2&&void 0!==E[2]?E[2]:{}).sanitizeName)||r,c=n.name,u=void 0===(s=n.dirId)?"":s,d=void 0!==(l=n.executable)&&l,p=void 0!==(f=n.encrypted)&&f,h=n.metadata,v=void 0===(m=n.sourceAccount)?"":m,g=void 0===(y=n.sourceAccountIdentifier)?"":y,b=(0,i.default)(n,["name","dirId","executable","encrypted","metadata","sourceAccount","sourceAccountIdentifier"]),(w=c)||"string"!=typeof t.name||(w=t.name),a&&(w=ec(w)),k="",!h){e.next=12;break}return e.next=10,this.createFileMetadata(h);case 10:k=e.sent.data.id;case 12:return x="",b.contentLength&&(x=String(b.contentLength)),_=this.prefix+(0,O.uri)(H(),u,w,d,p,k,x,v,g),e.abrupt("return",this.doUpload(t,_,b));case 16:case"end":return e.stop()}},e,this)})),function(e){return ey.apply(this,arguments)})},{key:"updateFile",value:(eg=(0,s.default)(o.default.mark(function e(t){var n,r,a,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,_,E=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.length>1&&void 0!==E[1]?E[1]:{},c=void 0===(a=(r=E.length>2&&void 0!==E[2]?E[2]:{}).ifMatch)?"":a,u=void 0===(s=r.sanitizeName)||s,d=void 0!==(l=n.executable)&&l,p=void 0!==(f=n.encrypted)&&f,h=n.fileId,v=void 0===(m=n.name)?"":m,y=n.metadata,g=(0,i.default)(n,["executable","encrypted","fileId","name","metadata"]),!(!h||"string"!=typeof h)){e.next=5;break}throw Error("missing fileId argument");case 5:if(!(!(b=v||t.name)||"string"!=typeof b)){e.next=8;break}throw Error("missing name in data argument");case 8:if(w=u?ec(b):b,x=this.prefix+(0,O.uri)(V(),h,w,d,p),!y){e.next=16;break}return e.next=13,this.createFileMetadata(y);case 13:k=e.sent.data.id,x+="&MetadataID=".concat(k);case 16:return _="",g.contentLength&&(_=String(g.contentLength),x+="&Size=".concat(_)),""!==c&&(g.ifMatch=c),e.abrupt("return",this.doUpload(t,x,g,"PUT"));case 20:case"end":return e.stop()}},e,this)})),function(e){return eg.apply(this,arguments)})},{key:"getDownloadLinkById",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(U(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByRevision",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(B(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByPath",value:function(e){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(L(),e)).then(this.extractResponseLinkRelated)}},{key:"download",value:(eb=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,a=(i.length>2&&void 0!==i[2]?i[2]:void 0)||t.name,n){e.next=9;break}return e.next=6,this.getDownloadLinkById(t._id,a);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,this.getDownloadLinkByRevision(n,a);case 11:r=e.sent;case 12:this.forceFileDownload("".concat(r,"?Dl=1"),a);case 13:case"end":return e.stop()}},e,this)})),function(e){return eb.apply(this,arguments)})},{key:"fetchFileContent",value:(ew=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("FileCollection.fetchFileContent() is deprecated. Use FileCollection.fetchFileContentById() instead"),e.abrupt("return",this.fetchFileContentById(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return ew.apply(this,arguments)})},{key:"fetchFileContentById",value:(ek=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetch("GET",this.prefix+(0,O.uri)(F(),t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return ek.apply(this,arguments)})},{key:"getBeautifulSize",value:function(e,t){return(0,O.formatBytes)(parseInt(e.size),t)}},{key:"downloadArchive",value:(ex=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(s.length>2&&void 0!==s[2]?s[2]:{}).pages,a=n?(0,O.slugify)(n):"files",e.next=4,this.createArchiveLinkByIds({ids:t,name:a,pages:r});case 4:i=e.sent,c=this.stackClient.fullpath(i),this.forceFileDownload(c,a+".zip");case 7:case"end":return e.stop()}},e,this)})),function(e,t){return ex.apply(this,arguments)})},{key:"getArchiveLinkByIds",value:(eO=(0,s.default)(o.default.mark(function e(t){var n,r,a=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"files",S.default.warn("CozyClient FileCollection getArchiveLinkByIds method is deprecated. Use createArchiveLinkByIds instead"),e.next=4,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:{name:n,ids:t}}});case 4:return r=e.sent,e.abrupt("return",r.links.related);case 6:case"end":return e.stop()}},e,this)})),function(e){return eO.apply(this,arguments)})},{key:"createArchiveLinkByIds",value:(e_=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,a=void 0===(r=t.name)?"files":r,i=t.pages,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:et({name:a,ids:n},i&&{pages:i})}});case 3:return c=e.sent,e.abrupt("return",c.links.related);case 5:case"end":return e.stop()}},e,this)})),function(e){return e_.apply(this,arguments)})},{key:"isChildOf",value:(eE=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l,d,f,p=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r="object"==typeof t?t:{_id:t})._id,i=r.dirID,c=r.path,s=("object"==typeof n?n:{_id:n})._id,a!==s&&i!==s){e.next=4;break}return e.abrupt("return",!0);case 4:if(c){e.next=10;break}return e.next=7,this.statById(a);case 7:c=(u=e.sent).data.path,i=u.data.dirID;case 10:for(l=c,d=[c];""!=l;)""!=(f=eu(l))&&d.push(f),l=f;return d.reverse(),e.abrupt("return",es(d.map(function(e){return p.statByPath(e)}),function(e){return e.data._id==s}));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return eE.apply(this,arguments)})},{key:"statById",value:(eC=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=(0,w.default)(n,["page[limit]","page[skip]","page[cursor]"]),a=this.prefix+(0,O.uri)(z(),t),i=C.buildURL(a,r),e.next=6,this.stackClient.fetchJSON("GET",i);case 6:return c=e.sent,e.abrupt("return",{data:ea(c.data),included:c.included&&c.included.map(function(e){return ea(e)}),links:c.links});case 8:case"end":return e.stop()}},e,this)})),function(e){return eC.apply(this,arguments)})},{key:"statByPath",value:(eS=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.prefix+(0,O.uri)(N(),t));case 2:return n=e.sent,e.abrupt("return",{data:ea(n.data),included:n.included&&n.included.map(function(e){return ea(e)})});case 4:case"end":return e.stop()}},e,this)})),function(e){return eS.apply(this,arguments)})},{key:"createDirectory",value:(eP=(0,s.default)(o.default.mark(function e(){var t,n,r,a,i,c,s,u,l,d,f,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},r=void 0===(n=(p.length>1&&void 0!==p[1]?p[1]:{}).sanitizeName)||n,a=t.name,i=t.dirId,c=t.lastModifiedDate,s=t.metadata,u="",!s){e.next=9;break}return e.next=7,this.createFileMetadata(s);case 7:u=e.sent.data.id;case 9:return l=r?ec(a):a,d=c&&("string"==typeof c?new Date(c):c),e.next=13,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(I(),i,l,u),void 0,{headers:{Date:d?d.toGMTString():""}});case 13:return f=e.sent,e.abrupt("return",{data:ea(f.data)});case 15:case"end":return e.stop()}},e,this)})),function(){return eP.apply(this,arguments)})},{key:"ensureDirectoryExists",value:(eA=(0,s.default)(o.default.mark(function e(t){var n,r,a,i=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0===(n=(i.length>1&&void 0!==i[1]?i[1]:{}).sanitizeName)||n,this.specialDirectories[t]){e.next=6;break}return e.next=4,this.createDirectoryByPath(t,{sanitizeName:r});case 4:a=e.sent,this.specialDirectories[t]=a.data._id;case 6:return e.abrupt("return",this.specialDirectories[t]);case 7:case"end":return e.stop()}},e,this)})),function(e){return eA.apply(this,arguments)})},{key:"getDirectoryOrCreate",value:(eD=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(r=(l.length>2&&void 0!==l[2]?l[2]:{}).sanitizeName)||r,!(n&&!n.attributes)){e.next=3;break}throw Error("Malformed parent directory");case 3:return i=a?eo(t):t,c="".concat(n._id===en?"":n.attributes.path,"/").concat(i),e.prev=5,e.next=8,this.statByPath(c||"/");case 8:return s=e.sent,e.abrupt("return",s);case 12:if(e.prev=12,e.t0=e.catch(5),!((u=JSON.parse(e.t0.message).errors)&&u.length&&"404"===u[0].status)){e.next=18;break}return e.abrupt("return",this.createDirectory({name:i,dirId:n&&n._id},{sanitizeName:a}));case 18:throw u;case 19:case"end":return e.stop()}},e,this,[[5,12]])})),function(e,t){return eD.apply(this,arguments)})},{key:"createDirectoryByPath",value:(eT=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l,d=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(d.length>1&&void 0!==d[1]?d[1]:{}).sanitizeName)||n,a=t.split("/").filter(function(e){return""!==e}),e.next=4,this.statById(en);case 4:if(i=e.sent,a.length){e.next=7;break}return e.abrupt("return",i);case 7:c=i,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return M(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(a),e.prev=9,s.s();case 11:if((u=s.n()).done){e.next=18;break}return l=u.value,e.next=15,this.getDirectoryOrCreate(l,c.data,{sanitizeName:r});case 15:c=e.sent;case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),s.e(e.t0);case 23:return e.prev=23,s.f(),e.finish(23);case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}},e,this,[[9,20,23,26]])})),function(e){return eT.apply(this,arguments)})},{key:"updateAttributes",value:(eR=(0,s.default)(o.default.mark(function e(t,n){var r,a,i,c,s,u,l,d=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(a=(r=d.length>2&&void 0!==d[2]?d[2]:{}).ifMatch)?"":a,s=void 0===(c=r.sanitizeName)||c,u=et({},n),n.name&&s&&(u.name=ec(n.name)),e.next=5,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(j(),t),{data:{type:"io.cozy.files",id:t,attributes:u}},{headers:{"If-Match":i}});case 5:return l=e.sent,e.abrupt("return",{data:ea(l.data)});case 7:case"end":return e.stop()}},e,this)})),function(e,t){return eR.apply(this,arguments)})},{key:"updateFileMetadata",value:(ej=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("CozyClient FileCollection updateFileMetadata method is deprecated. Use updateAttributes instead"),e.abrupt("return",this.updateAttributes(t,n));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ej.apply(this,arguments)})},{key:"createFileMetadata",value:(eM=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(R()),{data:{type:"io.cozy.files.metadata",attributes:t}});case 2:return n=e.sent,e.abrupt("return",{data:n.data});case 4:case"end":return e.stop()}},e,this)})),function(e){return eM.apply(this,arguments)})},{key:"updateMetadataAttribute",value:(eI=(0,s.default)(o.default.mark(function e(t,n){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(T(),t),{data:{type:"io.cozy.files.metadata",attributes:n}});case 2:return r=e.sent,e.abrupt("return",{data:r.data});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return eI.apply(this,arguments)})},{key:"getFileTypeFromName",value:function(e){return v.default.getType(e)||"application/octet-stream"}},{key:"doUpload",value:(eN=(0,s.default)(o.default.mark(function e(t,n,r){var a,i,c,s,u,l,d,f,p,h,m,v,y,g,b,w,k,x,O,_=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_.length>3&&void 0!==_[3]?_[3]:"POST",i=n,void 0!==(c=t)){e.next=5;break}throw Error("missing data argument");case 5:if(c.buffer&&c.buffer instanceof ArrayBuffer&&(c=c.buffer),s="undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer,u="undefined"!=typeof File&&c instanceof File,l="undefined"!=typeof Blob&&c instanceof Blob,d=!0===c.readable&&"function"==typeof c.pipe,f="string"==typeof c,!(!s&&!u&&!l&&!d&&!f)){e.next=13;break}throw Error("invalid data type");case 13:return h=(p=r||{}).contentType,m=p.contentLength,v=p.checksum,y=p.lastModifiedDate,g=p.ifMatch,h||("string"==typeof c?h="text/plain":c.type?h=c.type:(w=new URLSearchParams((b=i.split("?")).length>1?b[1]:"").get("Name"),h=this.getFileTypeFromName(w.toLowerCase()))),(y=y||c.lastModified)&&(y=new Date(y)),k={"Content-Type":h},m&&(k["Content-Length"]=String(m)),v&&(k["Content-MD5"]=v),y&&(x=y.toISOString(),i="".concat(i,"&UpdatedAt=").concat(x,"&CreatedAt=").concat(x)),g&&(k["If-Match"]=g),e.next=24,this.stackClient.fetchJSON(a,i,c,{headers:k,onUploadProgress:r.onUploadProgress});case 24:return O=e.sent,e.abrupt("return",{data:ea(O.data)});case 26:case"end":return e.stop()}},e,this)})),function(e,t,n){return eN.apply(this,arguments)})},{key:"findNotSynchronizedDirectories",value:(ez=(0,s.default)(o.default.mark(function e(t){var n,r,a,i,c,s,u,l,d,f,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=(n=p.length>1&&void 0!==p[1]?p[1]:{}).skip)?0:r,i=n.limit,c=n.cursor,u={include:void 0!==(s=n.includeFiles)&&s?"files":void 0,"page[limit]":i,"page[cursor]":c,sort:"id"},l=(0,O.uri)(D(),t._type,t._id),d=C.buildURL(l,u),e.next=6,this.stackClient.fetchJSON("GET",d);case 6:return f=e.sent,e.abrupt("return",{data:f.data.map(function(e){return ea(e)}),included:f.included?f.included.map(function(e){return ea(e)}):[],next:(0,y.default)(f,"links.next"),meta:f.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return ez.apply(this,arguments)})},{key:"addNotSynchronizedDirectories",value:function(e,t){var n=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("POST",(0,O.uri)(A(),e._type,e._id),{data:n})}},{key:"removeNotSynchronizedDirectories",value:function(e,t){var n=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("DELETE",(0,O.uri)(P(),e._type,e._id),{data:n})}},{key:"fetchChanges",value:(eF=(0,s.default)(o.default.mark(function e(){var t,n,r,a,i,c,s,u,l,d,f=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},n=f.length>1&&void 0!==f[1]?f[1]:{},r={},"object"!=typeof t?(r.since=t,S.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(r,t),Object.keys(n).length>0&&(Object.assign(r,n),(n.skipTrashed||n.includeFilePath)&&(r.includeDocs=!0)),a=et(et({},(0,b.default)(r,["fields","includeDocs","includeFilePath","skipDeleted","skipTrashed"])),{},{fields:r.fields?r.fields.join(","):null,include_docs:r.includeDocs,include_file_path:r.includeFilePath,skip_deleted:r.skipDeleted,skip_trashed:r.skipTrashed}),i=this.prefix+"/_changes",c=C.buildURL(i,a),e.next=10,this.stackClient.fetchJSON("GET",c);case 10:return u=(s=e.sent).last_seq,l=s.pending,d=s.results,e.abrupt("return",{newLastSeq:u,pending:l,results:d});case 15:case"end":return e.stop()}},e,this)})),function(){return eF.apply(this,arguments)})},{key:"getOrCreateSharedDrivesDirectory",value:function(){return this.stackClient.fetchJSON("POST",this.prefix+"/shared-drives")}}]),eB}(k.default)},6281:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hasJobFinished=t.normalizeJob=t.JOBS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(72189)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(20796)),p=r(n(81189)),h=n(42447),m=n(90597);function v(){var e=(0,i.default)(["/jobs/",""]);return v=function(){return e},e}var y="io.cozy.jobs";t.JOBS_DOCTYPE=y;var g=function(e){return new Promise(function(t){return setTimeout(t,e)})},b=(0,m.normalizeDoctypeJsonApi)(y);t.normalizeJob=b;var w=function(e){return"done"===e.state||"errored"===e.state};t.hasJobFinished=w,t.default=function(e){(0,u.default)(m,e);var t,n,r,i,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(m);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function m(e){return(0,c.default)(this,m),p.call(this,y,e)}return(0,s.default)(m,[{key:"queued",value:function(e){return this.stackClient.fetchJSON("GET","/jobs/queue/".concat(e))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.stackClient.fetchJSON("POST","/jobs/queue/".concat(e),{data:{type:y,attributes:{arguments:t,options:n,manual:r}}})}},{key:"get",value:(n=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.default.get(this.stackClient,(0,h.uri)(v(),t),{normalize:b}));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"update",value:(r=(0,o.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("client"===t.worker){e.next=2;break}throw Error("JobCollection.update only works for client workers. ".concat(t.worker," given"));case 2:return e.next=4,this.stackClient.fetchJSON("PATCH","/jobs/".concat(t._id),{data:{type:y,id:t._id,attributes:{state:t.attributes.state,error:t.attributes.error}}});case 4:return n=e.sent,e.abrupt("return",b(n.data));case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"waitFor",value:(i=(0,o.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l,d,f,p,h,m=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(r=(n=m.length>1&&void 0!==m[1]?m[1]:{}).onUpdate)?null:r,c=void 0===(o=n.until)?w:o,u=void 0===(s=n.delay)?5e3:s,d=void 0===(l=n.timeout)?3e5:l,f=Date.now(),e.next=4,this.get(t);case 4:p=e.sent.data.attributes;case 5:if(!(!p||!c(p))){e.next=17;break}return e.next=8,g(u);case 8:return e.next=10,this.get(t);case 10:if(p=e.sent.data.attributes,i&&i(p),h=Date.now(),!(f-h>d)){e.next=15;break}throw Error("Timeout for JobCollection::waitFor");case 15:e.next=5;break;case 17:return e.abrupt("return",p);case 18:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})}]),m}(p.default)},64565:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.KONNECTORS_DOCTYPE=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(82274)),s=a(n(65044)),u=a(n(56994)),l=a(n(65611)),d=a(n(18337)),f=a(n(44383)),p=a(n(52997)),h=r(n(96446)),m=n(90597),v="io.cozy.konnectors";t.KONNECTORS_DOCTYPE=v,t.default=function(e){(0,u.default)(b,e);var t,n,r,a,p,y,g=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(b);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function b(e){var t;return(0,c.default)(this,b),(t=g.call(this,e)).doctype=v,t.endpoint="/konnectors/",t}return(0,s.default)(b,[{key:"create",value:(n=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(r=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"findTriggersBySlug",value:(a=(0,o.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h.default(this.stackClient),e.next=3,n.all({limit:null});case 3:return r=e.sent.data,e.abrupt("return",r.map(function(e){return e.attributes}).filter(function(e){return(0,h.isForKonnector)(e,t)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"launch",value:(p=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=new h.default(this.stackClient),e.next=4,this.findTriggersBySlug(t);case 4:if(a=e.sent,1!==(o=n.accountId?a.filter(function(e){return(0,h.isForAccount)(e,n.accountId)}):a).length){e.next=10;break}return e.abrupt("return",r.launch(a[0]));case 10:if(c=JSON.stringify((0,f.default)({slug:t,accountId:n.accountId})),0!==o.length){e.next=15;break}throw Error("No trigger found for ".concat(c));case 15:if(!(o.length>1)){e.next=17;break}throw Error("More than 1 trigger found for ".concat(c));case 17:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"update",value:(y=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},t){e.next=3;break}throw Error("Cannot call update with no slug");case 3:return r=n.source||null,a=n.sync?{headers:{Accept:"text/event-stream"}}:{},e.next=8,this.stackClient.fetchJSON("PUT","/konnectors/".concat(t)+(r?"?Source=".concat(r):""),a);case 8:return o=e.sent,e.abrupt("return",(0,m.normalizeDoc)(o));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}]),b}(p.default)},55125:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.NEXTCLOUD_FILES_DOCTYPE=t.NextcloudFilesCollection=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(81189)),p=n(42447),h=n(21987),m=n(90597);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b="io.cozy.remote.nextcloud.files";t.NEXTCLOUD_FILES_DOCTYPE=b;var w=(0,m.normalizeDoctypeJsonApi)(b),k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromTrash,a=void 0!==r&&r;return function(n){var r=w(n);return g(g({},r),{},{parentPath:t,path:a?r.path:(0,p.joinPath)(t,r.name),cozyMetadata:g(g({},r.cozyMetadata),{},{sourceAccount:e})})}};t.NextcloudFilesCollection=function(e){(0,s.default)(C,e);var t,n,r,d,f,m,y,g,w,x,O,_,E=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(C);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function C(e){return(0,o.default)(this,C),E.call(this,b,e)}return(0,c.default)(C,[{key:"find",value:(n=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t["cozyMetadata.sourceAccount"]&&t.parentPath)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/remote/nextcloud/".concat(t["cozyMetadata.sourceAccount"]).concat((0,p.encodePath)(t.parentPath)));case 3:return n=e.sent,e.abrupt("return",{data:n.data.map(k(t["cozyMetadata.sourceAccount"],t.parentPath,{fromTrash:t.trashed}))});case 5:throw Error("Not implemented");case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(r=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroyAll",value:(d=(0,i.default)(a.default.mark(function e(t){var n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,this.destroy(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(e){return d.apply(this,arguments)})},{key:"download",value:(f=(0,i.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("GET","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path),"?Dl=1"));case 2:return n=e.sent,e.next=5,n.blob();case 5:r=e.sent,i=URL.createObjectURL(r),o=t.path.split("/").pop(),(0,p.forceDownload)(i,o);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"move",value:(m=(0,i.default)(a.default.mark(function e(t,n){var r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.joinPath)(n.path,t.name),e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/move").concat((0,p.encodePath)(t.path),"?To=").concat((0,p.encodePath)(r)));case 3:if(204!==(i=e.sent).status){e.next=6;break}return e.abrupt("return",i);case 6:throw new h.FetchError(i,i.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"moveToCozy",value:(y=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0!==(r=(c.length>2&&void 0!==c[2]?c[2]:{}).copy)&&r,e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/downstream").concat((0,p.encodePath)(t.path),"?To=").concat(n._id).concat(i?"&Copy=true":""));case 3:if(201!==(o=e.sent).status){e.next=6;break}return e.abrupt("return",o);case 6:throw new h.FetchError(o,o.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"moveFromCozy",value:(g=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c,s=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0!==(r=(s.length>2&&void 0!==s[2]?s[2]:{}).copy)&&r,o=(0,p.joinPath)(t.path,n.name),e.next=4,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/upstream").concat((0,p.encodePath)(o),"?From=").concat(n._id).concat(i?"&Copy=true":""));case 4:if(204!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new h.FetchError(c,c.json());case 8:case"end":return e.stop()}},e,this)})),function(e,t){return g.apply(this,arguments)})},{key:"restore",value:(w=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/restore").concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"emptyTrash",value:(x=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t,"/trash"));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"deletePermanently",value:(O=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n);case 5:throw new h.FetchError(n,n.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"copy",value:(_=(0,i.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/copy/").concat(t.path).concat(n?"?Path=".concat(n.path,"/").concat(t.name):""));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return _.apply(this,arguments)})}]),C}(f.default)},88255:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NOTES_URL_DOCTYPE=t.NOTES_DOCTYPE=void 0;var a=r(n(72189)),i=r(n(26396)),o=r(n(92207)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(81189)),h=n(90597),m=n(42447),v=n(55436);function y(){var e=(0,a.default)(["/notes/","/open"]);return y=function(){return e},e}function g(){var e=(0,a.default)(["/files/",""]);return g=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="io.cozy.notes";t.NOTES_DOCTYPE=k;var x="io.cozy.notes.url";t.NOTES_URL_DOCTYPE=x;var O=(0,h.normalizeDoctypeJsonApi)(k),_=(0,h.normalizeDoctypeJsonApi)(x),E=function(e){(0,l.default)(b,e);var t,n,r,a,i,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(b);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,b),(t=h.call(this,k,e,n)).prefix=n.driveId?(0,m.sharedDriveApiPrefix)(n.driveId):"",t}return(0,u.default)(b,[{key:"get",value:(n=(0,c.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes/".concat(t));case 2:return n=e.sent,e.abrupt("return",{data:O(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"all",value:(r=(0,c.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes");case 2:return t=e.sent,e.abrupt("return",w(w({},t),{},{data:t.data.map(O)}));case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,m.uri)(g(),n));case 3:return r=e.sent,e.abrupt("return",{data:w(w({},O(r.data)),{},{_deleted:!0})});case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"create",value:(i=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dir_id,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/notes",{data:{type:"io.cozy.notes.documents",attributes:{title:"",schema:(0,v.getDefaultSchema)(),dir_id:n}}});case 3:return r=e.sent,e.abrupt("return",w(w({},r),{},{data:O(r.data)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"fetchURL",value:(p=(0,c.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("GET",this.prefix+(0,m.uri)(y(),n));case 3:return r=e.sent,e.abrupt("return",{data:_(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDefaultSchema",value:function(){return(0,v.getDefaultSchema)()}}]),b}(p.default);E.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=E},55436:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSchema=t.marks=t.nodes=void 0;var n=[["doc",{content:"(block)+",marks:"link"}],["paragraph",{content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline",parseDOM:[{tag:"p"}]}],["text",{group:"inline"}],["bulletList",{group:"block",content:"listItem+",parseDOM:[{tag:"ul"}]}],["orderedList",{group:"block",content:"listItem+",parseDOM:[{tag:"ol"}]}],["listItem",{content:"(paragraph ) (paragraph | bulletList | orderedList )*",defining:!0,parseDOM:[{tag:"li"}]}],["heading",{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}]}],["blockquote",{content:"paragraph+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}]}],["rule",{group:"block",parseDOM:[{tag:"hr"}]}],["panel",{group:"block",content:"(paragraph | heading | bulletList | orderedList)+",attrs:{panelType:{default:"info"}},parseDOM:[{tag:"div[data-panel-type]"}]}],["confluenceUnsupportedBlock",{group:"block",attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedBlock"]'}]}],["confluenceUnsupportedInline",{group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedInline"]'}]}],["unsupportedBlock",{inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]'}]}],["unsupportedInline",{inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]'}]}],["hardBreak",{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}]}],["table",{content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1}},tableRole:"table",isolating:!0,selectable:!1,group:"block",parseDOM:[{tag:"table"}]}],["tableHeader",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading )+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"header_cell",isolating:!0,marks:"",parseDOM:[{tag:"th"}]}],["tableRow",{content:"(tableCell | tableHeader)+",tableRole:"row",parseDOM:[{tag:"tr"}]}],["tableCell",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | unsupportedBlock)+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"cell",marks:"",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td"}]}]];t.nodes=n;var r=[["link",{excludes:"color",group:"link",attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]"}]}],["em",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}]}],["strong",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strong"},{tag:"b"},{style:"font-weight"}]}],["textColor",{attrs:{color:{}},inclusive:!0,group:"color",parseDOM:[{style:"color"}]}],["strike",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration"}]}],["subsup",{inclusive:!0,group:"fontStyle",attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}}]}],["underline",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"u"},{style:"text-decoration"}]}],["code",{excludes:"fontStyle link searchQuery color",inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0}]}],["typeAheadQuery",{excludes:"searchQuery",inclusive:!0,group:"searchQuery",parseDOM:[{tag:"span[data-type-ahead-query]"}],attrs:{trigger:{default:""}}}]];t.marks=r,t.getDefaultSchema=function(){return{nodes:n,marks:r}}},11126:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16826)),i=r(n(92207)),o=r(n(79092)),c=r(n(26396)),s=r(n(39892)),u=r(n(82274)),l=r(n(65044)),d=r(n(56994)),f=r(n(65611)),p=r(n(18337)),h=r(n(45308)),m=r(n(91685)),v=r(n(3961)),y=r(n(21987)),g=r(n(1084));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);return n=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,n)}}var x={clientID:"",clientName:"",clientKind:"",clientSecret:"",clientURI:"",registrationAccessToken:"",redirectURI:"",softwareID:"",softwareVersion:"",logoURI:"",policyURI:"",notificationPlatform:"",notificationDeviceToken:""},O=function(e){(0,d.default)(S,e);var t,n,r,a,c,f,p,h,b,O,E,C=k(S);function S(e){var t,n=e.oauth,r=e.scope,a=e.onTokenRefresh,i=(0,s.default)(e,["oauth","scope","onTokenRefresh"]);return(0,u.default)(this,S),(t=C.call(this,i)).setOAuthOptions(w(w({},x),n)),n.token&&t.setToken(n.token),t.scope=void 0===r?[]:r,t.onTokenRefresh=a,t}return(0,l.default)(S,[{key:"isRegistered",value:function(){return""!==this.oauthOptions.clientID}},{key:"snakeCaseOAuthData",value:function(e){var t={softwareID:"software_id",softwareVersion:"software_version",clientID:"client_id",clientName:"client_name",clientKind:"client_kind",clientURI:"client_uri",logoURI:"logo_uri",policyURI:"policy_uri",notificationPlatform:"notification_platform",notificationDeviceToken:"notification_device_token",redirectURI:"redirect_uris"},n={};return Object.keys(e).forEach(function(r){var a=t[r]||r,i=e[r];n[a]=i}),n.redirect_uris&&n.redirect_uris instanceof Array==!1&&(n.redirect_uris=[n.redirect_uris]),n}},{key:"camelCaseOAuthData",value:function(e){var t={client_id:"clientID",client_name:"clientName",client_secret:"clientSecret",registration_access_token:"registrationAccessToken",software_id:"softwareID",redirect_uris:"redirectURI"},n={};return Object.keys(e).forEach(function(r){var a=t[r]||r,i=e[r];n[a]=i}),n}},{key:"doRegistration",value:function(){return this.fetchJSON("POST","/auth/register",this.snakeCaseOAuthData({redirectURI:this.oauthOptions.redirectURI,clientName:this.oauthOptions.clientName,softwareID:this.oauthOptions.softwareID,clientKind:this.oauthOptions.clientKind,clientURI:this.oauthOptions.clientURI,logoURI:this.oauthOptions.logoURI,policyURI:this.oauthOptions.policyURI,softwareVersion:this.oauthOptions.softwareVersion,notificationPlatform:this.oauthOptions.notificationPlatform,notificationDeviceToken:this.oauthOptions.notificationDeviceToken}))}},{key:"register",value:(t=(0,o.default)(i.default.mark(function e(){var t,n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRegistered()){e.next=2;break}throw Error("Client already registered");case 2:if(t=["redirectURI"],n=Object.keys(this.oauthOptions),!((r=t.filter(function(e){return n[e]})).length>0)){e.next=7;break}throw Error("Can't register client : missing ".concat(r," fields"));case 7:return e.next=9,this.doRegistration();case 9:return a=e.sent,this.setOAuthOptions(w(w({},this.oauthOptions),{},{client_id:a.client_id,client_name:a.client_name,client_secret:a.client_secret,registration_access_token:a.registration_access_token,software_id:a.software_id})),e.abrupt("return",this.oauthOptions);case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"unregister",value:(n=(0,o.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:return t=this.oauthOptions.clientID,this.oauthOptions.clientID="",e.abrupt("return",this.fetchJSON("DELETE","/auth/register/".concat(t),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"fetchInformation",value:(r=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:return e.abrupt("return",this.fetchJSON("GET","/auth/register/".concat(this.oauthOptions.clientID),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"updateInformation",value:(a=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],this.isRegistered()){e.next=3;break}throw new _;case 3:return r={clientID:this.oauthOptions.clientID,clientName:this.oauthOptions.clientName,redirectURI:this.oauthOptions.redirectURI,softwareID:this.oauthOptions.softwareID},a=this.snakeCaseOAuthData(w(w({},r),t)),n&&(a.client_secret=this.oauthOptions.clientSecret),e.next=8,this.fetchJSON("PUT","/auth/register/".concat(this.oauthOptions.clientID),a,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}});case 8:return o=e.sent,this.setOAuthOptions(w(w({},a),o)),e.abrupt("return",this.oauthOptions);case 11:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"generateStateCode",value:function(){var e;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(16),window.crypto.getRandomValues(e);else{e=Array(16);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}},{key:"getAuthCodeURL",value:function(e){var t=e.stateCode,n=e.scopes,r=void 0===n?this.scope:n,a=e.sessionCode,i=void 0===a?void 0:a,o=e.codeChallenge,c=void 0===o?void 0:o;if(!this.isRegistered())throw new _;var s={client_id:this.oauthOptions.clientID,redirect_uri:this.oauthOptions.redirectURI,state:t,response_type:"code",scope:r.join(" ")};return this.oauthOptions.registerToken&&(s=w(w({},s),{},{registerToken:this.oauthOptions.registerToken})),i&&(s=w(w({},s),{},{session_code:i})),c&&(s=w(w({},s),{},{code_challenge:c,code_challenge_method:"S256"})),"".concat(this.uri,"/auth/authorize?").concat(this.dataToQueryString(s))}},{key:"dataToQueryString",value:function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}},{key:"getAccessCodeFromURL",value:function(e,t){if(!t)throw Error("Missing state code");var n=new URL(e).searchParams,r=n.get("state"),a=n.get("access_code");if(t!==r)throw Error("Given state does not match url query state");return a}},{key:"fetchAccessToken",value:(c=(0,o.default)(i.default.mark(function e(t,n,r,a){var o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.isRegistered()&&!n)){e.next=2;break}throw new _;case 2:return c={grant_type:"authorization_code",code:t,client_id:(o=n||this.oauthOptions).clientID,client_secret:o.clientSecret},a&&(c=w(w({},c),{},{code_verifier:a})),e.next=7,this.fetchJSON("POST",(r||"")+"/auth/access_token",this.dataToQueryString(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return s=e.sent,e.abrupt("return",new m.default(s));case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return c.apply(this,arguments)})},{key:"fetchKonnectorToken",value:(f=(0,o.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchJSON("POST","/auth/tokens/konnectors/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),Error('oAuthClient.fetchKonnectorToken(): Could not create a token for the konnector with slug "'.concat(t,'". \n\n').concat(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return f.apply(this,arguments)})},{key:"fetchSessionCode",value:(p=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchJSON("POST","/auth/session_code"));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchSessionCodeWithPassword",value:(h=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passwordHash,a=void 0===(r=t.twoFactorToken)?void 0:r,c=void 0===(o=t.twoFactorPasscode)?void 0:o,e.abrupt("return",this.fetchJSON("POST","/auth/session_code",{passphrase:n,two_factor_token:a,two_factor_passcode:c}));case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"loginFlagship",value:(b=(0,o.default)(i.default.mark(function e(t){var n,r,a,o,c,s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=t.emailVerifiedCode)?void 0:n,a=t.passwordHash,c=void 0===(o=t.twoFactorToken)?void 0:o,u=void 0===(s=t.twoFactorPasscode)?void 0:s,e.abrupt("return",this.fetchJSON("POST","/auth/login/flagship",{client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret,email_verified_code:r,passphrase:a,two_factor_token:c,two_factor_passcode:u}));case 2:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"refreshToken",value:(O=(0,o.default)(i.default.mark(function e(){var t,n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new _;case 2:if(this.token){e.next=4;break}throw Error("No token to refresh");case 4:return t={grant_type:"refresh_token",refresh_token:this.token.refreshToken,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},e.prev=5,e.next=8,this.fetchJSONWithCurrentToken("POST","/auth/access_token",this.dataToQueryString(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 8:return n=e.sent,r=new m.default(w({refresh_token:this.token.refreshToken},n)),this.setToken(r),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(r),e.abrupt("return",r);case 15:if(e.prev=15,e.t0=e.catch(5),!this.isRevocationError(e.t0)){e.next=21;break}throw this.onRevocationChange(!0),g.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 21:if(!(y.default.EXPIRED_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=28;break}return e.next=24,this.checkForRevocation();case 24:if(!e.sent){e.next=28;break}throw g.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 28:throw e.t0;case 29:case"end":return e.stop()}},e,this,[[5,15]])})),function(){return O.apply(this,arguments)})},{key:"exchangeOAuthSecret",value:function(e,t){return this.fetchJSON("POST",e+"/auth/secret_exchange",{secret:t})}},{key:"setToken",value:function(e){e?this.token=e instanceof m.default?e:new m.default(e):this.token=null}},{key:"setCredentials",value:function(e){return(0,v.default)("setCredentials is deprecated, please replace by setToken"),this.setToken(e)}},{key:"setOAuthOptions",value:function(e){this.oauthOptions=this.camelCaseOAuthData(e)}},{key:"resetClientId",value:function(){this.oauthOptions.clientID=""}},{key:"resetClient",value:function(){this.resetClientId(),this.setUri(null),this.setToken(null)}},{key:"registrationAccessTokenToAuthHeader",value:function(){if(!this.oauthOptions.registrationAccessToken)throw Error("No registration access token");return"Bearer "+this.oauthOptions.registrationAccessToken}},{key:"setPassphraseFlagship",value:function(e){var t=e.registerToken,n=e.passwordHash,r=e.hint,a=e.key,i=e.publicKey,o=e.privateKey,c=e.iterations;return this.fetchJSON("POST","/settings/passphrase/flagship",{register_token:t,passphrase:n,hint:r,key:a,public_key:i,private_key:o,iterations:c,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}})}},{key:"checkForRevocation",value:(E=(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchInformation();case 3:case 11:return e.abrupt("return",!1);case 6:if(e.prev=6,e.t0=e.catch(0),!this.isRevocationError(e.t0)){e.next=11;break}return this.onRevocationChange(!0),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return E.apply(this,arguments)})}]),S}(h.default),_=function(e){(0,d.default)(n,e);var t=k(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Client not registered or missing OAuth information";return(0,u.default)(this,n),(e=t.call(this,r)).message=r,e.name="NotRegisteredException",e}return n}((0,a.default)(Error));t.default=O},77493:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OAUTH_CLIENTS_DOCTYPE=void 0;var i=a(n(92207)),o=a(n(26396)),c=a(n(72189)),s=a(n(79092)),u=a(n(82274)),l=a(n(65044)),d=a(n(56994)),f=a(n(65611)),p=a(n(18337)),h=a(n(58156)),m=a(n(81189)),v=n(90597),y=n(42447),g=r(n(95327)),b=n(20796),w=n(21987);function k(){var e=(0,c.default)(["/settings/clients/",""]);return k=function(){return e},e}function x(){var e=(0,c.default)(["/settings/clients/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,c.default)(["/settings/clients"]);return E=function(){return e},e}var C="io.cozy.oauth.clients";t.OAUTH_CLIENTS_DOCTYPE=C;var S=(0,v.normalizeDoctypeJsonApi)(C),P=function(e){(0,d.default)(c,e);var t,n,r,a,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,p.default)(c);return e=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,e)});function c(e){return(0,u.default)(this,c),o.call(this,C,e)}return(0,l.default)(c,[{key:"all",value:(n=(0,s.default)(i.default.mark(function e(){var t,n,r,a,o,c,s,u,l,d,f,p,m,v,w=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(t=w.length>0&&void 0!==w[0]?w[0]:{}).limit)?100:n,a=t.bookmark,o=t.keys,c={"page[limit]":r,"page[cursor]":a},s=(0,y.uri)(E()),u=g.buildURL(s,c),e.prev=5,e.next=8,this.stackClient.fetchJSON("GET",u);case 8:l=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",(0,b.dontThrowNotFoundError)(e.t0));case 14:if(d=(0,h.default)(l,"links.next",""),p=void 0!==(f=new URL("".concat(this.stackClient.uri).concat(d)).searchParams.get("page[cursor]")||void 0),!o){e.next=24;break}return m=l.data.filter(function(e){return o.includes(e.id)}).map(function(e){return S(e)}),v=_(_({},l.meta),{},{count:m.length}),e.abrupt("return",{data:m,meta:v,next:o.length>m.length&&p,bookmark:f});case 24:return e.abrupt("return",{data:l.data.map(function(e){return S(e)}),meta:l.meta,next:p,bookmark:f});case 25:case"end":return e.stop()}},e,this,[[5,11]])})),function(){return n.apply(this,arguments)})},{key:"get",value:(r=(0,s.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all({keys:[t]});case 2:n=e.sent;case 3:if(!n.next){e.next=9;break}return e.next=6,this.all({keys:[t],bookmark:n.bookmark});case 6:n=e.sent,e.next=3;break;case 9:if(!n.data.length){e.next=13;break}return e.abrupt("return",{data:S(n.data[0])});case 13:throw n.url=(0,y.uri)(x(),t),n.status="404",new w.FetchError(n,"Not Found");case 16:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,s.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",(0,y.uri)(k(),n));case 3:return e.abrupt("return",{data:_(_({},S(t)),{},{_deleted:!0})});case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})}]),c}(m.default);P.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=P},771:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPermissionsFor=void 0;var a=r(n(21259)),i=r(n(26396)),o=r(n(39892)),c=r(n(92207)),s=r(n(72189)),u=r(n(79092)),l=r(n(82274)),d=r(n(65044)),f=r(n(56994)),p=r(n(65611)),h=r(n(18337)),m=r(n(81189)),v=n(90597),y=n(79374),g=n(42447),b=r(n(1084));function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(){var e=(0,s.default)(["/permissions/doctype/","/shared-by-link"]);return k=function(){return e},e}function x(){var e=(0,s.default)(["/permissions/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,s.default)(["/permissions/",""]);return E=function(){return e},e}var C=function(e){return(0,v.normalizeDoc)(e,"io.cozy.permissions")},S=function(e){(0,f.default)(j,e);var t,n,r,i,s,m,v,y,O,S,D,T,R=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,h.default)(j);return e=t?Reflect.construct(n,arguments,(0,h.default)(this).constructor):n.apply(this,arguments),(0,p.default)(this,e)});function j(){return(0,l.default)(this,j),R.apply(this,arguments)}return(0,d.default)(j,[{key:"get",value:(n=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,g.uri)(E(),t));case 2:return n=e.sent,e.abrupt("return",{data:C(n.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:(r=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,s,u,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._id,t._type,r=void 0===(n=t.codes)?"code":n,a=t.ttl,i=t.tiny,s=(0,o.default)(t,["_id","_type","codes","ttl","tiny"]),(u=new URLSearchParams).append("codes",r),a&&u.append("ttl",a),i&&u.append("tiny",!0),e.next=7,this.stackClient.fetchJSON("POST","/permissions?".concat(u),{data:{type:"io.cozy.permissions",attributes:s}});case 7:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"add",value:(i=(0,u.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u,l,d=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]?d[2]:{},e.t0=t._type,e.next="io.cozy.apps"===e.t0?4:"io.cozy.konnectors"===e.t0?6:"io.cozy.permissions"===e.t0?8:10;break;case 4:return a="/permissions/apps/".concat(t.slug),e.abrupt("break",11);case 6:return a="/permissions/konnectors/".concat(t.slug),e.abrupt("break",11);case 8:return a="/permissions/".concat(t._id),e.abrupt("break",11);case 10:throw Error("Permissions can only be added on existing permissions, apps and konnectors.");case 11:return i=r.expiresAt,s=(o=r.password)||""===o,u=i||""===i,e.next=16,this.stackClient.fetchJSON("PATCH",a,{data:{type:"io.cozy.permissions",attributes:_(_({permissions:n},s&&{password:o}),u&&{expires_at:i})}});case 16:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 18:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"destroy",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,g.uri)(x(),e.id))}},{key:"findLinksByDoctype",value:(s=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,g.uri)(k(),t));case 2:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:n.data.map(C)}));case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"findApps",value:(m=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.default.warn("PermissionCollection.findApps will be removed in next version of cozy-client. \n\n      You can use AppCollection.all() instead \n\n      or even better client.query(Q('io.cozy.apps'), {as: 'io.cozy.apps'})"),e.next=3,this.stackClient.fetchJSON("GET","/apps/");case 3:return t=e.sent,e.abrupt("return",_(_({},t),{},{data:t.data.map(function(e){return _({_id:e.id},e)})}));case 5:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"createSharingLink",value:(v=(0,u.default)(c.default.mark(function e(t){var n,r,a,i,o,s,u,l,d,f=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=f.length>1&&void 0!==f[1]?f[1]:{}).ttl,a=n.password,i=n.verbs,o=n.tiny,u=void 0===(s=n.codes)?"code":s,(l=new URLSearchParams).append("codes",u),r&&l.append("ttl",r),o&&l.append("tiny",!0),e.next=8,this.stackClient.fetchJSON("POST","/permissions?".concat(l),{data:{type:"io.cozy.permissions",attributes:_({permissions:P(t,!0,i?{verbs:i}:{})},a&&{password:a})}});case 8:return d=e.sent,e.abrupt("return",{data:C(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchPermissionsByLink",value:(y=(0,u.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.links&&t.links.next)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET",t.links.next);case 3:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:n.data.map(C)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchAllLinks",value:(O=(0,u.default)(c.default.mark(function e(t){var n,r,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findLinksByDoctype(t._type);case 2:r=n=e.sent;case 4:if(!(r.links&&r.links.next)){e.next=11;break}return e.next=7,this.fetchPermissionsByLink(r);case 7:r=e.sent,(i=n.data).push.apply(i,(0,a.default)(r.data)),e.next=4;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"revokeSharingLink",value:(S=(0,u.default)(c.default.mark(function e(t){var n,r,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLinks(t);case 2:n=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(e.sent.data.filter(function(e){return A(e,t)})),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return a=r.value,e.next=11,this.destroy(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[5,15,18,21]])})),function(e){return S.apply(this,arguments)})},{key:"getOwnPermissions",value:(D=(0,u.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.default.warn("getOwnPermissions is deprecated, please use fetchOwnPermissions instead"),e.abrupt("return",this.fetchOwnPermissions());case 2:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})},{key:"fetchOwnPermissions",value:(T=(0,u.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/permissions/self");case 2:return t=e.sent,e.abrupt("return",{data:C(t.data),included:t.included?t.included.map(C):[]});case 4:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})}]),j}(m.default),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e._id,a=e._type,i=n.verbs?n.verbs:t?["GET"]:["ALL"];return(0,y.isFile)(e)?{files:{type:"io.cozy.files",verbs:i,values:[r]}}:{collection:{type:a,verbs:i,values:[r]},files:{type:"io.cozy.files",verbs:i,values:["".concat(a,"/").concat(r)],selector:"referenced_by"}}};t.getPermissionsFor=P;var A=function(e,t){var n=t._id;return(0,y.isFile)(t)?-1!==e.attributes.permissions.files.values.indexOf(n):-1!==e.attributes.permissions.collection.values.indexOf(n)};t.default=S},95741:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeSettings=t.SETTINGS_DOCTYPE=void 0;var a=r(n(72189)),i=r(n(92207)),o=r(n(26396)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(81189)),h=r(n(1084)),m=n(42447),v=n(90597);function y(){var e=(0,a.default)(["/data/","/",""]);return y=function(){return e},e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b="io.cozy.settings";t.SETTINGS_DOCTYPE=b;var w=(0,v.normalizeDoctypeJsonApi)(b);t.normalizeSettings=w;var k=function(e){(0,l.default)(v,e);var t,n,r,a,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(v);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function v(e){return(0,s.default)(this,v),p.call(this,b,e)}return(0,u.default)(v,[{key:"get",value:(n=(0,c.default)(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.bitwarden"!==t){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/data/io.cozy.settings/io.cozy.settings.bitwarden");case 3:return n=e.sent,e.abrupt("return",{data:w(n)});case 5:return t.startsWith("io.cozy.settings.")?r=t.substring(17):(h.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query settings with an incomplete id\n\n- Q('io.cozy.settings').getById('instance')\n+ Q('io.cozy.settings').getById('io.cozy.settings.instance')"),r=t),e.next=8,this.stackClient.fetchJSON("GET","/settings/".concat(r));case 8:return a=e.sent,e.abrupt("return",{data:w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:"/settings/".concat(r)},a.data))});case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"update",value:(r=(0,c.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.instance"!==t._id){e.next=6;break}return e.next=3,this.stackClient.fetchJSON("PUT","/settings/instance",{data:t});case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,this.stackClient.fetchJSON("PUT",(0,m.uri)(y(),this.doctype,t._id),t);case 8:n=e.sent;case 9:return e.abrupt("return",{data:w(n.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"updateLastSynced",value:(a=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST","/settings/synchronized"));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),v}(p.default);k.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=k},6926:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getSharingRules=t.BITWARDEN_CIPHERS_DOCTYPE=t.BITWARDEN_ORGANIZATIONS_DOCTYPE=t.SHARING_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(72189)),c=r(n(79092)),s=r(n(82274)),u=r(n(65044)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(81189)),h=n(90597),m=n(79374),v=n(42447);function y(){var e=(0,o.default)(["/sharings/","/recipients"]);return y=function(){return e},e}function g(){var e=(0,o.default)(["/sharings/","/recipients/self"]);return g=function(){return e},e}function b(){var e=(0,o.default)(["/sharings/","/groups/",""]);return b=function(){return e},e}function w(){var e=(0,o.default)(["/sharings/","/recipients/",""]);return w=function(){return e},e}function k(){var e=(0,o.default)(["/sharings/","/recipients"]);return k=function(){return e},e}function x(){var e=(0,o.default)(["/sharings/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,o.default)(["/sharings/doctype/","?shared_docs=",""]);return E=function(){return e},e}var C="io.cozy.sharings";t.SHARING_DOCTYPE=C;var S="com.bitwarden.organizations";t.BITWARDEN_ORGANIZATIONS_DOCTYPE=S;var P="com.bitwarden.ciphers";t.BITWARDEN_CIPHERS_DOCTYPE=P;var A=(0,h.normalizeDoctypeJsonApi)(C),D=function(e){(0,l.default)(m,e);var t,n,r,i,o,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(m);return e=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,e)});function m(){return(0,s.default)(this,m),h.apply(this,arguments)}return(0,u.default)(m,[{key:"findByDoctype",value:(n=(0,c.default)(a.default.mark(function e(t){var n,r,i,o=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=(o.length>1&&void 0!==o[1]?o[1]:{}).withSharedDocs)||n,e.next=3,this.stackClient.fetchJSON("GET",(0,v.uri)(E(),t,r));case 3:return i=e.sent,e.abrupt("return",_(_({},i),{},{data:i.data.map(A)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"get",value:(r=(0,c.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.uri)(x(),t),e.next=3,this.stackClient.fetchJSON("GET",n);case 3:return r=e.sent,e.abrupt("return",{data:A(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"fetchSharedDrives",value:(i=(0,c.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/sharings/drives");case 2:return t=e.sent.data,e.abrupt("return",{data:t.map(A)});case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"create",value:(o=(0,c.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l,d,f,p,h,m,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,r=t.description,i=t.previewPath,o=t.rules,s=void 0===(c=t.recipients)?[]:c,l=void 0===(u=t.readOnlyRecipients)?[]:u,d=t.openSharing,f=t.appSlug,p=t.sharedDrive,h={description:r,preview_path:i,open_sharing:d,rules:o||T(n,{sharedDrive:p})},m={},f&&(m.app_slug=f),p&&(m.drive=p),e.next=7,this.stackClient.fetchJSON("POST","/sharings/",{data:{type:"io.cozy.sharings",attributes:_(_({},h),m),relationships:_(_({},s.length>0&&{recipients:{data:s.map(L)}}),l.length>0&&{read_only_recipients:{data:l.map(L)}})}});case 7:return v=e.sent,e.abrupt("return",{data:A(v.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getDiscoveryLink",value:function(e,t,n){var r=(n||{}).shortcut,a=new URLSearchParams;return a.append("sharecode",t),r&&a.append("shortcut",!0),this.stackClient.fullpath("/sharings/".concat(e,"/discovery?").concat(a))}},{key:"addRecipients",value:(p=(0,c.default)(a.default.mark(function e(t){var n,r,i,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,i=void 0===(r=t.recipients)?[]:r,c=void 0===(o=t.readOnlyRecipients)?[]:o,e.next=3,this.stackClient.fetchJSON("POST",(0,v.uri)(k(),n._id),{data:{type:"io.cozy.sharings",id:n._id,relationships:_(_({},i.length>0&&{recipients:{data:i.map(L)}}),c.length>0&&{read_only_recipients:{data:c.map(L)}})}});case 3:return s=e.sent,e.abrupt("return",{data:A(s.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"revokeRecipient",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(w(),e._id,t))}},{key:"revokeGroup",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(b(),e._id,t))}},{key:"revokeSelf",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(g(),e._id))}},{key:"revokeAllRecipients",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(y(),e._id))}}]),m}(p.default);D.normalizeDoctype=h.normalizeDoctypeJsonApi;var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.sharedDrive?N(e):(0,m.isFile)(e)?I(e):e._type===S?F(e):R(e)};t.getSharingRules=T;var R=function(e){var t=e._id,n=e._type;return[_({title:"collection",doctype:n,values:[t]},M()),_({title:"items",doctype:"io.cozy.files",values:["".concat(n,"/").concat(t)],selector:"referenced_by"},j())]},j=function(){return{add:"sync",update:"sync",remove:"sync"}},M=function(){return{update:"sync",remove:"revoke"}},I=function(e){var t=e._id;return[_({title:e.name,doctype:"io.cozy.files",values:[t]},z(e))]},N=function(e){var t=e._id;return[{title:e.name,doctype:"io.cozy.files",values:[t],add:"none",update:"none",remove:"none"}]},z=function(e){return(0,m.isDirectory)(e)?{add:"sync",update:"sync",remove:"sync"}:{update:"sync",remove:"revoke"}},F=function(e){var t=e._id;return[{title:e.name,doctype:S,values:[t],add:"sync",update:"sync",remove:"revoke"},{title:"Ciphers",doctype:P,values:[t],add:"sync",update:"sync",remove:"sync",selector:"organization_id"}]},L=function(e){return{id:e._id,type:e._type}};t.default=D},88213:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHORTCUTS_DOCTYPE=void 0;var a=r(n(92207)),i=r(n(72189)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(81189)),h=n(90597),m=n(42447),v=n(36951);function y(){var e=(0,i.default)(["/shortcuts/",""]);return y=function(){return e},e}function g(){var e=(0,i.default)(["/shortcuts"]);return g=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="io.cozy.files.shortcuts";t.SHORTCUTS_DOCTYPE=k;var x=(0,h.normalizeDoctypeJsonApi)(k),O=function(e){return w(w({},x(e)),{},{_id:e._id})},_=function(e){(0,u.default)(f,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(f);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function f(e){return(0,c.default)(this,f),i.call(this,k,e)}return(0,s.default)(f,[{key:"create",value:(n=(0,o.default)(a.default.mark(function e(t){var n,r,i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type||(t.type=k),!(!t.name||!t.name.trim()||!t.url||!t.dir_id)){e.next=3;break}throw Error("you need at least a name, an url and a dir_id attributes to create a shortcut");case 3:if("."!==(n=t.name.trim())&&".."!==n){e.next=6;break}throw Error("Invalid filename: ".concat(n));case 6:if(!(r=(0,v.getIllegalCharacters)(n)).length){e.next=9;break}throw Error("Invalid filename containing illegal character(s): ".concat(r));case 9:return i=(0,m.uri)(g()),e.next=12,this.stackClient.fetchJSON("POST",i,{data:{attributes:t,type:"io.cozy.files.shortcuts"}});case 12:return o=e.sent,e.abrupt("return",{data:O(o.data)});case 14:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"get",value:(r=(0,o.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,m.uri)(y(),t),e.next=3,this.stackClient.fetchJSON("GET",n);case 3:return r=e.sent,e.abrupt("return",{data:O(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),f}(p.default);_.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=_},96446:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isForAccount=t.isForKonnector=t.normalizeTrigger=t.TRIGGERS_DOCTYPE=t.JOBS_DOCTYPE=void 0;var i=a(n(39892)),o=a(n(26396)),c=a(n(72189)),s=a(n(92207)),u=a(n(79092)),l=a(n(82274)),d=a(n(65044)),f=a(n(96220)),p=a(n(56994)),h=a(n(65611)),m=a(n(18337)),v=r(n(20796)),y=n(90597),g=n(6281),b=n(42447),w=a(n(81189));function k(){var e=(0,c.default)(["/jobs/triggers/","/launch"]);return k=function(){return e},e}function x(){var e=(0,c.default)(["/jobs/triggers/",""]);return x=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,c.default)(["/jobs/triggers/",""]);return E=function(){return e},e}function C(){var e=(0,c.default)(["/jobs/triggers"]);return C=function(){return e},e}n(21987),t.JOBS_DOCTYPE="io.cozy.jobs";var S="io.cozy.triggers";t.TRIGGERS_DOCTYPE=S;var P=(0,y.normalizeDoctypeJsonApi)(S);t.normalizeTrigger=P,t.isForKonnector=function(e,t){return"konnector"===e.worker&&e.message.konnector==t},t.isForAccount=function(e,t){return e.message.account==t};var A=function(e,t){var n=new URLSearchParams;return e&&(Array.isArray(e.$in)?n.set("Worker",e.$in.join(",")):n.set("Worker",e)),t&&(Array.isArray(t.$in)?n.set("Type",t.$in.join(",")):n.set("Type",t)),n.toString()},D=function(e){(0,p.default)(D,e);var t,n,r,a,o,c,y,w,O=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,m.default)(D);return e=t?Reflect.construct(n,arguments,(0,m.default)(this).constructor):n.apply(this,arguments),(0,h.default)(this,e)});function D(e){return(0,l.default)(this,D),O.call(this,S,e)}return(0,d.default)(D,[{key:"all",value:(n=(0,u.default)(s.default.mark(function e(){var t,n=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]&&n[0],e.prev=1,e.next=4,this.stackClient.fetchJSON("GET","/jobs/triggers");case 4:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return P(e)}),meta:{count:t.data.length},next:!1,skip:0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return n.apply(this,arguments)})},{key:"create",value:(r=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,b.uri)(C()),e.next=3,this.stackClient.fetchJSON("POST",n,{data:{attributes:t}});case 3:return r=e.sent,e.abrupt("return",{data:P(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(a=(0,u.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t._id){e.next=3;break}throw Error("TriggerCollection.destroy needs a document with an _id");case 3:return e.next=5,this.stackClient.fetchJSON("DELETE",(0,b.uri)(E(),n));case 5:return e.abrupt("return",{data:P(_(_({},t),{},{_deleted:!0}))});case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"find",value:(o=(0,u.default)(s.default.mark(function e(){var t,n,r,a,o,c,u=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},r=t.worker,a=t.type,!(0===Object.keys((0,i.default)(t,["worker","type"])).length&&!n.partialFilter)){e.next=18;break}return o="/jobs/triggers?".concat(A(r,a)),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",o);case 9:return c=e.sent,e.abrupt("return",{data:c.data.map(function(e){return P(e)}),meta:{count:c.data.length},next:!1,skip:0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 16:e.next=19;break;case 18:return e.abrupt("return",(0,f.default)((0,m.default)(D.prototype),"find",this).call(this,t,n));case 19:case"end":return e.stop()}},e,this,[[6,13]])})),function(){return o.apply(this,arguments)})},{key:"get",value:(c=(0,u.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.default.get(this.stackClient,(0,b.uri)(x(),t),{normalize:P}));case 1:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"launch",value:(y=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,b.uri)(k(),t._id),e.next=3,this.stackClient.fetchJSON("POST",n);case 3:return r=e.sent,e.abrupt("return",{data:(0,g.normalizeJob)(r.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"update",value:(w=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=s.default.keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}if(["_id","_rev","_type","arguments","message","cozyMetadata"].includes(e.t1.value)){e.next=5;break}throw Error("TriggerCollection.update only works for 'arguments', and 'message' attributes.");case 5:e.next=1;break;case 7:return n=_(_({},t.arguments?{arguments:t.arguments}:{}),t.message?{message:t.message}:{}),e.next=10,this.stackClient.fetchJSON("PATCH","/jobs/triggers/".concat(t._id),{data:{attributes:n}});case 10:return r=e.sent,e.abrupt("return",{data:P(r.data)});case 12:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})}]),D}(w.default);D.normalizeDoctype=y.normalizeDoctypeJsonApi,t.default=D},21987:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.default=void 0;var a=r(n(82274)),i=r(n(41972)),o=r(n(56994)),c=r(n(65611)),s=r(n(18337)),u=r(n(16826)),l=/the client must be registered/;t.default={EXPIRED_TOKEN:/Expired token/,CLIENT_NOT_FOUND:/Client not found/,INVALID_TOKEN:/Invalid JWT token/,INVALID_TOKEN_ALT:/Invalid token/,UNREGISTERED_CLIENT:l};var d=/invalid_token/,f=/access_token_expired/,p=function(e){var t,n=null==(t=e.headers)?void 0:t.get("www-authenticate");if(n){if(f.test(n))return"Expired token";if(d.test(n))return"Invalid token"}};t.FetchError=function(e){(0,o.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(r);return e=t?Reflect.construct(n,arguments,(0,s.default)(this).constructor):n.apply(this,arguments),(0,c.default)(this,e)});function r(e,t){if((0,a.default)(this,r),c=n.call(this),null==(o=Error.captureStackTrace)||o.call(Error,(0,i.default)(c),c.constructor),c.name="FetchError",c.response=e,c.url=e.url,c.status=e.status,c.reason=t,null===t)throw Error("FetchError received a ".concat(e.status," error without a Response Body when calling ").concat(e.url));var o,c,s=p(e);return Object.defineProperty((0,i.default)(c),"message",{value:("string"==typeof t.error&&l.test(t.error)?t.error:void 0)||t.message||s||("string"==typeof t?t:JSON.stringify(t))}),c}return r}((0,u.default)(Error))},79934:function(e,t,n){"use strict";var r,a,i=n(58784),o=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconURL=t.default=t._getIconURL=void 0;var c=o(n(92207)),s=o(n(79092));n(42867);var u=i(n(9234));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e,t,n,r){if(!n)throw Error("Cannot fetch icon: missing domain");var a=f(e,t,n,r);if(!a)throw Error("Cannot get icon source for app ".concat(e.name));return a},f=function(e,t,n,r){var a=e&&e.links&&e.links.icon||p(e,t);return a?"".concat(r,"//").concat(n).concat(a):null},p=function(e,t){return t?"/registry/".concat(t,"/icon"):e&&e.latest_version&&e.latest_version.version&&"/registry/".concat(e.slug,"/").concat(e.latest_version.version,"/icon")},h={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},m=function(e){if(!e.icon)throw Error("".concat(e.name,": Cannot detect icon mime type since app has no icon"));var t=e.icon.split(".").pop();if(!t)throw Error("".concat(e.name,": Unable to detect icon mime type from extension (").concat(e.icon,")"));return t},v=(r=(0,s.default)(c.default.mark(function e(t,n){var r,a,i,o,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,void 0)}}(e))){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}(t),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=18;break}return o=i.value,e.prev=5,e.next=8,o();case 8:return s=e.sent,n&&n(s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(5),r=e.t0;case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),a.e(e.t1);case 23:return e.prev=23,a.f(),e.finish(23);case 26:throw r;case 27:case"end":return e.stop()}},e,null,[[1,20,23,26],[5,13]])})),function(e,t){return r.apply(this,arguments)}),y=(a=(0,s.default)(c.default.mark(function e(t,n){var r,a,i,o,s,u,l,f,p,y,g,b,w,k;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.type,a=n.slug,i=n.appData,s=void 0===(o=n.priority)?"stack":o,!t.oauthOptions){e.next=29;break}return u=[function(){return t.fetch("GET","/".concat(r,"s/").concat(a,"/icon"))},function(){return t.fetch("GET","/registry/".concat(a,"/icon"))}],"registry"===s&&u.reverse(),e.next=6,v(u,function(e){if(!e.ok)throw Error("Error while fetching icon ".concat(e.statusText))});case 6:return l=e.sent,e.next=9,l.blob();case 9:if((f=e.sent).type){e.next=26;break}if(y=[function(){var e,n;return e=r,n=a,t.fetchJSON("GET","/".concat(e,"s/").concat(n)).then(function(e){return e.data.attributes})},function(){var e;return e=a,t.fetchJSON("GET","/registry/".concat(e)).then(function(e){return e.latest_version.manifest})}],"registry"===s&&y.reverse(),e.t1=i,e.t1){e.next=18;break}return e.next=17,v(y);case 17:e.t1=e.sent;case 18:if(e.t0=e.t1,e.t0){e.next=21;break}e.t0={};case 21:if(h[g=m(p=e.t0)]){e.next=25;break}throw Error('Unknown image extension "'.concat(g,'" for app ').concat(p.name));case 25:f=new Blob([f],{type:h[g]});case 26:return e.abrupt("return",URL.createObjectURL(f));case 29:return e.prev=29,w=(b=new URL(t.uri)).host,k=b.protocol,e.abrupt("return",d(i,a,w,k));case 34:throw e.prev=34,e.t2=e.catch(29),Error("Cannot fetch icon: invalid stackClient.uri: ".concat(e.t2.message));case 37:case"end":return e.stop()}},e,null,[[29,34]])})),function(e,t){return a.apply(this,arguments)});t._getIconURL=y;var g=function(){return y.apply(this,arguments).catch(function(){return new u.ErrorReturned})};t.getIconURL=g,t.default=(0,u.default)(g,{maxDuration:3e5,key:function(e,t){var n=t.type,r=t.slug,a=t.priority;return e.uri+NaN+n+":"+r+":"+a}})},36951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIllegalCharacters=void 0,t.getIllegalCharacters=function(e){var t=e.match(/\/|\x00|\n|\r/g);return t?t.join(" "):""}},46846:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OAuthClient",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return c.FetchError}}),Object.defineProperty(t,"normalizeDoc",{enumerable:!0,get:function(){return s.normalizeDoc}});var i=a(n(45308)),o=a(n(11126)),c=r(n(21987)),s=n(90597)},3961:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1084));t.default=function(){a.default.warn.apply(a.default,arguments)}},1084:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(47285)),i=(0,a.default)("cozy-stack-client");a.default.suggest.deny("cozy-stack-client","info"),t.default=i},18366:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.makeOperatorsExplicit=t.isMatchingIndex=t.getIndexFields=t.transformSort=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=t.normalizeDesignDoc=void 0;var a=r(n(21259)),i=r(n(22056)),o=r(n(26396)),c=r(n(912)),s=r(n(58156)),u=r(n(2404)),l=r(n(23805));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.normalizeDesignDoc=function(e){var t=e._id||e.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t,_id:t},e.doc)};var f=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(r,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(r,"_(")),")"):"object"==typeof a?"".concat(r,"_").concat(e(a)):"".concat(r,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=f,t.getIndexNameFromFields=function(e,t){var n="by_".concat(e.join("_and_"));return t?"".concat(n,"_filter_(").concat(f(t),")"):n},t.transformSort=function(e){if(!e||Array.isArray(e))return e;throw Error('Passing an object to the "sort" is not supported')},t.getIndexFields=function(e){var t=e.selector,n=e.partialFilter,r=e.sort;return Array.from(new Set([].concat((0,a.default)((void 0===r?[]:r).map(function(e){return(0,c.default)(Object.keys(e))})),(0,a.default)(t?Object.keys(t):[]),(0,a.default)(n?Object.keys(n):[]))))},t.isMatchingIndex=function(e,t,n){var r=Object.keys((0,s.default)(e,"views"))[0],a=Object.keys((0,s.default)(e,"views.".concat(r,".map.fields")));if((0,u.default)(a,t)){var i=(0,s.default)(e,"views.".concat(r,".map.partial_filter_selector"));if(!n&&!i)return!0;var o=p(null!=n?n:{});if((0,u.default)(o,i))return!0}return!1};var p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object.entries(t).reduce(function(t,r){var a,c=(0,i.default)(r,2),s=c[0],u=c[1];return"$nor"===s?t.$and=u.map(function(e){return Object.entries(e).reduce(function(e,t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return"string"==typeof a?e[r]={$ne:a}:e[r]=p(a,!0),e},{})}).sort(h):null!=(a=u.$or)&&a.every(function(e){return"string"==typeof e})?t.$or=u.$or.map(function(t){return e((0,o.default)({},s,t),n)}).sort(h):Array.isArray(u)&&u.every(l.default)?t[s]=u.map(function(t){return e(t,n)}).sort(h):(0,l.default)(u)&&!Array.isArray(u)?t[s]=e(u,n):n&&"$eq"===s?t.$ne=u:s.startsWith("$")?t[s]=u:t[s]={$eq:u},t},{}),a=Object.keys(r).sort();return 1===a.length?r:{$and:a.map(function(e){return(0,o.default)({},e,r[e])})}};t.makeOperatorsExplicit=p;var h=function(e,t){var n=Object.keys(e)[0],r=Object.keys(t)[0];return n.localeCompare(r)}},9234:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReturned=t.default=void 0;var a=r(n(82274)),i=r(n(56994)),o=r(n(65611)),c=r(n(18337)),s=function(e){(0,i.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(r);return e=t?Reflect.construct(n,arguments,(0,c.default)(this).constructor):n.apply(this,arguments),(0,o.default)(this,e)});function r(){return(0,a.default)(this,r),n.apply(this,arguments)}return r}((0,r(n(16826)).default)(String));t.ErrorReturned=s;var u=function(e,t){for(var n=Date.now(),r=0,a=Object.keys(e);r<a.length;r++){var i=a[r];n-e[i].date>t&&delete e[i]}};t.default=function(e,t){var n={};return function(){var r=t.key.apply(null,arguments);u(n,t.maxDuration);var a=n[r];if(a)return a.result;var i=e.apply(this,arguments);return n[r]={result:i,date:Date.now()},"object"==typeof i&&"function"==typeof i.then&&i.then(function(e){e instanceof s&&delete n[r]}).catch(function(e){delete n[r]}),i}}},90597:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDoc=c,t.normalizeDoctypeJsonApi=function(e){return function(t,n){var r=c(t,e);return o(o({},r),r.attributes||{})}},t.normalizeDoctypeRawApi=function(e){return function(t,n){var r=c(n,e);return o(o({},r),r.attributes||{})}};var a=r(n(26396));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e._id||e.id;return o({id:n,_id:n,_type:t},e)}},22428:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044));t.default=function(){var e;function t(){(0,o.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,i.default)(a.default.mark(function e(t,n){var r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),(i=this.pending[r])?o=i:(o=t(),this.pending[r]=o),e.prev=3,e.next=6,o;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[r]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,n){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),n=this.pending[t];return n||null}}]),t}()},95327:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.buildURL=t.encode=void 0;var a=r(n(22056)),i=r(n(71086)),o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?"["+t.map(function(t){return e(t,!0)}).join(",")+"]":n?encodeURIComponent('"'.concat(t,'"')):encodeURIComponent(t)},c=function(e){return Object.entries(e).map(function(e){var t=(0,a.default)(e,2),n=t[0],r=o(t[1]);return"".concat(n,"=").concat(r)}).join("&")};t.encode=c,t.buildURL=function(e,t){var n=c((0,i.default)(t));return n?"".concat(e,"?").concat(n):e}},42867:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},42447:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.joinPath=function(e,t){return"".concat(e).concat(e.endsWith("/")?"":"/").concat(t)},t.sharedDriveApiPrefix=t.encodePath=t.forceDownload=t.formatBytes=t.slugify=t.sleep=t.attempt=t.uri=void 0;var a=r(n(72189));function i(){var e=(0,a.default)(["/sharings/drives/",""]);return i=function(){return e},e}var o=function(e){for(var t=[e[0]],n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t.push(encodeURIComponent(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])+e[n+1]);return t.join("")};t.uri=o,t.attempt=function(e){return e.then(function(){return!0}).catch(function(){return!1})},t.sleep=function(e,t){return new Promise(function(n){setTimeout(n,e,t)})},t.slugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t.formatBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]},t.forceDownload=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.encodePath=function(e){return e.split("/").map(function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}).join("/")},t.sharedDriveApiPrefix=function(e){return o(i(),e)}},78866:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldXMLHTTPRequestBeUsed=t.fetchWithXMLHttpRequest=void 0;var i=a(n(92207)),o=a(n(22056)),c=a(n(79092)),s=a(n(50104));r=(0,c.default)(i.default.mark(function e(t,n){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){var a=new XMLHttpRequest;n.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",n.onUploadProgress,!1),a.onload=function(){4==this.readyState?e(this):r(this)},a.onerror=function(e){r(e)},a.open(n.method,t,!0),a.withCredentials=!0;for(var i=0,c=Object.entries(n.headers);i<c.length;i++){var s=(0,o.default)(c[i],2),u=s[0],l=s[1];a.setRequestHeader(u,l)}a.send(n.body)});case 2:return r=e.sent,e.abrupt("return",{headers:new Headers(r.getAllResponseHeaders().split("\r\n").map(function(e){return e.split(":",2)}).filter(function(e){return 2==e.length})),ok:r.status>=200&&r.status<300,text:function(){var e=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.responseText);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),json:function(){var e=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(r.responseText));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),status:r.status,statusText:r.statusText});case 4:case"end":return e.stop()}},e)})),t.fetchWithXMLHttpRequest=function(e,t){return r.apply(this,arguments)};var u=(0,s.default)(function(){var e=new XMLHttpRequest;return"onload"in e&&"onprogress"in e});t.shouldXMLHTTPRequestBeUsed=function(e,t,n){return!!n.onUploadProgress&&u()}},62162:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppIcon=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(53978)),h=r(n(5556)),m=O(n(96540)),v=n(42895),y=O(n(90774)),g=r(n(68882)),b=n(58374),w=n(60022),k=n(13877);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var _="styles__c-app-icon___2W1cp",E="done",C="errored",S="fetching",P=function(e){(0,u.default)(h,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(e,t){var n;return(0,o.default)(this,h),n=r.call(this,e,t),(0,f.default)((0,s.default)(n),"state",{error:null,icon:null,status:n.props.client?S:C}),n.isUnmounting=!1,n.handleError=n.handleError.bind((0,s.default)(n)),n.fetchIcon=n.fetchIcon.bind((0,s.default)(n)),n}return(0,c.default)(h,[{key:"componentWillUnmount",value:function(){this.isUnmounting=!0}},{key:"componentDidMount",value:function(){this.isUnmounting=!1,this.load()}},{key:"componentDidUpdate",value:function(e){this.props.fetchIcon!==e.fetchIcon&&this.load()}},{key:"fetchIcon",value:function(){var e=this.props,t=e.app,n=e.type,r=e.priority,a=e.client;if(!(0,b.isShortcutFile)(t))return a.getStackClient().getIconURL({type:n,slug:t.slug||t,appData:t,priority:r})}},{key:"handleError",value:function(){this.setState({status:C})}},{key:"load",value:(n=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c,s,u,l,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this.props).app,r=t.fetchIcon,i=t.onReady,o=t.client,c=r||this.fetchIcon,e.prev=2,o&&(l=(f=new URL(o.getStackClient().uri)).host,d="https:"===f.protocol),e.next=6,c(n,l,d);case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u=e.t0;case 12:this.isUnmounting||(this.setState({error:u,icon:s,status:u?C:E}),"function"==typeof i&&i());case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.alt,n=e.className,r=e.fallbackIcon,a=this.state,i=a.icon,o=a.status;if((0,b.isShortcutFile)(this.props.app))return m.default.createElement(w.ShortcutTile,{file:this.props.app});switch(o){case S:return m.default.createElement("div",{role:"progressbar",className:(0,p.default)("styles__c-loading-placeholder___3Q5Co",_,n)});case E:return m.default.createElement("img",{alt:t,className:(0,p.default)(_,n),onError:this.handleError,ref:this.props.iconRef,src:i});default:return m.default.createElement(y.default,{className:(0,p.default)(_,"styles__c-app-icon-default___1Bus5",n),height:"100%",icon:r||g.default,width:"100%",color:"var(--coolGrey)",iconRef:this.props.iconRef})}}}]),h}(m.Component);t.AppIcon=P,P.propTypes={alt:h.default.string,app:h.default.oneOfType([k.AppDoctype,h.default.string]),fallbackIcon:y.iconPropType,fetchIcon:h.default.func,client:h.default.object.isRequired,className:h.default.string,onReady:h.default.func,type:h.default.oneOf(["app","konnector"]),priority:h.default.oneOf(["stack","registry"])},P.defaultProps={type:"app",priority:"stack"},t.default=(0,v.withClient)(P)},21696:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppLinker=void 0,Object.defineProperty(t,"generateUniversalLink",{enumerable:!0,get:function(){return y.generateUniversalLink}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return y.generateWebLink}}),Object.defineProperty(t,"getUniversalLinkDomain",{enumerable:!0,get:function(){return y.getUniversalLinkDomain}});var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(5556)),f=r(n(96540)),p=n(42895),h=n(7127),m=n(84660),v=r(n(40918)),y=n(77309);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e){var t;return(0,a.default)(this,r),t=n.call(this,e),(0,l.default)((0,o.default)(t),"state",{imgRef:null}),(0,l.default)((0,o.default)(t),"setImgRef",function(e){t.imgRef=e,t.setState({imgRef:t.imgRef})}),t}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props.children,t=r.getOnClickHref(this.props,this.context,this.state.imgRef),n=t.href,a=t.onClick;return e({iconRef:this.setImgRef,onClick:a,href:n})}}],[{key:"getSlug",value:function(e){return e.app.slug}},{key:"getOnClickHref",value:function(e,t,n){var r=e.app,a=e.client,i=e.onAppSwitch,o=e.href;if((0,h.isFlagshipApp)()){var c=(a?a.getInstanceOptions():void 0).app;if(void 0===c||r.slug!==c.slug){var s=n&&JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.getBoundingClientRect().toJSON()));return{onClick:function(e){e.preventDefault(),null==i||i(),t?t.call("openApp",o,r,s):v.default.error('Failed to "openApp('.concat(r,')". WebviewService has the following falsy value "').concat(t,"\" in AppLinker's context."))},href:"#"}}}return{href:o,onClick:null}}}]),r}(f.default.Component);t.AppLinker=b,(0,l.default)(b,"contextType",m.WebviewContext),b.propTypes={href:d.default.string,onAppSwitch:d.default.func,app:d.default.shape({slug:d.default.string.isRequired}).isRequired},t.default=(0,p.withClient)(b)},20237:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNIVERSAL_LINK_URL=void 0,t.UNIVERSAL_LINK_URL="https://links.mycozy.cloud"},77309:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getUniversalLinkDomain=t.generateWebLink=t.generateUniversalLink=void 0;var a=r(n(26396)),i=r(n(39892)),o=n(42895),c=n(20237),s=["nativePath"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(){return c.UNIVERSAL_LINK_URL};t.getUniversalLinkDomain=l,t.generateWebLink=function(e){var t=e.nativePath,n=(0,i.default)(e,s);return console.warn("Deprecated: you should use generateWebLink from cozy-client instead"),(0,o.generateWebLink)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({pathname:"/",hash:t},n))},t.generateUniversalLink=function(e){var t=e.slug,n=e.cozyUrl,r=e.subDomainType,a=e.fallbackUrl,i=e.nativePath;if(i=(0,o.ensureFirstSlash)(i),!n&&!a)throw Error("Must have either cozyUrl or fallbackUrl to generate universal link.");n&&!a&&(a=(0,o.generateWebLink)({cozyUrl:n,pathname:"/",hash:i,slug:t,subDomainType:r}));var c=new URL(l(n)+"/"+t+i);return c.searchParams.append("fallback",a),c.toString()}},69002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_TYPE=t.APP_CLASS=void 0,t.APP_TYPE={KONNECTOR:"konnector",WEBAPP:"webapp",FILE:"file"},t.APP_CLASS={SHORTCUT:"shortcut"}},58374:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isShortcutFile=t.getTranslatedManifestProperty=void 0;var a=r(n(58156)),i=n(69002);t.getTranslatedManifestProperty=function(e,t,n){return n&&e&&t?n("apps.".concat(e.slug,".").concat(t),{_:(0,a.default)(e,t,"")}):(0,a.default)(e,t,"")},t.isShortcutFile=function(e){return!!e&&e.type===i.APP_TYPE.FILE&&e.class===i.APP_CLASS.SHORTCUT}},76302:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(53978)),p=r(n(5556)),h=r(n(96540)),m=n(42895),v=r(n(90774)),y=r(n(2231)),g=r(n(62162)),b=n(13877),w=["className"],k=function(e){(0,u.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(r);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function r(e){var t;return(0,o.default)(this,r),(t=n.call(this,e)).fetchIcon=t.fetchIcon.bind((0,s.default)(t)),t}return(0,c.default)(r,[{key:"fetchIcon",value:function(){var e=this.props,t=e.client,n=e.konnector;return t.getStackClient().getIconURL({type:"konnector",slug:n.slug||n,appData:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=(0,i.default)(e,w);return h.default.createElement("div",(0,a.default)({className:(0,f.default)("u-dib u-pos-relative",t)},n),h.default.createElement(v.default,{icon:y.default,size:32}),h.default.createElement("div",{className:"u-pos-absolute u-right-0 u-bottom-0"},h.default.createElement(g.default,{fetchIcon:this.fetchIcon,className:"u-w-1 u-h-1"})))}}]),r}(h.default.PureComponent);k.propTypes={konnector:p.default.oneOfType([b.AppDoctype,p.default.string]).isRequired},t.default=(0,m.withClient)(k)},1684:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(21259)),i=r(n(39892)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=r(n(90774)),u=r(n(69688)),l=r(n(94283)),d=r(n(3855)),f=r(n(95037)),p=r(n(56211)),h=n(54952),m=["values","component","placeholder","label","addButtonLabel","removeButtonLabel","onChange","onAddField"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(e){var t=e.values,n=e.component,r=e.placeholder,o=e.label,v=e.addButtonLabel,y=e.removeButtonLabel,g=e.onChange,b=e.onAddField,w=(0,i.default)(e,m),k=(0,c.useRef)(),x=function(e){g([].concat((0,a.default)(t.slice(0,e)),(0,a.default)(t.slice(e+1))))},O=function(e,t){b&&e===k.current&&t&&(k.current=null,b(t))};return c.default.createElement(h.FieldContainer,w,c.default.createElement(d.default,null,o),c.default.createElement(f.default,null,t.length>0?c.default.createElement(f.default,{spacing:"s"},t.map(function(e,i){return c.default.createElement("div",{key:i,className:"styles__CollectionField__row___3JFOW"},c.default.createElement(n,{ref:function(e){return O(i,e)},value:e,onChange:function(e){var n=(0,a.default)(t);n[i]=e,g(n)},placeholder:r}),c.default.createElement(p.default,{type:"button",theme:"secondary",label:y,iconOnly:!0,round:!0,icon:c.default.createElement(s.default,{icon:u.default,color:"var(--slateGrey)"}),onClick:function(){return x(i)}}))})):null,null!==t[t.length-1]?c.default.createElement(p.default,{label:v,type:"button",theme:"text",icon:c.default.createElement(s.default,{icon:l.default,className:"styles__CollectionField__addBtnIcon___rWdyr"}),onClick:function(){var e=[].concat((0,a.default)(t),[null]);g(e),k.current=e.length-1},className:"styles__CollectionField__addBtn___1pQLs"}):null))};y.propTypes={values:o.default.array.isRequired,component:o.default.elementType.isRequired,label:o.default.node.isRequired,onChange:o.default.func.isRequired,addButtonLabel:o.default.node.isRequired,removeButtonLabel:o.default.node.isRequired,placeholder:o.default.string,onAddField:o.default.func},t.default=y},65270:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(16193)),d=r(n(39892)),f=r(n(53978)),p=r(n(5556)),h=r(n(96540)),m=n(62878),v=r(n(46690)),y=["className","children"],g=["placeholder","onChange","value","listPlaceholder","listEmptyMessage","addContactLabel","initialOpen"],b=function(e){var t=e.className,n=e.children,r=(0,d.default)(e,y);return h.default.createElement("button",(0,l.default)({type:"button",className:(0,f.default)("styles__SelectControl___3NQnK",t)},r),n)},w=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e,t){var i;return(0,a.default)(this,r),(i=n.call(this,e,t)).state={opened:i.props.initialOpen},i.open=i.open.bind((0,o.default)(i)),i.close=i.close.bind((0,o.default)(i)),i}return(0,i.default)(r,[{key:"open",value:function(){this.setState({opened:!0})}},{key:"close",value:function(){this.setState({opened:!1})}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.onChange,r=e.value,a=e.listPlaceholder,i=e.listEmptyMessage,o=e.addContactLabel,c=(e.initialOpen,(0,d.default)(e,g)),s=this.state.opened;return h.default.createElement(h.default.Fragment,null,h.default.createElement(b,(0,l.default)({},c,{onClick:this.open}),r?(0,m.getDisplayName)(r):t),s&&h.default.createElement(v.default,{dismissAction:this.close,onItemClick:function(e){n(e)},placeholder:a,emptyMessage:i,addContactLabel:o}))}}]),r}(h.default.Component);w.defaultProps={initialOpen:!1},w.propTypes={initialOpen:p.default.bool},t.default=w},71101:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(53978)),c=r(n(5556)),s=r(n(96540)),u=n(42895),l=r(n(27282)),d=r(n(24242)),f=r(n(18964)),p=r(n(17728)),h=r(n(90209)),m=r(n(19327)),v=["className","contact","onClick","divider"],y=u.models.contact,g=y.getPrimaryCozy,b=y.getPrimaryPhone,w=y.getPrimaryEmail,k=function(e){var t=e.className,n=e.contact,r=e.onClick,c=e.divider,u=(0,i.default)(e,v),y=(0,d.default)().isMobile,k=b(n)||void 0,x=w(n)||void 0,O=g(n)||void 0,_=(0,d.default)().isDesktop;return s.default.createElement(l.default,(0,a.default)({"data-testid":"contact-listItem",className:(0,o.default)({"u-c-pointer":r},t),divider:c,gutters:_?"double":"default",onClick:function(){return null==r?void 0:r(n)}},u),s.default.createElement(h.default,{contact:n}),!y&&s.default.createElement(p.default,{email:x}),!y&&s.default.createElement(m.default,{phone:k}),!y&&s.default.createElement(f.default,{cozyUrl:O}))};k.propTypes={contact:c.default.object.isRequired,onClick:c.default.func,divider:c.default.bool},t.default=k},18964:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(26273),c=function(e){var t=e.cozyUrl;return i.default.createElement(o.TableCell,{"data-testid":"ContactCozy",className:"".concat("styles__contact-cozyurl___V4Pb_"," u-ellipsis u-p-0")},t)};c.propTypes={cozyUrl:a.default.string},c.defaultProps={cozyUrl:"â€”"},t.default=c},17728:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(26273),c=function(e){var t=e.email;return i.default.createElement(o.TableCell,{"data-testid":"ContactEmail",className:"".concat("styles__contact-email___2ol8_"," u-ellipsis u-p-0")},t)};c.propTypes={email:a.default.string},c.defaultProps={email:"â€”"},t.default=c},90209:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(39892)),i=r(n(5556)),o=r(n(96540)),c=n(76819),s=n(62878),u=r(n(27998)),l=n(26273),d=r(n(8372)),f=n(77897),p=["noWrapper"],h=function(){(0,c.useExtendI18n)(f.locales);var e=(0,c.useI18n)().t;return o.default.createElement("span",{className:"".concat("styles__contact-myself___8Ck4d")},"(",e("me"),")")},m=function(e){var t=e.contact,n=!!t.me;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,{display:"inline",size:"s"},(0,s.getInitials)(t)),o.default.createElement(d.default,{contact:t}),n&&o.default.createElement(h,null))};m.propTypes={contact:i.default.object.isRequired};var v=function(e){var t=e.noWrapper,n=(0,a.default)(e,p);return t?o.default.createElement(m,n):o.default.createElement(l.TableCell,{"data-testid":"ContactIdentity",className:"".concat("styles__contact-identity___1PxJr"," u-flex u-flex-items-center u-ellipsis u-p-0")},o.default.createElement(m,n))};v.defaultProps={noWrapper:!1},t.default=v},8372:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53978)),i=r(n(5556)),o=r(n(96540)),c=n(62878),s=r(n(39274)),u=function(e){var t,n=e.contact,r=null==(t=n.name)?void 0:t.familyName,i=(0,c.getDisplayName)(n),u=null==i?void 0:i.split(" ");return o.default.createElement(s.default,{"data-testid":"ContactName",className:"u-ml-1",noWrap:!0,display:"inline"},null==u?void 0:u.map(function(e,t){var n=t===u.length-1;return o.default.createElement("span",{key:"display-".concat(t),className:(0,a.default)({"u-fw-bold":e===r})},e,!n&&o.default.createElement(o.default.Fragment,null,"\xa0"))}))};u.propTypes={contact:i.default.object.isRequired},t.default=u},19327:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(26273),c=function(e){var t=e.phone;return i.default.createElement(o.TableCell,{"data-testid":"ContactPhone",className:"".concat("styles__contact-phone___2fSrd"," u-ellipsis u-p-0")},t)};c.propTypes={phone:a.default.string},c.defaultProps={phone:"â€”"},t.default=c},86132:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(39892)),i=r(n(5556)),o=r(n(96540)),c=n(76819),s=r(n(70879)),u=r(n(62858)),l=n(26273),d=r(n(24242)),f=r(n(71101)),p=n(76472),h=r(n(77897)),m=["contacts","onItemClick"],v=function(e){var t=e.contacts,n=e.onItemClick,r=(0,a.default)(e,m),i=(0,c.useI18n)().t,h=(0,p.sortContacts)(t),v=(0,p.categorizeContacts)(h,i),y=(0,p.sortHeaders)(v,i),g=(0,d.default)().isDesktop;return o.default.createElement(l.Table,r,y.map(function(e){return o.default.createElement(s.default,{key:e,subheader:o.default.createElement(u.default,{gutters:g?"double":"default"},e)},v[e].map(function(t,r){return o.default.createElement(f.default,{key:t._id,id:t._id,contact:t,divider:r!==v[e].length-1,onClick:n})}))}))};v.propTypes={contacts:i.default.array.isRequired,onItemClick:i.default.func},t.default=(0,h.default)(v)},76472:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.buildLastNameFirst=i,t.sortLastNameFirst=t.sortHeaders=t.sortContacts=t.makeGroupLabelsAndCounts=t.categorizeContacts=void 0;var a=r(n(58156));function i(e){var t=e.name&&e.name.givenName?e.name.givenName.toUpperCase():"",n=e.name&&e.name.familyName?e.name.familyName.toUpperCase():"";return t||n||!e.fullname?"".concat(n," ").concat(t).trim():e.fullname.toUpperCase().trim()}var o=function(e,t){var n=i(e),r=i(t);return n.localeCompare(r)};t.sortLastNameFirst=o,t.sortContacts=function(e){return e.sort(o)};var c=function(e,t){if(e.me)return t("me");if(null!=(n=e.cozyMetadata)&&n.favorite)return t("favorite");var n,r=(0,a.default)(e,"indexes.byFamilyNameGivenNameEmailCozyUrl","");return null!==r&&r.length>0?r[0].normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,""):t("empty")};t.categorizeContacts=function(e,t){return e.reduce(function(e,n){var r=n.me?t("me"):i(n)[0]||t("empty");return e[r]=e[r]||[],e[r].push(n),e},{})},t.sortHeaders=function(e,t){var n=Object.keys(e),r=n.filter(function(e){return e!==t("empty")&&e!==t("me")}),a=r.slice().sort();if(n.length===r.length)return a;var i=[];return n.includes(t("me"))&&i.push(t("me")),n.includes(t("empty"))&&i.push(t("empty")),i.concat(a)},t.makeGroupLabelsAndCounts=function(e,t){return e.reduce(function(e,n){var r=c(n,t);e.groupLabels.includes(r)||e.groupLabels.push(r);var a=e.groupLabels.indexOf(r),i=e.groupCounts[a]||0;return e.groupCounts[a]=i+1,e},{groupLabels:[],groupCounts:[]})}},76253:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=r(n(86132)).default},77897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=t.default=void 0;var r=n(76819),a={en:{empty:"EMPTY",me:"me",favorite:"favorites"},fr:{empty:"VIDE",me:"moi",favorite:"favoris"},ru:{empty:"ÐŸÐ£Ð¡Ð¢Ðž",me:"Ñ",favorite:"Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ"},vi:{empty:"TRá»NG",me:"t\xf4i",favorite:"y\xeau th\xedch"}};t.locales=a,t.default=(0,r.withOnlyLocales)(a)},14534:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(36040));t.default=(0,n(84258).withContactsListLocales)(function(e){var t=e.t,n=e.onCancel,r=e.onSave;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{variant:"secondary",label:t("cancel"),onClick:n}),a.default.createElement(i.default,{label:t("save"),onClick:r}))})},74020:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(5556)),o=r(n(96540)),c=r(n(90774)),s=r(n(70804)),u=r(n(57759)),l=r(n(39274)),d=n(81041),f=n(84258);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){var t=e.t,n=e.setContactValues,r=function(e){var t=e.target,r=t.name,i=t.value;n(function(e){return h(h({},e),{},(0,a.default)({},r,i))})};return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{variant:"h5"},t("coordinates")),o.default.createElement(d.Media,null,o.default.createElement(d.Img,{className:"styles__icon___bzlGb"},o.default.createElement(c.default,{icon:s.default})),o.default.createElement(d.Bd,{className:"u-mr-1"},o.default.createElement(u.default,{className:"u-mt-1",variant:"outlined",fullWidth:!0,id:"givenName",name:"givenName",label:t("givenName"),onChange:r}))),o.default.createElement(d.Media,null,o.default.createElement(d.Bd,{className:"u-ml-3 u-mr-1"},o.default.createElement(u.default,{className:"u-mt-1",variant:"outlined",fullWidth:!0,id:"familyName",name:"familyName",label:t("familyName"),onChange:r}))))};m.propTypes={t:i.default.func,setContactValues:i.default.func},t.default=(0,f.withContactsListLocales)(m)},73417:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(42895),c=n(89184),s=r(n(14534)),u=r(n(74020)),l=r(n(98799)),d=n(89896);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.default=function(e){var t=e.onListClose,n=e.onCreate,r=e.onClose,f=(0,i.useState)({}),p=(0,a.default)(f,2),h=p[0],m=p[1],v=(0,o.useClient)();return i.default.createElement(c.FixedDialog,{open:!0,onClose:r,title:i.default.createElement(l.default,null),content:i.default.createElement(u.default,{setContactValues:m}),actions:i.default.createElement(s.default,{onCancel:r,onSave:function(){return(0,d.handleSubmit)({client:v,contactValues:h,onCreate:n,onListClose:t})}})})}},98799:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540));t.default=(0,n(84258).withContactsListLocales)(function(e){var t=e.t;return a.default.createElement(a.default.Fragment,null,t("newContact"))})},89896:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.handleSubmit=void 0;var i=a(n(92207));r=(0,a(n(79092)).default)(i.default.mark(function e(t){var n,r,a,o,c,s,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.contactValues,a=t.onCreate,o=t.onListClose,c=r.givenName,s=r.familyName,!(!c&&!s)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.save({_type:"io.cozy.contacts",name:{familyName:s,givenName:c}});case 6:u=e.sent.data,a(u),o();case 10:case"end":return e.stop()}},e)})),t.handleSubmit=function(e){return r.apply(this,arguments)}},77604:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(76819),o=n(62878),c=r(n(39968)),s=r(n(41228)),u=n(84258),l=r(n(76253));t.default=(0,u.withContactsListLocales)(function(e){var t=e.filter,n=e.contacts,r=e.emptyMessage,u=e.onItemClick,d=e.dismissAction,f=(0,i.useI18n)().t,p=("loading"===n.fetchStatus||"pending"===n.fetchStatus)&&!n.lastFetch,h=function(e){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){var t=(0,o.getDisplayName)(e);return!!t&&t.toLowerCase().includes(n)})}(n.data),m=null!=r?r:f("emptyContact");return p?a.default.createElement("div",{className:"u-mv-2 u-ta-center"},a.default.createElement(c.default,{size:"xxlarge"})):0===h.length?a.default.createElement(s.default,null,m):a.default.createElement(l.default,{contacts:h,onItemClick:function(e){u&&(u(e),d())}})})},20708:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(22056)),o=r(n(53978)),c=r(n(5556)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),u=n(76819),l=n(42895),d=r(n(36040)),f=n(89184),p=n(41827),h=r(n(90774)),m=r(n(94283)),v=r(n(57759)),y=r(n(73112)),g=r(n(52591)),b=r(n(24242)),w=r(n(73417)),k=r(n(77604)),x=r(n(71703)),O=r(n(85561));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var E=function(e){var t=e.onItemClick,n=e.placeholder,r=e.addContactLabel,c=e.emptyMessage,_=e.dismissAction,E=e.contacts,C=(0,s.useState)(""),S=(0,i.default)(C,2),P=S[0],A=S[1],D=(0,s.useState)(!1),T=(0,i.default)(D,2),R=T[0],j=T[1],M=(0,b.default)().isMobile,I=(0,u.useI18n)().t,N=(0,f.useCozyDialog)({size:"large",open:!0,onClose:_}),z=N.dialogProps,F=N.dialogTitleProps,L=(0,l.useClient)();(0,g.default)(L,{"io.cozy.contacts":{created:E.fetch,updated:E.fetch}},[]),(0,y.default)(document,"resume",E.fetch);var B=function(e){A(e.target.value)},U=null!=r?r:I("addContact"),V=null!=n?n:I("searchContact");return s.default.createElement(f.TopAnchoredDialog,z,s.default.createElement(O.default,{variant:M?"inverted":"normal"},s.default.createElement(f.DialogCloseButton,{onClick:_})),s.default.createElement(p.DialogTitle,(0,a.default)({},F,{className:(0,o.default)(F.className,{"u-p-0 u-w-100":M})}),M?s.default.createElement(x.default,{filter:P,placeholder:V,onChange:B,onDismiss:_}):s.default.createElement(v.default,{variant:"outlined",type:"text",label:V,id:"contactsListModal-search-id",fullWidth:!0,value:P,onChange:B,autoFocus:!0})),s.default.createElement(p.DialogContent,{className:"u-p-0"},s.default.createElement("div",{className:"dialogContentInner"},s.default.createElement("div",{className:"styles__ContactsListModal__addContactContainer___3miFk"},s.default.createElement(d.default,(0,a.default)({className:M&&"u-mt-1",variant:"secondary",theme:"secondary",label:U||s.default.createElement(h.default,{icon:m.default})},U&&{startIcon:s.default.createElement(h.default,{icon:m.default})},{onClick:j}))),s.default.createElement(k.default,{filter:P,contacts:E,onItemClick:t,emptyMessage:c,dismissAction:_}))),R&&s.default.createElement(w.default,{onListClose:_,onCreate:t,onClose:function(){return j(!1)}}))};E.propTypes={onItemClick:c.default.func,placeholder:c.default.oneOfType([c.default.string,c.default.bool]),addContactLabel:c.default.oneOfType([c.default.string,c.default.bool]),emptyMessage:c.default.oneOfType([c.default.string,c.default.bool]),dismissAction:c.default.func,contacts:c.default.object},t.default=E},1758:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(5556)),o=r(n(96540)),c=n(42895),s=r(n(20708)),u=n(38254),l=function(e){var t=(0,u.buildContactsQuery)(),n=(0,c.useQueryAll)(t.definition,t.options);return o.default.createElement(s.default,(0,a.default)({contacts:n},e))};l.propTypes={onItemClick:i.default.func,placeholder:i.default.oneOfType([i.default.string,i.default.bool]),addContactLabel:i.default.oneOfType([i.default.string,i.default.bool]),emptyMessage:i.default.oneOfType([i.default.string,i.default.bool]),dismissAction:i.default.func},t.default=l},41228:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(53978)),c=r(n(96540)),s=r(n(39274)),u=["className"];t.default=function(e){var t=e.className,n=(0,i.default)(e,u);return c.default.createElement(s.default,(0,a.default)({className:(0,o.default)("u-ta-center u-pv-2",t)},n,{variant:"body1"}))}},71703:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=r(n(90774)),c=r(n(74710)),s=r(n(60610)),u=r(n(52577)),l=r(n(32859)),d=r(n(85561)),f={height:48},p=function(e){var t=e.filter,n=e.placeholder,r=e.onChange,a=e.onDismiss;return i.default.createElement(d.default,{variant:"inverted"},i.default.createElement(l.default,{square:!0,elevation:0,className:"u-flex u-flex-items-center u-pr-3 u-pl-half",style:f},i.default.createElement(c.default,{className:"u-mr-half",onClick:a,size:"medium"},i.default.createElement(o.default,{icon:s.default})),i.default.createElement(u.default,{type:"text",placeholder:n,id:n,value:t,onChange:r,autoFocus:!0,fullWidth:!0,disableUnderline:!0})))};p.propTypes={filter:a.default.string,placeholder:a.default.string,onChange:a.default.func,onDismiss:a.default.func},t.default=p},46690:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(20708)),u=r(n(1758)),l=n(84258),d=["contacts"],f=function(e){var t=e.contacts,n=(0,i.default)(e,d);return t?c.default.createElement(s.default,(0,a.default)({contacts:t},n)):c.default.createElement(u.default,n)};f.propTypes={onItemClick:o.default.func,placeholder:o.default.oneOfType([o.default.string,o.default.bool]),addContactLabel:o.default.oneOfType([o.default.string,o.default.bool]),emptyMessage:o.default.oneOfType([o.default.string,o.default.bool]),dismissAction:o.default.func,contacts:o.default.object},t.default=(0,l.withContactsListLocales)(f)},38254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildContactsQuery=void 0;var r=n(42895),a=n(62878),i=r.fetchPolicies.olderThan(3e4);t.buildContactsQuery=function(){return{definition:function(){return(0,r.Q)(a.CONTACTS_DOCTYPE).limitBy(1e3)},options:{as:"".concat(a.CONTACTS_DOCTYPE),fetchPolicy:i}}}},84258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withContactsListLocales=t.locales=void 0;var r=n(76819),a={en:{cancel:"Cancel",save:"Save",newContact:"New contact",coordinates:"Coordinates",givenName:"Firstname",familyName:"Lastname",addContact:"Add a contact",searchContact:"Search a contact",emptyContact:"No contact"},fr:{cancel:"Annuler",save:"Enregistrer",newContact:"Nouveau contact",coordinates:"Coordonn\xe9es",givenName:"Pr\xe9nom",familyName:"Nom",addContact:"Ajouter un contact",searchContact:"Rechercher un contact",emptyContact:"Aucun contact"}};t.locales=a,t.withContactsListLocales=(0,r.withLocales)(a)},87775:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(22056)),i=r(n(5556)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(42895),s=r(n(36040)),u=r(n(18430)),l=r(n(71477)),d=r(n(1358)),f=r(n(39274)),p=n(76819),h=r(n(13779));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var v=function(e){var t=e.onClose,n=e.onSubmit,r=e.isLoading,i=e.isOIDC,h=e.error,m=e.resetRedirection,v=(0,p.useI18n)().t,y=(0,c.useClient)(),g=(0,o.useState)(""),b=(0,a.default)(g,2),w=b[0],k=b[1],x=function(e){e.preventDefault(),n(w)},O=(0,o.useMemo)(function(){var e=new URL("/auth/passphrase_reset",y.getStackClient().uri);return m&&e.searchParams.set("from",m),e.href},[y,m]);return o.default.createElement(u.default,{open:!0,onClose:t,title:v("authentification-dialog.".concat(i?"title-oidc":"title")),icon:l.default,content:o.default.createElement("form",{onSubmit:x},o.default.createElement(f.default,{variant:"body1",className:"u-ta-center"},v("authentification-dialog.subtitle")),o.default.createElement(d.default,{autoFocus:!0,disabled:r,value:w,onChange:function(e){k(e.currentTarget.value)},className:"u-mv-1",label:v("authentification-dialog.".concat(i?"label-oidc":"label")),error:!!h,helperText:h&&v("authentification-dialog.errors.".concat(h)),fullWidth:!0,required:!0}),o.default.createElement(f.default,{variant:"body1",component:"a",color:"primary",href:O,className:"u-link"},v("authentification-dialog.forgotten-password"))),actions:o.default.createElement(s.default,{busy:r,disabled:r||0===w.length,onClick:x,label:v("authentification-dialog.unlock"),fullWidth:!0})})};v.defaultProps={isOIDC:!1},v.propTypes={onClose:i.default.func,onSubmit:i.default.func,isLoading:i.default.bool,isOIDC:i.default.bool,error:i.default.string,resetRedirection:i.default.string},t.default=(0,h.default)(v)},13779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=t.default=void 0;var r=n(76819),a={en:{cancel:"Cancel",allow:"Allow","authentification-dialog":{title:"Login","title-oidc":"Twake Pass",subtitle:"For security, please confirm your identity",label:"Twake password","label-oidc":"Twake Pass password",abort:"Leave",unlock:"Unlock","forgotten-password":"I forgot my password",errors:{invalid_password:"Incorrect password, try again.",server_error:"Something went wrong with the server. Please, reload the page."}}},fr:{cancel:"Annuler",allow:"Autoriser","authentification-dialog":{title:"Authentification","title-oidc":"Twake Pass",subtitle:"Par s\xe9curit\xe9, merci de confirmer votre identit\xe9",label:"Mot de passe Twake","label-oidc":"Mot de passe Twake Pass",abort:"Quitter",unlock:"D\xe9verrouiller","forgotten-password":"J'ai oubli\xe9 mon mot de passe",errors:{invalid_password:"Mot de passe incorrect, essayer \xe0 nouveau.",server_error:"Une erreur s'est produite. Merci de recharger la page."}}},ru:{cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",allow:"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ","authentification-dialog":{title:"Ð’Ñ…Ð¾Ð´","title-oidc":"Twake Pass",subtitle:"Ð”Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÑƒ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ",label:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Twake","label-oidc":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Twake Pass",abort:"Ð’Ñ‹Ð¹Ñ‚Ð¸",unlock:"Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","forgotten-password":"Ð¯ Ð·Ð°Ð±Ñ‹Ð» Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",errors:{invalid_password:"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.",server_error:"Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ."}}},vi:{cancel:"Há»§y",allow:"Cho ph\xe9p","authentification-dialog":{title:"ÄÄƒng nháº­p","title-oidc":"Twake Pass",subtitle:"Äá»ƒ báº£o máº­t, vui l\xf2ng x\xe1c nháº­n danh t\xednh cá»§a báº¡n",label:"Máº­t kháº©u Twake","label-oidc":"Máº­t kháº©u Twake Pass",abort:"Rá»i khá»i",unlock:"Má»Ÿ kh\xf3a","forgotten-password":"T\xf4i qu\xean máº­t kháº©u",errors:{invalid_password:"Máº­t kháº©u kh\xf4ng ch\xednh x\xe1c, h\xe3y thá»­ láº¡i.",server_error:"C\xf3 lá»—i xáº£y ra vá»›i m\xe1y chá»§. Vui l\xf2ng táº£i láº¡i trang."}}}};t.locales=a,t.default=(0,r.withOnlyLocales)(a)},54952:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FieldContainer=void 0;var a=r(n(21259)),i=r(n(16193)),o=r(n(26396)),c=r(n(22056)),s=r(n(39892)),u=r(n(53978)),l=r(n(90179)),d=r(n(5556)),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),p=r(n(3855)),h=r(n(71842)),m=r(n(20221)),v=r(n(84235)),y=r(n(65270)),g=["hideLabel","showLabel","fullwidth","secondaryComponent","inputRef"],b=["className","variant"];function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O="styles__c-label___24c92",_="styles__o-field-input-action___3pU38",E="styles__o-side-fullwidth___ztued",C={autoCapitalize:d.default.string,autoComplete:d.default.string,onKeyUp:d.default.func},S=function(e){var t=e.hideLabel,n=e.showLabel,r=e.fullwidth,a=e.secondaryComponent,l=e.inputRef,d=(0,s.default)(e,g),p=(0,f.useState)(!1),h=(0,c.default)(p,2),m=h[0],y=h[1],b=function(){y(function(e){return!e})};return f.default.createElement("div",{className:"styles__o-field-input___1nDVQ"},!a&&f.default.createElement("div",{className:(0,u.default)(O,_,(0,o.default)({},E,r)),onClick:b},m?t:n),a&&f.default.createElement("div",{className:(0,u.default)(_,(0,o.default)({},E,r)),onClick:b},a({visible:m})),f.default.createElement(v.default,(0,i.default)({},d,{ref:l,fullwidth:r,type:m?"text":"password"})))};S.propTypes=x(x({},v.default.propTypes),{},{hideLabel:d.default.string,showLabel:d.default.string}),S.defaultProps=x({},v.default.defaultProps);var P=function(e){var t=e.className,n=e.variant,r=(0,s.default)(e,b);return f.default.createElement("div",(0,i.default)({className:(0,u.default)("styles__o-field___2B6P3",(0,o.default)({},"styles__o-field--inline___3D2bq","inline"===n),t)},r))};t.FieldContainer=P;var A=function(e){var t=e.autoCapitalize,n=e.autoComplete,r=e.className,c=e.disabled,s=e.fieldProps,d=e.labelProps,g=e.fullwidth,b=e.label,w=e.id,k=e.inputRef,_=e.name,A=e.type,T=e.value,R=e.placeholder,j=e.error,M=e.onChange,I=e.onKeyUp,N=e.onFocus,z=e.onBlur,F=e.readOnly,L=e.secondaryLabels,B=e.secondaryComponent,U=e.side,V=e.size,H=e.variant,q=x(x({},void 0!==T?{value:T}:{}),M?{onChange:M}:{});return f.default.createElement(P,{className:r,variant:H},f.default.createElement(p.default,(0,i.default)({htmlFor:w},d),b),U&&f.default.createElement("div",{className:(0,u.default)("styles__o-side___Pf8h0",O,(0,o.default)({},E,g))},U),function(r){switch(r){case"select":return f.default.createElement(h.default,(0,i.default)({},l.default.apply(void 0,[e].concat((0,a.default)(Object.keys(C)))),{value:e.value||void 0}));case"textarea":return f.default.createElement(m.default,(0,i.default)({autoCapitalize:t,disabled:c,id:w,name:_,placeholder:R,error:j,onKeyUp:I,onFocus:N,onBlur:z,readOnly:F},q));case"password":return f.default.createElement(S,(0,i.default)({autoCapitalize:t,autoComplete:n,disabled:c,fullwidth:g,id:w,inputRef:k,name:_,type:r,placeholder:R,error:j},q,{onKeyUp:I,onFocus:N,onBlur:z,readOnly:F,size:V},s,L,{secondaryComponent:B}));case"contact":return f.default.createElement(y.default,{placeholder:R,onChange:M,selectedContact:T});case"date":case"email":case"url":case"text":case"number":return f.default.createElement(v.default,(0,i.default)({autoCapitalize:t,autoComplete:n,disabled:c,fullwidth:g,id:w,ref:k,name:_,type:r,placeholder:R,error:j},q,{onKeyUp:I,onFocus:N,onBlur:z,readOnly:F,size:V},s));default:throw Error("".concat(r," is not a valid type. Type must be ").concat(D.join(", ")))}}(A))},D=["date","email","password","select","textarea","text","url","number","contact"];A.propTypes=x(x({},C),{},{disabled:d.default.bool,labelProps:d.default.object,fieldProps:d.default.object,fullwidth:d.default.bool,label:d.default.node.isRequired,id:d.default.string,name:d.default.string,type:d.default.oneOf(D),value:function(e,t,n){if(void 0!==e[t]){if("select"===e.type&&"object"!=typeof e[t])return Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected an object for a Field value with type=select.");else if("select"!==e.type&&"string"!=typeof e[t])return Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected value to be a string.")}},placeholder:d.default.string,error:d.default.bool,onChange:d.default.func,onKeyUp:d.default.func,onFocus:d.default.func,onBlur:d.default.func,side:d.default.node,size:d.default.oneOf(["tiny","medium","large"]),secondaryLabels:d.default.object,secondaryComponent:d.default.func}),A.defaultProps={fieldProps:{},labelProps:{},fullwidth:!1,label:"",id:"",type:"text",value:void 0,placeholder:"",error:!1,size:"large",secondaryLabels:{}},t.default=A},41774:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.checkImageSource=void 0;var i=a(n(92207));r=(0,a(n(79092)).default)(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=null,a=function(){clearTimeout(n),r.onload=r.onerror=null,r.src="",r=null},e.abrupt("return",new Promise(function(e,a){(r=new Image).onload=e,r.onerror=a,r.src=t,n=setTimeout(function(){return a(Error("Loading image took too long"))},1e4)}).then(function(){return a()}));case 5:case"end":return e.stop()}},e)})),t.checkImageSource=function(e){return r.apply(this,arguments)}},47743:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FileImageLoader=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(5556)),h=n(96540),m=n(42895),v=n(39046),y=r(n(40918)),g=n(81396),b=n(41774),w="PENDING",k="LOADING_LINK",x="LOADING_FALLBACK",O="LOADED",_="GET_LINK",E=function(e){(0,u.default)(g,e);var t,n,r,p,h,m=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(g);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function g(){var e;(0,o.default)(this,g);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=m.call.apply(m,[this].concat(n)),(0,f.default)((0,s.default)(e),"state",{src:null}),(0,f.default)((0,s.default)(e),"_mounted",!1),(0,f.default)((0,s.default)(e),"handleCreate",function(t){var n=e.props,r=n.file,a=n.linkType;r._id===t._id&&t.format===a&&e.loadLink()}),e}return(0,c.default)(g,[{key:"componentDidMount",value:function(){var e=this.props.client;this._mounted=!0,this.status=w,this.loadNextSrc(),this.realtime=e.plugins.realtime,this.type="io.cozy.files.thumbnails",this.realtime.subscribe("created",this.type,this.handleCreate)}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.img&&(this.img.onload=this.img.onerror=null,this.img.src=""),this.realtime&&this.realtime.unsubscribe("created",this.type,this.handleCreate)}},{key:"getFileId",value:function(e){return e.id||e._id}},{key:"loadNextSrc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.file;(0,v.isEncrypted)(t)||(this.status===w?this.getLink():this.status===_?this.loadLink():this.status===k?this.loadFallback():this.status===x&&(y.default.warn("failed loading thumbnail",e),this.setState({status:"FAILED"}),this.props.onError(e)))}},{key:"fetchFileLinks",value:(n=(0,i.default)(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.client.collection("io.cozy.files").get(this.getFileId(t));case 2:if((n=e.sent).data.links){e.next=5;break}throw Error("Could not fetch file links");case 5:return e.abrupt("return",n.data.links);case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getLink",value:(r=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status=_,n=(t=this.props).file,r=t.linkType,i=t.client,e.prev=2,o=!!n.links&&n.links[r]){e.next=6;break}throw Error("".concat(r," link is not available"));case 6:return c=i.getStackClient().uri+o,e.next=9,(0,b.checkImageSource)(c);case 9:this._mounted&&(this.status=O,this.setState({src:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.loadNextSrc(e.t0);case 15:case"end":return e.stop()}},e,this,[[2,12]])})),function(){return r.apply(this,arguments)})},{key:"loadLink",value:(p=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.status=k,n=(t=this.props).file,r=t.linkType,i=t.client,e.prev=2,e.next=5,this.fetchFileLinks(n);case 5:if(o=e.sent[r]){e.next=9;break}throw Error("".concat(r," link is not available"));case 9:return c=i.getStackClient().uri+o,e.next=12,(0,b.checkImageSource)(c);case 12:this._mounted&&(this.status=O,this.setState({src:c})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),y.default.error(e.t0),this.loadNextSrc(e.t0);case 19:case"end":return e.stop()}},e,this,[[2,15]])})),function(){return p.apply(this,arguments)})},{key:"loadFallback",value:(h=(0,i.default)(a.default.mark(function e(){var t,n,r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status=x,n=(t=this.props).file,r=t.client,e.prev=2,"pdf"!==n.class){e.next=5;break}throw Error("No pdf files fallback");case 5:return e.next=7,r.collection("io.cozy.files",{driveId:n.driveId}).getDownloadLinkById(this.getFileId(n),n.name);case 7:return i=e.sent,e.next=10,(0,b.checkImageSource)(i);case 10:this._mounted&&(this.status=O,this.setState({src:i})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),this.loadNextSrc(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,13]])})),function(){return h.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.src,t=this.props,n=t.render,r=t.renderFallback;return this.context&&this.context.url?n(this.context.url):e?n(e):r?r():null}}]),g}(h.Component);t.FileImageLoader=E,(0,f.default)(E,"contextType",g.EncryptedContext),E.propTypes={file:p.default.object.isRequired,render:p.default.func.isRequired,linkType:p.default.oneOf(["tiny","small","medium","large","icon"]),onError:p.default.func,renderFallback:p.default.func},E.defaultProps={linkType:"small",onError:function(){}},t.default=(0,m.withClient)(E)},34642:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(22056)),o=r(n(39892)),c=r(n(5556)),s=h(n(96540)),u=n(89184),l=r(n(41827)),d=h(n(15881)),f=["options","action","doctype","children","closable","showCloseButton","create","tag","onComplete","onDismiss","iframeProps","Component"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var m=function(e){var t=e.options,n=e.action,r=e.doctype,c=e.children,l=e.closable,p=e.showCloseButton,h=e.create,m=e.tag,v=e.onComplete,y=e.onDismiss,g=e.iframeProps,b=e.Component,w=(0,o.default)(e,f),k=(0,s.useState)(!1),x=(0,i.default)(k,2),O=x[0],_=x[1],E=function(){return _(!1)},C=function(){E(),y&&y()},S=[s.default.cloneElement(c,{key:"opener",onClick:function(e){e.preventDefault(),e.stopPropagation(),_(!0)}})];return O&&S.push(s.default.createElement(b,(0,a.default)({key:"intent-modal",open:O,onClose:l&&C},w),l&&p&&s.default.createElement(u.DialogCloseButton,{onClick:C}),s.default.createElement(d.default,{action:n,type:r,data:t,create:h,onCancel:C,onTerminate:function(e){E(),v&&v(e)},iframeProps:g}))),s.default.createElement(m,null,S)};m.propTypes={children:c.default.element.isRequired,onComplete:c.default.func,onDismiss:c.default.func,action:c.default.string.isRequired,doctype:c.default.string.isRequired,closable:c.default.bool.isRequired,showCloseButton:c.default.bool.isRequired,tag:c.default.string.isRequired,Component:c.default.oneOfType([c.default.func,c.default.object]),iframeProps:d.iframeProps},m.defaultProps={tag:"span",closable:!0,Component:l.default,showCloseButton:!0},t.default=m},15881:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.iframeProps=t.default=void 0;var a=r(n(16193)),i=r(n(82274)),o=r(n(65044)),c=r(n(41972)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(58156)),p=r(n(5556)),h=r(n(96540)),m=n(42895),v=n(15498),y=r(n(39968));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={closeable:!1,exposeIntentFrameRemoval:!0},k=function(e){(0,s.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(r);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,d.default)((0,c.default)(e),"state",{loading:!1}),(0,d.default)((0,c.default)(e),"onFrameLoaded",function(){var t,n;e.setState({loading:!1}),null==(t=e.props.iframeProps)||null==(n=t.setIsLoading)||n.call(t,!1)}),e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.action,a=n.data,i=n.type,o=n.onCancel,c=n.onError,s=n.onTerminate,u=n.client;console.warn("Be carful to use `withBreakpoints()` and not `useBreakpoints()` in intents. See https://github.com/cozy/cozy-ui/issues/1807"),e=this.props.create?this.props.create:new v.Intents({client:u}).create,this.setState({loading:!0}),e(r,i,b(b({},w),a)).start(this.intentViewer,this.onFrameLoaded,this.props.onHideCross,this.props.onShowCross).then(function(e){e?s&&s(e):o()}).catch(function(e){var n,r;null==c||c(e),t.setState({error:e,loading:!1}),null==(n=t.props.iframeProps)||null==(r=n.setIsLoading)||r.call(n,!1)})}},{key:"render",value:function(){var e=this,t=this.props.iframeProps,n=this.state,r=n.error,i=n.loading;return h.default.createElement("div",(0,a.default)({ref:function(t){return e.intentViewer=t},className:"styles__intentContainer___5Zqqq","aria-busy":i},(0,f.default)(t,"wrapperProps")),i&&h.default.createElement(y.default,(0,a.default)({size:"xxlarge"},(0,f.default)(t,"spinnerProps"))),r&&h.default.createElement("div",{className:"styles__intentContainer__error___YO3Lz"},r.message))}}]),r}(h.default.Component),x=p.default.shape({wrapperProps:p.default.object,spinnerProps:p.default.object,setIsLoading:p.default.func});t.iframeProps=x,k.propTypes={action:p.default.string.isRequired,create:p.default.func,type:p.default.string.isRequired,data:p.default.object,onCancel:p.default.func,onError:p.default.func,onTerminate:p.default.func.isRequired,iframeProps:x,onHideCross:p.default.func,onShowCross:p.default.func},k.defaultProps={data:{}},t.default=(0,m.withClient)(k)},53364:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=r(n(54192)),c=function(e){var t=e.onClose;return i.default.createElement(o.default,{variant:"AIAssistant",onClose:t})};c.propTypes={onClose:a.default.func.isRequired},t.default=c},63878:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=r(n(9553)),l=["max","konnectorName","onClose"],d=function(e){var t=e.max,n=e.konnectorName,r=e.onClose,o=(0,i.default)(e,l);return c.default.createElement(s.default,(0,a.default)({variant:"maxAccountsByKonnector",contentInterpolation:{smart_count:t,konnectorName:n},onClose:r},o))};d.propTypes={max:o.default.number.isRequired,konnectorName:o.default.string.isRequired,onClose:o.default.func.isRequired},t.default=(0,u.default)(d)},3804:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=r(n(9553)),l=["max","onClose"],d=function(e){var t=e.max,n=e.onClose,r=(0,i.default)(e,l);return c.default.createElement(s.default,(0,a.default)({variant:"maxAccounts",contentInterpolation:{smart_count:t},onClose:n},r))};d.propTypes={max:o.default.number.isRequired,onClose:o.default.func.isRequired},t.default=(0,u.default)(d)},43098:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=r(n(9553)),l=["days","onClose"],d=function(e){var t=e.days,n=e.onClose,r=(0,i.default)(e,l);return c.default.createElement(s.default,(0,a.default)({variant:"maxDaysToCapture",contentInterpolation:{smart_count:t},onClose:n},r))};d.propTypes={days:o.default.number.isRequired,onClose:o.default.func.isRequired},t.default=(0,u.default)(d)},24649:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=r(n(9553)),l=["max","onClose"],d=function(e){var t=e.max,n=e.onClose,r=(0,i.default)(e,l);return c.default.createElement(s.default,(0,a.default)({variant:"maxPapers",contentInterpolation:{smart_count:t},onClose:n},r))};d.propTypes={max:o.default.number.isRequired,onClose:o.default.func.isRequired},t.default=(0,u.default)(d)},38178:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=["onClose","isPublic"],l=function(e){var t=e.onClose,n=e.isPublic,r=(0,i.default)(e,u);return c.default.createElement(s.default,(0,a.default)({variant:"onlyOffice",onClose:t,isPublic:n},r))};l.propTypes={onClose:o.default.func.isRequired,isPublic:o.default.bool},l.defaultProps={isPublic:!1},t.default=l},31443:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=["onClose"],l=function(e){var t=e.onClose,n=(0,i.default)(e,u);return c.default.createElement(s.default,(0,a.default)({variant:"passwordSharing",onClose:t,isPublic:!1},n))};l.propTypes={onClose:o.default.func.isRequired},t.default=l},54192:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(22056)),s=r(n(5556)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),l=n(76819),d=n(42895),f=n(40543),p=n(7127),h=n(84660),m=r(n(36040)),v=n(89184),y=r(n(90774)),g=r(n(46734)),b=r(n(41666)),w=r(n(39968)),k=r(n(39274)),x=n(63791),O=r(n(9553));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var C=function(e){var t=e.variant,n=e.onClose,r=e.isPublic,s=e.isIapEnabled,O=e.contentInterpolation,_=(0,d.useInstanceInfo)(),C=(0,l.useI18n)().t,S=(0,h.useWebviewIntent)(),P=(0,u.useState)(null),A=(0,c.default)(P,2),D=A[0],T=A[1];if((0,u.useEffect)(function(){var e;(e=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==S?void 0:S.call("isAvailable","iap");case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=!1;case 11:T(e.t2);case 13:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[S]),!_.isLoaded)return u.default.createElement(v.IllustrationDialog,{open:!0,size:"small",content:u.default.createElement("div",{className:"u-h-5"},u.default.createElement(w.default,{size:"xxlarge",noMargin:!0,middle:!0})),onClose:n});var R=!(0,p.isFlagshipApp)()||(0,p.isFlagshipApp)()&&s&&D,j=(0,f.buildPremiumLink)(_),M=(0,x.makeType)(_,r,j);return u.default.createElement(v.IllustrationDialog,{open:!0,size:"small",actionsLayout:"column",title:u.default.createElement("div",{className:"u-flex u-flex-column u-flex-items-center"},u.default.createElement(y.default,{icon:g.default,width:128,height:128}),u.default.createElement(k.default,{variant:"h3",className:"u-mt-1"},C("".concat(t,"Paywall.").concat(M,".title")))),actions:u.default.createElement(m.default,{onClick:function(){return"premium"===M&&R?window.open(j,"_self"):n()},label:C(null===D?"action.loading":R?"".concat(t,"Paywall.").concat(M,".action"):"action.withoutIAP"),busy:null===D}),content:u.default.createElement(b.default,{content:C("".concat(t,"Paywall.").concat(M,".content"),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},O))}),onClose:n})};C.propTypes={variant:s.default.string.isRequired,onClose:s.default.func.isRequired,isPublic:s.default.bool,isIapEnabled:s.default.bool,contentInterpolation:s.default.object},C.defaultProps={isPublic:!1,isIapEnabled:!1,contentInterpolation:{}},t.default=(0,O.default)(C)},22738:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(54192)),u=["onClose"],l=function(e){var t=e.onClose,n=(0,i.default)(e,u);return c.default.createElement(s.default,(0,a.default)({variant:"quota",onClose:t},n))};l.propTypes={onClose:o.default.func.isRequired},t.default=l},63791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeType=void 0;var r=n(40543);t.makeType=function(e,t,n){var a=(0,r.arePremiumLinksEnabled)(e);return a&&t?"public":a&&n?"premium":"default"}},42574:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"MaxAccountsByKonnectorPaywall",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MaxAccountsPaywall",{enumerable:!0,get:function(){return i.default}}),r(n(38178)),r(n(31443));var a=r(n(63878)),i=r(n(3804));r(n(24649)),r(n(22738)),r(n(43098)),r(n(53364))},9553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=(0,n(76819).withOnlyLocales)({en:{action:{loading:"Loading...",withoutIAP:"I understand"},onlyOfficePaywall:{premium:{title:"Upgrade your plan",content:"Your plan doesn't allow you to **modify your documents online**.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan.",action:"Check our plans"},public:{title:"Information",content:"You cannot edit this file online. Please ask the document owner to update their Cozy subscription.",action:"I understand"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},passwordSharingPaywall:{premium:{title:"Upgrade your plan",content:"Your plan doesn't allow you to **share your passwords**.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan.",action:"Check our plans"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},maxAccountsByKonnectorPaywall:{premium:{title:"Upgrade your plan",content:"Your plan allows you to connect up to **%{smart_count} account %{konnectorName}** in your Cozy.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan. |||| Your plan allows you to connect up to **%{smart_count} accounts %{konnectorName}** in your Cozy.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan.",action:"Check our plans"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},maxAccountsPaywall:{premium:{title:"Upgrade your plan",content:"Your plan allows you to connect up to **%{smart_count} account** in your Cozy.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan. |||| Your plan allows you to connect up to **%{smart_count} accounts** in your Cozy.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan.",action:"Check our plans"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},maxPapersPaywall:{premium:{title:"Upgrade your plan",content:"Your plan allows you to manually add up to **%{smart_count} paper**.\n\nTo unlock this feature, or simply support us, you can modify the plan of your Cozy. |||| Your plan allows you to manually add up to **%{smart_count} papers**.\n\nTo unlock this feature, or simply support us, you can modify the plan of your Cozy.",action:"Check our plans"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},quotaPaywall:{premium:{title:"Upgrade your plan",content:"Your disk storage is full.\n\nPlease remove files, empty your trash or upgrade your plan before uploading files.",action:"Check our plans"},default:{title:"Information",content:"Your disk storage is full.\n\nPlease remove files, empty your trash before uploading files.",action:"I understand"}},maxDaysToCapturePaywall:{premium:{title:"Upgrade your plan",content:"Your plan allows you to capture only **%{smart_count} day of trips**.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan. |||| Your plan allows you to capture only **%{smart_count} days of trips**.\n\nTo unlock this feature, or simply support us, you can change your Cozy plan.",action:"Check our plans"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}},AIAssistantPaywall:{premium:{title:"This feature isn't available for you",content:"AI features is only available on premium. You need to upgrade your plan to access to this feature.",action:"Upgrade my plan"},default:{title:"Information",content:"Your current plan does not allow you to take advantage of this feature.",action:"I understand"}}},fr:{action:{loading:"Chargement...",withoutIAP:"J'ai compris"},onlyOfficePaywall:{premium:{title:"Augmentez votre offre",content:"Votre offre ne vous permet pas de **modifier vos documents en ligne**.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},public:{title:"Information",content:"Vous ne pouvez pas \xe9diter ce fichier en ligne. Merci de demander au propri\xe9taire du document de mettre \xe0 jour son abonnement Cozy.",action:"J'ai compris"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},passwordSharingPaywall:{premium:{title:"Augmentez votre offre",content:"Votre offre ne vous permet pas de **partager vos mots de passe**.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},maxAccountsByKonnectorPaywall:{premium:{title:"Augmentez votre offre",content:"Votre offre vous permet de connecter jusqu'\xe0 **%{smart_count} compte %{konnectorName}** dans votre Cozy.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy. |||| Votre offre vous permet de connecter jusqu'\xe0 **%{smart_count} comptes %{konnectorName}** dans votre Cozy.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},maxAccountsPaywall:{premium:{title:"Augmentez votre offre",content:"Votre offre vous permet de connecter jusqu'\xe0 **%{smart_count} compte** dans votre Cozy.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy. |||| Votre offre vous permet de connecter jusqu'\xe0 **%{smart_count} comptes** dans votre Cozy.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},maxPapersPaywall:{premium:{title:"Augmentez votre offre",content:"Votre offre vous permet d'ajouter manuellement jusqu'\xe0 **%{smart_count} papier**.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy. |||| Votre offre vous permet d'ajouter manuellement jusqu'\xe0 **%{smart_count} papiers**.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},quotaPaywall:{premium:{title:"Augmentez votre offre",content:"Votre espace de stockage est plein.\n\nVeuillez supprimer des fichiers, vider votre corbeille ou changer d'offre avant d'importer de nouveaux fichiers.",action:"Voir les offres"},default:{title:"Information",content:"Votre espace de stockage est plein.\n\nVeuillez supprimer des fichiers, et vider votre corbeille avant d'importer de nouveaux fichiers.",action:"J'ai compris"}},maxDaysToCapturePaywall:{premium:{title:"Augmentez votre offre",content:"Vous avez atteint la limite de **%{smart_count} jour de trajet sauvegard\xe9** inclus dans votre offre.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy. |||| Vous avez atteint la limite des **%{smart_count} jours de trajets sauvegard\xe9s** inclus dans votre offre.\n\nPour d\xe9bloquer cette fonctionnalit\xe9, ou simplement nous soutenir, vous pouvez modifier l'offre de votre Cozy.",action:"Voir les offres"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas de profiter de cette fonctionnalit\xe9.",action:"J'ai compris"}},AIAssistantPaywall:{premium:{title:"Cette fonctionnalit\xe9 n'est pas disponible pour vous",content:"Les fonctionnalit\xe9s d'IA sont uniquement disponibles avec l'abonnement premium. Vous devez mettre \xe0 niveau votre offre pour acc\xe9der \xe0 cette fonctionnalit\xe9.",action:"Mettre \xe0 niveau mon forfait"},default:{title:"Information",content:"Votre offre actuelle ne vous permet pas d'utiliser cette fonctionnalit\xe9.",action:"Je comprends"}}},ru:{action:{loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...",withoutIAP:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},onlyOfficePaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ **Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¾Ð½Ð»Ð°Ð¹Ð½**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},public:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ñ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð» Ð¾Ð½Ð»Ð°Ð¹Ð½. ÐŸÐ¾Ð¿Ñ€Ð¾ÑÐ¸Ñ‚Ðµ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ Cozy.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},passwordSharingPaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ **Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð¿Ð°Ñ€Ð¾Ð»ÑÐ¼Ð¸**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},maxAccountsByKonnectorPaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° %{konnectorName}** Ð² Ð²Ð°ÑˆÐµÐ¼ Cozy.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy. |||| Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð² %{konnectorName}** Ð² Ð²Ð°ÑˆÐµÐ¼ Cozy.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},maxAccountsPaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°** Ð² Ð²Ð°ÑˆÐµÐ¼ Cozy.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy. |||| Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð²** Ð² Ð²Ð°ÑˆÐµÐ¼ Cozy.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},maxPapersPaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð»Ð°Ð½ ÑÐ²Ð¾ÐµÐ³Ð¾ Cozy. |||| Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾ **%{smart_count} Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð»Ð°Ð½ ÑÐ²Ð¾ÐµÐ³Ð¾ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},quotaPaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð”Ð¸ÑÐºÐ¾Ð²Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾.\n\nÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑƒÐ´Ð°Ð»Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹, Ð¾Ñ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ Ð¸Ð»Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿Ð»Ð°Ð½ Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹ Ñ„Ð°Ð¹Ð»Ð¾Ð².",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð”Ð¸ÑÐºÐ¾Ð²Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾.\n\nÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑƒÐ´Ð°Ð»Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹, Ð¾Ñ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹ Ñ„Ð°Ð¹Ð»Ð¾Ð².",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},maxDaysToCapturePaywall:{premium:{title:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿Ð»Ð°Ð½",content:"Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ **%{smart_count} Ð´ÐµÐ½ÑŒ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy. |||| Ð’Ð°Ñˆ Ð¿Ð»Ð°Ð½ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ **%{smart_count} Ð´Ð½ÐµÐ¹ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº**.\n\nÐ§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð½Ð°Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½ Cozy.",action:"ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°ÑˆÐ¸ Ð¿Ð»Ð°Ð½Ñ‹"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},AIAssistantPaywall:{premium:{title:"Ð­Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð´Ð»Ñ Ð²Ð°Ñ",content:"Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð˜Ð˜ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼-Ð¿Ð»Ð°Ð½Ðµ. Ð’Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð¿Ð»Ð°Ð½, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÑ‚Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.",action:"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ð»Ð°Ð½"},default:{title:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",content:"Ð’Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð»Ð°Ð½ Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.",action:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}}},vi:{action:{loading:"Äang táº£i...",withoutIAP:"T\xf4i hiá»ƒu"},onlyOfficePaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n kh\xf4ng cho ph\xe9p **chá»‰nh sá»­a t\xe0i liá»‡u trá»±c tuyáº¿n**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},public:{title:"Th\xf4ng tin",content:"Báº¡n kh\xf4ng thá»ƒ chá»‰nh sá»­a táº­p tin n\xe0y trá»±c tuyáº¿n. Vui l\xf2ng y\xeau cáº§u chá»§ sá»Ÿ há»¯u t\xe0i liá»‡u cáº­p nháº­t Ä‘Äƒng k\xfd Cozy cá»§a há».",action:"T\xf4i hiá»ƒu"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},passwordSharingPaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n kh\xf4ng cho ph\xe9p **chia sáº» máº­t kháº©u**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},maxAccountsByKonnectorPaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n káº¿t ná»‘i tá»‘i Ä‘a **%{smart_count} t\xe0i khoáº£n %{konnectorName}** trong Cozy cá»§a báº¡n.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh. |||| G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n káº¿t ná»‘i tá»‘i Ä‘a **%{smart_count} t\xe0i khoáº£n %{konnectorName}** trong Cozy cá»§a báº¡n.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},maxAccountsPaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n káº¿t ná»‘i tá»‘i Ä‘a **%{smart_count} t\xe0i khoáº£n** trong Cozy cá»§a báº¡n.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh. |||| G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n káº¿t ná»‘i tá»‘i Ä‘a **%{smart_count} t\xe0i khoáº£n** trong Cozy cá»§a báº¡n.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},maxPapersPaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n th\xeam thá»§ c\xf4ng tá»‘i Ä‘a **%{smart_count} giáº¥y tá»**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ sá»­a Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh. |||| G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n th\xeam thá»§ c\xf4ng tá»‘i Ä‘a **%{smart_count} giáº¥y tá»**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ sá»­a Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},quotaPaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"Dung lÆ°á»£ng Ä‘Ä©a cá»§a báº¡n Ä‘\xe3 Ä‘áº§y.\n\nVui l\xf2ng x\xf3a c\xe1c táº­p tin, l\xe0m trá»‘ng th\xf9ng r\xe1c hoáº·c n\xe2ng cáº¥p g\xf3i trÆ°á»›c khi táº£i l\xean táº­p tin.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"Dung lÆ°á»£ng Ä‘Ä©a cá»§a báº¡n Ä‘\xe3 Ä‘áº§y.\n\nVui l\xf2ng x\xf3a c\xe1c táº­p tin, l\xe0m trá»‘ng th\xf9ng r\xe1c trÆ°á»›c khi táº£i l\xean táº­p tin.",action:"T\xf4i hiá»ƒu"}},maxDaysToCapturePaywall:{premium:{title:"N\xe2ng cáº¥p g\xf3i cá»§a báº¡n",content:"G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n chá»‰ ghi láº¡i **%{smart_count} ng\xe0y chuyáº¿n Ä‘i**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh. |||| G\xf3i cá»§a báº¡n cho ph\xe9p báº¡n chá»‰ ghi láº¡i **%{smart_count} ng\xe0y chuyáº¿n Ä‘i**.\n\nÄá»ƒ má»Ÿ kh\xf3a t\xednh nÄƒng n\xe0y, hoáº·c Ä‘Æ¡n giáº£n l\xe0 há»— trá»£ ch\xfang t\xf4i, báº¡n c\xf3 thá»ƒ thay Ä‘á»•i g\xf3i Cozy cá»§a m\xecnh.",action:"Xem c\xe1c g\xf3i cá»§a ch\xfang t\xf4i"},default:{title:"Th\xf4ng tin",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p báº¡n táº­n dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}},AIAssistantPaywall:{premium:{title:"T\xednh nÄƒng n\xe0y kh\xf4ng kháº£ dá»¥ng cho báº¡n",content:"C\xe1c t\xednh nÄƒng AI chá»‰ kháº£ dá»¥ng tr\xean g\xf3i premium, báº¡n cáº§n n\xe2ng cáº¥p g\xf3i cá»§a m\xecnh Ä‘á»ƒ truy cáº­p t\xednh nÄƒng n\xe0y.",action:"N\xe2ng cáº¥p g\xf3i"},default:{title:"Th\xf4ng b\xe1o",content:"G\xf3i hiá»‡n táº¡i cá»§a báº¡n kh\xf4ng cho ph\xe9p sá»­ dá»¥ng t\xednh nÄƒng n\xe0y.",action:"T\xf4i hiá»ƒu"}}}})},56878:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=n(36755),u=r(n(90774)),l=r(n(43701)),d=r(n(21125)),f=r(n(71544)),p=r(n(35418)),h=r(n(12373)),m=r(n(72395)),v=r(n(59549)),y=r(n(93583)),g=r(n(93075)),b=r(n(92198)),w=r(n(99130)),k=r(n(97723)),x=r(n(95674)),O=r(n(95842)),_=r(n(21023)),E=r(n(33712)),C=r(n(97146)),S=r(n(42394)),P=r(n(83856)),A=r(n(67425)),D=r(n(21375)),T=r(n(70804)),R=r(n(55246)),j=r(n(96551)),M=r(n(44944)),I=r(n(41007)),N=r(n(66927)),z=r(n(23566)),F=r(n(91434)),L=r(n(50415)),B=r(n(77544)),U=r(n(34378)),V=["theme","qualification"],H={"bank-check":d.default,bank:l.default,benefit:f.default,bill:p.default,car:h.default,chess:m.default,child:v.default,dots:y.default,email:g.default,euro:b.default,exchange:w.default,"file-type-note":D.default,fitness:k.default,globe:x.default,gouv:O.default,heart:_.default,home:E.default,image:C.default,justice:S.default,laudry:P.default,lightning:A.default,people:T.default,plane:R.default,remboursement:j.default,restaurant:M.default,school:I.default,shop:N.default,team:z.default,telecom:F.default,telephone:L.default,water:B.default,work:U.default},q={identity:"people",family:"team",work_study:"work",health:"heart",home:"home",transport:"car",activity:"chess",finance:"bank",invoice:"bill",others:"dots"},W=function(e){var t=e.theme,n=e.qualification,r=(0,i.default)(e,V),o=n?H[(0,s.getIconByLabel)(n)]:t?H[q[t]]:null;return c.default.createElement(u.default,(0,a.default)({icon:o,color:"#E049BF",size:16},r))};W.propTypes={qualification:o.default.string,theme:o.default.string},t.default=W},27161:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.searchOptionsFn=t.makeSearchOptions=t.makeOptions=void 0;var a=r(n(21259)),i=r(n(96540)),o=n(53369),c=n(71104),s=n(73670),u=r(n(90774)),l=r(n(21375)),d=r(n(56878));t.makeOptions=function(e){var t=(0,s.getBoundT)(e);return{children:[{id:"none",title:t("Scan.themes.none"),icon:i.default.createElement(d.default,null)}].concat((0,a.default)(o.themesList.map(function(e){return{id:e.id,title:t("Scan.themes.".concat(e.label)),icon:i.default.createElement(d.default,{theme:e.label}),children:e.items.map(function(e){return{id:e.label,item:e,title:t("Scan.items.".concat(e.label)),icon:(0,c.isQualificationNote)(e)?i.default.createElement(u.default,{icon:l.default,color:"#E049BF",size:16}):i.default.createElement(d.default,{qualification:e.label})}})}})))}};var f=function(e,t){return t?e.children.flatMap(function(e){return e.children}).reduce(function(e,t){return t&&!e.some(function(e){return e.id===t.id})&&e.push(t),e},[]).filter(function(e){return e.title.toLowerCase().includes(t.toLowerCase())}):e.children};t.searchOptionsFn=f,t.makeSearchOptions=function(e){var t=e.options,n=e.title,r=e.noDataLabel,a=e.t;return{placeholderSearch:n||a("QualificationModal.title"),noDataLabel:r||a("QualificationModal.noDataLabel"),onSearch:function(e){return f(t,e)}}}},44732:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(42895),l=n(36755),d=r(n(92971)),f=n(27161),p=n(2600);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var m=function(e){var t,n,r,o=e.file,h=e.title,m=e.noDataLabel,v=e.onClose;(0,s.useExtendI18n)(p.locales);var y=(0,u.useClient)(),g=(0,s.useI18n)(),b=g.t,w=g.lang,k=null==(n=o.metadata)||null==(r=n.qualification)?void 0:r.label,x=(0,c.useMemo)(function(){return(0,f.makeOptions)(w)},[w]),O=(0,c.useMemo)(function(){return(0,f.makeSearchOptions)({options:x,title:h,noDataLabel:m,t:b})},[x,h,m,b]),_=(t=(0,i.default)(a.default.mark(function e(t){var n,r,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.item,i=y.collection("io.cozy.files"),c=k&&"none"===n,e.next=5,i.updateMetadataAttribute(o._id,{qualification:c?null:r});case 5:v();case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return c.default.createElement(d.default,{options:x,noDivider:!0,document:o,isSelected:function(e){var t=e.id,n=e.item;return(0,l.isSupportedQualification)(k)?k===(null==n?void 0:n.label):"none"===t},searchOptions:O,onSelect:_,onClose:v})};m.propTypes={file:o.default.object,title:o.default.string,noDataLabel:o.default.string,onClose:o.default.func},t.default=m},2600:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={en:{QualificationModal:{title:"Document type",noDataLabel:"No result"}},fr:{QualificationModal:{title:"Type de document",noDataLabel:"Aucun r\xe9sultat"}},ru:{QualificationModal:{title:"Ð¢Ð¸Ð¿ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°",noDataLabel:"ÐÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²"}},vi:{QualificationModal:{title:"Loáº¡i t\xe0i liá»‡u",noDataLabel:"Kh\xf4ng c\xf3 káº¿t quáº£"}}}},60022:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutTile=void 0;var a=r(n(96540)),i=n(24891),o=r(n(39274)),c=n(89253),s=(0,n(52245).makeStyles)({letter:{color:"white",margin:"auto"},letterWrapper:{backgroundColor:function(e){var t=e.name;return(0,c.nameToColor)(t)}}});t.ShortcutTile=function(e){var t,n,r,c,u=e.file,l=s({name:u.name}),d=null==(t=u.attributes)||null==(n=t.metadata)?void 0:n.icon,f=null==(r=u.attributes)||null==(c=r.metadata)?void 0:c.iconMimeType;return d?a.default.createElement(i.TileIcon,null,a.default.createElement("img",{className:"styles__AppTile-icon___33KQ3",src:f?"data:".concat(f,";base64,").concat(d):"data:image/svg+xml;base64,".concat(window.btoa(d)),width:48,height:48,alt:u.name})):a.default.createElement(i.TileIcon,null,a.default.createElement("div",{className:l.letterWrapper},a.default.createElement(o.default,{className:l.letter,variant:"h2",align:"center"},u.name[0].toUpperCase())))}},75319:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(22056)),i=r(n(39892)),o=r(n(26396)),c=r(n(53978)),s=r(n(58156)),u=r(n(5556)),l=P(n(96540)),d=r(n(25174)),f=r(n(90774)),p=r(n(39941)),h=r(n(74169)),m=r(n(54231)),v=r(n(94283)),y=r(n(98731)),g=r(n(68851)),b=r(n(38143)),w=r(n(39968)),k=r(n(39274)),x=n(89253),O=n(52245),_=r(n(62162)),E=P(n(85561)),C=["display","name","variant","IconContent","description","hideShortcutBadge"];function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var A={"SquareAppIcon-wrapper":"styles__SquareAppIcon-wrapper___3aoSx","SquareAppIcon-wrapper--light":"styles__SquareAppIcon-wrapper--light___AqjR-","SquareAppIcon-wrapper--dark":"styles__SquareAppIcon-wrapper--dark___36gAK","SquareAppIcon-icon-container":"styles__SquareAppIcon-icon-container___AZ5_V","SquareAppIcon-wrapper-ghost":"styles__SquareAppIcon-wrapper-ghost___2kj_s","SquareAppIcon-icon-container-normal":"styles__SquareAppIcon-icon-container-normal___2eLgM","SquareAppIcon-wrapper-maintenance":"styles__SquareAppIcon-wrapper-maintenance___1svWY","SquareAppIcon-wrapper-loading":"styles__SquareAppIcon-wrapper-loading___18esc","SquareAppIcon-spinner":"styles__SquareAppIcon-spinner___3J_iT",onEnd:"styles__onEnd___1mc8z",isFailed:"styles__isFailed___bp2y0",isSuccess:"styles__isSuccess___sNM7F","end-animation":"styles__end-animation___60Hwm"},D=(0,O.makeStyles)(function(e){return{name:(0,o.default)({color:"inverted"===e.variant||"dark"===e.type?"var(--white)":"var(--black)",textShadow:"inverted"===e.variant||"dark"===e.type?"0px 0px 10px rgba(0, 0, 0, 0.10), 0px 0px 2px rgba(0, 0, 0, 0.20), 0.5px 0.5px 1px rgba(0, 0, 0, 0.50)":void 0,width:"5.5rem",textAlign:"center",margin:"0.5rem 0.25rem 0 0.25rem",lineClamp:"2",boxOrient:"vertical",display:"-webkit-box",height:"2.375rem"},e.breakpoints.down("sm"),{width:"3.75rem",margin:"0.25rem 0.25rem 0 0.25rem",height:"2rem"}),nameInverted:{textShadow:e.textShadows[1]},squareAppIconGhost:{backgroundColor:(0,O.alpha)(e.palette.primary.main,e.palette.action.ghostOpacity),border:"1px dashed ".concat((0,O.alpha)(e.palette.primary.main,e.palette.border.ghostOpacity))},letter:{color:"white",margin:"auto"},errorIcon:{fill:"var(--errorColor)",backgroundColor:"var(--primaryContrastTextColor)",borderRadius:"1rem"},tileWrapper:(0,o.default)({cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"6rem"},e.breakpoints.down("sm"),{minWidth:"4.25rem"}),detailedTileWrapper:{flexDirection:"row",width:"auto"}}}),T=function(e){var t=e.variant,n=e.animationState;return["loading"].includes(t)||n?l.default.createElement(w.default,{className:(0,c.default)(A["SquareAppIcon-spinner"],"u-m-0")}):null},R=function(e){var t,n=e.display,r=e.name,u=e.variant,w=e.IconContent,O=e.description,S=e.hideShortcutBadge,P=void 0!==S&&S,R=(0,i.default)(e,C),j=(0,E.useCozyTheme)(),M=j.variant,I=j.type,N=D(),z=r||(0,s.default)(R,"app.name")||(0,s.default)(R,"app")||"",F=z[0]||"",L=l.default.useRef(u),B=(0,l.useState)(),U=(0,a.default)(B,2),V=U[0],H=U[1];(0,l.useEffect)(function(){var e=L.current;"loading"===e&&"error"===u&&H("failed"),"loading"===e&&("default"===u||void 0===u)&&H("success"),L.current=u},[u]);var q=["ghost"],W=q.includes(u)?M:"normal";return l.default.createElement("div",{"data-testid":"square-app-icon",className:(0,c.default)(N.tileWrapper,(0,o.default)({},N.detailedTileWrapper,"detailed"===n))},l.default.createElement(E.default,{variant:W},l.default.createElement(g.default,{badgeContent:"shortcut"!==u||P?null:l.default.createElement(f.default,{size:"10",icon:m.default}),className:(0,c.default)((0,o.default)({},"u-mr-1","detailed"===n)),overlap:"rectangular",invisible:"shortcut"!==u||P},l.default.createElement(T,{variant:u,animationState:V}),l.default.createElement(d.default,{className:(0,c.default)(A["SquareAppIcon-wrapper"],A["SquareAppIcon-wrapper-".concat(u)],A["SquareAppIcon-wrapper--".concat(I)],(t={},(0,o.default)(t,N.squareAppIconGhost,q.includes(u)),(0,o.default)(t,N.shadow,!q.includes(u)),t)),badgeContent:"error"===u?l.default.createElement(f.default,{size:16,className:(0,c.default)(N.errorIcon),icon:y.default}):"",color:"error"===u?"error":void 0,withBorder:!1,size:"large",overlap:"rectangular",style:"shortcut"!==u||w?null:(0,o.default)({},"background",(0,x.nameToColor)(r))},"shortcut"!==u||w?l.default.createElement("div",{className:(0,c.default)(A["SquareAppIcon-icon-container"],(0,o.default)({},A["SquareAppIcon-icon-container-normal"],"normal"===M))},l.default.createElement("div",{className:(0,c.default)(A.onEnd,(0,o.default)({},A.isSuccess,"success"===V),(0,o.default)({},A.isFailed,"failed"===V)),onAnimationEnd:function(e){e.animationName.includes("end")&&H()}},V&&l.default.createElement(f.default,{size:32,icon:"success"===V?p.default:h.default})),"add"===u?l.default.createElement(f.default,{icon:v.default,color:"var(--primaryColor)"}):w||l.default.createElement("div",{className:"u-w-2 u-h-2"},l.default.createElement(_.default,R))):l.default.createElement(k.default,{className:N.letter,variant:"h2",align:"center"},F.toUpperCase())))),"detailed"===n?l.default.createElement(b.default,{primary:z,secondary:O}):l.default.createElement(k.default,{className:(0,c.default)(N.name,(0,o.default)({},N.nameInverted,"inverted"===M),"u-spacellipsis"),variant:"h6",align:"center"},z))};R.propTypes={display:u.default.oneOf(["compact","detailed"]),description:u.default.string,name:u.default.string,variant:u.default.oneOf(["default","loading","ghost","maintenance","error","add","shortcut"]),IconContent:u.default.node},R.defaultProps={display:"compact",variant:"default"},t.default=R},13877:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.FileDoctype=t.AppDoctype=void 0;var a=r(n(5556));t.AppDoctype=a.default.shape({name:a.default.string,slug:a.default.string,developer:a.default.object,links:a.default.shape({icon:a.default.string}),latest_version:a.default.shape({version:a.default.string})}),t.FileDoctype=a.default.shape({_id:a.default.string,class:a.default.string,mime:a.default.string,name:a.default.string})},41841:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(96540)),c=n(42895),s=r(n(71118)),u=n(39209),l=["data"];t.default=function(e){var t=(0,u.buildSettingsInstanceQuery)(),n=(0,c.useQuery)(t.definition,t.options),r=n.data,d=(0,i.default)(n,l);return(0,c.isQueryLoading)(d)&&!(0,c.hasQueryBeenLoaded)(d)?null:o.default.createElement(s.default,(0,a.default)({},e,{type:null==r?void 0:r.colorScheme}))}},85561:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"useCozyTheme",{enumerable:!0,get:function(){return s.useCozyTheme}});var a=r(n(39892)),i=r(n(5556)),o=r(n(96540)),c=n(18340),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(71118)),u=r(n(41841)),l=["ignoreCozySettings"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=function(e){var t=e.ignoreCozySettings,n=(0,a.default)(e,l),r=t||c.isRsg?s.default:u.default;return o.default.createElement(r,n)};f.propTypes={variant:i.default.oneOf(["normal","inverted"]),ignoreItself:i.default.bool,ignoreCozySettings:i.default.bool,className:i.default.string,children:i.default.node},f.defaultProps={variant:"normal",ignoreCozySettings:!1,ignoreItself:!0},t.default=f},39209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSettingsInstanceQuery=void 0;var r=n(42895),a="io.cozy.settings",i=r.fetchPolicies.olderThan(3e5);t.buildSettingsInstanceQuery=function(){return{definition:(0,r.Q)(a).getById("io.cozy.settings.instance"),options:{as:"".concat(a,"/io.cozy.settings.instance"),fetchPolicy:i,singleDocData:!0}}}},8531:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.start=function e(t,n,r,a){var d,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=function(){f&&u.remove(f),d&&d.stopListening()},m=function(){h()},v=new Promise(function(h,v){var y,g=(0,s.pickService)(n,p.filterServices);f=u.insertIntentIframe(n,r,g.href,p.onReadyCallback);var b=g.href.split("/",3).join("/");(d=new l.default({intentId:n.id,origin:b,onReady:function(e){e.source.postMessage(a,e.origin)},onDone:function(e){h(e.data.document),m()},onCancel:function(){h(null),m()},onError:function(e){v(e instanceof Event?s.errorSerializer.deserialize(e.data.error):e),m()},onResize:function(e){var t=e.data,n=t.transition,a=t.dimensions;u.applyStyle(r,(0,c.default)({transition:n},a))},onExposeFrameRemoval:function(e){h({document:e.document,removeIntentIframe:function(){return u.remove(f)}})},onCompose:(y=(0,o.default)(i.default.mark(function n(a){var o,s,l,d,p,h,m,v;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=(o=a.data).action,l=o.doctype,d=o.data,p=a.source,h=a.origin,n.next=4,t(s,l,d);case 4:return m=n.sent,u.hide(f),n.prev=6,n.next=9,e(t,m,r,(0,c.default)({},d,{exposeIntentFrameRemoval:!1}));case 9:v=n.sent,p.postMessage(v,h);case 11:return n.prev=11,u.show(f),n.finish(11);case 14:case"end":return n.stop()}},n,null,[[6,,11,14]])})),function(e){return y.apply(this,arguments)})})).listen()});return v.destroy=h,v};var i=a(n(92207)),o=a(n(79092)),c=a(n(84778)),s=n(89339),u=r(n(93594)),l=a(n(7200))},93594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hide=function(e){e.style.display="none"},t.show=function(e){e.style.display="block"},t.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.iframeFromIntent=i,t.insertIntentIframe=function(e,t,n,r){a(t);var o=i(e,t,n);return"function"==typeof r&&(o.onload=r),t.appendChild(o),o.focus(),o},t.assertOKForIntentIframe=t.applyStyle=void 0;var n=function(e){return e+"px"},r={width:n,height:n,maxWidth:n,maxHeight:n};t.applyStyle=function(e,t){Object.keys(t).forEach(function(n){var a=t[n];e.style[n]="".concat(r[n]?r[n](a):a)})};var a=function(e){var t=e.ownerDocument;if(!t)throw console.warn("assertProperForIframe: bad node",e),Error("Cannot retrieve document object from given node");if(!t.defaultView)throw console.warn("assertProperForIframe: bad document",t),Error("Cannot retrieve window object from document")};function i(e,t,n){var r=t.ownerDocument;if(!r)throw Error("Cannot retrieve document object from given node");var a=r.createElement("iframe");return a.setAttribute("id","intent-".concat(e.id)),a.setAttribute("src",n),a.classList.add("coz-intent"),a}t.assertOKForIntentIframe=a},89339:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.removeQueryString=t.buildRedirectionURL=t.pickService=t.errorSerializer=void 0,n=function(e,t){return["name","message"].reduce(function(n,r){return e[r]&&(t[r]=e[r]),n},Object.assign(t,e))},t.errorSerializer={serialize:function(e){return n(e,{})},deserialize:function(e){return n(e,Error(e.message))}},t.pickService=function(e,t){var n=e.attributes.services||[],r=t?n.find(t):n[0];if(!r)throw Error("Unable to find a service");return r},t.buildRedirectionURL=function(e,t){var n=Object.keys(t).filter(function(e){return!["object","function"].includes(typeof t[e])}).map(function(e){return"".concat(e,"=").concat(t[e])});return n.length?"".concat(e,"?").concat(n.join("&")):e},t.removeQueryString=function(e){return e.replace(/\?[^/#]*/,"")}},15498:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Intents",{enumerable:!0,get:function(){return a.default}});var a=r(n(84553))},84553:function(e,t,n){"use strict";var r=n(58784),a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(92207)),o=a(n(79092)),c=a(n(82274)),s=a(n(65044)),u=r(n(8531)),l=r(n(14249)),d=a(n(68099)),f=n(89339);t.default=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client;(0,c.default)(this,n),this.request=new d.default(t),this.create=this.create.bind(this)}return(0,s.default)(n,[{key:"create",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)throw Error('Misformed intent, "action" property must be provided');if(!t)throw Error('Misformed intent, "type" property must be provided');var i=this.request.post(e,t,r,a);return i.start=function(e,t){var a,o={filteredServices:r.filteredServices,onReadyCallback:t};delete r.filteredServices;var c=i.then(function(t){return a=u.start(n.create,t,e,r,o)});return c.stop=function(){a&&a.destroy()},c},i}},{key:"createService",value:function(e,t){return l.start(this.request)(e,t)}},{key:"getRedirectionURL",value:(e=(0,o.default)(i.default.mark(function e(t,n){var r,a,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t&&!n)){e.next=2;break}throw Error("Cannot retrieve redirection, at least type or doc must be provided");case 2:return e.next=4,this.create("REDIRECT",t,n);case 4:return r=e.sent,a=(0,f.pickService)(r),o=(0,f.removeQueryString)(a.href),e.abrupt("return",n?(0,f.buildRedirectionURL)(o,n):o);case 8:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"redirect",value:(t=(0,o.default)(i.default.mark(function e(t,n,r){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window){e.next=2;break}throw Error("redirect() method can only be called in a browser");case 2:return e.next=4,this.getRedirectionURL(t,n);case 4:if(a=e.sent,!(r&&"function"==typeof r)){e.next=7;break}return e.abrupt("return",r(a));case 7:window.location.href=a;case 8:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),n}()},7200:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=/intent-(.*):(.*)/;t.default=function(){function e(t){(0,a.default)(this,e),this.state={handshaken:!1},this.options=t,this.handleMessageWrapper=this.handleMessageWrapper.bind(this)}return(0,i.default)(e,[{key:"handleMessage",value:function(e){if(e.origin===this.options.origin){var t=e.data.type;if("load"===t){console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`.");return}var n=o.exec(t);if(!n)return void console.warn("intents: Message type ".concat(t," not matching intent format"));var r=n[1];c(r==this.options.intentId,"Invalid event id","eventId: ".concat(r," != listener eventId ").concat(this.options.intentId));var a=n[2];"ready"!==a?c(this.state.handshaken,"Unexpected handshake message from intent service"):this.state.handshaken=!0;var i=this.options["on"+s(a)];if(i)return i(e);console.warn("intents: Unhandled event ".concat(a))}}},{key:"handleMessageWrapper",value:function(e){try{this.handleMessage(e)}catch(e){this.options.onError(e)}}},{key:"listen",value:function(){window.addEventListener("message",this.handleMessageWrapper)}},{key:"stopListening",value:function(){window.removeEventListener("message",this.handleMessageWrapper)}}]),e}();var c=function(e,t,n){if(!e)throw n&&console.warn(n),Error(t)},s=function(e){return e[0].toUpperCase()+e.slice(1)}},68099:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044));t.default=function(){function e(t){(0,a.default)(this,e),this.stackClient=t.stackClient}return(0,i.default)(e,[{key:"get",value:function(e){return this.stackClient.fetchJSON("GET","/intents/".concat(e)).then(function(e){var t=e.data;return t._id||(t._id=t.id),t})}},{key:"post",value:function(e,t,n,r){return this.stackClient.fetchJSON("POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:e,type:t,data:n,permissions:r}}}).then(function(e){return e.data})}}]),e}()},14249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=void 0;var r=n(89339);function a(e){e&&e.style&&(e.style.height="100%")}t.start=function(e){return function(t,n){var i=n||"undefined"!=typeof window&&window;if(!i||!i.document)return Promise.reject(Error("Intent service should be used in browser"));i.addEventListener("load",function(){var e=i.document;[e.documentElement,e.body].forEach(a)});var o=t||i.location.search.split("=")[1];return o?e.get(o).then(function(e){var t=!1,n=function(n){if(t)throw Error("Intent service has already been terminated");i.parent.postMessage(n,e.attributes.client)},a=function(t,r,a){return new Promise(function(o){i.addEventListener("message",function t(n){if(n.origin===e.attributes.client)return i.removeEventListener("message",t),o(n.data)}),n({type:"intent-".concat(e._id,":compose"),action:t,doctype:r,data:a})})},o=function(e){n(e),t=!0},c=function(r,a){if(t)throw Error("Intent service has been terminated");n({type:"intent-".concat(e._id,":resize"),dimensions:r.element?Object.assign({},r,{maxHeight:r.element.clientHeight,maxWidth:r.element.clientWidth}):r,transition:a})},s=function(){o({type:"intent-".concat(e._id,":cancel")})};return i.addEventListener("unload",function(){t||s()}),new Promise(function(t){i.addEventListener("message",function n(r){r.origin===e.attributes.client&&(i.removeEventListener("message",n),t(r.data))}),i.parent.postMessage({type:"intent-".concat(e._id,":ready")},e.attributes.client)}).then(function(t){return{compose:a,getData:function(){return t},getIntent:function(){return e},terminate:function(n){var r=t&&t.exposeIntentFrameRemoval?"exposeFrameRemoval":"done";return o({type:"intent-".concat(e._id,":").concat(r),document:n})},throw:function(t){return o({type:"intent-".concat(e._id,":error"),error:r.errorSerializer.serialize(t)})},resizeClient:c,cancel:s}})}):Promise.reject(Error("Cannot retrieve intent from URL"))}}},3144:function(e){!function(){"use strict";var t=function(){function e(){}e.prototype=Object.create(null);var t={}.hasOwnProperty,n=/\s+/;return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=new e;!function e(r,a){for(var i=a.length,o=0;o<i;++o)!function(r,a){if(a){var i=typeof a;if("string"===i)for(var o=a.split(n),c=o.length,s=0;s<c;++s)r[o[s]]=!0;else if(Array.isArray(a))e(r,a);else if("object"===i)for(var u in a)t.call(a,u)&&(r[u]=!!a[u]);else"number"===i&&(r[a]=!0)}}(r,a[o])}(o,a);var c=[];for(var s in o)o[s]&&c.push(s);return c.join(" ")}}();e.exports?(t.default=t,e.exports=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()},4103:function(e){!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=n.apply(null,a);o&&e.push(o)}else if("object"===i)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()},2808:function(e,t,n){"use strict";var r=n(7039);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},73294:function(e,t,n){e.exports=n(2808)()},7039:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},20664:function(e,t,n){"use strict";n.d(t,{Yc:()=>a});let r=Object.values(["sunrise","downy","sugarCoral","pinkBonnet","blueMana","nightBlue","snowPea","pluviophile","cornflower","paleGreen","moonBlue"]).filter(Boolean),a=(e="")=>{let t=Array.from(e.toUpperCase()).map(e=>e.charCodeAt(0)).reduce((e,t)=>e+t,0)%r.length;return r[t]}},94404:function(e,t,n){"use strict";n.d(t,{y:()=>i});var r=n(96540),a=n(82092),i=function(){return{name:"divider",Component:(0,r.forwardRef)(function(e,t){return r.createElement(a.default,{className:"u-mv-half",ref:t})})}}},92372:function(e,t,n){"use strict";n.d(t,{AG:()=>x,Bn:()=>k,WN:()=>T,es:()=>D,gW:()=>b,u5:()=>w});var r,a,i,o,c,s,u,l,d=n(79092),f=n.n(d),p=n(26396),h=n.n(p),m=n(92207),v=n.n(m),y=n(78575);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter(Boolean).map(function(e){var n=e(t),r=n.name||e.name;return h()({},r,n)})},w=function(e){return Object.keys(e)[0]},k=function(e,t){var n="";return e.filter(function(e){var n=Object.values(e)[0];return!n.displayCondition||n.displayCondition(t)}).map(function(e){var t=w(e);return n===t?(n=t,null):(n=t,e)}).filter(Boolean).filter(function(e,t,n){return"hr"!==w(e)&&"divider"!==w(e)||t!==n.length-1})},x=(r=f()(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FileReader).readAsDataURL(t),e.abrupt("return",new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(e){t(e)}}));case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),O=function(e){var t=Math.max(e.height,e.width),n=1;return 3840<t&&(n=3840/t),n},_=(a=f()(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.base64,e.abrupt("return",new Promise(function(e,t){var r=new Image;r.src=n,r.onerror=t,r.onload=function(){var t=document.createElement("canvas"),n=O(r),a=n*r.width,i=n*r.height,o=a>=1920||i>=1920?.35:.75;t.width=a,t.height=i,t.getContext("2d").drawImage(r,0,0,a,i),e(t.toDataURL("image/jpeg",o))}}));case 2:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),E=(i=f()(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(t){return e(t.target.result)},r.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),C=(o=f()(v().mark(function e(t,n){var r,a,i,o,c,s,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n);case 2:return r=e.sent,e.next=5,_({base64:r});case 5:return a=e.sent,e.next=8,t.embedJpg(a);case 8:i=e.sent,s=(c=(o=t.addPage([i.width,i.height])).getSize()).width,u=c.height,o.drawImage(i,{x:s/2-i.width/2,y:u/2-i.height/2,width:i.width,height:i.height});case 12:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)}),S=(c=f()(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("arrayBuffer"in t)){e.next=4;break}return e.next=3,t.arrayBuffer();case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",new Promise(function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(t){return e(new Uint8Array(t.target.result))},r.readAsArrayBuffer(t)}));case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),P=(s=f()(v().mark(function e(t,n){var r,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n);case 2:return r=e.sent,e.next=5,y.PDFDocument.load(r);case 5:return a=e.sent,e.next=8,t.copyPages(a,a.getPageIndices());case 8:e.sent.forEach(function(e){return t.addPage(e)});case 10:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)}),A=(u=f()(v().mark(function e(t,n){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("application/pdf"!==n.type){e.next=5;break}return e.next=3,P(t,n);case 3:e.next=7;break;case 5:return e.next=7,C(t,n);case 7:return e.next=9,t.save();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)}),D=(l=f()(v().mark(function e(t){var n,r,a,i,o,c,s,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.docs,a=t.fetchBlobFileById,e.next=3,y.PDFDocument.create();case 3:i=e.sent,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(r),e.prev=5,o.s();case 7:if((c=o.n()).done){e.next=16;break}return s=c.value,e.next=11,a(n,s._id);case 11:return u=e.sent,e.next=14,A(i,u);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:return e.next=26,i.save();case 26:return l=new Blob([new Uint8Array(e.sent)],{type:"application/pdf"}),e.abrupt("return",l);case 30:case"end":return e.stop()}},e,null,[[5,18,21,24]])})),function(e){return l.apply(this,arguments)}),T=function(e,t){if(e&&t){var n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),r.remove()}}},88396:function(e,t,n){"use strict";n.r(t),n.d(t,{download:()=>M,editAttribute:()=>ei,makeActions:()=>a.gW,smsTo:()=>b,divider:()=>i.y,viewInDrive:()=>X,others:()=>ec,addToFavorites:()=>V,emailTo:()=>O,removeFromFavorites:()=>K,copyToClipboard:()=>en,print:()=>T,viewInContacts:()=>Y,modify:()=>y,exportToText:()=>eg,call:()=>k});var r,a=n(92372),i=n(94404),o=n(16193),c=n.n(o),s=n(96540),u=n(76819),l={en:{menu:"Menu",viewInContacts:"View in Cozy Contacts",viewInDrive:"Open",modify:"Modify",emailTo:"Send an email",smsTo:"Send a message",print:"Print",download:"Download",favorites:{add:{label:"Add to favorites",success:"%{filename} has been added to favorites |||| These items have been added to favorites"},remove:{label:"Remove from favorites",success:"%{filename} has been removed from favorites |||| These items have been removed from favorites"},error:"An error occurred, please try again."},others:"Others",editAttribute:"Edit attribute",copyToClipboard:{copy:"Copy",success:"Copied to clipboard",error:"Cannot copy to clipboard"},call:"Call",exportToText:"Export as text"},fr:{menu:"Menu",viewInContacts:"Voir dans Cozy Contacts",viewInDrive:"Ouvrir",modify:"Modifier",emailTo:"Envoyer un e-mail",smsTo:"Envoyer un message",print:"Imprimer",download:"T\xe9l\xe9charger",favorites:{add:{label:"Ajouter aux favoris",success:"%{filename} a \xe9t\xe9 ajout\xe9 aux favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 ajout\xe9s aux favoris"},remove:{label:"Retirer des favoris",success:"%{filename} a \xe9t\xe9 retir\xe9 des favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 retir\xe9s des favoris"},error:"Une erreur est survenue, merci de r\xe9essayer."},others:"Autres",editAttribute:"Editer l'attribut",copyToClipboard:{copy:"Copier",success:"Copi\xe9 dans le presse-papier",error:"Impossible de copier dans le presse-papier"},call:"Appeler",exportToText:"Exporter en texte"},ru:{menu:"ÐœÐµÐ½ÑŽ",viewInContacts:"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Cozy ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",viewInDrive:"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ",modify:"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",emailTo:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ email",smsTo:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",print:"ÐŸÐµÑ‡Ð°Ñ‚ÑŒ",download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",favorites:{add:{label:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ",success:"%{filename} Ð±Ñ‹Ð» Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ |||| Ð­Ñ‚Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ"},remove:{label:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾",success:"%{filename} Ð±Ñ‹Ð» ÑƒÐ´Ð°Ð»ÐµÐ½ Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ |||| Ð­Ñ‚Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð±Ñ‹Ð»Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹ Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"},error:"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·."},others:"ÐŸÑ€Ð¾Ñ‡ÐµÐµ",editAttribute:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚",copyToClipboard:{copy:"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",success:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°",error:"ÐÐµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°"},call:"Ð—Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ",exportToText:"Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ñ‚ÐµÐºÑÑ‚"},vi:{menu:"Menu",viewInContacts:"Xem trong Cozy Contacts",viewInDrive:"Má»Ÿ",modify:"Chá»‰nh sá»­a",emailTo:"Gá»­i email",smsTo:"Gá»­i tin nháº¯n",print:"In",download:"Táº£i xuá»‘ng",favorites:{add:{label:"Th\xeam v\xe0o y\xeau th\xedch",success:"%{filename} Ä‘\xe3 Ä‘Æ°á»£c th\xeam v\xe0o y\xeau th\xedch |||| C\xe1c má»¥c n\xe0y Ä‘\xe3 Ä‘Æ°á»£c th\xeam v\xe0o y\xeau th\xedch"},remove:{label:"X\xf3a khá»i y\xeau th\xedch",success:"%{filename} Ä‘\xe3 Ä‘Æ°á»£c x\xf3a khá»i y\xeau th\xedch |||| C\xe1c má»¥c n\xe0y Ä‘\xe3 Ä‘Æ°á»£c x\xf3a khá»i y\xeau th\xedch"},error:"C\xf3 lá»—i xáº£y ra, vui l\xf2ng thá»­ láº¡i."},others:"Kh\xe1c",editAttribute:"Chá»‰nh sá»­a thuá»™c t\xednh",copyToClipboard:{copy:"Sao ch\xe9p",success:"Ä\xe3 sao ch\xe9p v\xe0o clipboard",error:"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o clipboard"},call:"Gá»i",exportToText:"Xuáº¥t dÆ°á»›i dáº¡ng vÄƒn báº£n"}},d=function(){return(0,u.getI18n)(void 0,function(e){return l[e]})};(0,u.withOnlyLocales)(l);var f=n(90774),p=n(66052),h=n(72637),m=n(38143),v=n(647),y=function(e){var t=e.client,n=e.generateWebLink,r=d().t,a=p.default,i=r("modify");return{name:"modify",icon:a,label:i,action:function(e){var r=e[0]._id,a=n({slug:"contacts",cozyUrl:t.getStackClient().uri,subDomainType:t.getInstanceOptions().subdomain,pathname:"/",hash:"/".concat(r,"/edit")});window.open(a,"_blank")},Component:(0,s.forwardRef)(function(e,t){return s.createElement(v.A,c()({ref:t},e),s.createElement(h.default,null,s.createElement(f.default,{icon:a})),s.createElement(m.default,{primary:i}))})}};let g=function(e){return s.createElement("svg",c()({viewBox:"0 0 20 20"},e),s.createElement("path",{d:"M2 2h16v12H3.17L2 15.17V2zm0-2C.9 0 .01.9.01 2L0 20l4-4h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2H2zm2 10h8v2H4v-2zm0-3h12v2H4V7zm0-3h12v2H4V4z"}))};var b=function(){var e=(0,d().t)("smsTo");return{name:"smsTo",icon:g,label:e,action:function(e){var t,n,r,a=null==e||null==(t=e[0])||null==(n=t.phone)||null==(r=n[0])?void 0:r.number;a&&window.open("sms:".concat(a),"_self")},Component:(0,s.forwardRef)(function(t,n){return s.createElement(v.A,c()({},t,{ref:n}),s.createElement(h.default,null,s.createElement(f.default,{icon:g})),s.createElement(m.default,{primary:e}))})}},w=n(50415),k=function(){var e=d().t,t=w.default,n=e("call");return{name:"call",icon:t,label:n,action:function(e){var t,n,r,a=null==e||null==(t=e[0])||null==(n=t.phone)||null==(r=n[0])?void 0:r.number;a&&window.open("tel:".concat(a),"_self")},Component:(0,s.forwardRef)(function(e,r){return s.createElement(v.A,c()({},e,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:n}))})}},x=n(93075),O=function(){var e=d().t,t=x.default,n=e("emailTo");return{name:"emailTo",icon:t,label:n,action:function(e){var t,n,r,a=null==e||null==(t=e[0])||null==(n=t.email)||null==(r=n[0])?void 0:r.address;a&&window.open("mailto:".concat(a),"_self")},Component:(0,s.forwardRef)(function(e,r){return s.createElement(v.A,c()({},e,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:n}))})}},_=n(79092),E=n.n(_),C=n(92207),S=n.n(C),P=n(40918),A=n.n(P);let D=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 15"},e),s.createElement("path",{d:"M13.6 4h-.8V0H3.2v4h-.8A2.397 2.397 0 000 6.4v4.8h3.2v3.2h9.6v-3.2H16V6.4C16 5.072 14.928 4 13.6 4zM4.8 1.6h6.4V4H4.8V1.6zm6.4 11.2H4.8V9.6h6.4v3.2zm1.6-3.2V8H3.2v1.6H1.6V6.4c0-.44.36-.8.8-.8h11.2c.44 0 .8.36.8.8v3.2h-1.6z"}),s.createElement("path",{d:"M12.8 7.6a.8.8 0 100-1.6.8.8 0 000 1.6z"}))};var T=function(e){var t,n=e.client,r=e.fetchBlobFileById,i=e.isFile,o=(0,d().t)("print");return{name:"print",icon:D,label:o,disabled:function(e){return 0===e.length},displayCondition:function(e){return e.every(function(e){return i(e)})},action:(t=E()(S().mark(function e(t,i){var o,c,s,u,l,d,f;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.webviewIntent,c=1===t.length,s=t[0],e.prev=3,!o){e.next=19;break}if(!c){e.next=11;break}return e.next=8,r(n,s._id);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,a.es)({client:n,docs:t,fetchBlobFileById:r});case 13:e.t0=e.sent;case 14:return u=e.t0,e.next=17,(0,a.AG)(u);case 17:return l=e.sent,e.abrupt("return",o.call("print",l));case 19:if(d="",!c){e.next=26;break}return e.next=23,n.collection("io.cozy.files").getDownloadLinkById(s._id,s.name);case 23:d=e.sent,e.next=30;break;case 26:return e.next=28,(0,a.es)({client:n,docs:t,fetchBlobFileById:r});case 28:f=e.sent,d=URL.createObjectURL(f);case 30:setTimeout(function(){window.open(d,"_blank")}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(3),A().error("Error trying to print document ".concat(o?"inside flagship appp":"outside flagship app",": ").concat(JSON.stringify(e.t1)));case 36:case"end":return e.stop()}},e,null,[[3,33]])})),function(e,n){return t.apply(this,arguments)}),Component:(0,s.forwardRef)(function(e,t){return s.createElement(v.A,c()({},e,{ref:t}),s.createElement(h.default,null,s.createElement(f.default,{icon:D})),s.createElement(m.default,{primary:o}))})}},R=n(98427),j=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="download",n},M=function(e){var t=e.client,n=e.encryptedUrl,r=e.downloadFile,a=d().t,i=R.default,o=a("download");return{name:"download",icon:i,label:o,Component:j(o,i),action:function(e,a){var i=a.webviewIntent,o=a.driveId;return r({client:t,file:e[0],url:n,webviewIntent:i,driveId:o})}}},I=n(26396),N=n.n(I);let z=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 17"},e),s.createElement("path",{d:"M16 6.692l-5.752-.496L8 .9 5.752 6.204 0 6.692l4.368 3.784L3.056 16.1 8 13.116l4.944 2.984-1.304-5.624L16 6.692zM8 11.62l-3.008 1.816.8-3.424-2.656-2.304 3.504-.304L8 4.18l1.368 3.232 3.504.304-2.656 2.304.8 3.424L8 11.62z"}))};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="addToFavorites",n},V=function(e){var t,n=e.client,r=e.showAlert,a=e.splitFilename,i=d().t,o=i("favorites.add.label");return{name:"addToFavorites",icon:z,label:o,displayCondition:function(e){return e.length>0&&e.every(function(e){var t;return!(null!=(t=e.cozyMetadata)&&t.favorite)})},Component:U(o,z),action:(t=E()(S().mark(function e(t){var o,c,s;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(t),e.prev=2,o.s();case 4:if((c=o.n()).done){e.next=10;break}return s=c.value,e.next=8,n.save(L(L({},s),{},{cozyMetadata:L(L({},s.cozyMetadata),{},{favorite:!0})}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),o.e(e.t0);case 15:return e.prev=15,o.f(),e.finish(15);case 18:r({message:i("favorites.add.success",{filename:a(t[0]).filename,smart_count:t.length}),severity:"success"}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),r({message:i("favorites.error"),severity:"error"});case 25:case"end":return e.stop()}},e,null,[[0,22],[2,12,15,18]])})),function(e){return t.apply(this,arguments)})}};let H=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 16"},e),s.createElement("path",{d:"M8 12.216l4.944 2.984-1.312-5.624L16 5.792l-5.752-.488L8 0 5.752 5.304 0 5.792l4.368 3.784L3.056 15.2 8 12.216z"}))};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="removeFromFavorites",n},K=function(e){var t,n=e.client,r=e.showAlert,a=e.splitFilename,i=d().t,o=i("favorites.remove.label");return{name:"removeFromFavorites",icon:H,label:o,displayCondition:function(e){return e.length>0&&e.every(function(e){var t;return null==(t=e.cozyMetadata)?void 0:t.favorite})},Component:Z(o,H),action:(t=E()(S().mark(function e(t){var o,c,s;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(t),e.prev=2,o.s();case 4:if((c=o.n()).done){e.next=10;break}return s=c.value,e.next=8,n.save(W(W({},s),{},{cozyMetadata:W(W({},s.cozyMetadata),{},{favorite:!1})}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),o.e(e.t0);case 15:return e.prev=15,o.f(),e.finish(15);case 18:r({message:i("favorites.success.remove",{filename:a(t[0]).filename,smart_count:t.length}),severity:"success"}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),r({message:i("favorites.error"),severity:"error"});case 25:case"end":return e.stop()}},e,null,[[0,22],[2,12,15,18]])})),function(e){return t.apply(this,arguments)})}};let Q=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 14"},e),s.createElement("path",{d:"M14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452zM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9zM14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452zM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9z"}))};var Y=function(e){var t=e.client,n=e.generateWebLink,r=(0,d().t)("viewInContacts");return{name:"viewInContacts",icon:Q,label:r,action:function(e){var r=e[0]._id,a=n({slug:"contacts",cozyUrl:t.getStackClient().uri,subDomainType:t.getInstanceOptions().subdomain,pathname:"/",hash:"/".concat(r)});window.open(a,"_blank")},Component:(0,s.forwardRef)(function(e,t){return s.createElement(v.A,c()({ref:t},e),s.createElement(h.default,null,s.createElement(f.default,{icon:Q})),s.createElement(m.default,{primary:r}))})}};let J=function(e){return s.createElement("svg",c()({viewBox:"0 0 17 12"},e),s.createElement("path",{d:"M2.238 11.953c-.409 0-.76-.145-1.05-.437a1.433 1.433 0 01-.438-1.051v-8.93c0-.41.146-.76.437-1.051A1.433 1.433 0 012.238.046h4.465l1.489 1.489h5.953c.41 0 .76.146 1.052.437.291.291.437.642.437 1.051H7.578L6.09 1.535H2.238v8.93l1.786-5.954H16.75l-1.916 6.382c-.1.322-.282.58-.55.772a1.478 1.478 0 01-.883.288H2.238zm1.563-1.488h9.6L14.741 6h-9.6L3.8 10.465z"}))};var $=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="viewInDrive",n},X=function(e){var t=e.client,n=e.generateWebLink,r=(0,d().t)("viewInDrive");return{name:"viewInDrive",icon:J,label:r,Component:$(r,J),action:function(e){var r=e[0].dir_id,a=e[0].driveId,i=n({slug:"drive",cozyUrl:t.getStackClient().uri,subDomainType:t.getInstanceOptions().subdomain,pathname:"/",hash:a?"shareddrive/".concat(a,"/").concat(r):"folder/".concat(r)});window.open(i,"_blank")}}},ee=n(31482),et=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="copyToClipboard",n},en=function(){var e,t=d().t,n=ee.default,r=t("copyToClipboard.copy");return{name:"copyToClipboard",icon:n,label:r,Component:et(r,n),action:(e=E()(S().mark(function e(n,r){var a,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.showAlert,i=r.copyValue){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,navigator.clipboard.writeText(i);case 6:a({message:t("copyToClipboard.success"),severity:"success",variant:"filled"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a({message:t("copyToClipboard.error"),severity:"error",variant:"filled"});case 12:case"end":return e.stop()}},e,null,[[3,9]])})),function(t,n){return e.apply(this,arguments)})}};let er=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 14"},e),s.createElement("path",{d:"M0 3.53h9.706v1.764H0V3.53zm0-1.765h9.706V0H0v1.765zm0 7.059h6.177V7.059H0v1.765zm13.245-2.762l.626-.626a.879.879 0 011.244 0l.627.626c.344.344.344.9 0 1.244l-.627.627-1.87-1.871zm-.627.627l-4.676 4.676v1.87h1.87L14.49 8.56l-1.87-1.87z"}))};var ea=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="editAttribute",n},ei=function(){var e=(0,d().t)("editAttribute");return{name:"editAttribute",icon:er,label:e,Component:ea(e,er),action:function(e,t){(0,t.editAttributeCallback)(e)}}},eo=n(93583),ec=function(){return{name:"others",label:(0,d().t)("others"),icon:eo.default}},es=n(21259),eu=n.n(es),el=n(78575);function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ef=function(e){var t=e.font,n=e.fontSize,r=e.maxLineWidth,a=e.line;return a?n<=0||r<=0?[a]:a.split(" ").reduce(function(e,a){var i=e[e.length-1];if(!i)return[a];var o="".concat(i," ").concat(a);return t.widthOfTextAtSize(o,n)<=r?e[e.length-1]=o:e.push(a),e},[]):[]},ep=function(e){var t=e.pdfDoc,n=e.page,r=e.y,a=e.requiredHeight,i=e.marginTop,o=e.marginBottom;if(!t||!n)throw Error("pdfDoc and page are required");var c=n.getSize(),s=c.width,u=c.height;return r-a<o?{page:t.addPage([s,u]),y:u-i}:{page:n,y:r}},eh=function(e){var t,n=e.pdfDoc,r=e.page,a=e.y,i=e.text,o=e.font,c=e.fontSize,s=e.lineHeight,u=e.marginX,l=e.marginY,d=e.maxLineWidth,f=r,p=a,h=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ed(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,void 0)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(String(null!=i?i:"").split(/\r?\n/).flatMap(function(e){var t=ef({font:o,fontSize:c,maxLineWidth:d,line:e});return[].concat(eu()(t),[{type:"paragraphGap"}])}));try{for(h.s();!(t=h.n()).done;){var m=t.value;if("object"==typeof m&&"paragraphGap"===m.type){p-=s/2;continue}var v=ep({pdfDoc:n,page:f,y:p,requiredHeight:s,marginTop:l,marginBottom:l});f=v.page,p=v.y,f.drawText(m,{x:u,y:p-c,size:c,font:o}),p-=s}}catch(e){h.e(e)}finally{h.f()}return{page:f,y:p}},em=(r=E()(S().mark(function e(t){var n,r,a,i,o,c;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el.PDFDocument.create();case 2:return n=e.sent,e.next=5,n.embedFont(el.StandardFonts.Helvetica);case 5:return r=e.sent,i=(a={fontSize:12,lineHeight:16,marginX:40,marginY:40,pageSize:[595.28,841.89]}).pageSize[0]-2*a.marginX,o=n.addPage(a.pageSize),eh({pdfDoc:n,page:o,y:a.pageSize[1]-a.marginY,text:t,font:r,fontSize:a.fontSize,lineHeight:a.lineHeight,marginX:a.marginX,marginY:a.marginY,maxLineWidth:i}),e.next=12,n.save();case 12:return c=e.sent,e.abrupt("return",new Blob([c],{type:"application/pdf"}));case 14:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});let ev=function(e){return s.createElement("svg",c()({viewBox:"0 0 16 16",fill:"none"},e),s.createElement("path",{d:"M14.8 4v10.4l-.008.159A1.6 1.6 0 0113.2 16H3.6a1.6 1.6 0 01-1.014-.362l-.117-.107a1.6 1.6 0 01-.461-.972L2 14.4V1.6c0-.372.13-.73.362-1.014L2.47.469A1.6 1.6 0 013.599 0h7.2l4 4zM3.6 14.4h9.6V5.6h-1.598a2.4 2.4 0 01-2.4-2.4V1.6H3.6v12.8zm7.202-11.2a.8.8 0 00.8.8h.935l-1.736-1.736V3.2z"}),s.createElement("path",{d:"M8.401 7.2a.8.8 0 01.8.799v2.867l1.034-1.032a.8.8 0 111.131 1.13l-2.4 2.401a.794.794 0 01-.436.222.817.817 0 01-.13.013.793.793 0 01-.127-.013.794.794 0 01-.438-.222l-2.4-2.4a.8.8 0 111.131-1.131l1.035 1.034V8a.8.8 0 01.8-.8z"}))};var ey=function(e,t){var n=(0,s.forwardRef)(function(n,r){return s.createElement(v.A,c()({},n,{ref:r}),s.createElement(h.default,null,s.createElement(f.default,{icon:t})),s.createElement(m.default,{primary:e}))});return n.displayName="exportToText",n},eg=function(e){var t,n=e.exportedText,r=e.file,i=(0,d().t)("exportToText");return{name:"exportToText",icon:ev,label:i,displayCondition:function(){return!!n},Component:ey(i,ev),action:(t=E()(S().mark(function e(){var t,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,em(n);case 3:t=e.sent,i=null!=r&&r.name?"".concat(r.name.replace(/\.[^/.]+$/,""),"_export"):"export",(0,a.WN)(t,"".concat(i,".pdf")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),A().error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return t.apply(this,arguments)})}}},20933:function(e,t,n){"use strict";n.d(t,{d:()=>d});var r=n(16193),a=n.n(r),i=n(96540),o=n(90774),c=n(72637),s=n(38143),u=n(647),l=function(e){var t=e.label,n=e.icon,r=e.name,l=(0,i.forwardRef)(function(e,r){return i.createElement(u.A,a()({},e,{ref:r}),i.createElement(c.default,null,i.createElement(o.default,{icon:n})),i.createElement(s.default,{primary:t}))});return l.displayName=r,l},d=function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,icon:r,label:n,disabled:e.disabled,displayCondition:e.displayCondition,action:e.action,Component:l({label:n,icon:r,name:t})}}},647:function(e,t,n){"use strict";n.d(t,{A:()=>w});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(90179),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(27282),m=n(84630),v=["component"],y=(0,p.forwardRef)(function(e,t){var n=e.component,r=o()(e,v);return p.createElement(m.A,a()({ref:t,component:h.default,componentElement:n,gutters:"disabled"},r))});y.displayName="MenuItem",y.propTypes=h.LitItemPropTypes;var g=["isListItem","className"],b=(0,p.forwardRef)(function(e,t){var n=e.isListItem,r=e.className,i=o()(e,g),c=n?h.default:y,u=l()(i,["docs","action","t","f","lang"]);return p.createElement(c,a()({},u,{className:s()(r,"cozyActionsItem"),ref:t,button:!0,ellipsis:!1}))});b.displayName="ActionsMenuItem",b.propTypes={className:f().string,isListItem:f().bool};let w=b},1990:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(647),d=n(82092),f=n(24242),p=["children"],h=(0,u.forwardRef)(function(e,t){var n=e.children,r=o()(e,p);return(0,f.default)().isMobile?u.createElement(u.Fragment,null,u.createElement(l.A,a()({},r,{ref:t,isListItem:!0}),n),u.createElement(d.default,{className:"u-mv-half"})):null});h.displayName="ActionsMenuMobileHeader",h.propTypes={children:s().node};let m=h},68946:function(e,t,n){"use strict";n.d(t,{A:()=>b});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(41483),d=n(26988),f=n(32859),p=n(24203),h=n(56100),m=n(24242),v=["children","autoClose","open","onClose"],y=function(e){var t=e.children;return(0,p.D)(),t},g=function(e){var t=e.children,n=e.autoClose,r=e.open,i=e.onClose,c=o()(e,v),s=(0,m.default)().isMobile,p=function(e){return function(t){var r;null==(r=e.onClick)||r.call(e,t),n&&(null==i||i())}};return s&&r?u.createElement(y,null,u.createElement(l.A,{skipAnimation:(0,h.default)(),backdrop:!0,onClose:i},u.createElement(f.default,{square:!0},u.Children.map(t,function(e){return u.isValidElement(e)?u.cloneElement(e,{isListItem:!0,size:"small",onClick:p(e.props)}):null})))):u.createElement(d.default,a()({},c,{open:r,onClose:i}),u.Children.map(t,function(e,n){var r,a,i=u.Children.toArray(t)[0],o=(null==i||null==(r=i.type)?void 0:r.name)||(null==i||null==(a=i.type)?void 0:a.displayName);return u.isValidElement(e)?u.cloneElement(e,{autoFocus:"ActionsMenuMobileHeader"===o&&1===n||void 0,onClick:p(e.props)}):null}))};g.propTypes={autoClose:s().bool,onClose:s().func};let b=g},41190:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(26396),d=n.n(l),f=n(76819),p=n(84660),h=n(92372),m=["docs","actions","actionOptions","component","onClick"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=(0,u.forwardRef)(function(e,t){var n=e.docs,r=e.actions,i=e.actionOptions,c=e.component,s=e.onClick,l=o()(e,m),d=(0,p.useWebviewIntent)(),v=(0,f.useI18n)().t;return(0,u.useMemo)(function(){return(0,h.Bn)(r,n)},[r,n]).map(function(e,r){var o=(0,h.u5)(e),f=Object.values(e)[0],p=f.Component,m=f.action,g=f.disabled;return u.createElement(null!=c?c:p,a()({},l,{ref:t,key:o+r,action:f,docs:n,autoFocus:0===r,disabled:null==g?void 0:g(n),onClick:function(e){null==m||m(n,y(y({t:v,webviewIntent:d},i),e)),null==s||s()}}))})});g.propTypes={docs:s().array,component:s().object,actions:s().array,actionOptions:s().object,onClick:s().func},s().array,s().object,s().bool,s().bool,s().func;var b=n(68946),w=["docs","actions","anchorOrigin","children","componentsProps","onClose","autoCloseOnContextMenu"],k=function(e){var t=e.vertical;return{vertical:"bottom"===t?"top":"top"===t?"bottom":t,horizontal:e.horizontal}},x=(0,u.forwardRef)(function(e,t){var n=e.docs,r=e.actions,i=e.anchorOrigin,c=e.children,s=e.componentsProps,l=e.onClose,d=e.autoCloseOnContextMenu,f=o()(e,w),p=k(i);return u.createElement(b.A,a()({},f,{anchorEl:null==t?void 0:t.current,getContentAnchorEl:null,anchorOrigin:i,transformOrigin:p,keepMounted:!0},d&&{onContextMenu:function(e){e.preventDefault(),l()}},{onClose:l}),c,u.createElement(g,a()({},s.actionsItems,{docs:n,actions:r})))});x.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},autoClose:!0,autoCloseOnContextMenu:!0,componentsProps:{}},x.propTypes={open:s().bool,docs:s().array,actions:s().array,anchorOrigin:s().shape({vertical:s().oneOf(["bottom","center","top"]),horizontal:s().oneOf(["left","center","right"])}),autoClose:s().bool,autoCloseOnContextMenu:s().bool,componentsProps:s().shape({actionsItems:s().shape({actionOptions:s().object,onClick:s().func})}),onClose:s().func};let O=x},28101:function(e,t,n){"use strict";n.r(t),n.d(t,{AlertDefaultProps:()=>P,AlertPropTypes:()=>S,default:()=>A});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(83666),l=n(4103),d=n.n(l),f=n(55364),p=n.n(f),h=n(73294),m=n.n(h),v=n(96540),y=n(90774),g=n(49663),b=n(40463),w=n(98731),k=n(82096),x=["className","classes","icon","severity","block","color","square","action","variant","style","children"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var _={success:v.createElement(y.default,{icon:function(e){return v.createElement("svg",a()({viewBox:"0 0 16 16"},e),v.createElement("path",{d:"M6.88 11.68l5.64-5.64-1.12-1.12-4.52 4.52L4.6 7.16 3.48 8.28l3.4 3.4zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16z"}))}}),warning:v.createElement(y.default,{icon:b.A}),error:v.createElement(y.default,{icon:w.default}),info:v.createElement(y.default,{icon:g.A})},E=(0,k.A)({message:{maxWidth:function(e){var t=e.block,n=e.iconSize;return t&&"calc(100% - ".concat(n,"px - 12px)")}}}),C=(0,v.forwardRef)(function(e,t){var n,r=e.className,i=e.classes,c=e.icon,l=e.severity,f=e.block,h=e.color,m=e.square,b=e.action,w=e.variant,k=e.style,C=e.children,S=s()(e,x),P=["primary","secondary"].includes(l)?"success":l,A=!1!==c&&(c||["primary","secondary"].includes(l)&&v.createElement(y.default,{icon:g.A})||void 0),D=E({iconSize:(null==c||null==(n=c.props)?void 0:n.size)||16,block:f}),T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundColor:h,borderRadius:m&&0},k);return v.createElement(u.A,a()({ref:t,style:T,className:d()(r,"cozyStyles-".concat(l,"-").concat(w),{block:f},{action:!!b}),classes:p()(D,i),variant:w,severity:P,iconMapping:_,icon:A,action:b},S),C)});C.displayName="Alert";var S={className:m().string,icon:m().oneOfType([m().element,m().bool]),severity:m().oneOf(["primary","secondary","success","error","warning","info"]),block:m().bool,color:m().string,square:m().bool,variant:m().oneOf(["standard","outlined","filled"])},P={severity:"primary",block:!1,square:!1,variant:"standard"};C.propTypes=S,C.defaultProps=P;let A=C},89123:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(44866).A},95310:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=n(90774),p=n(14970),h=n(32022);let m=function(e){return d.createElement("svg",a()({viewBox:"0 0 86 23",fill:"none"},e),d.createElement("path",{d:"M6.495 5.381H.635V1.69h15.822v3.692h-5.86V22.2H6.495V5.38z"}),d.createElement("path",{d:"M13.606 6.963h4.63l1.963 8.644c.215.88.37 1.65.469 2.315.136-.84.302-1.621.498-2.344l2.227-8.615h4.541l2.374 8.615c.195.723.36 1.504.498 2.344.097-.664.254-1.436.468-2.315l2.11-8.644h4.307L32.945 22.2h-4.278l-2.49-8.673a13.054 13.054 0 01-.528-2.286c-.137.899-.293 1.66-.47 2.286L22.896 22.2h-4.542L13.606 6.963zm31.16 15.617a7.12 7.12 0 01-3.78-1.054 8.014 8.014 0 01-2.754-2.9c-.664-1.212-.997-2.54-.997-3.986 0-1.445.333-2.774.997-3.985.683-1.23 1.601-2.207 2.754-2.93a6.977 6.977 0 013.78-1.084c1.25 0 2.256.234 3.018.703.781.47 1.387 1.143 1.816 2.022V6.963h3.927V22.2h-3.839v-2.49c-.449.917-1.064 1.63-1.846 2.138-.761.489-1.787.733-3.076.733zm-3.575-7.97c0 .782.176 1.515.527 2.198.372.665.87 1.202 1.495 1.612.644.39 1.377.586 2.197.586.84 0 1.583-.195 2.227-.586a3.955 3.955 0 001.524-1.582 4.623 4.623 0 00.527-2.198c0-.8-.176-1.533-.527-2.197a3.907 3.907 0 00-1.524-1.612c-.644-.41-1.387-.615-2.227-.615-.82 0-1.553.205-2.197.615a4.014 4.014 0 00-1.495 1.582 4.624 4.624 0 00-.527 2.198zm18.642.353V22.2h-3.956V.81h3.956v12.306l5.713-6.153h5.626l-7.179 7.091 7.208 8.146h-5.245l-6.123-7.237z"}),d.createElement("path",{d:"M77.594 22.58c-1.543 0-2.91-.35-4.102-1.054a7.632 7.632 0 01-2.783-2.9c-.665-1.212-.997-2.55-.997-4.015a8.13 8.13 0 011.026-4.014 7.792 7.792 0 012.813-2.93c1.21-.723 2.559-1.085 4.043-1.085 1.485 0 2.813.362 3.985 1.085a7.362 7.362 0 012.755 2.93c.664 1.21.996 2.549.996 4.014 0 .488-.04.957-.117 1.406H73.815c.234.918.673 1.66 1.318 2.227.664.547 1.485.82 2.461.82.82 0 1.553-.185 2.198-.556a4.465 4.465 0 001.523-1.494l3.077 2.314c-.625.977-1.543 1.768-2.754 2.374-1.211.586-2.56.879-4.044.879zm3.75-9.522a4.28 4.28 0 00-1.376-2.198c-.684-.586-1.495-.879-2.432-.879-.918 0-1.72.284-2.403.85-.664.567-1.104 1.309-1.319 2.227h7.53z"}))};var v=n(77395),y=n(39274),g=n(71118),b=["slug","tag","className","children"],w={chat:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 33 33",fill:"none"},e),d.createElement("g",{clipPath:"url(#chat_svg__clip0_11347_30938)"},d.createElement("rect",{x:.704,y:.704,width:32.017,height:32.017,rx:10.574,fill:"url(#chat_svg__paint0_linear_11347_30938)"}),d.createElement("g",{filter:"url(#chat_svg__filter0_d_11347_30938)"},d.createElement("path",{d:"M16.704 7.398c5.861 0 10.613 4.104 10.613 9.165 0 5.062-4.752 9.165-10.613 9.165a12.12 12.12 0 01-3.433-.49c-1.204.936-3.07 1.722-5.6 2.356a.484.484 0 01-.54-.706l.18-.329c.84-1.545 1.364-2.813 1.572-3.802-1.733-1.63-2.791-3.806-2.791-6.194 0-5.061 4.751-9.165 10.612-9.165z",fill:"#fff"}))),d.createElement("defs",null,d.createElement("linearGradient",{id:"chat_svg__paint0_linear_11347_30938",x1:5.031,y1:30.092,x2:30.745,y2:.704,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#8135FE"}),d.createElement("stop",{offset:1,stopColor:"#E8A6FF"})),d.createElement("clipPath",{id:"chat_svg__clip0_11347_30938"},d.createElement("path",{fill:"#fff",transform:"translate(.704 .704)",d:"M0 0h32v32H0z"})),d.createElement("filter",{id:"chat_svg__filter0_d_11347_30938",x:4.459,y:6.092,width:24.49,height:23.476,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.327}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30938"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30938",result:"shape"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 374 130",fill:"none"},e),d.createElement("path",{d:"M63.625 129.516c-11.853 0-22.66-2.789-32.423-8.367-9.645-5.694-17.257-13.364-22.835-23.01C2.79 88.495 0 77.92 0 66.415c0-11.62 2.673-22.254 8.018-31.9 5.462-9.761 13.016-17.431 22.662-23.01 9.645-5.693 20.627-8.54 32.945-8.54 9.878 0 18.361 1.568 25.45 4.706 7.205 3.021 13.597 7.844 19.175 14.468l-17.257 14.99c-7.322-7.67-16.444-11.505-27.368-11.505-7.67 0-14.41 1.86-20.22 5.578-5.811 3.603-10.285 8.542-13.423 14.817-3.137 6.16-4.706 12.958-4.706 20.395 0 7.438 1.569 14.236 4.706 20.395 3.254 6.16 7.786 11.04 13.597 14.642 5.926 3.603 12.783 5.404 20.569 5.404 11.389 0 20.685-3.951 27.89-11.853l17.781 15.165c-4.881 5.927-11.273 10.633-19.175 14.12-7.786 3.486-16.792 5.229-27.019 5.229z",fill:"url(#chat-text_svg__paint0_linear_59620_161)"}),d.createElement("path",{d:"M118.031 0h23.532v49.157c4.881-9.762 14.003-14.643 27.368-14.643 6.507 0 12.376 1.57 17.605 4.707 5.23 3.021 9.355 7.38 12.377 13.074 3.021 5.578 4.532 12.085 4.532 19.523v55.432h-23.533V77.57c0-7.553-1.743-13.19-5.229-16.908-3.486-3.719-8.251-5.578-14.294-5.578-5.346 0-9.82 1.917-13.422 5.752-3.603 3.719-5.404 9.297-5.404 16.734v49.68h-23.532V0z",fill:"url(#chat-text_svg__paint1_linear_59620_161)"}),d.createElement("path",{d:"M257.906 129.516c-8.134 0-15.63-2.092-22.486-6.275-6.857-4.3-12.319-10.052-16.386-17.257-3.951-7.205-5.927-15.108-5.927-23.707 0-8.6 1.976-16.502 5.927-23.707 4.067-7.321 9.529-13.132 16.386-17.432 6.856-4.3 14.352-6.45 22.486-6.45 7.438 0 13.423 1.395 17.955 4.184 4.648 2.79 8.251 6.799 10.807 12.028V36.606h23.359v90.644h-22.836v-14.817c-2.673 5.462-6.333 9.704-10.982 12.725-4.532 2.906-10.633 4.358-18.303 4.358zM236.64 82.103c0 4.648 1.046 9.006 3.137 13.073 2.208 3.951 5.172 7.147 8.891 9.587 3.834 2.325 8.192 3.487 13.073 3.487 4.997 0 9.413-1.162 13.248-3.487 3.951-2.324 6.973-5.461 9.065-9.413 2.091-3.95 3.137-8.309 3.137-13.073 0-4.765-1.046-9.123-3.137-13.074-2.092-4.067-5.114-7.263-9.065-9.587-3.835-2.44-8.251-3.66-13.248-3.66-4.881 0-9.239 1.22-13.073 3.66-3.835 2.324-6.799 5.462-8.891 9.413-2.091 3.951-3.137 8.309-3.137 13.074z",fill:"url(#chat-text_svg__paint2_linear_59620_161)"}),d.createElement("path",{d:"M358.349 127.25c-9.181 0-16.095-2.266-20.744-6.798-4.648-4.532-6.973-11.621-6.973-21.267V56.653h-12.725V36.606h12.725V18.303l23.533-2.44v20.743h19.175v20.047h-19.175v41.312c0 5.578 2.44 8.367 7.321 8.367h9.762v20.918h-12.899z",fill:"url(#chat-text_svg__paint3_linear_59620_161)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"chat-text_svg__paint0_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#B666FA"}),d.createElement("stop",{offset:1,stopColor:"#A347EC"})),d.createElement("linearGradient",{id:"chat-text_svg__paint1_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#B666FA"}),d.createElement("stop",{offset:1,stopColor:"#A347EC"})),d.createElement("linearGradient",{id:"chat-text_svg__paint2_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#B666FA"}),d.createElement("stop",{offset:1,stopColor:"#A347EC"})),d.createElement("linearGradient",{id:"chat-text_svg__paint3_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#B666FA"}),d.createElement("stop",{offset:1,stopColor:"#A347EC"}))))}},contacts:{icon:p.default,text:function(e){return d.createElement("svg",a()({viewBox:"0 0 680 125",fill:"none"},e),d.createElement("path",{d:"M62.68 124.674c-11.677 0-22.324-2.748-31.94-8.243-9.503-5.61-17.002-13.166-22.497-22.668C2.748 84.261 0 73.843 0 62.509 0 51.06 2.633 40.585 7.9 31.083c5.38-9.617 12.822-17.173 22.324-22.668C39.726 2.805 50.545 0 62.68 0c9.732 0 18.089 1.546 25.073 4.637 7.098 2.976 13.394 7.727 18.89 14.253L89.642 33.658c-7.213-7.556-16.2-11.334-26.962-11.334-7.556 0-14.196 1.832-19.92 5.496-5.724 3.549-10.132 8.414-13.223 14.597-3.091 6.067-4.637 12.765-4.637 20.092 0 7.327 1.546 14.024 4.637 20.092 3.206 6.067 7.67 10.876 13.395 14.425 5.838 3.549 12.593 5.323 20.264 5.323 11.22 0 20.378-3.892 27.476-11.677l17.516 14.94c-4.808 5.839-11.105 10.476-18.89 13.91-7.67 3.435-16.543 5.152-26.618 5.152z",fill:"url(#contacts-text_svg__paint0_linear_59711_213)"}),d.createElement("path",{d:"M155.381 124.674c-9.044 0-17.173-2.061-24.385-6.182-7.213-4.236-12.88-9.903-17.001-17.001-4.122-7.213-6.183-15.055-6.183-23.527 0-8.472 2.061-16.314 6.183-23.526 4.121-7.213 9.788-12.88 17.001-17.002 7.212-4.235 15.341-6.353 24.385-6.353 9.044 0 17.173 2.118 24.385 6.354 7.213 4.121 12.88 9.788 17.001 17 4.122 7.213 6.182 15.055 6.182 23.527 0 8.472-2.06 16.314-6.182 23.527-4.121 7.098-9.788 12.765-17.001 17.001-7.212 4.121-15.341 6.182-24.385 6.182zm-24.385-46.71c0 4.694.973 8.987 2.919 12.88 2.061 3.892 4.923 6.983 8.586 9.273 3.778 2.29 8.072 3.434 12.88 3.434 4.808 0 9.044-1.144 12.708-3.434 3.778-2.29 6.64-5.38 8.586-9.273 2.061-3.893 3.091-8.186 3.091-12.88 0-4.694-1.03-8.987-3.091-12.88-2.061-3.892-4.923-6.983-8.586-9.273-3.664-2.404-7.9-3.606-12.708-3.606s-9.044 1.202-12.708 3.606c-3.663 2.29-6.526 5.381-8.586 9.274-2.061 3.892-3.091 8.185-3.091 12.88z",fill:"url(#contacts-text_svg__paint1_linear_59711_213)"}),d.createElement("path",{d:"M213.21 33.143h22.84v13.052c4.694-10.075 13.795-15.112 27.304-15.112 6.411 0 12.193 1.545 17.345 4.636 5.152 2.977 9.216 7.27 12.192 12.88 2.977 5.495 4.465 11.906 4.465 19.233v54.609h-23.183V73.499c0-7.441-1.717-12.994-5.152-16.657-3.434-3.664-8.128-5.496-14.081-5.496-5.267 0-9.674 1.89-13.223 5.667-3.549 3.664-5.324 9.16-5.324 16.486v48.942H213.21V33.143z",fill:"url(#contacts-text_svg__paint2_linear_59711_213)"}),d.createElement("path",{d:"M342.631 122.441c-9.045 0-15.857-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891H302.79V33.143h12.536V15.112l23.183-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.213 8.242h9.616v20.607h-12.707z",fill:"url(#contacts-text_svg__paint3_linear_59711_213)"}),d.createElement("path",{d:"M403.5 124.674c-8.014 0-15.398-2.061-22.153-6.182-6.755-4.236-12.135-9.903-16.142-17.001-3.893-7.098-5.839-14.883-5.839-23.355 0-8.472 1.946-16.257 5.839-23.355 4.007-7.213 9.387-12.937 16.142-17.173 6.755-4.236 14.139-6.354 22.153-6.354 7.327 0 13.223 1.374 17.688 4.122 4.579 2.747 8.128 6.697 10.647 11.849V33.143h23.011v89.298H432.35v-14.596c-2.633 5.38-6.239 9.559-10.819 12.536-4.465 2.862-10.475 4.293-18.031 4.293zm-20.951-46.71c0 4.58 1.03 8.873 3.091 12.88 2.175 3.892 5.095 7.04 8.758 9.445 3.778 2.289 8.071 3.434 12.88 3.434 4.923 0 9.273-1.145 13.051-3.434 3.893-2.29 6.869-5.381 8.93-9.274 2.061-3.892 3.091-8.185 3.091-12.88 0-4.693-1.03-8.986-3.091-12.879-2.061-4.007-5.037-7.155-8.93-9.445-3.778-2.404-8.128-3.606-13.051-3.606-4.809 0-9.102 1.202-12.88 3.606-3.778 2.29-6.697 5.381-8.758 9.274-2.061 3.892-3.091 8.185-3.091 12.88z",fill:"url(#contacts-text_svg__paint4_linear_59711_213)"}),d.createElement("path",{d:"M511.209 124.674c-8.357 0-16.085-2.061-23.183-6.182-6.984-4.236-12.536-9.96-16.658-17.173-4.121-7.213-6.182-15.055-6.182-23.527 0-8.586 2.061-16.428 6.182-23.526 4.122-7.213 9.846-12.88 17.173-17.001 7.327-4.236 15.513-6.354 24.557-6.354 7.899 0 14.997 1.488 21.294 4.465 6.297 2.862 11.334 6.926 15.112 12.192l-17.86 14.597c-2.06-3.09-4.751-5.552-8.071-7.384-3.32-1.832-6.926-2.748-10.819-2.748-4.808 0-9.044 1.202-12.707 3.607-3.664 2.29-6.526 5.38-8.587 9.273-2.06 3.892-3.091 8.186-3.091 12.88 0 4.579 1.031 8.872 3.091 12.879 2.176 3.892 5.152 7.04 8.93 9.445 3.778 2.29 8.071 3.434 12.88 3.434 4.236 0 7.899-.915 10.99-2.747 3.091-1.832 5.896-4.465 8.415-7.9l16.829 14.597c-8.93 11.449-21.695 17.173-38.295 17.173z",fill:"url(#contacts-text_svg__paint5_linear_59711_213)"}),d.createElement("path",{d:"M592.507 122.441c-9.044 0-15.856-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891h-12.536V33.143h12.536V15.112l23.184-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.212 8.242h9.617v20.607h-12.708z",fill:"url(#contacts-text_svg__paint6_linear_59711_213)"}),d.createElement("path",{d:"M644.754 124.674c-14.998 0-27.362-5.209-37.093-15.627l15.627-14.254c6.525 7.327 13.509 10.991 20.95 10.991 3.893 0 6.927-.859 9.102-2.576 2.175-1.717 3.263-3.95 3.263-6.697 0-2.519-1.088-4.465-3.263-5.839-2.061-1.488-6.411-3.034-13.051-4.637-10.876-2.633-18.203-6.24-21.981-10.819-3.664-4.579-5.496-10.246-5.496-17 0-8.014 2.977-14.54 8.93-19.577 5.953-5.152 14.082-7.728 24.385-7.728 7.442 0 13.681 1.145 18.719 3.434 5.152 2.29 9.96 6.297 14.425 12.021l-16.829 12.88c-4.007-6.411-9.274-9.617-15.799-9.617-3.32 0-6.011.687-8.072 2.06-2.06 1.26-3.091 3.206-3.091 5.84 0 1.831.745 3.434 2.233 4.808 1.603 1.26 4.865 2.519 9.788 3.778 12.25 3.206 20.608 7.155 25.072 11.85 4.58 4.693 6.87 10.646 6.87 17.859 0 5.381-1.546 10.303-4.637 14.768-2.977 4.351-7.098 7.785-12.364 10.304-5.267 2.519-11.163 3.778-17.688 3.778z",fill:"url(#contacts-text_svg__paint7_linear_59711_213)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"contacts-text_svg__paint0_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint1_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint2_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint3_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint4_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint5_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint6_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),d.createElement("linearGradient",{id:"contacts-text_svg__paint7_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF8EB7"}),d.createElement("stop",{offset:1,stopColor:"#FB2D9D"}))))}},drive:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 33 33",fill:"none"},e),d.createElement("rect",{x:.618,y:.718,width:32,height:32,rx:10.568,fill:"url(#drive_svg__paint0_linear_11347_30928)"}),d.createElement("g",{filter:"url(#drive_svg__filter0_d_11347_30928)",fill:"#fff"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.61 18.913a5.25 5.25 0 00-.228-1.54 5.455 5.455 0 00-.398-.96 5.25 5.25 0 00-.927-1.25 5.318 5.318 0 00-2.972-1.496 5.484 5.484 0 00-.779-.058 5.25 5.25 0 00-1.54.229 5.358 5.358 0 00-1.406.665 5.288 5.288 0 00-1.953 2.38 5.276 5.276 0 00-.398 2.29 5.306 5.306 0 005.037 5.037c.087.004.174.006.26.006h8.486v-5.303H16.61z"}),d.createElement("path",{d:"M19.791 24.216a7.425 7.425 0 100-14.85 7.425 7.425 0 000 14.85z"})),d.createElement("defs",null,d.createElement("linearGradient",{id:"drive_svg__paint0_linear_11347_30928",x1:4.126,y1:29.682,x2:39.046,y2:-5.32,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.248,stopColor:"#FF4759"}),d.createElement("stop",{offset:1,stopColor:"#FFD600"})),d.createElement("filter",{id:"drive_svg__filter0_d_11347_30928",x:4.371,y:8.061,width:24.477,height:18.113,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.326}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30928"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30928",result:"shape"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 374 123",fill:"none"},e),d.createElement("path",{d:"M0 3.66h41.593c13.088 0 24.068 2.496 32.941 7.487 8.984 4.991 15.695 11.868 20.131 20.63 4.437 8.762 6.655 18.855 6.655 30.28 0 11.313-2.218 21.35-6.655 30.113-4.436 8.762-11.147 15.639-20.13 20.63-8.874 4.88-19.854 7.32-32.942 7.32H0V3.66zm38.764 95.497c13.088 0 22.738-3.327 28.95-9.982 6.321-6.766 9.482-15.805 9.482-27.118 0-11.314-3.16-20.353-9.483-27.119-6.211-6.877-15.86-10.315-28.948-10.315H23.291v74.534h15.472z",fill:"url(#drive-text_svg__paint0_linear_59620_158)"}),d.createElement("path",{d:"M112.067 33.607h21.794v16.47c1.553-6.321 4.548-11.09 8.984-14.307 4.548-3.217 10.482-4.603 17.802-4.16v21.13h-3.161c-6.655 0-12.145 2.107-16.471 6.322-4.325 4.104-6.488 9.705-6.488 16.803v44.255h-22.46V33.607z",fill:"url(#drive-text_svg__paint1_linear_59620_158)"}),d.createElement("path",{d:"M168.119 33.607h22.46v86.513h-22.46V33.607zm-2.329-20.464c0-3.66 1.276-6.765 3.827-9.316C172.279 1.276 175.495 0 179.266 0c3.882 0 7.099 1.276 9.65 3.827 2.551 2.55 3.826 5.656 3.826 9.316 0 3.771-1.275 6.933-3.826 9.483-2.551 2.551-5.768 3.827-9.65 3.827-3.771 0-6.987-1.276-9.649-3.826-2.551-2.662-3.827-5.823-3.827-9.484z",fill:"url(#drive-text_svg__paint2_linear_59620_158)"}),d.createElement("path",{d:"M194.713 33.607h26.619l17.303 49.412c1.553 4.215 2.773 8.818 3.66 13.809.887-4.991 2.107-9.594 3.66-13.809l17.303-49.412h26.12l-35.936 86.513h-22.627l-36.102-86.513z",fill:"url(#drive-text_svg__paint3_linear_59620_158)"}),d.createElement("path",{d:"M329.45 122.283c-8.762 0-16.526-1.997-23.292-5.99-6.766-4.103-12.034-9.594-15.805-16.47-3.771-6.877-5.657-14.475-5.657-22.793 0-8.208 1.941-15.805 5.823-22.793 3.882-6.988 9.206-12.533 15.972-16.637 6.877-4.104 14.53-6.156 22.959-6.156 8.43 0 15.972 2.052 22.627 6.156 6.765 4.104 11.978 9.65 15.638 16.637 3.772 6.877 5.657 14.474 5.657 22.793 0 2.773-.222 5.435-.665 7.986h-64.719c1.331 5.213 3.827 9.427 7.487 12.644 3.771 3.105 8.429 4.658 13.975 4.658 4.658 0 8.818-1.053 12.478-3.16 3.66-2.219 6.544-5.047 8.651-8.486l17.469 13.144c-3.549 5.545-8.762 10.037-15.639 13.476-6.876 3.327-14.529 4.991-22.959 4.991zm21.296-54.07c-1.331-4.992-3.938-9.151-7.82-12.479-3.882-3.327-8.485-4.99-13.809-4.99-5.213 0-9.76 1.608-13.642 4.824-3.771 3.217-6.267 7.431-7.487 12.644h42.758z",fill:"url(#drive-text_svg__paint4_linear_59620_158)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"drive-text_svg__paint0_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF6372"}),d.createElement("stop",{offset:1,stopColor:"#FF3347"})),d.createElement("linearGradient",{id:"drive-text_svg__paint1_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF6372"}),d.createElement("stop",{offset:1,stopColor:"#FF3347"})),d.createElement("linearGradient",{id:"drive-text_svg__paint2_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF6372"}),d.createElement("stop",{offset:1,stopColor:"#FF3347"})),d.createElement("linearGradient",{id:"drive-text_svg__paint3_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF6372"}),d.createElement("stop",{offset:1,stopColor:"#FF3347"})),d.createElement("linearGradient",{id:"drive-text_svg__paint4_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FF6372"}),d.createElement("stop",{offset:1,stopColor:"#FF3347"}))))}},mail:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 32 32",fill:"none"},e),d.createElement("rect",{width:32,height:32,rx:10,fill:"url(#mail_svg__paint0_linear_3096_880)"}),d.createElement("g",{filter:"url(#mail_svg__filter0_d_3096_880)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.585 11.774a3.048 3.048 0 00-1.2 2.423v8.7a3.658 3.658 0 003.658 3.658H22.94a3.658 3.658 0 003.658-3.658v-8.7c0-.95-.444-1.847-1.2-2.423L17.84 6.009a3.048 3.048 0 00-3.697 0l-7.558 5.764zm1.157 2.07v9.18c0 .674.546 1.22 1.22 1.22h14.06a1.22 1.22 0 001.219-1.22v-9.18l-6.85 4.798a2.439 2.439 0 01-2.798 0l-6.851-4.798z",fill:"#fff"})),d.createElement("defs",null,d.createElement("linearGradient",{id:"mail_svg__paint0_linear_3096_880",x1:4.487,y1:28.638,x2:31.249,y2:1.55,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#1E91FF"}),d.createElement("stop",{offset:.997,stopColor:"#2ED9FF"})),d.createElement("filter",{id:"mail_svg__filter0_d_3096_880",x:3.753,y:4.079,width:24.477,height:24.434,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.326}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_880"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_880",result:"shape"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 311 125",fill:"none"},e),d.createElement("path",{d:"M0 5.046h29.266l24.389 51.973c6.84 14.465 11.213 24.949 13.12 31.453 1.569-6.055 5.886-16.54 12.95-31.453l24.557-51.973h28.257v117.738h-23.043v-47.6c0-7.737.112-14.016.337-18.838.224-4.822.672-9.924 1.345-15.306l-39.19 81.744H60.551L21.36 41.04c.673 5.382 1.121 10.484 1.346 15.306.224 4.822.336 11.1.336 18.838v47.6H0V5.046z",fill:"url(#mail-text_svg__paint0_linear_59620_156)"}),d.createElement("path",{d:"M187.488 124.97c-7.849 0-15.081-2.018-21.697-6.055-6.616-4.149-11.886-9.699-15.811-16.651-3.812-6.952-5.718-14.577-5.718-22.875s1.906-15.923 5.718-22.875c3.925-7.064 9.195-12.67 15.811-16.82 6.616-4.148 13.848-6.223 21.697-6.223 7.177 0 12.951 1.346 17.325 4.037 4.485 2.691 7.961 6.56 10.428 11.605V35.322h22.538v87.463h-22.034v-14.297c-2.579 5.27-6.111 9.363-10.596 12.278-4.373 2.804-10.26 4.205-17.661 4.205zm-20.52-45.75c0 4.486 1.009 8.69 3.028 12.615 2.13 3.813 4.99 6.897 8.578 9.251 3.7 2.243 7.905 3.364 12.615 3.364 4.821 0 9.082-1.121 12.783-3.364 3.812-2.242 6.727-5.27 8.746-9.082 2.018-3.813 3.027-8.018 3.027-12.615 0-4.597-1.009-8.802-3.027-12.615-2.019-3.924-4.934-7.008-8.746-9.25-3.701-2.355-7.962-3.533-12.783-3.533-4.71 0-8.915 1.178-12.615 3.532-3.7 2.243-6.56 5.27-8.578 9.083-2.019 3.812-3.028 8.017-3.028 12.615z",fill:"url(#mail-text_svg__paint1_linear_59620_156)"}),d.createElement("path",{d:"M251.27 35.321h22.707v87.463H251.27V35.321zm-2.354-20.688c0-3.7 1.289-6.84 3.868-9.419 2.691-2.579 5.943-3.868 9.756-3.868 3.924 0 7.176 1.29 9.755 3.868 2.579 2.58 3.869 5.719 3.869 9.42 0 3.812-1.29 7.007-3.869 9.586-2.579 2.58-5.831 3.869-9.755 3.869-3.813 0-7.065-1.29-9.756-3.869-2.579-2.69-3.868-5.886-3.868-9.587z",fill:"url(#mail-text_svg__paint2_linear_59620_156)"}),d.createElement("path",{d:"M287.406 0h22.707v122.784h-22.707V0z",fill:"url(#mail-text_svg__paint3_linear_59620_156)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"mail-text_svg__paint0_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#57B9FF"}),d.createElement("stop",{offset:1,stopColor:"#0B84FF"})),d.createElement("linearGradient",{id:"mail-text_svg__paint1_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#57B9FF"}),d.createElement("stop",{offset:1,stopColor:"#0B84FF"})),d.createElement("linearGradient",{id:"mail-text_svg__paint2_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#57B9FF"}),d.createElement("stop",{offset:1,stopColor:"#0B84FF"})),d.createElement("linearGradient",{id:"mail-text_svg__paint3_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#57B9FF"}),d.createElement("stop",{offset:1,stopColor:"#0B84FF"}))))}},notes:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 33 33",fill:"none"},e),d.createElement("rect",{x:.718,y:.718,width:32,height:32,rx:10.568,fill:"url(#notes_svg__paint0_linear_11347_30909)"}),d.createElement("g",{filter:"url(#notes_svg__filter0_d_11347_30909)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.71 6.43c-1.434 0-2.628.913-2.886 2.12h-1.847a4.569 4.569 0 00-4.569 4.57v9.464a4.569 4.569 0 004.57 4.569h9.464a4.569 4.569 0 004.569-4.57V13.12a4.569 4.569 0 00-4.57-4.57h-1.846c-.258-1.207-1.451-2.12-2.885-2.12zm2.266 6.823c.51-.51 1.337-.51 1.846 0l.347.346c.51.51.51 1.337 0 1.846l-.577.577-2.193-2.192.577-.577zm-1.269 1.27l2.192 2.192-6.135 6.135a.326.326 0 01-.23.095h-1.731a.326.326 0 01-.327-.326v-1.73c0-.087.035-.17.096-.231l6.135-6.136z",fill:"#fff"})),d.createElement("defs",null,d.createElement("linearGradient",{id:"notes_svg__paint0_linear_11347_30909",x1:6.266,y1:29.845,x2:30.906,y2:2.676,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#FFB81E"}),d.createElement("stop",{offset:1,stopColor:"#FFE098"})),d.createElement("filter",{id:"notes_svg__filter0_d_11347_30909",x:5.777,y:5.124,width:21.866,height:23.987,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.326}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30909"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30909",result:"shape"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 479 136",fill:"none"},e),d.createElement("path",{d:"M0 132.881V0h20.122l64.732 76.881c3.037 3.417 6.075 7.024 8.732 11.01-.759-5.695-.949-13.857-.949-21.64V0h24.298v132.881H99.661l-67.2-79.918c-3.037-3.417-6.075-7.024-8.732-11.01.76 5.694.949 13.857.949 21.64v69.288H0z",fill:"url(#notes-text_svg__paint0_linear_59620_144)"}),d.createElement("path",{d:"M182.772 135.349c-30.562 0-52.583-23.159-52.583-51.634 0-28.474 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.475-22.02 51.634-52.583 51.634zm-26.956-51.634c0 15.376 10.631 28.285 26.956 28.285 16.326 0 26.956-12.909 26.956-28.285s-10.63-28.474-26.956-28.474c-16.325 0-26.956 13.098-26.956 28.474z",fill:"url(#notes-text_svg__paint1_linear_59620_144)"}),d.createElement("path",{d:"M278.718 132.881c-19.552 0-30.183-9.112-30.183-30.563V56h-13.857V34.17h13.857V14.236l25.627-2.657v22.59h20.882V56h-20.882v44.99c0 6.264 3.038 9.112 7.973 9.112h10.631v22.779h-14.048z",fill:"url(#notes-text_svg__paint2_linear_59620_144)"}),d.createElement("path",{d:"M348.282 135.349c-30.563 0-51.064-23.159-51.064-51.634 0-28.474 21.451-52.013 51.064-52.013 29.614 0 50.115 23.539 50.115 52.013 0 2.848-.19 5.885-.759 9.112h-73.844c2.847 11.58 11.58 19.742 24.488 19.742 11.01 0 19.553-5.695 24.108-13.288l19.933 14.997c-7.973 12.339-24.488 21.071-44.041 21.071zm-24.488-61.695h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.163-24.108 19.932z",fill:"url(#notes-text_svg__paint3_linear_59620_144)"}),d.createElement("path",{d:"M440.657 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.746-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892z",fill:"url(#notes-text_svg__paint4_linear_59620_144)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"notes-text_svg__paint0_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFC953"}),d.createElement("stop",{offset:1,stopColor:"#FFB81E"})),d.createElement("linearGradient",{id:"notes-text_svg__paint1_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFC953"}),d.createElement("stop",{offset:1,stopColor:"#FFB81E"})),d.createElement("linearGradient",{id:"notes-text_svg__paint2_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFC953"}),d.createElement("stop",{offset:1,stopColor:"#FFB81E"})),d.createElement("linearGradient",{id:"notes-text_svg__paint3_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFC953"}),d.createElement("stop",{offset:1,stopColor:"#FFB81E"})),d.createElement("linearGradient",{id:"notes-text_svg__paint4_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{stopColor:"#FFC953"}),d.createElement("stop",{offset:1,stopColor:"#FFB81E"}))))}},passwords:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 32 32",fill:"none"},e),d.createElement("path",{d:"M0 10.568C0 4.731 4.73 0 10.568 0h10.864C27.268 0 32 4.731 32 10.568v10.864C32 27.269 27.268 32 21.432 32H10.568C4.73 32 0 27.268 0 21.432V10.568z",fill:"url(#pass_svg__paint0_linear_11350_7889)"}),d.createElement("g",{filter:"url(#pass_svg__filter0_d_11350_7889)"},d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.328 23.872a.622.622 0 01-.618-.63l.023-1.823 5.177-5.176c-.455-.951-.607-1.976-.458-3.077.15-1.1.644-2.07 1.48-2.906 1.034-1.033 2.274-1.55 3.72-1.55 1.447 0 2.687.517 3.72 1.55 1.034 1.033 1.55 2.273 1.55 3.72 0 1.446-.516 2.686-1.55 3.72a5.14 5.14 0 01-2.836 1.472 5.094 5.094 0 01-3.146-.45l-.218.217v1.858a.622.622 0 01-.622.622h-1.235a.622.622 0 00-.622.623v1.231a.622.622 0 01-.626.622l-3.739-.023zm10.256-9.294a1.555 1.555 0 100-3.11 1.555 1.555 0 000 3.11z",fill:"#fff"})),d.createElement("defs",null,d.createElement("linearGradient",{id:"pass_svg__paint0_linear_11350_7889",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#B6C4DF"}),d.createElement("stop",{offset:1,stopColor:"#D3DDF5"})),d.createElement("filter",{id:"pass_svg__filter0_d_11350_7889",x:5.99,y:6.534,width:20.652,height:20.625,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.544}),d.createElement("feGaussianBlur",{stdDeviation:1.36}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11350_7889"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11350_7889",result:"shape"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 370 136",fill:"none"},e),d.createElement("path",{d:"M0 132.881V0h44.8c29.803 0 48.027 14.047 48.027 41.953 0 28.094-18.224 42.711-48.027 42.711H26.576v48.217H0zm26.576-72.135h16.705c14.427 0 22.59-5.885 22.59-18.604 0-12.529-8.163-18.413-22.59-18.413H26.576v37.017zm116.25 74.603c-27.145 0-48.786-22.97-48.786-51.444 0-28.475 21.641-51.824 48.786-51.824 17.085 0 26.007 7.024 31.322 17.654V34.17h25.438v98.712h-24.868v-16.135c-5.315 11.2-14.237 18.603-31.892 18.603zm-23.159-51.634c0 14.997 11.01 28.475 27.336 28.475 16.895 0 27.715-12.909 27.715-28.285s-10.82-28.664-27.715-28.664c-16.326 0-27.336 13.098-27.336 28.474zm128.935 51.634c-16.705 0-30.183-5.695-41.003-17.275l17.274-15.756c7.214 8.163 14.807 12.15 23.159 12.15 8.733 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.372-18.224-30.372-30.752 0-17.275 13.667-30.183 36.827-30.183 15.945 0 26.576 3.986 36.637 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.665 7.403 35.309 18.034 35.309 32.84 0 18.224-16.516 31.892-38.346 31.892zm82.124 0c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892z",fill:"#A4A5B8"}))}},store:{icon:h.A,text:function(e){return d.createElement("svg",a()({viewBox:"0 0 440 138",fill:"none"},e),d.createElement("path",{d:"M51.78 137.863c-21.07 0-39.294-8.352-50.874-28.664l22.97-14.617c6.834 13.668 17.844 19.553 29.423 19.553 12.34 0 19.933-6.075 19.933-15.187 0-13.288-14.048-17.464-30.373-21.64-20.502-5.316-33.6-17.275-33.6-37.397C9.259 15.992 28.052.237 56.147.237c20.691 0 33.98 9.111 43.85 24.678L77.219 38.962c-6.454-10.25-12.529-14.997-22.4-14.997-10.63 0-18.413 5.695-18.413 14.617 0 9.871 9.491 13.099 21.07 16.705 15.567 4.936 42.902 11.77 42.902 42.143 0 24.108-18.413 40.433-48.596 40.433z",fill:"url(#store-text_svg__paint0_linear_59617_306)"}),d.createElement("path",{d:"M147.626 135.396c-19.553 0-30.183-9.112-30.183-30.563V58.514h-13.858v-21.83h13.858V16.752l25.627-2.658v22.59h20.881v21.83H143.07v44.99c0 6.265 3.037 9.112 7.973 9.112h10.63v22.78h-14.047z",fill:"url(#store-text_svg__paint1_linear_59617_306)"}),d.createElement("path",{d:"M218.708 137.863c-30.562 0-52.583-23.159-52.583-51.633 0-28.475 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.474-22.02 51.633-52.583 51.633zM191.752 86.23c0 15.376 10.631 28.284 26.956 28.284 16.326 0 26.956-12.908 26.956-28.284 0-15.377-10.63-28.475-26.956-28.475-16.325 0-26.956 13.098-26.956 28.475z",fill:"url(#store-text_svg__paint2_linear_59617_306)"}),d.createElement("path",{d:"M282.634 135.396V36.684h24.867v18.793c3.417-14.237 13.478-22.02 30.563-21.071v24.108h-3.607c-14.807 0-26.196 9.872-26.196 26.387v50.495h-25.627z",fill:"url(#store-text_svg__paint3_linear_59617_306)"}),d.createElement("path",{d:"M389.038 137.863c-30.563 0-51.064-23.159-51.064-51.633 0-28.475 21.45-52.014 51.064-52.014 29.613 0 50.115 23.54 50.115 52.014 0 2.847-.19 5.884-.759 9.111H364.55c2.847 11.58 11.579 19.743 24.488 19.743 11.01 0 19.552-5.695 24.108-13.288l19.932 14.996c-7.972 12.339-24.488 21.071-44.04 21.071zM364.55 76.169h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.162-24.108 19.932z",fill:"url(#store-text_svg__paint4_linear_59617_306)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"store-text_svg__paint0_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),d.createElement("stop",{offset:1,stopColor:"#91CFFF"})),d.createElement("linearGradient",{id:"store-text_svg__paint1_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),d.createElement("stop",{offset:1,stopColor:"#91CFFF"})),d.createElement("linearGradient",{id:"store-text_svg__paint2_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),d.createElement("stop",{offset:1,stopColor:"#91CFFF"})),d.createElement("linearGradient",{id:"store-text_svg__paint3_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),d.createElement("stop",{offset:1,stopColor:"#91CFFF"})),d.createElement("linearGradient",{id:"store-text_svg__paint4_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),d.createElement("stop",{offset:1,stopColor:"#91CFFF"}))))}},photos:{icon:function(e){return d.createElement("svg",a()({viewBox:"0 0 32 32",fill:"none"},e),d.createElement("rect",{width:32,height:32,rx:10,fill:"url(#photos_svg__paint0_linear_4180_38328)"}),d.createElement("g",{filter:"url(#photos_svg__filter0_d_4180_38328)",fill:"#fff"},d.createElement("mask",{id:"photos_svg__a"},d.createElement("path",{d:"M18.955 5.711c2.579 0 3.868 0 4.853.502a4.605 4.605 0 012.013 2.013c.502.985.502 2.274.502 4.853v5.988c0 2.579 0 3.868-.502 4.853a4.605 4.605 0 01-2.013 2.013c-.985.502-2.274.502-4.853.502h-5.988c-2.579 0-3.868 0-4.853-.502A4.606 4.606 0 016.1 23.92c-.502-.985-.502-2.274-.502-4.853v-5.988c0-2.579 0-3.868.502-4.853a4.605 4.605 0 012.013-2.013c.985-.502 2.274-.502 4.853-.502h5.988z"})),d.createElement("path",{d:"M18.955 5.711V3.223 5.71zm4.853.502l-1.13 2.217 1.13-2.217zm2.013 2.013l-2.218 1.13 2.218-1.13zm.502 4.853h2.488-2.488zm0 5.988h2.488-2.488zm-.502 4.853l-2.218-1.13 2.218 1.13zm-2.013 2.013l-1.13-2.218 1.13 2.218zm-4.853.502v2.488-2.488zm-5.988 0v2.488-2.488zm-4.853-.502l1.13-2.217-1.13 2.217zM6.1 23.92l2.217-1.13L6.1 23.92zm-.5-4.853H3.111h2.488zm0-5.988H3.111h2.488zm.502-4.853l2.217 1.13-2.217-1.13zm2.013-2.013l1.13 2.217-1.13-2.217zm4.853-.502V3.223 5.71zM18.955 8.2c1.33 0 2.178.002 2.821.054.614.05.82.134.902.176l2.26-4.434c-.902-.46-1.834-.627-2.756-.702-.893-.073-1.979-.071-3.227-.071V8.2zm3.723.23c.399.203.723.527.925.926l4.435-2.26a7.093 7.093 0 00-3.1-3.1l-2.26 4.434zm.925.926c.043.083.127.288.177.902.052.643.054 1.49.054 2.821h4.977c0-1.248.002-2.334-.07-3.227-.076-.922-.243-1.854-.703-2.756l-4.434 2.26zm.231 3.723v5.988h4.977v-5.988h-4.977zm0 5.988c0 1.33-.002 2.178-.054 2.821-.05.614-.134.82-.177.902l4.435 2.26c.46-.902.627-1.834.702-2.756.073-.893.071-1.979.071-3.227h-4.977zm-.23 3.724a2.117 2.117 0 01-.926.924l2.26 4.435a7.093 7.093 0 003.1-3.1l-4.434-2.26zm-.926.925c-.083.042-.288.126-.902.176-.643.052-1.49.054-2.821.054v4.977c1.248 0 2.334.002 3.227-.07.922-.076 1.854-.243 2.756-.703l-2.26-4.434zm-3.723.23h-5.988v4.977h5.988v-4.977zm-5.988 0c-1.33 0-2.178-.002-2.822-.054-.614-.05-.818-.134-.901-.176l-2.26 4.434c.902.46 1.834.627 2.756.702.893.073 1.979.071 3.227.071v-4.977zm-3.724-.23a2.117 2.117 0 01-.925-.925L3.884 25.05a7.094 7.094 0 003.1 3.1l2.26-4.434zm-.925-.926c-.042-.083-.126-.288-.176-.902-.052-.643-.054-1.49-.054-2.821H3.11c0 1.248-.002 2.334.07 3.227.076.922.243 1.854.703 2.756l4.434-2.26zm-.23-3.723v-5.988H3.11v5.988h4.977zm0-5.988c0-1.33.002-2.178.054-2.821.05-.614.134-.82.176-.902l-4.434-2.26c-.46.902-.627 1.834-.702 2.756-.073.893-.071 1.979-.071 3.227h4.977zm.23-3.723c.203-.399.527-.723.925-.926L6.984 3.996a7.094 7.094 0 00-3.1 3.1l4.434 2.26zm.926-.926c.083-.042.287-.126.902-.176.643-.052 1.49-.054 2.821-.054V3.223c-1.248 0-2.334-.002-3.227.07-.922.076-1.854.243-2.756.703l2.26 4.434zm3.723-.23h5.988V3.223h-5.988V8.2z",mask:"url(#photos_svg__a)"})),d.createElement("g",{filter:"url(#photos_svg__filter1_d_4180_38328)"},d.createElement("circle",{cx:13.5,cy:13.5,r:2.5,fill:"#fff"})),d.createElement("path",{d:"M7.538 23.26a.467.467 0 00.377.74h17.162a.467.467 0 00.376-.743l-5.205-7.071a1 1 0 00-1.654.063l-2.955 4.728a1 1 0 01-1.641.08l-1.682-2.194a1 1 0 00-1.603.021L7.538 23.26z",fill:"#fff"}),d.createElement("defs",null,d.createElement("filter",{id:"photos_svg__filter0_d_4180_38328",x:3.967,y:4.406,width:23.987,height:23.987,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.326}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4180_38328"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4180_38328",result:"shape"})),d.createElement("filter",{id:"photos_svg__filter1_d_4180_38328",x:9.368,y:9.695,width:8.264,height:8.264,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),d.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),d.createElement("feOffset",{dy:.326}),d.createElement("feGaussianBlur",{stdDeviation:.816}),d.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),d.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),d.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4180_38328"}),d.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4180_38328",result:"shape"})),d.createElement("linearGradient",{id:"photos_svg__paint0_linear_4180_38328",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"}))))},text:function(e){return d.createElement("svg",a()({viewBox:"0 0 554 140",fill:"none"},e),d.createElement("path",{d:"M.91 137.248V6.039h44.237c29.428 0 47.422 13.87 47.422 41.424 0 27.742-17.994 42.175-47.422 42.175H27.152v47.61H.911zM27.153 66.02h16.495c14.246 0 22.306-5.81 22.306-18.37 0-12.37-8.06-18.18-22.306-18.18H27.152v36.55z",fill:"url(#photos-text_svg__paint0_linear_12748_109)"}),d.createElement("path",{d:"M101.909 137.248V.416h25.304v52.858c5.249-10.497 14.808-15.745 29.429-15.745 20.993 0 37.113 15.558 37.113 40.112v59.607H168.45V83.827c0-16.87-8.434-24.18-20.993-24.18-10.684 0-20.244 7.31-20.244 24.18v53.421h-25.304z",fill:"url(#photos-text_svg__paint1_linear_12748_109)"}),d.createElement("path",{d:"M256.066 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984zM229.449 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116z",fill:"url(#photos-text_svg__paint2_linear_12748_109)"}),d.createElement("path",{d:"M350.804 137.248c-19.306 0-29.803-8.998-29.803-30.178V61.334h-13.683V39.778h13.683v-19.68l25.304-2.625v22.305h20.619v21.556h-20.619v44.423c0 6.186 2.999 8.998 7.873 8.998h10.497v22.493h-13.871z",fill:"url(#photos-text_svg__paint3_linear_12748_109)"}),d.createElement("path",{d:"M420.992 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984zM394.375 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116z",fill:"url(#photos-text_svg__paint4_linear_12748_109)"}),d.createElement("path",{d:"M515.463 139.684c-16.494 0-29.803-5.623-40.487-17.057l17.057-15.557c7.123 8.06 14.621 11.996 22.868 11.996 8.622 0 13.496-4.311 13.496-10.122 0-5.061-2.437-7.873-17.807-11.434-26.054-6.186-29.991-17.994-29.991-30.365 0-17.057 13.496-29.803 36.364-29.803 15.745 0 26.242 3.936 36.176 16.87L534.77 68.268c-4.686-7.497-10.684-10.496-17.245-10.496-6.935 0-12.183 2.624-12.183 8.622 0 3.374 1.499 6.373 13.12 9.372 28.304 7.31 34.864 17.807 34.864 32.427 0 17.995-16.307 31.49-37.863 31.49z",fill:"url(#photos-text_svg__paint5_linear_12748_109)"}),d.createElement("defs",null,d.createElement("linearGradient",{id:"photos-text_svg__paint0_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"})),d.createElement("linearGradient",{id:"photos-text_svg__paint1_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"})),d.createElement("linearGradient",{id:"photos-text_svg__paint2_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"})),d.createElement("linearGradient",{id:"photos-text_svg__paint3_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"})),d.createElement("linearGradient",{id:"photos-text_svg__paint4_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"})),d.createElement("linearGradient",{id:"photos-text_svg__paint5_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),d.createElement("stop",{offset:1,stopColor:"#73DEEA"}))))}},home:{icon:v.default,text:function(e){return d.createElement("svg",a()({viewBox:"0 0 114 22",fill:"none"},e),d.createElement("path",{d:"M95.23 17.435c-1.728 0-3.166-.574-4.313-1.72-1.132-1.148-1.698-2.562-1.698-4.245 0-1.682.566-3.096 1.698-4.243 1.147-1.147 2.585-1.721 4.313-1.721 1.162 0 2.202.275 3.12.826.933.55 1.659 1.3 2.179 2.248l-1.72.963a3.964 3.964 0 00-1.446-1.605c-.612-.398-1.323-.597-2.133-.597-1.178 0-2.141.398-2.89 1.193-.75.795-1.125 1.774-1.125 2.936 0 1.163.375 2.141 1.124 2.937.75.795 1.713 1.193 2.89 1.193.811 0 1.522-.2 2.134-.597a3.963 3.963 0 001.445-1.606l1.721.964a5.808 5.808 0 01-2.18 2.248c-.917.55-1.957.826-3.12.826zm-14.622 0c-.887 0-1.644-.16-2.271-.482a3.51 3.51 0 01-1.4-1.354 3.962 3.962 0 01-.481-1.95c0-1.208.351-2.08 1.055-2.615.719-.535 1.743-.803 3.074-.803h3.946v-.825c0-1.04-.238-1.76-.712-2.157-.458-.397-1.154-.596-2.087-.596-.872 0-1.507.168-1.904.504-.398.322-.62.689-.665 1.102h-2.02a3.1 3.1 0 01.666-1.744c.398-.52.94-.933 1.629-1.239.688-.305 1.491-.458 2.409-.458.963 0 1.797.153 2.5.458a3.315 3.315 0 011.629 1.4c.382.627.573 1.46.573 2.5v6.63c.016.474.054.94.115 1.4h-1.766a12.303 12.303 0 01-.092-.987c-.015-.321-.023-.68-.023-1.078-.321.642-.841 1.185-1.56 1.628-.719.444-1.59.666-2.615.666zm.436-1.836c.642 0 1.223-.114 1.743-.344a2.86 2.86 0 001.262-1.009c.321-.444.482-.987.482-1.629v-.826h-3.602c-.75 0-1.338.153-1.766.46-.429.29-.643.756-.643 1.399 0 .565.2 1.032.597 1.399.413.367 1.055.55 1.927.55zm-9.426 1.606V0h1.973v17.205h-1.973zM59.102 22h-1.973V5.735h1.973v1.767c.397-.581.956-1.055 1.674-1.422a5.04 5.04 0 012.363-.574c1.59 0 2.921.581 3.992 1.743 1.085 1.163 1.629 2.57 1.629 4.221 0 1.652-.544 3.06-1.63 4.221-1.07 1.163-2.4 1.744-3.99 1.744a5.211 5.211 0 01-2.364-.55c-.719-.383-1.277-.865-1.674-1.446V22zm.94-7.57c.734.795 1.667 1.193 2.799 1.193s2.065-.398 2.799-1.193c.734-.796 1.1-1.782 1.1-2.96 0-1.177-.366-2.164-1.1-2.959-.734-.795-1.667-1.193-2.8-1.193-1.13 0-2.064.398-2.798 1.193s-1.1 1.782-1.1 2.96c0 1.177.366 2.163 1.1 2.959zm-7.055 2.775l-6.216-5.735v5.735h-1.973V0h1.973v10.208l5-4.473h2.616l-5.644 5.07 6.905 6.4h-2.66zm-16.821 0V5.735h1.973V7.96a3.135 3.135 0 011.238-1.698c.627-.428 1.285-.642 1.973-.642.337 0 .635.03.895.092v2.041c-.275-.122-.635-.183-1.078-.183-.796 0-1.499.344-2.11 1.032-.613.688-.918 1.66-.918 2.914v5.689h-1.973zm-8.78.23c-1.728 0-3.165-.574-4.312-1.72-1.132-1.163-1.698-2.578-1.698-4.245 0-1.667.566-3.074 1.698-4.22 1.147-1.163 2.584-1.744 4.312-1.744 1.713 0 3.136.581 4.267 1.743 1.147 1.147 1.72 2.554 1.72 4.221 0 1.667-.573 3.082-1.72 4.244-1.131 1.147-2.554 1.72-4.267 1.72zm-2.89-3.028c.75.795 1.713 1.193 2.89 1.193 1.178 0 2.134-.398 2.868-1.193.734-.796 1.101-1.774 1.101-2.937 0-1.162-.367-2.14-1.101-2.936-.734-.795-1.69-1.193-2.868-1.193-1.177 0-2.14.398-2.89 1.193-.734.795-1.101 1.774-1.101 2.936 0 1.163.367 2.141 1.1 2.937zm-10.181 2.798L10.323 6.148 6.354 17.205H4.45L0 .917h2.225l3.395 12.71L10.323.641l4.703 12.984L18.444.917h2.225l-4.45 16.288h-1.904zm93.794.23c-1.759 0-3.189-.566-4.29-1.698-1.101-1.131-1.652-2.554-1.652-4.267 0-1.697.559-3.112 1.675-4.243 1.116-1.147 2.546-1.721 4.29-1.721 1.544 0 2.837.52 3.877 1.56 1.055 1.025 1.583 2.424 1.583 4.198 0 .23-.008.428-.023.596h-9.406c.031 1.071.413 1.966 1.147 2.684.75.72 1.69 1.079 2.822 1.079 1.606 0 2.798-.666 3.578-1.996l1.56 1.078c-1.116 1.82-2.837 2.73-5.161 2.73zm-3.808-7.18h7.272c-.153-.918-.558-1.644-1.216-2.18-.642-.55-1.407-.826-2.294-.826-.902 0-1.713.276-2.432.826-.703.536-1.147 1.262-1.33 2.18z",fill:"#97A3B7"}))}}},k=function(e){var t=e.slug,n=e.tag,r=e.className,i=e.children,c=o()(e,b),u=(0,g.useCozyTheme)().isLight,l=w[t];return l?d.createElement("div",{className:"u-flex u-flex-items-center"},d.createElement(f.default,{icon:l.icon,size:"32",className:"styles__c-apptitle-app-icon___oQp8q"}),d.createElement(f.default,{icon:m,width:"auto",height:"22",className:s()("u-mr-half","u-w-auto",u?"styles__c-apptitle-light___49VIZ":"styles__c-apptitle-dark___13RM5")}),d.createElement(f.default,{icon:l.text,width:"auto",height:"22",className:s()("u-w-auto","home"===t?"styles__c-apptitle-home-icon___1xJsd":void 0)})):d.createElement(y.default,a()({component:n,variant:"h4",className:s()("styles__c-apptitle___eqV9l",r)},c),i)};k.propTypes={slug:l().string,tag:l().string,className:l().string},k.defaultProps={tag:"h1"};let x=k},98175:function(e,t,n){"use strict";n.d(t,{O3:()=>a,Yc:()=>o,lk:()=>r});var r=["sunrise","downy","sugarCoral","pinkBonnet","blueMana","nightBlue","snowPea","pluviophile","cornflower","paleGreen","moonBlue"],a={sunrise:"linear-gradient(136deg, #F8D280 14.84%, #F2AC69 96.03%)",downy:"linear-gradient(136deg, #81EAD4 14.84%, #62C6B7 96.03%)",sugarCoral:"linear-gradient(136deg, #F19E86 14.84%, #F95967 96.03%)",pinkBonnet:"linear-gradient(136deg, #E4ABF0 14.84%, #D96EED 96.03%)",blueMana:"linear-gradient(136deg, #85D9FD 14.84%, #2A9EFC 96.03%)",nightBlue:"linear-gradient(136deg, #80AEFF 39.32%, #883DFE 96.03%)",snowPea:"linear-gradient(136deg, #BDF4A1 14.84%, #52CE64 96.03%)",pluviophile:"linear-gradient(136deg, #A1D6F4 14.84%, #52CEC2 96.03%)",cornflower:"linear-gradient(135deg, #86D9D3 0%, #1CCFB4 100%)",paleGreen:"linear-gradient(135deg, #E2FA17 0%, #75D8CB 100%)",moonBlue:"linear-gradient(136deg, #6DCFFF 14.84%, #3D88F8 96.03%)"},i=Object.values(r).filter(Boolean),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Array.from(e.toUpperCase()).map(function(e){return e.charCodeAt(0)}).reduce(function(e,t){return e+t},0)%i.length;return i[t]}},27998:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(21259),a=n.n(r),i=n(16193),o=n.n(i),c=n(26396),s=n.n(c),u=n(39892),l=n.n(u),d=n(71423),f=n(4103),p=n.n(f),h=n(73294),m=n.n(h),v=n(96540),y=n(98175),g=n(82096),b=n(67515),w=["className","color","size","border","innerBorder","disabled","display"],k=(0,g.A)(function(e){return{root:{width:function(e){return e.size},height:function(e){return e.size},fontSize:function(e){return e.size/2}},colorDefault:{color:function(t){return t.color?e.palette.primary.contrastText:""},background:function(e){var t=e.color;return y.O3[t]}}}}),x=function(e){var t,n=e.className,r=e.color,a=e.size,i=e.border,c=e.innerBorder,u=e.disabled,f=e.display,h=l()(e,w),m="number"==typeof a,g="string"==typeof h.children?(0,y.Yc)(h.children):void 0,x=k({size:m?a:void 0,color:"none"===r?void 0:y.lk.includes(r)?r:g});return v.createElement(d.A,o()({classes:x,className:p()(n,(t={},s()(t,"size-".concat(a),!m),s()(t,"disabled",!!u),s()(t,"border",!!i),s()(t,"display".concat((0,b.A)(f)),"initial"!==f),s()(t,"innerBorder",!!c),t))},h))};x.propTypes={className:m().string,size:m().oneOfType([m().oneOf(["xs","s","m","l","xl"]),m().number]),color:m().oneOf([].concat(a()(y.lk),["none"])),display:m().oneOf(["initial","inline"]),disabled:m().bool},x.defaultProps={display:"initial",size:"m"};let O=x},73017:function(e,t,n){"use strict";n.d(t,{A:()=>b});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(53058),l=n(4103),d=n.n(l),f=n(73294),p=n.n(f),h=n(96540),m=n(82096),v=["isOver"],y=(0,m.A)({isOver:{zIndex:"calc(var(--zIndex-modal-toolbar) + 1)"}}),g=function(e){var t=e.isOver,n=s()(e,v),r=y();return h.createElement(u.A,a()({},n,{className:d()(o()({},r.isOver,t),n.className)}))};g.propTypes={isOver:p().bool};let b=g},25174:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(36936),l=n(4103),d=n.n(l),f=n(73294),p=n.n(f),h=n(96540),m=["classes","size","withBorder","overlap","color"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var y=function(e){var t=e.classes,n=e.size,r=e.withBorder,i=e.overlap,c=e.color,l=s()(e,m);return h.createElement(u.A,a()({classes:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({badge:d()({small:"badgeSizeSmall",medium:"badgeSizeMedium",large:"badgeSizeLarge"}[n],{badgeBorder:!!r,colorSuccess:"success"===c,colorWarning:"warning"===c,colorInfo:"info"===c})},void 0===t?{}:t),overlap:"circle"===i?"circular":"rectangle"===i?"rectangular":i,color:["success","warning","info"].includes(c)?"primary":c},l))};y.propTypes={anchorOrigin:p().shape({horizontal:p().oneOf(["left","right"]),vertical:p().oneOf(["bottom","top"])}),className:p().string,color:p().oneOf(["default","success","warning","error","info","primary","secondary"]),size:p().oneOf(["small","medium","large"]),showZero:p().bool,variant:p().oneOf(["standard","dot"]),withBorder:p().bool},y.defaultProps={anchorOrigin:{horizontal:"right",vertical:"top"},size:"medium",showZero:!0,withBorder:!0,overlap:"circular"};let g=y},41483:function(e,t,n){"use strict";n.d(t,{A:()=>G});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(21259),s=n.n(c),u=n(22056),l=n.n(u),d=n(26396),f=n.n(d),p=n(95834),h=n(71846),m=n(99373),v=n(73294),y=n.n(v),g=n(96540),b=n(27035),w=n(98687),k=n(73017);let x=function(e){var t=e.showBackdrop,n=e.onClick,r=e.children,a=t?k.A:g.Fragment;return g.createElement(a,t?{open:t,onClick:n}:void 0,r)};var O=function(e){return parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-".concat(e)))},_=n(18340),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ref,n=e.height,r=1;return n?r=n:t&&t.current&&(r=t.current.offsetHeight),r+((0,_.getFlagshipMetadata)().statusBarHeight||0)+O("top")},C=function(e){var t=E(e);return window.innerHeight-t},S=function(e){var t=e.backdrop,n=e.maxHeight,r=e.mediumHeight,a=e.mediumHeightRatio,i=e.innerContentHeight,o=e.bottomSpacerHeight,c=e.offset,s=r||Math.round(n*a);return t?s<i?s<n?s:n:i>n?n:i+o:i<s?i+c:s>n?n:s},P=function(e){var t=e.isClosable,n=e.isOpenMin,r=e.headerRef,a=e.offset,i=e.actionButtonsHeight,o=e.actionButtonsBottomMargin;return t&&!n?0:r.current.offsetHeight+(void 0===a?0:a)+i+o+((0,_.getFlagshipMetadata)().navbarHeight||0)+O("bottom")},A=function(e){var t=e.snapIndex,n=e.peekHeights,r=e.isTopPosition,a=e.setIsTopPosition,i=n.length-1;t>i&&a(!0),t!==i||r||a(!0),t<i&&r&&a(!1)},D=function(e){var t=e.snapIndex,n=e.isBottomPosition,r=e.setIsBottomPosition;0!==t||n||r(!0),0!==t&&n&&r(!1)},T=function(e){var t=e.backdrop,n=e.setCurrentIndex,r=e.setIsTopPosition,a=e.setIsBottomPosition,i=e.handleClose;t&&(n(0),r(!1),a(!0),setTimeout(i,250))},R=function(e){var t=e.backdrop,n=e.maxHeight,r=e.innerContentHeight,a=e.toolbarProps,i=e.offset;return n-r<=0?i+E(a):t?i:n-r},j=function(e,t){return e?parseFloat(getComputedStyle(e).getPropertyValue(t)):0},M=n(32859),I=n(95037),N=n(47670),z=n(71118),F=["portalProps"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e){var t=e.showBackdrop,n=e.children;return t?g.createElement("div",{style:{position:"fixed",zIndex:"var(--zIndex-modal)",inset:0}},n):n},V=function(e){var t=e.isTopPosition,n=e.hasToolbarProps,r=e.offset,a=e.renderSaferHeight,i=e.isBottomPosition;return{root:B({borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",transition:"border-radius 0.5s",boxShadow:"0 -0.5px 0px 0 rgba(0, 0, 0, 0.10), 0 -2px 2px 0 rgba(0, 0, 0, 0.02), 0 -4px 4px 0 rgba(0, 0, 0, 0.02), 0 -8px 8px 0 rgba(0, 0, 0, 0.02), 0 -16px 16px 0 rgba(0, 0, 0, 0.02)",backgroundColor:"var(--paperBackgroundColor)",zIndex:"var(--zIndex-modal)"},t&&{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:n?"0 0 1px 0 rgba(0, 0, 0, 0.5)":"0 -1px 0 0 rgba(255, 255, 255, 1)"}),indicator:{width:"4rem",height:"0.25rem",borderRadius:"99px",backgroundColor:"var(--secondaryTextColor)"},stack:{backgroundColor:"var(--defaultBackgroundColor)"},bounceSafer:{height:50,width:"100%",position:"fixed",bottom:0,left:0,backgroundColor:"var(--paperBackgroundColor)"},flagshipImmersive:{backgroundColor:"var(--paperBackgroundColor)",bottom:0,content:"",height:"var(--flagship-bottom-height)",position:"fixed",width:"100%",zIndex:"var(--zIndex-modal)"},offsetSafer:{opacity:+!i,height:"".concat(r,"px"),width:"100%",position:"fixed",bottom:0,left:0,backgroundColor:"var(--paperBackgroundColor)",zIndex:"calc(var(--zIndex-modal) + 10)",transition:"opacity ".concat(250,"ms")},renderSafer:{height:a,width:"100%",position:"fixed",bottom:0,pointerEvents:"none"}}},H={mediumHeightRatio:.75,mediumHeight:null,hasMinHeightOffset:!1,isOpenMin:!1},q=(0,g.memo)(function(e){var t=e.toolbarProps,n=e.settings,r=e.backdrop,a=e.skipAnimation,i=e.onClose,o=e.offset,c=e.children,u=B(B({},H),n),d=u.mediumHeightRatio,f=u.mediumHeight,h=u.isOpenMin,v=u.hasMinHeightOffset,y=(0,g.useRef)(),k=(0,g.useRef)(),O=(0,g.useRef)(),E=(0,g.useState)(!1),F=l()(E,2),L=F[0],q=F[1],W=(0,g.useState)(!1),G=l()(W,2),Z=G[0],K=G[1],Q=(0,g.useState)(!1),Y=l()(Q,2),J=Y[0],$=Y[1],X=(0,g.useState)(r),ee=l()(X,2),et=ee[0],en=ee[1],er=(0,g.useState)(null),ea=l()(er,2),ei=ea[0],eo=ea[1],ec=(0,g.useState)(1),es=l()(ec,2),eu=es[0],el=es[1],ed=(0,g.useState)(0),ef=l()(ed,2),ep=ef[0],eh=ef[1],em=(0,g.useState)(0),ev=l()(em,2),ey=ev[0],eg=ev[1],eb=(0,g.useRef)(),ew=(0,g.useState)(0),ek=l()(ew,2),ex=ek[0],eO=ek[1],e_=!!Object.keys(t).length,eE=!!i||r,eC=ey<eb.current?eb.current-16:0,eS=0!==eb.current&&eb.current>ey,eP=V({isTopPosition:L,hasToolbarProps:e_,offset:o,renderSaferHeight:eC,isBottomPosition:Z}),eA=g.Children.map(c,function(e){var t,n;return(null==e||null==(t=e.type)?void 0:t.name)==="BottomSheetHeader"||(null==e||null==(n=e.type)?void 0:n.displayName)==="BottomSheetHeader"?g.cloneElement(e,{headerContentRef:O}):e});if(r&&!i)throw Error("BottomSheet must have `onClose` method to work properly when setting `backdrop` to `true`");var eD=(0,g.useCallback)(function(){en(!1),$(!0),i&&i()},[i]);(0,b.P)(y,function(){eO(function(e){return e+1})}),(0,g.useEffect)(function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="auto"}},[]),(0,w.F)(function(){return eD()},250,eE&&Z),(0,g.useEffect)(function(){var e=O.current,n=y.current.offsetHeight,a=j(e,"height"),i=j(e,"padding-bottom"),c=C(t),u=R({backdrop:r,maxHeight:c,innerContentHeight:n,toolbarProps:t,offset:o}),l=P({isClosable:eE,isOpenMin:h,headerRef:k,offset:v?o:0,actionButtonsHeight:a,actionButtonsBottomMargin:i}),p=h&&a>0?l+1:S({backdrop:r,maxHeight:c,mediumHeight:f,mediumHeightRatio:d,innerContentHeight:n,bottomSpacerHeight:u,offset:o}),m=s()(new Set([l,p,c])),g=(null==ei?void 0:ei.toString())!==(null==m?void 0:m.toString())&&L?eu-1-(eu-(m.length-1)):eu;el(g),eo(m),eb.current=ey,eg(p),A({snapIndex:g,peekHeights:m,isTopPosition:L,setIsTopPosition:q}),eh(u)},[y,t,d,f,et,r,eE,o,ex]);var eT=(0,z.useCozyTheme)().isLight;return(0,N.useSetFlagshipUI)({bottomTheme:eT?"dark":"light"},{bottomTheme:(0,_.getFlagshipMetadata)().immersive||!eT?"light":"dark"},"cozy-ui/BottomSheet"),g.createElement(U,{showBackdrop:et},(0,_.getFlagshipMetadata)().immersive&&g.createElement("span",{style:eP.flagshipImmersive}),g.createElement(x,{showBackdrop:et,onClick:function(){return T({backdrop:r,setCurrentIndex:el,setIsTopPosition:q,setIsBottomPosition:K,handleClose:eD})}}),g.createElement(m.X,{peekHeights:ei,defaultHeight:ey,backdrop:!1,fullHeight:!e_,currentIndex:eu,onIndexChange:function(e){el(e),A({snapIndex:e,peekHeights:ei,isTopPosition:L,setIsTopPosition:q}),D({snapIndex:e,isBottomPosition:Z,setIsBottomPosition:K})},styles:{root:eP.root},threshold:0,springConfig:{tension:165,friction:17,clamp:!0},disabledClosing:!i,hidden:J,snapPointSeekerMode:"next",skipAnimation:a},g.createElement("div",{ref:y},g.createElement(M.default,{"data-testid":"bottomSheet-header",className:"u-w-100 u-h-3 u-pos-relative u-flex u-flex-items-center u-flex-justify-center",ref:k,elevation:0,square:!0},g.createElement("div",{style:eP.indicator})),g.createElement(I.default,{style:eP.stack,className:"u-flex u-flex-column u-ov-hidden",spacing:"s"},eA)),g.createElement("div",{style:{height:ep}})),eS&&g.createElement("div",{style:eP.renderSafer},g.createElement(M.default,{className:"styles__renderSaferAnim___2rNtc",elevation:0,square:!0})),!Z&&g.createElement(g.Fragment,null,g.createElement(p.A,{in:!0,timeout:250},g.createElement("div",{style:eP.bounceSafer}))),!!o&&g.createElement(p.A,{in:!0,timeout:250},g.createElement("div",{id:"bottomSheet-offsetSafer",style:eP.offsetSafer})))});q.displayName="BottomSheet",q.defaultProps={classes:{},toolbarProps:{},backdrop:!1,offset:(0,_.getFlagshipMetadata)().immersive&&(0,_.getFlagshipMetadata)().navbarHeight||0},q.propTypes={toolbarProps:y().shape({ref:y().object,height:y().number}),settings:y().shape({mediumHeight:y().number,mediumHeightRatio:y().number,hasMinHeightOffset:y().bool,isOpenMin:y().bool}),backdrop:y().bool,skipAnimation:y().bool,offset:y().number,onClose:y().func};var W=(0,g.forwardRef)(function(e,t){var n=e.portalProps,r=o()(e,F),i=(0,z.useCozyTheme)(),c=i.type,s=i.variant,u=null!=n&&n.disablePortal?g.Fragment:z.default,l=null!=n&&n.disablePortal?void 0:{type:c,variant:s};return g.createElement(h.A,n,g.createElement(u,l,g.createElement(q,a()({ref:t},r))))});W.displayName="BottomSheetPortal";let G=W},49204:function(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(4103),a=n.n(r),i=n(96540),o=n(80486),c=function(e){var t=e.className,n=e.headerContentRef,r=e.children;return i.createElement(o.A,{ref:n,className:a()("u-flex u-flex-items-center",t),disableGutters:!0,disableElevation:!0},r)};c.displayName="BottomSheetHeader";let s=c},80486:function(e,t,n){"use strict";n.d(t,{A:()=>m});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=n(32859),p=["children","disableGutters","disableElevation","className"],h=(0,d.forwardRef)(function(e,t){var n=e.children,r=e.disableGutters,i=e.disableElevation,c=e.className,u=o()(e,p);return d.createElement(f.default,a()({ref:t,elevation:25*!i,square:!0,className:s()({"u-p-1":!r},c)},u),n)});h.displayName="BottomSheetItem",h.propTypes={className:l().string,disableGutters:l().bool,disableElevation:l().bool};let m=d.memo(h)},84747:function(e,t,n){"use strict";n.r(t),n.d(t,{BottomSheetHeader:()=>i.A,default:()=>r.A,BottomSheetTitle:()=>g,BottomSheetItem:()=>a.A});var r=n(41483),a=n(80486),i=n(49204),o=n(4103),c=n.n(o),s=n(73294),u=n.n(s),l=n(96540),d=n(90774),f=n(70879),p=n(27282),h=n(72637),m=n(38143),v=n(39274),y=(0,l.forwardRef)(function(e,t){var n=e.className,r=e.label,i=e.icon;return i?l.createElement(a.A,{disableGutters:!0,disableElevation:!0},l.createElement(f.default,{ref:t},l.createElement(p.default,null,l.createElement(h.default,null,l.createElement(d.default,{icon:i,size:32})),l.createElement(m.default,{primary:l.createElement(v.default,{className:"u-ellipsis",variant:"h6"},r)})))):l.createElement(a.A,{disableElevation:!0},l.createElement(v.default,{ref:t,className:c()("u-flex u-flex-justify-center",n),variant:"h6"},r))});y.propTypes={className:u().string,label:u().string,icon:d.iconPropType};let g=y},89004:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(85282).A},36040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(96746),l=n(4103),d=n.n(l),f=n(73294),p=n.n(f),h=n(96540),m=n(90774),v=n(56706),y=["variant","className","color","label","busy","disabled","height","endIcon"],g=["variant","className"],b=["success","error","warning","info"],w=(0,h.forwardRef)(function(e,t){var n=e.variant,r=e.className,i=e.color,c=e.label,l=e.busy,f=e.disabled,p=e.height,g=e.endIcon,w=s()(e,y),k=b.includes(i)?i:"primary",x="text"!==n||b.includes(i)?"primary":i;return h.createElement(u.A,a()({},w,{variant:n,ref:t,className:d()(o()({},"customColor-".concat(k),k),o()({},"customSize-".concat(p),p),r),color:x,disabled:f||l,endIcon:l?h.createElement(m.default,{icon:v.A,spin:!0,"aria-hidden":!0,focusable:"false"}):g,disableElevation:!0}),c)});w.displayName="DefaultButton",w.defaultProps={variant:"contained",color:"primary"};var k=(0,h.forwardRef)(function(e,t){var n=e.variant,r=e.className,i=void 0===r?"":r,o=s()(e,g);switch(n){case"ghost":return h.createElement(w,a()({className:"ghost ".concat(i),variant:"outlined"},o,{ref:t}));case"secondary":return h.createElement(w,a()({variant:"outlined",className:i},o,{ref:t}));case"text":return h.createElement(w,a()({variant:"text",className:i},o,{ref:t}));default:return h.createElement(w,a()({className:i},o,{ref:t}))}});k.displayName="Buttons",k.propTypes={variant:p().oneOf(["primary","secondary","ghost","text"]),color:p().oneOf(["default","inherit","primary","secondary","success","error","warning","info"]),height:p().oneOf(["default","auto"])},k.defaultProps={variant:"primary",height:"default"};let x=k},98661:function(e,t,n){"use strict";n.d(t,{A:()=>C});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(82274),l=n.n(u),d=n(65044),f=n.n(d),p=n(56994),h=n.n(p),m=n(65611),v=n.n(m),y=n(18337),g=n.n(y),b=n(4103),w=n.n(b),k=n(73294),x=n.n(k),O=n(96540),_=["className","inset","tag"],E=function(e){h()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g()(r);return e=t?Reflect.construct(n,arguments,g()(this).constructor):n.apply(this,arguments),v()(this,e)});function r(){return l()(this,r),n.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.inset,r=e.tag,i=s()(e,_);return O.createElement(r,a()({className:w()("styles__c-card___YgP7B",o()({},"styles__c-card--inset___2pofc",n),t)},i))}}]),r}(O.PureComponent);E.propTypes={className:x().string,inset:x().bool,tag:x().node},E.defaultProps={tag:"div"};let C=E},71973:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(2344),l=n(15776),d=n(4103),f=n.n(d),p=n(73294),h=n.n(p),m=n(96540),v=n(90774);let y=function(e){return m.createElement("svg",a()({viewBox:"0 0 16 16"},e),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.778 0h12.444C15.2 0 16 .8 16 1.778v12.444C16 15.2 15.2 16 14.222 16H1.778C.8 16 0 15.2 0 14.222V1.778C0 .8.8 0 1.778 0zm10.31 4.089l1.245 1.244-7.11 7.111L2.666 8.89 3.91 7.645l2.311 2.31L12.09 4.09z"}))};var g=n(35855),b=["className","label","error","mixed","disabled","size","disableEffect"],w=["className","label","labelPlacement","onChange","children"],k=(0,g.A)(),x=function(e){var t,n=e.className,r=e.label,i=e.error,c=e.mixed,l=e.disabled,d=e.size,p=e.disableEffect,h=s()(e,b);return m.createElement(u.A,a()({className:f()(n,(t={},o()(t,"u-p-0",p),o()(t,"small","small"===d),t)),inputProps:{"aria-label":r,"aria-checked":c?"mixed":"","aria-disabled":l},color:i?"secondary":"primary",indeterminate:c,disabled:l,size:d,disableRipple:p,checkedIcon:m.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-center",style:{width:"small"===d?20:24,height:"small"===d?20:24}},m.createElement(v.default,{icon:y,size:"small"===d?16:18}))},h))},O=function(e){var t=e.className,n=e.label,r=e.labelPlacement,i=e.onChange,o=e.children,c=s()(e,w);return(o&&k("<Checkbox> used with children is deprecated, please use <Checkbox label={something} /> instead of <Checkbox>something</Checkbox>"),n||o)?m.createElement(l.A,{className:f()({"FormControlLabel-error":c.error},t),label:n||o,labelPlacement:r,control:m.createElement(x,a()({},c,{label:n})),onChange:i}):m.createElement(x,a()({className:t,onChange:i,label:n},c))};O.propTypes={className:h().string,value:h().string,error:h().bool,disabled:h().bool,mixed:h().bool,disableEffect:h().bool,size:h().oneOf(["small","medium"]),labelPlacement:h().oneOf(["top","end","bottom","start"]),label:h().oneOfType([h().string,h().node])},O.defaultProps={className:"",value:"",error:!1,mixed:!1,disableEffect:!1,size:"medium",labelPlacement:"end",label:""};let _=O},90978:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(46770),l=n(4103),d=n.n(l),f=n(73294),p=n.n(f),h=n(96540),m=["label","variant","color","className"],v=(0,h.forwardRef)(function(e,t){var n=e.label,r=e.variant,i=void 0===r?"default":r,c=e.color,l=void 0===c?"primary":c,f=e.className,p=s()(e,m);return h.createElement(u.A,a()({ref:t,className:d()(f,o()({noLabel:!n,ghost:"ghost"===i},"customColor-".concat(l),l)),label:n,variant:"active"===i?"default":"outlined",color:"active"===i?"primary":"default"},p))});v.propTypes={label:p().oneOfType([p().string,p().object]),variant:p().oneOf(["default","active","ghost"]),color:p().oneOf(["primary","success","error","warning","info"]),className:p().string};let y=v},88991:function(e,t,n){"use strict";n.d(t,{A:()=>d});var r=n(4103),a=n.n(r),i=n(73294),o=n.n(i),c=n(96540),s={xsmall:16,small:24,medium:32,large:48,xlarge:64},u=function(e){var t=Number.isInteger(e)?e:s[e];return{"--circleSize":"".concat(t,"px")}},l=function(e){var t=e.children,n=e.backgroundColor,r=e.size,i=e.className,o=Object.assign({backgroundColor:n},u(r));return c.createElement("div",{className:a()("styles__c-circle___1DuMR",i),style:o},c.createElement("span",{className:"styles__c-circle-text___1jFgD"},t))};l.propTypes={backgroundColor:o().string,size:o().oneOfType([o().oneOf(["xsmall","small","medium","large","xlarge"]),o().number]),className:o().string},l.defaultProps={size:"medium",className:""};let d=l},70977:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(83182).A},24615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(43292).A},48313:function(e,t,n){"use strict";n.d(t,{A:()=>k});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(3144),s=n.n(c),u=n(96540),l=n(17970),d=n(67781),f=n(34347),p=n(51286),h=n(41827),m=n(10230),v=n(52129),y=n(9528);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e){var t=e.onClose,n=e.onBack,r=e.title,i=e.content,o=e.actions,c=e.actionsLayout,f=(0,p.A)(b(b({},e),{},{isFluidTitle:!0})),g=f.dialogProps,w=f.dialogTitleProps,k=f.fullScreen,x=f.id,O=f.dialogActionsProps,_=f.dialogContentProps,E=n||t;return u.createElement(h.default,g,!k&&t&&u.createElement(d.A,{onClick:t,"data-testid":"modal-close-button-".concat(x)}),!k&&n&&u.createElement(l.A,{"data-testid":"modal-back-button-".concat(x),onClick:n}),k&&E&&u.createElement(l.A,{"data-testid":"modal-backclose-button-".concat(x),onClick:E}),u.createElement(m.A,_,u.createElement("div",{className:"dialogContentInner withFluidActions"},r&&u.createElement("div",{className:"dialogTitleFluidContainer"},u.createElement(v.A,w,r)),u.createElement("div",{className:s()("dialogContentWrapper",{withActions:!!o})},i),o&&u.createElement(y.A,a()({},O,{disableSpacing:!0,className:s()("dialogActionsFluid",{columnLayout:"column"==c},O.className)}),o))))};w.defaultProps={size:"small"},w.propTypes=f.A;let k=w},69441:function(e,t,n){"use strict";n.d(t,{A:()=>g});var r=n(16193),a=n.n(r),i=n(4103),o=n.n(i),c=n(96540),s=n(17970),u=n(67781),l=n(34347),d=n(51286),f=n(41827),p=n(52129),h=n(10230),m=n(9528),v=n(82092),y=function(e){var t=e.onClose,n=e.onBack,r=e.title,i=e.content,l=e.actions,y=e.actionsLayout,g=(0,d.A)(e),b=g.dialogProps,w=g.dialogTitleProps,k=g.fullScreen,x=g.id,O=g.dividerProps,_=g.dialogActionsProps,E=g.dialogContentProps,C=n||t;return c.createElement(f.default,b,!k&&t&&c.createElement(u.A,{onClick:t,"data-testid":"modal-close-button-".concat(x)}),!k&&n&&c.createElement(s.A,{onClick:n,"data-testid":"modal-back-button-".concat(x)}),k&&C&&c.createElement(s.A,{"data-testid":"modal-backclose-button-".concat(x),onClick:C}),r&&c.createElement(c.Fragment,null,c.createElement(p.A,w,r),c.createElement(v.default,O)),c.createElement(h.A,E,c.createElement("div",{className:"dialogContentInner withFluidActions"},c.createElement("div",{className:o()("dialogContentWrapper",{withActions:!!l})},i),l&&c.createElement(m.A,a()({},_,{disableSpacing:!0,className:o()("dialogActionsFluid",{columnLayout:"column"==y},_.className)}),l))))};y.propTypes=l.A;let g=y},17970:function(e,t,n){"use strict";n.d(t,{A:()=>g});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(76819),d=n(37762),f=n(90774),p=n(74710),h=n(60610),m=["onClick"],v=(0,l.createUseI18n)(d.A),y=function(e){var t=e.onClick,n=o()(e,m),r=v().t;return u.createElement("div",{className:"styles__DialogBackButton___1c7yH"},u.createElement(p.default,a()({onClick:t},n,{"aria-label":r("backButton"),className:"dialogIconButton",size:"medium"}),u.createElement(f.default,{icon:h.default})))};y.propTypes={onClick:s().func.isRequired};let g=y},67781:function(e,t,n){"use strict";n.d(t,{A:()=>g});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(76819),d=n(37762),f=n(90774),p=n(74710),h=n(91152),m=["onClick"],v=(0,l.createUseI18n)(d.A),y=function(e){var t=e.onClick,n=o()(e,m),r=v().t;return u.createElement("div",{className:"styles__DialogCloseButton___cxKPO"},u.createElement(p.default,a()({onClick:t},n,{"aria-label":r("closeButton"),className:"dialogIconButton",size:"medium"}),u.createElement(f.default,{icon:h.default})))};y.propTypes={onClick:s().func.isRequired};let g=y},37348:function(e,t,n){"use strict";n.d(t,{A:()=>x});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(3144),s=n.n(c),u=n(96540),l=n(17970),d=n(67781),f=n(34347),p=n(51286),h=n(41827),m=n(10230),v=n(52129),y=n(9528),g=n(82092);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=function(e){var t=e.onClose,n=e.onBack,r=e.title,i=e.content,o=e.actions,c=e.actionsLayout,f=(0,p.A)(w(w({},e),{},{isFluidTitle:!0})),b=f.dialogProps,k=f.dialogTitleProps,x=f.fullScreen,O=f.id,_=f.dividerProps,E=f.dialogActionsProps,C=f.dialogContentProps,S=n||t;return u.createElement(h.default,b,!x&&t&&u.createElement(d.A,{"data-testid":"modal-close-button-".concat(O),onClick:t}),!x&&n&&u.createElement(l.A,{"data-testid":"modal-back-button-".concat(O),onClick:n}),x&&S&&u.createElement(l.A,{"data-testid":"modal-backclose-button-".concat(O),onClick:S}),u.createElement(m.A,C,u.createElement("div",{className:"dialogContentInner"},r&&u.createElement("div",{className:"dialogTitleFluidContainer"},u.createElement(v.A,k,r)),i)),u.createElement(g.default,_),o&&u.createElement(y.A,a()({},E,{disableSpacing:!0,className:s()({columnLayout:"column"==c},E.className)}),o))};k.propTypes=f.A;let x=k},17007:function(e,t,n){"use strict";n.d(t,{A:()=>g});var r=n(16193),a=n.n(r),i=n(4103),o=n.n(i),c=n(96540),s=n(17970),u=n(67781),l=n(34347),d=n(51286),f=n(41827),p=n(52129),h=n(10230),m=n(9528),v=n(82092),y=function(e){var t=e.onClose,n=e.onBack,r=e.title,i=e.content,l=e.actions,y=e.actionsLayout,g=(0,d.A)(e),b=g.dialogProps,w=g.dialogTitleProps,k=g.fullScreen,x=g.id,O=g.dividerProps,_=g.dialogActionsProps,E=g.dialogContentProps,C=n||t;return c.createElement(f.default,b,!k&&t&&c.createElement(u.A,{"data-testid":"modal-close-button-".concat(x),onClick:t}),!k&&n&&c.createElement(s.A,{"data-testid":"modal-back-button-".concat(x),onClick:n}),k&&C&&c.createElement(s.A,{"data-testid":"modal-backclose-button-".concat(x),onClick:C}),r&&c.createElement(c.Fragment,null,c.createElement(p.A,w,r),c.createElement(v.default,O)),c.createElement(h.A,E,c.createElement("div",{className:"dialogContentInner"},i)),c.createElement(v.default,O),l&&c.createElement(m.A,a()({},_,{disableSpacing:!0,className:o()({columnLayout:"column"==y},_.className)}),l))};y.propTypes=l.A;let g=y},91387:function(e,t,n){"use strict";n.d(t,{A:()=>k});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(3144),s=n.n(c),u=n(96540),l=n(17970),d=n(67781),f=n(34347),p=n(51286),h=n(41827),m=n(10230),v=n(52129),y=n(9528);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e){var t=e.onClose,n=e.onBack,r=e.title,i=e.content,o=e.actions,c=e.actionsLayout,f=(0,p.A)(b(b({},e),{},{isFluidTitle:!0,disableTitleAutoPadding:!0})),g=f.dialogProps,w=f.dialogTitleProps,k=f.id,x=f.fullScreen,O=f.dialogActionsProps,_=f.dialogContentProps,E=n||t;return u.createElement(h.default,g,!x&&t&&u.createElement(d.A,{"data-testid":"modal-close-button-".concat(k),onClick:t}),!x&&n&&u.createElement(l.A,{onClick:n,"data-testid":"modal-back-button-".concat(k)}),x&&E&&u.createElement(l.A,{"data-testid":"modal-backclose-button-".concat(k),onClick:E}),u.createElement(m.A,_,u.createElement("div",{className:"dialogContentInner withFluidActions u-pt-1-half"},r&&u.createElement("div",{className:"dialogTitleFluidContainer"},u.createElement(v.A,a()({},w,{className:s()("u-flex u-flex-justify-center",w.className)}),r)),u.createElement("div",{className:s()("dialogContentWrapper",{withActions:!!o})},i),o&&u.createElement(y.A,a()({},O,{disableSpacing:!0,className:s()("dialogActionsFluid",{columnLayout:"column"==c},O.className)}),o))))};w.propTypes=f.A;let k=w},18430:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(4103),a=n.n(r),i=n(73294),o=n.n(i),c=n(96540),s=n(48313),u=n(90774),l=n(32859),d=(0,n(82096).A)({floatingIcon:{top:"-2.25rem",width:"4.5rem",height:"4.5rem"}}),f=function(e){var t=e.open,n=e.icon,r=e.title,i=e.content,o=e.actions,f=e.actionsLayout,p=e.onClose,h=d();return c.createElement(s.A,{open:t,size:"small",disableTitleAutoPadding:!0,classes:{paper:"u-ov-visible"},componentsProps:{dialogTitle:{className:"u-flex u-flex-justify-center u-ta-center u-pt-2 u-pb-half"},dialogContent:{className:"u-ov-visible"}},title:c.createElement(c.Fragment,null,c.createElement(l.default,{elevation:2,className:a()(h.floatingIcon,"u-pos-absolute u-bdrs-circle u-flex")},c.createElement(u.default,{className:"u-m-auto",icon:n,size:48})),r),content:i,actions:o,actionsLayout:f,onClose:p})};f.propTypes={open:o().bool.isRequired,icon:o().func.isRequired,title:o().string.isRequired,content:o().node,actions:o().node,actionsLayout:o().oneOf(["row","column"]),onClose:o().func};let p=f},44318:function(e,t,n){"use strict";n.d(t,{A:()=>O});var r,a=n(22056),i=n.n(a),o=n(73294),c=n.n(o),s=n(96540),u=n(76819),l=n(79092),d=n.n(l),f=n(92207),p=n.n(f),h=function(e){try{return new URL(e),!0}catch(e){return!1}},m=(r=d()(p().mark(function e(t){var n,r,a,i,o,c,s,u,l;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileName,r=t.url,a=t.isEditing,i=t.onSave,o=t.onClose,c=t.showAlert,s=t.t,!(!n||!r)){e.next=4;break}return c({message:s("shortcut-dialog.needs-info"),severity:"error"}),e.abrupt("return");case 4:var d,f;if(u=(d=n).endsWith(".url")?d:d+".url",l=h(f=r)?f:!!h("https://".concat(f))&&"https://".concat(f)){e.next=9;break}return c({message:s("shortcut-dialog.url-bad-format"),severity:"error"}),e.abrupt("return");case 9:return e.prev=9,e.next=12,i(u,l);case 12:c({message:a?s("shortcut-dialog.edited"):s("shortcut-dialog.created"),severity:"success"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),c({message:s("shortcut-dialog.errored"),severity:"error"});case 18:o();case 19:case"end":return e.stop()}},e,null,[[9,15]])})),function(e){return r.apply(this,arguments)}),v=n(62055),y=n(48313),g=n(36040),b=n(95037),w=n(57759),k=n(4493),x=function(e){var t,n=e.shortcut,r=e.onSave,a=e.onClose,o=(0,u.useI18n)().t,c=(0,k.useAlert)().showAlert,l=(t=(null==n?void 0:n.name)||"").endsWith(".url")?t.slice(0,-4):t,d=(null==n?void 0:n.url)||"",f=!!n,p=(0,s.useState)(l),h=i()(p,2),v=h[0],x=h[1],O=(0,s.useState)(d),_=i()(O,2),E=_[0],C=_[1],S=function(){m({fileName:v,url:E,isEditing:f,onSave:r,onClose:a,showAlert:c,t:o})},P=function(e){13===e.keyCode&&S()};return s.createElement(y.A,{open:!0,title:f?o("shortcut-dialog.edit-title"):o("shortcut-dialog.create-title"),onClose:a,content:s.createElement(b.default,null,s.createElement("div",null,s.createElement(w.default,{label:o("shortcut-dialog.url"),value:E,id:"shortcuturl",variant:"outlined",onChange:function(e){return C(e.target.value)},onKeyDown:function(e){return P(e)},autoComplete:"off",fullWidth:!0,margin:"normal",autoFocus:!0})),s.createElement("div",null,s.createElement(w.default,{label:o("shortcut-dialog.filename"),value:v,id:"shortcutfilename",variant:"outlined",onChange:function(e){return x(e.target.value)},onKeyDown:function(e){return P(e)},autoComplete:"off",fullWidth:!0,margin:"normal"}))),actions:s.createElement(s.Fragment,null,s.createElement(g.default,{variant:"secondary",onClick:a,label:o("shortcut-dialog.cancel")}),s.createElement(g.default,{variant:"primary",label:f?o("shortcut-dialog.edit"):o("shortcut-dialog.create"),onClick:S}))})};x.propTypes={shortcut:c().object,onSave:c().func,onClose:c().func},x.displayName="ShortcutDialog";let O=(0,v.A)(x)},62055:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=(0,n(76819).withOnlyLocales)({en:{cancel:"Cancel",allow:"Allow","allow-location-dialog":{title:"Allow access to your location",description:"Your Twake needs to always be authorised to access your phone's location in order to memorise and help you analyse your movements, even when the app is not in use.\n\nIt will NEVER be passed on to anyone without your request.\n\nYou can deactivate this feature from the Coach CO2 app settings."},"install-flagship-app-dialog":{title:"Scan the QR Code",text:"or go directly to the <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>App Store</a><br>or <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> to install the Twake\xa0Workplace app",a11n:"Go to the Twake\xa0Workplace application download page"},"authentification-dialog":{title:"Login","title-oidc":"Twake Pass",subtitle:"For security, please confirm your identity",label:"Twake password","label-oidc":"Twake Pass password",abort:"Leave",unlock:"Unlock","forgotten-password":"I forgot my password",errors:{invalid_password:"Incorrect password, try again.",server_error:"Something went wrong with the server. Please, reload the page."}},"shortcut-dialog":{"create-title":"Create a shortcut","edit-title":"Modify a shortcut",filename:"Shortcut name",url:"URL",cancel:"Cancel",create:"Create",edit:"Save",created:"The shortcut has been created",edited:"The shortcut has been modified",errored:"An error occurred","needs-info":"A shortcut needs a name and a URL","url-bad-format":"The entered URL is not in the correct format"}},fr:{cancel:"Annuler",allow:"Autoriser","allow-location-dialog":{title:"Autoriser l'acc\xe8s \xe0 votre position",description:"Votre Twake a besoin d'\xeatre toujours autoris\xe9 \xe0 acc\xe9der \xe0 la position de votre t\xe9l\xe9phone pour m\xe9moriser, et vous aider \xe0 analyser vos d\xe9placements, m\xeame lorsque l'app n'est pas utilis\xe9e ou affich\xe9e.\n\nElle ne sera JAMAIS transmise \xe0 qui que ce soit sans votre demande.\n\nVous pourrez d\xe9sactiver cette fonctionnalit\xe9 depuis les param\xe8tres de l'app Coach CO2."},"install-flagship-app-dialog":{title:"Scannez le QR Code",text:"ou rendez vous directement sur <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>lâ€™App Store</a><br>ou sur le <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> pour installer lâ€™app Twake\xa0Workplace",a11n:"Aller sur la page de t\xe9l\xe9chargement de l'application Twake\xa0Workplace"},"authentification-dialog":{title:"Authentification","title-oidc":"Twake Pass",subtitle:"Par s\xe9curit\xe9, merci de confirmer votre identit\xe9",label:"Mot de passe Twake","label-oidc":"Mot de passe Twake Pass",abort:"Quitter",unlock:"D\xe9verrouiller","forgotten-password":"J'ai oubli\xe9 mon mot de passe",errors:{invalid_password:"Mot de passe incorrect, essayer \xe0 nouveau.",server_error:"Une erreur s'est produite. Merci de recharger la page."}},"shortcut-dialog":{"create-title":"Cr\xe9er un raccourci","edit-title":"Modifier un raccourci",filename:"Nom du raccourci",url:"URL",cancel:"Annuler",create:"Cr\xe9er",edit:"Sauvegarder",created:"Le raccourci a \xe9t\xe9 cr\xe9\xe9",edited:"Le raccourci a \xe9t\xe9 modifi\xe9",errored:"Une erreur s'est produite","needs-info":"Un raccourci a besoin d'un nom et d'une URL","url-bad-format":"L'URL saisie n'est pas dans le bon format"}},ru:{cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",allow:"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ","allow-location-dialog":{title:"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ",description:"Ð’Ð°ÑˆÐµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Twake Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð²ÑÐµÐ³Ð´Ð° Ð±Ñ‹Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð¾ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ Ð²Ð°ÑˆÐµÐ³Ð¾ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ð²Ð°Ð¼ Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ.\n\nÐžÐ½Ð¾ ÐÐ˜ÐšÐžÐ“Ð”Ð Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð¾ ÐºÐ¾Ð¼Ñƒ-Ð»Ð¸Ð±Ð¾ Ð±ÐµÐ· Ð²Ð°ÑˆÐµÐ³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°.\n\nÐ’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Coach CO2."},"install-flagship-app-dialog":{title:"ÐžÑ‚ÑÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ QR-ÐºÐ¾Ð´",text:"Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð² <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>App Store</a><br>Ð¸Ð»Ð¸ <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Twake Workplace",a11n:"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Twake Workplace"},"authentification-dialog":{title:"Ð’Ñ…Ð¾Ð´","title-oidc":"Twake Pass",subtitle:"Ð”Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÑƒ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ",label:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Twake","label-oidc":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Twake Pass",abort:"Ð’Ñ‹Ð¹Ñ‚Ð¸",unlock:"Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","forgotten-password":"Ð¯ Ð·Ð°Ð±Ñ‹Ð» Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",errors:{invalid_password:"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.",server_error:"Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ."}},"shortcut-dialog":{"create-title":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ€Ð»Ñ‹Ðº","edit-title":"Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ€Ð»Ñ‹Ðº",filename:"Ð˜Ð¼Ñ ÑÑ€Ð»Ñ‹ÐºÐ°",url:"URL",cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",create:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ",edit:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ",created:"Ð¯Ñ€Ð»Ñ‹Ðº Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½",edited:"Ð¯Ñ€Ð»Ñ‹Ðº Ð±Ñ‹Ð» Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½",errored:"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°","needs-info":"Ð”Ð»Ñ ÑÑ€Ð»Ñ‹ÐºÐ° Ð½ÑƒÐ¶Ð½Ñ‹ Ð¸Ð¼Ñ Ð¸ URL","url-bad-format":"Ð’Ð²ÐµÐ´Ñ‘Ð½Ð½Ñ‹Ð¹ URL Ð¸Ð¼ÐµÐµÑ‚ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚"}},vi:{cancel:"Há»§y",allow:"Cho ph\xe9p","allow-location-dialog":{title:"Cho ph\xe9p truy cáº­p v\xe0o vá»‹ tr\xed cá»§a báº¡n",description:"Twake cá»§a báº¡n cáº§n pháº£i lu\xf4n Ä‘Æ°á»£c á»§y quyá»n Ä‘á»ƒ truy cáº­p vá»‹ tr\xed Ä‘iá»‡n thoáº¡i cá»§a báº¡n Ä‘á»ƒ ghi nhá»› v\xe0 gi\xfap báº¡n ph\xe2n t\xedch c\xe1c chuyá»ƒn Ä‘á»™ng cá»§a m\xecnh, ngay cáº£ khi á»©ng dá»¥ng kh\xf4ng Ä‘Æ°á»£c sá»­ dá»¥ng.\n\nN\xf3 sáº½ KH\xd4NG BAO GIá»œ Ä‘Æ°á»£c chuyá»ƒn cho báº¥t ká»³ ai m\xe0 kh\xf4ng c\xf3 y\xeau cáº§u cá»§a báº¡n.\n\nBáº¡n c\xf3 thá»ƒ há»§y k\xedch hoáº¡t t\xednh nÄƒng n\xe0y tá»« c\xe0i Ä‘áº·t á»©ng dá»¥ng Coach CO2."},"install-flagship-app-dialog":{title:"Qu\xe9t m\xe3 QR",text:"hoáº·c trá»±c tiáº¿p Ä‘áº¿n <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>App Store</a><br>hoáº·c <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> Ä‘á»ƒ c\xe0i Ä‘áº·t á»©ng dá»¥ng Twake Workplace",a11n:"Äáº¿n trang táº£i xuá»‘ng á»©ng dá»¥ng Twake Workplace"},"authentification-dialog":{title:"ÄÄƒng nháº­p","title-oidc":"Twake Pass",subtitle:"Äá»ƒ báº£o máº­t, vui l\xf2ng x\xe1c nháº­n danh t\xednh cá»§a báº¡n",label:"Máº­t kháº©u Twake","label-oidc":"Máº­t kháº©u Twake Pass",abort:"Rá»i khá»i",unlock:"Má»Ÿ kh\xf3a","forgotten-password":"T\xf4i qu\xean máº­t kháº©u",errors:{invalid_password:"Máº­t kháº©u kh\xf4ng ch\xednh x\xe1c, h\xe3y thá»­ láº¡i.",server_error:"C\xf3 lá»—i xáº£y ra vá»›i m\xe1y chá»§. Vui l\xf2ng táº£i láº¡i trang."}},"shortcut-dialog":{"create-title":"Táº¡o lá»‘i táº¯t","edit-title":"Chá»‰nh sá»­a lá»‘i táº¯t",filename:"T\xean lá»‘i táº¯t",url:"URL",cancel:"Há»§y",create:"Táº¡o",edit:"LÆ°u",created:"Lá»‘i táº¯t Ä‘\xe3 Ä‘Æ°á»£c táº¡o",edited:"Lá»‘i táº¯t Ä‘\xe3 Ä‘Æ°á»£c chá»‰nh sá»­a",errored:"Ä\xe3 xáº£y ra lá»—i","needs-info":"Lá»‘i táº¯t cáº§n c\xf3 t\xean v\xe0 URL","url-bad-format":"URL Ä‘\xe3 nháº­p kh\xf4ng Ä‘\xfang Ä‘á»‹nh dáº¡ng"}}})},34347:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(73294),a=n.n(r);let i={size:a().oneOf(["small","medium","large","full"]),open:a().bool.isRequired,disableTitleAutoPadding:a().bool,background:a().string,title:a().node,content:a().node,actions:a().node,actionsLayout:a().oneOf(["row","column"]),onClose:a().func,onBack:a().func}},89184:function(e,t,n){"use strict";n.r(t),n.d(t,{TopAnchoredDialog:()=>h,AllowLocationDialog:()=>C,FixedDialog:()=>s.A,useCozyDialog:()=>d.A,DialogCloseButton:()=>a.A,Dialog:()=>i.A,ShortcutDialog:()=>j.A,FixedActionsDialog:()=>c.A,ConfirmDialog:()=>o.A,DialogBackButton:()=>r.A,IllustrationDialog:()=>u.A,InstallFlagshipAppDialog:()=>R,PermissionDialog:()=>l.default});var r=n(17970),a=n(67781),i=n(69441),o=n(48313),c=n(37348),s=n(17007),u=n(91387),l=n(18430),d=n(51286),f=n(96540),p=n(41827);let h=(0,n(85437).A)({scrollPaper:{alignItems:"start"},paper:{}})(function(e){return f.createElement(p.default,e)});var m=n(73294),v=n.n(m),y=n(76819),g=n(16193),b=n.n(g);let w=function(e){return f.createElement("svg",b()({viewBox:"0 0 172 128",fill:"none"},e),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.533 125.273c2.862 1.018 10.204 1.899 16.121 2.251 16.158.963 38.736.439 48.306-1.331 9.642-1.785 10.07-4.485-14.44-5.821-20.872-1.139-45.234.484-50.444 2.901-1.399.648-1.322 1.369.457 2z",fill:"#BBD9FD"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.189 18.264l-34.745 7.19c-5.051 1.052-8.293 5.965-7.248 10.99l14.47 69.251c1.045 5.03 5.99 8.247 11.037 7.217l34.749-7.217a9.282 9.282 0 007.243-10.99l-14.464-69.24c-1.051-5.025-5.99-8.253-11.042-7.201z",fill:"#297EF1"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.213 83.562L68.9 91.715 57.72 38.219l39.324-8.142 11.169 53.485zm-14.002 16.2a3.515 3.515 0 01-4.85.998 3.456 3.456 0 01-1.507-2.209 3.468 3.468 0 01.51-2.615c1.092-1.558 3.204-1.992 4.844-1.009a3.475 3.475 0 011.013 4.824l-.01.01z",fill:"#BBD9FD"}),f.createElement("path",{d:"M131.104 0c-18.777 0-34 15.222-34 34l.004.46a33.997 33.997 0 0017.697 29.386l.241.129.094-.163c-.507.853-.823 1.741-.823 2.623 0 1.898.905 3.494 2.734 4.132l.307.102c3.468 1.092 6.602.057 10.395-2.599l.289-.207.749.06c.767.051 1.539.077 2.313.077 18.778 0 34-15.222 34-34s-15.222-34-34-34z",fill:"#fff"}),f.createElement("path",{d:"M131.104 0c-18.777 0-34 15.222-34 34l.004.46a33.997 33.997 0 0017.697 29.386l.241.129.094-.163c-.507.853-.823 1.741-.823 2.623 0 1.898.905 3.494 2.734 4.132l.307.102c3.468 1.092 6.602.057 10.395-2.599l.289-.207.749.06c.767.051 1.539.077 2.313.077 18.778 0 34-15.222 34-34s-15.222-34-34-34zm0 4c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30a30.39 30.39 0 01-3.395-.19l-.773-.087-1.19.867c-2.986 2.143-5.098 2.895-7.163 2.27l-.214-.07c-.048-.017-.052-.023-.052-.356 0-.038.09-.29.241-.544l.081-.13a7.163 7.163 0 00.964-2.237l.392-1.598-1.493-.692A30.001 30.001 0 01101.104 34c0-16.569 13.432-30 30-30z",fill:"#BBD9FD"}),f.createElement("path",{d:"M144.667 29.333c0 7.992-9.776 20.872-12.586 24.41a.945.945 0 01-1.495 0C127.776 50.204 118 37.324 118 29.332 118 21.97 123.97 16 131.333 16c7.364 0 13.334 5.97 13.334 13.333z",fill:"#97ECA1"}),f.createElement("circle",{cx:131.333,cy:29.333,fill:"#09AE1C",r:5.333}))};var k=n(62055),x=n(36040),O=n(90774),_=n(39274),E=(0,f.forwardRef)(function(e,t){var n=e.onClose,r=e.onAllow,a=e.description,i=(0,y.useI18n)().t;return f.createElement(u.A,{open:!0,ref:t,size:"small",onClose:n,title:f.createElement("div",{className:"u-flex u-flex-column u-flex-items-center"},f.createElement(O.default,{icon:w,width:128,height:128}),f.createElement(_.default,{variant:"h3",className:"u-ta-center"},i("allow-location-dialog.title"))),content:f.createElement("div",{className:"u-ta-center"},f.createElement(_.default,{gutterBottom:!0,variant:"body1",color:"textPrimary",style:{whiteSpace:"pre-line"}},a||i("allow-location-dialog.description"))),actions:f.createElement(f.Fragment,null,f.createElement(x.default,{variant:"secondary",label:i("cancel"),onClick:n}),f.createElement(x.default,{variant:"primary",label:i("allow"),onClick:r}))})});E.propTypes={onClose:v().func,onAllow:v().func,description:v().string},E.displayName="AllowLocationDialog";let C=(0,k.A)(E),S=n.p+"static/image/QRCodeInstallFlagshipAppDialog.3c85854d.png",P=n.p+"static/image/appstore.9a9d6acd.png",A=n.p+"static/image/playstore.a473b4eb.png";var D=n(29411),T=(0,f.forwardRef)(function(e,t){var n=e.onClose,r=e.playStoreUrl,a=e.appStoreUrl,i=e.QRCode,o=(0,y.useI18n)().t;return f.createElement(u.A,{open:!0,ref:t,size:"small",onClose:n,componentsProps:{dialogTitle:{className:"u-pt-2-half"}},title:f.createElement(D.default,{href:"https://cozy.io/download",target:"_blank",rel:"noopener noreferrer"},f.createElement("img",{src:i,width:"100%",alt:"","aria-hidden":!0}),f.createElement("span",{className:"u-visuallyhidden"},o("install-flagship-app-dialog.a11n"))),content:f.createElement("div",{className:"u-ta-center"},f.createElement(_.default,{gutterBottom:!0,variant:"h3",color:"textPrimary"},o("install-flagship-app-dialog.title")),f.createElement(_.default,{color:"textSecondary",className:"u-ta-center",dangerouslySetInnerHTML:{__html:o("install-flagship-app-dialog.text",{androidUrl:r,androidIconSrc:A,iosUrl:a,iosIconSrc:P})}}))})});T.propTypes={onClose:v().func,playStoreUrl:v().string,appStoreUrl:v().string,QRCode:v().any},T.defaultProps={playStoreUrl:"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile",appStoreUrl:"https://apps.apple.com/app/my-cozy/id1600636174",QRCode:S},T.displayName="InstallFlagshipAppDialog";let R=(0,k.A)(T);var j=n(44318)},37762:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r={en:{closeButton:"Close",backButton:"Back"},fr:{closeButton:"Fermer",backButton:"Retour"},es:{closeButton:"Cerrar",backButton:"Atr\xe1s"},ru:{closeButton:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",backButton:"ÐÐ°Ð·Ð°Ð´"},vi:{closeButton:"Ä\xf3ng",backButton:"Quay láº¡i"}}},51286:function(e,t,n){"use strict";n.d(t,{A:()=>P});var r=n(26396),a=n.n(r),i=n(22056),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(96540),f=n(16193),p=n.n(f),h=n(78896),m=n(10716),v=n(73294),y=n.n(v),g=["fullScreen","isFullscreen"],b=(0,d.forwardRef)(function(e,t){var n=e.fullScreen,r=e.isFullscreen,a=s()(e,g);return n||r?d.createElement(m.A,p()({ref:t,direction:"up"},a)):d.createElement(h.A,p()({ref:t},a))});b.propTypes={fullScreen:y().bool};var w=n(24242),k=n(82096),x=["size","actions","actionsLayout","title","content","open","opened","onBack","onClose","align","disableTitleAutoPadding","isFluidTitle","disableGutters","titleRef","background","componentsProps"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=0,C=["small","medium","large","full"],S=(0,k.A)({paper:{background:function(e){var t=e.background;return null!=t?t:"var(--paperBackgroundColor)"}}});let P=function(e){var t,n,r,a,i=e.size,c=(e.actions,e.actionsLayout,e.title,e.content,e.open),u=e.opened,f=e.onBack,p=e.onClose,h=e.align,m=e.disableTitleAutoPadding,v=e.isFluidTitle,y=e.disableGutters,g=e.titleRef,k=e.background,O=e.componentsProps,P=s()(e,x),A=(0,w.default)().isMobile,D=(0,d.useState)(E++),T=o()(D,1)[0],R=C.includes(i)?"".concat(i):"medium",j="small"!==i&&A,M=S({background:k}),I=_(_({"aria-labelledby":"modal-title-".concat(T),fullScreen:j,open:void 0!==c?c:u,onClose:p,TransitionComponent:b},P),{},{classes:_(_({},P.classes),{},{paper:"".concat(R," ").concat(M.paper," ").concat(P.classes?P.classes.paper:""),scrollPaper:"top"==h?"alignTop":""}),BackdropProps:_({style:_({transitionDelay:50},null==P||null==(t=P.BackdropProps)?void 0:t.style)},P.BackdropProps),TransitionProps:_({fullScreen:j},P.TransitionProps)}),N=!j&&p,z=f||j&&p;return{dialogProps:I,dialogTitleProps:_(_({},null==O?void 0:O.dialogTitle),{},{id:"modal-title-".concat(T),ref:g,disableTypography:!0,className:"cozyDialogTitle "+l()({"u-ellipsis":!v,dialogTitleFluid:v,dialogTitleWithClose:N&&!m,dialogTitleWithBack:z&&!m},null==O||null==(n=O.dialogTitle)?void 0:n.className)}),listItemProps:{classes:{root:"listItem--dialog"}},id:T,fullScreen:j,dividerProps:_(_({},null==O?void 0:O.divider),{},{classes:{root:"divider--dialog"}}),dialogActionsProps:_(_({},null==O?void 0:O.dialogActions),{},{classes:{root:"cozyDialogActions"}}),dialogContentProps:_(_({},null==O?void 0:O.dialogContent),{},{classes:_({root:l()({disableGutters:y})},null==O||null==(r=O.dialogContent)?void 0:r.classes),className:l()("cozyDialogContent",null==O||null==(a=O.dialogContent)?void 0:a.className)})}}},9528:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(65816).A},10230:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(68016).A},52129:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(5696).A},41827:function(e,t,n){"use strict";n.r(t),n.d(t,{DialogActions:()=>E.A,DialogContentText:()=>S,default:()=>T,DialogContent:()=>C.A,DialogTitle:()=>P.A});var r,a,i=n(16193),o=n.n(i),c=n(39892),s=n.n(c),u=n(39870),l=n(4103),d=n.n(l),f=n(96540),p=n(19773),h=n(26232),m=n(7127),v=n(84660),y=n(18340),g=n(47670),b=n(71118);(r=a||(a={})).BackgroundDefault="default",r.BackgroundPaper="paper",r.CozyBarBackground="background-color",r.CozyBarClass=".coz-bar-wrapper",r.CozyBarPrimaryClass="coz-theme-primary",r.DialogClass=".MuiPaper-root",r.OverlayActive="rgba(0, 0, 0, 0.5)",r.OverlayTransparent="transparent",r.RootModalColor="color",r.SidebarID="sidebar";var w=function(e){var t=e.cozybar,n=e.fullscreen,r=e.sidebar,i=e.rootModal,o=e.theme,c=t&&!i;return n?{bottomBackground:o.palette.background.paper,bottomTheme:g.ThemeColor.Dark,topBackground:o.palette.background.paper,topTheme:g.ThemeColor.Dark}:{bottomBackground:i?void 0:o.palette.background[r?a.BackgroundDefault:a.BackgroundPaper],bottomTheme:g.ThemeColor.Light,bottomOverlay:a.OverlayActive,topOverlay:a.OverlayActive,topBackground:c?getComputedStyle(t).getPropertyValue(a.CozyBarBackground):void 0,topTheme:g.ThemeColor.Light}},k=function(e){var t=e.rootModal,n=e.theme,r=e.immersive,i=e.sidebar,o=e.cozybar,c=e.isLight,s=t&&.5>(0,p.J1)(getComputedStyle(t).getPropertyValue(a.RootModalColor)),u=!t,l=o&&!t,d=s||!r&&!(o&&o.classList.contains(a.CozyBarPrimaryClass))&&c;return{bottomBackground:u?n.palette.background[i?a.BackgroundDefault:a.BackgroundPaper]:void 0,bottomTheme:s||!r&&c?g.ThemeColor.Dark:g.ThemeColor.Light,bottomOverlay:a.OverlayTransparent,topOverlay:a.OverlayTransparent,topBackground:l?getComputedStyle(o).getPropertyValue(a.CozyBarBackground):void 0,topTheme:d?g.ThemeColor.Dark:g.ThemeColor.Light}},x=function(){var e=document.querySelectorAll(a.DialogClass);return e.length>1?e[0]:null},O=function(e,t,n,r){var a=(0,v.useWebviewIntent)();(0,f.useEffect)(function(){return e&&(0,g.parseArg)(a,t,"".concat(r||"unknown"," (onOpenMount)")),function(){e&&void 0!==e&&(0,g.parseArg)(a,n,"".concat(r||"unknown"," (onOpenUnmount)"))}},[e,a])},_=(0,m.isFlagshipApp)()||y.isRsg?function(e,t){var n=(0,h.A)(),r=(0,b.useCozyTheme)().isLight,i=document.querySelector(a.CozyBarClass),o=document.getElementById(a.SidebarID),c=x(),s=!!(0,y.getFlagshipMetadata)().immersive;O(e,w({fullscreen:t,theme:n,sidebar:o,rootModal:c,cozybar:i,isLight:r}),k({rootModal:c,theme:n,immersive:s,sidebar:o,cozybar:i,isLight:r}),"cozy-ui/Dialog"+(t?"--fullScreen":"")+(c?"--stacked":"")+(s?"--immersive":""))}:function(){},E=n(9528),C=n(10230);let S=n(30240).A;var P=n(52129),A=["className"],D=function(e){var t=e.className,n=s()(e,A),r=(0,b.useCozyTheme)(),a=r.type,i=r.variant;return _(n.open,n.fullScreen),f.createElement(u.A,o()({className:d()("TwakeTheme--".concat(a,"-").concat(i),t)},n))};D.defaultProps={disableEnforceFocus:!0};let T=D},82092:function(e,t,n){"use strict";n.r(t),n.d(t,{DeprecatedDivider:()=>E,default:()=>x});var r=n(26396),a=n.n(r),i=n(16193),o=n.n(i),c=n(48672),s=n(96540),u=n(39892),l=n.n(u),d=n(4103),f=n.n(d),p=n(73294),h=n.n(p),m=n(39274),v=["color","variant","textAlign","children","className"],y={divider:"styles__divider___SuA5q",center:"styles__center___3K8dw"},g=function(e){var t=e.color,n=e.variant,r=e.textAlign,a=e.children,i=e.className,c=l()(e,v);return s.createElement(m.default,o()({color:void 0===t?"textPrimary":t,variant:void 0===n?"body2":n,className:f()(y.divider,y[r],i)},c),a)};g.propTypes={textAlign:h().oneOf(["center"])};var b=n(85437);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var k=(0,s.forwardRef)(function(e,t){return"string"==typeof e.children?s.createElement(g,o()({},e,{ref:t})):s.createElement(c.A,o()({},e,{ref:t}))});k.displayName="Divider",k.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},g.propTypes);let x=k;var O={padding:16},_={padding:32},E=(0,b.A)(function(e){var t;return{root:(t={},a()(t,e.breakpoints.down("md"),{width:"calc(100% + ".concat(O.padding,"*2px)"),marginLeft:"-".concat(O.padding,"px")}),a()(t,e.breakpoints.up("md"),{width:"calc(100% + ".concat(_.padding,"*2px)"),marginLeft:"-".concat(_.padding,"px")}),t)}})(k)},86960:function(e,t,n){"use strict";n.r(t),n.d(t,{Empty:()=>b,EmptySubTitle:()=>w,default:()=>k});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(90774),m=n(39274),v=["icon","iconSize","title","text","children","className","centered","componentsProps"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g={"c-empty":"styles__c-empty___3w5oV","c-empty--centered":"styles__c-empty--centered___2ijsY","c-empty-img":"styles__c-empty-img___2GC4d","c-empty-img--medium":"styles__c-empty-img--medium___1d2Zd","c-empty-img--large":"styles__c-empty-img--large___3s3vC","c-empty-title":"styles__c-empty-title___2HduE","c-empty-text":"styles__c-empty-text___3HnvR"},b=function(e){var t,n,r=e.icon,i=e.iconSize,c=e.title,u=e.text,d=e.children,f=e.className,b=e.centered,k=e.componentsProps,x=s()(e,v),O="object"==typeof r&&!!r.props;return p.createElement("div",a()({className:l()(g["c-empty"],o()({},g["c-empty--centered"],b),f)},x),r&&(O?p.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:l()(g["c-empty-img"],o()({},g["c-empty-img--".concat(i)],"normal"!==i),null==(t=r.props)?void 0:t.className),size:(null==(n=r.props)?void 0:n.size)||(r.type===h.default?"100%":void 0)},null==k?void 0:k.icon)):p.createElement(h.default,a()({className:l()(g["c-empty-img"],o()({},g["c-empty-img--".concat(i)],"normal"!==i)),icon:r,size:"100%"},null==k?void 0:k.icon))),c&&p.createElement(m.default,a()({gutterBottom:!0,variant:"h3",color:"textPrimary"},null==k?void 0:k.title),c),u&&p.createElement(w,a()({gutterBottom:!0},null==k?void 0:k.text),u),p.createElement("div",a()({className:g["c-empty-text"]},null==k?void 0:k.childrenContainer),d))};b.propTypes={icon:h.iconPropType,iconSize:f().oneOf(["normal","medium","large"]),title:f().node,text:f().node,centered:f().bool,children:f().node,componentsProps:f().shape({icon:f().object,title:f().object,text:f().object,childrenContainer:f().object}),className:f().string},b.defaultProps={iconSize:"normal"};var w=function(e){var t=a()({},e);return p.createElement(m.default,a()({variant:"body1",color:"textSecondary"},t))};let k=b},78080:function(e,t,n){"use strict";n.d(t,{A:()=>b});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(96540),s=n(96984),u=n(90774),l=n(22056),d=n.n(l),f=n(38221),p=n.n(f),h=n(73112),m=n(21977);let v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=(0,c.useState)({scrollTop:0,scrollLeft:0}),a=d()(r,2),i=a[0],o=a[1],s=p()(function(){var t=(0,m.D)(e);t===window?o({scrollTop:window.scrollY,scrollLeft:window.scrollX}):o({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})},void 0===n?250:n);return(0,h.default)(e,"scroll",s),(0,h.default)(e,"touchmove",s),i};var y=["label","icon","follow","topLimit","scrollOptions"],g=(0,c.forwardRef)(function(e,t){var n=e.label,r=e.icon,i=e.follow,l=e.topLimit,d=e.scrollOptions,f=o()(e,y),p=v(i,d).scrollTop<(void 0===l?50:l);return c.createElement(s.default,a()({ref:t,"aria-label":n,variant:p?"extended":"circular"},f),c.createElement(u.default,a()({icon:r},p&&{className:"u-mr-half"})),p&&n)});g.displayName="ExtendableFab";let b=g},96984:function(e,t,n){"use strict";n.r(t),n.d(t,{ExtendableFab:()=>a.A,default:()=>i});var r=n(24488),a=n(78080);r.A.defaultProps={size:"medium"};let i=r.A},36154:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(96540),a=n(36444);let i=function(e){var t=e.children,n=e.className;return r.createElement(a.default,{className:"".concat(n," ").concat("styles__c-file-path___XvgNN")},t)}},44819:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(27606).A},94208:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(78896).A},31462:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(96540),a={display:"none"};let i=function(){return r.createElement("div",{style:a,dangerouslySetInnerHTML:{__html:'<svg><defs><linearGradient id="paint0_linear_19251_33606" x1="1.336" y1="7.999" x2="19.625" y2="7.999" gradientUnits="userSpaceOnUse"><stop stop-color="#00B7FF"/><stop offset=".567" stop-color="#E06DD1"/><stop offset="1" stop-color="#FF0"/></linearGradient><linearGradient id="paint1_linear_19251_33606" x1="11.336" y1="3.334" x2="16.822" y2="3.334" gradientUnits="userSpaceOnUse"><stop stop-color="#00B7FF"/><stop offset=".567" stop-color="#E06DD1"/><stop offset="1" stop-color="#FF0"/></linearGradient><linearGradient id="paint2_linear_19251_33606" x1="1.332" y1="12.001" x2="4.99" y2="12.001" gradientUnits="userSpaceOnUse"><stop stop-color="#00B7FF"/><stop offset=".567" stop-color="#E06DD1"/><stop offset="1" stop-color="#FF0"/></linearGradient><clipPath id="clip0_19251_33606"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath><linearGradient id="paint0_linear_11347_30938" x1="5.031" y1="30.092" x2="30.745" y2=".704" gradientUnits="userSpaceOnUse"><stop stop-color="#8135FE"/><stop offset="1" stop-color="#E8A6FF"/></linearGradient><clipPath id="clip0_11347_30938"><path fill="#fff" transform="translate(.704 .704)" d="M0 0h32v32H0z"/></clipPath><filter id="filter0_d_11347_30938" x="4.459" y="6.092" width="24.49" height="23.476" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".327"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30938"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30938" result="shape"/></filter><linearGradient id="paint0_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint1_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint2_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint3_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><filter id="filter0_d_3096_936" x="3.753" y="4.569" width="24.477" height="23.463" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><filter id="filter1_d_3096_936" x="4.16" y="4.731" width="23.66" height="23.714" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".571"/><feGaussianBlur stdDeviation="1.429"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><linearGradient id="paint0_linear_3096_936" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#F74EA9"/><stop offset="1" stop-color="#FFB2A8"/></linearGradient><clipPath id="clip0_3096_936"><path fill="#fff" d="M0 0h31.983v31.983H0z"/></clipPath><linearGradient id="paint0_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint1_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint2_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint3_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint4_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint5_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint6_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint7_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint0_linear_11347_30928" x1="4.126" y1="29.682" x2="39.046" y2="-5.32" gradientUnits="userSpaceOnUse"><stop offset=".248" stop-color="#FF4759"/><stop offset="1" stop-color="#FFD600"/></linearGradient><filter id="filter0_d_11347_30928" x="4.371" y="8.061" width="24.477" height="18.113" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30928"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30928" result="shape"/></filter><linearGradient id="paint0_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint1_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint2_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint3_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint4_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint0_linear_11296_8360" x1="8" y1=".5" x2="8" y2="16.25" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><linearGradient id="paint0_linear_11291_1488" x1="8" y1="8.146" x2="8" y2="16.627" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><linearGradient id="paint1_linear_11291_1488" x1="8" y1=".854" x2="8" y2="9.335" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><clipPath id="clip0_11291_1429"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath><linearGradient id="paint0_linear_3096_880" x1="4.487" y1="28.638" x2="31.249" y2="1.55" gradientUnits="userSpaceOnUse"><stop stop-color="#1E91FF"/><stop offset=".997" stop-color="#2ED9FF"/></linearGradient><filter id="filter0_d_3096_880" x="3.753" y="4.079" width="24.477" height="24.434" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_880"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_880" result="shape"/></filter><linearGradient id="paint0_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint1_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint2_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint3_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint0_linear_11347_30909" x1="6.266" y1="29.845" x2="30.906" y2="2.676" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#FFB81E"/><stop offset="1" stop-color="#FFE098"/></linearGradient><filter id="filter0_d_11347_30909" x="5.777" y="5.124" width="21.866" height="23.987" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30909"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30909" result="shape"/></filter><linearGradient id="paint0_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint1_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint2_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint3_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint4_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint0_linear_6882_51948" x1="7.994" y1="18.035" x2="7.994" y2="7.007" gradientUnits="userSpaceOnUse"><stop stop-color="#FCC2B1"/><stop offset=".885" stop-color="#D9420B"/></linearGradient><linearGradient id="paint1_linear_6882_51948" x1="7.994" y1="13.26" x2="7.994" y2="6.007" gradientUnits="userSpaceOnUse"><stop stop-color="#DEEDC9"/><stop offset=".661" stop-color="#8BBA25"/></linearGradient><linearGradient id="paint2_linear_6882_51948" x1="7.994" y1="10.323" x2="7.994" y2=".453" gradientUnits="userSpaceOnUse"><stop stop-color="#C2EBFA"/><stop offset="1" stop-color="#26A8DE"/></linearGradient><clipPath id="clip0_6882_51948"><path fill="#fff" transform="translate(0 .556)" d="M0 0h16v14.889H0z"/></clipPath><linearGradient id="paint0_linear_11291_1044" x1="2.162" y1="14.686" x2="15.012" y2="0" gradientUnits="userSpaceOnUse"><stop stop-color="#E97C00"/><stop offset="1" stop-color="#FFD900"/></linearGradient><clipPath id="clip0_11291_1044"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath><filter id="filter0_d_11291_1044" x="1.079" y="2.363" width="13.843" height="11.843" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".284"/><feGaussianBlur stdDeviation=".711"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11291_1044"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11291_1044" result="shape"/></filter><linearGradient id="paint0_linear_11350_7889" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#B6C4DF"/><stop offset="1" stop-color="#D3DDF5"/></linearGradient><filter id="filter0_d_11350_7889" x="5.99" y="6.534" width="20.652" height="20.625" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".544"/><feGaussianBlur stdDeviation="1.36"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11350_7889"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11350_7889" result="shape"/></filter><filter id="filter0_d_4180_38328" x="3.967" y="4.406" width="23.987" height="23.987" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_4180_38328"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_4180_38328" result="shape"/></filter><filter id="filter1_d_4180_38328" x="9.368" y="9.695" width="8.264" height="8.264" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_4180_38328"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_4180_38328" result="shape"/></filter><linearGradient id="paint0_linear_4180_38328" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint0_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint1_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint2_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint3_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint4_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint5_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint0_linear_11291_1430" x1="2.774" y1="14.564" x2="15.094" y2=".979" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><filter id="filter0_d_11291_1430" x="1.387" y="2.203" width="13.304" height="11.993" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".163"/><feGaussianBlur stdDeviation=".408"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11291_1430"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11291_1430" result="shape"/></filter><linearGradient id="paint0_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint1_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint2_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint3_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint4_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint0_linear_1573_14803" x1="22.008" y1="13.042" x2=".498" y2="13.042" gradientUnits="userSpaceOnUse"><stop offset=".13" stop-color="#A033FF"/><stop offset=".61" stop-color="#0094FF"/><stop offset="1" stop-color="#4FB500"/></linearGradient><linearGradient id="paint1_linear_1573_14803" x1="10.356" y1="7.217" x2="3.634" y2="20.66" gradientUnits="userSpaceOnUse"><stop stop-color="#FFD600" stop-opacity="0"/><stop offset=".563" stop-color="#FFC700"/></linearGradient><linearGradient id="paint2_linear_1573_14803" x1="12.149" y1="13.042" x2="19.767" y2="21.109" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#FF3B30" stop-opacity="0"/><stop offset=".843" stop-color="#E73B2D"/></linearGradient><clipPath id="clip0_1426_12806"><path d="M0 0h16v16H0z"/></clipPath><linearGradient id="paint0_linear_11512_6354" x1="16" y1="6.222" x2="0" y2="6.222" gradientUnits="userSpaceOnUse"><stop offset=".13" stop-color="#A033FF"/><stop offset=".61" stop-color="#0094FF"/><stop offset="1" stop-color="#4FB500"/></linearGradient><linearGradient id="paint1_linear_11512_6354" x1="7.333" y1="3.333" x2="4.833" y2="10.833" gradientUnits="userSpaceOnUse"><stop stop-color="#FFD600" stop-opacity="0"/><stop offset=".563" stop-color="#FFC700"/></linearGradient><linearGradient id="paint2_linear_11512_6354" x1="8.667" y1="6.222" x2="12.079" y2="11.642" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#FF3B30" stop-opacity="0"/><stop offset=".843" stop-color="#E73B2D"/></linearGradient><clipPath id="clip0_1426_12797"><path d="M0 0h16v16H0z"/></clipPath><filter id="filter0_d_1426_12797" x="-1.231" y="-.985" width="18.462" height="18.429" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".246"/><feGaussianBlur stdDeviation=".615"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_1426_12797"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_1426_12797" result="shape"/></filter><clipPath id="clip0_11387_16837"><path transform="translate(.2)" d="M0 0h14.4v16H0z"/></clipPath>\n    <path id="file-none-a" d="M10,5.0999 L10,2 L4,2 C3.45,2 3,2.45 3,3 L3,13 C3,13.55 3.45,14 4,14 L12,14 C12.55,14 13,13.55 13,13 L13,6 L11.1001,6 L11.5,6.3999 L9.4,8.4999 L11.5,10.5999 L10.1,11.9999 L8,9.8999 L5.9,11.9999 L4.5,10.5999 L6.6,8.4999 L4.5,6.3999 L5.9,4.9999 L8,7.0999 L10,5.0999 Z M15,5 L15,15.004 C15,15.555 14.55,16 13.993,16 L2.007,16 C1.451,16 1,15.556 1,14.999 L1,1.001 C1,0.448 1.446,0 1.998,0 L10,0 L11,0 L15,4 L15,5 Z"/>\n  <clipPath id="clip0_13717_2258"><path fill="#fff" d="M0 0h16v13H0z"/></clipPath><linearGradient id="paint0_linear_13714_2236" x1="48" y1="0" x2="48" y2="94.5" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><linearGradient id="paint1_linear_13714_2236" x1="49.092" y1="11.943" x2="49.447" y2="68.954" gradientUnits="userSpaceOnUse"><stop stop-color="#76AFFF"/><stop offset=".781" stop-color="#1D7AFF"/></linearGradient><clipPath id="clip0_3250_157"><path d="M0 0h16v16H0z"/></clipPath><clipPath id="clip0_1426_12815"><path d="M0 0h16v16H0z"/></clipPath></defs><symbol id="icon-check-animated" viewBox="0 0 16 16">\n<style>\n@-webkit-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 200px\n}\n}\n\n@-ms-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 200px\n}\n}\n\n@keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 0px\n}\n}\npath {\n-webkit-animation: checkmark 1.0s ease-in-out backwards;\nanimation: checkmark 1.0s ease-in-out backwards\n}\n</style>\n<path d="M1 11L4 14L15 3" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n</symbol><symbol id="icon-cross-animated" viewBox="0 0 16 16">\n<style>\n@-webkit-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 200px\n}\n}\n@-ms-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 200px\n}\n}\n@keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 0px\n}\n}\npath.l1 {\n-webkit-animation: checkmark 0.5s ease-in-out backwards;\nanimation: checkmark 0.5s ease-in-out backwards\n}\npath.l2 {\n-webkit-animation: checkmark 0.5s ease-in-out 0.16s backwards;\nanimation: checkmark 0.5s ease-in-out 0.16s backwards\n}\n</style>\n<path class="l1" d="M2 2L14 14" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n<path class="l2" d="M14 2L2 14" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n</symbol><symbol id="account" viewBox="0 0 16 16"><path d="M8 1.9a2.1 2.1 0 1 1 0 4.2 2.1 2.1 0 0 1 0-4.2Zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1ZM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4Zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="assistant-color" viewBox="0 0 16 16"><g clip-path="url(#clip0_19251_33606)"><path d="M6.626 10.332a1.333 1.333 0 0 0-.958-.958L1.578 8.32a.333.333 0 0 1 0-.642l4.09-1.055a1.333 1.333 0 0 0 .958-.957l1.055-4.09a.333.333 0 0 1 .642 0l1.054 4.09a1.333 1.333 0 0 0 .958.958l4.09 1.054a.333.333 0 0 1 0 .642l-4.09 1.054a1.333 1.333 0 0 0-.958.958l-1.055 4.09a.333.333 0 0 1-.642 0l-1.054-4.09Z" stroke="#868687" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.626 10.332a1.333 1.333 0 0 0-.958-.958L1.578 8.32a.333.333 0 0 1 0-.642l4.09-1.055a1.333 1.333 0 0 0 .958-.957l1.055-4.09a.333.333 0 0 1 .642 0l1.054 4.09a1.333 1.333 0 0 0 .958.958l4.09 1.054a.333.333 0 0 1 0 .642l-4.09 1.054a1.333 1.333 0 0 0-.958.958l-1.055 4.09a.333.333 0 0 1-.642 0l-1.054-4.09Z" stroke="url(#paint0_linear_19251_33606)" stroke-opacity=".9" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.335 1.334c.368 0 .667.3.667.667v.666h.668a.667.667 0 0 1 0 1.334h-.668v.667a.667.667 0 0 1-1.334 0v-.667h-.665a.667.667 0 0 1 0-1.334h.665v-.666c0-.368.299-.667.667-.667Z" fill="url(#paint1_linear_19251_33606)" fill-opacity=".9"/><path d="M2.667 10.667c.368 0 .665.298.666.665a.667.667 0 0 1 .001 1.333v.002a.667.667 0 0 1-1.334 0v-.001h-.001a.667.667 0 0 1 0-1.334H2a.667.667 0 0 1 .667-.665Z" fill="url(#paint2_linear_19251_33606)" fill-opacity=".9"/></g></symbol><symbol id="assistant" viewBox="0 0 22 22"><path fillRule="evenodd" clipRule="evenodd" d="M10.094.305a1.5 1.5 0 0 1 2.351.79l.005.02 1.581 6.135a1 1 0 0 0 .718.719l6.136 1.58.016.005a1.5 1.5 0 0 1 0 2.892l-.016.004-6.135 1.581a1 1 0 0 0-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 0 1-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 0 0-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 0 1 0-2.886l.023-.006L7.25 7.968a1 1 0 0 0 .719-.718L9.55 1.115l.005-.02a1.5 1.5 0 0 1 .538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 0 0 2.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 0 0-2.155 2.155L11 18.497 9.905 14.25a3 3 0 0 0-2.155-2.156L3.504 11 7.75 9.904A3 3 0 0 0 9.905 7.75L11 3.503zM19 1a1 1 0 0 1 1 1v1h1a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0V5h-1a1 1 0 1 1 0-2h1V2a1 1 0 0 1 1-1zM3 15a1 1 0 0 1 1 1 1 1 0 1 1 0 2 1 1 0 1 1-2 0 1 1 0 1 1 0-2 1 1 0 0 1 1-1z"/></symbol><symbol id="bottom-select" viewBox="0 0 16 10"><path d="M8 5.991 13.596.395C13.86.132 14.194 0 14.601 0c.406 0 .741.132 1.004.395S16 .993 16 1.399c0 .407-.132.742-.395 1.005l-6.6 6.6a1.259 1.259 0 0 1-.467.305c-.167.06-.347.09-.538.09-.191 0-.37-.03-.538-.09a1.259 1.259 0 0 1-.466-.305l-6.601-6.6C.132 2.14 0 1.806 0 1.399 0 .993.132.658.395.395S.993 0 1.399 0c.407 0 .742.132 1.005.395L8 5.99Z"/></symbol><symbol id="chat" viewBox="0 0 33 33"><g clip-path="url(#clip0_11347_30938)"><rect x=".704" y=".704" width="32.017" height="32.017" rx="10.574" fill="url(#paint0_linear_11347_30938)"/><g filter="url(#filter0_d_11347_30938)"><path d="M16.704 7.398c5.861 0 10.613 4.104 10.613 9.165 0 5.062-4.752 9.165-10.613 9.165a12.12 12.12 0 0 1-3.433-.49c-1.204.936-3.07 1.722-5.6 2.356a.484.484 0 0 1-.54-.706l.18-.329c.84-1.545 1.364-2.813 1.572-3.802-1.733-1.63-2.791-3.806-2.791-6.194 0-5.061 4.751-9.165 10.612-9.165Z" fill="#fff"/></g></g></symbol><symbol id="chat-text" viewBox="0 0 374 130"><path d="M63.625 129.516c-11.853 0-22.66-2.789-32.423-8.367-9.645-5.694-17.257-13.364-22.835-23.01C2.79 88.495 0 77.92 0 66.415c0-11.62 2.673-22.254 8.018-31.9 5.462-9.761 13.016-17.431 22.662-23.01 9.645-5.693 20.627-8.54 32.945-8.54 9.878 0 18.361 1.568 25.45 4.706 7.205 3.021 13.597 7.844 19.175 14.468L90.993 37.129c-7.322-7.67-16.444-11.505-27.368-11.505-7.67 0-14.41 1.86-20.22 5.578-5.811 3.603-10.285 8.542-13.423 14.817-3.137 6.16-4.706 12.958-4.706 20.395 0 7.438 1.569 14.236 4.706 20.395 3.254 6.16 7.786 11.04 13.597 14.642 5.926 3.603 12.783 5.404 20.569 5.404 11.389 0 20.685-3.951 27.89-11.853l17.781 15.165c-4.881 5.927-11.273 10.633-19.175 14.12-7.786 3.486-16.792 5.229-27.019 5.229Z" fill="url(#paint0_linear_59620_161)"/><path d="M118.031 0h23.532v49.157c4.881-9.762 14.003-14.643 27.368-14.643 6.507 0 12.376 1.57 17.605 4.707 5.23 3.021 9.355 7.38 12.377 13.074 3.021 5.578 4.532 12.085 4.532 19.523v55.432h-23.533V77.57c0-7.553-1.743-13.19-5.229-16.908-3.486-3.719-8.251-5.578-14.294-5.578-5.346 0-9.82 1.917-13.422 5.752-3.603 3.719-5.404 9.297-5.404 16.734v49.68h-23.532V0Z" fill="url(#paint1_linear_59620_161)"/><path d="M257.906 129.516c-8.134 0-15.63-2.092-22.486-6.275-6.857-4.3-12.319-10.052-16.386-17.257-3.951-7.205-5.927-15.108-5.927-23.707 0-8.6 1.976-16.502 5.927-23.707 4.067-7.321 9.529-13.132 16.386-17.432 6.856-4.3 14.352-6.45 22.486-6.45 7.438 0 13.423 1.395 17.955 4.184 4.648 2.79 8.251 6.799 10.807 12.028V36.606h23.359v90.644h-22.836v-14.817c-2.673 5.462-6.333 9.704-10.982 12.725-4.532 2.906-10.633 4.358-18.303 4.358ZM236.64 82.103c0 4.648 1.046 9.006 3.137 13.073 2.208 3.951 5.172 7.147 8.891 9.587 3.834 2.325 8.192 3.487 13.073 3.487 4.997 0 9.413-1.162 13.248-3.487 3.951-2.324 6.973-5.461 9.065-9.413 2.091-3.95 3.137-8.309 3.137-13.073 0-4.765-1.046-9.123-3.137-13.074-2.092-4.067-5.114-7.263-9.065-9.587-3.835-2.44-8.251-3.66-13.248-3.66-4.881 0-9.239 1.22-13.073 3.66-3.835 2.324-6.799 5.462-8.891 9.413-2.091 3.951-3.137 8.309-3.137 13.074Z" fill="url(#paint2_linear_59620_161)"/><path d="M358.349 127.25c-9.181 0-16.095-2.266-20.744-6.798-4.648-4.532-6.973-11.621-6.973-21.267V56.653h-12.725V36.606h12.725V18.303l23.533-2.44v20.743h19.175v20.047h-19.175v41.312c0 5.578 2.44 8.367 7.321 8.367h9.762v20.918h-12.899Z" fill="url(#paint3_linear_59620_161)"/></symbol><symbol id="check-white" viewBox="0 0 16 13"><path d="M5.085 9.624 1.292 5.83 0 7.113l5.085 5.085L16 1.283 14.717 0 5.085 9.624Z" fill="#fff"/></symbol><symbol id="cloud-broken" viewBox="0 0 64 46">\n<path d="M51.8292 16.2856C50.9533 7.15915 43.3548 -0.00146484 34.0001 -0.00146484C26.7616 -0.00146484 20.5633 4.29472 17.707 10.4592C16.8469 10.1871 15.9508 9.99918 15.0007 9.99918C10.0304 9.99918 6.00025 14.0313 6.00025 18.9997C6.00025 19.9877 6.19827 20.9219 6.49227 21.8079C2.62613 24.0622 0 28.2024 0 32.9987C0 40.1792 5.82036 45.9996 13.0009 45.9996V46.0016H49.001V45.9996C57.2876 45.9996 64 39.2851 64 30.9986C64 23.6841 58.7596 17.6097 51.8292 16.2856ZM41.2227 35.2187C40.9987 35.4436 40.7325 35.622 40.4394 35.7438C40.1463 35.8655 39.832 35.9282 39.5146 35.9282C39.1972 35.9282 38.8829 35.8655 38.5898 35.7438C38.2967 35.622 38.0305 35.4436 37.8065 35.2187L32.9561 30.3703L28.1679 35.1605C27.716 35.6119 27.1035 35.8654 26.4648 35.8654C25.8261 35.8654 25.2136 35.6119 24.7617 35.1605C24.3104 34.7087 24.0568 34.0961 24.0568 33.4575C24.0568 32.8188 24.3104 32.2063 24.7617 31.7544L29.55 26.9662L24.7016 22.1178C23.7576 21.1718 23.7576 19.6436 24.7016 18.6996C24.9256 18.4747 25.1917 18.2963 25.4849 18.1746C25.778 18.0528 26.0923 17.9901 26.4097 17.9901C26.7271 17.9901 27.0413 18.0528 27.3344 18.1746C27.6276 18.2963 27.8938 18.4747 28.1177 18.6996L32.9661 23.55L37.8183 18.6978C38.0418 18.4739 38.3073 18.2962 38.5995 18.175C38.8917 18.0538 39.205 17.9914 39.5214 17.9914C39.8378 17.9914 40.1511 18.0538 40.4433 18.175C40.7355 18.2962 41.001 18.4739 41.2245 18.6978C42.1664 19.6398 42.1664 21.164 41.2245 22.1039L36.3723 26.9564L41.2227 31.8048C42.1687 32.7467 42.1687 34.2788 41.2227 35.2187Z"/>\n</symbol><symbol id="cloud-sync2" viewBox="0 0 96 96"><path fill-rule="evenodd" clip-rule="evenodd" d="M26.667 83.676C11.939 83.676 0 71.737 0 57.01c0-13.06 9.387-23.926 21.781-26.22C24.075 18.395 34.941 9.01 48 9.01c13.059 0 23.925 9.386 26.22 21.78C86.613 33.085 96 43.95 96 57.01c0 14.464-11.516 26.239-25.88 26.655l-.787.011H26.667Z" fill="#B2D3FF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M66.156 57.51a2.668 2.668 0 0 1 1.214 3.57c-3.603 7.304-11.12 12.096-19.371 12.096-6.307 0-12.117-2.885-16.117-7.413-.275 1.181-1.283 2.08-2.55 2.08a2.668 2.668 0 0 1-2.666-2.667V54.51c0-.168.042-.318.069-.475.016-.072.013-.144.032-.213a2.58 2.58 0 0 1 .395-.854c.02-.026.048-.048.066-.072.168-.218.37-.402.595-.557a2.648 2.648 0 0 1 2.043-.424c.072.016.14.035.21.053.23.067.446.171.659.307.072.045.144.077.213.128.03.024.064.035.094.059l8 6.666a2.665 2.665 0 0 1 .338 3.755 2.629 2.629 0 0 1-1.917.939c2.877 2.496 6.592 4.021 10.536 4.021 6.195 0 11.875-3.619 14.587-9.12a2.665 2.665 0 0 1 3.57-1.213Zm3.094-7.766c-.01.053-.008.107-.022.157a2.568 2.568 0 0 1-.415.843c-.032.045-.07.075-.105.115a2.546 2.546 0 0 1-.57.514c-.067.046-.128.091-.2.128a2.76 2.76 0 0 1-.886.31c-.008 0-.016.005-.02.008-.025.002-.046-.008-.07-.006a2.625 2.625 0 0 1-1.086-.109 2.552 2.552 0 0 1-.674-.33c-.061-.04-.126-.067-.181-.113-.02-.016-.043-.018-.062-.037l-8-6.667a2.665 2.665 0 0 1-.341-3.754c.55-.659 1.346-.942 2.139-.915a16.33 16.33 0 0 0-10.758-4.045c-6.31 0-12.021 3.64-14.666 9.184a2.667 2.667 0 0 1-4.813-2.296C32.043 35.34 39.625 30.509 48 30.509c6.38 0 12.183 2.79 16.154 7.238.33-1.094 1.31-1.904 2.512-1.904a2.668 2.668 0 0 1 2.666 2.666v10.667c0 .203-.042.384-.082.568Z" fill="#297EF1"/></symbol><symbol id="cloud-sync" viewBox="0 0 32 32">\n    <g fill="none" fill-rule="evenodd">\n        <g>\n            <path fill="#B2D3FF" d="M8.889 27.892c-4.91 0-8.889-3.98-8.889-8.889 0-4.353 3.129-7.975 7.26-8.74.765-4.13 4.387-7.26 8.74-7.26 4.353 0 7.975 3.13 8.74 7.26 4.131.765 7.26 4.387 7.26 8.74 0 4.822-3.839 8.747-8.627 8.885l-.262.004H8.89z"/>\n            <path fill="#297EF1" d="M22.052 19.17c.44.217.621.75.405 1.19-1.201 2.435-3.707 4.032-6.457 4.032-2.103 0-4.04-.962-5.373-2.471-.091.394-.427.693-.85.693-.49 0-.888-.398-.888-.889V18.17c0-.056.014-.106.023-.158.005-.024.004-.048.01-.071.028-.106.072-.201.132-.285l.022-.024c.056-.073.124-.134.198-.186.022-.016.044-.03.068-.043.184-.104.399-.142.613-.098.024.005.047.012.07.018.077.022.149.057.22.102.024.015.048.026.071.043.01.008.021.011.031.02l2.667 2.221c.377.314.427.875.113 1.252-.166.2-.4.301-.64.313.96.832 2.198 1.34 3.513 1.34 2.065 0 3.958-1.206 4.862-3.04.217-.44.75-.621 1.19-.404zm1.031-2.589c-.003.018-.002.036-.007.053-.03.105-.077.198-.138.28-.011.016-.024.026-.035.039-.055.067-.12.124-.19.171-.023.016-.043.03-.067.043-.092.05-.191.087-.295.103-.003 0-.005.002-.007.003-.008 0-.015-.003-.023-.002-.096.012-.194.004-.292-.018-.024-.005-.046-.01-.07-.018-.077-.024-.153-.062-.225-.11-.02-.014-.042-.023-.06-.038-.007-.005-.015-.006-.02-.012l-2.668-2.223c-.376-.313-.428-.874-.113-1.251.183-.22.449-.314.713-.305-.96-.838-2.22-1.348-3.586-1.348-2.103 0-4.007 1.213-4.89 3.06-.21.444-.741.631-1.184.42-.443-.211-.631-.742-.42-1.184C10.682 11.78 13.21 10.17 16 10.17c2.127 0 4.061.93 5.385 2.412.11-.364.436-.634.837-.634.49 0 .889.398.889.888v3.556c0 .068-.014.128-.028.19z"/>\n        </g>\n    </g>\n</symbol><symbol id="contacts" viewBox="0 0 32 32"><g filter="url(#filter0_d_3096_936)"><path d="M15.992 5.874c5.857 0 10.606 4.102 10.606 9.16 0 5.06-4.749 9.16-10.606 9.16a12.12 12.12 0 0 1-3.432-.49c-1.203.936-3.069 1.722-5.596 2.356a.485.485 0 0 1-.541-.706l.18-.329c.84-1.544 1.364-2.811 1.572-3.8-1.733-1.63-2.79-3.804-2.79-6.19 0-5.06 4.749-9.16 10.607-9.16Z" fill="#fff"/></g><g clip-path="url(#clip0_3096_936)"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_3096_936)"/><g filter="url(#filter1_d_3096_936)" fill="#fff"><path d="M15.99 16.016a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Zm8.85 6.028c-.68-1.907-2.795-4.028-8.85-4.028s-8.171 2.122-8.85 4.029c-.599 1.682 1.081 2.971 2.867 2.971h11.965c1.786 0 3.466-1.289 2.867-2.971Z"/></g></g></symbol><symbol id="contacts-text" viewBox="0 0 680 125"><path d="M62.68 124.674c-11.677 0-22.324-2.748-31.94-8.243-9.503-5.61-17.002-13.166-22.497-22.668C2.748 84.261 0 73.843 0 62.509 0 51.06 2.633 40.585 7.9 31.083c5.38-9.617 12.822-17.173 22.324-22.668C39.726 2.805 50.545 0 62.68 0c9.732 0 18.089 1.546 25.073 4.637 7.098 2.976 13.394 7.727 18.89 14.253L89.642 33.658c-7.213-7.556-16.2-11.334-26.962-11.334-7.556 0-14.196 1.832-19.92 5.496-5.724 3.549-10.132 8.414-13.223 14.597-3.091 6.067-4.637 12.765-4.637 20.092 0 7.327 1.546 14.024 4.637 20.092 3.206 6.067 7.67 10.876 13.395 14.425 5.838 3.549 12.593 5.323 20.264 5.323 11.22 0 20.378-3.892 27.476-11.677l17.516 14.94c-4.808 5.839-11.105 10.476-18.89 13.91-7.67 3.435-16.543 5.152-26.618 5.152Z" fill="url(#paint0_linear_59711_213)"/><path d="M155.381 124.674c-9.044 0-17.173-2.061-24.385-6.182-7.213-4.236-12.88-9.903-17.001-17.001-4.122-7.213-6.183-15.055-6.183-23.527 0-8.472 2.061-16.314 6.183-23.526 4.121-7.213 9.788-12.88 17.001-17.002 7.212-4.235 15.341-6.353 24.385-6.353 9.044 0 17.173 2.118 24.385 6.354 7.213 4.121 12.88 9.788 17.001 17 4.122 7.213 6.182 15.055 6.182 23.527 0 8.472-2.06 16.314-6.182 23.527-4.121 7.098-9.788 12.765-17.001 17.001-7.212 4.121-15.341 6.182-24.385 6.182Zm-24.385-46.71c0 4.694.973 8.987 2.919 12.88 2.061 3.892 4.923 6.983 8.586 9.273 3.778 2.29 8.072 3.434 12.88 3.434 4.808 0 9.044-1.144 12.708-3.434 3.778-2.29 6.64-5.38 8.586-9.273 2.061-3.893 3.091-8.186 3.091-12.88 0-4.694-1.03-8.987-3.091-12.88-2.061-3.892-4.923-6.983-8.586-9.273-3.664-2.404-7.9-3.606-12.708-3.606s-9.044 1.202-12.708 3.606c-3.663 2.29-6.526 5.381-8.586 9.274-2.061 3.892-3.091 8.185-3.091 12.88Z" fill="url(#paint1_linear_59711_213)"/><path d="M213.21 33.143h22.84v13.052c4.694-10.075 13.795-15.112 27.304-15.112 6.411 0 12.193 1.545 17.345 4.636 5.152 2.977 9.216 7.27 12.192 12.88 2.977 5.495 4.465 11.906 4.465 19.233v54.609h-23.183V73.499c0-7.441-1.717-12.994-5.152-16.657-3.434-3.664-8.128-5.496-14.081-5.496-5.267 0-9.674 1.89-13.223 5.667-3.549 3.664-5.324 9.16-5.324 16.486v48.942H213.21V33.143Z" fill="url(#paint2_linear_59711_213)"/><path d="M342.631 122.441c-9.045 0-15.857-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891H302.79V33.143h12.536V15.112l23.183-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.213 8.242h9.616v20.607h-12.707Z" fill="url(#paint3_linear_59711_213)"/><path d="M403.5 124.674c-8.014 0-15.398-2.061-22.153-6.182-6.755-4.236-12.135-9.903-16.142-17.001-3.893-7.098-5.839-14.883-5.839-23.355 0-8.472 1.946-16.257 5.839-23.355 4.007-7.213 9.387-12.937 16.142-17.173 6.755-4.236 14.139-6.354 22.153-6.354 7.327 0 13.223 1.374 17.688 4.122 4.579 2.747 8.128 6.697 10.647 11.849V33.143h23.011v89.298H432.35v-14.596c-2.633 5.38-6.239 9.559-10.819 12.536-4.465 2.862-10.475 4.293-18.031 4.293Zm-20.951-46.71c0 4.58 1.03 8.873 3.091 12.88 2.175 3.892 5.095 7.04 8.758 9.445 3.778 2.289 8.071 3.434 12.88 3.434 4.923 0 9.273-1.145 13.051-3.434 3.893-2.29 6.869-5.381 8.93-9.274 2.061-3.892 3.091-8.185 3.091-12.88 0-4.693-1.03-8.986-3.091-12.879-2.061-4.007-5.037-7.155-8.93-9.445-3.778-2.404-8.128-3.606-13.051-3.606-4.809 0-9.102 1.202-12.88 3.606-3.778 2.29-6.697 5.381-8.758 9.274-2.061 3.892-3.091 8.185-3.091 12.88Z" fill="url(#paint4_linear_59711_213)"/><path d="M511.209 124.674c-8.357 0-16.085-2.061-23.183-6.182-6.984-4.236-12.536-9.96-16.658-17.173-4.121-7.213-6.182-15.055-6.182-23.527 0-8.586 2.061-16.428 6.182-23.526 4.122-7.213 9.846-12.88 17.173-17.001 7.327-4.236 15.513-6.354 24.557-6.354 7.899 0 14.997 1.488 21.294 4.465 6.297 2.862 11.334 6.926 15.112 12.192l-17.86 14.597c-2.06-3.09-4.751-5.552-8.071-7.384-3.32-1.832-6.926-2.748-10.819-2.748-4.808 0-9.044 1.202-12.707 3.607-3.664 2.29-6.526 5.38-8.587 9.273-2.06 3.892-3.091 8.186-3.091 12.88 0 4.579 1.031 8.872 3.091 12.879 2.176 3.892 5.152 7.04 8.93 9.445 3.778 2.29 8.071 3.434 12.88 3.434 4.236 0 7.899-.915 10.99-2.747 3.091-1.832 5.896-4.465 8.415-7.9l16.829 14.597c-8.93 11.449-21.695 17.173-38.295 17.173Z" fill="url(#paint5_linear_59711_213)"/><path d="M592.507 122.441c-9.044 0-15.856-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891h-12.536V33.143h12.536V15.112l23.184-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.212 8.242h9.617v20.607h-12.708Z" fill="url(#paint6_linear_59711_213)"/><path d="M644.754 124.674c-14.998 0-27.362-5.209-37.093-15.627l15.627-14.254c6.525 7.327 13.509 10.991 20.95 10.991 3.893 0 6.927-.859 9.102-2.576 2.175-1.717 3.263-3.95 3.263-6.697 0-2.519-1.088-4.465-3.263-5.839-2.061-1.488-6.411-3.034-13.051-4.637-10.876-2.633-18.203-6.24-21.981-10.819-3.664-4.579-5.496-10.246-5.496-17 0-8.014 2.977-14.54 8.93-19.577 5.953-5.152 14.082-7.728 24.385-7.728 7.442 0 13.681 1.145 18.719 3.434 5.152 2.29 9.96 6.297 14.425 12.021l-16.829 12.88c-4.007-6.411-9.274-9.617-15.799-9.617-3.32 0-6.011.687-8.072 2.06-2.06 1.26-3.091 3.206-3.091 5.84 0 1.831.745 3.434 2.233 4.808 1.603 1.26 4.865 2.519 9.788 3.778 12.25 3.206 20.608 7.155 25.072 11.85 4.58 4.693 6.87 10.646 6.87 17.859 0 5.381-1.546 10.303-4.637 14.768-2.977 4.351-7.098 7.785-12.364 10.304-5.267 2.519-11.163 3.778-17.688 3.778Z" fill="url(#paint7_linear_59711_213)"/></symbol><symbol id="cozy-authentification" viewBox="0 0 36 48">\n<path d="M35 18H32V14C32 6.28031 25.7197 0 18 0C10.2802 0 4.00003 6.28031 4.00003 14V18H1.00003C0.868681 17.9999 0.738602 18.0257 0.617234 18.0759C0.495865 18.1262 0.385589 18.1998 0.29271 18.2927C0.199831 18.3856 0.126173 18.4959 0.0759475 18.6172C0.0257218 18.7386 -8.60652e-05 18.8687 2.15627e-07 19V44.0001C2.15627e-07 46.2061 1.79391 48 4.00003 48H32.0001C34.2061 48 36 46.2061 36 44V19C36.0001 18.8687 35.9743 18.7386 35.9241 18.6172C35.8738 18.4959 35.8002 18.3856 35.7073 18.2927C35.6144 18.1998 35.5041 18.1262 35.3828 18.0759C35.2614 18.0257 35.1313 17.9999 35 18ZM20.9942 38.8897C21.0097 39.0294 20.9955 39.1709 20.9526 39.3049C20.9097 39.4388 20.839 39.5622 20.7452 39.667C20.6514 39.7717 20.5366 39.8556 20.4082 39.913C20.2798 39.9703 20.1407 40 20.0001 40H16C15.8594 40 15.7203 39.9703 15.5919 39.913C15.4635 39.8556 15.3487 39.7717 15.2549 39.667C15.1611 39.5622 15.0904 39.4388 15.0475 39.3049C15.0046 39.1709 14.9904 39.0294 15.0059 38.8897L15.6368 33.2168C14.6123 32.4717 14.0001 31.293 14.0001 30C14.0001 27.794 15.794 26 18.0001 26C20.2062 26 22.0001 27.7939 22.0001 30C22.0001 31.293 21.3878 32.4717 20.3634 33.2168L20.9942 38.8897ZM26 18H10V14C10 9.58884 13.5889 6 18 6C22.4111 6 26 9.58884 26 14V18Z"/>\n</symbol><symbol id="cozy-logo" viewBox="0 0 101 30">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0-5h101v40H0z"/>\n        <path fill="#297EF1" d="M29.408 30H10.592C4.75 30 0 25.317 0 19.56c0-2.745 1.072-5.338 3.02-7.3a10.589 10.589 0 0 1 6.31-3.064 10.316 10.316 0 0 1 3.11-6.22A10.607 10.607 0 0 1 19.847 0a10.61 10.61 0 0 1 7.406 2.976 10.324 10.324 0 0 1 3.107 6.187C35.756 9.64 40 14.121 40 19.561 40 25.317 35.247 30 29.408 30zm-.226-2.5h.079c4.543 0 8.239-3.612 8.239-8.05 0-4.438-3.696-8.048-8.239-8.048h-.083a1.08 1.08 0 0 1-1.092-1.043C27.983 6.025 24.289 2.5 19.85 2.5c-4.44 0-8.135 3.526-8.237 7.86a1.08 1.08 0 0 1-1.068 1.044c-4.436.1-8.045 3.709-8.045 8.047 0 4.438 3.696 8.049 8.239 8.049h.067l.026-.002c.024 0 .047 0 .07.002H29.183zm-3.127-8.333v-.002c.199.12.255.366.125.55a.453.453 0 0 1-.594.116 2.329 2.329 0 0 1-.485-.387c-1.448 1.204-3.28 1.806-5.11 1.806-1.827 0-3.654-.6-5.1-1.798a2.31 2.31 0 0 1-.476.378.455.455 0 0 1-.595-.115c-.13-.183-.074-.428.125-.549.732-.438.767-1.247.767-1.279.008-.217.206-.393.44-.386.235.005.423.185.419.402 0 .03-.013.414-.214.866 2.603 2.255 6.684 2.252 9.282-.014-.196-.446-.208-.824-.21-.853-.005-.217.184-.398.422-.402.238-.003.432.169.437.388.002.035.038.84.767 1.279zm33.222-4.905a1.405 1.405 0 0 1-.227.227.516.516 0 0 1-.319.085.756.756 0 0 1-.436-.162 5.113 5.113 0 0 0-1.404-.702c-.325-.109-.725-.163-1.202-.163-.624 0-1.174.113-1.651.338a3.179 3.179 0 0 0-1.19.962c-.316.416-.556.923-.721 1.521a7.592 7.592 0 0 0-.247 2.015c0 .771.087 1.458.26 2.06.173.603.42 1.11.741 1.521.32.412.71.724 1.17.937.46.212.97.318 1.534.318.546 0 .997-.067 1.352-.202.355-.134.65-.279.884-.435.234-.156.429-.301.585-.436.156-.134.316-.201.481-.201.208 0 .368.078.481.234l.728.936a4.903 4.903 0 0 1-1.02.949c-.378.26-.778.472-1.203.637a6.792 6.792 0 0 1-1.332.364 8.488 8.488 0 0 1-1.411.117 5.846 5.846 0 0 1-2.308-.455 5.228 5.228 0 0 1-1.858-1.326c-.525-.58-.939-1.293-1.242-2.139-.303-.845-.455-1.804-.455-2.879 0-.98.136-1.885.41-2.717a6.046 6.046 0 0 1 1.209-2.151 5.588 5.588 0 0 1 1.969-1.418c.78-.342 1.673-.513 2.678-.513.945 0 1.777.152 2.496.455.72.303 1.36.732 1.924 1.287l-.676.936zm8.814-2.678c.97 0 1.848.158 2.633.474a5.489 5.489 0 0 1 2.001 1.366c.55.593.973 1.308 1.268 2.145.295.836.442 1.774.442 2.814s-.147 1.98-.442 2.821c-.295.84-.717 1.556-1.267 2.145a5.527 5.527 0 0 1-2.002 1.358c-.785.317-1.662.475-2.633.475-.98 0-1.861-.158-2.645-.474a5.59 5.59 0 0 1-2.009-1.359c-.555-.59-.981-1.304-1.28-2.145-.3-.84-.449-1.781-.449-2.821 0-1.04.15-1.978.449-2.814a6.11 6.11 0 0 1 1.28-2.146 5.55 5.55 0 0 1 2.008-1.365c.785-.316 1.667-.474 2.646-.474zm0 11.622c1.248 0 2.18-.42 2.795-1.261.615-.84.923-2.024.923-3.549s-.308-2.71-.923-3.556c-.615-.845-1.547-1.267-2.795-1.267-1.265 0-2.208.422-2.828 1.267-.62.846-.929 2.03-.929 3.556 0 1.525.31 2.708.93 3.549.62.84 1.562 1.261 2.827 1.261zM86.46 12.858c0 .182-.032.36-.097.533-.066.173-.15.32-.254.442l-6.929 9.178h7.046V25H76.203v-1.066c0-.121.03-.266.091-.436.06-.169.147-.327.26-.474l6.968-9.243h-6.916v-1.989h9.854v1.066zm14.144-1.066l-7.332 17.043a1.07 1.07 0 0 1-.312.442c-.13.104-.32.156-.572.156h-1.885l2.418-5.265L87.5 11.792h2.21c.217 0 .386.052.507.156a.906.906 0 0 1 .26.351l3.354 7.93c.07.2.136.4.201.605a6.6 6.6 0 0 1 .163.604 14.609 14.609 0 0 1 .416-1.222l3.237-7.917a.84.84 0 0 1 .286-.364.729.729 0 0 1 .442-.143h2.028z"/>\n    </g>\n</symbol><symbol id="cozy" viewBox="0 0 52 52">\n  <path fill="#297EF2" fill-rule="evenodd" d="M558.23098,44 L533.76902,44 C526.175046,44 520,37.756072 520,30.0806092 C520,26.4203755 521.393962,22.9628463 523.927021,20.3465932 C526.145918,18.0569779 529.020185,16.6317448 532.129554,16.2609951 C532.496769,13.1175003 533.905295,10.2113693 536.172045,7.96901668 C538.760238,5.40737823 542.179607,4 545.800788,4 C549.420929,4 552.841339,5.40737823 555.429532,7.96796639 C557.686919,10.2008665 559.091284,13.0912433 559.467862,16.2179336 C566.482405,16.8533543 572,22.8284102 572,30.0816594 C572,37.756072 565.820793,44 558.22994,44 L558.23098,44 Z M558.068077,40.9989547 L558.171599,40.9989547 C564.142748,40.9989547 569,36.0883546 569,30.0520167 C569,24.0167241 564.142748,19.1061239 558.171599,19.1061239 L558.062901,19.1061239 C557.28338,19.1061239 556.644649,18.478972 556.627051,17.6887604 C556.492472,11.7935317 551.63729,7 545.802791,7 C539.968291,7 535.111039,11.7956222 534.977495,17.690851 C534.959896,18.4664289 534.34187,19.0914904 533.573737,19.1092597 C527.743378,19.2451426 523,24.1536522 523,30.0530619 C523,36.0893999 527.857252,41 533.828401,41 L533.916395,41 L533.950557,40.9979094 C533.981614,40.9979094 534.01267,40.9979094 534.043727,41 L558.064971,41 L558.068077,40.9989547 Z M553.766421,29.2227318 C552.890676,28.6381003 552.847676,27.5643091 552.845578,27.5171094 C552.839285,27.2253301 552.606453,26.9957683 552.32118,27.0000592 C552.035908,27.0054228 551.809368,27.2467844 551.814612,27.5364185 C551.81671,27.5750363 551.831393,28.0792139 552.066323,28.6735 C548.949302,31.6942753 544.051427,31.698566 540.928113,28.6917363 C541.169336,28.0888684 541.185068,27.576109 541.185068,27.5374911 C541.190312,27.2478572 540.964821,27.0086409 540.681646,27.0011319 C540.401618,26.9925502 540.163541,27.2264027 540.154102,27.5160368 C540.154102,27.5589455 540.11215,28.6370275 539.234308,29.2216592 C538.995183,29.3825669 538.92806,29.7097461 539.08433,29.9532532 C539.182917,30.1077246 539.346529,30.1924694 539.516434,30.1924694 C539.612923,30.1924694 539.710461,30.1645787 539.797512,30.1066519 C540.023003,29.9564713 540.211786,29.7848363 540.370154,29.6024742 C542.104862,31.2008247 544.296845,32 546.488828,32 C548.686055,32 550.883282,31.1976066 552.621136,29.5917471 C552.780553,29.7762546 552.971434,29.9521804 553.203218,30.1066519 C553.289219,30.1645787 553.387806,30.1924694 553.484295,30.1924694 C553.652102,30.1924694 553.816763,30.1066519 553.916399,29.9521804 C554.07162,29.7076006 554.004497,29.3793488 553.766421,29.2205864 L553.766421,29.2227318 Z" transform="translate(-520)"/>\n</symbol><symbol id="cozy-upgrade" viewBox="0 0 122 118"><path d="M71.898 65.758c-.189 1.885-1.886 3.016-3.582 2.827h-.189c-1.697-.188-3.016-1.885-2.828-3.581 1.131-10.746.566-22.434-7.352-29.787-5.467-4.901-14.328-6.22-21.303-3.016-6.032 2.828-10.368 8.672-11.877 15.27-.377 1.697-1.696 2.828-3.393 2.64h-.188c-2.074-.19-3.394-2.074-3.017-3.96 1.697-8.672 7.73-16.4 15.459-20.171 9.237-4.336 20.926-2.64 28.466 4.147 3.017 2.64 5.28 6.221 6.976 10.18 3.77 8.295 3.77 16.779 2.828 25.45Z" fill="#FFE09D"/><path d="M72.275 61.798c-2.263.188-4.336 0-6.599-.189.566-9.614-.565-19.795-7.729-26.393-5.467-4.901-14.328-6.221-21.303-3.016-6.032 2.828-10.368 8.672-11.877 15.27-.377 1.697-1.696 2.828-3.393 2.64h-.189c-1.13 0-2.073-.755-2.639-1.697 2.828-6.599 7.352-12.254 13.574-16.025 7.729-4.713 18.098-5.655 26.016-1.13 4.147 2.45 7.352 6.032 11.122 9.237 1.131 2.64 1.885 5.467 2.451 8.483.754 4.525.754 10.18.566 12.82Z" fill="#FFE09D"/><path d="M75.29 110.813c-.188 2.262-1.884 3.959-4.147 4.147-19.794 1.509-35.819 1.697-52.22 1.32-4.147 0-6.41-2.639-7.54-6.033-1.697-4.147-1.509-9.991-1.697-13.762-.189-12.065 2.073-25.261 11.31-33.556 17.156-15.082 44.869-8.107 52.598 6.41 5.467 9.991 2.64 26.015 1.697 41.474Z" fill="#E0EDFF"/><path d="M51.349 81.781c1.697 2.828 1.131 6.787-1.131 9.238-2.262 2.45-6.033 3.205-9.05 1.885-3.015-1.32-4.9-4.713-4.712-8.106.754-7.353 11.122-9.615 14.893-3.017Z" fill="#ACF"/><path d="M41.357 101.01V90.453c0-1.508 1.132-2.64 2.64-2.64h.565c1.508 0 2.64 1.132 2.64 2.64v10.557c-.189 3.582-5.845 3.582-5.845 0Z" fill="#ACF"/><path d="M84.529 92.15c-.566 0-33.557-2.073-37.516-2.262-1.508 0-3.393.377-4.147-.943-.566-.942-.377-3.393.754-4.147.942-.566 3.582 0 4.713 0 26.204 1.131 36.761 1.32 36.761 1.508-.188 2.64-.754 3.394-.565 5.844Z" fill="#FFE09D"/><path d="M94.709 73.863c-10.18 0-16.402 13.762-11.5 24.508 2.262 5.09 6.598 8.483 11.5 8.483 7.352 0 13.196-7.352 13.196-16.4 0-9.992-6.598-16.59-13.196-16.59Zm-.566 24.508c-3.393-.377-6.033-3.959-6.033-8.295 0-6.975 6.41-10.746 10.746-6.41 4.902 5.09 1.697 15.46-4.713 14.705Z" fill="#FFE09D"/><path d="M94.709 106.666c-4.902 0-9.238-3.393-11.5-8.483 3.77 1.13 7.54 1.696 10.934.188 6.598.566 9.615-9.614 4.525-14.704.188-.943.565-1.886 1.32-2.64 1.319-1.32 3.393-1.508 5.089-.754 6.599 10.934.377 26.393-10.368 26.393Z" fill="#FFE09D"/><path d="M11.194 114.395c-1.885-2.262-1.885-5.278-1.885-8.294.377-19.795 0-30.54 6.41-38.082.377-.377.942-.377 1.32-.188.377.377.377.942.188 1.32-4.524 5.278-5.09 12.819-5.467 19.983-.189 5.655-.377 11.311-.377 16.967-.189 7.163 1.508 9.614 10.18 9.426 13.196-.189 40.343-.566 39.966-.566.566 0 .943.377.943.943 0 .565-.377.942-.943.942l-39.966.566c-4.147.188-8.106 0-10.369-3.017ZM105.077 46.528c-4.901.754-12.442-.754-16.778-3.582-.377-.189-.754-.189-.943 0-3.204 2.45-7.729 3.393-11.688 2.64-.754-.19-.942-1.132-.377-1.509 2.828-1.885 4.525-5.09 4.902-8.106 0-.377-.189-.566-.377-.754-4.902-3.582-7.73-10.746-6.976-16.59C75.103 4.11 93.012-4.561 107.528 2.602a25.824 25.824 0 0 1 11.877 12.254c6.41 13.762-.377 29.221-14.328 31.672Z" fill="#ACF"/><path d="m94.52 31.823-8.483-6.975c-.566-.377-.566-1.32-.189-1.885l.943-1.131c.377-.566 1.32-.566 1.885-.189l4.901 4.148c.377.377 1.132.377 1.697 0 5.09-4.148 10.557-7.918 16.024-11.5.566-.377 1.32-.189 1.697.377l.754 1.32c.377.565.189 1.32-.377 1.696-10.369 6.976-18.287 13.762-18.852 14.14Z" fill="#fff"/><path d="M9.686 59.347a23.88 23.88 0 0 1-8.86-1.696C.26 57.462.07 56.896.26 56.33c.188-.566.754-.754 1.32-.566 4.147 1.697 7.352 1.508 8.294 1.697.566 0 .943.377.943.943 0 .565-.566.942-1.131.942Zm1.696-5.467a40.085 40.085 0 0 1-8.295-4.901c-.377-.566-.565-1.132-.188-1.508.377-.378.943-.566 1.32-.19 2.45 1.886 5.09 3.394 8.106 4.714.566.189.754.754.377 1.32-.188.565-.754.754-1.32.565Zm1.32-5.467-2.074-5.467c-.188-.566 0-.943.566-1.131.565-.189.942 0 1.131.565l2.074 5.467c.188.566 0 .943-.566 1.132-.565.188-.942 0-1.131-.566Z" fill="#ACF"/></symbol><symbol id="credit-card-large" viewBox="0 0 17 14"><path d="M14.92.816H2.12c-.888 0-1.592.712-1.592 1.6l-.008 9.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6v-9.6c0-.888-.712-1.6-1.6-1.6Zm0 11.2H2.12v-4.8h12.8v4.8Zm0-8H2.12v-1.6h12.8v1.6Z"/></symbol><symbol id="cross-white" viewBox="0 0 24 24">\n  <path fill="#FFF" fill-rule="evenodd" d="M106.585786,44 L96.2928932,33.7071068 C95.9023689,33.3165825 95.9023689,32.6834175 96.2928932,32.2928932 C96.6834175,31.9023689 97.3165825,31.9023689 97.7071068,32.2928932 L108,42.5857864 L118.292893,32.2928932 C118.683418,31.9023689 119.316582,31.9023689 119.707107,32.2928932 C120.097631,32.6834175 120.097631,33.3165825 119.707107,33.7071068 L109.414214,44 L119.707107,54.2928932 C120.097631,54.6834175 120.097631,55.3165825 119.707107,55.7071068 C119.316582,56.0976311 118.683418,56.0976311 118.292893,55.7071068 L108,45.4142136 L97.7071068,55.7071068 C97.3165825,56.0976311 96.6834175,56.0976311 96.2928932,55.7071068 C95.9023689,55.3165825 95.9023689,54.6834175 96.2928932,54.2928932 L106.585786,44 Z" transform="translate(-96 -32)"/>\n</symbol><symbol id="dash-white" viewBox="0 0 20 20"><path d="M3.497 10h13.006" stroke="#FFF" stroke-width="2"/></symbol><symbol id="device-browser" viewBox="0 0 17 17"><path d="M8.325 16.044a7.6 7.6 0 0 1-3.044-.615 7.88 7.88 0 0 1-2.478-1.668 7.881 7.881 0 0 1-1.668-2.478A7.6 7.6 0 0 1 .52 8.239a7.6 7.6 0 0 1 .615-3.044c.41-.95.966-1.775 1.668-2.478A7.882 7.882 0 0 1 5.281 1.05 7.6 7.6 0 0 1 8.325.434c1.9 0 3.56.595 4.985 1.786 1.425 1.19 2.313 2.682 2.664 4.478h-1.6a6.279 6.279 0 0 0-1.337-2.547 6.073 6.073 0 0 0-2.37-1.688v.313c0 .429-.153.796-.46 1.102a1.503 1.503 0 0 1-1.102.459h-1.56v1.56a.755.755 0 0 1-.225.557.755.755 0 0 1-.556.224H5.203V8.24h1.56v2.341h-.78L2.237 6.835c-.039.234-.075.469-.107.703a5.1 5.1 0 0 0-.049.702c0 1.704.598 3.168 1.795 4.39 1.197 1.223 2.68 1.841 4.449 1.854v1.561Zm7.102-.39-2.497-2.498a4.869 4.869 0 0 1-.878.39 3.126 3.126 0 0 1-.995.157c-.976 0-1.805-.342-2.488-1.025-.683-.683-1.025-1.512-1.025-2.488 0-.975.342-1.805 1.025-2.487.683-.683 1.512-1.025 2.488-1.025.975 0 1.804.342 2.487 1.024.683.683 1.025 1.513 1.025 2.488 0 .351-.052.683-.156.995a4.869 4.869 0 0 1-.39.878l2.497 2.498-1.093 1.093Zm-4.37-3.512c.546 0 1.008-.19 1.385-.566.377-.378.566-.84.566-1.386 0-.546-.189-1.008-.566-1.385a1.884 1.884 0 0 0-1.385-.566c-.547 0-1.008.189-1.386.566a1.884 1.884 0 0 0-.566 1.385c0 .547.189 1.008.566 1.386.378.377.84.566 1.386.566Z"/></symbol><symbol id="device-laptop" viewBox="0 0 17 12"><path d="M13.853 9.68c.734 0 1.334-.6 1.334-1.333V1.68c0-.733-.6-1.333-1.334-1.333H3.187c-.734 0-1.334.6-1.334 1.333v6.667c0 .733.6 1.333 1.334 1.333H.52v1.333h16V9.68h-2.667Zm-10.666-8h10.666v6.667H3.187V1.68Z"/></symbol><symbol id="device-phone" viewBox="0 0 11 17"><path d="M8.782.807 1.509.8C.71.8.055 1.455.055 2.255v13.09c0 .8.654 1.455 1.454 1.455h7.273c.8 0 1.454-.655 1.454-1.455V2.255c0-.8-.654-1.448-1.454-1.448Zm0 13.084H1.509V3.709h7.273v10.182Z"/></symbol><symbol id="device-tablet" viewBox="0 0 13 17"><path d="M10.6.8h-8c-1.107 0-2 .893-2 2v12c0 1.107.893 2 2 2h8c1.107 0 2-.893 2-2v-12c0-1.107-.893-2-2-2ZM7.933 15.467H5.267V14.8h2.666v.667Zm3.5-2H1.767V2.8h9.666v10.667Z"/></symbol><symbol id="dots-white" viewBox="0 0 16 16">\n  <path fill="#FFFFFF" fill-rule="evenodd" d="M34,74 C35.1045695,74 36,73.1045695 36,72 C36,70.8954305 35.1045695,70 34,70 C32.8954305,70 32,70.8954305 32,72 C32,73.1045695 32.8954305,74 34,74 Z M46,74 C47.1045695,74 48,73.1045695 48,72 C48,70.8954305 47.1045695,70 46,70 C44.8954305,70 44,70.8954305 44,72 C44,73.1045695 44.8954305,74 46,74 Z M40,74 C41.1045695,74 42,73.1045695 42,72 C42,70.8954305 41.1045695,70 40,70 C38.8954305,70 38,70.8954305 38,72 C38,73.1045695 38.8954305,74 40,74 Z" transform="translate(-32 -64)"/>\n</symbol><symbol id="drive" viewBox="0 0 33 33"><rect x=".618" y=".718" width="32" height="32" rx="10.568" fill="url(#paint0_linear_11347_30928)"/><g filter="url(#filter0_d_11347_30928)" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.61 18.913a5.25 5.25 0 0 0-.228-1.54 5.455 5.455 0 0 0-.398-.96 5.25 5.25 0 0 0-.927-1.25 5.318 5.318 0 0 0-2.972-1.496 5.484 5.484 0 0 0-.779-.058 5.25 5.25 0 0 0-1.54.229 5.358 5.358 0 0 0-1.406.665 5.288 5.288 0 0 0-1.953 2.38 5.276 5.276 0 0 0-.398 2.29 5.306 5.306 0 0 0 5.037 5.037c.087.004.174.006.26.006h8.486v-5.303H16.61Z"/><path d="M19.791 24.216a7.425 7.425 0 1 0 0-14.85 7.425 7.425 0 0 0 0 14.85Z"/></g></symbol><symbol id="drive-text" viewBox="0 0 374 123"><path d="M0 3.66h41.593c13.088 0 24.068 2.496 32.941 7.487 8.984 4.991 15.695 11.868 20.131 20.63 4.437 8.762 6.655 18.855 6.655 30.28 0 11.313-2.218 21.35-6.655 30.113-4.436 8.762-11.147 15.639-20.13 20.63-8.874 4.88-19.854 7.32-32.942 7.32H0V3.66Zm38.764 95.497c13.088 0 22.738-3.327 28.95-9.982 6.321-6.766 9.482-15.805 9.482-27.118 0-11.314-3.16-20.353-9.483-27.119-6.211-6.877-15.86-10.315-28.948-10.315H23.291v74.534h15.472Z" fill="url(#paint0_linear_59620_158)"/><path d="M112.067 33.607h21.794v16.47c1.553-6.321 4.548-11.09 8.984-14.307 4.548-3.217 10.482-4.603 17.802-4.16v21.13h-3.161c-6.655 0-12.145 2.107-16.471 6.322-4.325 4.104-6.488 9.705-6.488 16.803v44.255h-22.46V33.607Z" fill="url(#paint1_linear_59620_158)"/><path d="M168.119 33.607h22.46v86.513h-22.46V33.607Zm-2.329-20.464c0-3.66 1.276-6.765 3.827-9.316C172.279 1.276 175.495 0 179.266 0c3.882 0 7.099 1.276 9.65 3.827 2.551 2.55 3.826 5.656 3.826 9.316 0 3.771-1.275 6.933-3.826 9.483-2.551 2.551-5.768 3.827-9.65 3.827-3.771 0-6.987-1.276-9.649-3.826-2.551-2.662-3.827-5.823-3.827-9.484Z" fill="url(#paint2_linear_59620_158)"/><path d="M194.713 33.607h26.619l17.303 49.412c1.553 4.215 2.773 8.818 3.66 13.809.887-4.991 2.107-9.594 3.66-13.809l17.303-49.412h26.12l-35.936 86.513h-22.627l-36.102-86.513Z" fill="url(#paint3_linear_59620_158)"/><path d="M329.45 122.283c-8.762 0-16.526-1.997-23.292-5.99-6.766-4.103-12.034-9.594-15.805-16.47-3.771-6.877-5.657-14.475-5.657-22.793 0-8.208 1.941-15.805 5.823-22.793 3.882-6.988 9.206-12.533 15.972-16.637 6.877-4.104 14.53-6.156 22.959-6.156 8.43 0 15.972 2.052 22.627 6.156 6.765 4.104 11.978 9.65 15.638 16.637 3.772 6.877 5.657 14.474 5.657 22.793 0 2.773-.222 5.435-.665 7.986h-64.719c1.331 5.213 3.827 9.427 7.487 12.644 3.771 3.105 8.429 4.658 13.975 4.658 4.658 0 8.818-1.053 12.478-3.16 3.66-2.219 6.544-5.047 8.651-8.486l17.469 13.144c-3.549 5.545-8.762 10.037-15.639 13.476-6.876 3.327-14.529 4.991-22.959 4.991Zm21.296-54.07c-1.331-4.992-3.938-9.151-7.82-12.479-3.882-3.327-8.485-4.99-13.809-4.99-5.213 0-9.76 1.608-13.642 4.824-3.771 3.217-6.267 7.431-7.487 12.644h42.758Z" fill="url(#paint4_linear_59620_158)"/></symbol><symbol id="file-type-audio" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F5FDFD" stroke="#0DCBCF"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.32 12.133c0 .92-.746 1.667-1.667 1.667a.802.802 0 0 1-.588-.245.803.803 0 0 1-.245-.588V10.05c0-.52.099-1.009.297-1.463.198-.455.465-.851.802-1.188a3.812 3.812 0 0 1 1.187-.802A3.628 3.628 0 0 1 7.57 6.3c.52 0 1.009.099 1.463.297.455.198.851.465 1.188.802.337.337.604.733.802 1.188.198.454.297.942.297 1.463v2.917c0 .229-.082.425-.245.588a.802.802 0 0 1-.588.245c-.92 0-1.667-.746-1.667-1.667V11.3c0-.46.373-.833.833-.833h.417c.23 0 .417-.187.417-.417 0-.812-.283-1.502-.85-2.068-.565-.566-1.255-.849-2.067-.849-.813 0-1.502.283-2.068.85-.566.565-.849 1.255-.849 2.067 0 .23.187.417.417.417h.417c.46 0 .833.373.833.833v.833Z" fill="#0DCBCF"/></symbol><symbol id="file-type-banking-account" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F2F7FF" stroke="#1D7AFF"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#1D7AFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.31 6.519 3.82 8.735v.86h6.982v-.86L7.31 6.52Zm1.75 5.715h.876v-2.188H9.06v2.188Zm-2.187 0h.875v-2.188h-.875v2.188Zm-2.187 0h.875v-2.188h-.875v2.188Zm-.866 1.312h6.982v-.875H3.82v.875Z" fill="#1D7AFF"/></symbol><symbol id="file-type-bin" viewBox="0 0 15 16"><path d="M3.52.5h5.792l4.908 4.907V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.52.5Z" fill="#E8EDF3" stroke="#4F5B69"/><path d="M14.72 5.4 9.32 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.52 9.071a1.23 1.23 0 0 1-.703-.2 1.267 1.267 0 0 1-.45-.578 2.354 2.354 0 0 1-.156-.91c0-.352.053-.653.157-.902a1.24 1.24 0 0 1 .45-.568c.197-.13.43-.196.701-.196.271 0 .504.065.7.196.195.13.346.32.451.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 0 1-.45.577c-.194.133-.428.2-.7.2Zm0-.568c.185 0 .333-.093.443-.28.111-.186.166-.466.165-.84 0-.245-.025-.45-.076-.613a.79.79 0 0 0-.212-.368.462.462 0 0 0-.32-.124c-.185 0-.333.093-.444.277-.11.185-.166.46-.167.829 0 .249.024.456.074.623.05.165.122.29.214.373.091.082.199.123.322.123Zm3.204-2.742V9H9.04V6.411H9.02l-.741.465V6.27l.802-.508h.643ZM6.697 9.761V13h-.684v-2.589h-.02l-.741.465v-.607l.802-.508h.643Zm2.04 3.31a1.23 1.23 0 0 1-.702-.2 1.267 1.267 0 0 1-.45-.578 2.354 2.354 0 0 1-.156-.91c0-.352.052-.653.157-.902a1.24 1.24 0 0 1 .45-.568c.196-.13.43-.196.7-.196.272 0 .505.065.7.196.196.13.347.32.452.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 0 1-.45.577c-.195.133-.428.2-.7.2Zm0-.567c.185 0 .334-.094.444-.28.111-.187.166-.467.165-.84 0-.246-.026-.45-.076-.614a.79.79 0 0 0-.212-.368.462.462 0 0 0-.321-.123c-.185 0-.332.092-.443.276-.11.185-.166.46-.168.829 0 .249.025.456.075.623.05.165.122.29.213.373.092.082.2.123.323.123Z" fill="#4F5B69"/></symbol><symbol id="file-type-code" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDF5FA" stroke="#E643B3"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.316 12.289a.359.359 0 0 1-.492 0l-2.004-1.88 2-1.875a.365.365 0 1 1 .5.534l-1.44 1.35 1.436 1.347a.36.36 0 0 1 0 .524Zm3.004-.005a.365.365 0 0 1-.5-.533l1.44-1.35-1.436-1.347a.36.36 0 1 1 .491-.524l2.005 1.88-2 1.874Z" fill="#E643B3"/></symbol><symbol id="file-type-files" viewBox="0 0 15 17"><path d="M3.52 1.2H9.354l4.966 4.966V13.6a2.8 2.8 0 0 1-2.8 2.8h-8a2.8 2.8 0 0 1-2.8-2.8V4a2.8 2.8 0 0 1 2.8-2.8Z" fill="#E8EDF3" stroke="#4F5B69" stroke-width=".8"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#4F5B69"/><path d="M4.695 14.05v-1.476L9.278 8a.78.78 0 0 1 .23-.148.718.718 0 0 1 .534 0 .61.61 0 0 1 .226.156l.477.486c.07.064.12.14.152.226a.753.753 0 0 1 0 .525.65.65 0 0 1-.152.23L6.171 14.05H4.695Zm5.07-4.583.486-.486-.487-.487-.486.487.486.486Z" fill="#4F5B69" fill-opacity=".72"/></symbol><symbol id="file-type-folder" viewBox="0 0 16 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 2.125h6.4c.88 0 1.6.731 1.6 1.625v8.125c0 .894-.72 1.625-1.6 1.625H1.6c-.88 0-1.6-.731-1.6-1.625l.008-9.75C.008 1.231.72.5 1.6.5h4.8L8 2.125Z" fill="url(#paint0_linear_11296_8360)"/></symbol><symbol id="file-type-image" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FBFDF5" stroke="#A8D306"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#A8D306"/><circle cx="10.632" cy="7.818" r=".938" fill="#A8D306"/><path d="M3.11 13.385a.23.23 0 0 0 .18.37h8.435a.23.23 0 0 0 .18-.37l-2.64-3.38-2.343 3-1.758-2.25-2.054 2.63Z" fill="#A8D306"/></symbol><symbol id="file-type-note" viewBox="0 0 15 17"><path d="M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDFAF5" stroke="#FFB81E"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM4.127 14.183v-1.476L8.71 8.132a.78.78 0 0 1 .23-.147.718.718 0 0 1 .534 0 .61.61 0 0 1 .226.156l.477.486c.07.064.12.14.152.226a.75.75 0 0 1 0 .525.65.65 0 0 1-.152.23l-4.574 4.575H4.127Zm5.07-4.584.485-.486-.486-.486-.486.486.486.486Z" fill="#FFB81E"/></symbol><symbol id="file-type-pdf" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#FDF5F4" stroke="#D32C3C"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88ZM2.757 12.8V9.2h1.486c.255 0 .479.053.67.158.192.106.341.254.448.445.106.19.16.414.16.67 0 .257-.055.48-.165.67a1.102 1.102 0 0 1-.46.435 1.472 1.472 0 0 1-.687.153h-.888v-.76h.7c.11 0 .203-.02.28-.059a.426.426 0 0 0 .18-.174.528.528 0 0 0 .064-.265.513.513 0 0 0-.063-.264.408.408 0 0 0-.18-.169.606.606 0 0 0-.281-.06h-.33v2.82h-.934ZM7.188 12.8H5.863V9.2h1.312c.354 0 .66.072.918.216.259.143.458.35.598.619.142.268.212.59.212.965s-.07.697-.21.967c-.14.268-.338.474-.595.618a1.84 1.84 0 0 1-.91.215Zm-.39-.83h.357a1 1 0 0 0 .435-.086.57.57 0 0 0 .276-.297c.064-.14.096-.336.096-.587 0-.25-.033-.447-.098-.587a.572.572 0 0 0-.282-.297 1.07 1.07 0 0 0-.454-.086h-.33v1.94ZM9.336 12.8V9.2h2.42v.787H10.27v.62h1.339v.787H10.27V12.8h-.934Z" fill="#D32C3C"/></symbol><symbol id="file-type-server" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.146a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-3Zm5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" fill="url(#paint0_linear_11291_1488)"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2.854a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-3Zm5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" fill="url(#paint1_linear_11291_1488)"/></symbol><symbol id="file-type-sheet" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F5FDF7" stroke="#248A3D"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#248A3D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.356 9.2h1.32l.806 1.239.824-1.234h1.302l-1.54 2.085 1.608 2.306H8.477l-1.009-1.444-.577.86h.585v.588h-2.2l1.6-2.296L5.356 9.2Z" fill="#34C759"/></symbol><symbol id="file-type-slide" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#FDFAF5" stroke="#FF9500"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88Z" fill="#FF9500"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.557 8.4v4.4h.836v-1.588h1c.701 0 1.27-.63 1.27-1.406 0-.776-.569-1.406-1.27-1.406H5.557Zm.836 2.15V9.062h.821c.371 0 .672.333.672.744s-.3.744-.672.744h-.821Z" fill="#FF9500"/></symbol><symbol id="file-type-text" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#F2F8FF" stroke="#006BD8"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88ZM5.532 8.4H4.6l.974 4.4h.955l.632-2.562.608 2.562h.898L9.8 8.4H8.226v.733h.536l-.544 2.104L7.656 8.4h-.9l-.699 2.877L5.532 8.4Z" fill="#006BD8"/></symbol><symbol id="file-type-video" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDF5FA" stroke="#E64343"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM9.08 12.3v-5h.865v5H9.08Zm-4.76 0v-5l3.894 2.5-3.894 2.5Z" fill="#E64343"/></symbol><symbol id="file-type-zip" viewBox="0 0 15 17"><path d="M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#E8EDF3" stroke="#4F5B69"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.32 8.55h1.25V9.8H6.32zM7.57 9.8h1.25v1.25H7.57zM6.32 11.05h1.25v1.25H6.32zM7.57 12.3h1.25v1.25H7.57zM6.32 13.55h1.25v1.25H6.32z" fill="#4F5B69"/></symbol><symbol id="forbidden-sign" viewBox="0 0 16 16"><g clip-path="url(#clip0_11291_1429)"><mask id="mask0_11291_1429" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><path d="M16 0H0v16h16V0Z" fill="#fff"/></mask><g mask="url(#mask0_11291_1429)"><mask id="mask1_11291_1429" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><path d="M16 0H0v16h16V0Z" fill="#fff"/></mask><g mask="url(#mask1_11291_1429)"><path d="M10.722 0H5.287A5.287 5.287 0 0 0 0 5.287v5.435a5.287 5.287 0 0 0 5.287 5.287h5.435a5.287 5.287 0 0 0 5.287-5.287V5.287A5.287 5.287 0 0 0 10.722 0Z" fill="#fff"/><path d="M10.722 0H5.287A5.287 5.287 0 0 0 0 5.287v5.435a5.287 5.287 0 0 0 5.287 5.287h5.435a5.287 5.287 0 0 0 5.287-5.287V5.287A5.287 5.287 0 0 0 10.722 0Z" fill="#FF8F00" fill-opacity=".12"/></g></g></g><path fill-rule="evenodd" clip-rule="evenodd" d="M5.555 6.262a3 3 0 0 0 4.184 4.184L5.554 6.261Zm.707-.707 4.183 4.183a3 3 0 0 0-4.184-4.184ZM8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" fill="#FF6F00"/></symbol><symbol id="google" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="#3E82F1" d="M15.526 6.413h-7.38v3.03h4.22a3.651 3.651 0 0 1-1.565 2.365l2.53 1.959a7.053 7.053 0 0 0 1.934-3.076 9.064 9.064 0 0 0 .261-4.288v.01z"/>\n        <path fill="#32A753" d="M10.801 11.808a4.714 4.714 0 0 1-2.654.747h-.033A4.592 4.592 0 0 1 4.49 10.7a4.698 4.698 0 0 1-.695-1.306c0-.026-.023-.052-.033-.081L1.988 10.7l-.855.657a7.883 7.883 0 0 0 2.651 2.991 7.787 7.787 0 0 0 4.33 1.326h.033a7.484 7.484 0 0 0 5.185-1.897l-2.53-1.97z"/>\n        <path fill="#F9BB00" d="M3.761 6.348L1.988 4.973l-.855-.656c-.105.212-.2.43-.288.653a7.79 7.79 0 0 0 0 5.727c.088.226.183.444.288.653l.845-.653 1.773-1.374a4.649 4.649 0 0 1 0-2.978l.01.003z"/>\n        <path fill="#E74133" d="M8.147 0h-.033a7.836 7.836 0 0 0-6.981 4.317l.845.653 1.774 1.375c0-.03.022-.056.032-.082a4.7 4.7 0 0 1 .696-1.306 4.591 4.591 0 0 1 3.624-1.855h.033a4.246 4.246 0 0 1 2.994 1.17l2.244-2.215A7.54 7.54 0 0 0 8.147 0"/>\n    </g>\n</symbol><symbol id="keychain" viewBox="0 0 17 10"><path d="M4.674 6.391a1.34 1.34 0 0 1-.983-.408A1.34 1.34 0 0 1 3.283 5c0-.383.136-.71.408-.983.273-.272.6-.408.983-.408s.71.136.983.408c.272.273.408.6.408.983s-.136.71-.408.983a1.34 1.34 0 0 1-.983.408Zm0 2.783c-1.16 0-2.145-.406-2.957-1.218C.906 7.145.5 6.16.5 5c0-1.16.406-2.145 1.217-2.957C2.53 1.232 3.514.826 4.674.826a4 4 0 0 1 2.113.574 4.321 4.321 0 0 1 1.504 1.513h6.122L16.5 5l-3.13 3.13-1.392-1.043-1.391 1.043-1.478-1.043H8.29A4.321 4.321 0 0 1 6.787 8.6a4 4 0 0 1-2.113.574Zm0-1.391c.65 0 1.22-.198 1.713-.592.493-.394.82-.892.983-1.495h2.173l1.01.713 1.425-1.061 1.235.956L14.517 5l-.695-.696H7.37a2.805 2.805 0 0 0-.983-1.495 2.663 2.663 0 0 0-1.713-.592 2.68 2.68 0 0 0-1.965.818A2.68 2.68 0 0 0 1.89 5c0 .765.273 1.42.818 1.965a2.68 2.68 0 0 0 1.965.818Z"/></symbol><symbol id="logout-large" viewBox="0 0 17 16"><path d="M2.6 16c-.489 0-.907-.174-1.256-.522a1.712 1.712 0 0 1-.522-1.256V1.778c0-.49.174-.908.522-1.256A1.712 1.712 0 0 1 2.6 0h5.333a.86.86 0 0 1 .634.256.86.86 0 0 1 .255.633.86.86 0 0 1-.255.633.86.86 0 0 1-.634.256H2.6v12.444h5.333a.86.86 0 0 1 .634.256.86.86 0 0 1 .255.633.86.86 0 0 1-.255.633.86.86 0 0 1-.634.256H2.6Zm10.822-7.111H7.044a.86.86 0 0 1-.633-.256A.86.86 0 0 1 6.156 8a.86.86 0 0 1 .255-.633.86.86 0 0 1 .633-.256h6.378l-1.666-1.667a.816.816 0 0 1-.245-.6c0-.237.082-.444.245-.622a.843.843 0 0 1 .622-.278.84.84 0 0 1 .644.256L16.2 7.378a.853.853 0 0 1 .267.622.853.853 0 0 1-.267.622L13.022 11.8a.827.827 0 0 1-.633.256.907.907 0 0 1-.633-.278.864.864 0 0 1-.234-.634.869.869 0 0 1 .256-.61l1.644-1.645Z"/></symbol><symbol id="mail" viewBox="0 0 32 32"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_3096_880)"/><g filter="url(#filter0_d_3096_880)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.585 11.774a3.048 3.048 0 0 0-1.2 2.423v8.7a3.658 3.658 0 0 0 3.658 3.658H22.94a3.658 3.658 0 0 0 3.658-3.658v-8.7c0-.95-.444-1.847-1.2-2.423L17.84 6.009a3.048 3.048 0 0 0-3.697 0l-7.558 5.764Zm1.157 2.07v9.18c0 .674.546 1.22 1.22 1.22h14.06a1.22 1.22 0 0 0 1.219-1.22v-9.18l-6.85 4.798a2.439 2.439 0 0 1-2.798 0l-6.851-4.798Z" fill="#fff"/></g></symbol><symbol id="mail-text" viewBox="0 0 311 125"><path d="M0 5.046h29.266l24.389 51.973c6.84 14.465 11.213 24.949 13.12 31.453 1.569-6.055 5.886-16.54 12.95-31.453l24.557-51.973h28.257v117.738h-23.043v-47.6c0-7.737.112-14.016.337-18.838.224-4.822.672-9.924 1.345-15.306l-39.19 81.744H60.551L21.36 41.04c.673 5.382 1.121 10.484 1.346 15.306.224 4.822.336 11.1.336 18.838v47.6H0V5.046Z" fill="url(#paint0_linear_59620_156)"/><path d="M187.488 124.97c-7.849 0-15.081-2.018-21.697-6.055-6.616-4.149-11.886-9.699-15.811-16.651-3.812-6.952-5.718-14.577-5.718-22.875s1.906-15.923 5.718-22.875c3.925-7.064 9.195-12.67 15.811-16.82 6.616-4.148 13.848-6.223 21.697-6.223 7.177 0 12.951 1.346 17.325 4.037 4.485 2.691 7.961 6.56 10.428 11.605V35.322h22.538v87.463h-22.034v-14.297c-2.579 5.27-6.111 9.363-10.596 12.278-4.373 2.804-10.26 4.205-17.661 4.205Zm-20.52-45.75c0 4.486 1.009 8.69 3.028 12.615 2.13 3.813 4.99 6.897 8.578 9.251 3.7 2.243 7.905 3.364 12.615 3.364 4.821 0 9.082-1.121 12.783-3.364 3.812-2.242 6.727-5.27 8.746-9.082 2.018-3.813 3.027-8.018 3.027-12.615 0-4.597-1.009-8.802-3.027-12.615-2.019-3.924-4.934-7.008-8.746-9.25-3.701-2.355-7.962-3.533-12.783-3.533-4.71 0-8.915 1.178-12.615 3.532-3.7 2.243-6.56 5.27-8.578 9.083-2.019 3.812-3.028 8.017-3.028 12.615Z" fill="url(#paint1_linear_59620_156)"/><path d="M251.27 35.321h22.707v87.463H251.27V35.321Zm-2.354-20.688c0-3.7 1.289-6.84 3.868-9.419 2.691-2.579 5.943-3.868 9.756-3.868 3.924 0 7.176 1.29 9.755 3.868 2.579 2.58 3.869 5.719 3.869 9.42 0 3.812-1.29 7.007-3.869 9.586-2.579 2.58-5.831 3.869-9.755 3.869-3.813 0-7.065-1.29-9.756-3.869-2.579-2.69-3.868-5.886-3.868-9.587Z" fill="url(#paint2_linear_59620_156)"/><path d="M287.406 0h22.707v122.784h-22.707V0Z" fill="url(#paint3_linear_59620_156)"/></symbol><symbol id="notes" viewBox="0 0 33 33"><rect x=".718" y=".718" width="32" height="32" rx="10.568" fill="url(#paint0_linear_11347_30909)"/><g filter="url(#filter0_d_11347_30909)"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.71 6.43c-1.434 0-2.628.913-2.886 2.12h-1.847a4.569 4.569 0 0 0-4.569 4.57v9.464a4.569 4.569 0 0 0 4.57 4.569h9.464a4.569 4.569 0 0 0 4.569-4.57V13.12a4.569 4.569 0 0 0-4.57-4.57h-1.846c-.258-1.207-1.451-2.12-2.885-2.12Zm2.266 6.823c.51-.51 1.337-.51 1.846 0l.347.346c.51.51.51 1.337 0 1.846l-.577.577-2.193-2.192.577-.577Zm-1.269 1.27 2.192 2.192-6.135 6.135a.326.326 0 0 1-.23.095h-1.731a.326.326 0 0 1-.327-.326v-1.73c0-.087.035-.17.096-.231l6.135-6.136Z" fill="#fff"/></g></symbol><symbol id="notes-text" viewBox="0 0 479 136"><path d="M0 132.881V0h20.122l64.732 76.881c3.037 3.417 6.075 7.024 8.732 11.01-.759-5.695-.949-13.857-.949-21.64V0h24.298v132.881H99.661l-67.2-79.918c-3.037-3.417-6.075-7.024-8.732-11.01.76 5.694.949 13.857.949 21.64v69.288H0Z" fill="url(#paint0_linear_59620_144)"/><path d="M182.772 135.349c-30.562 0-52.583-23.159-52.583-51.634 0-28.474 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.475-22.02 51.634-52.583 51.634Zm-26.956-51.634c0 15.376 10.631 28.285 26.956 28.285 16.326 0 26.956-12.909 26.956-28.285s-10.63-28.474-26.956-28.474c-16.325 0-26.956 13.098-26.956 28.474Z" fill="url(#paint1_linear_59620_144)"/><path d="M278.718 132.881c-19.552 0-30.183-9.112-30.183-30.563V56h-13.857V34.17h13.857V14.236l25.627-2.657v22.59h20.882V56h-20.882v44.99c0 6.264 3.038 9.112 7.973 9.112h10.631v22.779h-14.048Z" fill="url(#paint2_linear_59620_144)"/><path d="M348.282 135.349c-30.563 0-51.064-23.159-51.064-51.634 0-28.474 21.451-52.013 51.064-52.013 29.614 0 50.115 23.539 50.115 52.013 0 2.848-.19 5.885-.759 9.112h-73.844c2.847 11.58 11.58 19.742 24.488 19.742 11.01 0 19.553-5.695 24.108-13.288l19.933 14.997c-7.973 12.339-24.488 21.071-44.041 21.071Zm-24.488-61.695h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.163-24.108 19.932Z" fill="url(#paint3_linear_59620_144)"/><path d="M440.657 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.746-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892Z" fill="url(#paint4_linear_59620_144)"/></symbol><symbol id="only-office" viewBox="0 0 16 16"><g clip-path="url(#clip0_6882_51948)" fill-rule="evenodd" clip-rule="evenodd"><path d="m7 15.172-6.58-3.02c-.56-.264-.56-.672 0-.912l2.291-1.055 4.265 1.966c.56.264 1.463.264 1.999 0l4.265-1.966 2.29 1.055c.561.264.561.671 0 .911l-6.58 3.021c-.511.24-1.413.24-1.95 0Z" fill="url(#paint0_linear_6882_51948)"/><path d="M7 11.456.42 8.436c-.56-.265-.56-.672 0-.912l2.243-1.03L7 8.483c.56.263 1.462.263 1.998 0l4.338-1.99 2.242 1.03c.561.264.561.671 0 .911L9 11.456c-.56.264-1.462.264-1.998 0Z" fill="url(#paint1_linear_6882_51948)"/><path d="M7 7.836.42 4.815c-.56-.264-.56-.672 0-.911L7 .883c.561-.264 1.463-.264 2 0l6.58 3.02c.56.264.56.672 0 .912L9 7.835c-.561.24-1.463.24-2 0Z" fill="url(#paint2_linear_6882_51948)"/></g></symbol><symbol id="papers" viewBox="0 0 16 16"><g clip-path="url(#clip0_11291_1044)"><path d="M10.716 0H5.284A5.284 5.284 0 0 0 0 5.284v5.432A5.284 5.284 0 0 0 5.284 16h5.432A5.284 5.284 0 0 0 16 10.716V5.284A5.284 5.284 0 0 0 10.716 0Z" fill="url(#paint0_linear_11291_1044)"/><g filter="url(#filter0_d_11291_1044)" fill="#fff"><path d="M5.5 5A1.5 1.5 0 0 1 7 3.5h5A1.5 1.5 0 0 1 13.5 5v3A1.5 1.5 0 0 1 12 9.5h-.25V8A2.75 2.75 0 0 0 9 5.25H5.5V5Z"/><path d="M4 6.5A1.5 1.5 0 0 0 2.5 8v3A1.5 1.5 0 0 0 4 12.5h5a1.5 1.5 0 0 0 1.5-1.5V8A1.5 1.5 0 0 0 9 6.5H4Z"/></g></g></symbol><symbol id="pass" viewBox="0 0 32 32"><path d="M0 10.568C0 4.731 4.73 0 10.568 0h10.864C27.268 0 32 4.731 32 10.568v10.864C32 27.269 27.268 32 21.432 32H10.568C4.73 32 0 27.268 0 21.432V10.568Z" fill="url(#paint0_linear_11350_7889)"/><g filter="url(#filter0_d_11350_7889)"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.328 23.872a.622.622 0 0 1-.618-.63l.023-1.823 5.177-5.176c-.455-.951-.607-1.976-.458-3.077.15-1.1.644-2.07 1.48-2.906 1.034-1.033 2.274-1.55 3.72-1.55 1.447 0 2.687.517 3.72 1.55 1.034 1.033 1.55 2.273 1.55 3.72 0 1.446-.516 2.686-1.55 3.72a5.14 5.14 0 0 1-2.836 1.472 5.094 5.094 0 0 1-3.146-.45l-.218.217v1.858a.622.622 0 0 1-.622.622h-1.235a.622.622 0 0 0-.622.623v1.231a.622.622 0 0 1-.626.622l-3.739-.023Zm10.256-9.294a1.555 1.555 0 1 0 0-3.11 1.555 1.555 0 0 0 0 3.11Z" fill="#fff"/></g></symbol><symbol id="pass-text" viewBox="0 0 370 136"><path d="M0 132.881V0h44.8c29.803 0 48.027 14.047 48.027 41.953 0 28.094-18.224 42.711-48.027 42.711H26.576v48.217H0Zm26.576-72.135h16.705c14.427 0 22.59-5.885 22.59-18.604 0-12.529-8.163-18.413-22.59-18.413H26.576v37.017ZM142.826 135.349c-27.145 0-48.786-22.97-48.786-51.444 0-28.475 21.641-51.824 48.786-51.824 17.085 0 26.007 7.024 31.322 17.654V34.17h25.438v98.712h-24.868v-16.135c-5.315 11.2-14.237 18.603-31.892 18.603Zm-23.159-51.634c0 14.997 11.01 28.475 27.336 28.475 16.895 0 27.715-12.909 27.715-28.285s-10.82-28.664-27.715-28.664c-16.326 0-27.336 13.098-27.336 28.474ZM248.602 135.349c-16.705 0-30.183-5.695-41.003-17.275l17.274-15.756c7.214 8.163 14.807 12.15 23.159 12.15 8.733 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.372-18.224-30.372-30.752 0-17.275 13.667-30.183 36.827-30.183 15.945 0 26.576 3.986 36.637 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.665 7.403 35.309 18.034 35.309 32.84 0 18.224-16.516 31.892-38.346 31.892ZM330.726 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892Z" fill="#A4A5B8"/></symbol><symbol id="photos" viewBox="0 0 32 32"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_4180_38328)"/><g filter="url(#filter0_d_4180_38328)" fill="#fff"><mask id="path-2-inside-1_4180_38328"><path d="M18.955 5.711c2.579 0 3.868 0 4.853.502a4.605 4.605 0 0 1 2.013 2.013c.502.985.502 2.274.502 4.853v5.988c0 2.579 0 3.868-.502 4.853a4.605 4.605 0 0 1-2.013 2.013c-.985.502-2.274.502-4.853.502h-5.988c-2.579 0-3.868 0-4.853-.502A4.606 4.606 0 0 1 6.1 23.92c-.502-.985-.502-2.274-.502-4.853v-5.988c0-2.579 0-3.868.502-4.853a4.605 4.605 0 0 1 2.013-2.013c.985-.502 2.274-.502 4.853-.502h5.988Z"/></mask><path d="M18.955 5.711V3.223 5.71Zm4.853.502-1.13 2.217 1.13-2.217Zm2.013 2.013-2.218 1.13 2.218-1.13Zm.502 4.853h2.488-2.488Zm0 5.988h2.488-2.488Zm-.502 4.853-2.218-1.13 2.218 1.13Zm-2.013 2.013-1.13-2.218 1.13 2.218Zm-4.853.502v2.488-2.488Zm-5.988 0v2.488-2.488Zm-4.853-.502 1.13-2.217-1.13 2.217ZM6.1 23.92l2.217-1.13-2.217 1.13ZM5.6 19.067H3.111h2.488Zm0-5.988H3.111h2.488Zm.502-4.853 2.217 1.13-2.217-1.13Zm2.013-2.013 1.13 2.217-1.13-2.217Zm4.853-.502V3.223 5.71ZM18.955 8.2c1.33 0 2.178.002 2.821.054.614.05.82.134.902.176l2.26-4.434c-.902-.46-1.834-.627-2.756-.702-.893-.073-1.979-.071-3.227-.071V8.2Zm3.723.23c.399.203.723.527.925.926l4.435-2.26a7.093 7.093 0 0 0-3.1-3.1l-2.26 4.434Zm.925.926c.043.083.127.288.177.902.052.643.054 1.49.054 2.821h4.977c0-1.248.002-2.334-.07-3.227-.076-.922-.243-1.854-.703-2.756l-4.434 2.26Zm.231 3.723v5.988h4.977v-5.988h-4.977Zm0 5.988c0 1.33-.002 2.178-.054 2.821-.05.614-.134.82-.177.902l4.435 2.26c.46-.902.627-1.834.702-2.756.073-.893.071-1.979.071-3.227h-4.977Zm-.23 3.724a2.117 2.117 0 0 1-.926.924l2.26 4.435a7.093 7.093 0 0 0 3.1-3.1l-4.434-2.26Zm-.926.925c-.083.042-.288.126-.902.176-.643.052-1.49.054-2.821.054v4.977c1.248 0 2.334.002 3.227-.07.922-.076 1.854-.243 2.756-.703l-2.26-4.434Zm-3.723.23h-5.988v4.977h5.988v-4.977Zm-5.988 0c-1.33 0-2.178-.002-2.822-.054-.614-.05-.818-.134-.901-.176l-2.26 4.434c.902.46 1.834.627 2.756.702.893.073 1.979.071 3.227.071v-4.977Zm-3.724-.23a2.117 2.117 0 0 1-.925-.925L3.884 25.05a7.094 7.094 0 0 0 3.1 3.1l2.26-4.434Zm-.925-.926c-.042-.083-.126-.288-.176-.902-.052-.643-.054-1.49-.054-2.821H3.11c0 1.248-.002 2.334.07 3.227.076.922.243 1.854.703 2.756l4.434-2.26Zm-.23-3.723v-5.988H3.11v5.988h4.977Zm0-5.988c0-1.33.002-2.178.054-2.821.05-.614.134-.82.176-.902l-4.434-2.26c-.46.902-.627 1.834-.702 2.756-.073.893-.071 1.979-.071 3.227h4.977Zm.23-3.723c.203-.399.527-.723.925-.926L6.984 3.996a7.094 7.094 0 0 0-3.1 3.1l4.434 2.26Zm.926-.926c.083-.042.287-.126.902-.176.643-.052 1.49-.054 2.821-.054V3.223c-1.248 0-2.334-.002-3.227.07-.922.076-1.854.243-2.756.703l2.26 4.434Zm3.723-.23h5.988V3.223h-5.988V8.2Z" mask="url(#path-2-inside-1_4180_38328)"/></g><g filter="url(#filter1_d_4180_38328)"><circle cx="13.5" cy="13.5" r="2.5" fill="#fff"/></g><path d="M7.538 23.26a.467.467 0 0 0 .377.74h17.162a.467.467 0 0 0 .376-.743l-5.205-7.071a1 1 0 0 0-1.654.063l-2.955 4.728a1 1 0 0 1-1.641.08l-1.682-2.194a1 1 0 0 0-1.603.021L7.538 23.26Z" fill="#fff"/></symbol><symbol id="photos-text" viewBox="0 0 554 140"><path d="M.91 137.248V6.039h44.237c29.428 0 47.422 13.87 47.422 41.424 0 27.742-17.994 42.175-47.422 42.175H27.152v47.61H.911ZM27.153 66.02h16.495c14.246 0 22.306-5.81 22.306-18.37 0-12.37-8.06-18.18-22.306-18.18H27.152v36.55Z" fill="url(#paint0_linear_12748_109)"/><path d="M101.909 137.248V.416h25.304v52.858c5.249-10.497 14.808-15.745 29.429-15.745 20.993 0 37.113 15.558 37.113 40.112v59.607H168.45V83.827c0-16.87-8.434-24.18-20.993-24.18-10.684 0-20.244 7.31-20.244 24.18v53.421h-25.304Z" fill="url(#paint1_linear_12748_109)"/><path d="M256.066 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984ZM229.449 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116Z" fill="url(#paint2_linear_12748_109)"/><path d="M350.804 137.248c-19.306 0-29.803-8.998-29.803-30.178V61.334h-13.683V39.778h13.683v-19.68l25.304-2.625v22.305h20.619v21.556h-20.619v44.423c0 6.186 2.999 8.998 7.873 8.998h10.497v22.493h-13.871Z" fill="url(#paint3_linear_12748_109)"/><path d="M420.992 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984ZM394.375 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116Z" fill="url(#paint4_linear_12748_109)"/><path d="M515.463 139.684c-16.494 0-29.803-5.623-40.487-17.057l17.057-15.557c7.123 8.06 14.621 11.996 22.868 11.996 8.622 0 13.496-4.311 13.496-10.122 0-5.061-2.437-7.873-17.807-11.434-26.054-6.186-29.991-17.994-29.991-30.365 0-17.057 13.496-29.803 36.364-29.803 15.745 0 26.242 3.936 36.176 16.87L534.77 68.268c-4.686-7.497-10.684-10.496-17.245-10.496-6.935 0-12.183 2.624-12.183 8.622 0 3.374 1.499 6.373 13.12 9.372 28.304 7.31 34.864 17.807 34.864 32.427 0 17.995-16.307 31.49-37.863 31.49Z" fill="url(#paint5_linear_12748_109)"/></symbol><symbol id="share-grey08" viewBox="0 0 16 16">\n  <g fill="#32363F" fill-rule="evenodd" transform="translate(-160 -32)">\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z"/>\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z"/>\n  </g>\n</symbol><symbol id="store" viewBox="0 0 16 16"><rect width="16" height="16" rx="5.284" fill="url(#paint0_linear_11291_1430)"/><g filter="url(#filter0_d_11291_1430)"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.796 5.66a1.387 1.387 0 0 1-.578 1.64v3.633a2.284 2.284 0 0 1-2.285 2.284H5.14a2.284 2.284 0 0 1-2.284-2.284V7.296a1.387 1.387 0 0 1-.573-1.636l.658-1.877c.195-.556.72-.928 1.309-.928h7.579c.59 0 1.114.372 1.309.928l.658 1.877Zm-3.871.959c-.134.177-.331.266-.59.266a.635.635 0 0 1-.49-.223.758.758 0 0 1-.201-.525v-2.13h1.123l.316 2.015a.786.786 0 0 1-.158.597Zm-2.641.043a.706.706 0 0 1-.54.223c-.22 0-.4-.086-.54-.259a.73.73 0 0 1-.15-.604l.316-2.015h1.123v2.13c0 .201-.07.376-.209.525Zm-2.648.036a.633.633 0 0 1-.453.187c-.279 0-.478-.11-.598-.33-.12-.221-.15-.428-.093-.62l.576-1.928H5.19l-.317 2.216a.804.804 0 0 1-.237.475Zm7.923-.144c-.125.22-.327.331-.605.331a.633.633 0 0 1-.453-.187.804.804 0 0 1-.238-.475l-.316-2.216h1.093l.605 1.928c.067.192.038.399-.086.62Z" fill="#fff"/></g></symbol><symbol id="store-text" viewBox="0 0 440 138"><path d="M51.78 137.863c-21.07 0-39.294-8.352-50.874-28.664l22.97-14.617c6.834 13.668 17.844 19.553 29.423 19.553 12.34 0 19.933-6.075 19.933-15.187 0-13.288-14.048-17.464-30.373-21.64-20.502-5.316-33.6-17.275-33.6-37.397C9.259 15.992 28.052.237 56.147.237c20.691 0 33.98 9.111 43.85 24.678L77.219 38.962c-6.454-10.25-12.529-14.997-22.4-14.997-10.63 0-18.413 5.695-18.413 14.617 0 9.871 9.491 13.099 21.07 16.705 15.567 4.936 42.902 11.77 42.902 42.143 0 24.108-18.413 40.433-48.596 40.433Z" fill="url(#paint0_linear_59617_306)"/><path d="M147.626 135.396c-19.553 0-30.183-9.112-30.183-30.563V58.514h-13.858v-21.83h13.858V16.752l25.627-2.658v22.59h20.881v21.83H143.07v44.99c0 6.265 3.037 9.112 7.973 9.112h10.63v22.78h-14.047Z" fill="url(#paint1_linear_59617_306)"/><path d="M218.708 137.863c-30.562 0-52.583-23.159-52.583-51.633 0-28.475 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.474-22.02 51.633-52.583 51.633ZM191.752 86.23c0 15.376 10.631 28.284 26.956 28.284 16.326 0 26.956-12.908 26.956-28.284 0-15.377-10.63-28.475-26.956-28.475-16.325 0-26.956 13.098-26.956 28.475Z" fill="url(#paint2_linear_59617_306)"/><path d="M282.634 135.396V36.684h24.867v18.793c3.417-14.237 13.478-22.02 30.563-21.071v24.108h-3.607c-14.807 0-26.196 9.872-26.196 26.387v50.495h-25.627Z" fill="url(#paint3_linear_59617_306)"/><path d="M389.038 137.863c-30.563 0-51.064-23.159-51.064-51.633 0-28.475 21.45-52.014 51.064-52.014 29.613 0 50.115 23.54 50.115 52.014 0 2.847-.19 5.884-.759 9.111H364.55c2.847 11.58 11.579 19.743 24.488 19.743 11.01 0 19.552-5.695 24.108-13.288l19.932 14.996c-7.972 12.339-24.488 21.071-44.04 21.071ZM364.55 76.169h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.162-24.108 19.932Z" fill="url(#paint4_linear_59617_306)"/></symbol><symbol id="top-select" viewBox="0 0 16 11"><path d="M8 4.108 2.404 9.704c-.263.263-.598.395-1.005.395-.406 0-.741-.132-1.004-.395S0 9.106 0 8.699c0-.406.132-.74.395-1.004l6.6-6.6c.144-.144.3-.246.467-.306C7.629.73 7.809.7 8 .7c.191 0 .37.03.538.09.168.06.323.162.466.305l6.601 6.601c.263.263.395.598.395 1.004 0 .407-.132.742-.395 1.005-.263.263-.598.395-1.004.395-.407 0-.742-.132-1.005-.395L8 4.108Z"/></symbol><symbol id="trash-duotone" viewBox="0 0 13 16"><path d="M1.111 14.222c0 .978.8 1.778 1.778 1.778h7.11c.979 0 1.779-.8 1.779-1.778V3.556H1.11v10.666ZM2.89 5.333h7.11v8.89H2.89v-8.89ZM9.556.89 8.665 0H4.223l-.889.889H.223v1.778h12.444V.889H9.556Z"/></symbol><symbol id="twake-text" viewBox="0 0 86 23"><path d="M6.495 5.381H.635V1.69h15.822v3.692h-5.86V22.2H6.495V5.38Z"/><path d="M13.606 6.963h4.63l1.963 8.644c.215.88.37 1.65.469 2.315.136-.84.302-1.621.498-2.344l2.227-8.615h4.541l2.374 8.615c.195.723.36 1.504.498 2.344.097-.664.254-1.436.468-2.315l2.11-8.644h4.307L32.945 22.2h-4.278l-2.49-8.673a13.054 13.054 0 0 1-.528-2.286c-.137.899-.293 1.66-.47 2.286L22.896 22.2h-4.542L13.606 6.963ZM44.766 22.58a7.12 7.12 0 0 1-3.78-1.054 8.014 8.014 0 0 1-2.754-2.9c-.664-1.212-.997-2.54-.997-3.986 0-1.445.333-2.774.997-3.985.683-1.23 1.601-2.207 2.754-2.93a6.977 6.977 0 0 1 3.78-1.084c1.25 0 2.256.234 3.018.703.781.47 1.387 1.143 1.816 2.022V6.963h3.927V22.2h-3.839v-2.49c-.449.917-1.064 1.63-1.846 2.138-.761.489-1.787.733-3.076.733Zm-3.575-7.97c0 .782.176 1.515.527 2.198.372.665.87 1.202 1.495 1.612.644.39 1.377.586 2.197.586.84 0 1.583-.195 2.227-.586a3.955 3.955 0 0 0 1.524-1.582 4.623 4.623 0 0 0 .527-2.198c0-.8-.176-1.533-.527-2.197a3.907 3.907 0 0 0-1.524-1.612c-.644-.41-1.387-.615-2.227-.615-.82 0-1.553.205-2.197.615a4.014 4.014 0 0 0-1.495 1.582 4.624 4.624 0 0 0-.527 2.198ZM59.833 14.963V22.2h-3.956V.81h3.956v12.306l5.713-6.153h5.626l-7.179 7.091 7.208 8.146h-5.245l-6.123-7.237Z"/><path d="M77.594 22.58c-1.543 0-2.91-.35-4.102-1.054a7.632 7.632 0 0 1-2.783-2.9c-.665-1.212-.997-2.55-.997-4.015a8.13 8.13 0 0 1 1.026-4.014 7.792 7.792 0 0 1 2.813-2.93c1.21-.723 2.559-1.085 4.043-1.085 1.485 0 2.813.362 3.985 1.085a7.362 7.362 0 0 1 2.755 2.93c.664 1.21.996 2.549.996 4.014 0 .488-.04.957-.117 1.406H73.815c.234.918.673 1.66 1.318 2.227.664.547 1.485.82 2.461.82.82 0 1.553-.185 2.198-.556a4.465 4.465 0 0 0 1.523-1.494l3.077 2.314c-.625.977-1.543 1.768-2.754 2.374-1.211.586-2.56.879-4.044.879Zm3.75-9.522a4.28 4.28 0 0 0-1.376-2.198c-.684-.586-1.495-.879-2.432-.879-.918 0-1.72.284-2.403.85-.664.567-1.104 1.309-1.319 2.227h7.53Z"/></symbol><symbol id="twake-workplace" viewBox="0 0 22 22"><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint0_linear_1573_14803)"/><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint1_linear_1573_14803)"/><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint2_linear_1573_14803)"/><path d="M11.281 3.7c.008.006.017.01.027.012l.014.002a.405.405 0 0 1 .156.05c.015.007.03.016.044.024l1.068.605 1.25.707.906.512.056.032a.487.487 0 0 1 .229.363l.002.1v3.145a.489.489 0 0 1-.71.401c-.017-.008-.034-.018-.05-.027l-1.606-.909-1.138-.642-.056-.032a.542.542 0 0 0-.178-.051h-.058a.462.462 0 0 0-.213.053c-.02.01-.038.021-.056.032l-1.215.696-1.458.835a3.52 3.52 0 0 1-.063.036.533.533 0 0 1-.176.058l-.07.002a.433.433 0 0 1-.195-.046.48.48 0 0 1-.283-.433V6.05a.483.483 0 0 1 .224-.404l.05-.029.86-.493 1.021-.585 1.033-.59.256-.147.056-.032a.553.553 0 0 1 .107-.044.53.53 0 0 1 .071-.013.048.048 0 0 0 .025-.012l.07-.002Zm-7.514 8.774a.036.036 0 0 0 .026-.032.487.487 0 0 1 .27-.389l.652-.376 1.455-.84.566-.326.063-.036a.49.49 0 0 1 .702.418v3.209a.49.49 0 0 0 .213.394.671.671 0 0 0 .068.04l.62.348 1.278.714.792.442.062.035c.11.064.188.168.22.29a.463.463 0 0 1 .013.192.476.476 0 0 1-.224.35c-.02.013-.042.024-.063.036L8.411 18.08l-.704.386c-.019.01-.036.022-.057.031a.494.494 0 0 1-.48-.016l-.217-.127-2.877-1.692a.533.533 0 0 1-.055-.033.487.487 0 0 1-.219-.306c-.005-.02-.007-.043-.01-.064a.028.028 0 0 0-.018-.02.04.04 0 0 0-.007-.003v-3.763Zm11.207 6.103a.078.078 0 0 0-.017-.012.533.533 0 0 0-.055-.016.47.47 0 0 1-.127-.049l-.069-.04-1.063-.613-1.573-.907-.05-.03a.477.477 0 0 1-.224-.4.477.477 0 0 1 .27-.448l.896-.514 1.21-.692.566-.325.074-.043a.487.487 0 0 0 .227-.35 1.02 1.02 0 0 0 .006-.115v-3.092c0-.024 0-.04.002-.058a.481.481 0 0 1 .356-.43.471.471 0 0 1 .113-.019.492.492 0 0 1 .285.084l.722.415 1.268.733.665.383.062.036a.469.469 0 0 1 .19.218.15.15 0 0 1 .015.048.083.083 0 0 0 .016.032v3.964a.032.032 0 0 0-.015.023.178.178 0 0 1-.017.055.48.48 0 0 1-.18.208.67.67 0 0 1-.062.035l-.978.56-2.18 1.25a.376.376 0 0 1-.055.032.468.468 0 0 1-.127.05.389.389 0 0 0-.048.013.03.03 0 0 0-.016.014h-.087Z" fill="#fff"/></symbol><symbol id="workplace-text" viewBox="0 0 114 22"><path d="M95.23 17.435c-1.728 0-3.166-.574-4.313-1.72-1.132-1.148-1.698-2.562-1.698-4.245 0-1.682.566-3.096 1.698-4.243 1.147-1.147 2.585-1.721 4.313-1.721 1.162 0 2.202.275 3.12.826.933.55 1.659 1.3 2.179 2.248l-1.72.963a3.964 3.964 0 0 0-1.446-1.605c-.612-.398-1.323-.597-2.133-.597-1.178 0-2.141.398-2.89 1.193-.75.795-1.125 1.774-1.125 2.936 0 1.163.375 2.141 1.124 2.937.75.795 1.713 1.193 2.89 1.193.811 0 1.522-.2 2.134-.597a3.963 3.963 0 0 0 1.445-1.606l1.721.964a5.808 5.808 0 0 1-2.18 2.248c-.917.55-1.957.826-3.12.826ZM80.608 17.435c-.887 0-1.644-.16-2.271-.482a3.51 3.51 0 0 1-1.4-1.354 3.962 3.962 0 0 1-.481-1.95c0-1.208.351-2.08 1.055-2.615.719-.535 1.743-.803 3.074-.803h3.946v-.825c0-1.04-.238-1.76-.712-2.157-.458-.397-1.154-.596-2.087-.596-.872 0-1.507.168-1.904.504-.398.322-.62.689-.665 1.102h-2.02a3.1 3.1 0 0 1 .666-1.744c.398-.52.94-.933 1.629-1.239.688-.305 1.491-.458 2.409-.458.963 0 1.797.153 2.5.458.704.291 1.247.757 1.629 1.4.382.627.573 1.46.573 2.5V15.806c.016.474.054.94.115 1.4h-1.766c-.046-.352-.077-.681-.092-.987-.015-.321-.023-.68-.023-1.078-.321.642-.841 1.185-1.56 1.628-.719.444-1.59.666-2.615.666Zm.436-1.836c.642 0 1.223-.114 1.743-.344a2.86 2.86 0 0 0 1.262-1.009c.321-.444.482-.987.482-1.629v-.826h-3.602c-.75 0-1.338.153-1.766.46-.429.29-.643.756-.643 1.399 0 .565.2 1.032.597 1.399.413.367 1.055.55 1.927.55ZM71.618 17.205V0h1.973v17.205h-1.973ZM59.102 22h-1.973V5.735h1.973v1.767c.397-.581.956-1.055 1.674-1.422a5.04 5.04 0 0 1 2.363-.574c1.59 0 2.921.581 3.992 1.743 1.085 1.163 1.629 2.57 1.629 4.221 0 1.652-.544 3.06-1.63 4.221-1.07 1.163-2.4 1.744-3.99 1.744a5.211 5.211 0 0 1-2.364-.55c-.719-.383-1.277-.865-1.674-1.446V22Zm.94-7.57c.734.795 1.667 1.193 2.799 1.193s2.065-.398 2.799-1.193c.734-.796 1.1-1.782 1.1-2.96 0-1.177-.366-2.164-1.1-2.959-.734-.795-1.667-1.193-2.8-1.193-1.13 0-2.064.398-2.798 1.193s-1.1 1.782-1.1 2.96c0 1.177.366 2.163 1.1 2.959ZM52.987 17.205l-6.216-5.735v5.735h-1.973V0h1.973v10.208l5-4.473h2.616l-5.644 5.07 6.905 6.4h-2.66ZM36.166 17.205V5.735h1.973V7.96a3.135 3.135 0 0 1 1.238-1.698c.627-.428 1.285-.642 1.973-.642.337 0 .635.03.895.092v2.041c-.275-.122-.635-.183-1.078-.183-.796 0-1.499.344-2.11 1.032-.613.688-.918 1.66-.918 2.914v5.689h-1.973ZM27.386 17.435c-1.728 0-3.165-.574-4.312-1.72-1.132-1.163-1.698-2.578-1.698-4.245 0-1.667.566-3.074 1.698-4.22 1.147-1.163 2.584-1.744 4.312-1.744 1.713 0 3.136.581 4.267 1.743 1.147 1.147 1.72 2.554 1.72 4.221 0 1.667-.573 3.082-1.72 4.244-1.131 1.147-2.554 1.72-4.267 1.72Zm-2.89-3.028c.75.795 1.713 1.193 2.89 1.193 1.178 0 2.134-.398 2.868-1.193.734-.796 1.101-1.774 1.101-2.937 0-1.162-.367-2.14-1.101-2.936-.734-.795-1.69-1.193-2.868-1.193-1.177 0-2.14.398-2.89 1.193-.734.795-1.101 1.774-1.101 2.936 0 1.163.367 2.141 1.1 2.937ZM14.315 17.205 10.323 6.148 6.354 17.205H4.45L0 .917h2.225l3.395 12.71L10.323.641l4.703 12.984L18.444.917h2.225l-4.45 16.288h-1.904ZM108.109 17.435c-1.759 0-3.189-.566-4.29-1.698-1.101-1.131-1.652-2.554-1.652-4.267 0-1.697.559-3.112 1.675-4.243 1.116-1.147 2.546-1.721 4.29-1.721 1.544 0 2.837.52 3.877 1.56 1.055 1.025 1.583 2.424 1.583 4.198 0 .23-.008.428-.023.596h-9.406c.031 1.071.413 1.966 1.147 2.684.75.72 1.69 1.079 2.822 1.079 1.606 0 2.798-.666 3.578-1.996l1.56 1.078c-1.116 1.82-2.837 2.73-5.161 2.73Zm-3.808-7.18h7.272c-.153-.918-.558-1.644-1.216-2.18-.642-.55-1.407-.826-2.294-.826-.902 0-1.713.276-2.432.826-.703.536-1.147 1.262-1.33 2.18Z" fill="#97A3B7"/></symbol><symbol id="album-add" viewBox="0 0 16 16"><path d="M1.6 3.2H0v11.2c0 .88.72 1.6 1.6 1.6h11.2v-1.6H1.6V3.2ZM14.4 0H4.8c-.88 0-1.6.72-1.6 1.6v9.6c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6Zm0 11.2H4.8V1.6h9.6v9.6ZM8.8 9.6h1.6V7.2h2.4V5.6h-2.4V3.2H8.8v2.4H6.4v1.6h2.4v2.4Z"/></symbol><symbol id="album-remove" viewBox="0 0 16 3"><path d="M16 2.286H0V0h16v2.286Z"/></symbol><symbol id="album" viewBox="0 0 16 16"><path d="M12.2 0H2.6C1.72 0 1 .72 1 1.6v12.8c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6Zm0 14.4H2.6V1.6h4v5.6l2-1.2 2 1.2V1.6h1.6v12.8ZM8.696 9.2l2.704 3.6h-8l1.904-2.536L6.6 12l2.096-2.8Z"/></symbol><symbol id="answer" viewBox="0 0 16 13"><path d="M3.114 6.594 5.75 9.231a.833.833 0 0 1 .261.636.915.915 0 0 1-.284.636.959.959 0 0 1-.636.262.833.833 0 0 1-.636-.262L.273 6.321A.872.872 0 0 1 0 5.685c0-.242.09-.454.273-.636L4.455.867a.848.848 0 0 1 .625-.25c.25 0 .465.083.647.25A.885.885 0 0 1 6 1.515c0 .25-.09.466-.273.647L3.114 4.776h8.34c1.258 0 2.33.443 3.216 1.33.887.886 1.33 1.958 1.33 3.215v2.728a.88.88 0 0 1-.261.648.88.88 0 0 1-.648.26.88.88 0 0 1-.648-.26.88.88 0 0 1-.261-.648V9.32a2.63 2.63 0 0 0-.796-1.931 2.63 2.63 0 0 0-1.931-.796H3.114Z"/></symbol><symbol id="apple" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M11.88 8.5c.023 2.422 2.125 3.227 2.148 3.238-.018.056-.336 1.148-1.107 2.275-.667.975-1.36 1.946-2.45 1.966-1.07.02-1.415-.635-2.64-.635s-1.607.615-2.622.655c-1.052.04-1.853-1.054-2.526-2.025C1.31 11.987.26 8.36 1.67 5.912c.7-1.215 1.952-1.985 3.31-2.005 1.034-.02 2.01.695 2.641.695.632 0 1.817-.86 3.063-.733.522.022 1.986.21 2.927 1.587-.076.047-1.748 1.02-1.73 3.044M9.868 2.555c.559-.677.935-1.618.832-2.555-.805.032-1.779.537-2.357 1.213-.517.598-.97 1.556-.848 2.475.897.069 1.814-.457 2.373-1.133"/>\n</symbol><symbol id="archive" viewBox="0 0 16 16"><path d="M15.591 1.982 14.356.49A1.29 1.29 0 0 0 13.333 0H2.667a1.32 1.32 0 0 0-1.031.489L.409 1.982A1.74 1.74 0 0 0 0 3.112v11.11C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V3.112a1.74 1.74 0 0 0-.409-1.13ZM2.88 1.778h10.24l.72.862H2.169l.711-.862ZM1.778 14.222V4.444h12.444v9.778H1.778Zm7.51-8H6.712V8.89H4.444L8 12.444l3.556-3.555H9.289V6.222Z"/></symbol><symbol id="arrow-up" viewBox="0 0 17 17"><path d="M7.56 4.28 2.528 9.314a.941.941 0 0 1-.719.295 1.034 1.034 0 0 1-.719-.32 1.084 1.084 0 0 1-.295-.72.941.941 0 0 1 .295-.719l6.78-6.78a.901.901 0 0 1 .334-.218c.12-.043.248-.064.385-.064s.266.021.385.064c.12.043.232.115.334.218l6.78 6.78a.958.958 0 0 1 .283.706c0 .283-.094.527-.283.732a1 1 0 0 1-.732.309 1 1 0 0 1-.732-.309L9.616 4.28v11.48a.994.994 0 0 1-.295.732.994.994 0 0 1-.732.296.994.994 0 0 1-.732-.296.994.994 0 0 1-.295-.732V4.28Z"/></symbol><symbol id="article" viewBox="0 0 16 16"><path d="M10.611 0c1.588 0 2.351.147 3.144.572.72.384 1.289.953 1.673 1.673.425.793.572 1.556.572 3.144v5.222c0 1.588-.147 2.351-.572 3.144a4.032 4.032 0 0 1-1.673 1.673c-.793.425-1.556.572-3.144.572H5.39c-1.588 0-2.351-.147-3.144-.572a4.032 4.032 0 0 1-1.673-1.673C.147 12.962 0 12.2 0 10.611V5.39C0 3.8.147 3.038.572 2.245A4.031 4.031 0 0 1 2.245.572C3.038.147 3.8 0 5.389 0h5.222Zm0 1.455H5.39c-1.368 0-1.905.103-2.458.4-.466.248-.828.61-1.077 1.076-.296.553-.4 1.09-.4 2.458v5.222c0 1.368.104 1.905.4 2.458.25.466.61.828 1.077 1.077.553.296 1.09.4 2.458.4h5.222c1.368 0 1.905-.104 2.458-.4.466-.25.828-.61 1.077-1.077.296-.553.4-1.09.4-2.458V5.39c0-1.368-.104-1.905-.4-2.458a2.577 2.577 0 0 0-1.077-1.077c-.553-.296-1.09-.4-2.458-.4Zm-3.338 9.09a.727.727 0 1 1 0 1.455h-2.91a.727.727 0 1 1 0-1.454h2.91Zm4.363-3.272a.727.727 0 0 1 0 1.454H4.364a.727.727 0 1 1 0-1.454h7.272Zm0-3.273a.727.727 0 0 1 0 1.455H4.364a.727.727 0 0 1 0-1.455h7.272Z" fill="#424244"/></symbol><symbol id="assign-admin"><path d="M11.2 10.896a.896.896 0 1 0 0-1.792.896.896 0 0 0 0 1.792Z"/><path fill-rule="evenodd" d="M11.2 11.6c-.584 0-1.752.288-1.792.864a2.19 2.19 0 0 0 1.792.936 2.19 2.19 0 0 0 1.792-.936c-.04-.576-1.208-.864-1.792-.864Z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 6.472V2.616L6 0 0 2.616v3.928c0 3.632 2.56 7.032 6 7.856.44-.104.864-.256 1.28-.44A4.778 4.778 0 0 0 11.2 16c2.648 0 4.8-2.152 4.8-4.8a4.798 4.798 0 0 0-4-4.728ZM6.4 11.2c0 .448.064.888.184 1.296a5.27 5.27 0 0 1-.584.24c-2.536-.8-4.4-3.392-4.4-6.192v-2.88L6 1.744l4.4 1.92v2.808a4.798 4.798 0 0 0-4 4.728Zm4.8 3.2a3.2 3.2 0 1 1 0-6.4 3.2 3.2 0 1 1 0 6.4Z" clip-rule="evenodd"/></symbol><symbol id="assign-moderator"><path d="M1.6 7.272v-3.76l4.8-1.8 4.8 1.8v2.952c.568.08 1.104.248 1.6.48V2.4L6.4 0 0 2.4v4.872C0 11.312 2.728 15.08 6.4 16c.024-.008.04-.016.064-.016a5.658 5.658 0 0 1-1.4-2.272C3.008 12.424 1.6 9.936 1.6 7.272Z"/><path d="M10.4 8c-2.208 0-4 1.792-4 4s1.792 4 4 4 4-1.792 4-4-1.792-4-4-4Zm2.4 4.4h-2v2H10v-2H8v-.8h2v-2h.8v2h2v.8Z"/></symbol><symbol id="attachment" viewBox="0 0 9 16"><path d="M7.41 3.636V12a2.908 2.908 0 1 1-5.82 0V2.91a1.819 1.819 0 0 1 3.637 0v7.636a.73.73 0 0 1-.727.727.73.73 0 0 1-.727-.727v-6.91H2.682v6.91a1.819 1.819 0 0 0 3.636 0V2.909a2.908 2.908 0 1 0-5.818 0V12c0 2.21 1.79 4 4 4s4-1.79 4-4V3.636H7.41Z"/></symbol><symbol id="attention" viewBox="0 0 22 19"><path d="M11 3.99 18.53 17H3.47L11 3.99ZM11 0 0 19h22L11 0Zm1 14h-2v2h2v-2Zm0-6h-2v4h2V8Z"/></symbol><symbol id="bank-check" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h12Zm0 3H2v7h12V5Zm-2 1v1h-.5a1.5 1.5 0 0 0-1.415 1H12v1h-1.914c.19.54.68.937 1.27.993L11.5 10h.5v1h-.5a2.5 2.5 0 0 1-.164-4.995L11.5 6h.5ZM8 9v1H4V9h4Zm0-2v1H4V7h4Z"/></symbol><symbol id="banking-add" viewBox="0 0 16 14"><path d="M13.09.455H1.456C.647.455.007 1.102.007 1.909L0 10.636a1.45 1.45 0 0 0 1.455 1.455h7.272v-1.455H1.455V6.273h13.09V1.909A1.45 1.45 0 0 0 13.091.455Zm0 2.909H1.456V1.909H13.09v1.455ZM16 9.909v1.455h-2.182v2.181h-1.454v-2.181h-2.182V9.909h2.182V7.727h1.454V9.91H16Z"/></symbol><symbol id="banking" viewBox="0 0 16 13"><path d="M14.4 0H1.6C.712 0 .008.712.008 1.6L0 11.2c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V1.6c0-.888-.712-1.6-1.6-1.6Zm0 11.2H1.6V6.4h12.8v4.8Zm0-8H1.6V1.6h12.8v1.6Z"/></symbol><symbol id="bank" viewBox="0 0 17 16"><path d="M4.5 7.2H2.9v5.6h1.6V7.2Zm4.8 0H7.7v5.6h1.6V7.2Zm6.8 7.2H.9V16h15.2v-1.6Zm-2-7.2h-1.6v5.6h1.6V7.2ZM8.5 1.808 12.668 4H4.332L8.5 1.808ZM8.5 0 .9 4v1.6h15.2V4L8.5 0Z"/></symbol><symbol id="bell" viewBox="0 0 14 16"><path d="M1.4 13.6a.774.774 0 0 1-.57-.23.774.774 0 0 1-.23-.57c0-.227.077-.417.23-.57A.774.774 0 0 1 1.4 12h.8V6.4c0-1.107.333-2.09 1-2.95a4.614 4.614 0 0 1 2.6-1.69V1.2c0-.333.117-.617.35-.85C6.383.117 6.667 0 7 0c.333 0 .617.117.85.35.233.233.35.517.35.85v.56a4.614 4.614 0 0 1 2.6 1.69c.667.86 1 1.843 1 2.95V12h.8c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 0 1-.23.57.774.774 0 0 1-.57.23H1.4ZM7 16a1.54 1.54 0 0 1-1.13-.47 1.54 1.54 0 0 1-.47-1.13h3.2c0 .44-.157.817-.47 1.13A1.54 1.54 0 0 1 7 16Zm-3.2-4h6.4V6.4a3.08 3.08 0 0 0-.94-2.26A3.081 3.081 0 0 0 7 3.2a3.08 3.08 0 0 0-2.26.94A3.081 3.081 0 0 0 3.8 6.4V12Z"/></symbol><symbol id="benefit" viewBox="0 0 16 12"><path d="M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454Zm-1.454 0H1.455V1.455h10.181v5.818Zm-5.09-5.091a2.179 2.179 0 0 0-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182Zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16Z"/></symbol><symbol id="bike" viewBox="0 0 16 14"><path d="M10.333 2.667c.734 0 1.334-.6 1.334-1.334C11.667.6 11.067 0 10.333 0 9.6 0 9 .6 9 1.333c0 .734.6 1.334 1.333 1.334ZM3.333 7A3.3 3.3 0 0 0 0 10.333a3.301 3.301 0 0 0 3.333 3.334 3.301 3.301 0 0 0 3.334-3.334A3.301 3.301 0 0 0 3.333 7Zm0 5.667C2.067 12.667 1 11.6 1 10.333 1 9.067 2.067 8 3.333 8 4.6 8 5.667 9.067 5.667 10.333c0 1.267-1.067 2.334-2.334 2.334ZM7.2 6l1.6-1.6.533.533c.867.867 2 1.4 3.4 1.4V5c-1 0-1.8-.4-2.4-1L9.067 2.733c-.334-.266-.667-.4-1.067-.4-.4 0-.733.134-.933.4L5.2 4.6c-.267.267-.4.6-.4.933 0 .4.133.734.4.934l2.133 1.866v3.334h1.334V7.533L7.2 6Zm5.467 1a3.301 3.301 0 0 0-3.334 3.333 3.301 3.301 0 0 0 3.334 3.334A3.301 3.301 0 0 0 16 10.333 3.301 3.301 0 0 0 12.667 7Zm0 5.667c-1.267 0-2.334-1.067-2.334-2.334C10.333 9.067 11.4 8 12.667 8 13.933 8 15 9.067 15 10.333c0 1.267-1.067 2.334-2.333 2.334Z"/></symbol><symbol id="bill" viewBox="0 0 16 16"><path d="M14 1.2 12.8 0l-1.2 1.2L10.4 0 9.2 1.2 8 0 6.8 1.2 5.6 0 4.4 1.2 3.2 0 2 1.2.8 0v16L2 14.8 3.2 16l1.2-1.2L5.6 16l1.2-1.2L8 16l1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2V0L14 1.2Zm-.4 12.472H2.4V2.328h11.2v11.344ZM3.2 10.4h9.6V12H3.2v-1.6Zm0-3.2h9.6v1.6H3.2V7.2Zm0-3.2h9.6v1.6H3.2V4Z"/></symbol><symbol id="bottom" viewBox="0 0 16 16"><path d="M4.175 5 8 8.817 11.825 5 13 6.175l-5 5-5-5L4.175 5Z"/></symbol><symbol id="browser-brave" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M14.808 5.161l-.314 1.212-1.435 5.491a2.805 2.805 0 0 1-1.079 1.569s-1.536 1.09-3.482 2.365c-.154.101-.313.17-.483.17-.17 0-.33-.069-.484-.17a124.63 124.63 0 0 1-3.482-2.36 2.788 2.788 0 0 1-1.084-1.568L1.519 6.379 1.2 5.172l.489-1.334-.356-.797a.214.214 0 0 1 .048-.234l.946-.957c.41-.42 1.02-.564 1.573-.367l.255.09L5.575.021 7.999 0h.016l2.408.016 1.424 1.541.26-.09a1.507 1.507 0 0 1 1.563.362l.93.94a.27.27 0 0 1 .054.293l-.34.765.494 1.334zM8.323 9.823a.648.648 0 0 0-.154-.048h-.17a.648.648 0 0 0-.154.048l-.692.287c-.063.027-.17.075-.233.107l-1.042.542c-.064.032-.07.09-.01.133l.919.648c.058.043.149.112.202.16l.409.35.191.17.394.352a.146.146 0 0 0 .191 0l.404-.351.191-.17.41-.357c.053-.047.143-.117.202-.159l.92-.654c.058-.042.052-.1-.011-.133l-1.042-.531a4.547 4.547 0 0 0-.234-.107l-.691-.287zm4.987-4.425c.02-.069.02-.095.02-.095 0-.07-.004-.186-.015-.255l-.053-.155a1.86 1.86 0 0 0-.128-.223l-.6-.888a2.608 2.608 0 0 0-.155-.207l-.776-.973c-.042-.053-.085-.1-.09-.095h-.01l-.128.021-1.186.234c-.069.016-.18.037-.25.048l-.02.005a.662.662 0 0 1-.25-.016l-.995-.319a5.863 5.863 0 0 0-.244-.069s-.202-.048-.367-.043c-.165 0-.367.043-.367.043-.069.016-.18.048-.244.07l-.994.318a.662.662 0 0 1-.25.016l-.021-.005c-.07-.01-.181-.038-.25-.048L4.74 2.539a1.062 1.062 0 0 0-.128-.022h-.01a.532.532 0 0 0-.09.096l-.777.973c-.042.053-.111.149-.154.207l-.6.888a3.04 3.04 0 0 0-.128.223l-.053.154c-.01.07-.022.186-.016.255 0 0 0 .022.021.096a.858.858 0 0 0 .128.245c.042.053.122.143.17.19l1.76 1.872a.22.22 0 0 1 .036.213l-.366.866a.368.368 0 0 0-.006.24l.101.27c.085.229.229.43.42.585l.356.287a.218.218 0 0 0 .213.027l1.127-.537c.064-.032.16-.096.213-.144l.807-.728a.286.286 0 0 0 .016-.404L6.086 7.248a.148.148 0 0 1-.048-.186l.744-1.403a.31.31 0 0 0 .01-.229l-.09-.207a.365.365 0 0 0-.17-.165L4.348 4.24c-.064-.027-.064-.054.005-.059l1.409-.133c.069-.005.18.006.25.021l1.254.351c.069.022.111.09.1.16l-.435 2.386c-.01.07-.01.165.005.218.016.054.085.101.154.117l.872.186c.07.016.18.016.25 0l.813-.186c.07-.016.138-.069.154-.117a.493.493 0 0 0 .006-.218l-.43-2.386c-.011-.07.031-.144.1-.16l1.255-.35c.069-.022.18-.027.25-.022l1.408.133c.07.005.075.032.005.059l-2.184.829a.342.342 0 0 0-.17.165l-.09.207c-.027.064-.027.17.01.228l.75 1.404a.15.15 0 0 1-.048.186L8.345 8.407a.281.281 0 0 0 .016.404l.808.728a.912.912 0 0 0 .212.138l1.133.537c.063.032.16.016.212-.026l.356-.293c.192-.154.335-.356.415-.584l.101-.271a.369.369 0 0 0-.005-.24l-.367-.866a.22.22 0 0 1 .037-.213l1.76-1.87.17-.192c-.01-.016.085-.133.117-.26z"/>\n</symbol><symbol id="browser-chrome" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4.036 6.978l-2.29-3.966A7.985 7.985 0 0 1 8 .001a7.996 7.996 0 0 1 6.883 3.921H8.356a4.101 4.101 0 0 0-4.32 3.055zm6.828-1.9h4.585a8 8 0 0 1-7.359 10.92l3.273-5.665a4.081 4.081 0 0 0-.498-5.254zm-5.77 2.923A2.91 2.91 0 0 1 8 5.094a2.91 2.91 0 0 1 2.906 2.907A2.91 2.91 0 0 1 8 10.907 2.91 2.91 0 0 1 5.094 8zm4.003 3.944l-2.29 3.967a8.002 8.002 0 0 1-5.78-11.834l3.266 5.657a4.099 4.099 0 0 0 4.804 2.21z"/>\n</symbol><symbol id="browser-duckduckgo" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8 .013a8 8 0 0 1 1.942 15.761l-.223-.43a18.303 18.303 0 0 1-.7-.256.164.164 0 0 1-.053.068.491.491 0 0 1-.06.034c-.016.063-.041.11-.078.134-.216.144-.828.216-1.152.144a.295.295 0 0 1-.13-.06c-.552.306-1.346.714-1.507.622-.252-.144-.291-2.184-.252-2.521.04-.337.263-.486.317-.501a.102.102 0 0 0-.053.086c-.036.468 0 2.376.252 2.52.161.093.954-.315 1.506-.621a.295.295 0 0 0 .131.06c.324.072.936 0 1.152-.144.036-.024.061-.072.078-.135a.495.495 0 0 0 .06-.033.164.164 0 0 0 .054-.068 23.637 23.637 0 0 0 .287.109l.024.009.004.002.022.008.007.002a28.042 28.042 0 0 0 .03.011l.019.007.01.004.019.006.011.005.018.006.013.005.017.006.013.004.017.007.013.004.018.006.014.005.016.006.015.005.016.006a9.84 9.84 0 0 1 .03.01l.016.006.029.01.017.006.014.004.018.006.014.005.017.006.014.004.017.006.014.005.017.005.014.005.018.006.013.004.018.005.014.005.017.005a4.139 4.139 0 0 1 .03.01l.014.004.018.006.012.004.019.005.012.004.02.006.01.003.025.007.004.002.03.008.005.002.024.006.01.003.019.005.01.003.018.005.011.003.017.005c.004 0 .007.002.011.003.006 0 .011.002.017.004a4.868 4.868 0 0 0 .115.027l.015.004a1.763 1.763 0 0 0 .025.005l.01.001.016.004.007.001a2 2 0 0 0 .02.004h.003l.022.004h.005l.016.003h.007l.014.003h.007l.013.002h.008l.01.002h.009a.515.515 0 0 0 .018.001h.01a.38.38 0 0 0 .016.001h.03l.006-.001.008-.001h.006l.007-.002h.005l.008-.003h.003a.071.071 0 0 0 .022-.009l.001-.001a.09.09 0 0 0 .01-.008l.002-.001a.122.122 0 0 0 .021-.024.338.338 0 0 0 .04-.077c.183-.488.094-2.305-.193-2.37-.259-.058-1.25.641-1.641.926a1.18 1.18 0 0 0-.042-.144c-.027-.068-.224-.09-.457-.073-.468-1.098-.832-2.39-.625-3.295l.002.002c.273.19 2.094.804 2.997.787.904-.017 2.39-.571 2.226-1.015-.162-.443-1.637.392-3.175.25-1.139-.107-1.34-.617-1.088-.99.317-.468.895.09 1.848-.196.955-.285 2.29-.794 2.785-1.071 1.145-.638-.48-.903-.863-.726-.363.168-1.63.487-2.216.629.33-1.16-.462-3.18-1.345-4.063-.288-.288-.731-.47-1.23-.565-.192-.263-.502-.515-.94-.748a4.42 4.42 0 0 0-2.76-.449c-.135.018-.208.067-.31.084.113.01.542.21.811.32-.131.05-.311.08-.452.138a.661.661 0 0 0-.162.046c-.132.06-.231.288-.23.395.643-.065 1.596-.02 2.292.188-.493.069-.946.197-1.274.37a2.438 2.438 0 0 0-.047.025c-.037.015-.072.03-.103.047-1.05.553-1.513 1.844-1.237 3.391.26 1.448 1.344 6.493 1.797 8.668A8.003 8.003 0 0 1 0 8.013a8 8 0 0 1 8-8zM5.077 5.132c-.425.267-.409.54-.409.54s-.226-.503.376-.75c.602-.246.896.14.896.14s-.438-.197-.863.07zm.805 1.419a.15.15 0 1 0 .3 0 .15.15 0 1 0-.3 0zm-.107.774a.58.58 0 0 1 0-1.16v-.001a.58.58 0 0 1 0 1.16zm4.101-1.22a.13.13 0 1 0 .003.26c.071-.001.128-.06.127-.13a.129.129 0 0 0-.13-.13zm-.721.296a.5.5 0 1 1 0 .001zm.328-1.749c.347.058.47.37.47.37s-.314-.179-.558-.176c-.5.007-.638.228-.638.228s.085-.528.726-.422z"/>\n</symbol><symbol id="browser-edge-chromium" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M13.4967 10.1297C11.9007 10.5367 10.834 10.403 10.1674 10.173C9.93103 10.0932 9.73878 9.91834 9.637 9.69061C9.53522 9.46288 9.53318 9.20299 9.63136 8.97369C10.0067 8.07802 10.2684 6.40502 8.18802 4.75536C8.18709 4.75477 8.18619 4.75398 8.18531 4.7532C8.18368 4.75176 8.18209 4.75036 8.18036 4.75036C4.49602 2.43436 1.52736 4.45569 0.794024 5.04236C0.770077 5.0613 0.736554 5.06235 0.71147 5.04494C0.686386 5.02752 0.675647 4.99575 0.685024 4.96669C1.01569 3.95236 2.74602 -0.15831 9.05102 0.0293567C13.598 0.164357 16.196 4.30269 15.744 7.38402C15.5937 8.41069 14.885 9.59136 13.5064 10.1267C13.5047 10.1274 13.5031 10.128 13.5014 10.1285C13.4998 10.129 13.4983 10.1294 13.4967 10.1297ZM8.34102 6.62836C8.74669 6.71436 6.36169 4.73436 3.42536 5.18036C2.40436 5.33536 0.0543578 6.22102 0.251691 9.38036C0.605024 15.049 5.20402 15.877 6.73669 15.9954C6.81162 16.0014 6.88227 15.9597 6.9131 15.8912C6.94394 15.8226 6.92829 15.742 6.87402 15.69C6.76117 15.5819 6.62131 15.4624 6.46538 15.3291L6.46537 15.3291C5.49338 14.4984 3.89724 13.1342 4.32869 10.6797C4.78102 8.10836 6.62636 6.26669 8.34102 6.62836ZM9.93669 15.7797C7.98736 15.883 6.15402 14.4864 5.65936 12.5334C5.32447 11.2105 5.52325 9.97369 6.25569 8.82302C6.26451 8.80935 6.27273 8.7935 6.28121 8.77717C6.31408 8.71382 6.35072 8.64322 6.44002 8.66469C6.50151 8.67967 6.50417 8.74249 6.50662 8.80043C6.50728 8.81599 6.50793 8.83119 6.50969 8.84502C6.70502 10.3297 7.55202 11.3634 8.83802 12.0367C10.6654 12.9934 12.5227 12.946 14.3714 12.0597C14.4048 12.0437 14.4388 12.0243 14.4733 12.0046L14.4733 12.0046C14.6236 11.9188 14.7822 11.8284 14.9357 11.993C15.107 12.1759 14.9866 12.3478 14.8775 12.5034C14.8603 12.5279 14.8434 12.552 14.828 12.5757C13.8414 14.088 12.5737 15.2384 10.757 15.667C10.584 15.708 10.408 15.738 10.2324 15.7644C10.1341 15.7745 10.0354 15.7796 9.93669 15.7797Z"/>\n</symbol><symbol id="browser-edge" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M15.27 7.592c0-1.517-.31-2.831-.928-3.943-.66-1.178-1.534-2.08-2.623-2.708C10.63.313 9.399 0 8.025 0c-.88 0-1.702.128-2.466.383a6.575 6.575 0 0 0-1.994 1.048 7.578 7.578 0 0 0-1.494 1.57 8.157 8.157 0 0 0-1.026 1.936 9.791 9.791 0 0 0-.52 2.14c.36-.517.768-.998 1.22-1.443.458-.45.981-.867 1.57-1.254a8.07 8.07 0 0 1 1.993-.932 8.673 8.673 0 0 1 2.316-.397l.196.011c.131.006.298.032.5.076.201.044.425.106.668.183.245.076.484.198.719.365.234.165.444.364.629.593.184.228.324.53.419.905.096.374.12.79.072 1.248H5.162c.095-.558.231-1.034.41-1.423.179-.389.41-.762.696-1.12-1.255.583-2.222 1.38-2.9 2.392-.677 1.01-1.008 2.235-.99 3.675.012 1.165.382 2.273 1.111 3.32.729 1.045 1.655 1.786 2.779 2.22.839.321 1.778.479 2.82.473 1.04-.006 1.97-.12 2.787-.34.817-.22 1.5-.493 2.047-.82v-3.363c-.435.303-.95.554-1.548.753-.598.2-1.216.339-1.856.415a7.04 7.04 0 0 1-1.9-.027 5.815 5.815 0 0 1-1.69-.508 2.988 2.988 0 0 1-1.218-1.092c-.313-.486-.471-1.058-.477-1.718H15.27V7.592z"/>\n        <path fill-rule="nonzero" d="M.536 7.144h.029l.007-.05-.036.05z"/>\n    </g>\n</symbol><symbol id="browser-firefox" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M15.79 5.961a.13.13 0 0 0-.14.075l-.178.395c-.067-.519-.193-1.355-.359-1.903a3.664 3.664 0 0 0-.812-1.412.13.13 0 0 0-.22.12l.139.626c-.334-.349-.87-.85-1.4-1.093a9.105 9.105 0 0 0-.37-.168 6.264 6.264 0 0 0-4.164-1.588 6.246 6.246 0 0 0-5.293 2.902 1.16 1.16 0 0 1-.352-.467c-.16-.393-.241-.834-.242-.838a.13.13 0 0 0-.219-.072c-.96.921-.865 2.357-.83 2.682a7.072 7.072 0 0 0-.794 1.048C.134 6.944.006 8.125 0 8.175a.13.13 0 0 0 .225.103l.28-.297c-.03.114-.06.243-.09.388C.29 8.996.328 9.967.33 10.008a.13.13 0 0 0 .249.05l.165-.35c.122.853.59 2.666 2.385 4.337 1.33 1.238 3.179 1.949 5.073 1.949 1.84 0 3.576-.658 5.021-1.902 1.71-1.473 2.347-3.576 2.58-5.08.251-1.625.104-2.885.098-2.937a.13.13 0 0 0-.11-.114zm-2.919.047c.002.003.18.235.218.83.027.445-.065 1.158-.122 1.547l-.349-.404a.13.13 0 0 0-.229.101c.002.01.12 1.017-.08 1.891a2.791 2.791 0 0 1-.369.902l.049-.659a.13.13 0 0 0-.25-.064c-.005.013-.609 1.31-2.262 1.823-.231.07-.474.107-.723.107-.882 0-1.682-.45-2.136-.766l.116.003c.65 0 1.15-.28 1.552-.505.106-.059.206-.115.302-.162.577-.29.846-.315 1.052-.315a.216.216 0 0 0 .22-.166c.064-.251-.238-.7-.611-.904a1.254 1.254 0 0 0-.623-.148c-.381 0-.854.12-1.531.304a1.42 1.42 0 0 1-.365.05c-.415 0-.69-.201-.846-.37-.212-.226-.332-.526-.314-.78.008-.117.053-.236.33-.236.246 0 .52.1.522.102a.13.13 0 0 0 .046.008h.001a.13.13 0 0 0 .13-.151L6.561 6.9c.132-.084.448-.29.751-.51.735-.534.833-.738.755-.893-.104-.212-.379-.246-.696-.286a3.054 3.054 0 0 1-.573-.11c-.388-.129-.643-.463-.701-.545a.784.784 0 0 1 .073-.499c.123-.216.549-.55.702-.662a.13.13 0 0 0-.062-.236c-.013-.001-.404-.04-1.042.171-.52.174-.922.456-1.06.56a3.823 3.823 0 0 0-.332-.045 5.202 5.202 0 0 1 3.909-1.762 5.15 5.15 0 0 1 3.033.973l-.879.147a.13.13 0 0 0-.017.254c.012.003 1.182.373 2.055 1.047.195.152.372.349.529.585.145.313.26.635.34.962l-.294-.229a.131.131 0 0 0-.182.185z"/>\n</symbol><symbol id="browser-ie" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M15.826 8.135a7.08 7.08 0 0 0-.89-3.448c2.417-5.472-2.591-4.67-2.87-4.616a12.737 12.737 0 0 0-2.949.964A7.114 7.114 0 0 0 1.782 6.54C3.563 4.542 4.81 3.736 5.556 3.413c-.119.106-.236.214-.35.323l-.113.108c-.076.073-.151.146-.225.22l-.13.131-.194.2-.134.143a17.71 17.71 0 0 0-.89 1.024l-.139.173-.132.167-.12.159-.136.179c-.032.042-.062.084-.093.127-.281.383-.538.76-.77 1.12l-.002.003c-.06.095-.12.189-.177.282l-.01.015a22.37 22.37 0 0 0-.168.276l-.006.01c-.146.243-.282.479-.404.7-.64 1.16-.952 1.972-.966 2.02-2.022 7.231 4.29 4.177 5.171 3.722a7.114 7.114 0 0 0 9.849-3.998H11.68c-.553.934-1.617 1.566-2.84 1.566-1.792 0-3.244-1.357-3.244-3.032h10.172c.038-.3.058-.606.058-.916zm-1.329-6.998c.613.413 1.104 1.062.26 3.248a7.136 7.136 0 0 0-3.473-2.883c.659-.317 2.288-.99 3.213-.365zM1.482 14.5c-.499-.512-.587-1.758.514-4.028a7.133 7.133 0 0 0 3.097 3.785c-.713.392-2.605 1.275-3.61.243zM5.58 7.106c.056-1.628 1.473-2.93 3.213-2.93s3.157 1.302 3.214 2.93H5.58z"/>\n</symbol><symbol id="browser-opera" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8.617 2.144a5.126 5.126 0 0 1 2.278-.539 5.16 5.16 0 0 1 2.642.737 7.891 7.891 0 0 1 2.298 5.576 7.892 7.892 0 0 1-2.298 5.576 5.16 5.16 0 0 1-2.642.736 5.124 5.124 0 0 1-2.279-.54c2.014-.415 3.559-2.841 3.559-5.772 0-2.932-1.545-5.358-3.558-5.774zM7.54 15.826A7.917 7.917 0 0 1 7.918 0h.03a7.888 7.888 0 0 1 5.247 2.016 5.713 5.713 0 0 0-3.174-.97c-1.885 0-3.574.935-4.71 2.41-.875 1.033-1.442 2.56-1.48 4.275v.373c.038 1.714.605 3.242 1.48 4.275 1.136 1.475 2.825 2.41 4.71 2.41 1.16 0 2.245-.353 3.173-.969a7.89 7.89 0 0 1-5.654 2.006z"/>\n</symbol><symbol id="browser-safari" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8.806 8.806L7.194 7.194l-.807 2.419 2.42-.807zM8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 14.667A6.674 6.674 0 0 0 14.667 8 6.674 6.674 0 0 0 8 1.333 6.674 6.674 0 0 0 1.333 8 6.674 6.674 0 0 0 8 14.667zM4.28 11.72L6.14 6.14l5.58-1.86-1.86 5.58-5.58 1.86z"/>\n</symbol><symbol id="burger" viewBox="0 0 16 10"><path d="M0 8.2v1.6h16V8.2H0Zm0-4v1.6h16V4.2H0Zm0-4v1.6h16V.2H0Z"/></symbol><symbol id="bus" viewBox="0 0 16 19"><path d="M8 0C3.58 0 0 .5 0 4v10c0 .88.39 1.67 1 2.22V18c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V4c0-3.5-3.58-4-8-4Zm5.66 2.99H2.34C2.89 2.46 4.31 2 8 2c3.69 0 5.11.46 5.66.99Zm.34 2V8H2V4.99h12Zm-.34 9.74-.29.27H2.63l-.29-.27A.968.968 0 0 1 2 14v-4h12v4c0 .37-.21.62-.34.73Z"/><path d="M4.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></symbol><symbol id="calendar" viewBox="0 0 16 16"><path d="M13.818 1.455h-.727V0h-1.455v1.455H4.364V0H2.909v1.455h-.727c-.8 0-1.455.654-1.455 1.454v11.637c0 .8.655 1.454 1.455 1.454h11.636c.8 0 1.455-.655 1.455-1.454V2.909c0-.8-.655-1.454-1.455-1.454Zm0 13.09H2.182v-8h11.636v8Zm0-9.454H2.182V2.909h11.636v2.182Z"/></symbol><symbol id="camera" viewBox="0 0 16 15"><path d="m9.696 1.6 1.464 1.6h3.24v9.6H1.6V3.2h3.24l1.464-1.6h3.392ZM10.4 0H5.6L4.136 1.6H1.6C.72 1.6 0 2.32 0 3.2v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6h-2.536L10.4 0ZM8 5.6c1.32 0 2.4 1.08 2.4 2.4 0 1.32-1.08 2.4-2.4 2.4-1.32 0-2.4-1.08-2.4-2.4 0-1.32 1.08-2.4 2.4-2.4ZM8 4C5.792 4 4 5.792 4 8s1.792 4 4 4 4-1.792 4-4-1.792-4-4-4Z"/></symbol><symbol id="carbonCopy" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.58 1.38a2.8 2.8 0 0 1 4.83-.02l.1.18.03.06h.07a2.8 2.8 0 0 1 2.93 2.29l.02.17.02.17a2.8 2.8 0 0 1-.36 1.54l-.1.17-.04.06.13.22a2.8 2.8 0 0 1-.6 3.5l-.14.12-.15.1c-.4.26-.85.42-1.32.46v5.3a.3.3 0 0 1-.48.23L8 14l-2.52 1.93a.3.3 0 0 1-.48-.24v-5.3a2.8 2.8 0 0 1-2.53-2.27l-.03-.18-.02-.17a2.8 2.8 0 0 1 .36-1.53l.1-.18.04-.06-.04-.06a2.8 2.8 0 0 1 .5-3.66l.15-.12.15-.1c.45-.3.97-.46 1.5-.47h.2l.08.01.12-.22zm2.78.7a.8.8 0 0 0-1.02.26l-.06.1-.62 1.24-1.4-.08a.8.8 0 0 0-.76 1.14l.05.1L5.32 6l-.77 1.16a.8.8 0 0 0 .62 1.24h.1l1.39-.08.62 1.25a.8.8 0 0 0 .6.43h.25a.8.8 0 0 0 .53-.33l.06-.1.62-1.25 1.4.08a.8.8 0 0 0 .76-1.14l-.05-.1L10.68 6l.77-1.16a.8.8 0 0 0-.62-1.24h-.1l-1.39.08-.62-1.25a.8.8 0 0 0-.36-.36z"/></symbol><symbol id="carpooling" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 10.25v.005-3.297a1.004 1.004 0 0 0-.072-.33l-2-5-.051-.11A1 1 0 0 0 13 1H3l-.121.007a1 1 0 0 0-.807.622l-2 5-.04.119a.99.99 0 0 0-.033.239L0 13.5l.007.145A1.498 1.498 0 0 0 1.5 15c.83 0 1.5-.67 1.5-1.5V13h3.73c.116-.167.242-.332.376-.49.233-.27.602-.648 1.091-.958A4.453 4.453 0 0 1 8 10.25C8 8.13 9.576 6 12 6s4 2.13 4 4.25ZM12 6H2.477l1.2-3h8.647l1.2 3H12ZM3.5 8C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11 5 10.33 5 9.5 4.33 8 3.5 8Z"/><path d="M10 10.25c0 1.243.895 2.25 2 2.25s2-1.007 2-2.25S13.105 8 12 8s-2 1.007-2 2.25ZM10 13c-1 0-2 1.5-2 2s0 1 .5 1h7c.5 0 .5-.5.5-1s-1-2-2-2c-.45 0-.596.101-.757.212-.198.136-.417.288-1.243.288-.826 0-1.045-.152-1.243-.288C10.596 13.101 10.45 13 10 13Z"/></symbol><symbol id="car" viewBox="0 0 16 16"><path d="M14.151 1.787A1.328 1.328 0 0 0 12.89.889H3.11c-.587 0-1.075.373-1.262.898L0 7.11v7.111c0 .49.4.89.889.89h.889c.489 0 .889-.4.889-.89v-.889h10.666v.89c0 .488.4.888.89.888h.888c.489 0 .889-.4.889-.889v-7.11l-1.849-5.325Zm-10.729.88h9.147l.96 2.764H2.462l.96-2.764Zm10.8 8.889H1.778V7.11h12.444v4.445Z"/><path d="M4 10.667A1.333 1.333 0 1 0 4 8a1.333 1.333 0 0 0 0 2.667Zm8 0A1.333 1.333 0 1 0 12 8a1.333 1.333 0 0 0 0 2.667Z"/></symbol><symbol id="categories" viewBox="0 0 17 16"><path d="M8.1 0 3.7 7.2h8.8L8.1 0Zm0 3.072L9.644 5.6H6.548L8.1 3.072ZM12.5 8.8a3.595 3.595 0 0 0-3.6 3.6c0 1.992 1.608 3.6 3.6 3.6s3.6-1.608 3.6-3.6-1.608-3.6-3.6-3.6Zm0 5.6a2 2 0 1 1 .001-4.001A2 2 0 0 1 12.5 14.4ZM.9 15.6h6.4V9.2H.9v6.4Zm1.6-4.8h3.2V14H2.5v-3.2Z"/></symbol><symbol id="certified" viewBox="0 0 16 17"><path d="m16 8.493-1.774-2.03.247-2.683-2.626-.596-1.374-2.32L8 1.925 5.527.864l-1.374 2.32-2.626.589.248 2.69L0 8.494l1.775 2.029-.248 2.69 2.626.597 1.374 2.327L8 15.067l2.473 1.062 1.374-2.32 2.626-.596-.248-2.684L16 8.493Zm-2.873 1.076-.407.473.058.618.131 1.418-1.993.451-.32.538-.72 1.222-1.294-.56L8 13.482l-.575.247-1.294.56-.72-1.215-.32-.538-1.993-.45.131-1.426.058-.618-.407-.473-.938-1.07.938-1.075.407-.473-.065-.626-.131-1.41 1.993-.451.32-.539.72-1.221 1.294.56L8 3.51l.575-.247 1.294-.56.72 1.221.32.539 1.993.45-.131 1.419-.058.618.407.473.938 1.069-.93 1.076Z"/><path d="M6.61 9.773 4.925 8.078 3.847 9.162l2.764 2.77 5.338-5.352-1.076-1.084L6.61 9.773Z"/></symbol><symbol id="checkbox" viewBox="0 0 16 16"><path d="m6.756 9.244-1.912-1.91a.843.843 0 0 0-.622-.245.843.843 0 0 0-.622.244.843.843 0 0 0-.244.623c0 .251.081.459.244.622l2.533 2.533a.853.853 0 0 0 .623.267.853.853 0 0 0 .622-.267L12.4 6.09a.843.843 0 0 0 .244-.622.843.843 0 0 0-.244-.623.843.843 0 0 0-.622-.244.843.843 0 0 0-.622.244l-4.4 4.4ZM1.778 16c-.49 0-.908-.174-1.256-.522A1.712 1.712 0 0 1 0 14.222V1.778C0 1.288.174.87.522.522A1.712 1.712 0 0 1 1.778 0h12.444c.49 0 .908.174 1.256.522.348.348.522.767.522 1.256v12.444c0 .49-.174.908-.522 1.256a1.712 1.712 0 0 1-1.256.522H1.778Zm0-1.778h12.444V1.778H1.778v12.444Z"/></symbol><symbol id="check-circle" viewBox="0 0 16 16"><path d="m6.88 11.68 5.64-5.64-1.12-1.12-4.52 4.52L4.6 7.16 3.48 8.28l3.4 3.4ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z"/></symbol><symbol id="check-list" viewBox="0 0 16 13"><path d="M16 2.963H8.8v1.6H16v-1.6Zm0 6.4H8.8v1.6H16v-1.6Zm-13.168-3.2L0 3.331l1.128-1.128L2.824 3.9 6.216.507l1.128 1.128-4.512 4.528Zm0 6.4L0 9.731l1.128-1.128L2.824 10.3l3.392-3.392 1.128 1.128-4.512 4.528Z"/></symbol><symbol id="check-square" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.778 0h12.444C15.2 0 16 .8 16 1.778v12.444C16 15.2 15.2 16 14.222 16H1.778C.8 16 0 15.2 0 14.222V1.778C0 .8.8 0 1.778 0Zm10.31 4.089 1.245 1.244-7.11 7.111L2.666 8.89 3.91 7.645l2.311 2.31L12.09 4.09Z"/></symbol><symbol id="check" viewBox="0 0 17 13"><path d="M5.88 10.23 2.087 6.437.795 7.719l5.085 5.085L16.795 1.889 15.512.606 5.88 10.23Z"/></symbol><symbol id="chess" viewBox="0 0 16 16"><path d="M2.4 14.4h11.2v-1.6H2.4v1.6Zm2.64-3.2h5.92L10.5 8h-5l-.46 3.2ZM.8 16v-3.2c0-.44.157-.817.47-1.13a1.54 1.54 0 0 1 1.13-.47h1.04L3.88 8H1.6V6.4h12.8V8h-2.28l.44 3.2h1.04c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13V16H.8Zm3.02-9.6L2.4 0c.44.333.893.647 1.36.94.467.293.98.44 1.54.44.533 0 1.023-.137 1.47-.41A6.624 6.624 0 0 0 8 0c.373.373.783.697 1.23.97.447.273.937.41 1.47.41a2.84 2.84 0 0 0 1.54-.44c.467-.293.92-.607 1.36-.94l-1.42 6.4h-1.64l.78-3.46-.15.02c-.1.013-.257.02-.47.02-.48 0-.95-.073-1.41-.22A5.115 5.115 0 0 1 8 2.14a4.862 4.862 0 0 1-1.25.62c-.447.147-.903.22-1.37.22a5.02 5.02 0 0 1-.53-.02l-.17-.02.78 3.46H3.82Z"/></symbol><symbol id="child" viewBox="0 0 16 14"><path d="M9.818 6.818a.91.91 0 1 0 0-1.818.91.91 0 0 0 0 1.818Zm-3.636 0a.91.91 0 1 0 0-1.818.91.91 0 0 0 0 1.818Z"/><path d="M15.956 6.52a2.915 2.915 0 0 0-2.043-2.305 6.628 6.628 0 0 0-1.593-2.117A6.461 6.461 0 0 0 8 .455c-1.658 0-3.17.618-4.32 1.643a6.5 6.5 0 0 0-1.593 2.117A2.905 2.905 0 0 0 .044 6.52a2.573 2.573 0 0 0 0 .96 2.915 2.915 0 0 0 2.043 2.306c.378.807.924 1.52 1.578 2.101A6.462 6.462 0 0 0 8 13.546a6.494 6.494 0 0 0 4.342-1.659 6.607 6.607 0 0 0 1.578-2.101 2.908 2.908 0 0 0 2.036-2.306A2.56 2.56 0 0 0 16 7a2.56 2.56 0 0 0-.044-.48Zm-2.865 1.935c-.073 0-.138-.015-.211-.022a5.215 5.215 0 0 1-.626 1.353A5.073 5.073 0 0 1 8 12.09a5.074 5.074 0 0 1-4.255-2.305 5.213 5.213 0 0 1-.625-1.353c-.073.007-.138.022-.21.022-.8 0-1.455-.655-1.455-1.455s.654-1.455 1.454-1.455c.073 0 .138.015.211.022.145-.487.356-.938.625-1.352A5.074 5.074 0 0 1 8 1.909c1.782 0 3.345.916 4.255 2.306.269.414.48.865.625 1.352.073-.007.138-.022.21-.022.8 0 1.456.655 1.456 1.455s-.655 1.455-1.455 1.455ZM8 10.636c1.462 0 2.72-.894 3.273-2.181H4.727C5.28 9.742 6.538 10.636 8 10.636Z"/></symbol><symbol id="circle-filled" viewBox="0 0 16 16"><path d="M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8Z"/></symbol><symbol id="clock-outline" viewBox="0 0 16 16"><path d="M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8ZM8 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4ZM8.4 4H7.2v4.8l4.2 2.52.6-.984L8.4 8.2V4Z"/></symbol><symbol id="clock" viewBox="0 0 16 16"><path d="M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8Zm2.64 11.768L7.2 8.328V4h1.6v3.672l2.968 2.968-1.136 1.128Z"/></symbol><symbol id="cloud2" viewBox="0 0 16 16"><g clip-path="url(#clip0_1426_12806)"><mask id="path-1-inside-1_1426_12806" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4 13.2a5.6 5.6 0 1 0-5.152-7.8A3.961 3.961 0 0 0 4 5.2a3.954 3.954 0 0 0-1.161.172 3.968 3.968 0 0 0-1.525.864 4.01 4.01 0 0 0-1.27 2.377 3.99 3.99 0 0 0 .63 2.81 3.955 3.955 0 0 0 .943.99 4.029 4.029 0 0 0 1.411.668A3.92 3.92 0 0 0 4 13.2h6.4Z"/></mask><path d="M10.4 13.2v-1.3H9.1v1.3h1.3ZM5.248 5.4l-.405 1.235 1.132.372.469-1.096L5.248 5.4Zm-.087-.028-.377 1.244.377-1.244Zm-.189-.052-.317 1.26.002.001.315-1.26Zm-.191-.043.254-1.275h-.001l-.253 1.275Zm-.194-.034.191-1.285-.19 1.285Zm-.195-.024.128-1.293H4.52l-.127 1.293Zm-.196-.014-.064 1.298h.001l.063-1.298Zm-.392 0 .063 1.298h.001l-.064-1.298Zm-.196.014-.127-1.293.127 1.293Zm-.195.024-.19-1.286.19 1.286Zm-.193.034-.254-1.275.254 1.275Zm-.192.043.316 1.261-.316-1.26Zm-.189.052.377 1.245-.377-1.245Zm-.186.062L2.215 4.21l.438 1.224Zm-.184.07-.497-1.2.497 1.2Zm-.18.08.556 1.176-.555-1.176Zm-.175.089.613 1.146h.001l-.614-1.146Zm-.17.096.668 1.115-.668-1.115Zm-.166.105L2.5 6.955l-.722-1.08Zm-.16.113L.842 4.943l.774 1.044Zm-.156.121L.638 5.103l.824 1.005Zm-.148.128L.44 5.273l.873.963Zm-.142.136-.92-.92.92.92Zm-.136.142L2 7.388v-.001l-.963-.873Zm-.128.149 1.005.824-1.005-.824Zm-.12.154 1.043.775-1.044-.775Zm-.114.161 1.081.722-1.08-.722Zm-.105.166 1.115.668L.57 7.144Zm-.097.17-1.146-.612 1.146.613Zm-.088.176L-.79 6.934l1.175.556Zm-.08.18 1.201.497-1.2-.497Zm-.07.183L-.99 7.415l1.224.438Zm-.114.375-1.261-.315 1.26.315Zm-.043.192 1.275.254L.077 8.42Zm-.034.193 1.286.191-1.286-.19Zm-.024.195 1.294.128-1.294-.128Zm-.014.196-1.299-.064 1.299.064Zm0 .393 1.298-.064-1.298.064Zm.014.195-1.293.128 1.293-.128Zm.024.195-1.286.191 1.286-.19Zm.034.194-1.275.253 1.275-.253Zm.043.191-1.261.316 1.26-.316Zm.052.19 1.244-.378-1.244.377Zm.062.186 1.224-.438-1.224.438Zm.07.183-1.2.498 1.2-.498Zm.08.18 1.175-.556-1.175.556Zm.088.175-1.146.613 1.146-.613Zm.097.17 1.115-.668-1.115.669Zm.105.167 1.081-.722-1.08.722Zm.113.16 1.044-.774-1.044.774Zm.25.304-.964.873.963-.873Zm.135.142.92-.92H2.09l-.918.92Zm.142.135-.874.963h.001l.873-.963Zm.148.129-.824 1.004.824-1.005Zm.155.12-.774 1.044.774-1.044Zm.16.113-.722 1.08v.001l.723-1.08Zm.167.105.668-1.115-.668 1.115Zm.346.185-.556 1.176.556-1.176Zm.18.08-.499 1.2.001.001.497-1.201Zm.183.07.438-1.223-.438 1.224Zm.186.062-.378 1.244h.001l.377-1.244Zm.19.053.315-1.261-.316 1.26Zm.19.043.254-1.275-.253 1.275Zm.194.033.191-1.286-.19 1.286Zm.195.024.128-1.293h-.001l-.127 1.293Zm6.792.02v1.3h1.3v-1.3h-1.3Zm0 1.3a6.9 6.9 0 0 0 6.9-6.9h-2.6a4.3 4.3 0 0 1-4.3 4.3v2.6Zm6.9-6.9A6.9 6.9 0 0 0 10.4.7v2.6a4.3 4.3 0 0 1 4.3 4.3h2.6ZM10.4.7a6.902 6.902 0 0 0-6.347 4.189l2.39 1.022A4.302 4.302 0 0 1 10.4 3.3V.7ZM5.654 4.165a5.232 5.232 0 0 0-.116-.037l-.753 2.489.058.018.81-2.47Zm-.115-.036a5.246 5.246 0 0 0-.251-.07l-.631 2.522.127.035.755-2.487Zm-.25-.07a5.279 5.279 0 0 0-.254-.057l-.509 2.55c.045.009.088.018.13.029l.633-2.522Zm-.255-.057a5.323 5.323 0 0 0-.256-.044l-.382 2.571c.044.007.088.014.131.023l.507-2.55Zm-.257-.045a5.355 5.355 0 0 0-.257-.031l-.256 2.587c.044.004.089.01.133.016l.38-2.572Zm-.258-.031a5.329 5.329 0 0 0-.26-.02l-.126 2.597.133.01.253-2.587Zm-.258-.02A5.27 5.27 0 0 0 4 3.9v2.6l.131.003.129-2.596ZM4 3.9a5.27 5.27 0 0 0-.262.007l.13 2.596c.043-.002.087-.003.131-.003V3.9Zm-.26.007c-.088.004-.174.01-.26.019l.254 2.587.132-.01-.126-2.596Zm-.26.019c-.087.008-.173.019-.258.031l.38 2.573c.045-.007.089-.013.133-.017L3.48 3.926Zm-.259.032c-.085.012-.17.027-.256.044l.507 2.55.131-.023-.382-2.571Zm-.257.044a5.291 5.291 0 0 0-.254.057l.634 2.522.13-.03-.51-2.549Zm-.252.057a5.247 5.247 0 0 0-.252.07l.756 2.487.127-.035-.631-2.522Zm-.25.07a5.275 5.275 0 0 0-.248.081l.876 2.448c.041-.015.083-.029.125-.041l-.754-2.489Zm-.248.081c-.083.03-.163.06-.243.093l.994 2.403c.042-.017.083-.033.125-.048L2.215 4.21Zm-.244.094a5.32 5.32 0 0 0-.237.105l1.112 2.35.121-.053-.996-2.402Zm-.236.105a5.185 5.185 0 0 0-.234.117L2.728 6.82l.117-.06-1.11-2.35Zm-.233.117a5.29 5.29 0 0 0-.227.128l1.337 2.23.115-.065-1.225-2.293Zm-.227.128a5.26 5.26 0 0 0-.22.14l1.446 2.16.111-.07-1.337-2.23Zm-.22.14a5.289 5.289 0 0 0-.212.15l1.549 2.088a2.69 2.69 0 0 1 .108-.077L1.056 4.793Zm-.212.15a5.3 5.3 0 0 0-.205.16l1.65 2.01a2.71 2.71 0 0 1 .104-.082L.842 4.943Zm-.205.16a5.328 5.328 0 0 0-.197.169L2.187 7.2c.033-.03.066-.06.1-.087l-1.65-2.01Zm-.197.17a5.316 5.316 0 0 0-.188.178l1.838 1.84a2.72 2.72 0 0 1 .096-.092L.44 5.273Zm-.189.179a5.313 5.313 0 0 0-.18.188L2 7.387c.03-.033.06-.065.091-.096L.252 5.453Zm-.179.188c-.058.064-.115.13-.17.197l2.01 1.649.086-.1L.073 5.642Zm-.17.197a5.299 5.299 0 0 0-.16.205l2.088 1.549.082-.105-2.01-1.65Zm-.16.205c-.051.07-.101.14-.15.213L1.755 7.7c.024-.036.05-.072.076-.108L-.257 6.043Zm-.15.213a5.308 5.308 0 0 0-.139.22l2.23 1.336a2.71 2.71 0 0 1 .071-.112L-.407 6.256Zm-.139.22c-.044.074-.087.15-.128.226l2.293 1.225c.02-.038.042-.077.065-.115l-2.23-1.336Zm-.128.226c-.04.076-.08.154-.117.232l2.35 1.112c.019-.04.039-.08.06-.119L-.674 6.702Zm-.117.232a5.294 5.294 0 0 0-.106.238l2.403.995c.016-.04.034-.081.053-.121L-.79 6.934Zm-.105.238a5.3 5.3 0 0 0-.094.243l2.448.876c.015-.042.03-.083.047-.124l-2.401-.995Zm-.094.243c-.03.082-.057.164-.082.247l2.488.755c.013-.043.027-.085.042-.127L-.99 7.415Zm-.082.247a5.29 5.29 0 0 0-.07.25l2.523.632c.01-.043.022-.085.035-.127l-2.488-.755Zm-.07.25a5.3 5.3 0 0 0-.056.254l2.55.507a2.68 2.68 0 0 1 .029-.129l-2.522-.631Zm-.056.254a5.3 5.3 0 0 0-.045.257l2.572.381c.007-.044.014-.087.023-.13l-2.55-.508Zm-.045.257a5.281 5.281 0 0 0-.031.258l2.587.255a2.69 2.69 0 0 1 .016-.132l-2.572-.381Zm-.031.258a5.296 5.296 0 0 0-.02.26l2.597.127c.002-.044.006-.088.01-.132l-2.587-.255Zm-.02.26a5.305 5.305 0 0 0-.006.26h2.6c0-.045.001-.089.003-.133l-2.597-.128Zm-.006.26c0 .086.002.173.006.26l2.597-.128A2.7 2.7 0 0 1 1.3 9.2h-2.6Zm.006.26c.005.086.011.173.02.259l2.587-.255a2.709 2.709 0 0 1-.01-.132l-2.597.127Zm.02.259c.008.086.019.172.031.258l2.572-.381a2.716 2.716 0 0 1-.016-.132l-2.587.255Zm.031.258c.013.086.028.171.045.256l2.55-.507a2.7 2.7 0 0 1-.023-.13l-2.572.381Zm.045.256c.017.085.036.17.057.254l2.522-.631a2.712 2.712 0 0 1-.03-.13l-2.55.507Zm.057.254c.02.084.044.168.07.25l2.487-.754a2.716 2.716 0 0 1-.035-.128l-2.522.632Zm.07.25c.024.084.052.166.08.248l2.449-.876a2.656 2.656 0 0 1-.042-.126l-2.488.755Zm.08.248c.03.082.061.162.094.242l2.403-.994a2.752 2.752 0 0 1-.048-.124l-2.448.876Zm.095.243c.033.08.068.159.105.237l2.35-1.111a2.716 2.716 0 0 1-.054-.122l-2.401.996Zm.105.237c.037.079.076.156.117.233l2.293-1.226c-.021-.039-.04-.078-.06-.118l-2.35 1.111Zm.117.233c.04.076.083.152.128.227l2.23-1.338a2.65 2.65 0 0 1-.065-.115l-2.293 1.226Zm.128.226c.044.074.091.148.14.22l2.16-1.445a2.655 2.655 0 0 1-.07-.111l-2.23 1.336Zm.14.22c.047.072.097.143.15.213l2.087-1.55a2.694 2.694 0 0 1-.076-.107l-2.162 1.444Zm.149.213c.052.07.105.138.16.205l2.01-1.65a2.686 2.686 0 0 1-.082-.104l-2.088 1.549Zm.16.205c.055.067.112.132.17.197L2 11.014a2.704 2.704 0 0 1-.087-.1l-2.01 1.649Zm.17.197c.058.064.118.127.18.188L2.09 11.11a2.673 2.673 0 0 1-.09-.095L.073 12.76Zm.18.188c.06.061.124.121.187.18L2.187 11.2a2.764 2.764 0 0 1-.096-.091L.252 12.948Zm.188.18c.064.058.13.114.197.17l1.65-2.01a2.65 2.65 0 0 1-.101-.087L.44 13.128Zm.197.17c.067.054.135.108.205.16l1.549-2.089a2.657 2.657 0 0 1-.105-.082l-1.65 2.01Zm.205.16c.07.051.14.101.212.149l1.446-2.161a2.78 2.78 0 0 1-.11-.077L.844 13.457Zm.213.15c.072.047.145.094.22.139l1.335-2.231a2.645 2.645 0 0 1-.111-.07l-1.444 2.161Zm.22.138c.073.045.149.088.226.129l1.225-2.293a2.69 2.69 0 0 1-.115-.066l-1.337 2.23Zm.226.129c.076.04.154.08.232.117l1.112-2.35a2.632 2.632 0 0 1-.119-.06l-1.225 2.293Zm.232.117c.079.037.158.072.237.105l.996-2.402a2.722 2.722 0 0 1-.121-.054l-1.112 2.35Zm.238.105c.08.033.161.065.243.094l.876-2.448a2.729 2.729 0 0 1-.125-.048l-.994 2.402Zm.243.094c.081.029.164.056.246.081l.756-2.488a2.787 2.787 0 0 1-.127-.041l-.875 2.448Zm.247.081c.082.025.166.048.25.07l.632-2.523a2.776 2.776 0 0 1-.128-.035l-.754 2.488Zm.25.07c.084.02.169.04.254.057l.507-2.55a2.782 2.782 0 0 1-.13-.03l-.63 2.523Zm.254.057c.085.017.17.031.257.044l.38-2.572a2.779 2.779 0 0 1-.13-.022l-.507 2.55Zm.256.044c.086.013.172.024.26.032l.253-2.588a2.587 2.587 0 0 1-.13-.016l-.383 2.572Zm.258.032a5.2 5.2 0 0 0 .26.02l.127-2.598a2.569 2.569 0 0 1-.131-.01l-.256 2.588Zm.26.02c.086.003.173.006.26.006v-2.6c-.043 0-.088-.002-.133-.004l-.126 2.597ZM4 14.5h6.4v-2.6H4v2.6Zm7.7-1.3H9.1h2.6Z" mask="url(#path-1-inside-1_1426_12806)"/></g></symbol><symbol id="cloud-happy" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4 6a4 4 0 1 1 8 0 4 4 0 1 1 0 8H4a4 4 0 1 1 0-8zm1 3s0 2 3 2 3-2 3-2H5z"/>\n</symbol><symbol id="cloud-plus-outlined" viewBox="0 0 16 12"><path d="M12.9 4.693A4.993 4.993 0 0 0 3.567 3.36 3.996 3.996 0 0 0 0 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 8a3.317 3.317 0 0 0-3.1-3.307ZM12.667 10H4a2.666 2.666 0 0 1-2.667-2.667 2.649 2.649 0 0 1 2.374-2.646l.713-.074.333-.633A3.646 3.646 0 0 1 8 2a3.669 3.669 0 0 1 3.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2ZM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667Z"/></symbol><symbol id="cloud-rainbow" viewBox="0 0 16 11"><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="#fff"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint0_linear_11512_6354)"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint1_linear_11512_6354)"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint2_linear_11512_6354)"/></symbol><symbol id="cloud" viewBox="0 0 16 11"><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z"/></symbol><symbol id="cocktail" viewBox="0 0 18 18"><path d="M11.77 6 9 9.11 6.23 6h5.54ZM18 0H0v2l8 9v5H3v2h12v-2h-5v-5l8-9V0ZM4.43 4 2.66 2h12.69l-1.78 2H4.43Z"/></symbol><symbol id="collect" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M14.56 5.575c.279.756.44 1.571.44 2.425 0 .926-.184 1.807-.51 2.616.309.275.51.678.51 1.134 0 .828-.648 1.5-1.448 1.5a1.4 1.4 0 0 1-.712-.201 6.971 6.971 0 0 1-3.438 1.81C9.246 15.513 8.68 16 8 16c-.68 0-1.246-.487-1.402-1.141a6.971 6.971 0 0 1-3.438-1.81 1.4 1.4 0 0 1-.712.201c-.8 0-1.448-.672-1.448-1.5 0-.456.201-.859.51-1.134A6.979 6.979 0 0 1 1 8c0-.854.161-1.669.44-2.425A1.52 1.52 0 0 1 1 4.5C1 3.671 1.648 3 2.448 3c.194 0 .377.041.546.112a6.98 6.98 0 0 1 3.604-1.971C6.754.487 7.32 0 8 0c.68 0 1.246.487 1.402 1.141a6.98 6.98 0 0 1 3.604 1.971c.169-.071.352-.112.546-.112.8 0 1.448.671 1.448 1.5 0 .422-.169.802-.44 1.075zM2 8c0 .797.159 1.555.44 2.251l.008-.001c.8 0 1.448.671 1.448 1.5 0 .188-.037.365-.097.53.01.011.021.019.032.029a6.226 6.226 0 0 1 8.338 0l.032-.029a1.544 1.544 0 0 1-.097-.53c0-.829.648-1.5 1.448-1.5l.008.001a5.952 5.952 0 0 0 .087-4.261c-.032.002-.063.01-.095.01-.8 0-1.448-.672-1.448-1.5 0-.255.067-.492.175-.702a5.98 5.98 0 0 0-2.977-1.652C9.068 2.649 8.576 3 8 3c-.576 0-1.068-.351-1.302-.854a5.98 5.98 0 0 0-2.977 1.652c.108.21.175.447.175.702 0 .828-.648 1.5-1.448 1.5-.032 0-.063-.008-.095-.01A5.952 5.952 0 0 0 2 8zm6 1.757c-1.439 0-2.607-1.29-2.607-2.878 0-1.59 1.168-2.88 2.607-2.88 1.439 0 2.607 1.29 2.607 2.88 0 1.589-1.168 2.878-2.607 2.878z"/>\n</symbol><symbol id="comment" viewBox="0 0 20 20"><path d="M2 2h16v12H3.17L2 15.17V2Zm0-2C.9 0 .01.9.01 2L0 20l4-4h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2H2Zm2 10h8v2H4v-2Zm0-3h12v2H4V7Zm0-3h12v2H4V4Z"/></symbol><symbol id="company" viewBox="0 0 16 16"><path d="M12.444 7.111V0H3.556v3.556H0V16h7.111v-3.556H8.89V16H16V7.111h-3.556Zm-8.888 7.111H1.778v-1.778h1.778v1.778Zm0-3.555H1.778V8.889h1.778v1.778Zm0-3.556H1.778V5.333h1.778v1.778Zm3.555 3.556H5.333V8.889h1.778v1.778Zm0-3.556H5.333V5.333h1.778v1.778Zm0-3.555H5.333V1.778h1.778v1.778Zm3.556 7.11H8.889V8.89h1.778v1.778Zm0-3.555H8.889V5.333h1.778v1.778Zm0-3.555H8.889V1.778h1.778v1.778Zm3.555 10.666h-1.778v-1.778h1.778v1.778Zm0-3.555h-1.778V8.889h1.778v1.778Z"/></symbol><symbol id="compare" viewBox="0 0 20 14"><path d="M7.01 9H0v2h7.01v3L11 10 7.01 6v3Zm5.98-1V5H20V3h-7.01V0L9 4l3.99 4Z"/></symbol><symbol id="compass" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Zm-4.4-2 6.008-2.792L12.4 3.6 6.392 6.392 3.6 12.4ZM8 7.12c.488 0 .88.392.88.88s-.392.88-.88.88A.877.877 0 0 1 7.12 8c0-.488.392-.88.88-.88Z"/></symbol><symbol id="connector" viewBox="0 0 16 17"><path d="M14 5.167a1.997 1.997 0 0 0-1.993 2.14l-1.354.453a2.979 2.979 0 0 0-2.146-1.547v-1.44A2.012 2.012 0 0 0 10 2.833c0-1.106-.893-2-2-2s-2 .894-2 2c0 .934.64 1.714 1.5 1.94v1.44c-.933.154-1.72.74-2.147 1.547l-1.36-.453C4 7.26 4 7.213 4 7.167c0-1.107-.893-2-2-2s-2 .893-2 2c0 1.106.893 2 2 2 .707 0 1.32-.367 1.68-.914l1.353.454a3.01 3.01 0 0 0 .727 2.46l-.94 1.18A1.997 1.997 0 0 0 2 14.167c0 1.106.893 2 2 2s2-.894 2-2c0-.454-.147-.867-.4-1.2l.94-1.18a3 3 0 0 0 2.913 0l.94 1.18a2.006 2.006 0 0 0-.393 1.2c0 1.106.893 2 2 2s2-.894 2-2c0-1.107-.893-2-2-2-.293 0-.567.06-.82.173l-.94-1.18c.62-.693.86-1.6.727-2.46l1.353-.453A2 2 0 0 0 14 9.16a1.997 1.997 0 1 0 0-3.993ZM2 7.833a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Zm2 7a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Zm3.333-12c0-.366.3-.666.667-.666.367 0 .667.3.667.666 0 .367-.3.667-.667.667a.669.669 0 0 1-.667-.667Zm.667 8A1.667 1.667 0 1 1 8.001 7.5 1.667 1.667 0 0 1 8 10.833Zm4 2.667c.367 0 .667.3.667.667 0 .366-.3.666-.667.666a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667Zm2-5.667a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Z"/></symbol><symbol id="contract" viewBox="0 0 16 16"><path d="M.889 3.556H15.11v1.777H.89V3.556Zm0 5.333H15.11V7.11H.89v1.78Zm0 3.555H7.11v-1.777H.89v1.777Zm0 3.556H7.11v-1.778H.89V16Zm10.142-2.516-1.253-1.262-1.254 1.254L11.031 16l4.08-4.071-1.262-1.262-2.818 2.817ZM.89 0v1.778h14.22V0H.89Z"/></symbol><symbol id="contrast" viewBox="0 0 16 16"><path d="M8 16c4.416 0 8-3.584 8-8s-3.584-8-8-8-8 3.584-8 8 3.584 8 8 8Zm.8-14.344A6.397 6.397 0 0 1 14.4 8a6.39 6.39 0 0 1-5.6 6.344V1.656Z"/></symbol><symbol id="copy" viewBox="0 0 14 16"><path d="M10.182 0H1.455C.655 0 0 .655 0 1.455v10.181h1.455V1.455h8.727V0Zm-.727 2.91H4.364c-.8 0-1.448.654-1.448 1.454L2.91 14.545c0 .8.647 1.455 1.447 1.455h8.008c.8 0 1.454-.655 1.454-1.454V7.273L9.455 2.909ZM4.364 14.545V4.364h4.363V8h3.637v6.546h-8Z"/></symbol><symbol id="cozy-circle" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm2 0c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0s10 4.477 10 10Zm-8.59 1.206c.134.086.33.046.417-.085a.28.28 0 0 0-.087-.396c-.116-.073-.125-.223-.125-.223a.296.296 0 0 0-.3-.282h-.006a.306.306 0 0 0-.21.087.283.283 0 0 0-.085.21.895.895 0 0 0 .029.183 1.682 1.682 0 0 1-2.087.004c.03-.11.03-.189.03-.191a.294.294 0 0 0-.291-.292.285.285 0 0 0-.213.076.289.289 0 0 0-.098.204s-.008.15-.126.225a.282.282 0 0 0-.085.396.315.315 0 0 0 .442.068l.007-.005c.392.295.874.455 1.375.455a2.29 2.29 0 0 0 1.379-.456l.033.022Zm.766-5.313c.521.502.845 1.153.932 1.856C14.726 7.892 16 9.236 16 10.869 16 12.594 14.574 14 12.822 14H7.177C5.425 14 4 12.595 4 10.868c0-.823.322-1.601.906-2.19a3.179 3.179 0 0 1 1.893-.92c.085-.707.41-1.36.933-1.865A3.18 3.18 0 0 1 9.954 5c.835 0 1.625.316 2.222.893Z"/></symbol><symbol id="cozy-laugh" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4 6a4 4 0 1 1 8 0 4 4 0 1 1 0 8H4a4 4 0 1 1 0-8zm1 3s0 2 3 2 3-2 3-2H5z"/>\n</symbol><symbol id="cozy-lock" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 2.73c4.315 0 7.979 2.83 9.158 6.739C29.102 10.622 32 14.226 32 18.523c0 5.234-4.299 9.44-9.556 9.44H9.556C4.299 27.963 0 23.757 0 18.523c0-4.297 2.898-7.901 6.842-9.054C8.02 5.56 11.685 2.73 16 2.73Zm-7.244 7.317C9.683 6.975 12.575 4.73 16 4.73s6.317 2.245 7.244 5.317l.313 1.037 1.04.305c3.134.916 5.403 3.77 5.403 7.134 0 4.1-3.373 7.44-7.556 7.44H9.556c-4.183 0-7.556-3.34-7.556-7.44 0-3.365 2.27-6.218 5.403-7.134l1.04-.304.313-1.038ZM19 16a3 3 0 0 1-1.5 2.599V20.5a1.5 1.5 0 0 1-3 0v-1.901A2.999 2.999 0 0 1 16 13a3 3 0 0 1 3 3Z"/></symbol><symbol id="cozy-release" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 3c4.315 0 7.979 2.83 9.158 6.739C29.102 10.892 32 14.496 32 18.793c0 3.594-2.027 6.704-5 8.3V24.73c1.824-1.36 3-3.517 3-5.937 0-3.365-2.27-6.218-5.403-7.134l-1.04-.305-.313-1.037C22.317 7.245 19.425 5 16 5s-6.317 2.245-7.244 5.317l-.313 1.037-1.04.305C4.269 12.575 2 15.429 2 18.793c0 4.1 3.373 7.44 7.556 7.44H10v2h-.444C4.299 28.233 0 24.027 0 18.793c0-4.296 2.898-7.901 6.842-9.054C8.02 5.83 11.685 3 16 3Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.16 15.961a1.555 1.555 0 1 0-2.199 2.2l6.972 6.897H14.56a1.5 1.5 0 0 0 0 3.001h7.999a1.5 1.5 0 0 0 1.5-1.5v-8a1.5 1.5 0 0 0-3.001 0v4.374L14.16 15.96Z" fill="#CB8100"/></symbol><symbol id="cozy-text" viewBox="0 0 52 19"><path d="M10.277 3.262c-.067.084-.143.16-.227.227a.516.516 0 01-.319.085.756.756 0 01-.436-.162 5.113 5.113 0 00-1.404-.702c-.325-.109-.725-.163-1.202-.163-.624 0-1.174.113-1.651.338-.47.219-.878.55-1.19.962-.316.416-.556.923-.721 1.521a7.592 7.592 0 00-.247 2.015c0 .771.087 1.458.26 2.06.173.603.42 1.11.741 1.521.32.412.71.724 1.17.937.46.212.97.318 1.534.318.546 0 .997-.067 1.352-.202.355-.134.65-.279.884-.435a5.93 5.93 0 00.585-.436c.156-.134.316-.201.481-.201.208 0 .368.078.481.234l.728.936a4.903 4.903 0 01-1.02.949 5.85 5.85 0 01-1.203.637c-.43.166-.877.288-1.332.364a8.488 8.488 0 01-1.411.117 5.846 5.846 0 01-2.308-.455 5.228 5.228 0 01-1.858-1.326c-.525-.58-.939-1.293-1.242-2.139C.419 9.417.267 8.458.267 7.383c0-.98.136-1.885.41-2.717a6.046 6.046 0 011.209-2.151 5.588 5.588 0 011.969-1.418C4.635.755 5.528.584 6.533.584c.945 0 1.777.152 2.496.455.72.303 1.36.732 1.924 1.287l-.676.936zM19.091.584c.97 0 1.848.158 2.633.474.76.3 1.444.767 2.001 1.366.55.593.973 1.308 1.268 2.145.295.836.442 1.774.442 2.814s-.147 1.98-.442 2.821c-.295.84-.717 1.556-1.267 2.145a5.527 5.527 0 01-2.002 1.358c-.785.317-1.662.475-2.633.475-.98 0-1.861-.158-2.645-.474a5.59 5.59 0 01-2.009-1.359c-.555-.59-.981-1.304-1.28-2.145-.3-.84-.449-1.781-.449-2.821 0-1.04.15-1.978.449-2.814a6.11 6.11 0 011.28-2.146 5.55 5.55 0 012.008-1.365c.785-.316 1.667-.474 2.646-.474zm0 11.622c1.248 0 2.18-.42 2.795-1.261.615-.84.923-2.024.923-3.549s-.308-2.71-.923-3.556c-.615-.845-1.547-1.267-2.795-1.267-1.265 0-2.208.422-2.828 1.267-.62.846-.929 2.03-.929 3.556 0 1.525.31 2.708.93 3.549.62.84 1.562 1.261 2.827 1.261zM37.46 1.858c0 .182-.032.36-.097.533-.066.173-.15.32-.254.442l-6.929 9.178h7.046V14H27.203v-1.066c0-.121.03-.266.091-.436.06-.169.147-.327.26-.474l6.968-9.243h-6.916V.792h9.854v1.066zM51.604.792l-7.332 17.043a1.07 1.07 0 01-.312.442c-.13.104-.32.156-.572.156h-1.885l2.418-5.265L38.5.792h2.21c.217 0 .386.052.507.156a.906.906 0 01.26.351l3.354 7.93c.07.2.136.4.201.605.064.199.118.4.163.604.12-.413.26-.821.416-1.222l3.237-7.917a.84.84 0 01.286-.364.73.73 0 01.442-.143h2.028z" fill-rule="nonzero"/></symbol><symbol id="credit-card-add" viewBox="0 0 16 14"><path d="M13.09 0H1.456C.647 0 .007.647.007 1.455L0 10.182a1.45 1.45 0 0 0 1.455 1.454h7.272v-1.454H1.455V5.818h13.09V1.455A1.45 1.45 0 0 0 13.091 0Zm0 2.91H1.456V1.454H13.09v1.454ZM16 9.454v1.454h-2.182v2.182h-1.454v-2.182h-2.182V9.455h2.182V7.273h1.454v2.182H16Z"/></symbol><symbol id="credit-card" viewBox="0 0 16 14"><path d="M14.4.6H1.6C.712.6.008 1.312.008 2.2L0 11.8c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V2.2c0-.888-.712-1.6-1.6-1.6Zm0 11.2H1.6V7h12.8v4.8Zm0-8H1.6V2.2h12.8v1.6Z"/></symbol><symbol id="credit" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M3.414 10H11a1 1 0 0 1 0 2H3.414l1.293 1.293a1 1 0 0 1-1.414 1.414l-3-3a1 1 0 0 1 0-1.414l3-3a1 1 0 1 1 1.414 1.414L3.414 10z" opacity=".322"/>\n        <path d="M12.586 4l-1.293-1.293a1 1 0 1 1 1.414-1.414l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L12.586 6H5a1 1 0 1 1 0-2h7.586z"/>\n    </g>\n</symbol><symbol id="crop" viewBox="0 0 16 16"><path d="M11.636 10.182h1.455V4.364c0-.8-.655-1.455-1.455-1.455H5.818v1.455h5.818v5.818Zm-7.272 1.454V0H2.909v2.91H0v1.454h2.91v7.272c0 .8.654 1.455 1.454 1.455h7.272V16h1.455v-2.91H16v-1.454H4.364Z"/></symbol><symbol id="cross-circle-outline" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Zm0-7.528L10.872 4 12 5.128 9.128 8 12 10.872 10.872 12 8 9.128 5.128 12 4 10.872 6.872 8 4 5.128 5.128 4 8 6.872Z"/></symbol><symbol id="cross-circle" viewBox="0 0 16 16"><path d="M5.12 12 8 9.12 10.88 12 12 10.88 9.12 8 12 5.12 10.88 4 8 6.88 5.12 4 4 5.12 6.88 8 4 10.88 5.12 12ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z"/></symbol><symbol id="cross-medium" viewBox="0 0 16 16"><path d="M15 2.41 13.59 1 8 6.59 2.41 1 1 2.41 6.59 8 1 13.59 2.41 15 8 9.41 13.59 15 15 13.59 9.41 8 15 2.41Z"/></symbol><symbol id="cross-small" viewBox="0 0 16 16"><path d="M8 6.59 11.59 3 13 4.41 9.41 8 13 11.59 11.59 13 8 9.41 4.41 13 3 11.59 6.59 8 3 4.41 4.41 3 8 6.59Z"/></symbol><symbol id="cross" viewBox="0 0 16 16"><path d="M2.4 15 1 13.6 6.6 8 1 2.4 2.4 1 8 6.6 13.6 1 15 2.4 9.4 8l5.6 5.6-1.4 1.4L8 9.4 2.4 15Z"/></symbol><symbol id="cube" viewBox="0 0 15 16"><path d="M14.4 4 7.2 0 0 4v8l7.2 4 7.2-4V4ZM7.2 1.832l4.728 2.624L9.52 5.792a3.213 3.213 0 0 0-4.64 0L2.472 4.456 7.2 1.832Zm-.8 11.896-4.8-2.664V5.808L4.104 7.2A3.193 3.193 0 0 0 6.4 11.096v2.632ZM5.6 8c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6-.88 0-1.6-.72-1.6-1.6ZM8 13.728v-2.624a3.193 3.193 0 0 0 2.4-3.096c0-.28-.032-.552-.104-.808L12.8 5.808v5.256L8 13.728Z"/></symbol><symbol id="dashboard" viewBox="0 0 16 16"><path d="M14.222 1.778v1.778h-3.555V1.778h3.555Zm-8.889 0V7.11H1.778V1.778h3.555Zm8.89 7.11v5.334h-3.556V8.89h3.555Zm-8.89 3.556v1.778H1.778v-1.778h3.555ZM16 0H8.889v5.333H16V0ZM7.111 0H0v8.889h7.111V0ZM16 7.111H8.889V16H16V7.111Zm-8.889 3.556H0V16h7.111v-5.333Z"/></symbol><symbol id="dash" viewBox="0 0 16 2"><path d="M0 0h16v1.778H0V0Z"/></symbol><symbol id="database" viewBox="0 0 14 16"><path d="M14 3.46c0 1.91-3.134 3.459-7 3.459S0 5.37 0 3.459C0 1.55 3.134 0 7 0s7 1.549 7 3.46zM14 13.89C12.691 15.142 10.049 16 7 16s-5.691-.857-7-2.11v-1.729c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"/><path d="M14 10.863c-1.309 1.253-3.951 2.11-7 2.11s-5.691-.857-7-2.11V9.134c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"/><path d="M14 7.836c-1.309 1.252-3.951 2.11-7 2.11s-5.691-.858-7-2.11V6.107c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"/></symbol><symbol id="data-control" viewBox="0 0 16 16"><path d="M7.111 8.889H3.556v3.555H7.11V8.89Zm5.333 0H8.89v3.555h3.555V8.89Z"/><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 14.222H1.778V1.778h12.444v12.444Z"/><path d="M7.111 3.556H3.556V7.11H7.11V3.556Zm5.333 0H8.89V7.11h3.555V3.556Z"/></symbol><symbol id="debit" viewBox="0 0 16 13"><path d="M4.328 7.528 3.2 6.4 0 9.6l3.2 3.2 1.128-1.128L3.064 10.4H15.2V8.8H3.064l1.264-1.272Zm7.344-2.256L12.8 6.4 16 3.2 12.8 0l-1.128 1.128L12.936 2.4H.8V4h12.136l-1.264 1.272Z"/></symbol><symbol id="desktop-download" viewBox="0 0 16 15"><path d="M14.4 11.2H1.6V1.6H8V0H1.6C.712 0 0 .712 0 1.6v9.6c0 .88.712 1.6 1.6 1.6h3.2v1.6h6.4v-1.6h3.2c.88 0 1.6-.72 1.6-1.6V8.8h-1.6v2.4Z"/><path d="m12 8.8 4-4-1.128-1.128L12.8 5.736V0h-1.6v5.736L9.128 3.672 8 4.8l4 4Z"/></symbol><symbol id="devices" viewBox="0 0 16 12"><path d="M2.667 2h12V.667h-12c-.734 0-1.334.6-1.334 1.333v7.333H0v2h9.333v-2H2.667V2Zm12.666 1.333h-4c-.366 0-.666.3-.666.667v6.667c0 .366.3.666.666.666h4c.367 0 .667-.3.667-.666V4c0-.367-.3-.667-.667-.667Zm-.666 6H12V4.667h2.667v4.666Z"/></symbol><symbol id="discuss" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.688 12.323c.246-.538.41-1.004.493-1.399-1.068-1.004-1.72-2.344-1.72-3.816C1.462 3.99 4.39 1.462 8 1.462c3.611 0 6.538 2.528 6.538 5.646 0 3.119-2.927 5.647-6.538 5.647-.74 0-1.452-.106-2.116-.302-.518.404-1.237.762-2.156 1.075a12.364 12.364 0 0 1-.657.205l-.008.003a17.328 17.328 0 0 1-.628.169.299.299 0 0 1-.334-.436l.112-.202a15.704 15.704 0 0 0 .475-.944Zm-1.757.242a11.8 11.8 0 0 0 .605-1.264C.584 10.143 0 8.698 0 7.108 0 2.988 3.79 0 8 0s8 2.989 8 7.108c0 4.12-3.79 7.109-8 7.109-.63 0-1.245-.065-1.837-.188-.908.546-2.057.963-3.373 1.293a1.76 1.76 0 0 1-1.968-2.56l.109-.197Z"/></symbol><symbol id="dots" viewBox="0 0 16 4"><path d="M2 0C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM8 0C6.9 0 6 .9 6 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z"/></symbol><symbol id="download" viewBox="0 0 16 16"><path d="M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2Zm-1-4-1.41-1.41L9 8.17V0H7v8.17L4.41 5.59 3 7l5 5 5-5Z"/></symbol><symbol id="down" viewBox="0 0 16 16"><path d="M7 11.2V3c0-.283.096-.52.287-.712A.968.968 0 0 1 8 2c.283 0 .52.096.712.288.192.191.288.429.288.712v8.2l2.9-2.9a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7l-4.6 4.6c-.2.2-.433.3-.7.3a.96.96 0 0 1-.7-.3L2.7 9.7a.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275L7 11.2Z"/></symbol><symbol id="drawing-arrow-up" viewBox="0 0 40 36"><path d="M4.008 0l.07.12h.034l.047.016.035.02.029.026L5.945 2.19l1.153 1.326a92.633 92.633 0 002.778 3.052l.676.698.494.5.406.425 1.622 1.768.586.626.526.541c1.012 1.016 1.834 1.682 2.53 2.004.228.105.264.525.03.609-2.223.79-4.188.908-5.798-.02l-.208-.127.126.463c1.819 6.009 6.042 10.741 12.236 14.28 5.583 3.188 11.23 4.584 16.135 3.567l.385-.085.094.014.037.017c.182.106.27.239.242.39a.456.456 0 01-.17.258l-.075.06-.22.096-.571.264-.49.184-.966.352c-8.112 2.89-13.91 3.289-19.627.42-6.312-3.166-11.194-10.25-12.474-17.744l-.066-.409-.059-.41c-.896 1.616-2.631 2.519-4.937 2.987-.242.049-.432-.327-.292-.536.427-.636.768-1.589 1.102-2.989l.072-.307.143-.656.545-2.778.054-.263.101-.469.233-1.004.195-.89c.191-.897.371-1.826.562-2.9l.097-.548.228-1.339.54-3.351.017-.048.007-.011.037-.049.033-.018L4.008 0zm1.885 13.409H5.85l.019.04.015.043.1.364.068.258.218.904.264.778.76 2.311.269.801.296.858c.722 2.046 1.311 3.398 2.093 4.736l.159.268.286.461c2.357 3.705 5.486 6.507 9.028 7.886 5.467 2.129 11.574 1.933 17.96-.202a19.56 19.56 0 01-4.353-.009l-.554-.069 2.21.854-.845.179-2.074-.708-1.449-.507-1.723-.615-1.912-.694-9.578-3.53-4.485-1.636-1.849-.686-.084-.087-.176-.263-.282-.456-.182-.301.799.296 1.26.311c1.263.319 2.533.656 3.807 1.011l1.276.362-1.1-.462-1.531-.651-.596-.248a51.461 51.461 0 00-4.401-1.596 3.325 3.325 0 01-.21-.346l-.056-.107-.186-.395-.136-.299-.236-.541 1.625.525c.909.301 1.81.611 2.703.93l1.335.487 1.324.5-.4-.398c-.392-.4-.766-.806-1.12-1.219a81.77 81.77 0 00-4.845-1.181l-.77-.155-.091-.075-.216-.552.138-.164.692.134c.926.186 1.873.4 2.855.646l.743.19-4.78-1.886-.07-.074-.298-.863 5.155 2.05-.269-.388a17.112 17.112 0 01-.488-.77l-.225-.385-4.295-1.052-.086-.08-.182-.55.147-.158 3.975 1.01-.154-.314-.147-.316L6.76 16l-.072-.075-.317-.928-.017-.071.16-.143 3.877 1.328-.052-.108-.054-.116-.052-.123-4.077-1.816-.068-.08-.102-.377-.02-.042a.114.114 0 00-.074-.041zm5.059 12.397l20.87 8.426-.467.06-.54.064-.175.019.01.002-.328.028-.699.053-.44.025-.448.018-14.502-4.91-.202-.181-.355-.334-.31-.31-.354-.365 15.16 5.138-16.368-6.602a9.298 9.298 0 01-.32-.396l-.145-.194-.387-.54zm3.377 3.921l10.263 4.59-1.006-.185a22.441 22.441 0 01-2.129-.495l-.516-.154-3.883-1.735a17.885 17.885 0 01-1.634-1.13l-.388-.31-.707-.58zm2.994-2.561l3.456 1.309 1.2.445-.55-.337-.537-.343a178.07 178.07 0 00-2.38-.725l-1.189-.35zm-3.95-3.095l1.634.654 1.182.46 1.144.434-.059-.05-1.297-.515-.653-.253-.655-.25-1.296-.48zm2.353.093l.188.179.308.122-.193-.183-.303-.118zm-3.014-2.773l.767.302.217.061-.1-.126-.884-.237zm.181-.703l-.174-.07.11.15.17.069-.106-.15zM4.286.98l.01.736c.025 4.164-.555 8.238-1.67 11.907-.282.93-.622 1.812-.973 2.51l-.132.252-.13.231.07-.112.155-.266.082-.151.083-.16.14-.064.563.142.003-.02c.003-.011.008-.019.022-.029l.075-.043.229-.126.394-.226a6.22 6.22 0 00.74-.501l.125-.104-1.502-.587-.072-.156.106-.304.096-.297.158-.08 1.934.664.133-.184.128-.195.115-.317-2.058-.934-.068-.144.128-.46.016-.007-.01-.02.109-.459.157-.088 5.586 1.78-.676-.332-.256-.123-.823-.386-3.508-1.599-.182-.084-.069-.137.1-.52.173-.088 1.108.509c.61.282 1.227.57 1.853.865l.946.447 1.786.849-.022-.258v-.061l.01-.059-5.666-2.69-.068-.134.088-.462.174-.09 8.563 4.06.21.003.22-.001 1.116-.039.197-.005c.25-.005.46-.003.658.007a11.406 11.406 0 01-1.465-.966l-.266-.206-9.278-2.92-.085-.136.07-.459.158-.099 7.777 2.445-.342-.32-.335-.323L8.732 8.76 4.21 6.73l-.072-.125.05-.466.173-.1 5.495 2.454-.096-.102-.522-.575a38.552 38.552 0 01-1.011-1.183c-.993-.31-2.03-.623-3.085-.919l-.793-.218-.09-.13.031-.457.082-.06-.07-.113.032-.48.17-.107 2.637 1.113-.116-.152-.396-.538-.385-.54-.586-.144-1.2-.306-.093-.124.018-.642.156-.116.854.248.142.042-.273-.421-.255-.02-.256-.036-.253-.042-.103-.122-.004-.337.06-.05-.061-.086-.005-.338.16-.119-.26-.44zm5.632 13.887l.04.13.074.034.032-.011-.032-.1-.114-.053zm-4.894-2.221l4.894 2.22-.026-.084-.085-.316-.077-.322-4.706-1.498zm4.456-.077l.012.12.448.21-.356-.17-.014-.12-.09-.04zm.767-.46l.104.092.233.195.14.11-.121-.098a6.117 6.117 0 01-.307-.27.137.137 0 00-.049-.028z"/></symbol><symbol id="dropdown-close" viewBox="0 0 16 16"><path d="M5.54 9.92 8 7.46l2.46 2.46L11.6 8.8 8 5.2 4.4 8.8l1.14 1.12ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8s-.62-3.3-1.86-4.54C11.3 2.22 9.787 1.6 8 1.6s-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="dropdown-open" viewBox="0 0 16 16"><path d="m8 10.8 3.6-3.6-1.14-1.12L8 8.54 5.54 6.08 4.4 7.2 8 10.8ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8s-.62-3.3-1.86-4.54C11.3 2.22 9.787 1.6 8 1.6s-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="dropdown" viewBox="0 0 16 16"><path d="M8 10.95c-.133 0-.258-.02-.375-.063a.878.878 0 0 1-.325-.212l-4.6-4.6a.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275l3.9 3.9 3.9-3.9a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7l-4.6 4.6c-.1.1-.208.17-.325.212A1.106 1.106 0 0 1 8 10.95Z"/></symbol><symbol id="dropup" viewBox="0 0 16 16"><path d="m8 6.775-3.9 3.9a.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7l4.6-4.6c.1-.1.208-.17.325-.213.117-.041.242-.062.375-.062s.258.02.375.062a.877.877 0 0 1 .325.213l4.6 4.6a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275L8 6.775Z"/></symbol><symbol id="electric-bike" viewBox="0 0 16 15"><path d="M12.667 4h-.547L10.987.88A1.339 1.339 0 0 0 9.733 0H8v1.333h1.733L10.707 4H7.5l-.24-.667H8V2H4.667v1.333h1.166l1.214 3.334H6.6a3.287 3.287 0 0 0-3.1-2.66C1.633 3.913 0 5.467 0 7.333a3.301 3.301 0 0 0 3.333 3.334C4.973 10.667 6.3 9.54 6.6 8h2.8a3.287 3.287 0 0 0 3.1 2.66c1.867.087 3.5-1.46 3.5-3.333A3.3 3.3 0 0 0 12.667 4ZM5.213 8a1.966 1.966 0 0 1-1.88 1.333c-1.12 0-2-.88-2-2s.88-2 2-2c.887 0 1.614.554 1.88 1.334h-1.88V8h1.88ZM9.4 6.667h-.933L7.98 5.333H10a3.156 3.156 0 0 0-.6 1.334Zm3.267 2.666c-1.12 0-2-.88-2-2 0-.62.273-1.153.7-1.52l.64 1.76 1.253-.453-.647-1.78c.014 0 .034-.007.054-.007 1.12 0 2 .88 2 2s-.88 2-2 2Zm-5.334 3.334H4.667l4 2v-1.334h2.666l-4-2v1.334Z"/></symbol><symbol id="electric-car" viewBox="0 0 14 16"><path d="M12.033.735A1.087 1.087 0 0 0 11 0H3c-.48 0-.88.305-1.033.735L.455 5.09v5.818c0 .4.327.727.727.727h.727a.73.73 0 0 0 .727-.727v-.727h8.728v.727c0 .4.327.727.727.727h.727a.73.73 0 0 0 .727-.727V5.091L12.033.735Zm-8.778.72h7.483l.786 2.261H2.469l.786-2.261Zm8.836 7.272H1.909V5.091h10.182v3.636Z"/><path d="M3.727 8a1.09 1.09 0 1 0 0-2.182 1.09 1.09 0 0 0 0 2.182Zm6.546 0a1.09 1.09 0 1 0 0-2.182 1.09 1.09 0 0 0 0 2.182Zm-6.909 5.818h2.909v-1.454l4.363 2.181H7.727V16l-4.363-2.182Z"/></symbol><symbol id="electric-scooter" viewBox="0 0 16 16"><path d="M13.6 1.6C13.6.72 12.88 0 12 0H9.6v1.6H12v2.12L9.216 7.2H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.4v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.28V1.6Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 9.6c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4.8h-4v1.6h4V.8Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Zm-9.6 4h3.2V12l4.8 2.4H8.8V16L4 13.6Z"/></symbol><symbol id="email-notification" viewBox="0 0 16 16"><path d="M16 6.384V13.6c0 .88-.72 1.6-1.6 1.6H1.6c-.88 0-1.6-.72-1.6-1.6L.008 4c0-.88.712-1.6 1.592-1.6h8.08c-.048.256-.08.528-.08.8s.032.544.08.8H1.6L8 8l2.936-1.832c.376.344.816.608 1.304.784L8 9.6l-6.4-4v8h12.8V7.12a3.962 3.962 0 0 0 1.6-.736ZM11.2 3.2c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4C16 1.872 14.928.8 13.6.8a2.397 2.397 0 0 0-2.4 2.4Z"/></symbol><symbol id="email-open" viewBox="0 0 16 16"><g filter="url(#filter0_d_1426_12797)" clip-path="url(#clip0_1426_12797)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.572 10.531 1.405 6.913l.746-1.065 5.167 3.619c.41.287.955.287 1.364 0l5.167-3.62.746 1.066-5.167 3.618c-.857.601-1.999.6-2.856 0ZM1.3 6.647v6.562c0 .805.653 1.458 1.459 1.458H13.24c.806 0 1.459-.653 1.459-1.458V6.647a.999.999 0 0 0-.393-.795L8.606 1.505a.999.999 0 0 0-1.212 0l-5.7 4.347a.999.999 0 0 0-.394.795Zm-1.3 0c0-.717.335-1.394.905-1.828L6.605.47a2.299 2.299 0 0 1 2.79 0l5.7 4.348c.57.434.905 1.11.905 1.828v6.562a2.759 2.759 0 0 1-2.759 2.758H2.76A2.759 2.759 0 0 1 0 13.21V6.647Z"/></g></symbol><symbol id="email" viewBox="0 0 16 13"><path d="M16 1.6c0-.88-.72-1.6-1.6-1.6H1.6C.72 0 0 .72 0 1.6v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V1.6Zm-1.6 0L8 5.6l-6.4-4h12.8Zm0 9.6H1.6v-8l6.4 4 6.4-4v8Z"/></symbol><symbol id="euro" viewBox="0 0 17 16"><path d="M11.447 13.473a5.457 5.457 0 0 1-4.85-2.947h4.85l.843-1.684H6.04A5.587 5.587 0 0 1 5.974 8c0-.286.025-.564.067-.842h5.406l.843-1.684H6.597a5.466 5.466 0 0 1 8.412-1.626l1.491-1.49A7.541 7.541 0 0 0 11.447.42c-3.3 0-6.096 2.114-7.14 5.053H1.341L.5 7.158h3.419a6.956 6.956 0 0 0 0 1.684H1.342L.5 10.526h3.806c1.045 2.94 3.84 5.053 7.141 5.053a7.525 7.525 0 0 0 5.053-1.937l-1.499-1.49a5.394 5.394 0 0 1-3.554 1.322Z"/></symbol><symbol id="eu" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2.343 2.343l1.227.625.974-.973-.216 1.36 1.227.625-1.36.215-.215 1.36-.625-1.227-1.36.216.973-.974-.625-1.227zM8 0l.426 1.31h1.376l-1.114.809.426 1.31L8 2.619l-1.114.81.425-1.31-1.114-.81h1.377L8 0zM1.31 7.574V6.197l.809 1.114 1.31-.425L2.619 8l.81 1.114-1.31-.426-.81 1.114V8.425L0 8l1.31-.426zm1.033 6.083l.625-1.227-.973-.974 1.36.216.625-1.227.215 1.36 1.36.215-1.227.625.216 1.36-.974-.973-1.227.625zm11.314 0l-1.227-.625-.974.973.216-1.36-1.227-.625 1.36-.215.215-1.36.625 1.227 1.36-.216-.973.974.625 1.227zM8 13.38l1.114-.81-.426 1.31 1.114.81H8.425L8 16l-.426-1.31H6.197l1.115-.809-.426-1.31 1.114.81zm5.881-6.07l.81-1.114v1.377L16 8l-1.31.425v1.377l-.809-1.114-1.31.426.81-1.114-.81-1.114 1.31.425zm-.224-4.968l-.625 1.227.973.974-1.36-.216-.625 1.227-.215-1.36-1.36-.215 1.227-.625-.216-1.36.974.973 1.227-.625z"/>\n</symbol><symbol id="exchange" viewBox="0 0 16 14"><path d="M3.547 6.111 0 9.667l3.547 3.555v-2.666h6.23V8.778h-6.23V6.11ZM16 4.333 12.453.778v2.667h-6.23v1.777h6.23V7.89L16 4.333Z"/></symbol><symbol id="expand" viewBox="0 0 16 16"><path d="M14.8 15.2a.8.8 0 0 0-.8-.8H2.8a.8.8 0 0 0 0 1.6H14a.8.8 0 0 0 .8-.8ZM14.8.8A.8.8 0 0 0 14 0H2.8a.8.8 0 1 0 0 1.6H14a.8.8 0 0 0 .8-.8ZM6.893 9.833a.799.799 0 0 0-1.128 1.132l1.928 1.928a1 1 0 0 0 1.414 0l1.928-1.928a.799.799 0 0 0-1.128-1.132l-.707.703V5.464l.707.703a.799.799 0 0 0 1.128-1.132L9.107 3.107a1 1 0 0 0-1.414 0L5.765 5.035a.799.799 0 0 0 1.128 1.132l.707-.703v5.072l-.707-.703Z" fill="#2C3038"/></symbol><symbol id="expert" viewBox="0 0 16 16">\n  <path d="M10.838 12.894a.455.455 0 01.377.12l.538.516-.91 2.47-.585-1.239-1.254.578.85-2.309.985-.136zM13.695 12.894l1.015.141c.074.01.146 0 .212-.023l.858 2.326-1.254-.576L13.941 16l-.976-2.649.354-.336c.1-.096.238-.14.376-.121zM12.01 7.552c.08-.246.433-.246.514 0l.231.702c.036.11.14.186.257.186h.748c.263 0 .371.33.16.483l-.605.433a.267.267 0 00-.098.3l.23.702c.082.246-.204.451-.416.3l-.605-.435a.274.274 0 00-.319 0l-.605.434c-.212.152-.497-.053-.417-.299l.232-.702a.267.267 0 00-.098-.3l-.605-.433c-.212-.152-.103-.483.159-.483h.748a.271.271 0 00.257-.186l.231-.702z"/>\n  <path clip-rule="evenodd" d="M11.953 5.458a.457.457 0 01.628 0l.536.513c.1.095.24.14.377.12l.738-.102a.451.451 0 01.508.364l.129.725c.024.135.11.252.232.317l.66.345c.214.112.3.373.193.59l-.328.66a.442.442 0 000 .392l.328.66a.444.444 0 01-.194.59l-.659.346a.447.447 0 00-.232.317l-.13.725a.45.45 0 01-.507.363l-.738-.102a.455.455 0 00-.377.12l-.536.513a.457.457 0 01-.628 0l-.536-.513a.455.455 0 00-.376-.12l-.739.102a.45.45 0 01-.507-.363l-.13-.725a.446.446 0 00-.233-.317l-.66-.346a.444.444 0 01-.193-.59l.328-.66a.442.442 0 000-.391l-.328-.662a.444.444 0 01.194-.59l.66-.344a.446.446 0 00.232-.317l.13-.725a.45.45 0 01.507-.364l.739.103a.456.456 0 00.376-.121l.536-.513zm.314 1.312c-1.352 0-2.447 1.082-2.447 2.416 0 1.335 1.095 2.416 2.447 2.416 1.35 0 2.447-1.082 2.448-2.416 0-1.334-1.097-2.416-2.448-2.416z"/>\n  <path d="M6.4 8c.555 0 1.094.036 1.607.102-.022.222.014.453.12.669l.237.478-.237.48a1.24 1.24 0 00.535 1.64l.477.253.093.526c.027.148.079.287.151.41l-.088.242H0v-1.6C0 9.432 2.864 8 6.4 8zM6.4 0a3.202 3.202 0 013.2 3.2A3.2 3.2 0 116.4 0z"/>\n</symbol><symbol id="export" viewBox="0 0 16 16"><path d="M14.8 4v10.4l-.008.159A1.6 1.6 0 0 1 13.2 16H3.6a1.6 1.6 0 0 1-1.014-.362l-.117-.107a1.6 1.6 0 0 1-.461-.972L2 14.4V1.6c0-.372.13-.73.362-1.014L2.47.469A1.6 1.6 0 0 1 3.599 0h7.2l4 4ZM3.6 14.4h9.6V5.6h-1.598a2.4 2.4 0 0 1-2.4-2.4V1.6H3.6v12.8Zm7.202-11.2a.8.8 0 0 0 .8.8h.935l-1.736-1.736V3.2Z" fill="#2C3038"/><path d="M8.401 7.2a.8.8 0 0 1 .8.799v2.867l1.034-1.032a.8.8 0 1 1 1.131 1.13l-2.4 2.401a.794.794 0 0 1-.436.222.817.817 0 0 1-.13.013.793.793 0 0 1-.127-.013.794.794 0 0 1-.438-.222l-2.4-2.4a.8.8 0 1 1 1.131-1.131l1.035 1.034V8a.8.8 0 0 1 .8-.8Z" fill="#2C3038"/></symbol><symbol id="eye-closed" viewBox="0 0 16 16"><path d="M10.982 8.337 9.927 7.282c.11-.57-.054-1.103-.49-1.6-.437-.497-1-.69-1.692-.582L6.691 4.046c.206-.097.415-.17.627-.219.212-.048.44-.072.682-.072.91 0 1.682.318 2.318.954a3.16 3.16 0 0 1 .955 2.318c0 .243-.024.47-.073.682a3.085 3.085 0 0 1-.218.628Zm2.327 2.29L12.255 9.61c.46-.351.87-.736 1.227-1.154.357-.418.664-.894.918-1.428a7.15 7.15 0 0 0-2.61-2.918C10.659 3.39 9.395 3.027 8 3.027a7.04 7.04 0 0 0-2.036.291L4.836 2.191A8.059 8.059 0 0 1 8 1.573c1.83 0 3.46.506 4.89 1.518A8.656 8.656 0 0 1 16 7.027a8.508 8.508 0 0 1-1.1 1.991 8.003 8.003 0 0 1-1.59 1.61Zm.364 4.473-3.055-3.018a8.737 8.737 0 0 1-1.282.3c-.43.067-.875.1-1.336.1-1.83 0-3.46-.506-4.89-1.518A8.656 8.656 0 0 1 0 7.027a8.62 8.62 0 0 1 .964-1.79A8.374 8.374 0 0 1 2.29 3.755l-2-2.037L1.309.7l13.382 13.382-1.018 1.018ZM3.309 4.773a7.81 7.81 0 0 0-.964 1.036c-.29.376-.539.782-.745 1.218a7.15 7.15 0 0 0 2.61 2.919c1.132.72 2.396 1.082 3.79 1.082.242 0 .479-.016.71-.046.23-.03.466-.064.708-.1l-.654-.69a3.395 3.395 0 0 1-.382.08A2.57 2.57 0 0 1 8 10.3c-.91 0-1.682-.318-2.318-.954-.637-.637-.955-1.41-.955-2.319 0-.133.01-.26.028-.381.018-.122.045-.249.081-.382L3.31 4.773Z"/></symbol><symbol id="eye" viewBox="0 0 16 11"><path d="M8 1.5a7.105 7.105 0 0 1 6.415 4A7.1 7.1 0 0 1 8 9.5a7.098 7.098 0 0 1-6.415-4c1.2-2.451 3.659-4 6.415-4ZM8 .045C4.364.045 1.258 2.307 0 5.5c1.258 3.193 4.364 5.454 8 5.454s6.742-2.261 8-5.454C14.742 2.307 11.636.045 8 .045Zm0 3.637a1.819 1.819 0 1 1-.001 3.637A1.819 1.819 0 0 1 8 3.682Zm0-1.455A3.278 3.278 0 0 0 4.727 5.5 3.278 3.278 0 0 0 8 8.773 3.278 3.278 0 0 0 11.273 5.5 3.278 3.278 0 0 0 8 2.227Z"/></symbol><symbol id="face-id" viewBox="0 0 16 16"><path d="M13.6 1.6h-3.344A2.408 2.408 0 0 0 8 0C6.96 0 6.08.672 5.744 1.6H2.4c-.88 0-1.6.72-1.6 1.6v11.2c0 .88.72 1.6 1.6 1.6h11.2c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6ZM8 1.4a.6.6 0 0 1 .44.2c.096.104.16.248.16.4 0 .328-.272.6-.6.6a.604.604 0 0 1-.6-.6c0-.152.064-.296.16-.4A.6.6 0 0 1 8 1.4Zm5.6 13H2.4V3.2h11.2v11.2ZM8 4C6.68 4 5.6 5.08 5.6 6.4c0 1.32 1.08 2.4 2.4 2.4 1.32 0 2.4-1.08 2.4-2.4C10.4 5.08 9.32 4 8 4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Zm-4.8 5.176V13.6h9.6v-1.224c0-2-3.176-2.864-4.8-2.864-1.624 0-4.8.856-4.8 2.864ZM5.048 12c.552-.448 1.904-.896 2.952-.896s2.408.448 2.952.896H5.048Z"/></symbol><symbol id="file-add" viewBox="0 0 14 16"><path d="M7.8 7.2H6.2v2.4H3.8v1.6h2.4v2.4h1.6v-2.4h2.4V9.6H7.8V7.2ZM8.6 0H2.2C1.32 0 .6.72.6 1.6v12.8c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.6v4h4v8.8Z"/></symbol><symbol id="file-duotone" viewBox="0 0 15 16"><g clip-path="url(#clip0_11387_16837)"><path opacity=".242" fill-rule="evenodd" clip-rule="evenodd" d="M1 2S2.837.25 3.45.25h5.694l5.372 5-.066 8c0 .131-.596 1.085-.651 1.207a1 1 0 0 1-.24.325 1.121 1.121 0 0 1-.36.217c-.133.05-1.354.708-1.5.708l-8.75.043c.001 0-1.15-.484-1.284-.534A1.12 1.12 0 0 1 1.306 15a.997.997 0 0 1-.24-.325C1.011 14.553.45 13.381.45 13.25.477 6.251 1 2 1 2Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.4 0A3.2 3.2 0 0 0 .2 3.2v9.6A3.2 3.2 0 0 0 3.4 16h8a3.2 3.2 0 0 0 3.2-3.2V5.2L9.4 0h-6Zm0 1a2.2 2.2 0 0 0-2.2 2.2v9.6A2.2 2.2 0 0 0 3.4 15h8a2.2 2.2 0 0 0 2.2-2.2V5.614L8.986 1H3.4Z"/><path d="M14.6 5.4 9.2 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z"/></g></symbol><symbol id="file-new" viewBox="0 0 14 16"><path d="M7.8 7.2H6.2v2.4H3.8v1.6h2.4v2.4h1.6v-2.4h2.4V9.6H7.8V7.2ZM8.6 0H2.2C1.32 0 .6.72.6 1.6v12.8c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.6v4h4v8.8Z"/></symbol><symbol id="file-none" viewBox="0 0 16 16">\n  \n  <g fill-rule="evenodd">\n    <use xlink:href="#file-none-a"/>\n  </g>\n</symbol><symbol id="file-outline" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0ZM2.2 14.4V1.6h5.6v4h4v8.8H2.2Z"/></symbol><symbol id="file" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0ZM2.2 14.4V1.6h5.6v4h4v8.8H2.2Z"/></symbol><symbol id="file-type-shared-drive-grey" viewBox="0 0 16 13"><g clip-path="url(#clip0_13717_2258)"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4 1.62H8L6.4 0H1.6C.72 0 0 .73 0 1.62v9.75c0 .89.71 1.62 1.59 1.62h12.8c.88 0 1.6-.73 1.6-1.62V3.25c0-.89-.72-1.62-1.6-1.62l.01-.01ZM11.09 8.9c0 .93-.77 1.7-1.7 1.7H6c-.93 0-1.7-.77-1.7-1.7V5.51c0-.93.77-1.7 1.7-1.7h.77c.19 0 .31.12.31.31s-.12.31-.31.31H6c-.59 0-1.08.49-1.08 1.08V8.9c0 .59.49 1.08 1.08 1.08h3.39c.59 0 1.08-.49 1.08-1.08v-.46c0-.19.12-.31.31-.31s.31.12.31.31v.46Zm.52-2.71L9.76 8.04c-.09.09-.22.12-.34.06-.12-.03-.19-.15-.19-.28v-.93h-.62c-.83 0-1.54.52-1.79 1.33a.3.3 0 0 1-.28.22c-.13 0-.25-.09-.31-.22-.06-.22-.09-.46-.09-.71 0-1.36 1.11-2.47 2.47-2.47h.62v-.93c0-.12.06-.25.19-.28.12-.06.25-.03.34.06l1.85 1.85c.12.12.12.31 0 .43v.02Z" fill="#A6A6A6"/></g></symbol><symbol id="file-type-shared-drive" viewBox="0 0 96 78"><path fill-rule="evenodd" clip-rule="evenodd" d="M48 9.75h38.4c5.28 0 9.6 4.386 9.6 9.75v48.75c0 5.364-4.32 9.75-9.6 9.75H9.6C4.32 78 0 73.614 0 68.25l.048-58.5C.048 4.386 4.32 0 9.6 0h28.8L48 9.75Z" fill="url(#paint0_linear_13714_2236)"/><path d="M56.673 62.55H39.176c-4.772 0-8.749-3.976-8.749-8.748V36.305c0-4.772 3.977-8.748 8.749-8.748h3.976c.955 0 1.591.636 1.591 1.59 0 .955-.636 1.59-1.59 1.59h-3.977c-3.022 0-5.567 2.546-5.567 5.568v17.497c0 3.022 2.545 5.567 5.567 5.567h17.497c3.022 0 5.567-2.545 5.567-5.567v-2.386c0-.955.636-1.59 1.59-1.59.955 0 1.591.635 1.591 1.59v2.386c0 4.772-3.977 8.748-8.748 8.748ZM42.039 51.416c-.636 0-1.273-.477-1.59-1.114-.319-1.113-.478-2.386-.478-3.658 0-6.999 5.726-12.725 12.725-12.725h3.181v-4.772c0-.636.319-1.272.955-1.431.636-.319 1.272-.16 1.75.318l9.543 9.543c.636.637.636 1.591 0 2.227l-9.544 9.544c-.477.477-1.113.636-1.75.318-.636-.159-.954-.795-.954-1.431v-4.772h-3.18c-4.296 0-7.954 2.704-9.227 6.84-.158.636-.795 1.113-1.431 1.113Z" fill="#8DBCFF"/><path d="M56.673 61.55H39.176c-4.772 0-8.749-3.976-8.749-8.748V35.305c0-4.772 3.977-8.748 8.749-8.748h3.976c.955 0 1.591.636 1.591 1.59 0 .955-.636 1.59-1.59 1.59h-3.977c-3.022 0-5.567 2.546-5.567 5.568v17.497c0 3.022 2.545 5.567 5.567 5.567h17.497c3.022 0 5.567-2.545 5.567-5.567v-2.386c0-.955.636-1.59 1.59-1.59.955 0 1.591.635 1.591 1.59v2.386c0 4.772-3.977 8.748-8.748 8.748ZM42.039 50.416c-.636 0-1.273-.477-1.59-1.114-.319-1.113-.478-2.386-.478-3.658 0-6.999 5.726-12.725 12.725-12.725h3.181v-4.772c0-.636.319-1.272.955-1.431.636-.319 1.272-.16 1.75.318l9.543 9.543c.636.637.636 1.591 0 2.227l-9.544 9.544c-.477.477-1.113.636-1.75.318-.636-.159-.954-.795-.954-1.431v-4.772h-3.18c-4.296 0-7.954 2.704-9.227 6.84-.158.636-.795 1.113-1.431 1.113Z" fill="url(#paint1_linear_13714_2236)"/></symbol><symbol id="filter" viewBox="0 0 17 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.725 4.113a2.608 2.608 0 0 0 4.957 0h7.409a.809.809 0 1 0 0-1.617H8.682a2.608 2.608 0 0 0-4.958 0H1.71a.809.809 0 1 0 0 1.617h2.016Zm2.478-1.797a.989.989 0 1 0 0 1.977.989.989 0 0 0 0-1.977ZM.9 10.495c0-.446.362-.808.809-.808h7.409a2.608 2.608 0 0 1 4.957 0h2.016a.809.809 0 1 1 0 1.618h-2.016a2.608 2.608 0 0 1-4.957 0H1.709a.809.809 0 0 1-.809-.81Zm9.708 0a.989.989 0 1 1 1.977 0 .989.989 0 0 1-1.977 0Z"/></symbol><symbol id="fingerprint" viewBox="0 0 16 16"><path d="M12.65 1.976a.372.372 0 0 1-.184-.048C10.93 1.136 9.602.8 8.01.8a9.152 9.152 0 0 0-4.456 1.128.407.407 0 0 1-.544-.16.405.405 0 0 1 .16-.544A10.045 10.045 0 0 1 8.01 0c1.704 0 3.192.376 4.824 1.216.2.104.272.344.168.536a.392.392 0 0 1-.352.224Zm-11.448 4.2a.399.399 0 0 1-.328-.632c.792-1.12 1.8-2 3-2.616 2.512-1.296 5.728-1.304 8.248-.008a8.303 8.303 0 0 1 3 2.6.4.4 0 0 1-.096.56.399.399 0 0 1-.56-.096 7.51 7.51 0 0 0-2.712-2.352c-2.296-1.176-5.232-1.176-7.52.008a7.59 7.59 0 0 0-2.72 2.368.349.349 0 0 1-.312.168Zm5 9.656a.375.375 0 0 1-.28-.12c-.696-.696-1.072-1.144-1.608-2.112-.552-.984-.84-2.184-.84-3.472 0-2.376 2.032-4.312 4.528-4.312 2.496 0 4.528 1.936 4.528 4.312 0 .224-.176.4-.4.4a.396.396 0 0 1-.4-.4c0-1.936-1.672-3.512-3.728-3.512s-3.728 1.576-3.728 3.512c0 1.152.256 2.216.744 3.08.512.92.864 1.312 1.48 1.936a.41.41 0 0 1 0 .568.439.439 0 0 1-.296.12Zm5.736-1.48c-.952 0-1.792-.24-2.48-.712-1.192-.808-1.904-2.12-1.904-3.512 0-.224.176-.4.4-.4.224 0 .4.176.4.4 0 1.128.576 2.192 1.552 2.848.568.384 1.232.568 2.032.568.192 0 .512-.024.832-.08a.399.399 0 0 1 .464.328.399.399 0 0 1-.328.464 5.463 5.463 0 0 1-.968.096ZM10.33 16a.468.468 0 0 1-.104-.016c-1.272-.352-2.104-.824-2.976-1.68a5.837 5.837 0 0 1-1.736-4.176c0-1.296 1.104-2.352 2.464-2.352 1.36 0 2.464 1.056 2.464 2.352 0 .856.744 1.552 1.664 1.552.92 0 1.664-.696 1.664-1.552 0-3.016-2.6-5.464-5.8-5.464-2.272 0-4.352 1.264-5.288 3.224-.312.648-.472 1.408-.472 2.24 0 .624.056 1.608.536 2.888a.39.39 0 0 1-.232.512.397.397 0 0 1-.512-.232 8.913 8.913 0 0 1-.584-3.168c0-.96.184-1.832.544-2.592 1.064-2.232 3.424-3.68 6.008-3.68 3.64 0 6.6 2.808 6.6 6.264 0 1.296-1.104 2.352-2.464 2.352-1.36 0-2.464-1.056-2.464-2.352 0-.856-.744-1.552-1.664-1.552-.92 0-1.664.696-1.664 1.552 0 1.368.528 2.648 1.496 3.608.76.752 1.488 1.168 2.616 1.48.216.056.336.28.28.488a.39.39 0 0 1-.376.304Z"/></symbol><symbol id="fitness" viewBox="0 0 16 16"><path d="M14.856 10.288 16 9.144 14.856 8 12 10.856 5.144 4 8 1.144 6.856 0 5.712 1.144 4.568 0 2.856 1.712 1.712.568.568 1.712l1.144 1.144L0 4.568l1.144 1.144L0 6.856 1.144 8 4 5.144 10.856 12 8 14.856 9.144 16l1.144-1.144L11.432 16l1.712-1.712 1.144 1.144 1.144-1.144-1.144-1.144L16 11.432l-1.144-1.144Z"/></symbol><symbol id="flag-outlined" viewBox="0 0 15 17"><path d="m7.368 2.382.377 1.883h4.932v5.647H9.514l-.376-1.883H2.324V2.382h5.044ZM8.912.5H.442v16h1.882V9.912h5.27l.377 1.882h6.588V2.382h-5.27L8.911.5Z"/></symbol><symbol id="flag" viewBox="0 0 15 17"><path d="m7.368 2.382.377 1.883h4.932v5.647H9.514l-.376-1.883H2.324V2.382h5.044ZM8.912.5H.442v16h1.882V9.912h5.27l.377 1.882h6.588V2.382h-5.27L8.911.5Z"/></symbol><symbol id="flash-auto" viewBox="0 0 15 17"><path d="M.286.5v9.143H2.57V16.5l5.334-9.143H4.857L7.905.5H.285Zm12.19 0h-1.524L8.514 7.357h1.448l.533-1.524h2.438l.534 1.524h1.447L12.476.5Zm-1.638 4.305.876-2.781.877 2.78h-1.753Z"/></symbol><symbol id="flashlight" viewBox="0 0 10 16"><path d="M9.8 0H.2v4.8l1.6 2.4V16h6.4V7.2l1.6-2.4V0ZM8.2 1.6v.8H1.8v-.8h6.4ZM6.6 6.72v7.68H3.4V6.712l-1.6-2.4V4h6.4v.312L6.6 6.72Z"/><path d="M5 10.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="folder-add" viewBox="0 0 16 14"><path d="M9.6 10.2h1.6V8.6h1.6V7h-1.6V5.4H9.6V7H8v1.6h1.6v1.6Zm-8 3.2a1.54 1.54 0 0 1-1.13-.47A1.54 1.54 0 0 1 0 11.8V2.2c0-.44.157-.817.47-1.13A1.54 1.54 0 0 1 1.6.6h4.8L8 2.2h6.4c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13v8c0 .44-.157.817-.47 1.13a1.54 1.54 0 0 1-1.13.47H1.6Zm0-1.6h12.8v-8H7.34l-1.6-1.6H1.6v9.6Z"/></symbol><symbol id="folder-moveto" viewBox="0 0 16 14"><path d="M14.4 2.2H8L6.4.6H1.6C.72.6 0 1.32 0 2.2v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6v-8c0-.88-.72-1.6-1.6-1.6Zm0 9.6H1.6V2.2h4.136l1.6 1.6H14.4v8ZM8.128 7H4.8v1.6h3.328L6.856 9.872 7.992 11 11.2 7.808 7.992 4.6 6.864 5.728 8.128 7Z"/></symbol><symbol id="folder-open" viewBox="0 0 17 12"><path d="M2.238 11.953c-.409 0-.76-.145-1.05-.437a1.433 1.433 0 0 1-.438-1.051v-8.93c0-.41.146-.76.437-1.051A1.433 1.433 0 0 1 2.238.046h4.465l1.489 1.489h5.953c.41 0 .76.146 1.052.437.291.291.437.642.437 1.051H7.578L6.09 1.535H2.238v8.93l1.786-5.954H16.75l-1.916 6.382c-.1.322-.282.58-.55.772a1.478 1.478 0 0 1-.883.288H2.238Zm1.563-1.488h9.6L14.741 6h-9.6L3.8 10.465Z"/></symbol><symbol id="folder" viewBox="0 0 16 14"><path d="M1.6 13.4a1.54 1.54 0 0 1-1.13-.47A1.54 1.54 0 0 1 0 11.8V2.2c0-.44.157-.817.47-1.13A1.54 1.54 0 0 1 1.6.6h4.8L8 2.2h6.4c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13v8c0 .44-.157.817-.47 1.13a1.54 1.54 0 0 1-1.13.47H1.6Z"/></symbol><symbol id="forbidden" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM1.6 8c0-3.536 2.864-6.4 6.4-6.4 1.48 0 2.84.504 3.92 1.352L2.952 11.92A6.322 6.322 0 0 1 1.6 8ZM8 14.4c-1.48 0-2.84-.504-3.92-1.352l8.968-8.968A6.322 6.322 0 0 1 14.4 8c0 3.536-2.864 6.4-6.4 6.4Z"/></symbol><symbol id="from-user" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM4.28 13.2A6.353 6.353 0 0 1 8 12c1.392 0 2.672.448 3.72 1.2A6.353 6.353 0 0 1 8 14.4a6.353 6.353 0 0 1-3.72-1.2Zm8.632-1.104a7.957 7.957 0 0 0-9.824 0A6.365 6.365 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 1.56-.56 2.984-1.488 4.096Z"/><path d="M8 3.2A2.803 2.803 0 0 0 5.2 6c0 1.544 1.256 2.8 2.8 2.8 1.544 0 2.8-1.256 2.8-2.8 0-1.544-1.256-2.8-2.8-2.8Zm0 4c-.664 0-1.2-.536-1.2-1.2 0-.664.536-1.2 1.2-1.2.664 0 1.2.536 1.2 1.2 0 .664-.536 1.2-1.2 1.2Z"/></symbol><symbol id="gear" viewBox="0 0 17 16"><path d="M7.245 16a.748.748 0 0 1-.52-.2.797.797 0 0 1-.26-.5l-.24-1.86a3.042 3.042 0 0 1-.49-.24 6.571 6.571 0 0 1-.45-.3l-1.74.72a.787.787 0 0 1-1-.32l-1.48-2.58a.752.752 0 0 1-.1-.56c.04-.2.14-.36.3-.48l1.5-1.14a1.91 1.91 0 0 1-.02-.27v-.54c0-.087.007-.177.02-.27l-1.5-1.14a.768.768 0 0 1-.3-.48.752.752 0 0 1 .1-.56l1.48-2.58a.787.787 0 0 1 1-.32l1.74.72c.147-.107.3-.207.46-.3.16-.093.32-.173.48-.24L6.465.7a.797.797 0 0 1 .26-.5.75.75 0 0 1 .52-.2h3c.2 0 .374.067.52.2.147.133.234.3.26.5l.24 1.86c.174.067.337.147.49.24.154.093.304.193.45.3l1.74-.72a.787.787 0 0 1 1 .32l1.48 2.58a.75.75 0 0 1 .1.56c-.04.2-.14.36-.3.48l-1.5 1.14c.014.093.02.183.02.27v.54a.984.984 0 0 1-.04.27l1.5 1.14c.16.12.26.28.3.48a.75.75 0 0 1-.1.56l-1.48 2.56a.832.832 0 0 1-.45.36.766.766 0 0 1-.57-.02l-1.7-.72a5.44 5.44 0 0 1-.46.3c-.16.093-.32.173-.48.24l-.24 1.86a.798.798 0 0 1-.26.5.748.748 0 0 1-.52.2h-3Zm.7-1.6h1.58l.28-2.12a4.486 4.486 0 0 0 1.15-.47c.354-.207.677-.457.97-.75l1.98.82.78-1.36-1.72-1.3a2.83 2.83 0 0 0 .14-.59 4.93 4.93 0 0 0 0-1.26 2.83 2.83 0 0 0-.14-.59l1.72-1.3-.78-1.36-1.98.84a4.445 4.445 0 0 0-.97-.77 4.486 4.486 0 0 0-1.15-.47l-.26-2.12h-1.58l-.28 2.12a4.484 4.484 0 0 0-1.15.47 4.78 4.78 0 0 0-.97.75l-1.98-.82-.78 1.36 1.72 1.28c-.066.2-.113.4-.14.6a4.848 4.848 0 0 0 0 1.26c.027.2.074.4.14.6l-1.72 1.3.78 1.36 1.98-.84c.294.307.617.563.97.77a4.5 4.5 0 0 0 1.15.47l.26 2.12Zm.84-3.6c.774 0 1.434-.273 1.98-.82.547-.547.82-1.207.82-1.98 0-.773-.273-1.433-.82-1.98a2.698 2.698 0 0 0-1.98-.82c-.786 0-1.45.273-1.99.82A2.715 2.715 0 0 0 5.985 8c0 .773.27 1.433.81 1.98.54.547 1.204.82 1.99.82Z"/></symbol><symbol id="globe" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM1.6 8c0-.488.064-.968.168-1.424L5.592 10.4v.8c0 .88.72 1.6 1.6 1.6v1.544C4.048 13.944 1.6 11.256 1.6 8Zm11.112 4.32a1.594 1.594 0 0 0-1.52-1.12h-.8V8.8c0-.44-.36-.8-.8-.8h-4.8V6.4h1.6c.44 0 .8-.36.8-.8V4h1.6c.88 0 1.6-.72 1.6-1.6v-.328A6.403 6.403 0 0 1 14.4 8a6.393 6.393 0 0 1-1.688 4.32Z"/></symbol><symbol id="gouv" viewBox="0 0 16 16"><g clip-path="url(#clip0_3250_157)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.547 11.767c-.14.185-.278.324-.418.463-.102.102-.295.223-.478.338-.232.144-.449.28-.449.357l-.363.169C1.967 13.497.402 14.22.003 14.5V16H15.2c-.043-.021-.142-.092-.3-.205-.532-.38-1.734-1.236-3.724-2.313a11.965 11.965 0 0 0-.96-.365c-.21-.072-.364-.125-.384-.145-.14-.093-.232-.603-.047-1.16.01-.026.018-.054.028-.084.038-.124.083-.266.158-.379v-.046a.971.971 0 0 1 .185-.278v-.047c.047 0 .047-.046.047-.046l.046-.046a.722.722 0 0 1 .175-.186c.036-.03.072-.062.103-.092a.676.676 0 0 1 .165-.051c.047-.01.099-.022.16-.042.25 0 .5.05.75.1.168.033.335.067.501.085.047 0 .093 0 .14.047.139 0 .324 0 .463-.047.186-.046.371-.139.464-.37.092-.186.139-.372.046-.557-.13-.163-.009-.257.107-.347a.57.57 0 0 0 .125-.117c.03-.091 0-.143-.037-.207-.019-.033-.04-.07-.056-.117-.019-.019-.045-.022-.073-.026-.04-.006-.085-.012-.112-.067.185-.093.463-.232.324-.463-.092-.14-.185-.325-.046-.464a.587.587 0 0 1 .203-.066c.122-.025.25-.051.307-.166.11-.221-.043-.443-.18-.64-.036-.051-.07-.1-.098-.148-.062-.124-.124-.206-.186-.288a2.716 2.716 0 0 1-.133-.19c-.089-.13-.198-.29-.238-.45a.753.753 0 0 1 .017-.333c.015-.074.03-.148.03-.223 0-.37-.093-.741-.186-1.112a1.3 1.3 0 0 1-.092-.278c-.024-.093-.047-.186-.093-.278a.694.694 0 0 1-.036-.093.421.421 0 0 0-.103-.186.14.14 0 0 1 0-.185c.092-.046.185-.14.278-.232.093-.139.046-.278-.093-.37-.106-.027-.136.037-.168.106-.025.051-.05.105-.11.125h-.093c0-.046.047-.093.093-.14 0-.045 0-.092-.046-.092a.354.354 0 0 1-.232-.092c-.232-.325-.603-.51-.974-.65.047 0 .093.012.14.024.046.011.092.023.139.023.185.046.37.046.51-.047.08-.04.125-.182.165-.31l.02-.06c.039-.078-.02-.19-.068-.278l-.025-.047c-.093-.185-.278-.324-.463-.417l-.371-.186C11.269.64 11.315 0 11.315 0H7.04S6.4.32 5.613.872l-.105.051c-.25.124-.52.256-.683.459-.186.232-.371.51-.464.788-.286.164-.465.436-.63.69l-.065.098a6.625 6.625 0 0 1-.162.271c-.195.315-.384.62-.348.98.039.353.111.672.189 1.014l.043.192c0 .045.004.09.01.136a.877.877 0 0 1-.01.328c.018.073.022.138.025.2.006.094.011.179.067.263a.686.686 0 0 1 .033.082c.022.062.041.118.106.15v.093c.024 0 .035.011.047.023.011.012.023.023.046.023v.093c.048.06.1.12.152.181.148.174.302.355.405.56.046.186-.232.093-.371.047-.222-.11-.356-.251-.495-.398l-.108-.112s-.046 0-.046.046c.032.066.1.132.165.195.12.116.233.226.113.315-.047.047-.105.035-.163.024-.057-.012-.115-.024-.162.023-.03.03-.02.062-.01.093a.15.15 0 0 1 .01.046.692.692 0 0 0-.291-.067c-.06-.004-.116-.007-.172-.026-.039-.019-.061-.062-.084-.105-.033-.063-.066-.127-.148-.127a6.564 6.564 0 0 0-.927-.185l-.245-.03C.998 7.24.655 7.194.282 7.27A.722.722 0 0 0 0 7.33v.4c.07-.018.139-.037.205-.056.106-.03.207-.06.308-.08.128-.016.25-.043.371-.07.214-.047.422-.093.645-.074-.323.021-.646.13-.97.237-.121.035-.237.056-.349.077a4.91 4.91 0 0 0-.21.043v.12c.54.025 1.076.115 1.58.27.185.046.417.139.602.278a.454.454 0 0 1 .116.093c.035.034.07.07.116.092a.45.45 0 0 0 .417.047h.14l.052-.013c.357-.09.747-.186.967-.45 0 .045 0 .045.047.045a1.29 1.29 0 0 0-.083.245.999.999 0 0 1-.15.358s0 .047.047.093h.047s-.047 0-.047.046c0 .023.012.023.03.023.017 0 .04 0 .063.024a.42.42 0 0 0-.325.139c0 .046.047.046.093.046-.023.023-.046.035-.07.046a.242.242 0 0 0-.069.047s0 .046.046.046c0 0-.046 0-.046.046v.093c-.046 0-.093.047-.139.093.062.062.124.041.185.02a.3.3 0 0 1 .093-.02c-.139.046-.266.104-.394.162a4.007 4.007 0 0 1-.394.162c-.023 0-.023.024-.023.047s0 .046-.023.046c.025.025.05.01.081-.01a.196.196 0 0 1 .104-.036c-.114.065-.234.13-.358.198-.228.124-.468.254-.708.405 0 0-.046.046-.046.092h-.093c-.026 0-.038.03-.05.063-.011.027-.023.056-.043.076.072.048.144.022.209-.002.061-.022.117-.043.162.002.046 0-.046.047-.093.047 0 0 0 .046-.046.046h-.278c-.013.012-.025.021-.037.03-.031.023-.056.041-.056.11-.046 0-.093 0-.14.046a8.3 8.3 0 0 1 .362-.023c.419-.02.868-.041 1.262-.256.417-.232.788-.463 1.112-.834 0 0 .047 0 .047.046a1.266 1.266 0 0 1-.418.556.622.622 0 0 0-.185.116.622.622 0 0 1-.186.116c-.046.024-.08.047-.115.07-.035.023-.07.046-.116.07-.356.124-.739.18-1.12.236-.613.09-1.222.18-1.708.552 0-.047 0-.047-.047-.047l-.139.14h.093c.139-.093.278-.14.417-.186L.7 11.72l-.278.14a.64.64 0 0 0-.186.138v.047c-.046 0-.046.046-.046.046v.046c-.047 0-.047.047-.047.047v.046h.093c.068.034.111-.032.148-.088.013-.02.025-.039.038-.051.023-.023.046-.035.07-.046a.242.242 0 0 0 .069-.047l-.047.047c0 .046.047.046.047.046a2.55 2.55 0 0 0-.418.325H.19v.046c-.023.023-.035.046-.047.07a.243.243 0 0 1-.046.069c-.029 0-.04.018-.055.042-.009.015-.02.033-.038.05L0 12.698v.136h.05c.139-.093.278-.232.417-.371h.046c.07-.046.14-.104.209-.162.07-.058.139-.116.209-.163a.64.64 0 0 0 .185-.139l.046-.046c.113-.075.255-.12.38-.158l.084-.027h.046c.14-.024.29-.047.44-.07.151-.023.302-.046.441-.07.186 0 .371 0 .603-.046.11-.027.204-.072.291-.112.06-.028.116-.055.172-.073v.046c.186-.07.348-.185.51-.301.163-.116.325-.232.51-.302.019 0 .037.015.056.03.028.022.056.045.083.017l.081-.066c.206-.17.42-.346.708-.305 0 0 0 .046.046.046-.046.023-.093.058-.14.093a.966.966 0 0 1-.138.093s0 .046.046.046c.07-.023.116-.058.162-.093a.542.542 0 0 1 .163-.092s0 .046-.047.092c-.046.047-.092.081-.139.116-.046.035-.092.07-.139.116-.216.154-.391.35-.566.546a7.066 7.066 0 0 1-.268.289ZM1.634 7.446c.06 0 .118.002.177.009-.064-.032-.128-.02-.177-.01Zm10.55-1.99c-.041-.01-.088-.021-.127-.04-.093-.024-.162-.024-.232-.024s-.139 0-.231-.023a2.36 2.36 0 0 1-.186.036c-.123.02-.247.041-.37.103.138-.093.277-.186.463-.232.07 0 .127-.023.185-.046a.486.486 0 0 1 .186-.047c.139-.046.278-.092.417-.046.044.015.092.025.14.034.102.022.2.042.23.105.047.186-.092.325-.231.417 0 .024.023.047.046.07.024.023.047.046.047.07 0 .046-.093.092-.14.092-.03 0-.061.041-.092.083-.015.02-.03.04-.046.056.023 0 .023.023.023.047 0 .023 0 .046.023.046-.043.064-.036.147-.03.224.006.089.012.168-.063.193-.139.047-.37.047-.556 0a.304.304 0 0 1 .111-.026c.056-.005.111-.01.167-.067v-.046c0-.046 0-.046-.046-.046 0 .046-.047.046-.047.046a.1.1 0 0 0-.092-.093c-.14.047-.279-.046-.371-.139l.045-.024c.065-.036.11-.06.187-.022.048 0 .058-.038.07-.08.012-.04.024-.083.069-.106h.046c.085-.106.19-.173.283-.233.11-.07.202-.13.227-.23 0-.027-.047-.038-.105-.052Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.039V8.4l.027.004c.07.012.139.024.208.07-.036.036-.066.044-.093.04l.162.047c.686.196 1.358.39 1.925.794-.557.278-1.113.417-1.716.51-.092 0-.139 0-.185-.047 0 .047 0 .093-.046.093-.093 0-.186 0-.232.046a.188.188 0 0 1-.05.08Zm.089-1.542c-.026-.01-.053-.022-.086-.022l.104.03a.668.668 0 0 1-.018-.008Z"/><path d="M.189 11.488a2.37 2.37 0 0 0-.189.008v-.054a.376.376 0 0 1 .189.046ZM0 6.927a.686.686 0 0 0 .138-.121c0 .046 0 .046-.046.093.046.046.046.046.092.046.031-.015.062-.026.093-.036a.421.421 0 0 0 .185-.103A.929.929 0 0 0 0 6.71v.216ZM.648 10.422a.22.22 0 0 0-.039.005c-.046.01-.1.02-.1-.051.034-.102.118-.13.197-.155.028-.01.056-.018.081-.03.046-.047.14-.094.185-.047.028.055.072.061.113.066.028.004.054.008.073.027-.1.133-.224.146-.355.16-.05.006-.103.012-.155.025Z"/></g></symbol><symbol id="graph-circle" viewBox="0 0 16 16"><path d="M8.8 0v2.424c2.712.392 4.8 2.712 4.8 5.536 0 .72-.144 1.4-.384 2.032l2.08 1.224A7.9 7.9 0 0 0 16 7.96C16 3.816 12.84.4 8.8 0ZM8 13.56a5.596 5.596 0 0 1-5.6-5.6c0-2.824 2.088-5.144 4.8-5.536V0A7.993 7.993 0 0 0 0 7.96c0 4.416 3.576 8 7.992 8a7.98 7.98 0 0 0 6.448-3.272l-2.08-1.224A5.56 5.56 0 0 1 8 13.56Z"/></symbol><symbol id="grid" viewBox="0 0 16 16"><path d="M0 7.111V0h7.111v7.111H0ZM0 16V8.889h7.111V16H0Zm8.889-8.889V0H16v7.111H8.889Zm0 8.889V8.889H16V16H8.889ZM1.778 5.333h3.555V1.778H1.778v3.555Zm8.889 0h3.555V1.778h-3.555v3.555Zm0 8.89h3.555v-3.556h-3.555v3.555Zm-8.89 0h3.556v-3.556H1.778v3.555Z"/></symbol><symbol id="group-list" viewBox="0 0 16 13"><path d="M16 2.456H8.8v1.6H16v-1.6Zm0 6.4H8.8v1.6H16v-1.6Zm-13.168-3.2L0 2.824l1.128-1.128 1.696 1.696L6.216 0l1.128 1.128-4.512 4.528Zm0 6.4L0 9.224l1.128-1.128 1.696 1.696L6.216 6.4l1.128 1.128-4.512 4.528Z"/></symbol><symbol id="groups" viewBox="0 0 16 16"><path d="M7.111 3.556h5.333v1.777H7.111V3.556Zm0 3.555h5.333V8.89H7.111V7.11Zm0 3.556h5.333v1.777H7.111v-1.777ZM3.556 3.556h1.777v1.777H3.556V3.556Zm0 3.555h1.777V8.89H3.556V7.11Zm0 3.556h1.777v1.777H3.556v-1.777ZM15.2 0H.8C.356 0 0 .356 0 .8v14.4c0 .356.356.8.8.8h14.4c.356 0 .8-.444.8-.8V.8c0-.444-.444-.8-.8-.8Zm-.978 14.222H1.778V1.778h12.444v12.444Z"/></symbol><symbol id="growth" viewBox="0 0 16 10"><path d="m11.2.2 1.832 1.832-3.904 3.904-3.2-3.2L0 8.672 1.128 9.8l4.8-4.8 3.2 3.2 5.04-5.032L16 5V.2h-4.8Z"/></symbol><symbol id="hand" viewBox="0 0 13 16"><path d="M12.413 4.667a1.667 1.667 0 0 0-2-1.634v-.366A1.667 1.667 0 0 0 8.3 1.06 1.673 1.673 0 0 0 6.746 0c-.82 0-1.5.593-1.64 1.373A1.667 1.667 0 0 0 3.08 3v3.927a1.935 1.935 0 0 0-.813-.44l-.513-.14a1.315 1.315 0 0 0-1.46.553c-.253.38-.267.873-.1 1.3L1.9 12.487A5.57 5.57 0 0 0 7.08 16a5.332 5.332 0 0 0 5.333-5.333v-6Zm-1.333 6c0 2.206-1.794 4-4 4-1.74 0-3.3-1.06-3.94-2.674l-1.734-4.36.354.094c.306.08.553.306.666.6L3.08 10h1.333V3a.33.33 0 0 1 .333-.333A.33.33 0 0 1 5.08 3v5h1.333V1.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334V8h1.333V2.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334V8h1.333V4.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334v6Z"/></symbol><symbol id="heart" viewBox="0 0 16 16"><path d="m8 15.515-1.16-1.056C2.72 10.723 0 8.259 0 5.235c0-2.464 1.936-4.4 4.4-4.4A4.79 4.79 0 0 1 8 2.507 4.79 4.79 0 0 1 11.6.835c2.464 0 4.4 1.936 4.4 4.4 0 3.024-2.72 5.488-6.84 9.232L8 15.515Z"/></symbol><symbol id="help-outlined" viewBox="0 0 16 16"><path d="M7.2 12.8h1.6v-1.6H7.2v1.6ZM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4ZM8 3.2a3.2 3.2 0 0 0-3.2 3.2h1.6c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 1.6-2.4 1.4-2.4 4h1.6c0-1.8 2.4-2 2.4-4A3.2 3.2 0 0 0 8 3.2Z"/></symbol><symbol id="help" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm.8 13.6H7.2V12h1.6v1.6Zm1.656-6.2-.72.736C9.16 8.72 8.8 9.2 8.8 10.4H7.2V10c0-.88.36-1.68.936-2.264l.992-1.008C9.424 6.44 9.6 6.04 9.6 5.6 9.6 4.72 8.88 4 8 4c-.88 0-1.6.72-1.6 1.6H4.8a3.2 3.2 0 1 1 6.4 0c0 .704-.288 1.344-.744 1.8Z"/></symbol><symbol id="history" viewBox="0 0 21 18"><path d="M12 0a9 9 0 0 0-9 9H0l3.89 3.89.07.14L8 9H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 12 18a9 9 0 0 0 0-18Zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V5H11Z"/></symbol><symbol id="home" viewBox="0 0 20 17"><path d="m10 2.69 5 4.5V15h-2V9H7v6H5V7.19l5-4.5ZM10 0 0 9h3v8h6v-6h2v6h6V9h3L10 0Z"/></symbol><symbol id="hourglass" viewBox="0 0 12 20"><path d="m0 0 .01 6L4 10 .01 14.01 0 20h12v-6l-4-4 4-3.99V0H0Zm10 14.5V18H2v-3.5l4-4 4 4Z"/></symbol><symbol id="image" viewBox="0 0 16 16"><path d="M14.222 1.778v12.444H1.778V1.778h12.444Zm0-1.778H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm-4.32 7.876-2.666 3.44-1.903-2.303-2.666 3.431h10.666l-3.43-4.568Z"/></symbol><symbol id="info-outlined" viewBox="0 0 16 16"><path d="M7.2 4h1.6v1.6H7.2V4Zm0 3.2h1.6V12H7.2V7.2ZM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Z"/></symbol><symbol id="info" viewBox="0 0 16 16"><path d="M8 12a.774.774 0 0 0 .57-.23.774.774 0 0 0 .23-.57V8a.774.774 0 0 0-.23-.57A.774.774 0 0 0 8 7.2a.774.774 0 0 0-.57.23.774.774 0 0 0-.23.57v3.2c0 .227.077.417.23.57.153.153.343.23.57.23Zm0-6.4a.774.774 0 0 0 .57-.23.774.774 0 0 0 .23-.57.774.774 0 0 0-.23-.57A.774.774 0 0 0 8 4a.774.774 0 0 0-.57.23.774.774 0 0 0-.23.57c0 .227.077.417.23.57.153.153.343.23.57.23ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z"/></symbol><symbol id="justice" viewBox="0 0 16 16"><path d="M8.8 4.664A2.413 2.413 0 0 0 10.264 3.2H12.8l-2.4 5.6c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4l-2.4-5.6h1.6V1.6h-4.936A2.392 2.392 0 0 0 8 0a2.392 2.392 0 0 0-2.264 1.6H.8v1.6h1.6L0 8.8c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4L3.2 3.2h2.536c.24.68.784 1.224 1.464 1.464V13.6H0v1.6h16v-1.6H8.8V4.664ZM14.696 8.8h-2.992L13.2 5.312 14.696 8.8Zm-10.4 0H1.304L2.8 5.312 4.296 8.8ZM8 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="key2" viewBox="0 0 16 16"><g clip-path="url(#clip0_1426_12815)"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.873 0C8.366 0 7.06.545 5.987 1.618c-.866.866-1.39 1.885-1.548 3.048-.135.991-.032 1.936.314 2.823L.025 12.218 0 14.157a1.16 1.16 0 0 0 1.152 1.174l3.495.021a1.16 1.16 0 0 0 1.167-1.159V13.04l.001-.001.002-.001h1.156c.64 0 1.16-.52 1.16-1.16v-1.16a5.32 5.32 0 0 0 2.663.21 5.382 5.382 0 0 0 2.963-1.537c1.074-1.073 1.619-2.38 1.619-3.886 0-1.508-.545-2.814-1.619-3.887C12.686.545 11.381 0 9.873 0ZM6.804 2.435c.859-.859 1.872-1.28 3.07-1.28 1.197 0 2.21.421 3.068 1.28.86.86 1.28 1.872 1.28 3.07 0 1.197-.42 2.21-1.28 3.069a4.228 4.228 0 0 1-2.34 1.215 4.184 4.184 0 0 1-2.592-.37l-.37-.18-.663.663v1.978l-.001.001-.002.001H5.817c-.64 0-1.16.52-1.16 1.16v1.153l-.002.002h-.001l-3.496-.022h-.002l-.001-.003.018-1.47L6.137 7.74l-.177-.37c-.373-.78-.502-1.625-.376-2.548.122-.895.52-1.687 1.22-2.387Zm3.94 3.63a1.454 1.454 0 1 0 0-2.909 1.454 1.454 0 0 0 0 2.908Z"/></g></symbol><symbol id="key" viewBox="0 0 16 10"><path d="M14.546 3.545H8.473A4.357 4.357 0 0 0 4.363.636 4.367 4.367 0 0 0 0 5a4.367 4.367 0 0 0 4.364 4.364 4.357 4.357 0 0 0 4.109-2.91h.254l1.455 1.455 1.454-1.455 1.455 1.455L16 4.971l-1.454-1.426ZM4.364 7.182c-1.2 0-2.182-.982-2.182-2.182s.982-2.182 2.182-2.182S6.545 3.8 6.545 5s-.981 2.182-2.181 2.182Z"/></symbol><symbol id="label-outlined" viewBox="0 0 20 14"><path d="M15.13.84C14.77.33 14.17 0 13.5 0L2.5.01C1.4.01.5.9.5 2v10c0 1.1.9 1.99 2 1.99l11 .01c.67 0 1.27-.33 1.63-.84L19.5 7 15.13.84ZM13.5 12h-11V2h11l3.55 5-3.55 5Z"/></symbol><symbol id="label" viewBox="0 0 17 12"><path d="M12.82.813a1.679 1.679 0 0 0-1.373-.708L2.184.114C1.258.114.5.864.5 1.79v8.42c0 .927.758 1.676 1.684 1.676l9.263.009a1.68 1.68 0 0 0 1.373-.707L16.5 6 12.82.813Zm-1.373 9.398H2.184V1.79h9.263L14.437 6l-2.99 4.21Z"/></symbol><symbol id="laptop" viewBox="0 0 16 12"><path d="M13.333 10c.734 0 1.334-.6 1.334-1.334V2c0-.734-.6-1.333-1.334-1.333H2.667c-.734 0-1.334.6-1.334 1.333v6.666c0 .734.6 1.334 1.334 1.334H0v1.333h16V10h-2.667ZM2.667 2h10.666v6.666H2.667V2Z"/></symbol><symbol id="laudry" viewBox="0 0 13 16"><path d="M11.2.008 1.6 0C.712 0 0 .712 0 1.6v12.8c0 .888.712 1.6 1.6 1.6h9.6c.888 0 1.6-.712 1.6-1.6V1.6c0-.888-.712-1.592-1.6-1.592Zm0 14.392H1.6L1.592 1.6H11.2v12.8Z"/><path d="M3.2 4a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Zm2.4 0a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Zm.8 9.6c2.208 0 4-1.792 4-4s-1.792-4-4-4-4 1.792-4 4 1.792 4 4 4Zm1.888-5.888a2.675 2.675 0 0 1 0 3.776 2.675 2.675 0 0 1-3.776 0l3.776-3.776Z"/></symbol><symbol id="left" viewBox="0 0 16 16"><path d="m6.8 8 3.9 3.9a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275L4.7 8.7a.877.877 0 0 1-.213-.325A1.107 1.107 0 0 1 4.425 8c0-.134.02-.259.062-.375A.877.877 0 0 1 4.7 7.3l4.6-4.6a.948.948 0 0 1 .7-.275c.283 0 .517.091.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7L6.8 8Z"/></symbol><symbol id="library" viewBox="0 0 16 13"><path d="M14.546.682C13.738.427 12.85.318 12 .318c-1.418 0-2.945.291-4 1.091C6.945.61 5.418.32 4 .32c-1.418 0-2.945.29-4 1.09v10.655c0 .182.182.363.364.363.072 0 .109-.036.181-.036.982-.473 2.4-.8 3.455-.8 1.418 0 2.945.291 4 1.091.982-.618 2.764-1.09 4-1.09 1.2 0 2.436.217 3.454.763.073.036.11.036.182.036a.391.391 0 0 0 .364-.364V1.41c-.436-.327-.91-.545-1.454-.727Zm0 9.818c-.8-.254-1.673-.364-2.546-.364-1.236 0-3.018.473-4 1.091V2.864c.982-.618 2.764-1.091 4-1.091.873 0 1.745.109 2.546.364V10.5Z"/><path d="M12 4.682c.64 0 1.258.065 1.818.19V3.765A9.82 9.82 0 0 0 12 3.59c-1.236 0-2.356.211-3.273.604v1.207c.822-.465 1.964-.72 3.273-.72ZM8.727 6.13v1.207c.822-.466 1.964-.72 3.273-.72.64 0 1.258.065 1.818.189V5.7A9.82 9.82 0 0 0 12 5.526c-1.236 0-2.356.218-3.273.603ZM12 7.467c-1.236 0-2.356.211-3.273.604v1.207c.822-.465 1.964-.72 3.273-.72.64 0 1.258.066 1.818.19V7.641A9.235 9.235 0 0 0 12 7.467Z"/></symbol><symbol id="lightbulb" viewBox="0 0 12 16"><path d="M3.6 15.2c0 .44.36.8.8.8h3.2c.44 0 .8-.36.8-.8v-.8H3.6v.8ZM6 0A5.606 5.606 0 0 0 .4 5.6c0 1.904.952 3.576 2.4 4.592V12c0 .44.36.8.8.8h4.8c.44 0 .8-.36.8-.8v-1.808A5.597 5.597 0 0 0 11.6 5.6C11.6 2.512 9.088 0 6 0Zm2.28 8.88-.68.48v1.84H4.4V9.36l-.68-.48A3.997 3.997 0 0 1 2 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 1.304-.64 2.528-1.72 3.28Z"/></symbol><symbol id="lightning" viewBox="0 0 9 16"><path d="M3.554 16h-.89l.89-6.222H.443c-.783 0-.294-.667-.276-.694C1.314 7.058 3.038 4.036 5.34 0h.89l-.89 6.222h3.12c.356 0 .552.17.356.587C5.305 12.933 3.554 16 3.554 16Z"/></symbol><symbol id="link-out" viewBox="0 0 16 16"><path d="M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222ZM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778Z"/></symbol><symbol id="link" viewBox="0 0 16 8"><path d="M12 0H8.8v1.6H12c1.32 0 2.4 1.08 2.4 2.4 0 1.32-1.08 2.4-2.4 2.4H8.8V8H12c2.208 0 4-1.792 4-4s-1.792-4-4-4ZM7.2 6.4H4C2.68 6.4 1.6 5.32 1.6 4c0-1.32 1.08-2.4 2.4-2.4h3.2V0H4C1.792 0 0 1.792 0 4s1.792 4 4 4h3.2V6.4ZM4.8 3.2h6.4v1.6H4.8V3.2Z"/></symbol><symbol id="list-min" viewBox="0 0 16 10"><path d="M0 5.889h1.778V4.111H0V5.89Zm0 3.556h1.778V7.667H0v1.778Zm0-7.112h1.778V.556H0v1.777ZM3.556 5.89H16V4.111H3.556V5.89Zm0 3.556H16V7.667H3.556v1.778Zm0-8.89v1.778H16V.556H3.556ZM0 5.89h1.778V4.111H0V5.89Zm0 3.556h1.778V7.667H0v1.778Zm0-7.112h1.778V.556H0v1.777ZM3.556 5.89H16V4.111H3.556V5.89Zm0 3.556H16V7.667H3.556v1.778Zm0-8.89v1.778H16V.556H3.556Z"/></symbol><symbol id="list" viewBox="0 0 16 16"><path d="M3 4.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6.25 3a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM6.25 7.25a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM6.25 11.5a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM4 12.25a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM3 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/></symbol><symbol id="location" viewBox="0 0 12 16"><path d="M5.6 0A5.596 5.596 0 0 0 0 5.6C0 9.8 5.6 16 5.6 16s5.6-6.2 5.6-10.4C11.2 2.504 8.696 0 5.6 0Zm-4 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 2.304-2.304 5.752-4 7.904-1.664-2.136-4-5.624-4-7.904Z"/><path d="M5.6 7.6a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/></symbol><symbol id="lock-screen" viewBox="0 0 12 16"><path d="M4.545 10.91h2.91a.73.73 0 0 0 .727-.728V8a.73.73 0 0 0-.727-.727v-.728a1.454 1.454 0 1 0-2.91 0v.728A.73.73 0 0 0 3.818 8v2.182c0 .4.327.727.727.727Zm.582-4.365c0-.48.393-.872.873-.872s.873.392.873.872v.728H5.127v-.728ZM9.637 0H2.363A1.46 1.46 0 0 0 .909 1.455v13.09c0 .8.655 1.455 1.455 1.455h7.272c.8 0 1.455-.655 1.455-1.454V1.455A1.46 1.46 0 0 0 9.636 0Zm0 13.09H2.363V2.91h7.272v10.18Z"/></symbol><symbol id="lock" viewBox="0 0 14 17"><path d="M11.572 5.833h-.762V4.31A3.81 3.81 0 0 0 7 .5a3.81 3.81 0 0 0-3.81 3.81v1.523h-.76c-.838 0-1.524.686-1.524 1.524v7.62c0 .837.685 1.523 1.524 1.523h9.143c.838 0 1.523-.686 1.523-1.524V7.357c0-.838-.686-1.524-1.524-1.524ZM4.714 4.31A2.283 2.283 0 0 1 7 2.024 2.283 2.283 0 0 1 9.286 4.31v1.523H4.714V4.31Zm6.857 10.666H2.43V7.357h9.143v7.62ZM7 12.69c.838 0 1.524-.685 1.524-1.523 0-.838-.686-1.524-1.524-1.524s-1.524.686-1.524 1.524S6.162 12.69 7 12.69Z"/></symbol><symbol id="logout" viewBox="0 0 16 16"><path d="m12.444 4.444-1.253 1.254 1.405 1.413H5.333V8.89h7.263l-1.405 1.404 1.253 1.263L16 8l-3.556-3.556ZM1.778 1.778H8V0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16H8v-1.778H1.778V1.778Z"/></symbol><symbol id="magic-trick" viewBox="0 0 17 17"><path d="m14.216 5.071.717-1.57 1.57-.715-1.57-.716L14.217.5 13.5 2.07l-1.57.716 1.57.716.716 1.57Zm-1.744 1.616L10.316 4.53a.78.78 0 0 0-.541-.22.78.78 0 0 0-.541.22l-8.51 8.511a.759.759 0 0 0 0 1.074l2.155 2.156a.756.756 0 0 0 .541.229.78.78 0 0 0 .541-.221l8.51-8.51a.768.768 0 0 0 0-1.082Zm-2.697-.534 1.074 1.075-.892.891-1.074-1.074.892-.892Zm-6.355 8.51L2.346 13.59l5.463-5.47 1.074 1.074-5.463 5.47Z"/></symbol><symbol id="magnet" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M11 3h4v6A7 7 0 1 1 1 9V3h4v6c0 1.654 1.346 3 3 3s3-1.346 3-3V3zm0-1V0h4.001v2H11zM1 2V0h4v2H1z"/>\n</symbol><symbol id="magnifier" viewBox="0 0 17 17"><path d="M12.18 10.808h-.723l-.256-.247a5.92 5.92 0 0 0 1.436-3.87 5.946 5.946 0 1 0-5.946 5.947 5.92 5.92 0 0 0 3.87-1.437l.247.256v.723l4.574 4.565 1.363-1.363-4.565-4.574Zm-5.489 0a4.111 4.111 0 0 1-4.116-4.117A4.111 4.111 0 0 1 6.69 2.575a4.111 4.111 0 0 1 4.117 4.116 4.111 4.111 0 0 1-4.117 4.117Z"/></symbol><symbol id="matrix" viewBox="0 0 16 10"><path d="M3 1.111H1.333V8.89H3V10H0V0h3v1.111ZM16 10h-3V8.889h1.667V1.11H13V0h3v10ZM9.807 3.667c.587 0 1.043.167 1.368.503.328.332.492.79.492 1.374V9h-1.23V5.72c0-.688-.311-1.032-.931-1.032a.983.983 0 0 0-.531.162.945.945 0 0 0-.36.372V9h-1.23V5.53c0-.258-.08-.462-.241-.612-.161-.153-.387-.23-.68-.23-.153 0-.323.057-.507.171-.18.114-.312.24-.394.377V9h-1.23V3.765h.847l.25.459c.342-.372.784-.557 1.325-.557.699 0 1.226.188 1.58.566.154-.172.369-.309.644-.41.276-.104.552-.156.828-.156Z"/></symbol><symbol id="merge" viewBox="0 0 14 16"><path d="M2.031 16 .778 14.747l4.293-4.294a3.559 3.559 0 0 0 1.04-2.515V3.404L4.698 4.81 3.444 3.556 7 0l3.556 3.556-1.254 1.253L7.89 3.404v4.534c0 .942.373 1.849 1.04 2.515l4.293 4.294L11.97 16 7 11.031 2.031 16Z"/></symbol><symbol id="moped" viewBox="0 0 16 12"><path d="M13.6 1.6C13.6.72 12.88 0 12 0H9.6v1.6H12v2.12L9.216 7.2H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.4v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.28V1.6Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 9.6c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4.8h-4v1.6h4V.8Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="mosaic-min" viewBox="0 0 16 16"><path d="M0 1.778v12.444C0 15.2.791 16 1.778 16H7.11V0H1.778C.79 0 0 .8 0 1.778Zm5.333 12.444H1.778V1.778h3.555v12.444ZM14.222 0H8.89v7.111H16V1.778C16 .8 15.2 0 14.222 0Zm0 5.333h-3.555V1.778h3.555v3.555ZM8.889 16h5.333C15.2 16 16 15.2 16 14.222V8.89H8.889V16Zm1.778-5.333h3.555v3.555h-3.555v-3.555Z"/></symbol><symbol id="mosaic" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="m9.289 1.92.02-.02.737-.737.02-.02c.241-.24.454-.453.645-.615.203-.173.432-.333.718-.426.418-.136.87-.136 1.288 0 .286.093.515.253.718.426.191.162.404.374.644.615l.02.02.738.737.02.02c.24.241.454.454.615.645.173.203.333.432.426.718.136.419.136.87 0 1.288a2.117 2.117 0 0 1-.426.718c-.162.191-.374.404-.615.644l-.02.02-.737.738-.02.02c-.241.24-.454.454-.645.615a2.118 2.118 0 0 1-.718.426c-.418.136-.87.136-1.288 0a2.117 2.117 0 0 1-.718-.426c-.191-.161-.404-.374-.644-.615l-.02-.02-.738-.737-.02-.02c-.24-.241-.454-.454-.615-.645a2.118 2.118 0 0 1-.426-.718 2.084 2.084 0 0 1 0-1.288c.093-.286.253-.515.426-.718.161-.191.374-.404.615-.644Zm.576 1.657c-.11.129-.126.177-.13.189a.521.521 0 0 0 0 .322c.004.012.02.06.13.19.116.136.283.303.55.57l.737.737c.267.267.434.434.57.55.13.11.178.126.19.13a.521.521 0 0 0 .322 0c.011-.004.06-.02.19-.13.136-.116.303-.283.57-.55l.737-.737c.267-.267.434-.434.55-.57.11-.13.126-.178.13-.19a.521.521 0 0 0 0-.322c-.004-.012-.02-.06-.13-.19a11.036 11.036 0 0 0-.55-.57l-.737-.737a10.98 10.98 0 0 0-.57-.55c-.13-.11-.178-.126-.19-.13a.521.521 0 0 0-.322 0c-.012.004-.06.02-.19.13a10.98 10.98 0 0 0-.57.55l-.737.737c-.267.267-.434.434-.55.57ZM3.91 7.314h.028c.34 0 .641 0 .89-.02.266-.022.542-.07.81-.207.392-.2.71-.519.91-.91a2.12 2.12 0 0 0 .207-.81c.02-.249.02-.55.02-.89V3.376c0-.34 0-.64-.02-.89a2.119 2.119 0 0 0-.206-.808 2.085 2.085 0 0 0-.911-.911 2.118 2.118 0 0 0-.81-.207c-.249-.02-.55-.02-.89-.02H2.837c-.34 0-.64 0-.89.02-.266.022-.54.07-.809.207-.392.2-.71.519-.91.91a2.118 2.118 0 0 0-.208.81c-.02.249-.02.55-.02.89v1.101c0 .34 0 .64.02.89.022.265.07.54.207.808.2.392.519.711.911.911.268.137.543.185.809.207.25.02.55.02.89.02H3.91Zm1.018-1.62c-.011.006-.057.028-.226.042a11.01 11.01 0 0 1-.792.015H2.866c-.377 0-.614 0-.792-.015-.169-.014-.215-.036-.226-.042a.521.521 0 0 1-.228-.228c-.005-.01-.028-.057-.041-.226a10.986 10.986 0 0 1-.016-.792V3.406c0-.378.001-.614.016-.792.013-.17.036-.216.041-.226a.521.521 0 0 1 .228-.228c.01-.006.057-.028.226-.042.178-.014.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.042.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.414.015.792v1.042c0 .378 0 .614-.015.792-.014.17-.036.216-.041.226a.521.521 0 0 1-.228.228ZM3.909 16h.028c.34 0 .642 0 .89-.02.266-.022.542-.07.81-.207.392-.2.71-.519.91-.911.137-.268.186-.543.207-.809.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.119 2.119 0 0 0-.206-.809 2.085 2.085 0 0 0-.911-.91 2.117 2.117 0 0 0-.81-.207c-.248-.02-.55-.02-.89-.02H2.838c-.34 0-.64 0-.89.02-.266.021-.54.07-.809.206-.392.2-.71.52-.91.911a2.118 2.118 0 0 0-.208.81c-.02.248-.02.55-.02.89V13.162c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.911.91.268.137.543.186.809.208.25.02.55.02.89.02H3.91Zm1.018-1.62c-.011.005-.057.028-.226.041a10.95 10.95 0 0 1-.792.016H2.866c-.377 0-.614-.001-.792-.016-.169-.013-.215-.036-.226-.041a.521.521 0 0 1-.228-.228c-.005-.01-.028-.057-.041-.226a10.985 10.985 0 0 1-.016-.792V12.09c0-.377.001-.614.016-.792.013-.168.036-.215.041-.226a.521.521 0 0 1 .228-.228c.01-.005.057-.027.226-.041.178-.015.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.041.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.041.226a.521.521 0 0 1-.228.228ZM12.594 16h.03c.34 0 .64 0 .89-.02.265-.022.54-.07.808-.207.392-.2.711-.519.911-.911a2.12 2.12 0 0 0 .207-.809c.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.12 2.12 0 0 0-.207-.809 2.085 2.085 0 0 0-.91-.91 2.117 2.117 0 0 0-.81-.207c-.249-.02-.55-.02-.89-.02h-1.101c-.34 0-.64 0-.89.02-.265.021-.54.07-.808.206-.392.2-.711.52-.911.911a2.118 2.118 0 0 0-.207.81c-.02.248-.02.55-.02.89V13.162c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.91.91.269.137.544.186.81.208.249.02.55.02.89.02h1.071Zm1.018-1.62c-.01.005-.057.028-.226.041-.178.015-.414.016-.792.016h-1.042c-.378 0-.614-.001-.792-.016-.17-.013-.216-.036-.226-.041a.521.521 0 0 1-.228-.228c-.006-.01-.028-.057-.042-.226a11.009 11.009 0 0 1-.015-.792V12.09c0-.377 0-.614.015-.792.014-.168.036-.215.042-.226a.521.521 0 0 1 .228-.228c.01-.005.057-.027.226-.041.178-.015.414-.015.792-.015h1.042c.378 0 .614 0 .792.015.17.014.216.036.226.041.098.05.178.13.228.228.006.01.028.057.042.226.014.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.042.226a.521.521 0 0 1-.228.228Z"/></symbol><symbol id="motorcycle" viewBox="0 0 16 10"><path d="M2.78 4.333h-.113.113Zm6.16-4H6v1.334h2.393L9.727 3H7.333L4.667 4.333 3.333 3H0v1.333h2.667a2.666 2.666 0 1 0 0 5.334A2.666 2.666 0 0 0 5.333 7l1.334 1.334h2l2.326-4.067.674.673c-.607.487-1 1.227-1 2.06A2.666 2.666 0 1 0 16 7a2.666 2.666 0 0 0-2.667-2.667c-.12 0-.24.02-.353.034L11.607 3h1.726V1l-2.48 1.24L8.94.333Zm4.393 8C12.6 8.334 12 7.734 12 7s.6-1.333 1.333-1.333c.734 0 1.334.6 1.334 1.333 0 .734-.6 1.334-1.334 1.334Zm-10.666 0c-.734 0-1.334-.6-1.334-1.333s.6-1.333 1.334-1.333C3.4 5.667 4 6.267 4 7c0 .734-.6 1.334-1.333 1.334Z"/></symbol><symbol id="mountain" viewBox="0 0 16 10"><path d="m9.455.636-3.07 4.095.91 1.214 2.16-2.887L13.09 7.91H6.938L4.022 4.004 0 9.364h16L9.455.636ZM2.909 7.91l1.106-1.476L5.12 7.909H2.91Z"/></symbol><symbol id="movement-in" viewBox="0 0 16 14"><path d="M3.547 6.111 0 9.667l3.547 3.555v-2.666h6.23V8.778h-6.23V6.11ZM16 4.333 12.453.778v2.667h-6.23v1.777h6.23V7.89L16 4.333Z"/></symbol><symbol id="movement-out" viewBox="0 0 16 13"><path d="M3.547 5.333 0 8.89l3.547 3.555V9.778h6.23V8h-6.23V5.333ZM16 3.556 12.453 0v2.667h-6.23v1.777h6.23v2.667L16 3.556Z"/></symbol><symbol id="movement" viewBox="0 0 16 8"><path d="M12.01 3H0v2h12.01v3L16 4l-3.99-4v3Z"/></symbol><symbol id="moveto" viewBox="0 0 17 10"><path d="m8.569 1.503 2.727 2.735H.5v1.524h10.796L8.561 8.497l1.082 1.075L14.214 5 9.643.43 8.569 1.503ZM14.976.429v9.143H16.5V.429h-1.524Z"/></symbol><symbol id="multi-files" viewBox="0 0 16 15"><path d="M1.455 12.954h12.363v1.455H1.455A1.46 1.46 0 0 1 0 12.954V3.5h1.455v9.454ZM16 3.5v6.545c0 .8-.655 1.455-1.454 1.455H4.364a1.46 1.46 0 0 1-1.455-1.455l.007-8c0-.8.648-1.454 1.448-1.454H8l1.455 1.454h5.09c.8 0 1.455.655 1.455 1.455ZM4.364 10.045h10.181V3.5H8.852L7.396 2.045H4.364v8Z"/></symbol><symbol id="music" viewBox="0 0 12 16"><path d="m6 0 .009 9.378a3.553 3.553 0 0 0-1.778-.49 3.556 3.556 0 1 0 0 7.112 3.541 3.541 0 0 0 3.547-3.556V3.556h3.555V0H6ZM4.231 14.222c-.978 0-1.778-.8-1.778-1.778 0-.977.8-1.777 1.778-1.777s1.778.8 1.778 1.777c0 .978-.8 1.778-1.778 1.778Z"/></symbol><symbol id="narrow" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.736.264a.9.9 0 0 1 0 1.274L12.07 5.204h2.027a.9.9 0 1 1 0 1.802H9.896a.9.9 0 0 1-.901-.9V1.901a.9.9 0 1 1 1.802 0V3.93L14.462.264a.9.9 0 0 1 1.274 0ZM1 9.895a.9.9 0 0 1 .902-.901h4.203a.9.9 0 0 1 .901.9v4.204a.9.9 0 0 1-1.802 0V12.07l-3.666 3.667a.9.9 0 0 1-1.274-1.274l3.667-3.666H1.9a.9.9 0 0 1-.9-.901Z" fill="#2C3038"/></symbol><symbol id="new" viewBox="0 0 16 16"><path d="m13.09 5.818.91-2 2-.909L14 2l-.91-2-.908 2-2 .91 2 .908.909 2Zm0 4.364-.908 2-2 .909 2 .909.909 2L14 14l2-.91-2-.908-.91-2Zm-5.454-4-1.818-4-1.818 4L0 8l4 1.818 1.818 4 1.818-4 4-1.818-4-1.818ZM6.538 8.72l-.72 1.585-.72-1.585L3.513 8l1.585-.72.72-1.585.72 1.585L8.124 8l-1.586.72Z"/></symbol><symbol id="next" viewBox="0 0 16 16"><path d="M8 0 6.59 1.41 12.17 7H0v2h12.17l-5.58 5.59L8 16l8-8-8-8Z"/></symbol><symbol id="note" viewBox="0 0 16 16"><path d="M13.6 1.6h-3.344A2.408 2.408 0 0 0 8 0C6.96 0 6.08.672 5.744 1.6H2.4c-.88 0-1.6.72-1.6 1.6v11.2c0 .88.72 1.6 1.6 1.6h11.2c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6ZM8 1.4c.328 0 .6.272.6.6 0 .328-.272.6-.6.6a.604.604 0 0 1-.6-.6c0-.328.272-.6.6-.6Zm5.6 13H2.4V3.2h11.2v11.2Z"/><path d="M10.464 8.024 8.768 6.328 4 11.088V12.8h1.68l4.784-4.776Zm1.416-1.408a.396.396 0 0 0 0-.568L10.752 4.92a.396.396 0 0 0-.568 0l-.848.848 1.696 1.696.848-.848Z"/></symbol><symbol id="notification-email" viewBox="0 0 20 18"><path d="M20 6.98V16c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2L.01 4C.01 2.9.9 2 2 2h10.1c-.06.32-.1.66-.1 1 0 .34.04.68.1 1H2l8 5 3.67-2.29c.47.43 1.02.76 1.63.98L10 11 2 6v10h16V7.9c.74-.15 1.42-.48 2-.92ZM14 3c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3Z"/></symbol><symbol id="number" viewBox="0 0 17 8"><path d="M3.847 7.097H2.298V2.452H.75V.903h3.097v6.194Zm6.71-1.549H7.46V4.516h2.064c.568 0 1.033-.464 1.033-1.032V1.936c0-.568-.465-1.033-1.033-1.033H5.911v1.549h3.097v1.032H6.944c-.568 0-1.033.464-1.033 1.032v2.58h4.646V5.549Zm6.193.517v-4.13c0-.567-.465-1.032-1.032-1.032h-3.613v1.549h3.097v1.032h-2.065v1.032h2.065v1.032h-3.097v1.549h3.613c.567 0 1.032-.465 1.032-1.032Z"/></symbol><symbol id="offline" viewBox="0 0 16 14"><path d="M14.546 7.314 16 5.859c-2.713-2.713-6.45-3.745-9.964-3.134L7.913 4.6a9.27 9.27 0 0 1 6.633 2.713ZM13.09 8.768a7.196 7.196 0 0 0-2.705-1.694l2.196 2.196.509-.502Zm-7.273 2.91L8 13.858l2.182-2.182a3.081 3.081 0 0 0-4.364 0ZM1.753.505.727 1.532 2.945 3.75A11.42 11.42 0 0 0 0 5.86l1.455 1.454a9.199 9.199 0 0 1 3.032-2.022l1.63 1.629a7.144 7.144 0 0 0-3.208 1.847l1.455 1.455A5.09 5.09 0 0 1 7.92 8.725l5.15 5.149 1.024-1.026L1.754.506Z"/></symbol><symbol id="online" viewBox="0 0 16 12"><path d="m0 3.432 1.455 1.454a9.257 9.257 0 0 1 13.09 0L16 3.432c-4.415-4.415-11.578-4.415-16 0ZM5.818 9.25 8 11.43l2.182-2.181a3.081 3.081 0 0 0-4.364 0ZM2.91 6.34l1.455 1.455a5.145 5.145 0 0 1 7.272 0l1.455-1.454c-2.807-2.808-7.367-2.808-10.182 0Z"/></symbol><symbol id="openapp" viewBox="0 0 16 14"><path d="M14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452ZM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9ZM14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452ZM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9Z"/></symbol><symbol id="openwith" viewBox="0 0 16 16"><path d="M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222ZM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778Z"/></symbol><symbol id="palette" viewBox="0 0 16 16"><path d="M8 16c-4.408 0-8-3.592-8-8 0-4.408 3.592-8 8-8 4.408 0 8 3.232 8 7.2 0 2.648-2.152 4.8-4.8 4.8H9.784c-.224 0-.4.176-.4.4 0 .096.04.184.104.264.328.376.512.848.512 1.336a2 2 0 0 1-2 2ZM8 1.6A6.408 6.408 0 0 0 1.6 8c0 3.528 2.872 6.4 6.4 6.4.224 0 .4-.176.4-.4a.433.433 0 0 0-.112-.28 1.986 1.986 0 0 1-.504-1.32 2 2 0 0 1 2-2H11.2a3.2 3.2 0 0 0 3.2-3.2c0-3.088-2.872-5.6-6.4-5.6Z"/><path d="M3.6 8.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4ZM6 5.6a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Zm4 0a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Zm2.4 3.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="paperplane" viewBox="0 0 17 14"><path d="m2.031 2.452 5.722 2.453-5.73-.762.008-1.691Zm5.715 6.643L2.024 11.55V9.857l5.722-.762ZM.508.143.5 5.476 11.929 7 .5 8.524l.008 5.333L16.5 7 .508.143Z"/></symbol><symbol id="paper" viewBox="0 0 20 20"><path d="M16 10h-4v1.5h4V10Zm0 3h-4v1.5h4V13Z"/><path d="M18 5h-5V2c0-1.1-.9-2-2-2H9C7.9 0 7 .9 7 2v3H2C.9 5 0 5.9 0 7v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2ZM9 2h2v5H9V2Zm9 16H2V7h5c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2h5v11Z"/><path d="M7 13a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm2.08 1.18c-.64-.28-1.34-.43-2.08-.43s-1.44.15-2.08.43c-.56.24-.92.78-.92 1.39V16h6v-.43c0-.61-.36-1.15-.92-1.39Z"/></symbol><symbol id="password" viewBox="0 0 16 10"><path d="M.727 7.909h14.546v1.455H.727V7.909Zm.837-2.946.618-1.076.618 1.076.945-.545-.618-1.076h1.237V2.25H3.127l.618-1.07L2.8.637l-.618 1.07-.618-1.07-.946.546.618 1.069H0v1.09h1.236L.618 4.419l.946.545Zm4.872-.545.946.545L8 3.887l.618 1.076.946-.545-.619-1.076h1.237V2.25H8.945l.619-1.07-.946-.545L8 1.706 7.382.635l-.946.546.619 1.069H5.818v1.09h1.237l-.619 1.077ZM16 2.251h-1.236l.618-1.07-.946-.545-.618 1.07L13.2.635l-.945.546.618 1.069h-1.237v1.09h1.237l-.618 1.077.945.545.618-1.076.618 1.076.946-.545-.618-1.076H16V2.25Z"/></symbol><symbol id="pen" viewBox="0 0 16 16"><path d="M.889 16a.86.86 0 0 1-.633-.256.86.86 0 0 1-.256-.633v-2.155a1.755 1.755 0 0 1 .511-1.245L11.733.511c.178-.163.374-.289.59-.378a1.836 1.836 0 0 1 1.366 0c.222.09.415.223.578.4l1.222 1.245c.178.163.307.355.389.578a1.925 1.925 0 0 1 0 1.344 1.666 1.666 0 0 1-.39.589l-11.2 11.2A1.755 1.755 0 0 1 3.045 16H.89ZM12.978 4.267l1.244-1.245-1.244-1.244-1.245 1.244 1.245 1.245Z"/></symbol><symbol id="peoples" viewBox="0 0 16 16"><path d="M6 9.167c-1.56 0-4.667.78-4.667 2.333v1.167h9.334V11.5c0-1.553-3.107-2.333-4.667-2.333Zm-3.107 2.167c.56-.387 1.914-.834 3.107-.834 1.193 0 2.547.447 3.107.834H2.893ZM6 8a2.336 2.336 0 0 0 2.333-2.333A2.336 2.336 0 0 0 6 3.334a2.336 2.336 0 0 0-2.333 2.333A2.336 2.336 0 0 0 6 8Zm0-3.333c.553 0 1 .447 1 1 0 .553-.447 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1Zm4.693 4.54C11.467 9.767 12 10.513 12 11.5v1.167h2.667V11.5c0-1.347-2.334-2.113-3.974-2.293ZM10 8a2.336 2.336 0 0 0 2.333-2.333A2.336 2.336 0 0 0 10 3.334c-.36 0-.693.086-1 .233.42.593.667 1.32.667 2.1S9.42 7.173 9 7.767c.307.146.64.233 1 .233Z"/></symbol><symbol id="people" viewBox="0 0 16 16"><path d="M8 1.9a2.1 2.1 0 1 1 0 4.2 2.1 2.1 0 0 1 0-4.2Zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1ZM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4Zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="percent-circle" viewBox="0 0 16 16"><path d="M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7 7 5.43 7 3.5 5.43 0 3.5 0Zm0 5C2.67 5 2 4.33 2 3.5S2.67 2 3.5 2 5 2.67 5 3.5 4.33 5 3.5 5Zm9 4C10.57 9 9 10.57 9 12.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5S14.43 9 12.5 9Zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5ZM1.41 16 0 14.59 14.59 0 16 1.41 1.41 16Z"/></symbol><symbol id="percent" viewBox="0 0 16 16"><path d="M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7 7 5.43 7 3.5 5.43 0 3.5 0Zm0 5C2.67 5 2 4.33 2 3.5S2.67 2 3.5 2 5 2.67 5 3.5 4.33 5 3.5 5Zm9 4C10.57 9 9 10.57 9 12.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5S14.43 9 12.5 9Zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5ZM1.41 16 0 14.59 14.59 0 16 1.41 1.41 16Z"/></symbol><symbol id="person-add" viewBox="0 0 16 13"><path d="M12.768 5.398h-.905a.753.753 0 0 1-.553-.222.745.745 0 0 1-.223-.55.76.76 0 0 1 .223-.554.746.746 0 0 1 .553-.226h.905v-.904c0-.22.073-.404.221-.553a.745.745 0 0 1 .55-.223c.219 0 .404.074.555.223.15.149.226.333.226.553v.904h.904c.22 0 .404.074.553.222a.745.745 0 0 1 .223.55.76.76 0 0 1-.223.554.746.746 0 0 1-.553.226h-.904v.905c0 .22-.074.404-.222.552a.745.745 0 0 1-.55.224.759.759 0 0 1-.554-.224.746.746 0 0 1-.226-.552v-.905Zm-6.706.825c-.868 0-1.604-.302-2.208-.906-.604-.604-.906-1.34-.906-2.208 0-.868.302-1.603.906-2.205C4.458.3 5.194 0 6.062 0 6.93 0 7.665.301 8.27.904c.604.602.906 1.337.906 2.205 0 .868-.302 1.604-.906 2.208-.604.604-1.34.906-2.208.906ZM0 10.753v-.36c0-.383.094-.734.281-1.055.188-.32.446-.576.774-.766.76-.44 1.563-.778 2.409-1.013a9.646 9.646 0 0 1 2.598-.353c.893 0 1.762.117 2.607.35.846.234 1.646.57 2.4 1.01.328.191.586.446.773.765.188.32.282.673.282 1.061v.36c0 .471-.166.872-.497 1.203a1.64 1.64 0 0 1-1.203.497h-8.73c-.472 0-.871-.166-1.2-.497A1.643 1.643 0 0 1 0 10.753Z"/></symbol><symbol id="personal-data" viewBox="0 0 14 17"><path d="M12.333.5H1.667C.82.5.143 1.186.143 2.024V12.69c0 .839.678 1.524 1.524 1.524h3.047L7 16.5l2.286-2.286h3.047c.838 0 1.524-.685 1.524-1.524V2.024c0-.838-.685-1.524-1.524-1.524Zm0 12.19h-3.68L7 14.345 5.347 12.69h-3.68V2.024h10.666V12.69ZM7 7.357a2.292 2.292 0 0 0 2.286-2.286A2.292 2.292 0 0 0 7 2.786 2.292 2.292 0 0 0 4.714 5.07 2.292 2.292 0 0 0 7 7.357ZM7 4.31c.42 0 .762.342.762.761A.764.764 0 0 1 7 5.833a.764.764 0 0 1-.762-.762c0-.419.343-.761.762-.761Zm4.572 6.537c0-1.905-3.025-2.728-4.572-2.728-1.547 0-4.571.823-4.571 2.728v1.082h9.143v-1.082Zm-7.254-.442c.564-.389 1.7-.762 2.682-.762.983 0 2.118.373 2.682.762H4.318Z"/></symbol><symbol id="phone-download" viewBox="0 0 14 17"><path d="M9.182 12.586H1.909V3.859H7V2.404H1.91v-.727H7V.229L1.91.222C1.11.222.454.877.454 1.677v13.09c0 .8.654 1.455 1.454 1.455h7.273c.8 0 1.454-.654 1.454-1.454V11.13H9.182v1.455Zm0 2.182H1.909v-.728h7.273v.728Z"/><path d="m9.91 9.677 3.636-3.637-1.026-1.025-1.884 1.876V1.677H9.182V6.89L7.298 5.015 6.273 6.04l3.636 3.637Z"/></symbol><symbol id="phone" viewBox="0 0 12 16"><path d="M9.628.007 2.355 0C1.555 0 .908.655.908 1.455v13.09c0 .8.647 1.455 1.447 1.455h7.273c.8 0 1.454-.655 1.454-1.454V1.455c0-.8-.654-1.448-1.454-1.448Zm0 13.084H2.355V2.909h7.273v10.182Z"/></symbol><symbol id="phone-upload" viewBox="0 0 14 17"><path d="M4.176 12.735h5.648V7.088h3.764L7 .5.412 7.088h3.764v5.647ZM7 3.164l2.042 2.042h-1.1v5.647H6.058V5.206h-1.1L7 3.164ZM.412 14.618h13.176V16.5H.412v-1.882Z"/></symbol><symbol id="pie-chart" viewBox="0 0 16 16"><path d="M8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8H8V1.6c-1.787 0-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="pin" viewBox="0 0 12 16"><path d="M7.2 1.6v4c0 .896.296 1.728.8 2.4H3.2c.52-.688.8-1.52.8-2.4v-4h3.2ZM9.6 0h-8C1.16 0 .8.36.8.8c0 .44.36.8.8.8h.8v4C2.4 6.928 1.328 8 0 8v1.6h4.776v5.6l.8.8.8-.8V9.6H11.2V8a2.397 2.397 0 0 1-2.4-2.4v-4h.8c.44 0 .8-.36.8-.8 0-.44-.36-.8-.8-.8Z"/></symbol><symbol id="plane" viewBox="0 0 16 16"><path d="M15.2 11.2V9.6l-6.4-4V1.2C8.8.536 8.264 0 7.6 0c-.664 0-1.2.536-1.2 1.2v4.4L0 9.6v1.6l6.4-2v4.4l-1.6 1.2V16l2.8-.8 2.8.8v-1.2l-1.6-1.2V9.2l6.4 2Z"/></symbol><symbol id="planet" viewBox="0 0 16 16"><path d="M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8Zm5.544 4.8h-2.36c-.256-1-.624-1.96-1.104-2.848A6.424 6.424 0 0 1 13.536 4.8ZM8 1.632A11.27 11.27 0 0 1 9.528 4.8H6.472A11.27 11.27 0 0 1 8 1.632ZM1.808 9.6A6.594 6.594 0 0 1 1.6 8c0-.552.08-1.088.208-1.6h2.704A13.212 13.212 0 0 0 4.4 8c0 .544.048 1.072.112 1.6H1.808Zm.656 1.6h2.36c.256 1 .624 1.96 1.104 2.848A6.39 6.39 0 0 1 2.464 11.2Zm2.36-6.4h-2.36a6.39 6.39 0 0 1 3.464-2.848A12.52 12.52 0 0 0 4.824 4.8ZM8 14.368A11.27 11.27 0 0 1 6.472 11.2h3.056A11.27 11.27 0 0 1 8 14.368ZM9.872 9.6H6.128A11.77 11.77 0 0 1 6 8c0-.544.056-1.08.128-1.6h3.744C9.944 6.92 10 7.456 10 8s-.056 1.072-.128 1.6Zm.2 4.448a12.52 12.52 0 0 0 1.104-2.848h2.36a6.424 6.424 0 0 1-3.464 2.848ZM11.488 9.6c.064-.528.112-1.056.112-1.6s-.048-1.072-.112-1.6h2.704c.128.512.208 1.048.208 1.6s-.08 1.088-.208 1.6h-2.704Z"/></symbol><symbol id="plus-small" viewBox="0 0 16 16"><path d="M7.135 8.865h-3.44a.837.837 0 0 1-.614-.25.829.829 0 0 1-.25-.61c0-.242.083-.447.25-.616a.83.83 0 0 1 .614-.254h3.44v-3.44c0-.242.084-.447.25-.614a.829.829 0 0 1 .61-.25c.242 0 .447.083.616.25a.83.83 0 0 1 .254.614v3.44h3.44c.242 0 .447.083.614.25.167.166.25.37.25.61a.843.843 0 0 1-.25.616.83.83 0 0 1-.614.254h-3.44v3.44a.837.837 0 0 1-.25.614.829.829 0 0 1-.61.25.843.843 0 0 1-.616-.25.83.83 0 0 1-.254-.614v-3.44Z"/></symbol><symbol id="plus" viewBox="0 0 14 14"><path d="M6 8H1a.968.968 0 0 1-.713-.287A.968.968 0 0 1 0 7c0-.283.096-.52.287-.713A.968.968 0 0 1 1 6h5V1c0-.283.096-.52.287-.713A.968.968 0 0 1 7 0c.283 0 .52.096.713.287A.975.975 0 0 1 8 1v5h5c.283 0 .52.096.713.287.191.192.287.43.287.713s-.096.52-.287.713A.968.968 0 0 1 13 8H8v5c0 .283-.096.52-.287.713A.967.967 0 0 1 7 14a.967.967 0 0 1-.713-.287A.968.968 0 0 1 6 13V8Z"/></symbol><symbol id="pop-inside" viewBox="0 0 13 16"><path d="M12.8 14.4H0V16h12.8v-1.6Zm0-14.4H0v1.6h12.8V0ZM4.328 9.272 3.2 10.4l3.2 3.2 3.2-3.2-1.128-1.128L7.2 10.536V5.464l1.272 1.264L9.6 5.6 6.4 2.4 3.2 5.6l1.128 1.128L5.6 5.464v5.072L4.328 9.272Z"/></symbol><symbol id="previous" viewBox="0 0 16 16"><path d="M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7Z"/></symbol><symbol id="printer" viewBox="0 0 16 15"><path d="M13.6 4h-.8V0H3.2v4h-.8A2.397 2.397 0 0 0 0 6.4v4.8h3.2v3.2h9.6v-3.2H16V6.4C16 5.072 14.928 4 13.6 4ZM4.8 1.6h6.4V4H4.8V1.6Zm6.4 11.2H4.8V9.6h6.4v3.2Zm1.6-3.2V8H3.2v1.6H1.6V6.4c0-.44.36-.8.8-.8h11.2c.44 0 .8.36.8.8v3.2h-1.6Z"/><path d="M12.8 7.6a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Z"/></symbol><symbol id="qualify" viewBox="0 0 16 13"><path d="m15.658 7.43-3.214 4.559a1.742 1.742 0 0 1-.65.57c-.265.136-.55.205-.854.205H1.823c-.501 0-.93-.179-1.287-.536A1.756 1.756 0 0 1 0 10.94V1.823C0 1.322.179.893.536.536A1.756 1.756 0 0 1 1.823 0h9.117c.304 0 .589.068.855.205.266.137.482.327.65.57l3.213 4.558c.228.32.342.669.342 1.049 0 .38-.114.73-.342 1.048Z"/></symbol><symbol id="radio-checked" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4Z"/><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"/></symbol><symbol id="radio-unchecked" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4Z"/></symbol><symbol id="refresh" viewBox="0 0 16 16"><path d="M13.64 2.35A7.958 7.958 0 0 0 7.99 0C3.57 0 0 3.58 0 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08a5.99 5.99 0 0 1-5.65 4c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L8.99 7h7V0l-2.35 2.35Z"/></symbol><symbol id="relationship" viewBox="0 0 16 16"><path d="m6.737 10.602.946-.946c-1.82-1.62-3.012-2.712-3.012-3.752 0-.7.533-1.232 1.233-1.232.74 0 1.026.433 1.786 1.332h.62c.746-.873 1.019-1.332 1.785-1.332.58 0 1.033.36 1.18.88.233-.027.453-.04.666-.04.24 0 .466.02.686.053a2.517 2.517 0 0 0-2.525-2.226c-.08 0-.153.02-.233.026a2 2 0 0 0 .133-.693 1.997 1.997 0 0 0-2-1.999 1.996 1.996 0 0 0-1.998 2c0 .246.053.473.133.692-.08-.006-.153-.026-.233-.026a2.537 2.537 0 0 0-2.566 2.565c0 1.613 1.36 2.872 3.399 4.698Z"/><path d="M15 10.829a2.096 2.096 0 0 0-.667-.233c.047-.067.1-.12.14-.187a2.539 2.539 0 0 0-.94-3.505c-1.392-.806-3.171-.26-5.763.6l.346 1.292c2.312-.76 3.858-1.252 4.758-.733.606.354.8 1.073.453 1.686-.373.64-.886.667-2.046.88l-.313.54c.387 1.08.646 1.552.26 2.212-.353.606-1.073.8-1.686.453-.04-.02-.073-.06-.113-.086a5.33 5.33 0 0 1-.687 1.152c.047.027.087.06.134.094a2.539 2.539 0 0 0 3.505-.94c.04-.067.06-.14.093-.213.147.18.32.34.533.46a1.998 1.998 0 0 0 2.732-.733 2.01 2.01 0 0 0-.74-2.74Z"/><path d="M8.216 9.343c-.493 2.385-.846 3.965-1.746 4.485a1.204 1.204 0 0 1-1.686-.454c-.373-.64-.133-1.106.26-2.212l-.306-.54c-1.133-.206-1.666-.22-2.046-.88a1.204 1.204 0 0 1 .453-1.685.964.964 0 0 1 .193-.074 4.482 4.482 0 0 1-.546-1.232 2.539 2.539 0 0 0-1.26 3.658c.04.067.094.12.14.187-.226.04-.453.113-.666.233a2.002 2.002 0 0 0-.733 2.732 1.997 1.997 0 0 0 2.732.733c.213-.12.387-.28.533-.46.033.074.053.147.093.213a2.539 2.539 0 0 0 3.506.94c1.392-.806 1.805-2.619 2.365-5.291l-1.286-.353Z"/></symbol><symbol id="remboursement" viewBox="0 0 16 12"><path d="M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454Zm-1.454 0H1.455V1.455h10.181v5.818Zm-5.09-5.091a2.179 2.179 0 0 0-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182Zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16Z"/></symbol><symbol id="rename" viewBox="0 0 16 17"><path d="M.727 16.8v-2.91h14.546v2.91H.727Zm1.455-4.364v-3.09l8.145-8.128A1.436 1.436 0 0 1 11.345.8c.194 0 .382.036.564.109.182.073.346.182.491.327l1 1.018c.146.134.252.291.318.473.067.182.1.37.1.564a1.5 1.5 0 0 1-.1.536 1.363 1.363 0 0 1-.318.482l-8.127 8.127H2.182Zm9.163-8.145 1.019-1.018-1.019-1.019-1.018 1.019 1.018 1.018Z"/></symbol><symbol id="repare" viewBox="0 0 17 16"><path d="m16.711 13.08-6.608-6.61a4.734 4.734 0 0 0-1.048-5.094A4.73 4.73 0 0 0 2.919.903l2.795 2.802-1.033 1.026-2.788-2.787a4.72 4.72 0 0 0 .473 6.128 4.733 4.733 0 0 0 5.015 1.077l6.63 6.63a.725.725 0 0 0 1.026 0l1.674-1.674a.712.712 0 0 0 0-1.026Zm-2.183 1.164L7.643 7.359a3.182 3.182 0 0 1-1.456.596 3.255 3.255 0 0 1-2.787-.91 3.251 3.251 0 0 1-.961-2.503l2.249 2.249 3.086-3.086-2.25-2.249c.903-.05 1.813.27 2.505.954a3.252 3.252 0 0 1 .902 2.882 3.165 3.165 0 0 1-.64 1.426l6.877 6.878-.64.648Z"/></symbol><symbol id="reply" viewBox="0 0 16 14"><path d="M6.222 3.556V0L0 6.222l6.222 6.222V8.8c4.445 0 7.556 1.422 9.778 4.533-.889-4.444-3.556-8.889-9.778-9.777Z"/></symbol><symbol id="restaurant" viewBox="0 0 15 16"><path d="M10.4 3.2v6.4h2.4V16h1.6V0c-2.208 0-4 1.792-4 3.2Zm-4 2.4H4.8V0H3.2v5.6H1.6V0H0v5.6a3.2 3.2 0 0 0 3.2 3.2V16h1.6V8.8A3.2 3.2 0 0 0 8 5.6V0H6.4v5.6Z"/></symbol><symbol id="restore-straight" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.736L11.8 5.464V14.4ZM4.16 6.856l-.936-.936V8.8h2.88L4.952 7.648A2.52 2.52 0 0 1 7.184 6.28a2.52 2.52 0 1 1 0 5.04 2.512 2.512 0 0 1-2.064-1.08H3.88a3.607 3.607 0 0 0 3.296 2.16c1.984 0 3.6-1.616 3.6-3.6s-1.616-3.6-3.6-3.6A3.581 3.581 0 0 0 4.16 6.856Z"/></symbol><symbol id="restore" viewBox="0 0 14 17"><path d="M7 16.282a6.775 6.775 0 0 1-2.733-.555 7.117 7.117 0 0 1-2.218-1.498 7.118 7.118 0 0 1-1.497-2.217 6.775 6.775 0 0 1-.555-2.733c0-.22.075-.405.224-.555a.753.753 0 0 1 .554-.223c.22 0 .405.074.555.223.149.15.223.334.223.555 0 1.517.529 2.804 1.586 3.861C4.196 14.197 5.483 14.725 7 14.725c1.517 0 2.804-.528 3.861-1.585 1.057-1.057 1.586-2.344 1.586-3.861 0-1.517-.529-2.805-1.586-3.861C9.804 4.36 8.517 3.832 7 3.832h-.117l.662.662a.71.71 0 0 1 .223.544.793.793 0 0 1-.778.788.724.724 0 0 1-.554-.224L4.432 3.6a.746.746 0 0 1-.233-.545.75.75 0 0 1 .233-.545L6.436.506A.724.724 0 0 1 6.99.282a.793.793 0 0 1 .778.788.713.713 0 0 1-.223.545l-.662.661H7c.973 0 1.884.185 2.733.554.85.37 1.589.87 2.218 1.498a7.118 7.118 0 0 1 1.497 2.218c.37.85.555 1.76.555 2.733 0 .973-.185 1.883-.555 2.733a7.117 7.117 0 0 1-1.497 2.217 7.116 7.116 0 0 1-2.218 1.498c-.85.37-1.76.555-2.733.555Z"/></symbol><symbol id="right" viewBox="0 0 16 16"><path d="M8.6 8 4.7 4.1a.948.948 0 0 1-.275-.7c0-.284.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.091.7.275l4.6 4.6c.1.1.17.208.213.325.041.116.062.241.062.375 0 .133-.02.258-.063.375a.878.878 0 0 1-.212.325l-4.6 4.6a.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275.948.948 0 0 1-.275-.7c0-.284.092-.517.275-.7L8.6 8Z"/></symbol><symbol id="rise" viewBox="0 0 16 16"><path d="M2.5 1.5v2h8.59L1.5 13.09l1.41 1.41 9.59-9.59v8.59h2v-12h-12Z"/></symbol><symbol id="rotate-left" viewBox="0 0 14 17"><path d="m2.802 6.83-1.191-1.2A6.696 6.696 0 0 0 .233 8.916H1.94a5.016 5.016 0 0 1 .862-2.088Zm-.862 3.777H.233a6.683 6.683 0 0 0 1.37 3.288l1.19-1.2a5.067 5.067 0 0 1-.853-2.088Zm.854 4.497a6.697 6.697 0 0 0 3.296 1.36V14.75a4.997 4.997 0 0 1-2.079-.87l-1.217 1.225ZM7.78 3.06V.465L3.935 4.31 7.78 8.07V4.768a5.07 5.07 0 0 1 4.226 4.995 5.07 5.07 0 0 1-4.226 4.995v1.708a6.752 6.752 0 0 0 5.916-6.703A6.752 6.752 0 0 0 7.781 3.06Z"/></symbol><symbol id="rotate-right" viewBox="0 0 14 17"><path d="M9.995 4.31 6.15.466V3.06A6.76 6.76 0 0 0 .233 9.762a6.752 6.752 0 0 0 5.916 6.703v-1.707a5.07 5.07 0 0 1-4.226-4.996A5.07 5.07 0 0 1 6.15 4.767v3.305L9.995 4.31Zm3.702 4.607a6.683 6.683 0 0 0-1.37-3.288l-1.2 1.2c.457.634.744 1.353.863 2.088h1.707ZM7.84 14.749v1.707a6.698 6.698 0 0 0 3.296-1.36L9.92 13.879a4.89 4.89 0 0 1-2.08.87Zm3.288-2.045 1.2 1.191a6.683 6.683 0 0 0 1.37-3.287H11.99a4.984 4.984 0 0 1-.862 2.096Z"/></symbol><symbol id="sad-cozy" viewBox="0 0 52 52"><path d="M38.231 40H13.769C6.175 40 0 33.756 0 26.08c0-3.66 1.394-7.117 3.927-9.733 2.219-2.29 5.093-3.715 8.203-4.086a13.887 13.887 0 014.042-8.292A13.608 13.608 0 0125.801 0c3.62 0 7.04 1.407 9.629 3.968a13.897 13.897 0 014.038 8.25C46.482 12.853 52 18.828 52 26.082 52 33.756 45.82 40 38.23 40h.001zm-.163-3.001h.104c5.97 0 10.828-4.91 10.828-10.947 0-6.035-4.857-10.946-10.828-10.946h-.11c-.779 0-1.417-.627-1.435-1.417C36.492 7.794 31.637 3 25.803 3 19.968 3 15.11 7.796 14.977 13.69a1.445 1.445 0 01-1.403 1.42C7.744 15.244 3 20.153 3 26.052 3 32.09 7.857 37 13.828 37h.088l.035-.002c.03 0 .062 0 .093.002h24.021l.003-.001zm-4.302-11.222c-.875.585-.918 1.659-.92 1.706a.52.52 0 01-.525.517.523.523 0 01-.506-.536c.002-.039.016-.543.251-1.137a7.99 7.99 0 00-11.138-.019c.241.603.257 1.116.257 1.155a.523.523 0 01-.503.536.526.526 0 01-.528-.515c0-.043-.042-1.121-.92-1.706a.536.536 0 01-.15-.731.51.51 0 01.714-.154c.225.15.414.322.572.505a9.006 9.006 0 0112.251.01c.16-.184.35-.36.582-.515a.503.503 0 01.281-.085c.168 0 .333.085.432.24a.537.537 0 01-.15.731v-.002z" fill-rule="evenodd"/></symbol><symbol id="safe" viewBox="0 0 14 17"><path d="M2.429 16.5c-.42 0-.778-.15-1.077-.448a1.467 1.467 0 0 1-.447-1.076V7.357c0-.419.149-.778.447-1.076a1.467 1.467 0 0 1 1.077-.448h.761V4.31c0-1.054.372-1.953 1.115-2.696C5.048.871 5.946.5 7 .5c1.054 0 1.952.371 2.695 1.114.743.743 1.114 1.642 1.114 2.696v1.523h.762c.42 0 .778.15 1.077.448.298.298.447.657.447 1.076v7.62c0 .418-.149.777-.447 1.075a1.467 1.467 0 0 1-1.077.448H2.43ZM7 12.69c.419 0 .778-.149 1.076-.447.299-.299.448-.657.448-1.076 0-.42-.15-.778-.448-1.076A1.467 1.467 0 0 0 7 9.643c-.42 0-.778.15-1.076.447a1.467 1.467 0 0 0-.448 1.077c0 .419.15.777.448 1.076.298.298.657.447 1.076.447ZM4.714 5.833h4.572V4.31a2.21 2.21 0 0 0-.667-1.62A2.204 2.204 0 0 0 7 2.024c-.635 0-1.175.222-1.619.666a2.204 2.204 0 0 0-.667 1.62v1.523Z"/></symbol><symbol id="school" viewBox="0 0 16 14"><path d="M8 0 0 4.364l2.91 1.585v4.364L8 13.09l5.09-2.778V5.949l1.456-.793v5.026H16V4.364L8 0Zm4.96 4.364L8 7.069 3.04 4.364 8 1.658l4.96 2.706Zm-1.324 5.083L8 11.433 4.364 9.447V6.742L8 8.727l3.636-1.985v2.705Z"/></symbol><symbol id="scooter" viewBox="0 0 16 12"><path d="M13.6 2c0-.88-.72-1.6-1.6-1.6H9.6V2H12v2.12L9.216 7.6H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.8v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.68V2Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 10c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4 1.2h-4v1.6h4V1.2Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="security" viewBox="0 0 16 16"><path d="M8 .667 2 3.333v4c0 3.7 2.56 7.16 6 8 3.44-.84 6-4.3 6-8v-4L8 .667Zm0 7.326h4.667c-.354 2.747-2.187 5.194-4.667 5.96V8H3.333V4.2L8 2.126v5.867Z"/></symbol><symbol id="select-all" viewBox="0 0 16 16"><path d="M14.4 1.6v9.6H4.8V1.6h9.6Zm0-1.6H4.8c-.88 0-1.6.72-1.6 1.6v9.6c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6ZM8.376 9.6 5.6 6.8l1.12-1.128 1.656 1.664L12.48 3.2l1.12 1.128L8.376 9.6ZM1.6 3.2H0v11.2c0 .88.72 1.6 1.6 1.6h11.2v-1.6H1.6V3.2Z"/></symbol><symbol id="send" viewBox="0 0 16 16"><path d="M15.594 1.252 9.75 14.927a.88.88 0 0 1-.66.53.821.821 0 0 1-.799-.253L.252 6.88a.821.821 0 0 1-.224-.807.88.88 0 0 1 .553-.64L14.45.067c.374-.137.696-.067.965.212.27.279.329.603.178.972ZM8.74 13.55 13.7 1.938 1.92 6.488 4.44 9.095l4.722-2.774-2.938 4.621 2.518 2.608Z"/></symbol><symbol id="server" viewBox="0 0 16 16"><path d="M14.222 10.667v3.555H1.778v-3.555h12.444Zm.89-1.778H.888c-.489 0-.889.4-.889.889v5.333a.893.893 0 0 0 .89.889H15.11c.489 0 .889-.4.889-.889V9.778c0-.49-.4-.89-.889-.89ZM3.555 13.778a1.337 1.337 0 0 1-1.334-1.334c0-.737.605-1.333 1.334-1.333.728 0 1.333.596 1.333 1.333 0 .738-.596 1.334-1.333 1.334Zm10.666-12v3.555H1.778V1.778h12.444ZM15.112 0H.888C.4 0 0 .4 0 .889v5.333c0 .49.4.89.889.89H15.11c.489 0 .889-.4.889-.89V.89a.89.89 0 0 0-.888-.89ZM3.555 4.889a1.337 1.337 0 0 1-1.334-1.333c0-.738.605-1.334 1.334-1.334.728 0 1.333.605 1.333 1.334 0 .728-.596 1.333-1.333 1.333Z"/></symbol><symbol id="setting" viewBox="0 0 16 16"><path d="M13.727 8.784c.032-.256.056-.512.056-.784s-.024-.528-.056-.784l1.688-1.32a.404.404 0 0 0 .097-.512l-1.6-2.768a.4.4 0 0 0-.489-.176l-1.992.8a5.845 5.845 0 0 0-1.351-.784L9.774.336A.39.39 0 0 0 9.383 0h-3.2a.39.39 0 0 0-.392.336l-.304 2.12c-.488.2-.936.472-1.352.784l-1.992-.8A.453.453 0 0 0 2 2.416a.396.396 0 0 0-.344.2l-1.6 2.768a.394.394 0 0 0 .096.512l1.688 1.32c-.032.256-.056.52-.056.784s.024.528.056.784l-1.688 1.32a.404.404 0 0 0-.096.512l1.6 2.768a.4.4 0 0 0 .488.176l1.992-.8c.416.32.864.584 1.352.784l.304 2.12a.39.39 0 0 0 .392.336h3.2a.39.39 0 0 0 .392-.336l.304-2.12c.489-.2.936-.472 1.352-.784l1.993.8a.453.453 0 0 0 .144.024.396.396 0 0 0 .344-.2l1.6-2.768a.404.404 0 0 0-.097-.512l-1.688-1.32Zm-1.584-1.368c.032.248.04.416.04.584 0 .168-.015.344-.04.584l-.112.904.712.56.864.672-.56.968-1.016-.408-.832-.336-.72.544a4.685 4.685 0 0 1-1 .584l-.848.344-.128.904-.16 1.08h-1.12l-.28-1.984-.848-.344a4.54 4.54 0 0 1-.984-.568l-.728-.56-.848.344-1.016.408-.56-.968.864-.672.712-.56-.112-.904A6.435 6.435 0 0 1 3.383 8c0-.16.016-.344.04-.584l.112-.904-.712-.56-.864-.672.56-.968 1.016.408.832.336.72-.544a4.685 4.685 0 0 1 1-.584l.848-.344.128-.904.16-1.08h1.112l.28 1.984.848.344c.344.144.665.328.985.568l.727.56.848-.344 1.017-.408.56.968-.857.68-.712.56.112.904ZM7.783 4.8a3.2 3.2 0 1 0 0 6.4 3.2 3.2 0 1 0 0-6.4Zm0 4.8c-.88 0-1.6-.72-1.6-1.6 0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6Z"/></symbol><symbol id="share-circle" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM6.541 6.92a1.5 1.5 0 1 0 0 2.16l2.47 1.235a1.5 1.5 0 1 0 .447-.894l-2.47-1.236a1.515 1.515 0 0 0 0-.37l2.47-1.235a1.5 1.5 0 1 0-.447-.894L6.541 6.92z"/>\n</symbol><symbol id="share-ios" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M5 6v2H3v6h10V8h-2V6h2c1.105 0 2 .895 2 2v6c0 1.105-.895 2-2 2H3c-1.105 0-2-.895-2-2V8c0-1.105.895-2 2-2h2zM8.707.293L11.5 3.086c.39.39.39 1.023 0 1.414-.39.39-1.024.39-1.414 0L9 3.414V11c0 .552-.448 1-1 1s-1-.448-1-1V3.414L6 4.5c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414L7.293.293c.39-.39 1.024-.39 1.414 0z"/>\n    </g>\n</symbol><symbol id="share" viewBox="0 0 16 16"><path d="M12.8 16a2.314 2.314 0 0 1-1.7-.7 2.314 2.314 0 0 1-.7-1.7c0-.093.007-.19.02-.29.013-.1.033-.19.06-.27L4.84 9.76c-.227.2-.48.357-.76.47-.28.113-.573.17-.88.17a2.314 2.314 0 0 1-1.7-.7A2.314 2.314 0 0 1 .8 8c0-.667.233-1.233.7-1.7a2.314 2.314 0 0 1 1.7-.7c.307 0 .6.057.88.17.28.113.533.27.76.47l5.64-3.28a1.464 1.464 0 0 1-.06-.27 2.2 2.2 0 0 1-.02-.29c0-.667.233-1.233.7-1.7a2.314 2.314 0 0 1 1.7-.7c.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7-.307 0-.6-.057-.88-.17a2.635 2.635 0 0 1-.76-.47L5.52 7.44c.027.08.047.17.06.27a2.195 2.195 0 0 1 0 .58c-.013.1-.033.19-.06.27l5.64 3.28c.227-.2.48-.357.76-.47.28-.113.573-.17.88-.17.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7Z"/></symbol><symbol id="shield-clean" viewBox="0 0 15 16"><path d="M6.432 15.635c-.092 0-.178-.01-.257-.03a3.27 3.27 0 0 1-.237-.069c-1.782-.593-3.203-1.688-4.266-3.285C.61 10.655.052 8.933 0 7.085v-3.74c0-.33.096-.627.287-.89.191-.265.439-.456.742-.575L5.78.1C5.964.033 6.15 0 6.333 0c.185 0 .37.033.554.099l4.75 1.781c.304.119.551.31.743.574.191.264.287.56.287.89v3.741a7.922 7.922 0 0 1-.04.792 3.683 3.683 0 0 0-.752-.08 4.178 4.178 0 0 0-.831.08 8.356 8.356 0 0 0 .04-.792v-3.74l-4.75-1.781-4.75 1.78v3.741a7.52 7.52 0 0 0 1.345 4.355c.897 1.306 2.032 2.177 3.404 2.612.277-.092.548-.204.812-.336.264-.132.521-.284.772-.456v1.86a4.445 4.445 0 0 1-.406.179c-.139.053-.327.132-.564.238-.08.026-.162.049-.248.069-.085.02-.174.03-.267.03Zm3.74.08a.648.648 0 0 1-.474-.198.648.648 0 0 1-.198-.475v-2.613c0-.185.066-.343.198-.475a.648.648 0 0 1 .475-.198h.119v-.791c0-.436.155-.809.465-1.119.31-.31.683-.465 1.118-.465.435 0 .808.155 1.118.465.31.31.465.683.465 1.119v.791h.12c.184 0 .342.066.474.198.132.132.198.29.198.475v2.613a.648.648 0 0 1-.198.475.648.648 0 0 1-.475.198h-3.404Zm.911-3.959h1.584v-.791a.766.766 0 0 0-.228-.565.766.766 0 0 0-.564-.227.766.766 0 0 0-.564.227.766.766 0 0 0-.228.565v.791Z"/></symbol><symbol id="shield-infected" viewBox="0 0 13 16"><path d="M6.333 0 0 2.375v4.821c0 3.998 2.7 7.727 6.333 8.637 3.634-.91 6.334-4.639 6.334-8.637V2.375L6.333 0Zm4.75 7.196c0 3.167-2.018 6.096-4.75 6.99-2.73-.894-4.75-3.815-4.75-6.99v-3.72l4.75-1.782 4.75 1.781v3.721Z"/><path d="M7.125 9.5H5.542v1.583h1.583V9.5Zm0-5.542H5.542v3.959h1.583V3.958Z"/></symbol><symbol id="shield" viewBox="0 0 13 16"><path d="M6.4 0 0 2.4v4.872C0 11.312 2.728 15.08 6.4 16c3.672-.92 6.4-4.688 6.4-8.728V2.4L6.4 0Zm4.8 7.272c0 3.2-2.04 6.16-4.8 7.064-2.76-.904-4.8-3.856-4.8-7.064v-3.76l4.8-1.8 4.8 1.8v3.76Z"/></symbol><symbol id="shop" viewBox="0 0 16 16"><path d="M11.639 8.8c.6 0 1.127-.328 1.4-.824l2.862-5.19a.797.797 0 0 0-.696-1.184H3.37l-.752-1.6H.003v1.6h1.6l2.878 6.07-1.08 1.951C2.819 10.695 3.587 12 4.802 12h9.597v-1.6H4.8l.88-1.6h5.958Zm-7.51-5.598h9.717L11.639 7.2H6.025L4.129 3.202Zm.672 9.596c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599Zm7.997 0c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599Z"/></symbol><symbol id="sound" viewBox="0 0 16 16"><path d="M14.222 8.288c0-1.23-.326-2.352-.978-3.367a6.064 6.064 0 0 0-2.622-2.278.99.99 0 0 1-.489-.478.842.842 0 0 1-.044-.655.878.878 0 0 1 .478-.511.826.826 0 0 1 .7 0A7.827 7.827 0 0 1 14.71 3.92C15.571 5.232 16 6.688 16 8.288s-.43 3.055-1.289 4.366a7.828 7.828 0 0 1-3.444 2.922.826.826 0 0 1-.7 0 .878.878 0 0 1-.478-.51.842.842 0 0 1 .044-.656.99.99 0 0 1 .49-.478 6.064 6.064 0 0 0 2.621-2.278 6.1 6.1 0 0 0 .978-3.366ZM3.556 10.976H.889a.86.86 0 0 1-.633-.255.86.86 0 0 1-.256-.633V6.532a.86.86 0 0 1 .256-.633.86.86 0 0 1 .633-.256h2.667L6.489 2.71c.281-.282.604-.345.967-.19.363.156.544.434.544.834v9.911c0 .4-.181.678-.544.834-.363.155-.686.092-.967-.19l-2.933-2.933ZM12 8.31c0 .622-.14 1.21-.422 1.766a3.964 3.964 0 0 1-1.111 1.367.438.438 0 0 1-.456.011.409.409 0 0 1-.233-.389V5.51a.41.41 0 0 1 .233-.39.438.438 0 0 1 .456.012c.459.37.83.837 1.11 1.4A3.92 3.92 0 0 1 12 8.31Zm-5.778-2.8-1.91 1.91H1.777V9.2H4.31l1.911 1.91v-5.6Z"/></symbol><symbol id="spinner" viewBox="0 0 16 16"><path d="M8 16a7.74 7.74 0 0 1-3.1-.63 8.114 8.114 0 0 1-2.55-1.72A8.115 8.115 0 0 1 .63 11.1 7.74 7.74 0 0 1 0 8c0-1.107.21-2.143.63-3.11a8.146 8.146 0 0 1 1.72-2.54A8.114 8.114 0 0 1 4.9.63 7.74 7.74 0 0 1 8 0c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 0 1-.23.57.774.774 0 0 1-.57.23c-1.773 0-3.283.623-4.53 1.87C2.223 4.717 1.6 6.227 1.6 8c0 1.773.623 3.283 1.87 4.53C4.717 13.777 6.227 14.4 8 14.4c1.773 0 3.283-.623 4.53-1.87C13.777 11.283 14.4 9.773 14.4 8c0-.227.077-.417.23-.57a.774.774 0 0 1 .57-.23c.227 0 .417.077.57.23.153.153.23.343.23.57a7.74 7.74 0 0 1-.63 3.1 8.115 8.115 0 0 1-1.72 2.55 8.146 8.146 0 0 1-2.54 1.72A7.72 7.72 0 0 1 8 16Z"/></symbol><symbol id="sport-bag" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a4 4 0 1 1 8 0h.459a3 3 0 0 1 2.96 2.507l.5 2A3 3 0 0 1 12.958 13H3.042a3 3 0 0 1-2.96-3.493l.5-2A3 3 0 0 1 3.543 5H4Zm2 0a2 2 0 1 1 4 0H6Z"/></symbol><symbol id="stack" viewBox="0 0 16 16"><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 1.778v2.666H1.778V1.778h12.444Zm0 4.444v3.556H1.778V6.222h12.444Zm-12.444 8v-2.666h12.444v2.666H1.778Z"/></symbol><symbol id="star-outline" viewBox="0 0 16 17"><path d="m16 6.692-5.752-.496L8 .9 5.752 6.204 0 6.692l4.368 3.784L3.056 16.1 8 13.116l4.944 2.984-1.304-5.624L16 6.692ZM8 11.62l-3.008 1.816.8-3.424-2.656-2.304 3.504-.304L8 4.18l1.368 3.232 3.504.304-2.656 2.304.8 3.424L8 11.62Z"/></symbol><symbol id="star" viewBox="0 0 16 16"><path d="m8 12.216 4.944 2.984-1.312-5.624L16 5.792l-5.752-.488L8 0 5.752 5.304 0 5.792l4.368 3.784L3.056 15.2 8 12.216Z"/></symbol><symbol id="stats" viewBox="0 0 16 16"><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 14.222H1.778V1.778h12.444v12.444Zm-10.666-8h1.777v6.222H3.556V6.222ZM7.11 3.556h1.78v8.888H7.11V3.556Zm3.556 5.333h1.777v3.555h-1.777V8.89Z"/></symbol><symbol id="stop" viewBox="0 0 12 12"><path d="M10 2v8H2V2h8Zm2-2H0v12h12V0Z"/></symbol><symbol id="subway" viewBox="0 0 16 16"><path d="M12.64.64C11.2.072 9.488 0 8 0 6.512 0 4.8.072 3.36.64 1.224 1.472 0 3.24 0 5.488V16h16V5.488C16 3.24 14.776 1.472 12.64.64ZM5.736 14.4l1.2-1.2h2.128l1.2 1.2H5.736ZM4.008 9.6v-4h8v4h-8Zm7.592 1.6c0 .44-.36.8-.8.8-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8Zm-6.4-.8c.44 0 .8.36.8.8 0 .44-.36.8-.8.8-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8Zm9.2 4h-2.8v-.304l-.92-.928A2.383 2.383 0 0 0 12.8 10.8V5.6c0-2.104-2.4-2.4-4.8-2.4s-4.8.296-4.8 2.4v5.2c0 1.232.928 2.232 2.12 2.368l-.92.928v.304H1.6V5.488c0-1.6.808-2.76 2.344-3.36C5.128 1.664 6.656 1.6 8 1.6c1.344 0 2.872.064 4.056.528 1.536.6 2.344 1.76 2.344 3.36V14.4Z"/></symbol><symbol id="support" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm5.968 5.696-2.224.92a3.986 3.986 0 0 0-2.36-2.352l.92-2.224a6.37 6.37 0 0 1 3.664 3.656ZM8 10.4A2.397 2.397 0 0 1 5.6 8c0-1.328 1.072-2.4 2.4-2.4 1.328 0 2.4 1.072 2.4 2.4 0 1.328-1.072 2.4-2.4 2.4ZM5.704 2.032l.936 2.224a4 4 0 0 0-2.384 2.376l-2.224-.928a6.388 6.388 0 0 1 3.672-3.672Zm-3.672 8.264 2.224-.92a3.975 3.975 0 0 0 2.376 2.368l-.936 2.224a6.397 6.397 0 0 1-3.664-3.672Zm8.272 3.672-.92-2.224a3.983 3.983 0 0 0 2.36-2.376l2.224.936a6.406 6.406 0 0 1-3.664 3.664Z"/></symbol><symbol id="swap" viewBox="0 0 14 16"><path d="M10.556 12.453v-6.23H8.777v6.23H6.11L9.667 16l3.555-3.547h-2.666ZM4.333 0 .778 3.547h2.666v6.23h1.778v-6.23H7.89L4.333 0Zm6.223 12.453v-6.23H8.777v6.23H6.11L9.667 16l3.555-3.547h-2.666ZM4.333 0 .778 3.547h2.666v6.23h1.778v-6.23H7.89L4.333 0Z"/></symbol><symbol id="sync-cozy" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#297EF1">\n            <path d="M8 2c2.21 0 4 1.79 4 4 2.21 0 4 1.79 4 4s-1.79 4-4 4H4c-2.21 0-4-1.79-4-4s1.79-4 4-4c0-2.21 1.79-4 4-4zM4.6 9.014c-.12-.025-.242-.004-.345.055l-.038.024c-.042.029-.08.063-.112.104l-.012.014c-.034.047-.059.1-.074.16l-.006.04C4.008 9.441 4 9.469 4 9.5v2c0 .276.224.5.5.5.237 0 .426-.168.478-.39C5.728 12.459 6.818 13 8 13c1.547 0 2.956-.899 3.632-2.268.122-.247.02-.547-.228-.67-.248-.121-.547-.02-.67.228C10.227 11.322 9.162 12 8 12c-.74 0-1.436-.286-1.976-.754.135-.007.267-.064.36-.176.177-.212.148-.527-.064-.704l-1.5-1.25c-.005-.005-.012-.006-.017-.011l-.04-.024c-.04-.025-.08-.045-.124-.057zM8 5c-1.57 0-2.992.906-3.653 2.291-.119.25-.013.548.236.667.25.118.548.013.667-.236C5.746 6.682 6.817 6 8 6c.769 0 1.477.287 2.017.758-.149-.005-.298.048-.401.172-.177.212-.148.527.064.704l1.5 1.25.011.007c.01.008.023.013.034.02.04.028.083.05.127.063l.04.01c.054.012.11.017.163.01.005 0 .009.002.013.001.063-.01.118-.031.17-.059.014-.007.025-.016.038-.024.04-.027.076-.059.107-.097l.02-.021c.034-.047.06-.1.077-.158.003-.01.002-.02.004-.03.008-.034.016-.068.016-.106v-2c0-.276-.224-.5-.5-.5-.226 0-.41.152-.471.357C10.284 5.523 9.196 5 7.999 5z"/>\n        </g>\n    </g>\n</symbol><symbol id="sync" viewBox="0 0 12 16"><path d="M6 2.182V0L3.09 2.91 6 5.817V3.636A4.367 4.367 0 0 1 10.364 8a4.27 4.27 0 0 1-.51 2.036l1.062 1.062A5.769 5.769 0 0 0 11.818 8 5.817 5.817 0 0 0 6 2.182Zm0 10.182A4.367 4.367 0 0 1 1.636 8c0-.735.182-1.433.51-2.036L1.083 4.902A5.768 5.768 0 0 0 .182 8 5.817 5.817 0 0 0 6 13.818V16l2.91-2.91L6 10.183v2.182Z"/></symbol><symbol id="tab" viewBox="0 0 16 14"><path d="M14.546.454H1.455C.655.454 0 1.108 0 1.908V12.09c0 .8.655 1.454 1.455 1.454h13.09c.8 0 1.455-.654 1.455-1.454V1.908c0-.8-.655-1.454-1.454-1.454Zm0 11.636H1.455V1.908h7.272v2.91h5.819v7.272Z"/></symbol><symbol id="tag" viewBox="0 0 16 16"><path d="M15.527 7.527 8.464.464A1.598 1.598 0 0 0 7.337 0H1.602c-.88 0-1.6.72-1.6 1.6v5.735c0 .424.168.831.472 1.127l7.062 7.063c.624.624 1.64.624 2.264 0l5.735-5.735a1.596 1.596 0 0 0-.008-2.263Zm-6.863 6.87L1.602 7.335V1.6h5.735l7.062 7.062-5.735 5.735Z"/><path d="M3.601 4.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="target" viewBox="0 0 17 17"><path d="M8.22 16.219v-.731c-1.523-.17-2.829-.8-3.918-1.89-1.09-1.09-1.72-2.396-1.89-3.918H1.68a.707.707 0 0 1-.52-.21.707.707 0 0 1-.211-.52c0-.208.07-.381.21-.521.14-.14.314-.21.52-.21h.731c.17-1.522.8-2.828 1.89-3.918 1.09-1.09 2.396-1.72 3.918-1.89V1.68c0-.207.07-.38.21-.52.14-.14.314-.21.521-.21.207 0 .38.07.52.21.14.14.21.313.21.52v.73c1.523.17 2.829.801 3.918 1.89 1.09 1.09 1.72 2.397 1.89 3.919h.731c.207 0 .38.07.521.21.14.14.21.313.21.52 0 .207-.07.38-.21.52a.707.707 0 0 1-.52.21h-.731c-.17 1.523-.8 2.829-1.89 3.919-1.09 1.09-2.396 1.72-3.918 1.89v.73c0 .208-.07.381-.21.521a.707.707 0 0 1-.521.21.707.707 0 0 1-.52-.21.707.707 0 0 1-.21-.52Zm.73-2.156c1.413 0 2.618-.499 3.617-1.497.998-.999 1.497-2.204 1.497-3.617 0-1.412-.5-2.618-1.498-3.616-.998-.999-2.204-1.498-3.616-1.498s-2.618.5-3.616 1.498c-.999.998-1.498 2.204-1.498 3.616 0 1.413.5 2.618 1.498 3.617.998.998 2.204 1.497 3.616 1.497Zm0-2.191a2.814 2.814 0 0 1-2.064-.859 2.814 2.814 0 0 1-.858-2.064c0-.803.286-1.491.858-2.064a2.814 2.814 0 0 1 2.064-.858c.804 0 1.492.286 2.064.858.572.573.858 1.26.858 2.064s-.286 1.492-.858 2.064a2.814 2.814 0 0 1-2.064.859Zm0-1.462c.402 0 .746-.143 1.032-.429.286-.286.43-.63.43-1.032s-.144-.746-.43-1.032a1.407 1.407 0 0 0-1.032-.429c-.402 0-.746.143-1.032.43-.286.285-.43.63-.43 1.031 0 .402.144.746.43 1.032.286.286.63.43 1.032.43Z"/></symbol><symbol id="task" viewBox="0 0 13 16"><path d="M8 0H1.6C.72 0 .008.72.008 1.6L0 14.4c0 .88.712 1.6 1.592 1.6H11.2c.88 0 1.6-.72 1.6-1.6V4.8L8 0Zm3.2 14.4H1.6V1.6h5.6v4h4v8.8ZM3.856 8.84 2.72 9.968 5.552 12.8l4.528-4.528-1.128-1.128-3.392 3.392L3.856 8.84Z"/></symbol><symbol id="team" viewBox="0 0 16 12"><path d="M3.87 6.553c.697.014 1.345.363 1.78.974.532.75 1.412 1.2 2.35 1.2a2.87 2.87 0 0 0 2.35-1.207c.436-.61 1.083-.96 1.78-.975-.523-.887-2.617-1.454-4.13-1.454-1.505 0-3.607.567-4.13 1.462Zm-1.688-.008a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182A2.179 2.179 0 0 0 0 4.364a2.18 2.18 0 0 0 2.182 2.181Zm11.636 0A2.179 2.179 0 0 0 16 4.364a2.179 2.179 0 0 0-2.182-2.182 2.179 2.179 0 0 0-2.182 2.182c0 1.207.975 2.181 2.182 2.181ZM8 4.364a2.179 2.179 0 0 0 2.182-2.182A2.179 2.179 0 0 0 8 0a2.179 2.179 0 0 0-2.182 2.182A2.18 2.18 0 0 0 8 4.364Z"/><path d="M14.546 7.273h-2.379c-.56 0-.982.327-1.222.669-.029.043-.989 1.513-2.945 1.513a3.616 3.616 0 0 1-2.945-1.513c-.284-.4-.728-.67-1.222-.67H1.455C.655 7.273 0 7.928 0 8.728v2.91h5.09V9.992a5.097 5.097 0 0 0 2.91.916 5.097 5.097 0 0 0 2.91-.916v1.643H16V8.727c0-.8-.655-1.454-1.454-1.454Z"/></symbol><symbol id="telecom" viewBox="0 0 16 17"><path d="m4.24 10.35.96-.96C4.4 8.59 4 7.55 4 6.59c0-1.04.4-2.08 1.2-2.8l-.96-.96c-1.04 1.04-1.6 2.4-1.6 3.76 0 1.36.56 2.72 1.6 3.76ZM13.68.91l-.96.96c1.28 1.28 1.92 3.04 1.92 4.72 0 1.68-.64 3.44-1.92 4.72l.96.96c1.6-1.6 2.32-3.6 2.32-5.68 0-2.08-.8-4.08-2.32-5.68Z"/><path d="M3.28 1.87 2.32.91C.8 2.51 0 4.51 0 6.59c0 2.08.8 4.08 2.32 5.68l.96-.96C2 10.03 1.36 8.27 1.36 6.59c0-1.68.64-3.44 1.92-4.72Zm8.48 8.48c1.04-1.04 1.6-2.4 1.6-3.76-.08-1.36-.56-2.72-1.6-3.76l-.96.96c.8.8 1.2 1.84 1.2 2.8 0 1.04-.4 2.08-1.2 2.8l.96.96ZM10 6.59a2 2 0 0 0-4 0c0 .608.272 1.136.696 1.504L4 16.19h1.6l.536-1.6h3.736l.528 1.6H12L9.304 8.094c.424-.368.696-.896.696-1.504Zm-3.336 6.4L8 8.99l1.336 4H6.664Z"/></symbol><symbol id="telephone" viewBox="0 0 16 16"><path d="M15.067 16c-1.852 0-3.682-.404-5.49-1.211-1.807-.807-3.451-1.952-4.933-3.433C3.163 9.874 2.02 8.23 1.211 6.422.404 4.615 0 2.785 0 .933 0 .667.089.444.267.267A.905.905 0 0 1 .933 0h3.6c.208 0 .393.07.556.211.163.14.26.308.289.5l.578 3.111c.03.237.022.437-.023.6a.935.935 0 0 1-.244.422L3.533 7.022a10.75 10.75 0 0 0 1.056 1.59c.407.51.855 1.003 1.344 1.477.46.46.941.885 1.445 1.278.503.392 1.037.751 1.6 1.077l2.089-2.088c.133-.134.307-.234.522-.3a1.43 1.43 0 0 1 .633-.056l3.067.622c.207.06.378.167.511.322.133.156.2.33.2.523v3.6a.904.904 0 0 1-.267.666.904.904 0 0 1-.666.267Z"/></symbol><symbol id="text-info" viewBox="0 0 16 14"><path d="M0 3.53h9.706v1.764H0V3.53Zm0-1.765h9.706V0H0v1.765Zm0 7.059h6.177V7.059H0v1.765Zm13.245-2.762.626-.626a.879.879 0 0 1 1.244 0l.627.626c.344.344.344.9 0 1.244l-.627.627-1.87-1.871Zm-.627.627-4.676 4.676v1.87h1.87L14.49 8.56l-1.87-1.87Z"/></symbol><symbol id="text" viewBox="0 0 16 6"><path d="M0 0h16v2H0V0Zm0 4h10v2H0V4Z"/></symbol><symbol id="top" viewBox="0 0 16 16"><path d="M3.41 11.705 8 7.125l4.59 4.58 1.41-1.41-6-6-6 6 1.41 1.41Z"/></symbol><symbol id="to-the-cloud" viewBox="0 0 16 12"><path d="M12.9 4.693A4.993 4.993 0 0 0 3.567 3.36 3.996 3.996 0 0 0 0 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 8a3.317 3.317 0 0 0-3.1-3.307ZM12.667 10H4a2.666 2.666 0 0 1-2.667-2.667 2.649 2.649 0 0 1 2.374-2.647l.713-.073.333-.633A3.646 3.646 0 0 1 8 2a3.669 3.669 0 0 1 3.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2ZM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667Z"/></symbol><symbol id="train" viewBox="0 0 14 17"><path d="M4.053 12.29a1.263 1.263 0 1 0 0-2.527 1.263 1.263 0 0 0 0 2.527Zm5.894 0a1.263 1.263 0 1 0 0-2.527 1.263 1.263 0 0 0 0 2.527Z"/><path d="M7 .5C3.632.5.263.921.263 3.868v8a2.95 2.95 0 0 0 2.948 2.948l-1.264 1.263v.421h1.685l1.684-1.684h3.368l1.684 1.684h1.685v-.421l-1.264-1.263a2.95 2.95 0 0 0 2.948-2.948v-8C13.737.921 10.368.5 7 .5Zm0 1.684c2.956 0 4.177.404 4.69.842H2.31c.513-.438 1.734-.842 4.69-.842ZM1.947 4.711h4.21v2.526h-4.21V4.71Zm10.106 7.157c0 .7-.565 1.264-1.264 1.264H3.212a1.261 1.261 0 0 1-1.264-1.264V8.921h10.106v2.947Zm0-4.631h-4.21V4.71h4.21v2.526Z"/></symbol><symbol id="tram" viewBox="0 0 12 16"><path d="m6.8 2.4.6-1.2H10V0H2v1.2h3.8l-.6 1.2C2.696 2.472.4 2.984.4 5.2V12c0 1.2.888 2.184 2.04 2.36L1.2 15.6v.4h1.6l1.6-1.6h3.2L9.2 16h1.6v-.4l-1.24-1.24A2.394 2.394 0 0 0 11.6 12V5.2c0-2.216-2.296-2.728-4.8-2.8ZM5.224 4h1.552c2.2.064 2.896.464 3.12.8H2.104c.224-.336.92-.736 3.12-.8Zm-.144 8.76H2.592A.779.779 0 0 1 2 12v-.8h3.112a1.19 1.19 0 0 0-.312.8c0 .288.104.552.28.76ZM10 12c0 .36-.24.672-.592.76H6.92A1.17 1.17 0 0 0 7.2 12c0-.312-.12-.584-.312-.8H10v.8Zm0-2.4H2V6.4h8v3.2Z"/></symbol><symbol id="trash" viewBox="0 0 16 16"><path d="M3.556 16c-.49 0-.908-.174-1.256-.522a1.712 1.712 0 0 1-.522-1.256V2.667h-.89V.889h4.445V0h5.334v.889h4.444v1.778h-.889v11.555c0 .49-.174.908-.522 1.256a1.712 1.712 0 0 1-1.256.522H3.556Zm8.888-13.333H3.556v11.555h8.888V2.667Zm-7.11 9.777H7.11v-8H5.333v8Zm3.555 0h1.778v-8H8.889v8Z"/></symbol><symbol id="trophy" viewBox="0 0 16 16"><path d="M14.222 1.778h-1.778V0H3.556v1.778H1.778C.8 1.778 0 2.578 0 3.556v.888C0 6.711 1.707 8.56 3.902 8.836a4.453 4.453 0 0 0 3.21 2.63v2.756H3.555V16h8.888v-1.778H8.89v-2.755a4.453 4.453 0 0 0 3.209-2.631C14.293 8.56 16 6.71 16 4.444v-.888c0-.978-.8-1.778-1.778-1.778ZM1.778 4.444v-.888h1.778V6.95a2.672 2.672 0 0 1-1.778-2.506ZM8 9.778A2.675 2.675 0 0 1 5.333 7.11V1.778h5.334V7.11c0 1.467-1.2 2.667-2.667 2.667Zm6.222-5.334a2.675 2.675 0 0 1-1.778 2.507V3.556h1.778v.888Z"/></symbol><symbol id="uncloud" viewBox="0 0 16 13"><path d="M16 7.427a3.317 3.317 0 0 0-3.1-3.307A4.993 4.993 0 0 0 8 .093c-.887 0-1.713.24-2.433.647l.993.993A3.597 3.597 0 0 1 8 1.427a3.665 3.665 0 0 1 3.667 3.666v.334h1a1.997 1.997 0 0 1 1.193 3.6l.94.94c.727-.614 1.2-1.514 1.2-2.54ZM2.94 0 2 .94l1.847 1.847h-.28A3.996 3.996 0 0 0 0 6.76c0 2.207 1.793 4 4 4h7.82l1.333 1.333.94-.94L2.94 0ZM4 9.427a2.666 2.666 0 1 1 0-5.334h1.153l5.334 5.334H4Z"/></symbol><symbol id="unknow" viewBox="0 0 10 17"><path d="M7.218 4.774c0-.604-.2-1.088-.6-1.453-.4-.365-.93-.547-1.59-.547a2.31 2.31 0 0 0-1.105.263c-.33.175-.614.431-.853.768-.224.323-.53.509-.916.558a1.2 1.2 0 0 1-1-.305.996.996 0 0 1-.326-.674 1.2 1.2 0 0 1 .2-.758 4.71 4.71 0 0 1 4-2.126C6.39.5 7.495.886 8.344 1.658c.849.772 1.274 1.782 1.274 3.031 0 .632-.134 1.2-.4 1.706-.267.505-.758 1.101-1.474 1.79-.52.49-.87.873-1.053 1.147a2.33 2.33 0 0 0-.358.936c-.056.337-.2.618-.431.842a1.152 1.152 0 0 1-.832.337c-.323 0-.6-.108-.831-.326a1.067 1.067 0 0 1-.348-.81c0-.548.12-1.05.358-1.506.239-.456.639-.937 1.2-1.442.716-.631 1.19-1.12 1.421-1.463.232-.344.348-.72.348-1.126ZM5.028 16.5c-.463 0-.86-.165-1.19-.495a1.622 1.622 0 0 1-.494-1.19c0-.462.165-.859.495-1.189a1.62 1.62 0 0 1 1.19-.494c.462 0 .859.165 1.189.494.33.33.494.727.494 1.19 0 .463-.165.86-.494 1.19-.33.33-.727.494-1.19.494Z"/></symbol><symbol id="unlink" viewBox="0 0 17 16"><path d="m13.907 11.45-1.19-1.23a2.42 2.42 0 0 0 1.289-.843c.33-.416.495-.902.495-1.457 0-.66-.23-1.223-.694-1.685a2.294 2.294 0 0 0-1.685-.694H9.743a.767.767 0 0 1-.565-.228.767.767 0 0 1-.228-.565c0-.225.076-.413.228-.565a.767.767 0 0 1 .565-.228h2.38c1.096 0 2.031.386 2.805 1.16.773.773 1.16 1.708 1.16 2.805a3.9 3.9 0 0 1-.585 2.082 3.797 3.797 0 0 1-1.596 1.447Zm-2.875-2.915L9.624 7.127h.912c.225 0 .413.076.565.228.152.152.228.34.228.565a.787.787 0 0 1-.08.357.69.69 0 0 1-.217.258Zm3.866 7.236a.752.752 0 0 1-.555.218.752.752 0 0 1-.555-.218L.306 2.29a.752.752 0 0 1-.219-.555c0-.225.073-.41.219-.555A.752.752 0 0 1 .86.961c.224 0 .41.073.555.218l13.482 13.482c.145.146.218.33.218.555 0 .225-.073.41-.218.555ZM4.192 11.885c-1.097 0-2.033-.386-2.806-1.16C.613 9.953.226 9.018.226 7.92c0-.912.278-1.725.833-2.439A3.864 3.864 0 0 1 3.2 4.074L4.667 5.54h-.475c-.661 0-1.223.231-1.686.694a2.294 2.294 0 0 0-.694 1.685c0 .66.232 1.223.694 1.685a2.294 2.294 0 0 0 1.686.694H6.57c.224 0 .413.076.565.228.152.152.228.34.228.565a.767.767 0 0 1-.228.565.767.767 0 0 1-.565.228H4.19Zm1.586-3.172a.767.767 0 0 1-.565-.228.767.767 0 0 1-.228-.565c0-.225.076-.413.228-.565a.767.767 0 0 1 .565-.228h.495L7.84 8.713H5.778Z"/></symbol><symbol id="unlock" viewBox="0 0 14 17"><path d="M2.429 16.5c-.42 0-.778-.15-1.077-.448a1.467 1.467 0 0 1-.447-1.076V7.357c0-.419.149-.778.447-1.076a1.467 1.467 0 0 1 1.077-.448h6.857V4.31a2.21 2.21 0 0 0-.667-1.62A2.204 2.204 0 0 0 7 2.024c-.533 0-1 .162-1.4.486-.4.323-.67.727-.81 1.21a.758.758 0 0 1-.314.428.912.912 0 0 1-.524.162.755.755 0 0 1-.542-.21.51.51 0 0 1-.162-.495 3.843 3.843 0 0 1 1.314-2.21A3.638 3.638 0 0 1 7 .5c1.054 0 1.952.371 2.695 1.114.743.743 1.114 1.642 1.114 2.696v1.523h.762c.42 0 .778.15 1.077.448.298.298.447.657.447 1.076v7.62c0 .418-.149.777-.447 1.075a1.467 1.467 0 0 1-1.077.448H2.43Zm0-1.524h9.142V7.357H2.43v7.62ZM7 12.69c.419 0 .778-.149 1.076-.447.299-.299.448-.657.448-1.076 0-.42-.15-.778-.448-1.076A1.467 1.467 0 0 0 7 9.643c-.42 0-.778.15-1.076.447a1.467 1.467 0 0 0-.448 1.077c0 .419.15.777.448 1.076.298.298.657.447 1.076.447Z"/></symbol><symbol id="upload" viewBox="0 0 16 16"><path d="M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2ZM3 5l1.41 1.41L7 3.83V12h2V3.83l2.59 2.58L13 5 8 0 3 5Z"/></symbol><symbol id="up" viewBox="0 0 16 16"><path d="m7 3.825-4.9 4.9c-.2.2-.433.296-.7.287A1.006 1.006 0 0 1 .7 8.7C.517 8.5.42 8.266.412 8A.916.916 0 0 1 .7 7.3L7.3.7a.88.88 0 0 1 .325-.213C7.742.446 7.867.425 8 .425s.258.02.375.062A.877.877 0 0 1 8.7.7l6.6 6.6a.933.933 0 0 1 .275.687c0 .275-.092.513-.275.713-.2.2-.438.3-.713.3a.973.973 0 0 1-.712-.3L9 3.825V15c0 .283-.096.52-.288.712A.967.967 0 0 1 8 16a.967.967 0 0 1-.713-.288A.968.968 0 0 1 7 15V3.825Z"/></symbol><symbol id="videos" viewBox="0 0 16 14"><path d="M5.818 3.364v5.818l5.091-2.91-5.09-2.908Zm8.728-2.91H1.455C.655.455 0 1.11 0 1.91v8.727c0 .8.655 1.455 1.455 1.455H5.09v1.455h5.818V12.09h3.636c.8 0 1.455-.655 1.455-1.455V1.91c0-.8-.655-1.454-1.454-1.454Zm0 10.182H1.455V1.91h13.09v8.727Z"/></symbol><symbol id="walk" viewBox="0 0 11 17"><path d="M6.244 3.727c.819 0 1.489-.67 1.489-1.489 0-.818-.67-1.488-1.489-1.488-.818 0-1.488.67-1.488 1.488 0 .819.67 1.489 1.488 1.489Zm-2.753 2.53L1.407 16.75H2.97l1.34-5.954 1.562 1.489v4.465H7.36v-5.581L5.798 9.68l.446-2.232a5.45 5.45 0 0 0 4.093 1.86V7.82c-1.414 0-2.604-.744-3.2-1.786l-.744-1.191a1.597 1.597 0 0 0-1.972-.625L.663 5.81v3.498H2.15v-2.53l1.34-.521Z"/></symbol><symbol id="wallet-add" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2 0h11a1 1 0 0 1 1 1v3h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 1 0 0 2h9V2H3zm4 4v3H4v2h3v3h2v-3h3V9H9V6H7z"/>\n</symbol><symbol id="wallet-new" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2 0h11a1 1 0 0 1 1 1v3h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 1 0 0 2h9V2H3zm4 4v3H4v2h3v3h2v-3h3V9H9V6H7z"/>\n</symbol><symbol id="wallet" viewBox="0 0 16 13"><path d="M12.8 0H3.2A3.2 3.2 0 0 0 0 3.2v6.4a3.2 3.2 0 0 0 3.2 3.2h9.6A3.2 3.2 0 0 0 16 9.6V3.2A3.2 3.2 0 0 0 12.8 0Zm-1.488 7.816c-.192.16-.456.224-.704.16L1.72 5.8c.24-.584.808-1 1.48-1h9.6c.536 0 1.008.272 1.304.672l-2.792 2.344ZM3.2 1.6h9.6c.88 0 1.6.72 1.6 1.6v.44a3.198 3.198 0 0 0-1.6-.44H3.2c-.584 0-1.128.168-1.6.44V3.2c0-.88.72-1.6 1.6-1.6Z"/></symbol><symbol id="warning-circle" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm.8 12H7.2v-1.6h1.6V12Zm0-3.2H7.2V4h1.6v4.8Z"/></symbol><symbol id="warning" viewBox="0 0 16 14"><path d="M0 13.818h16L8 0 0 13.818Zm8.727-2.182H7.273v-1.454h1.454v1.454Zm0-2.909H7.273V5.818h1.454v2.91Z"/></symbol><symbol id="warn" viewBox="0 0 16 16"><path d="M11.316 0H4.684L0 4.684v6.632L4.684 16h6.632L16 11.316V4.684L11.316 0Zm2.906 10.578-3.644 3.644H5.422l-3.644-3.644V5.422l3.644-3.644h5.156l3.644 3.644v5.156Z"/><path d="M8 12.444a.889.889 0 1 0 0-1.777.889.889 0 0 0 0 1.777Zm-.889-8.888H8.89v6.222H7.11V3.556Z"/></symbol><symbol id="water" viewBox="0 0 13 16"><path d="M6.4 0C2.136 3.64 0 6.784 0 9.44 0 13.424 3.04 16 6.4 16c3.36 0 6.4-2.576 6.4-6.56 0-2.656-2.136-5.8-6.4-9.44Zm0 14.4c-2.68 0-4.8-2.056-4.8-4.96 0-1.872 1.56-4.352 4.8-7.312 3.24 2.96 4.8 5.432 4.8 7.312 0 2.904-2.12 4.96-4.8 4.96ZM3.064 9.6a.6.6 0 0 1 .592.496c.328 1.776 1.824 2.384 2.912 2.296a.602.602 0 0 1 .632.6c0 .32-.256.584-.576.6-1.704.104-3.696-.872-4.152-3.296a.6.6 0 0 1 .592-.696Z"/></symbol><symbol id="work" viewBox="0 0 16 16"><path d="M14.4 3.2h-3.2V1.6c0-.888-.712-1.6-1.6-1.6H6.4c-.888 0-1.6.712-1.6 1.6v1.6H1.6C.712 3.2.008 3.912.008 4.8L0 13.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V4.8c0-.888-.712-1.6-1.6-1.6Zm-4.8 0H6.4V1.6h3.2v1.6Z"/></symbol><symbol id="wrench-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.192 7.504a2.783 2.783 0 0 0-.648-2.896 2.775 2.775 0 0 0-3.28-.472l1.88 1.88-1.128 1.128-1.88-1.88a2.773 2.773 0 0 0 .472 3.28c.784.784 1.92.992 2.896.648l2.728 2.728c.16.16.408.16.568 0l1.12-1.12a.396.396 0 0 0 0-.568L9.192 7.504Z"/></symbol></svg>'}})}},90774:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>b,iconPropType:()=>g});var r=n(26396),a=n.n(r),i=n(16193),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=["icon","width","height","color","style","className","preserveColor","rotate","size","spin"],m={"icon--spin":"styles__icon--spin___ybfC1",spin:"styles__spin___2Vvw3",icon:"styles__icon___23x3R","icon--preserveColor":"styles__icon--preserveColor___3gBz6",shake:"styles__shake___wT_3z"};function v(e){return e instanceof Function}function y(e){var t,n=e.icon,r=e.width,i=e.height,c=e.color,u=e.style,d=e.className,f=e.preserveColor,g=e.rotate,b=e.size,w=e.spin,k=s()(e,h);if(!n)return null;var x=n.type===y,O="img"===n.type;if(x||O)return n;if("string"==typeof n&&n.includes(".png"))return p.createElement("img",o()({src:n,className:d,style:u,width:r||b||"16",height:i||b||"16"},k));var _=v(n)?n:(t=n.id?"#".concat(n.id):"#"===n[0]?n:"#"+n)?function(e){return p.createElement("svg",e,p.createElement("use",{xlinkHref:t}))}:(console.warn("Icon not found ".concat(n,".")),null),E=u;E=Object.assign({},E),c&&(E.fill=c),g&&(E.transform="rotate(".concat(g,"deg)"));var C=l()(d,m[f?"icon--preserveColor":"icon"],a()({},m["icon--spin"],w));return _?p.createElement(_,o()({className:C,style:E,width:r||b||"16",height:i||b||"16"},k)):null}y.isProperIcon=function(e){var t=e&&!!e.id,n="string"==typeof e,r=v(e);return t||n||r};var g=f().oneOfType([f().string,f().object,f().func]);y.propTypes={icon:g,width:f().oneOfType([f().string,f().number]),height:f().oneOfType([f().string,f().number]),color:f().oneOfType([f().string,f().object]),style:f().object,className:f().string,preserveColor:f().bool,size:f().oneOfType([f().string,f().number]),rotate:f().number,spin:f().bool},y.defaultProps={spin:!1};let b=y},74710:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(42460),s=n(4103),u=n.n(s),l=n(73294),d=n.n(l),f=n(96540),p=["size","className","children","color"],h=["default","inherit","primary","secondary"],m=(0,f.forwardRef)(function(e,t){var n=e.size,r=e.className,i=e.children,s=e.color,l=o()(e,p),d=h.includes(s)?s:"default";return f.createElement(c.A,a()({ref:t,className:u()(r,void 0===n?"large":n,{"cozyStyles-error":"error"===s}),color:d},l),i)});m.displayName="IconButton",m.propTypes={className:d().string,color:d().oneOf(["default","inherit","primary","secondary","error"]),size:d().oneOf(["small","medium","large","xlarge"])};let v=m},74079:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 17"},e),i.createElement("path",{d:"M7.56 4.28L2.528 9.314a.941.941 0 01-.719.295 1.034 1.034 0 01-.719-.32 1.084 1.084 0 01-.295-.72.941.941 0 01.295-.719l6.78-6.78a.901.901 0 01.334-.218c.12-.043.248-.064.385-.064s.266.021.385.064c.12.043.232.115.334.218l6.78 6.78a.958.958 0 01.283.706c0 .283-.094.527-.283.732a1 1 0 01-.732.309 1 1 0 01-.732-.309L9.616 4.28v11.48a.994.994 0 01-.295.732.994.994 0 01-.732.296.994.994 0 01-.732-.296.994.994 0 01-.295-.732V4.28z"}))}},32043:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 22 22"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.094.305a1.5 1.5 0 012.351.79l.005.02 1.581 6.135a1 1 0 00.718.719l6.136 1.58.016.005a1.5 1.5 0 010 2.892l-.016.004-6.135 1.581a1 1 0 00-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 01-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 00-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 010-2.886l.023-.006L7.25 7.968a1 1 0 00.719-.718L9.55 1.115l.005-.02a1.5 1.5 0 01.538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 002.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 00-2.155 2.155L11 18.497 9.905 14.25a3 3 0 00-2.155-2.156L3.504 11 7.75 9.904A3 3 0 009.905 7.75L11 3.503zM19 1a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V5h-1a1 1 0 110-2h1V2a1 1 0 011-1zM3 15a1 1 0 011 1 1 1 0 110 2 1 1 0 11-2 0 1 1 0 110-2 1 1 0 011-1z"}))}},43701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 16"},e),i.createElement("path",{d:"M4.5 7.2H2.9v5.6h1.6V7.2zm4.8 0H7.7v5.6h1.6V7.2zm6.8 7.2H.9V16h15.2v-1.6zm-2-7.2h-1.6v5.6h1.6V7.2zM8.5 1.808L12.668 4H4.332L8.5 1.808zM8.5 0L.9 4v1.6h15.2V4L8.5 0z"}))}},21125:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2a2 2 0 012 2v8a2 2 0 01-2 2H2a2 2 0 01-2-2V4a2 2 0 012-2h12zm0 3H2v7h12V5zm-2 1v1h-.5a1.5 1.5 0 00-1.415 1H12v1h-1.914c.19.54.68.937 1.27.993L11.5 10h.5v1h-.5a2.5 2.5 0 01-.164-4.995L11.5 6h.5zM8 9v1H4V9h4zm0-2v1H4V7h4z"}))}},31214:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 16"},e),i.createElement("path",{d:"M1.4 13.6a.774.774 0 01-.57-.23.774.774 0 01-.23-.57c0-.227.077-.417.23-.57A.774.774 0 011.4 12h.8V6.4c0-1.107.333-2.09 1-2.95a4.614 4.614 0 012.6-1.69V1.2c0-.333.117-.617.35-.85C6.383.117 6.667 0 7 0c.333 0 .617.117.85.35.233.233.35.517.35.85v.56a4.614 4.614 0 012.6 1.69c.667.86 1 1.843 1 2.95V12h.8c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 01-.23.57.774.774 0 01-.57.23H1.4zM7 16a1.54 1.54 0 01-1.13-.47 1.54 1.54 0 01-.47-1.13h3.2c0 .44-.157.817-.47 1.13A1.54 1.54 0 017 16zm-3.2-4h6.4V6.4a3.08 3.08 0 00-.94-2.26A3.081 3.081 0 007 3.2a3.08 3.08 0 00-2.26.94A3.081 3.081 0 003.8 6.4V12z"}))}},71544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 12"},e),i.createElement("path",{d:"M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454zm-1.454 0H1.455V1.455h10.181v5.818zm-5.09-5.091a2.179 2.179 0 00-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 002.182-2.181 2.179 2.179 0 00-2.182-2.182zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16z"}))}},35418:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14 1.2L12.8 0l-1.2 1.2L10.4 0 9.2 1.2 8 0 6.8 1.2 5.6 0 4.4 1.2 3.2 0 2 1.2.8 0v16L2 14.8 3.2 16l1.2-1.2L5.6 16l1.2-1.2L8 16l1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2V0L14 1.2zm-.4 12.472H2.4V2.328h11.2v11.344zM3.2 10.4h9.6V12H3.2v-1.6zm0-3.2h9.6v1.6H3.2V7.2zm0-3.2h9.6v1.6H3.2V4z"}))}},39700:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M4.175 5L8 8.817 11.825 5 13 6.175l-5 5-5-5L4.175 5z"}))}},60482:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 10"},e),i.createElement("path",{d:"M0 8.2v1.6h16V8.2H0zm0-4v1.6h16V4.2H0zm0-4v1.6h16V.2H0z"}))}},37341:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M13.818 1.455h-.727V0h-1.455v1.455H4.364V0H2.909v1.455h-.727c-.8 0-1.455.654-1.455 1.454v11.637c0 .8.655 1.454 1.455 1.454h11.636c.8 0 1.455-.655 1.455-1.454V2.909c0-.8-.655-1.454-1.455-1.454zm0 13.09H2.182v-8h11.636v8zm0-9.454H2.182V2.909h11.636v2.182z"}))}},12373:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.151 1.787A1.328 1.328 0 0012.89.889H3.11c-.587 0-1.075.373-1.262.898L0 7.11v7.111c0 .49.4.89.889.89h.889c.489 0 .889-.4.889-.89v-.889h10.666v.89c0 .488.4.888.89.888h.888c.489 0 .889-.4.889-.889v-7.11l-1.849-5.325zm-10.729.88h9.147l.96 2.764H2.462l.96-2.764zm10.8 8.889H1.778V7.11h12.444v4.445z"}),i.createElement("path",{d:"M4 10.667A1.333 1.333 0 104 8a1.333 1.333 0 000 2.667zm8 0A1.333 1.333 0 1012 8a1.333 1.333 0 000 2.667z"}))}},95567:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{fillRule:"evenodd",d:"M5.58 1.38a2.8 2.8 0 014.83-.02l.1.18.03.06h.07a2.8 2.8 0 012.93 2.29l.02.17.02.17a2.8 2.8 0 01-.36 1.54l-.1.17-.04.06.13.22a2.8 2.8 0 01-.6 3.5l-.14.12-.15.1c-.4.26-.85.42-1.32.46v5.3a.3.3 0 01-.48.23L8 14l-2.52 1.93a.3.3 0 01-.48-.24v-5.3a2.8 2.8 0 01-2.53-2.27l-.03-.18-.02-.17a2.8 2.8 0 01.36-1.53l.1-.18.04-.06-.04-.06a2.8 2.8 0 01.5-3.66l.15-.12.15-.1c.45-.3.97-.46 1.5-.47h.2l.08.01.12-.22zm2.78.7a.8.8 0 00-1.02.26l-.06.1-.62 1.24-1.4-.08a.8.8 0 00-.76 1.14l.05.1L5.32 6l-.77 1.16a.8.8 0 00.62 1.24h.1l1.39-.08.62 1.25a.8.8 0 00.6.43h.25a.8.8 0 00.53-.33l.06-.1.62-1.25 1.4.08a.8.8 0 00.76-1.14l-.05-.1L10.68 6l.77-1.16a.8.8 0 00-.62-1.24h-.1l-1.39.08-.62-1.25a.8.8 0 00-.36-.36z"}))}},16035:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 13"},e),i.createElement("path",{d:"M5.88 10.23L2.087 6.437.795 7.719l5.085 5.085L16.795 1.889 15.512.606 5.88 10.23z"}))}},72395:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M2.4 14.4h11.2v-1.6H2.4v1.6zm2.64-3.2h5.92L10.5 8h-5l-.46 3.2zM.8 16v-3.2c0-.44.157-.817.47-1.13a1.54 1.54 0 011.13-.47h1.04L3.88 8H1.6V6.4h12.8V8h-2.28l.44 3.2h1.04c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13V16H.8zm3.02-9.6L2.4 0c.44.333.893.647 1.36.94.467.293.98.44 1.54.44.533 0 1.023-.137 1.47-.41A6.624 6.624 0 008 0c.373.373.783.697 1.23.97.447.273.937.41 1.47.41a2.84 2.84 0 001.54-.44c.467-.293.92-.607 1.36-.94l-1.42 6.4h-1.64l.78-3.46-.15.02c-.1.013-.257.02-.47.02-.48 0-.95-.073-1.41-.22A5.115 5.115 0 018 2.14a4.862 4.862 0 01-1.25.62c-.447.147-.903.22-1.37.22a5.02 5.02 0 01-.53-.02l-.17-.02.78 3.46H3.82z"}))}},59549:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M9.818 6.818a.91.91 0 100-1.818.91.91 0 000 1.818zm-3.636 0a.91.91 0 100-1.818.91.91 0 000 1.818z"}),i.createElement("path",{d:"M15.956 6.52a2.915 2.915 0 00-2.043-2.305 6.628 6.628 0 00-1.593-2.117A6.461 6.461 0 008 .455c-1.658 0-3.17.618-4.32 1.643a6.5 6.5 0 00-1.593 2.117A2.905 2.905 0 00.044 6.52a2.573 2.573 0 000 .96 2.915 2.915 0 002.043 2.306c.378.807.924 1.52 1.578 2.101A6.462 6.462 0 008 13.546a6.494 6.494 0 004.342-1.659 6.607 6.607 0 001.578-2.101 2.908 2.908 0 002.036-2.306A2.56 2.56 0 0016 7a2.56 2.56 0 00-.044-.48zm-2.865 1.935c-.073 0-.138-.015-.211-.022a5.215 5.215 0 01-.626 1.353A5.073 5.073 0 018 12.09a5.074 5.074 0 01-4.255-2.305 5.213 5.213 0 01-.625-1.353c-.073.007-.138.022-.21.022-.8 0-1.455-.655-1.455-1.455s.654-1.455 1.454-1.455c.073 0 .138.015.211.022.145-.487.356-.938.625-1.352A5.074 5.074 0 018 1.909c1.782 0 3.345.916 4.255 2.306.269.414.48.865.625 1.352.073-.007.138-.022.21-.022.8 0 1.456.655 1.456 1.455s-.655 1.455-1.455 1.455zM8 10.636c1.462 0 2.72-.894 3.273-2.181H4.727C5.28 9.742 6.538 10.636 8 10.636z"}))}},5319:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 64 46"},e),i.createElement("path",{d:"M51.83 16.286C50.952 7.159 43.354-.001 34-.001c-7.238 0-13.437 4.296-16.293 10.46-.86-.272-1.756-.46-2.706-.46-4.97 0-9 4.032-9 9 0 .989.197 1.923.491 2.809C2.626 24.062 0 28.202 0 32.998 0 40.18 5.82 46 13 46v.002h36.001V46C57.288 46 64 39.285 64 30.999c0-7.315-5.24-13.39-12.17-14.713zM41.222 35.219a2.412 2.412 0 01-3.416 0l-4.85-4.849-4.79 4.79a2.41 2.41 0 01-3.405-3.406l4.788-4.788-4.848-4.848a2.417 2.417 0 013.416-3.418l4.848 4.85 4.852-4.852a2.407 2.407 0 013.407 0 2.406 2.406 0 010 3.406l-4.853 4.852 4.85 4.849a2.408 2.408 0 010 3.414z"}))}},78402:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 11"},e),i.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"#fff"}),i.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint0_linear_11512_6354)"}),i.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint1_linear_11512_6354)"}),i.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint2_linear_11512_6354)"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"cloud-rainbow_svg__paint0_linear_11512_6354",x1:16,y1:6.222,x2:0,y2:6.222,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.13,stopColor:"#A033FF"}),i.createElement("stop",{offset:.61,stopColor:"#0094FF"}),i.createElement("stop",{offset:1,stopColor:"#4FB500"})),i.createElement("linearGradient",{id:"cloud-rainbow_svg__paint1_linear_11512_6354",x1:7.333,y1:3.333,x2:4.833,y2:10.833,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),i.createElement("stop",{offset:.563,stopColor:"#FFC700"})),i.createElement("linearGradient",{id:"cloud-rainbow_svg__paint2_linear_11512_6354",x1:8.667,y1:6.222,x2:12.079,y2:11.642,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.03,stopColor:"#FF3B30",stopOpacity:0}),i.createElement("stop",{offset:.843,stopColor:"#E73B2D"}))))}},90240:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M12.444 7.111V0H3.556v3.556H0V16h7.111v-3.556H8.89V16H16V7.111h-3.556zm-8.888 7.111H1.778v-1.778h1.778v1.778zm0-3.555H1.778V8.889h1.778v1.778zm0-3.556H1.778V5.333h1.778v1.778zm3.555 3.556H5.333V8.889h1.778v1.778zm0-3.556H5.333V5.333h1.778v1.778zm0-3.555H5.333V1.778h1.778v1.778zm3.556 7.11H8.889V8.89h1.778v1.778zm0-3.555H8.889V5.333h1.778v1.778zm0-3.555H8.889V1.778h1.778v1.778zm3.555 10.666h-1.778v-1.778h1.778v1.778zm0-3.555h-1.778V8.889h1.778v1.778z"}))}},14970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 32 32",fill:"none"},e),i.createElement("g",{filter:"url(#contacts_svg__filter0_d_3096_936)"},i.createElement("path",{d:"M15.992 5.874c5.857 0 10.606 4.102 10.606 9.16 0 5.06-4.749 9.16-10.606 9.16a12.12 12.12 0 01-3.432-.49c-1.203.936-3.069 1.722-5.596 2.356a.485.485 0 01-.541-.706l.18-.329c.84-1.544 1.364-2.811 1.572-3.8-1.733-1.63-2.79-3.804-2.79-6.19 0-5.06 4.749-9.16 10.607-9.16z",fill:"#fff"})),i.createElement("g",{clipPath:"url(#contacts_svg__clip0_3096_936)"},i.createElement("rect",{width:32,height:32,rx:10,fill:"url(#contacts_svg__paint0_linear_3096_936)"}),i.createElement("g",{filter:"url(#contacts_svg__filter1_d_3096_936)",fill:"#fff"},i.createElement("path",{d:"M15.99 16.016a4.5 4.5 0 100-9 4.5 4.5 0 000 9zm8.85 6.028c-.68-1.907-2.795-4.028-8.85-4.028s-8.171 2.122-8.85 4.029c-.599 1.682 1.081 2.971 2.867 2.971h11.965c1.786 0 3.466-1.289 2.867-2.971z"}))),i.createElement("defs",null,i.createElement("filter",{id:"contacts_svg__filter0_d_3096_936",x:3.753,y:4.569,width:24.477,height:23.463,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",{dy:.326}),i.createElement("feGaussianBlur",{stdDeviation:.816}),i.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),i.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_936"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_936",result:"shape"})),i.createElement("filter",{id:"contacts_svg__filter1_d_3096_936",x:4.16,y:4.731,width:23.66,height:23.714,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",{dy:.571}),i.createElement("feGaussianBlur",{stdDeviation:1.429}),i.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),i.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_936"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_936",result:"shape"})),i.createElement("linearGradient",{id:"contacts_svg__paint0_linear_3096_936",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.23,stopColor:"#F74EA9"}),i.createElement("stop",{offset:1,stopColor:"#FFB2A8"})),i.createElement("clipPath",{id:"contacts_svg__clip0_3096_936"},i.createElement("path",{fill:"#fff",d:"M0 0h31.983v31.983H0z"}))))}},34737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M.889 3.556H15.11v1.777H.89V3.556zm0 5.333H15.11V7.11H.89v1.78zm0 3.555H7.11v-1.777H.89v1.777zm0 3.556H7.11v-1.778H.89V16zm10.142-2.516l-1.253-1.262-1.254 1.254L11.031 16l4.08-4.071-1.262-1.262-2.818 2.817zM.89 0v1.778h14.22V0H.89z"}))}},31482:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 16"},e),i.createElement("path",{d:"M10.182 0H1.455C.655 0 0 .655 0 1.455v10.181h1.455V1.455h8.727V0zm-.727 2.91H4.364c-.8 0-1.448.654-1.448 1.454L2.91 14.545c0 .8.647 1.455 1.447 1.455h8.008c.8 0 1.454-.655 1.454-1.454V7.273L9.455 2.909zM4.364 14.545V4.364h4.363V8h3.637v6.546h-8z"}))}},71477:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 36 48"},e),i.createElement("path",{d:"M35 18h-3v-4c0-7.72-6.28-14-14-14S4 6.28 4 14v4H1a1 1 0 00-1 1v25c0 2.206 1.794 4 4 4h28c2.206 0 4-1.794 4-4V19a1 1 0 00-1-1zM20.994 38.89A1 1 0 0120 40h-4a1.002 1.002 0 01-.994-1.11l.63-5.673A3.956 3.956 0 0114 30c0-2.206 1.794-4 4-4s4 1.794 4 4a3.956 3.956 0 01-1.637 3.217l.631 5.673zM26 18H10v-4c0-4.411 3.589-8 8-8s8 3.589 8 8v4z"}))}},46734:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 122 118",fill:"none"},e),i.createElement("path",{d:"M71.898 65.758c-.189 1.885-1.886 3.016-3.582 2.827h-.189c-1.697-.188-3.016-1.885-2.828-3.581 1.131-10.746.566-22.434-7.352-29.787-5.467-4.901-14.328-6.22-21.303-3.016-6.032 2.828-10.368 8.672-11.877 15.27-.377 1.697-1.696 2.828-3.393 2.64h-.188c-2.074-.19-3.394-2.074-3.017-3.96 1.697-8.672 7.73-16.4 15.459-20.171 9.237-4.336 20.926-2.64 28.466 4.147 3.017 2.64 5.28 6.221 6.976 10.18 3.77 8.295 3.77 16.779 2.828 25.45z",fill:"#FFE09D"}),i.createElement("path",{d:"M72.275 61.798c-2.263.188-4.336 0-6.599-.189.566-9.614-.565-19.795-7.729-26.393-5.467-4.901-14.328-6.221-21.303-3.016-6.032 2.828-10.368 8.672-11.877 15.27-.377 1.697-1.696 2.828-3.393 2.64h-.189c-1.13 0-2.073-.755-2.639-1.697 2.828-6.599 7.352-12.254 13.574-16.025 7.729-4.713 18.098-5.655 26.016-1.13 4.147 2.45 7.352 6.032 11.122 9.237 1.131 2.64 1.885 5.467 2.451 8.483.754 4.525.754 10.18.566 12.82z",fill:"#FFE09D"}),i.createElement("path",{d:"M75.29 110.813c-.188 2.262-1.884 3.959-4.147 4.147-19.794 1.509-35.819 1.697-52.22 1.32-4.147 0-6.41-2.639-7.54-6.033-1.697-4.147-1.509-9.991-1.697-13.762-.189-12.065 2.073-25.261 11.31-33.556 17.156-15.082 44.869-8.107 52.598 6.41 5.467 9.991 2.64 26.015 1.697 41.474z",fill:"#E0EDFF"}),i.createElement("path",{d:"M51.349 81.781c1.697 2.828 1.131 6.787-1.131 9.238-2.262 2.45-6.033 3.205-9.05 1.885-3.015-1.32-4.9-4.713-4.712-8.106.754-7.353 11.122-9.615 14.893-3.017z",fill:"#ACF"}),i.createElement("path",{d:"M41.357 101.01V90.453c0-1.508 1.132-2.64 2.64-2.64h.565c1.508 0 2.64 1.132 2.64 2.64v10.557c-.189 3.582-5.845 3.582-5.845 0z",fill:"#ACF"}),i.createElement("path",{d:"M84.529 92.15c-.566 0-33.557-2.073-37.516-2.262-1.508 0-3.393.377-4.147-.943-.566-.942-.377-3.393.754-4.147.942-.566 3.582 0 4.713 0 26.204 1.131 36.761 1.32 36.761 1.508-.188 2.64-.754 3.394-.565 5.844z",fill:"#FFE09D"}),i.createElement("path",{d:"M94.709 73.863c-10.18 0-16.402 13.762-11.5 24.508 2.262 5.09 6.598 8.483 11.5 8.483 7.352 0 13.196-7.352 13.196-16.4 0-9.992-6.598-16.59-13.196-16.59zm-.566 24.508c-3.393-.377-6.033-3.959-6.033-8.295 0-6.975 6.41-10.746 10.746-6.41 4.902 5.09 1.697 15.46-4.713 14.705z",fill:"#FFE09D"}),i.createElement("path",{d:"M94.709 106.666c-4.902 0-9.238-3.393-11.5-8.483 3.77 1.13 7.54 1.696 10.934.188 6.598.566 9.615-9.614 4.525-14.704.188-.943.565-1.886 1.32-2.64 1.319-1.32 3.393-1.508 5.089-.754 6.599 10.934.377 26.393-10.368 26.393z",fill:"#FFE09D"}),i.createElement("path",{d:"M11.194 114.395c-1.885-2.262-1.885-5.278-1.885-8.294.377-19.795 0-30.54 6.41-38.082.377-.377.942-.377 1.32-.188.377.377.377.942.188 1.32-4.524 5.278-5.09 12.819-5.467 19.983-.189 5.655-.377 11.311-.377 16.967-.189 7.163 1.508 9.614 10.18 9.426 13.196-.189 40.343-.566 39.966-.566.566 0 .943.377.943.943 0 .565-.377.942-.943.942l-39.966.566c-4.147.188-8.106 0-10.369-3.017zm93.883-67.867c-4.901.754-12.442-.754-16.778-3.582-.377-.189-.754-.189-.943 0-3.204 2.45-7.729 3.393-11.688 2.64-.754-.19-.942-1.132-.377-1.509 2.828-1.885 4.525-5.09 4.902-8.106 0-.377-.189-.566-.377-.754-4.902-3.582-7.73-10.746-6.976-16.59C75.103 4.11 93.012-4.561 107.528 2.602a25.824 25.824 0 0111.877 12.254c6.41 13.762-.377 29.221-14.328 31.672z",fill:"#ACF"}),i.createElement("path",{d:"M94.52 31.823l-8.483-6.975c-.566-.377-.566-1.32-.189-1.885l.943-1.131c.377-.566 1.32-.566 1.885-.189l4.901 4.148c.377.377 1.132.377 1.697 0 5.09-4.148 10.557-7.918 16.024-11.5.566-.377 1.32-.189 1.697.377l.754 1.32c.377.565.189 1.32-.377 1.696-10.369 6.976-18.287 13.762-18.852 14.14z",fill:"#fff"}),i.createElement("path",{d:"M9.686 59.347a23.88 23.88 0 01-8.86-1.696C.26 57.462.07 56.896.26 56.33c.188-.566.754-.754 1.32-.566 4.147 1.697 7.352 1.508 8.294 1.697.566 0 .943.377.943.943 0 .565-.566.942-1.131.942zm1.696-5.467a40.085 40.085 0 01-8.295-4.901c-.377-.566-.565-1.132-.188-1.508.377-.378.943-.566 1.32-.19 2.45 1.886 5.09 3.394 8.106 4.714.566.189.754.754.377 1.32-.188.565-.754.754-1.32.565zm1.32-5.467l-2.074-5.467c-.188-.566 0-.943.566-1.131.565-.189.942 0 1.131.565l2.074 5.467c.188.566 0 .943-.566 1.132-.565.188-.942 0-1.131-.566z",fill:"#ACF"}))}},53811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M2.4 15L1 13.6 6.6 8 1 2.4 2.4 1 8 6.6 13.6 1 15 2.4 9.4 8l5.6 5.6-1.4 1.4L8 9.4 2.4 15z"}))}},56873:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8zm0 14.4A6.408 6.408 0 011.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4zm0-7.528L10.872 4 12 5.128 9.128 8 12 10.872 10.872 12 8 9.128 5.128 12 4 10.872 6.872 8 4 5.128 5.128 4 8 6.872z"}))}},91152:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M15 2.41L13.59 1 8 6.59 2.41 1 1 2.41 6.59 8 1 13.59 2.41 15 8 9.41 13.59 15 15 13.59 9.41 8 15 2.41z"}))}},69688:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 6.59L11.59 3 13 4.41 9.41 8 13 11.59 11.59 13 8 9.41 4.41 13 3 11.59 6.59 8 3 4.41 4.41 3 8 6.59z"}))}},68882:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(96540),s=["iconRef"];let u=function(e){var t=e.iconRef,n=o()(e,s);return c.createElement("svg",a()({viewBox:"0 0 15 16"},n,{ref:t}),c.createElement("path",{d:"M14.4 4L7.2 0 0 4v8l7.2 4 7.2-4V4zM7.2 1.832l4.728 2.624L9.52 5.792a3.213 3.213 0 00-4.64 0L2.472 4.456 7.2 1.832zm-.8 11.896l-4.8-2.664V5.808L4.104 7.2A3.193 3.193 0 006.4 11.096v2.632zM5.6 8c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6-.88 0-1.6-.72-1.6-1.6zM8 13.728v-2.624a3.193 3.193 0 002.4-3.096c0-.28-.032-.552-.104-.808L12.8 5.808v5.256L8 13.728z"}))}},60042:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 16"},e),i.createElement("path",{d:"M14 3.46c0 1.91-3.134 3.459-7 3.459S0 5.37 0 3.459C0 1.55 3.134 0 7 0s7 1.549 7 3.46zm0 10.43C12.691 15.142 10.049 16 7 16s-5.691-.857-7-2.11v-1.729c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"}),i.createElement("path",{d:"M14 10.863c-1.309 1.253-3.951 2.11-7 2.11s-5.691-.857-7-2.11V9.134c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"}),i.createElement("path",{d:"M14 7.836c-1.309 1.252-3.951 2.11-7 2.11s-5.691-.858-7-2.11V6.107c1.308 1.253 3.951 2.11 7 2.11s5.692-.858 7-2.11v1.73z"}))}},1356:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 12"},e),i.createElement("path",{d:"M2.667 2h12V.667h-12c-.734 0-1.334.6-1.334 1.333v7.333H0v2h9.333v-2H2.667V2zm12.666 1.333h-4c-.366 0-.666.3-.666.667v6.667c0 .366.3.666.666.666h4c.367 0 .667-.3.667-.666V4c0-.367-.3-.667-.667-.667zm-.666 6H12V4.667h2.667v4.666z"}))}},93583:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 4"},e),i.createElement("path",{d:"M2 0C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM8 0C6.9 0 6 .9 6 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))}},98427:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4l-1.41-1.41L9 8.17V0H7v8.17L4.41 5.59 3 7l5 5 5-5z"}))}},31100:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M5.54 9.92L8 7.46l2.46 2.46L11.6 8.8 8 5.2 4.4 8.8l1.14 1.12zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8s-.62-3.3-1.86-4.54C11.3 2.22 9.787 1.6 8 1.6s-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4z"}))}},93075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 13"},e),i.createElement("path",{d:"M16 1.6c0-.88-.72-1.6-1.6-1.6H1.6C.72 0 0 .72 0 1.6v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V1.6zm-1.6 0L8 5.6l-6.4-4h12.8zm0 9.6H1.6v-8l6.4 4 6.4-4v8z"}))}},92198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 16"},e),i.createElement("path",{d:"M11.447 13.473a5.457 5.457 0 01-4.85-2.947h4.85l.843-1.684H6.04A5.587 5.587 0 015.974 8c0-.286.025-.564.067-.842h5.406l.843-1.684H6.597a5.466 5.466 0 018.412-1.626l1.491-1.49A7.541 7.541 0 0011.447.42c-3.3 0-6.096 2.114-7.14 5.053H1.341L.5 7.158h3.419a6.956 6.956 0 000 1.684H1.342L.5 10.526h3.806c1.045 2.94 3.84 5.053 7.141 5.053a7.525 7.525 0 005.053-1.937l-1.499-1.49a5.394 5.394 0 01-3.554 1.322z"}))}},99130:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M3.547 6.111L0 9.667l3.547 3.555v-2.666h6.23V8.778h-6.23V6.11zM16 4.333L12.453.778v2.667h-6.23v1.777h6.23V7.89L16 4.333z"}))}},78459:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16",fill:"none"},e),i.createElement("path",{d:"M10.838 12.894a.455.455 0 01.377.12l.538.516-.91 2.47-.585-1.239-1.254.578.85-2.309.985-.136zm2.857 0l1.015.141c.074.01.146 0 .212-.023l.858 2.326-1.254-.576L13.941 16l-.976-2.649.354-.336c.1-.096.238-.14.376-.121zM12.01 7.552c.08-.246.433-.246.514 0l.231.702c.036.11.14.186.257.186h.748c.263 0 .371.33.16.483l-.605.433a.267.267 0 00-.098.3l.23.702c.082.246-.204.451-.416.3l-.605-.435a.274.274 0 00-.319 0l-.605.434c-.212.152-.497-.053-.417-.299l.232-.702a.267.267 0 00-.098-.3l-.605-.433c-.212-.152-.103-.483.159-.483h.748a.271.271 0 00.257-.186l.231-.702z"}),i.createElement("path",{clipRule:"evenodd",d:"M11.953 5.458a.457.457 0 01.628 0l.536.513c.1.095.24.14.377.12l.738-.102a.451.451 0 01.508.364l.129.725a.45.45 0 00.232.317l.66.345c.214.112.3.373.193.59l-.328.66a.442.442 0 000 .392l.328.66a.444.444 0 01-.194.59l-.659.346a.447.447 0 00-.232.317l-.13.725a.45.45 0 01-.507.363l-.738-.102a.455.455 0 00-.377.12l-.536.513a.457.457 0 01-.628 0l-.536-.513a.455.455 0 00-.376-.12l-.739.102a.45.45 0 01-.507-.363l-.13-.725a.446.446 0 00-.233-.317l-.66-.346a.444.444 0 01-.193-.59l.328-.66a.442.442 0 000-.391l-.328-.662a.444.444 0 01.194-.59l.66-.344a.446.446 0 00.232-.317l.13-.725a.45.45 0 01.507-.364l.739.103a.456.456 0 00.376-.121l.536-.513zm.314 1.312c-1.352 0-2.447 1.082-2.447 2.416 0 1.335 1.095 2.416 2.447 2.416 1.35 0 2.447-1.082 2.448-2.416 0-1.334-1.097-2.416-2.448-2.416z"}),i.createElement("path",{d:"M6.4 8c.555 0 1.094.036 1.607.102-.022.222.014.453.12.669l.237.478-.237.48a1.24 1.24 0 00.535 1.64l.477.253.093.526c.027.148.079.287.151.41l-.088.242H0v-1.6C0 9.432 2.864 8 6.4 8zm0-8a3.202 3.202 0 013.2 3.2A3.2 3.2 0 116.4 0z"}))}},1042:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 11"},e),i.createElement("path",{d:"M8 1.5a7.105 7.105 0 016.415 4A7.1 7.1 0 018 9.5a7.098 7.098 0 01-6.415-4c1.2-2.451 3.659-4 6.415-4zM8 .045C4.364.045 1.258 2.307 0 5.5c1.258 3.193 4.364 5.454 8 5.454s6.742-2.261 8-5.454C14.742 2.307 11.636.045 8 .045zm0 3.637a1.819 1.819 0 11-.001 3.637A1.819 1.819 0 018 3.682zm0-1.455A3.278 3.278 0 004.727 5.5 3.278 3.278 0 008 8.773 3.278 3.278 0 0011.273 5.5 3.278 3.278 0 008 2.227z"}))}},6173:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 16"},e),i.createElement("path",{d:"M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0zM2.2 14.4V1.6h5.6v4h4v8.8H2.2z"}))}},65603:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 16"},e),i.createElement("path",{d:"M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0zM2.2 14.4V1.6h5.6v4h4v8.8H2.2z"}))}},57611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#F5FDFD",stroke:"#0DCBCF"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.4 5.933c0 .92-.746 1.667-1.667 1.667a.802.802 0 01-.588-.245.803.803 0 01-.245-.588V10.05c0-.52.099-1.009.297-1.463.198-.455.465-.851.802-1.188a3.812 3.812 0 011.187-.802A3.628 3.628 0 017.57 6.3c.52 0 1.009.099 1.463.297.455.198.851.465 1.188.802.337.337.604.733.802 1.188.198.454.297.942.297 1.463v2.917a.802.802 0 01-.245.588.802.802 0 01-.588.245c-.92 0-1.667-.746-1.667-1.667V11.3c0-.46.373-.833.833-.833h.417c.23 0 .417-.187.417-.417 0-.812-.283-1.502-.85-2.068-.565-.566-1.255-.849-2.067-.849-.813 0-1.502.283-2.068.85-.566.565-.849 1.255-.849 2.067 0 .23.187.417.417.417h.417c.46 0 .833.373.833.833v.833z",fill:"#0DCBCF"}))}},14196:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 16",fill:"none"},e),i.createElement("path",{d:"M3.52.5h5.792l4.908 4.907V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.52.5z",fill:"#E8EDF3",stroke:"#4F5B69"}),i.createElement("path",{d:"M14.72 5.4L9.32 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.2 3.671a1.23 1.23 0 01-.703-.2 1.267 1.267 0 01-.45-.578 2.354 2.354 0 01-.156-.91c0-.352.053-.653.157-.902a1.24 1.24 0 01.45-.568c.197-.13.43-.196.701-.196.271 0 .504.065.7.196.195.13.346.32.451.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 01-.45.577 1.21 1.21 0 01-.7.2zm0-.568c.185 0 .333-.093.443-.28.111-.186.166-.466.165-.84 0-.245-.025-.45-.076-.613a.79.79 0 00-.212-.368.462.462 0 00-.32-.124c-.185 0-.333.093-.444.277-.11.185-.166.46-.167.829 0 .249.024.456.074.623.05.165.122.29.214.373a.466.466 0 00.322.123zm3.204-2.742V9H9.04V6.411h-.02l-.741.465V6.27l.802-.508h.643zm-3.027 4V13h-.684v-2.589h-.02l-.741.465v-.607l.802-.508h.643zm2.04 3.31a1.23 1.23 0 01-.702-.2 1.267 1.267 0 01-.45-.578 2.354 2.354 0 01-.156-.91c0-.352.052-.653.157-.902a1.24 1.24 0 01.45-.568c.196-.13.43-.196.7-.196.272 0 .505.065.7.196.196.13.347.32.452.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 01-.45.577c-.195.133-.428.2-.7.2zm0-.567c.185 0 .334-.094.444-.28.111-.187.166-.467.165-.84 0-.246-.026-.45-.076-.614a.79.79 0 00-.212-.368.462.462 0 00-.321-.123c-.185 0-.332.092-.443.276-.11.185-.166.46-.168.829 0 .249.025.456.075.623.05.165.122.29.213.373a.47.47 0 00.323.123z",fill:"#4F5B69"}))}},13612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDF5FA",stroke:"#E643B3"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.404 6.089a.359.359 0 01-.492 0l-2.004-1.88 2-1.875a.365.365 0 11.5.534l-1.44 1.35 1.436 1.347a.36.36 0 010 .524zm3.004-.005a.365.365 0 01-.5-.533l1.44-1.35-1.436-1.347a.36.36 0 11.491-.524l2.005 1.88-2 1.874z",fill:"#E643B3"}))}},88382:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.2h5.834l4.966 4.966V13.6a2.8 2.8 0 01-2.8 2.8h-8a2.8 2.8 0 01-2.8-2.8V4a2.8 2.8 0 012.8-2.8z",fill:"#E8EDF3",stroke:"#4F5B69",strokeWidth:.8}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#4F5B69"}),i.createElement("path",{d:"M4.695 14.05v-1.476L9.278 8a.78.78 0 01.23-.148.718.718 0 01.534 0 .61.61 0 01.226.156l.477.486c.07.064.12.14.152.226a.753.753 0 010 .525.65.65 0 01-.152.23L6.171 14.05H4.695zm5.07-4.583l.486-.486-.487-.487-.486.487.486.486z",fill:"#4F5B69",fillOpacity:.72}))}},6397:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14",fill:"none"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.125h6.4c.88 0 1.6.731 1.6 1.625v8.125c0 .894-.72 1.625-1.6 1.625H1.6c-.88 0-1.6-.731-1.6-1.625l.008-9.75C.008 1.231.72.5 1.6.5h4.8L8 2.125z",fill:"url(#file-type-folder_svg__paint0_linear_11296_8360)"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"file-type-folder_svg__paint0_linear_11296_8360",x1:8,y1:.5,x2:8,y2:16.25,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.044,stopColor:"#1D7AFF"}),i.createElement("stop",{offset:.13,stopColor:"#7CB2FF"}),i.createElement("stop",{offset:.617,stopColor:"#76AFFF"}),i.createElement("stop",{offset:1,stopColor:"#4290FF"}))))}},36572:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FBFDF5",stroke:"#A8D306"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#A8D306"}),i.createElement("circle",{cx:10.632,cy:7.818,r:.938,fill:"#A8D306"}),i.createElement("path",{d:"M3.11 13.385a.23.23 0 00.18.37h8.435a.23.23 0 00.18-.37l-2.64-3.38-2.343 3-1.758-2.25-2.054 2.63z",fill:"#A8D306"}))}},24577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDFAF5",stroke:"#FFB81E"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zM4.127 14.183v-1.476L8.71 8.132a.78.78 0 01.23-.147.718.718 0 01.534 0 .61.61 0 01.226.156l.477.486c.07.064.12.14.152.226a.75.75 0 010 .525.65.65 0 01-.152.23l-4.574 4.575H4.127zm5.07-4.584l.485-.486-.486-.486-.486.486.486.486z",fill:"#FFB81E"}))}},4799:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 16",fill:"none"},e),i.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#FDF5F4",stroke:"#D32C3C"}),i.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88zM2.757 12.8V9.2h1.486c.255 0 .479.053.67.158.192.106.341.254.448.445.106.19.16.414.16.67 0 .257-.055.48-.165.67a1.102 1.102 0 01-.46.435 1.472 1.472 0 01-.687.153h-.888v-.76h.7c.11 0 .203-.02.28-.059a.426.426 0 00.18-.174.528.528 0 00.064-.265.513.513 0 00-.063-.264.408.408 0 00-.18-.169.606.606 0 00-.281-.06h-.33v2.82h-.934zm4.431 0H5.863V9.2h1.312c.354 0 .66.072.918.216.259.143.458.35.598.619.142.268.212.59.212.965s-.07.697-.21.967c-.14.268-.338.474-.595.618a1.84 1.84 0 01-.91.215zm-.39-.83h.357a1 1 0 00.435-.086.57.57 0 00.276-.297c.064-.14.096-.336.096-.587 0-.25-.033-.447-.098-.587a.572.572 0 00-.282-.297 1.07 1.07 0 00-.454-.086h-.33v1.94zm2.538.83V9.2h2.42v.787H10.27v.62h1.339v.787H10.27V12.8h-.934z",fill:"#D32C3C"}))}},82150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#F5FDF7",stroke:"#248A3D"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#248A3D"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.356 9.2h1.32l.806 1.239.824-1.234h1.302l-1.54 2.085 1.608 2.306H8.477l-1.009-1.444-.577.86h.585v.588h-2.2l1.6-2.296L5.356 9.2z",fill:"#34C759"}))}},21452:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 16",fill:"none"},e),i.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#FDFAF5",stroke:"#FF9500"}),i.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88z",fill:"#FF9500"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.557 8.4v4.4h.836v-1.588h1c.701 0 1.27-.63 1.27-1.406 0-.776-.569-1.406-1.27-1.406H5.557zm.836 2.15V9.062h.821c.371 0 .672.333.672.744s-.3.744-.672.744h-.821z",fill:"#FF9500"}))}},82706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 16",fill:"none"},e),i.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#F2F8FF",stroke:"#006BD8"}),i.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88zm-8.868 3H4.6l.974 4.4h.955l.632-2.562.608 2.562h.898L9.8 8.4H8.226v.733h.536l-.544 2.104L7.656 8.4h-.9l-.699 2.877L5.532 8.4z",fill:"#006BD8"}))}},946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDF5FA",stroke:"#E64343"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-5.64 6.1v-5h.865v5H9.08zm-4.76 0v-5l3.894 2.5-3.894 2.5z",fill:"#E64343"}))}},29650:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 17",fill:"none"},e),i.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#E8EDF3",stroke:"#4F5B69"}),i.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.4 2.35h1.25V9.8H6.32zM7.57 9.8h1.25v1.25H7.57zm-1.25 1.25h1.25v1.25H6.32zm1.25 1.25h1.25v1.25H7.57zm-1.25 1.25h1.25v1.25H6.32z",fill:"#4F5B69"}))}},97723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.856 10.288L16 9.144 14.856 8 12 10.856 5.144 4 8 1.144 6.856 0 5.712 1.144 4.568 0 2.856 1.712 1.712.568.568 1.712l1.144 1.144L0 4.568l1.144 1.144L0 6.856 1.144 8 4 5.144 10.856 12 8 14.856 9.144 16l1.144-1.144L11.432 16l1.712-1.712 1.144 1.144 1.144-1.144-1.144-1.144L16 11.432l-1.144-1.144z"}))}},64007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M1.6 13.4a1.54 1.54 0 01-1.13-.47A1.54 1.54 0 010 11.8V2.2c0-.44.157-.817.47-1.13A1.54 1.54 0 011.6.6h4.8L8 2.2h6.4c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13v8c0 .44-.157.817-.47 1.13a1.54 1.54 0 01-1.13.47H1.6z"}))}},83108:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM4.28 13.2A6.353 6.353 0 018 12c1.392 0 2.672.448 3.72 1.2A6.353 6.353 0 018 14.4a6.353 6.353 0 01-3.72-1.2zm8.632-1.104a7.957 7.957 0 00-9.824 0A6.365 6.365 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 1.56-.56 2.984-1.488 4.096z"}),i.createElement("path",{d:"M8 3.2A2.803 2.803 0 005.2 6c0 1.544 1.256 2.8 2.8 2.8 1.544 0 2.8-1.256 2.8-2.8 0-1.544-1.256-2.8-2.8-2.8zm0 4c-.664 0-1.2-.536-1.2-1.2 0-.664.536-1.2 1.2-1.2.664 0 1.2.536 1.2 1.2 0 .664-.536 1.2-1.2 1.2z"}))}},81412:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 16"},e),i.createElement("path",{d:"M7.245 16a.748.748 0 01-.52-.2.797.797 0 01-.26-.5l-.24-1.86a3.042 3.042 0 01-.49-.24 6.571 6.571 0 01-.45-.3l-1.74.72a.787.787 0 01-1-.32l-1.48-2.58a.752.752 0 01-.1-.56c.04-.2.14-.36.3-.48l1.5-1.14a1.91 1.91 0 01-.02-.27v-.54c0-.087.007-.177.02-.27l-1.5-1.14a.768.768 0 01-.3-.48.752.752 0 01.1-.56l1.48-2.58a.787.787 0 011-.32l1.74.72c.147-.107.3-.207.46-.3.16-.093.32-.173.48-.24L6.465.7a.797.797 0 01.26-.5.75.75 0 01.52-.2h3c.2 0 .374.067.52.2.147.133.234.3.26.5l.24 1.86c.174.067.337.147.49.24.154.093.304.193.45.3l1.74-.72a.787.787 0 011 .32l1.48 2.58a.75.75 0 01.1.56c-.04.2-.14.36-.3.48l-1.5 1.14c.014.093.02.183.02.27v.54a.984.984 0 01-.04.27l1.5 1.14c.16.12.26.28.3.48a.75.75 0 01-.1.56l-1.48 2.56a.832.832 0 01-.45.36.766.766 0 01-.57-.02l-1.7-.72a5.44 5.44 0 01-.46.3c-.16.093-.32.173-.48.24l-.24 1.86a.798.798 0 01-.26.5.748.748 0 01-.52.2h-3zm.7-1.6h1.58l.28-2.12a4.486 4.486 0 001.15-.47c.354-.207.677-.457.97-.75l1.98.82.78-1.36-1.72-1.3a2.83 2.83 0 00.14-.59 4.93 4.93 0 000-1.26 2.83 2.83 0 00-.14-.59l1.72-1.3-.78-1.36-1.98.84a4.445 4.445 0 00-.97-.77 4.486 4.486 0 00-1.15-.47l-.26-2.12h-1.58l-.28 2.12a4.484 4.484 0 00-1.15.47 4.78 4.78 0 00-.97.75l-1.98-.82-.78 1.36 1.72 1.28c-.066.2-.113.4-.14.6a4.848 4.848 0 000 1.26c.027.2.074.4.14.6l-1.72 1.3.78 1.36 1.98-.84c.294.307.617.563.97.77a4.5 4.5 0 001.15.47l.26 2.12zm.84-3.6c.774 0 1.434-.273 1.98-.82.547-.547.82-1.207.82-1.98 0-.773-.273-1.433-.82-1.98a2.698 2.698 0 00-1.98-.82c-.786 0-1.45.273-1.99.82A2.715 2.715 0 005.985 8c0 .773.27 1.433.81 1.98.54.547 1.204.82 1.99.82z"}))}},95674:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM1.6 8c0-.488.064-.968.168-1.424L5.592 10.4v.8c0 .88.72 1.6 1.6 1.6v1.544C4.048 13.944 1.6 11.256 1.6 8zm11.112 4.32a1.594 1.594 0 00-1.52-1.12h-.8V8.8c0-.44-.36-.8-.8-.8h-4.8V6.4h1.6c.44 0 .8-.36.8-.8V4h1.6c.88 0 1.6-.72 1.6-1.6v-.328A6.403 6.403 0 0114.4 8a6.393 6.393 0 01-1.688 4.32z"}))}},95842:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("g",{clipPath:"url(#gouv_svg__clip0_3250_157)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.547 11.767c-.14.185-.278.324-.418.463-.102.102-.295.223-.478.338-.232.144-.449.28-.449.357l-.363.169C1.967 13.497.402 14.22.003 14.5V16H15.2c-.043-.021-.142-.092-.3-.205-.532-.38-1.734-1.236-3.724-2.313a11.965 11.965 0 00-.96-.365c-.21-.072-.364-.125-.384-.145-.14-.093-.232-.603-.047-1.16.01-.026.018-.054.028-.084.038-.124.083-.266.158-.379v-.046a.971.971 0 01.185-.278v-.047c.047 0 .047-.046.047-.046l.046-.046a.722.722 0 01.175-.186c.036-.03.072-.062.103-.092a.676.676 0 01.165-.051c.047-.01.099-.022.16-.042.25 0 .5.05.75.1.168.033.335.067.501.085.047 0 .093 0 .14.047.139 0 .324 0 .463-.047.186-.046.371-.139.464-.37.092-.186.139-.372.046-.557-.13-.163-.009-.257.107-.347a.57.57 0 00.125-.117c.03-.091 0-.143-.037-.207a.64.64 0 01-.056-.117c-.019-.019-.045-.022-.073-.026-.04-.006-.085-.012-.112-.067.185-.093.463-.232.324-.463-.092-.14-.185-.325-.046-.464a.587.587 0 01.203-.066c.122-.025.25-.051.307-.166.11-.221-.043-.443-.18-.64-.036-.051-.07-.1-.098-.148-.062-.124-.124-.206-.186-.288a2.716 2.716 0 01-.133-.19c-.089-.13-.198-.29-.238-.45a.753.753 0 01.017-.333c.015-.074.03-.148.03-.223 0-.37-.093-.741-.186-1.112a1.3 1.3 0 01-.092-.278c-.024-.093-.047-.186-.093-.278a.694.694 0 01-.036-.093.421.421 0 00-.103-.186.14.14 0 010-.185c.092-.046.185-.14.278-.232.093-.139.046-.278-.093-.37-.106-.027-.136.037-.168.106-.025.051-.05.105-.11.125h-.093c0-.046.047-.093.093-.14 0-.045 0-.092-.046-.092a.354.354 0 01-.232-.092c-.232-.325-.603-.51-.974-.65.047 0 .093.012.14.024.046.011.092.023.139.023.185.046.37.046.51-.047.08-.04.125-.182.165-.31l.02-.06c.039-.078-.02-.19-.068-.278l-.025-.047c-.093-.185-.278-.324-.463-.417l-.371-.186C11.269.64 11.315 0 11.315 0H7.04S6.4.32 5.613.872l-.105.051c-.25.124-.52.256-.683.459-.186.232-.371.51-.464.788-.286.164-.465.436-.63.69l-.065.098a6.625 6.625 0 01-.162.271c-.195.315-.384.62-.348.98.039.353.111.672.189 1.014l.043.192c0 .045.004.09.01.136a.877.877 0 01-.01.328c.018.073.022.138.025.2.006.094.011.179.067.263a.686.686 0 01.033.082c.022.062.041.118.106.15v.093c.024 0 .035.011.047.023.011.012.023.023.046.023v.093c.048.06.1.12.152.181.148.174.302.355.405.56.046.186-.232.093-.371.047-.222-.11-.356-.251-.495-.398l-.108-.112s-.046 0-.046.046c.032.066.1.132.165.195.12.116.233.226.113.315-.047.047-.105.035-.163.024-.057-.012-.115-.024-.162.023-.03.03-.02.062-.01.093a.15.15 0 01.01.046.692.692 0 00-.291-.067c-.06-.004-.116-.007-.172-.026-.039-.019-.061-.062-.084-.105-.033-.063-.066-.127-.148-.127a6.564 6.564 0 00-.927-.185l-.245-.03C.998 7.24.655 7.194.282 7.27A.722.722 0 000 7.33v.4c.07-.018.139-.037.205-.056.106-.03.207-.06.308-.08.128-.016.25-.043.371-.07.214-.047.422-.093.645-.074-.323.021-.646.13-.97.237-.121.035-.237.056-.349.077a4.91 4.91 0 00-.21.043v.12c.54.025 1.076.115 1.58.27.185.046.417.139.602.278a.454.454 0 01.116.093c.035.034.07.07.116.092a.45.45 0 00.417.047h.14l.052-.013c.357-.09.747-.186.967-.45 0 .045 0 .045.047.045a1.29 1.29 0 00-.083.245.999.999 0 01-.15.358s0 .047.047.093h.047s-.047 0-.047.046c0 .023.012.023.03.023.017 0 .04 0 .063.024a.42.42 0 00-.325.139c0 .046.047.046.093.046a.223.223 0 01-.07.046.242.242 0 00-.069.047s0 .046.046.046c0 0-.046 0-.046.046v.093c-.046 0-.093.047-.139.093.062.062.124.041.185.02a.3.3 0 01.093-.02c-.139.046-.266.104-.394.162a4.007 4.007 0 01-.394.162c-.023 0-.023.024-.023.047s0 .046-.023.046c.025.025.05.01.081-.01a.196.196 0 01.104-.036c-.114.065-.234.13-.358.198-.228.124-.468.254-.708.405 0 0-.046.046-.046.092h-.093c-.026 0-.038.03-.05.063a.227.227 0 01-.043.076c.072.048.144.022.209-.002.061-.022.117-.043.162.002.046 0-.046.047-.093.047 0 0 0 .046-.046.046h-.278c-.013.012-.025.021-.037.03-.031.023-.056.041-.056.11-.046 0-.093 0-.14.046a8.3 8.3 0 01.362-.023c.419-.02.868-.041 1.262-.256.417-.232.788-.463 1.112-.834 0 0 .047 0 .047.046a1.266 1.266 0 01-.418.556.622.622 0 00-.185.116.622.622 0 01-.186.116c-.046.024-.08.047-.115.07-.035.023-.07.046-.116.07-.356.124-.739.18-1.12.236-.613.09-1.222.18-1.708.552 0-.047 0-.047-.047-.047l-.139.14h.093c.139-.093.278-.14.417-.186L.7 11.72l-.278.14a.64.64 0 00-.186.138v.047c-.046 0-.046.046-.046.046v.046c-.047 0-.047.047-.047.047v.046h.093c.068.034.111-.032.148-.088.013-.02.025-.039.038-.051a.223.223 0 01.07-.046.242.242 0 00.069-.047l-.047.047c0 .046.047.046.047.046a2.55 2.55 0 00-.418.325H.19v.046a.246.246 0 00-.047.07.243.243 0 01-.046.069c-.029 0-.04.018-.055.042a.22.22 0 01-.038.05L0 12.698v.136h.05c.139-.093.278-.232.417-.371h.046c.07-.046.14-.104.209-.162.07-.058.139-.116.209-.163a.64.64 0 00.185-.139l.046-.046c.113-.075.255-.12.38-.158l.084-.027h.046c.14-.024.29-.047.44-.07.151-.023.302-.046.441-.07.186 0 .371 0 .603-.046.11-.027.204-.072.291-.112.06-.028.116-.055.172-.073v.046c.186-.07.348-.185.51-.301.163-.116.325-.232.51-.302.019 0 .037.015.056.03.028.022.056.045.083.017l.081-.066c.206-.17.42-.346.708-.305 0 0 0 .046.046.046-.046.023-.093.058-.14.093a.966.966 0 01-.138.093s0 .046.046.046c.07-.023.116-.058.162-.093a.542.542 0 01.163-.092s0 .046-.047.092c-.046.047-.092.081-.139.116-.046.035-.092.07-.139.116-.216.154-.391.35-.566.546a7.066 7.066 0 01-.268.289zM1.634 7.446c.06 0 .118.002.177.009-.064-.032-.128-.02-.177-.01zm10.55-1.99c-.041-.01-.088-.021-.127-.04-.093-.024-.162-.024-.232-.024s-.139 0-.231-.023a2.36 2.36 0 01-.186.036c-.123.02-.247.041-.37.103.138-.093.277-.186.463-.232.07 0 .127-.023.185-.046a.486.486 0 01.186-.047c.139-.046.278-.092.417-.046.044.015.092.025.14.034.102.022.2.042.23.105.047.186-.092.325-.231.417 0 .024.023.047.046.07.024.023.047.046.047.07 0 .046-.093.092-.14.092-.03 0-.061.041-.092.083a.529.529 0 01-.046.056c.023 0 .023.023.023.047 0 .023 0 .046.023.046-.043.064-.036.147-.03.224.006.089.012.168-.063.193a1.11 1.11 0 01-.556 0 .304.304 0 01.111-.026c.056-.005.111-.01.167-.067v-.046c0-.046 0-.046-.046-.046 0 .046-.047.046-.047.046a.1.1 0 00-.092-.093c-.14.047-.279-.046-.371-.139l.045-.024c.065-.036.11-.06.187-.022.048 0 .058-.038.07-.08.012-.04.024-.083.069-.106h.046c.085-.106.19-.173.283-.233.11-.07.202-.13.227-.23 0-.027-.047-.038-.105-.052z"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 10.039V8.4l.027.004c.07.012.139.024.208.07-.036.036-.066.044-.093.04l.162.047c.686.196 1.358.39 1.925.794-.557.278-1.113.417-1.716.51-.092 0-.139 0-.185-.047 0 .047 0 .093-.046.093-.093 0-.186 0-.232.046a.188.188 0 01-.05.08zm.089-1.542c-.026-.01-.053-.022-.086-.022l.104.03a.668.668 0 01-.018-.008z"}),i.createElement("path",{d:"M.189 11.488a2.37 2.37 0 00-.189.008v-.054a.376.376 0 01.189.046zM0 6.927a.686.686 0 00.138-.121c0 .046 0 .046-.046.093.046.046.046.046.092.046a.712.712 0 01.093-.036.421.421 0 00.185-.103A.929.929 0 000 6.71v.216zm.648 3.495a.22.22 0 00-.039.005c-.046.01-.1.02-.1-.051.034-.102.118-.13.197-.155.028-.01.056-.018.081-.03.046-.047.14-.094.185-.047.028.055.072.061.113.066.028.004.054.008.073.027-.1.133-.224.146-.355.16-.05.006-.103.012-.155.025z"})),i.createElement("defs",null,i.createElement("clipPath",{id:"gouv_svg__clip0_3250_157"},i.createElement("path",{d:"M0 0h16v16H0z"}))))}},21023:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 15.515l-1.16-1.056C2.72 10.723 0 8.259 0 5.235c0-2.464 1.936-4.4 4.4-4.4A4.79 4.79 0 018 2.507 4.79 4.79 0 0111.6.835c2.464 0 4.4 1.936 4.4 4.4 0 3.024-2.72 5.488-6.84 9.232L8 15.515z"}))}},37582:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M7.2 12.8h1.6v-1.6H7.2v1.6zM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.408 6.408 0 011.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4zM8 3.2a3.2 3.2 0 00-3.2 3.2h1.6c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 1.6-2.4 1.4-2.4 4h1.6c0-1.8 2.4-2 2.4-4A3.2 3.2 0 008 3.2z"}))}},33712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 20 17"},e),i.createElement("path",{d:"M10 2.69l5 4.5V15h-2V9H7v6H5V7.19l5-4.5zM10 0L0 9h3v8h6v-6h2v6h6V9h3L10 0z"}))}},39941:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16",fill:"none"},e),i.createElement("style",null,"@-webkit-keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:200px}}@-ms-keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:200px}}@keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:0}}"),i.createElement("path",{d:"M1 11l3 3L15 3",stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{WebkitAnimation:"checkmark 1s ease-in-out backwards",animation:"checkmark 1s ease-in-out backwards"},strokeDasharray:"100px,100px",strokeDashoffset:200}))}},74169:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16",fill:"none"},e),i.createElement("style",null,"@-webkit-keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:200px}}@-ms-keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:200px}}@keyframes checkmark{0%{stroke-dashoffset:100px}to{stroke-dashoffset:0}}"),i.createElement("path",{className:"icon-cross-animated_svg__l1",d:"M2 2l12 12",stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{WebkitAnimation:"checkmark .5s ease-in-out backwards",animation:"checkmark .5s ease-in-out backwards"},strokeDasharray:"100px,100px",strokeDashoffset:200}),i.createElement("path",{className:"icon-cross-animated_svg__l2",d:"M14 2L2 14",stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{WebkitAnimation:"checkmark .5s ease-in-out .16s backwards",animation:"checkmark .5s ease-in-out .16s backwards"},strokeDasharray:"100px,100px",strokeDashoffset:200}))}},97146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.222 1.778v12.444H1.778V1.778h12.444zm0-1.778H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0zm-4.32 7.876l-2.666 3.44-1.903-2.303-2.666 3.431h10.666l-3.43-4.568z"}))}},49663:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 12a.774.774 0 00.57-.23.774.774 0 00.23-.57V8a.774.774 0 00-.23-.57A.774.774 0 008 7.2a.774.774 0 00-.57.23.774.774 0 00-.23.57v3.2c0 .227.077.417.23.57.153.153.343.23.57.23zm0-6.4a.774.774 0 00.57-.23.774.774 0 00.23-.57.774.774 0 00-.23-.57A.774.774 0 008 4a.774.774 0 00-.57.23.774.774 0 00-.23.57c0 .227.077.417.23.57.153.153.343.23.57.23zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16z"}))}},42394:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8.8 4.664A2.413 2.413 0 0010.264 3.2H12.8l-2.4 5.6c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4l-2.4-5.6h1.6V1.6h-4.936A2.392 2.392 0 008 0a2.392 2.392 0 00-2.264 1.6H.8v1.6h1.6L0 8.8c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4L3.2 3.2h2.536c.24.68.784 1.224 1.464 1.464V13.6H0v1.6h16v-1.6H8.8V4.664zM14.696 8.8h-2.992L13.2 5.312 14.696 8.8zm-10.4 0H1.304L2.8 5.312 4.296 8.8zM8 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8z"}))}},2231:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 10"},e),i.createElement("path",{d:"M4.674 6.391a1.34 1.34 0 01-.983-.408A1.34 1.34 0 013.283 5c0-.383.136-.71.408-.983.273-.272.6-.408.983-.408s.71.136.983.408c.272.273.408.6.408.983s-.136.71-.408.983a1.34 1.34 0 01-.983.408zm0 2.783c-1.16 0-2.145-.406-2.957-1.218C.906 7.145.5 6.16.5 5s.406-2.145 1.217-2.957C2.53 1.232 3.514.826 4.674.826a4 4 0 012.113.574 4.321 4.321 0 011.504 1.513h6.122L16.5 5l-3.13 3.13-1.392-1.043-1.391 1.043-1.478-1.043H8.29A4.321 4.321 0 016.787 8.6a4 4 0 01-2.113.574zm0-1.391c.65 0 1.22-.198 1.713-.592.493-.394.82-.892.983-1.495h2.173l1.01.713 1.425-1.061 1.235.956L14.517 5l-.695-.696H7.37a2.805 2.805 0 00-.983-1.495 2.663 2.663 0 00-1.713-.592 2.68 2.68 0 00-1.965.818A2.68 2.68 0 001.89 5c0 .765.273 1.42.818 1.965a2.68 2.68 0 001.965.818z"}))}},59007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 20 14"},e),i.createElement("path",{d:"M15.13.84C14.77.33 14.17 0 13.5 0L2.5.01C1.4.01.5.9.5 2v10c0 1.1.9 1.99 2 1.99l11 .01c.67 0 1.27-.33 1.63-.84L19.5 7 15.13.84zM13.5 12h-11V2h11l3.55 5-3.55 5z"}))}},83856:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 13 16"},e),i.createElement("path",{d:"M11.2.008L1.6 0C.712 0 0 .712 0 1.6v12.8c0 .888.712 1.6 1.6 1.6h9.6c.888 0 1.6-.712 1.6-1.6V1.6c0-.888-.712-1.592-1.6-1.592zm0 14.392H1.6L1.592 1.6H11.2v12.8z"}),i.createElement("path",{d:"M3.2 4a.8.8 0 100-1.6.8.8 0 000 1.6zm2.4 0a.8.8 0 100-1.6.8.8 0 000 1.6zm.8 9.6c2.208 0 4-1.792 4-4s-1.792-4-4-4-4 1.792-4 4 1.792 4 4 4zm1.888-5.888a2.675 2.675 0 010 3.776 2.675 2.675 0 01-3.776 0l3.776-3.776z"}))}},35062:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M6.8 8l3.9 3.9a.948.948 0 01.275.7.948.948 0 01-.275.7.948.948 0 01-.7.275.948.948 0 01-.7-.275L4.7 8.7a.877.877 0 01-.213-.325A1.107 1.107 0 014.425 8c0-.134.02-.259.062-.375A.877.877 0 014.7 7.3l4.6-4.6a.948.948 0 01.7-.275c.283 0 .517.091.7.275a.948.948 0 01.275.7.948.948 0 01-.275.7L6.8 8z"}))}},46060:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 12 16"},e),i.createElement("path",{d:"M3.6 15.2c0 .44.36.8.8.8h3.2c.44 0 .8-.36.8-.8v-.8H3.6v.8zM6 0A5.606 5.606 0 00.4 5.6c0 1.904.952 3.576 2.4 4.592V12c0 .44.36.8.8.8h4.8c.44 0 .8-.36.8-.8v-1.808A5.597 5.597 0 0011.6 5.6C11.6 2.512 9.088 0 6 0zm2.28 8.88l-.68.48v1.84H4.4V9.36l-.68-.48A3.997 3.997 0 012 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 1.304-.64 2.528-1.72 3.28z"}))}},67425:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 9 16"},e),i.createElement("path",{d:"M3.554 16h-.89l.89-6.222H.443c-.783 0-.294-.667-.276-.694C1.314 7.058 3.038 4.036 5.34 0h.89l-.89 6.222h3.12c.356 0 .552.17.356.587C5.305 12.933 3.554 16 3.554 16z"}))}},54231:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222zM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778z"}))}},75303:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 10"},e),i.createElement("path",{d:"M0 5.889h1.778V4.111H0V5.89zm0 3.556h1.778V7.667H0v1.778zm0-7.112h1.778V.556H0v1.777zM3.556 5.89H16V4.111H3.556V5.89zm0 3.556H16V7.667H3.556v1.778zm0-8.89v1.778H16V.556H3.556zM0 5.89h1.778V4.111H0V5.89zm0 3.556h1.778V7.667H0v1.778zm0-7.112h1.778V.556H0v1.777zM3.556 5.89H16V4.111H3.556V5.89zm0 3.556H16V7.667H3.556v1.778zm0-8.89v1.778H16V.556H3.556z"}))}},23325:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M12.444 4.444l-1.253 1.254 1.405 1.413H5.333V8.89h7.263l-1.405 1.404 1.253 1.263L16 8l-3.556-3.556zM1.778 1.778H8V0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16H8v-1.778H1.778V1.778z"}))}},84614:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 16"},e),i.createElement("path",{d:"M2.6 16c-.489 0-.907-.174-1.256-.522a1.712 1.712 0 01-.522-1.256V1.778c0-.49.174-.908.522-1.256A1.712 1.712 0 012.6 0h5.333a.86.86 0 01.634.256.86.86 0 01.255.633.86.86 0 01-.255.633.86.86 0 01-.634.256H2.6v12.444h5.333a.86.86 0 01.634.256.86.86 0 01.255.633.86.86 0 01-.255.633.86.86 0 01-.634.256H2.6zm10.822-7.111H7.044a.86.86 0 01-.633-.256A.86.86 0 016.156 8a.86.86 0 01.255-.633.86.86 0 01.633-.256h6.378l-1.666-1.667a.816.816 0 01-.245-.6c0-.237.082-.444.245-.622a.843.843 0 01.622-.278.84.84 0 01.644.256L16.2 7.378a.853.853 0 01.267.622.853.853 0 01-.267.622L13.022 11.8a.827.827 0 01-.633.256.907.907 0 01-.633-.278.864.864 0 01-.234-.634.869.869 0 01.256-.61l1.644-1.645z"}))}},13691:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 17"},e),i.createElement("path",{d:"M12.18 10.808h-.723l-.256-.247a5.92 5.92 0 001.436-3.87 5.946 5.946 0 10-5.946 5.947 5.92 5.92 0 003.87-1.437l.247.256v.723l4.574 4.565 1.363-1.363-4.565-4.574zm-5.489 0a4.111 4.111 0 01-4.116-4.117A4.111 4.111 0 016.69 2.575a4.111 4.111 0 014.117 4.116 4.111 4.111 0 01-4.117 4.117z"}))}},83555:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.289 1.92l.02-.02.737-.737.02-.02c.241-.24.454-.453.645-.615a2.11 2.11 0 01.718-.426c.418-.136.87-.136 1.288 0 .286.093.515.253.718.426.191.162.404.374.644.615l.02.02.738.737.02.02c.24.241.454.454.615.645.173.203.333.432.426.718.136.419.136.87 0 1.288a2.117 2.117 0 01-.426.718c-.162.191-.374.404-.615.644l-.02.02-.737.738-.02.02c-.241.24-.454.454-.645.615a2.118 2.118 0 01-.718.426c-.418.136-.87.136-1.288 0a2.117 2.117 0 01-.718-.426 10.947 10.947 0 01-.644-.615l-.02-.02-.738-.737-.02-.02c-.24-.241-.454-.454-.615-.645a2.118 2.118 0 01-.426-.718 2.084 2.084 0 010-1.288 2.11 2.11 0 01.426-.718c.161-.191.374-.404.615-.644zm.576 1.657c-.11.129-.126.177-.13.189a.521.521 0 000 .322c.004.012.02.06.13.19.116.136.283.303.55.57l.737.737c.267.267.434.434.57.55.13.11.178.126.19.13a.521.521 0 00.322 0c.011-.004.06-.02.19-.13.136-.116.303-.283.57-.55l.737-.737c.267-.267.434-.434.55-.57.11-.13.126-.178.13-.19a.521.521 0 000-.322c-.004-.012-.02-.06-.13-.19a11.036 11.036 0 00-.55-.57l-.737-.737a10.98 10.98 0 00-.57-.55c-.13-.11-.178-.126-.19-.13a.521.521 0 00-.322 0c-.012.004-.06.02-.19.13a10.98 10.98 0 00-.57.55l-.737.737c-.267.267-.434.434-.55.57zM3.91 7.314h.028c.34 0 .641 0 .89-.02a2.12 2.12 0 00.81-.207c.392-.2.71-.519.91-.91a2.12 2.12 0 00.207-.81c.02-.249.02-.55.02-.89V3.376c0-.34 0-.64-.02-.89a2.119 2.119 0 00-.206-.808 2.085 2.085 0 00-.911-.911 2.118 2.118 0 00-.81-.207c-.249-.02-.55-.02-.89-.02H2.837c-.34 0-.64 0-.89.02a2.12 2.12 0 00-.809.207c-.392.2-.71.519-.91.91a2.118 2.118 0 00-.208.81c-.02.249-.02.55-.02.89v1.101c0 .34 0 .64.02.89.022.265.07.54.207.808.2.392.519.711.911.911.268.137.543.185.809.207.25.02.55.02.89.02H3.91zm1.018-1.62c-.011.006-.057.028-.226.042a11.01 11.01 0 01-.792.015H2.866c-.377 0-.614 0-.792-.015-.169-.014-.215-.036-.226-.042a.521.521 0 01-.228-.228c-.005-.01-.028-.057-.041-.226a10.986 10.986 0 01-.016-.792V3.406c0-.378.001-.614.016-.792.013-.17.036-.216.041-.226a.521.521 0 01.228-.228c.01-.006.057-.028.226-.042.178-.014.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.042.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.414.015.792v1.042c0 .378 0 .614-.015.792-.014.17-.036.216-.041.226a.521.521 0 01-.228.228zM3.909 16h.028c.34 0 .642 0 .89-.02a2.12 2.12 0 00.81-.207c.392-.2.71-.519.91-.911.137-.268.186-.543.207-.809.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.119 2.119 0 00-.206-.809 2.085 2.085 0 00-.911-.91 2.117 2.117 0 00-.81-.207c-.248-.02-.55-.02-.89-.02H2.838c-.34 0-.64 0-.89.02-.266.021-.54.07-.809.206-.392.2-.71.52-.91.911a2.118 2.118 0 00-.208.81c-.02.248-.02.55-.02.89v1.099c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.911.91.268.137.543.186.809.208.25.02.55.02.89.02H3.91zm1.018-1.62c-.011.005-.057.028-.226.041a10.95 10.95 0 01-.792.016H2.866c-.377 0-.614-.001-.792-.016-.169-.013-.215-.036-.226-.041a.521.521 0 01-.228-.228c-.005-.01-.028-.057-.041-.226a10.985 10.985 0 01-.016-.792V12.09c0-.377.001-.614.016-.792.013-.168.036-.215.041-.226a.521.521 0 01.228-.228c.01-.005.057-.027.226-.041.178-.015.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.041.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.041.226a.521.521 0 01-.228.228zM12.594 16h.03c.34 0 .64 0 .89-.02.265-.022.54-.07.808-.207.392-.2.711-.519.911-.911a2.12 2.12 0 00.207-.809c.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.12 2.12 0 00-.207-.809 2.085 2.085 0 00-.91-.91 2.117 2.117 0 00-.81-.207c-.249-.02-.55-.02-.89-.02h-1.101c-.34 0-.64 0-.89.02-.265.021-.54.07-.808.206-.392.2-.711.52-.911.911a2.118 2.118 0 00-.207.81c-.02.248-.02.55-.02.89v1.099c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.91.91.269.137.544.186.81.208.249.02.55.02.89.02h1.071zm1.018-1.62c-.01.005-.057.028-.226.041a10.6 10.6 0 01-.792.016h-1.042a10.6 10.6 0 01-.792-.016c-.17-.013-.216-.036-.226-.041a.521.521 0 01-.228-.228c-.006-.01-.028-.057-.042-.226a11.009 11.009 0 01-.015-.792V12.09c0-.377 0-.614.015-.792.014-.168.036-.215.042-.226a.521.521 0 01.228-.228c.01-.005.057-.027.226-.041.178-.015.414-.015.792-.015h1.042c.378 0 .614 0 .792.015.17.014.216.036.226.041.098.05.178.13.228.228.006.01.028.057.042.226.014.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.042.226a.521.521 0 01-.228.228z"}))}},29335:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M0 1.778v12.444C0 15.2.791 16 1.778 16H7.11V0H1.778C.79 0 0 .8 0 1.778zm5.333 12.444H1.778V1.778h3.555v12.444zM14.222 0H8.89v7.111H16V1.778C16 .8 15.2 0 14.222 0zm0 5.333h-3.555V1.778h3.555v3.555zM8.889 16h5.333C15.2 16 16 15.2 16 14.222V8.89H8.889V16zm1.778-5.333h3.555v3.555h-3.555v-3.555z"}))}},12939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 15"},e),i.createElement("path",{d:"M1.455 12.954h12.363v1.455H1.455A1.46 1.46 0 010 12.954V3.5h1.455v9.454zM16 3.5v6.545c0 .8-.655 1.455-1.454 1.455H4.364a1.46 1.46 0 01-1.455-1.455l.007-8c0-.8.648-1.454 1.448-1.454H8l1.455 1.454h5.09c.8 0 1.455.655 1.455 1.455zM4.364 10.045h10.181V3.5H8.852L7.396 2.045H4.364v8z"}))}},21375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M13.6 1.6h-3.344A2.408 2.408 0 008 0C6.96 0 6.08.672 5.744 1.6H2.4c-.88 0-1.6.72-1.6 1.6v11.2c0 .88.72 1.6 1.6 1.6h11.2c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6zM8 1.4c.328 0 .6.272.6.6 0 .328-.272.6-.6.6a.604.604 0 01-.6-.6c0-.328.272-.6.6-.6zm5.6 13H2.4V3.2h11.2v11.2z"}),i.createElement("path",{d:"M10.464 8.024L8.768 6.328 4 11.088V12.8h1.68l4.784-4.776zm1.416-1.408a.396.396 0 000-.568L10.752 4.92a.396.396 0 00-.568 0l-.848.848 1.696 1.696.848-.848z"}))}},806:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 8"},e),i.createElement("path",{d:"M3.847 7.097H2.298V2.452H.75V.903h3.097v6.194zm6.71-1.549H7.46V4.516h2.064c.568 0 1.033-.464 1.033-1.032V1.936c0-.568-.465-1.033-1.033-1.033H5.911v1.549h3.097v1.032H6.944c-.568 0-1.033.464-1.033 1.032v2.58h4.646V5.549zm6.193.517v-4.13c0-.567-.465-1.032-1.032-1.032h-3.613v1.549h3.097v1.032h-2.065v1.032h2.065v1.032h-3.097v1.549h3.613c.567 0 1.032-.465 1.032-1.032z"}))}},29195:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222zM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778z"}))}},54215:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 17 14"},e),i.createElement("path",{d:"M2.031 2.452l5.722 2.453-5.73-.762.008-1.691zm5.715 6.643L2.024 11.55V9.857l5.722-.762zM.508.143L.5 5.476 11.929 7 .5 8.524l.008 5.333L16.5 7 .508.143z"}))}},66052:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M.889 16a.86.86 0 01-.633-.256.86.86 0 01-.256-.633v-2.155a1.755 1.755 0 01.511-1.245L11.733.511c.178-.163.374-.289.59-.378a1.836 1.836 0 011.366 0c.222.09.415.223.578.4l1.222 1.245c.178.163.307.355.389.578a1.925 1.925 0 010 1.344 1.666 1.666 0 01-.39.589l-11.2 11.2A1.755 1.755 0 013.045 16H.89zM12.978 4.267l1.244-1.245-1.244-1.244-1.245 1.244 1.245 1.245z"}))}},70804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 1.9a2.1 2.1 0 110 4.2 2.1 2.1 0 010-4.2zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1zM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}))}},20375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 13"},e),i.createElement("path",{d:"M12.768 5.398h-.905a.753.753 0 01-.553-.222.745.745 0 01-.223-.55.76.76 0 01.223-.554.746.746 0 01.553-.226h.905v-.904c0-.22.073-.404.221-.553a.745.745 0 01.55-.223.76.76 0 01.555.223c.15.149.226.333.226.553v.904h.904c.22 0 .404.074.553.222a.745.745 0 01.223.55.76.76 0 01-.223.554.746.746 0 01-.553.226h-.904v.905a.75.75 0 01-.222.552.745.745 0 01-.55.224.759.759 0 01-.554-.224.746.746 0 01-.226-.552v-.905zm-6.706.825c-.868 0-1.604-.302-2.208-.906-.604-.604-.906-1.34-.906-2.208 0-.868.302-1.603.906-2.205C4.458.3 5.194 0 6.062 0 6.93 0 7.665.301 8.27.904c.604.602.906 1.337.906 2.205 0 .868-.302 1.604-.906 2.208-.604.604-1.34.906-2.208.906zM0 10.753v-.36c0-.383.094-.734.281-1.055.188-.32.446-.576.774-.766.76-.44 1.563-.778 2.409-1.013a9.646 9.646 0 012.598-.353c.893 0 1.762.117 2.607.35.846.234 1.646.57 2.4 1.01.328.191.586.446.773.765.188.32.282.673.282 1.061v.36c0 .471-.166.872-.497 1.203a1.64 1.64 0 01-1.203.497h-8.73c-.472 0-.871-.166-1.2-.497A1.643 1.643 0 010 10.753z"}))}},6330:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 17"},e),i.createElement("path",{d:"M4.176 12.735h5.648V7.088h3.764L7 .5.412 7.088h3.764v5.647zM7 3.164l2.042 2.042h-1.1v5.647H6.058V5.206h-1.1L7 3.164zM.412 14.618h13.176V16.5H.412v-1.882z"}))}},55246:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M15.2 11.2V9.6l-6.4-4V1.2C8.8.536 8.264 0 7.6 0c-.664 0-1.2.536-1.2 1.2v4.4L0 9.6v1.6l6.4-2v4.4l-1.6 1.2V16l2.8-.8 2.8.8v-1.2l-1.6-1.2V9.2l6.4 2z"}))}},94283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 14"},e),i.createElement("path",{d:"M6 8H1a.968.968 0 01-.713-.287A.968.968 0 010 7c0-.283.096-.52.287-.713A.968.968 0 011 6h5V1c0-.283.096-.52.287-.713A.968.968 0 017 0c.283 0 .52.096.713.287A.975.975 0 018 1v5h5c.283 0 .52.096.713.287.191.192.287.43.287.713s-.096.52-.287.713A.968.968 0 0113 8H8v5c0 .283-.096.52-.287.713A.967.967 0 017 14a.967.967 0 01-.713-.287A.968.968 0 016 13V8z"}))}},60610:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7z"}))}},27324:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M13.64 2.35A7.958 7.958 0 007.99 0C3.57 0 0 3.58 0 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08a5.99 5.99 0 01-5.65 4c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L8.99 7h7V0l-2.35 2.35z"}))}},96551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 12"},e),i.createElement("path",{d:"M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454zm-1.454 0H1.455V1.455h10.181v5.818zm-5.09-5.091a2.179 2.179 0 00-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 002.182-2.181 2.179 2.179 0 00-2.182-2.182zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16z"}))}},87681:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 17"},e),i.createElement("path",{d:"M.727 16.8v-2.91h14.546v2.91H.727zm1.455-4.364v-3.09l8.145-8.128A1.436 1.436 0 0111.345.8c.194 0 .382.036.564.109.182.073.346.182.491.327l1 1.018c.146.134.252.291.318.473.067.182.1.37.1.564a1.5 1.5 0 01-.1.536 1.363 1.363 0 01-.318.482l-8.127 8.127H2.182zm9.163-8.145l1.019-1.018-1.019-1.019-1.018 1.019 1.018 1.018z"}))}},26151:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M6.222 3.556V0L0 6.222l6.222 6.222V8.8c4.445 0 7.556 1.422 9.778 4.533-.889-4.444-3.556-8.889-9.778-9.777z"}))}},44944:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 15 16"},e),i.createElement("path",{d:"M10.4 3.2v6.4h2.4V16h1.6V0c-2.208 0-4 1.792-4 3.2zm-4 2.4H4.8V0H3.2v5.6H1.6V0H0v5.6a3.2 3.2 0 003.2 3.2V16h1.6V8.8A3.2 3.2 0 008 5.6V0H6.4v5.6z"}))}},83393:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8.6 8L4.7 4.1a.948.948 0 01-.275-.7c0-.284.092-.517.275-.7a.948.948 0 01.7-.275c.283 0 .517.091.7.275l4.6 4.6c.1.1.17.208.213.325.041.116.062.241.062.375 0 .133-.02.258-.063.375a.878.878 0 01-.212.325l-4.6 4.6a.948.948 0 01-.7.275.948.948 0 01-.7-.275.948.948 0 01-.275-.7c0-.284.092-.517.275-.7L8.6 8z"}))}},61674:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 14 17"},e),i.createElement("path",{d:"M2.429 16.5c-.42 0-.778-.15-1.077-.448a1.467 1.467 0 01-.447-1.076V7.357c0-.419.149-.778.447-1.076a1.467 1.467 0 011.077-.448h.761V4.31c0-1.054.372-1.953 1.115-2.696C5.048.871 5.946.5 7 .5c1.054 0 1.952.371 2.695 1.114.743.743 1.114 1.642 1.114 2.696v1.523h.762c.42 0 .778.15 1.077.448.298.298.447.657.447 1.076v7.62c0 .418-.149.777-.447 1.075a1.467 1.467 0 01-1.077.448H2.43zM7 12.69c.419 0 .778-.149 1.076-.447.299-.299.448-.657.448-1.076 0-.42-.15-.778-.448-1.076A1.467 1.467 0 007 9.643c-.42 0-.778.15-1.076.447a1.467 1.467 0 00-.448 1.077c0 .419.15.777.448 1.076.298.298.657.447 1.076.447zM4.714 5.833h4.572V4.31a2.21 2.21 0 00-.667-1.62A2.204 2.204 0 007 2.024c-.635 0-1.175.222-1.619.666a2.204 2.204 0 00-.667 1.62v1.523z"}))}},41007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M8 0L0 4.364l2.91 1.585v4.364L8 13.09l5.09-2.778V5.949l1.456-.793v5.026H16V4.364L8 0zm4.96 4.364L8 7.069 3.04 4.364 8 1.658l4.96 2.706zm-1.324 5.083L8 11.433 4.364 9.447V6.742L8 8.727l3.636-1.985v2.705z"}))}},82428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.222 10.667v3.555H1.778v-3.555h12.444zm.89-1.778H.888c-.489 0-.889.4-.889.889v5.333a.893.893 0 00.89.889H15.11c.489 0 .889-.4.889-.889V9.778c0-.49-.4-.89-.889-.89zM3.555 13.778a1.337 1.337 0 01-1.334-1.334c0-.737.605-1.333 1.334-1.333.728 0 1.333.596 1.333 1.333 0 .738-.596 1.334-1.333 1.334zm10.666-12v3.555H1.778V1.778h12.444zM15.112 0H.888C.4 0 0 .4 0 .889v5.333c0 .49.4.89.889.89H15.11c.489 0 .889-.4.889-.89V.89a.89.89 0 00-.888-.89zM3.555 4.889a1.337 1.337 0 01-1.334-1.333c0-.738.605-1.334 1.334-1.334.728 0 1.333.605 1.333 1.334 0 .728-.596 1.333-1.333 1.333z"}))}},91292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M12.8 16a2.314 2.314 0 01-1.7-.7 2.314 2.314 0 01-.7-1.7c0-.093.007-.19.02-.29.013-.1.033-.19.06-.27L4.84 9.76c-.227.2-.48.357-.76.47-.28.113-.573.17-.88.17a2.314 2.314 0 01-1.7-.7A2.314 2.314 0 01.8 8c0-.667.233-1.233.7-1.7a2.314 2.314 0 011.7-.7c.307 0 .6.057.88.17.28.113.533.27.76.47l5.64-3.28a1.464 1.464 0 01-.06-.27 2.2 2.2 0 01-.02-.29c0-.667.233-1.233.7-1.7a2.314 2.314 0 011.7-.7c.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7-.307 0-.6-.057-.88-.17a2.635 2.635 0 01-.76-.47L5.52 7.44c.027.08.047.17.06.27a2.195 2.195 0 010 .58c-.013.1-.033.19-.06.27l5.64 3.28c.227-.2.48-.357.76-.47.28-.113.573-.17.88-.17.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7z"}))}},8179:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M5 6v2H3v6h10V8h-2V6h2a2 2 0 012 2v6a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h2zM8.707.293L11.5 3.086A1 1 0 0110.086 4.5L9 3.414V11a1 1 0 01-2 0V3.414L6 4.5a1 1 0 01-1.414-1.414L7.293.293a1 1 0 011.414 0z",fillRule:"evenodd"}))}},66927:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M11.639 8.8c.6 0 1.127-.328 1.4-.824l2.862-5.19a.797.797 0 00-.696-1.184H3.37l-.752-1.6H.003v1.6h1.6l2.878 6.07-1.08 1.951C2.819 10.695 3.587 12 4.802 12h9.597v-1.6H4.8l.88-1.6h5.958zm-7.51-5.598h9.717L11.639 7.2H6.025L4.129 3.202zm.672 9.596c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599zm7.997 0c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599z"}))}},56706:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e,{role:"progressbar","aria-busy":"true"}),i.createElement("path",{d:"M8 16a7.74 7.74 0 01-3.1-.63 8.114 8.114 0 01-2.55-1.72A8.115 8.115 0 01.63 11.1 7.74 7.74 0 010 8c0-1.107.21-2.143.63-3.11a8.146 8.146 0 011.72-2.54A8.114 8.114 0 014.9.63 7.74 7.74 0 018 0c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 01-.23.57.774.774 0 01-.57.23c-1.773 0-3.283.623-4.53 1.87C2.223 4.717 1.6 6.227 1.6 8c0 1.773.623 3.283 1.87 4.53C4.717 13.777 6.227 14.4 8 14.4c1.773 0 3.283-.623 4.53-1.87C13.777 11.283 14.4 9.773 14.4 8c0-.227.077-.417.23-.57a.774.774 0 01.57-.23c.227 0 .417.077.57.23.153.153.23.343.23.57a7.74 7.74 0 01-.63 3.1 8.115 8.115 0 01-1.72 2.55 8.146 8.146 0 01-2.54 1.72A7.72 7.72 0 018 16z"}))}},81539:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 12 12"},e),i.createElement("path",{d:"M10 2v8H2V2h8zm2-2H0v12h12V0z"}))}},32022:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16",fill:"none"},e),i.createElement("rect",{width:16,height:16,rx:5.284,fill:"url(#store_svg__paint0_linear_11291_1430)"}),i.createElement("g",{filter:"url(#store_svg__filter0_d_11291_1430)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.796 5.66a1.387 1.387 0 01-.578 1.64v3.633a2.284 2.284 0 01-2.285 2.284H5.14a2.284 2.284 0 01-2.284-2.284V7.296a1.387 1.387 0 01-.573-1.636l.658-1.877c.195-.556.72-.928 1.309-.928h7.579c.59 0 1.114.372 1.309.928l.658 1.877zm-3.871.959c-.134.177-.331.266-.59.266a.635.635 0 01-.49-.223.758.758 0 01-.201-.525v-2.13h1.123l.316 2.015a.786.786 0 01-.158.597zm-2.641.043a.706.706 0 01-.54.223c-.22 0-.4-.086-.54-.259a.73.73 0 01-.15-.604l.316-2.015h1.123v2.13c0 .201-.07.376-.209.525zm-2.648.036a.633.633 0 01-.453.187c-.279 0-.478-.11-.598-.33-.12-.221-.15-.428-.093-.62l.576-1.928H5.19l-.317 2.216a.804.804 0 01-.237.475zm7.923-.144c-.125.22-.327.331-.605.331a.633.633 0 01-.453-.187.804.804 0 01-.238-.475l-.316-2.216h1.093l.605 1.928c.067.192.038.399-.086.62z",fill:"#fff"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"store_svg__paint0_linear_11291_1430",x1:2.774,y1:14.564,x2:15.094,y2:.979,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.23,stopColor:"#3D74FE"}),i.createElement("stop",{offset:1,stopColor:"#91CFFF"})),i.createElement("filter",{id:"store_svg__filter0_d_11291_1430",x:1.387,y:2.203,width:13.304,height:11.993,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",{dy:.163}),i.createElement("feGaussianBlur",{stdDeviation:.408}),i.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),i.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11291_1430"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11291_1430",result:"shape"}))))}},63468:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 12 16"},e),i.createElement("path",{d:"M6 2.182V0L3.09 2.91 6 5.817V3.636A4.367 4.367 0 0110.364 8a4.27 4.27 0 01-.51 2.036l1.062 1.062A5.769 5.769 0 0011.818 8 5.817 5.817 0 006 2.182zm0 10.182A4.367 4.367 0 011.636 8c0-.735.182-1.433.51-2.036L1.083 4.902A5.768 5.768 0 00.182 8 5.817 5.817 0 006 13.818V16l2.91-2.91L6 10.183v2.182z"}))}},23566:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 12"},e),i.createElement("path",{d:"M3.87 6.553c.697.014 1.345.363 1.78.974.532.75 1.412 1.2 2.35 1.2a2.87 2.87 0 002.35-1.207c.436-.61 1.083-.96 1.78-.975-.523-.887-2.617-1.454-4.13-1.454-1.505 0-3.607.567-4.13 1.462zm-1.688-.008a2.179 2.179 0 002.182-2.181 2.179 2.179 0 00-2.182-2.182A2.179 2.179 0 000 4.364a2.18 2.18 0 002.182 2.181zm11.636 0A2.179 2.179 0 0016 4.364a2.179 2.179 0 00-2.182-2.182 2.179 2.179 0 00-2.182 2.182c0 1.207.975 2.181 2.182 2.181zM8 4.364a2.179 2.179 0 002.182-2.182A2.179 2.179 0 008 0a2.179 2.179 0 00-2.182 2.182A2.18 2.18 0 008 4.364z"}),i.createElement("path",{d:"M14.546 7.273h-2.379c-.56 0-.982.327-1.222.669-.029.043-.989 1.513-2.945 1.513a3.616 3.616 0 01-2.945-1.513c-.284-.4-.728-.67-1.222-.67H1.455C.655 7.273 0 7.928 0 8.728v2.91h5.09V9.992a5.097 5.097 0 002.91.916 5.097 5.097 0 002.91-.916v1.643H16V8.727c0-.8-.655-1.454-1.454-1.454z"}))}},91434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 17"},e),i.createElement("path",{d:"M4.24 10.35l.96-.96C4.4 8.59 4 7.55 4 6.59c0-1.04.4-2.08 1.2-2.8l-.96-.96c-1.04 1.04-1.6 2.4-1.6 3.76 0 1.36.56 2.72 1.6 3.76zM13.68.91l-.96.96c1.28 1.28 1.92 3.04 1.92 4.72 0 1.68-.64 3.44-1.92 4.72l.96.96c1.6-1.6 2.32-3.6 2.32-5.68 0-2.08-.8-4.08-2.32-5.68z"}),i.createElement("path",{d:"M3.28 1.87L2.32.91C.8 2.51 0 4.51 0 6.59c0 2.08.8 4.08 2.32 5.68l.96-.96C2 10.03 1.36 8.27 1.36 6.59c0-1.68.64-3.44 1.92-4.72zm8.48 8.48c1.04-1.04 1.6-2.4 1.6-3.76-.08-1.36-.56-2.72-1.6-3.76l-.96.96c.8.8 1.2 1.84 1.2 2.8 0 1.04-.4 2.08-1.2 2.8l.96.96zM10 6.59a2 2 0 00-4 0c0 .608.272 1.136.696 1.504L4 16.19h1.6l.536-1.6h3.736l.528 1.6H12L9.304 8.094c.424-.368.696-.896.696-1.504zm-3.336 6.4L8 8.99l1.336 4H6.664z"}))}},50415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M15.067 16c-1.852 0-3.682-.404-5.49-1.211-1.807-.807-3.451-1.952-4.933-3.433C3.163 9.874 2.02 8.23 1.211 6.422.404 4.615 0 2.785 0 .933 0 .667.089.444.267.267A.905.905 0 01.933 0h3.6c.208 0 .393.07.556.211.163.14.26.308.289.5l.578 3.111c.03.237.022.437-.023.6a.935.935 0 01-.244.422L3.533 7.022a10.75 10.75 0 001.056 1.59c.407.51.855 1.003 1.344 1.477.46.46.941.885 1.445 1.278.503.392 1.037.751 1.6 1.077l2.089-2.088c.133-.134.307-.234.522-.3a1.43 1.43 0 01.633-.056l3.067.622c.207.06.378.167.511.322.133.156.2.33.2.523v3.6a.904.904 0 01-.267.666.904.904 0 01-.666.267z"}))}},18704:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 6"},e),i.createElement("path",{d:"M0 0h16v2H0V0zm0 4h10v2H0V4z"}))}},58057:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M3.556 16c-.49 0-.908-.174-1.256-.522a1.712 1.712 0 01-.522-1.256V2.667h-.89V.889h4.445V0h5.334v.889h4.444v1.778h-.889v11.555c0 .49-.174.908-.522 1.256a1.712 1.712 0 01-1.256.522H3.556zm8.888-13.333H3.556v11.555h8.888V2.667zm-7.11 9.777H7.11v-8H5.333v8zm3.555 0h1.778v-8H8.889v8z"}))}},77395:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 22 22",fill:"none"},e),i.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint0_linear_1573_14803)"}),i.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint1_linear_1573_14803)"}),i.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint2_linear_1573_14803)"}),i.createElement("path",{d:"M11.281 3.7c.008.006.017.01.027.012l.014.002a.405.405 0 01.156.05c.015.007.03.016.044.024l1.068.605 1.25.707.906.512.056.032a.487.487 0 01.229.363l.002.1v3.145a.489.489 0 01-.71.401c-.017-.008-.034-.018-.05-.027l-1.606-.909-1.138-.642-.056-.032a.542.542 0 00-.178-.051h-.058a.462.462 0 00-.213.053c-.02.01-.038.021-.056.032l-1.215.696-1.458.835a3.52 3.52 0 01-.063.036.533.533 0 01-.176.058l-.07.002a.433.433 0 01-.195-.046.48.48 0 01-.283-.433V6.05a.483.483 0 01.224-.404l.05-.029.86-.493 1.021-.585 1.033-.59.256-.147.056-.032a.553.553 0 01.107-.044.53.53 0 01.071-.013.048.048 0 00.025-.012l.07-.002zm-7.514 8.774a.036.036 0 00.026-.032.487.487 0 01.27-.389l.652-.376 1.455-.84.566-.326.063-.036a.49.49 0 01.702.418v3.209a.49.49 0 00.213.394.671.671 0 00.068.04l.62.348 1.278.714.792.442.062.035c.11.064.188.168.22.29a.463.463 0 01.013.192.476.476 0 01-.224.35c-.02.013-.042.024-.063.036L8.411 18.08l-.704.386c-.019.01-.036.022-.057.031a.494.494 0 01-.48-.016l-.217-.127-2.877-1.692a.533.533 0 01-.055-.033.487.487 0 01-.219-.306c-.005-.02-.007-.043-.01-.064a.028.028 0 00-.018-.02.04.04 0 00-.007-.003v-3.763zm11.207 6.103a.078.078 0 00-.017-.012.533.533 0 00-.055-.016.47.47 0 01-.127-.049l-.069-.04-1.063-.613-1.573-.907-.05-.03a.477.477 0 01-.224-.4.477.477 0 01.27-.448l.896-.514 1.21-.692.566-.325.074-.043a.487.487 0 00.227-.35 1.02 1.02 0 00.006-.115v-3.092c0-.024 0-.04.002-.058a.481.481 0 01.356-.43.471.471 0 01.113-.019.492.492 0 01.285.084l.722.415 1.268.733.665.383.062.036a.469.469 0 01.19.218.15.15 0 01.015.048.083.083 0 00.016.032v3.964a.032.032 0 00-.015.023.178.178 0 01-.017.055.48.48 0 01-.18.208.67.67 0 01-.062.035l-.978.56-2.18 1.25a.376.376 0 01-.055.032.468.468 0 01-.127.05.389.389 0 00-.048.013.03.03 0 00-.016.014h-.087z",fill:"#fff"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"twake-workplace_svg__paint0_linear_1573_14803",x1:22.008,y1:13.042,x2:.498,y2:13.042,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.13,stopColor:"#A033FF"}),i.createElement("stop",{offset:.61,stopColor:"#0094FF"}),i.createElement("stop",{offset:1,stopColor:"#4FB500"})),i.createElement("linearGradient",{id:"twake-workplace_svg__paint1_linear_1573_14803",x1:10.356,y1:7.217,x2:3.634,y2:20.66,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),i.createElement("stop",{offset:.563,stopColor:"#FFC700"})),i.createElement("linearGradient",{id:"twake-workplace_svg__paint2_linear_1573_14803",x1:12.149,y1:13.042,x2:19.767,y2:21.109,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:.03,stopColor:"#FF3B30",stopOpacity:0}),i.createElement("stop",{offset:.843,stopColor:"#E73B2D"}))))}},40463:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 14"},e),i.createElement("path",{d:"M0 13.818h16L8 0 0 13.818zm8.727-2.182H7.273v-1.454h1.454v1.454zm0-2.909H7.273V5.818h1.454v2.91z"}))}},98731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm.8 12H7.2v-1.6h1.6V12zm0-3.2H7.2V4h1.6v4.8z"}))}},77544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 13 16"},e),i.createElement("path",{d:"M6.4 0C2.136 3.64 0 6.784 0 9.44 0 13.424 3.04 16 6.4 16c3.36 0 6.4-2.576 6.4-6.56 0-2.656-2.136-5.8-6.4-9.44zm0 14.4c-2.68 0-4.8-2.056-4.8-4.96 0-1.872 1.56-4.352 4.8-7.312 3.24 2.96 4.8 5.432 4.8 7.312 0 2.904-2.12 4.96-4.8 4.96zM3.064 9.6a.6.6 0 01.592.496c.328 1.776 1.824 2.384 2.912 2.296a.602.602 0 01.632.6c0 .32-.256.584-.576.6-1.704.104-3.696-.872-4.152-3.296a.6.6 0 01.592-.696z"}))}},34378:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(16193),a=n.n(r),i=n(96540);let o=function(e){return i.createElement("svg",a()({viewBox:"0 0 16 16"},e),i.createElement("path",{d:"M14.4 3.2h-3.2V1.6c0-.888-.712-1.6-1.6-1.6H6.4c-.888 0-1.6.712-1.6 1.6v1.6H1.6C.712 3.2.008 3.912.008 4.8L0 13.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V4.8c0-.888-.712-1.6-1.6-1.6zm-4.8 0H6.4V1.6h3.2v1.6z"}))}},68851:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(96540),l=n(25174),d=n(82096),f=["classes"],p=(0,d.A)({qualifier:{height:"24px",minWidth:"24px",backgroundColor:"var(--paperBackgroundColor)",color:"var(--iconTextColor)",boxShadow:"var(--shadow3)"}});let h=function(e){var t=e.classes,n=o()(e,f),r=p();return u.createElement(l.default,a()({classes:{badge:s()(r.qualifier,t)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},n))}},52577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(8728).A},2589:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(64054).A},3855:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=["htmlFor","className","children","block","error"],m=function(e){var t,n=e.htmlFor,r=e.className,i=e.children,c=e.block,u=e.error,d=s()(e,h);return p.createElement("label",a()({htmlFor:n,className:l()("styles__c-label___o4ozG",(t={},o()(t,"styles__c-label--block___2ZV_7",c),o()(t,"styles__is-error___2Dwem",u),t),r)},d),i)};m.propTypes={children:f().node.isRequired,htmlFor:f().string,className:f().string,error:f().bool,block:f().bool},m.defaultProps={className:"",error:!1,block:!0};let v=m},8443:function(e,t,n){"use strict";n.d(t,{PE:()=>x});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(24242),m=["children","className","monoColumn","withTopBar"],v=["className","children"],y=["className","children"],g={"o-layout":"styles__o-layout___3TSz9","o-layout-2panes":"styles__o-layout-2panes___1CDQw","o-layout-main":"styles__o-layout-main___3mPxz","o-layout-main-topbar":"styles__o-layout-main-topbar___3FSE_","o-layout-main-2panes":"styles__o-layout-main-2panes___3ickD","o-layout-content":"styles__o-layout-content___3D5gN","o-layout-content-2panes":"styles__o-layout-content-2panes___2Hotr"},b=(0,p.createContext)(),w=function(){var e=(0,p.useContext)(b);if(!e)throw Error("useLayout must be used within a LayoutContext");return e},k=p.memo(function(e){var t=e.monoColumn,n=e.withTopBar,r=e.children,a=(0,p.useMemo)(function(){return{monoColumn:t,withTopBar:n}},[t,n]);return p.createElement(b.Provider,{value:a},r)});k.displayName="LayoutProvider";var x=(0,p.forwardRef)(function(e,t){var n=e.children,r=e.className,i=e.monoColumn,c=e.withTopBar,u=s()(e,m);return p.createElement(k,{monoColumn:i,withTopBar:c},p.createElement("div",a()({ref:t,className:l()(r,g["o-layout"],o()({},g["o-layout-main-2panes"],!i))},u),n))});x.displayName="Layout",(0,p.forwardRef)(function(e,t){var n,r=e.className,i=e.children,c=s()(e,v),u=(0,h.useBreakpoints)().isDesktop,d=w(),f=d.monoColumn,m=d.withTopBar;return p.createElement("main",a()({ref:t,className:l()(r,g["o-layout-main"],(n={},o()(n,g["o-layout-main-2panes"],!f),o()(n,g["o-layout-main-topbar"],m&&!u),n))},c),i)}).displayName="Main",(0,p.forwardRef)(function(e,t){var n=e.className,r=e.children,i=s()(e,y),o=w().monoColumn;return p.createElement("div",a()({role:"main",ref:t,className:l()(n,g["o-layout-content"],g["o-layout-content-".concat(o?"monocolumn":"2panes")])},i),r)}).displayName="Content",x.propTypes={children:f().node,className:f().string,withTopBar:f().bool,monoColumn:f().bool},x.defaultProps={withTopBar:!0,monoColumn:!1}},29411:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(10782).A},70879:function(e,t,n){"use strict";n.r(t),n.d(t,{BorderedList:()=>a,default:()=>i});var r=n(73486),a=(0,n(85437).A)({root:{borderTop:"1px solid var(--silver)"}})(r.A);let i=r.A},27282:function(e,t,n){"use strict";n.r(t),n.d(t,{LitItemPropTypes:()=>M,default:()=>I});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(50384),l=n(64910),d=n(4103),f=n.n(d),p=n(55364),h=n.n(p),m=n(73294),v=n.n(m),y=n(96540),g=n(82096),b=function(e){var t,n;return e?(null==(t=e.type)?void 0:t.displayName)||(null==(n=e.type)?void 0:n.name)||"Node":null},w=function(e){var t=y.Children.toArray(e.children);return y.Children.count(t)>0?t:null},k=function(e){var t=w(e);return y.Children.count(t)||null},x=function(e){var t=w(e);if(!t)return null;var n=t[t.length-1];return n.type===y.Fragment?w(n.props)[0]:n},O=["gutters"],_=["gutters"],E=["gutters","ellipsis"],C=["className","gutters","ellipsis","componentElement"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=(0,g.A)({gutters:{paddingLeft:function(e){return e.guttersValue.left},paddingRight:function(e){return e.guttersValue.right}},secondaryAction:{paddingRight:function(e){return e.secondaryActionPaddingRight}}}),D=function(e){var t=e.gutters,n=x(s()(e,O));return n&&(0,l.default)(n,["ListItemSecondaryAction"])?48*k(n.props)+("double"===t?24:8):0},T=function(e){var t=e.gutters,n=s()(e,_),r="double"===t?32:16,a=x(n);return{left:r,right:a&&b(a).includes("ListItemIcon")?r-8:r}},R=function(e){var t=e.gutters,n=e.ellipsis,r=s()(e,E),a=w(r),i=k(r);return y.Children.map(a,function(e,r){var a=r===i-1&&(0,l.default)(e,["ListItemSecondaryAction"])||!1,o=b(e).includes("ListItemText");return a&&"double"===t?y.cloneElement(e,{className:"".concat(e.props.className," u-mr-1")}):o?y.cloneElement(e,{ellipsis:n}):e})},j=(0,y.forwardRef)(function(e,t){var n=e.className,r=e.gutters,i=e.ellipsis,o=e.componentElement,c=s()(e,C),l=A({secondaryActionPaddingRight:D(P({gutters:r},c)),guttersValue:T(P({gutters:r},c))}),d=R(P({gutters:r,ellipsis:i},c));return y.createElement(u.A,a()({},c,{component:o||c.component,ref:t,classes:h()(c.classes,l),className:f()(n,c.size),disableGutters:c.disableGutters||"disabled"===r}),d)});j.displayName="ListItem",j.defaultProps={gutters:"default",size:"medium"};var M={gutters:v().oneOf(["disabled","double","default"]),size:v().oneOf(["small","medium","large"]),ellipsis:v().bool,componentElement:v().elementType};j.propTypes=M;let I=j},72637:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>v,largeSize:()=>h,mediumSize:()=>p,smallSize:()=>f});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(61466),s=n(4103),u=n.n(s),l=n(96540),d=["className"],f=16,p=24,h=32,m=(0,l.forwardRef)(function(e,t){var n=e.className,r=o()(e,d);return l.createElement(c.A,a()({},r,{ref:t,className:u()(n,"cozyListItemIcon")}))});m.displayName="ListItemIcon";let v=m},77148:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(25196).A},38143:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(26396),s=n.n(c),u=n(77430),l=n(4103),d=n.n(l),f=n(58059),p=n.n(f),h=n(96540),m=["primaryText","secondaryText","primaryTextClassName","secondaryTextClassName","primary","secondary","ellipsis"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var y=p()(function(){console.warn('primaryText/primaryTextClassName and secondaryText/secondaryTextClassName are deprecated. Please use directly the primary prop : primary={<span className="u-error">Error</span>} for example.')}),g={variant:"caption"},b=function(e,t,n){return t||n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({classes:{root:d()(t,n&&"u-db u-ellipsis")}},e):e},w=(0,h.forwardRef)(function(e,t){var n=e.primaryText,r=e.secondaryText,i=e.primaryTextClassName,c=e.secondaryTextClassName,s=e.primary,l=e.secondary,d=e.ellipsis,f=o()(e,m);(0,h.useEffect)(function(){(n||r||i||c)&&y()},[n,r,i,c]);var p=s||n,v=l||r,w=e.primaryTypographyProps,k=e.secondaryTypographyProps;return w=(0,h.useMemo)(function(){return b(w,i,d)},[w,i,d]),k=(0,h.useMemo)(function(){return b(k||g,c,d)},[k,c,d]),h.createElement(u.A,a()({ref:t,primary:p,secondary:v,primaryTypographyProps:w,secondaryTypographyProps:k},f))});w.displayName="ListItemText",w.defaultProps={ellipsis:!0};let k=w},62858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(16193),a=n.n(r),i=n(45152),o=n(55364),c=n.n(o),s=n(73294),u=n.n(s),l=n(96540),d=(0,n(82096).A)({gutters:{paddingLeft:function(e){return e.guttersValue},paddingRight:function(e){return e.guttersValue}}}),f=(0,l.forwardRef)(function(e,t){var n=d({guttersValue:"double"===e.gutters?32:16});return l.createElement(i.A,a()({},e,{ref:t,classes:c()(e.classes,n),disableGutters:e.disableGutters||"disabled"===e.gutters}))});f.displayName="ListSubheader",f.defaultProps={gutters:"default"},f.propTypes={gutters:u().oneOf(["disabled","double","default"])};let p=f},41666:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(96540),a=n(75331),i=n.n(a),o=n(29411),c=n(39274);let s=function(e){var t=e.content;return r.createElement(i(),{source:t,renderers:{link:function(e){var t=e.children,n=e.href;return r.createElement(o.default,{href:n,rel:"noreferrer",target:"_blank"},t)},heading:function(e){var t=e.children,n=e.level;return r.createElement(c.default,{variant:"h".concat(n),className:"u-mb-1"},t)},paragraph:function(e){var t=e.children;return r.createElement(c.default,{variant:"body1",className:"u-mb-1"},t)}}})}},26988:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(78752).A},36444:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=["text","className","children"],p=d.createElement(d.Fragment,null,"â€Ž"),h=(0,d.forwardRef)(function(e,t){var n=e.text,r=e.className,i=e.children,c=o()(e,f);if(n&&"string"!=typeof n)throw Error('The "text" prop of MidEllipsis can only be a string');if(i&&"string"!=typeof i)throw Error("The children of MidEllipsis can only be a string");var u=n||i,l=Math.round(u.length/2),h=u.substring(0,l),m=u.substring(l,u.length);return d.createElement("div",a()({className:s()("u-midellipsis",r),ref:t},c),d.createElement("span",null,h),d.createElement("span",null,p,m,p))});h.displayName="MidEllipsis",h.propTypes={text:l().string,className:l().string};let m=h},85402:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(7296).A},90674:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(96540),a=n(82092),i=(0,n(35855).A)();let o=function(e){return i('Divider is now exported from the cozy-ui Divider folder. Please change the import path to "cozy-ui/transpiled/react/divider"'),r.createElement(a.default,e)}},30589:function(e,t,n){"use strict";n.d(t,{$n:()=>f,AG:()=>u,I3:()=>l,O1:()=>s,Ol:()=>c,Tr:()=>d,fY:()=>p,mS:()=>h});var r=n(21259),a=n.n(r),i=n(19773),o=n(89995),c=function(e){var t=e.theme,n=e.severity;return{standard:(0,i.X4)(t.palette[n].main,t.palette.background.contrastOpacity),outlined:t.palette[n].main,filled:t.palette[n].main}},s=function(e,t){return{"&-standard":{color:e.palette.text.primary,backgroundColor:c({theme:e,severity:t}).standard,"& $icon":{color:"secondary"===t?e.palette.text.primary:e.palette[t].main},"& $action":{'& button[title="Close"]':{color:e.palette.text.secondary}}},"&-outlined":{color:e.palette.text.primary,border:"1px solid ".concat(c({theme:e,severity:t}).outlined),"& $icon":{color:"secondary"===t?e.palette.text.primary:e.palette[t].main}},"&-filled":{color:e.palette[t].contrastText,backgroundColor:c({theme:e,severity:t}).filled,"& $action":{'& button[title="Close"]':{color:e.palette[t].contrastText}}}}},u=function(e,t){return{color:e.palette.text[t]||e.palette[t].main,borderColor:"primary"===t?e.palette.border.main:(0,i.X4)(e.palette[t].main,e.palette.border.opacity),"&$clickable, &$deletable":{"&:hover, &:focus":{borderColor:"primary"===t?e.palette.border.main:(0,i.X4)(e.palette[t].main,e.palette.border.opacity),backgroundColor:"primary"===t?e.palette.action.hover:(0,i.X4)(e.palette[t].main,e.palette.action.hoverOpacity)}},"& $icon":{color:"primary"===t?e.palette.text.icon:e.palette[t].main,fill:"primary"===t?e.palette.text.icon:e.palette[t].main},"& $deleteIcon":{color:"primary"===t?e.palette.text.secondary:e.palette[t].main,fill:"primary"===t?e.palette.text.secondary:e.palette[t].main},"&$colorPrimary":{padding:"0 1px",color:e.palette[t].contrastText,backgroundColor:e.palette[t].main,"& $icon, & $deleteIcon":{color:e.palette[t].contrastText,fill:e.palette[t].contrastText},"&$disabled":{opacity:1,color:e.palette.text.disabled,backgroundColor:e.palette.action.disabledBackground,"& $icon, & $deleteIcon":{color:e.palette.text.disabled,fill:e.palette.text.disabled}},"&$clickable, &$deletable":{"&:hover, &:focus":{backgroundColor:e.palette[t].dark}}},"&.ghost":{borderWidth:"1px",borderStyle:"dashed","&:not($disabled)":{color:e.palette[t].main,borderColor:(0,i.X4)(e.palette[t].main,e.palette.border.ghostOpacity),backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.ghostOpacity),"& $icon, & $deleteIcon":{color:e.palette[t].main,fill:e.palette[t].main}},"&$clickable, &$deletable":{"&:hover, &:focus":{borderColor:(0,i.X4)(e.palette[t].main,e.palette.border.ghostOpacity),backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.hoverGhostOpacity)}}}}},l=function(e,t){return{color:e.palette[t].main,borderColor:e.palette[t].main,"&:hover":{backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&.ghost":{backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.ghostOpacity),"&:hover":{backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.hoverGhostOpacity),"@media (hover: none)":{backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.ghostOpacity)}}}}},d=function(e,t){return{color:e.palette[t].main,"&:hover":{backgroundColor:(0,i.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},f=function(e,t){return{color:e.palette[t].contrastText,backgroundColor:e.palette[t].main,"&:hover":{backgroundColor:e.palette[t].dark,"@media (hover: none)":{backgroundColor:e.palette[t].main}}}},p=function(e){return"var(--flagship-".concat(e,"-height, 0px)")},h=function(e,t){return a()(Array(26)).map(function(n,r){return(0,o.N)("shadow".concat(r),e,t)})}},92971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>ea});var r=n(96540),a=n(16193),i=n.n(a),o=n(4103),c=n.n(o),s=n(21259),u=n.n(s),l=n(26396),d=n.n(l),f=n(15890),p=n.n(f),h=n(22056),m=n.n(h),v=n(38221),y=n.n(v),g=n(90179),b=n.n(g),w=n(73294),k=n.n(w),x=n(82092),O=n(90774),_=n(83393),E=n(27282),C=n(72637),S=n(38143),P=n(29781),A=n(39274),D=n(24242);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var R={color:"var(--secondaryTextColor)"},j=function(e){var t=e.item,n=e.onClick,a=e.isSelected,o=e.radioPosition,c=e.isLast,s=e.ellipsis,u=e.noDivider,l=(0,D.default)().isDesktop;return r.createElement(r.Fragment,null,r.createElement(E.default,i()({gutters:l?"double":"default"},!1===s&&{ellipsis:!1},{button:!0,onClick:function(){return n(t)}}),"left"===o&&r.createElement(C.default,null,r.createElement(P.A,{readOnly:!0,name:t.title,value:t.title,checked:!!a})),t.icon&&r.createElement(C.default,null,t.icon),r.createElement(S.default,{primary:t.title,secondary:t.description}),t.children&&t.children.length>0&&r.createElement(C.default,null,r.createElement(O.default,{icon:_.default,color:"var(--secondaryTextColor)"})),"right"===o&&!(t.children&&t.children.length>0)&&r.createElement("div",{className:"u-flex u-flex-items-center"},!!t.info&&r.createElement(A.default,{style:R,variant:"body2"},t.info),r.createElement(C.default,null,r.createElement(P.A,{readOnly:!0,edge:"end",name:t.title,value:t.title,checked:!!a}))),"right"===o&&!!t.action&&r.createElement(x.default,{orientation:"vertical",flexItem:!0}),t.action?t.action.Component(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({item:t},t.action.props)):null),u?null:!c&&r.createElement(x.default,null))};j.propTypes={item:k().object.isRequired,onClick:k().func.isRequired,isSelected:k().bool.isRequired,radioPosition:k().oneOf(["left","right"]),isLast:k().bool,ellipsis:k().bool,noDivider:k().bool};var M=function(e,t){if(!e)return[];var n,r=null!=(n=e.focusedId)?n:null;if(!r)return[e];var a=[];return!function e(n){var i;if(null==(i=n.children)?void 0:i.some(function(t){return t.id===r||e(t)})){if(t){var o=n.children.find(function(e){return e.id===r});null!=o&&o.children&&a.push(o)}return a.push(n),!0}return!1}(e),0===a.length&&(console.log("No item found with id",r),a.push(e)),a},I=n(70879),N=n(5379);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){d()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=function(e){var t=e.onSelect,n=e.ContentComponent,a=e.HeaderComponent,i=e.canSelectParent,o=e.isSelected,s=e.title,l=e.transformParentItem,f=e.radioPosition,h=e.ellipsis,v=e.options,g=e.searchOptions,w=e.noDivider,k=(0,r.useRef)(),x=(0,r.useState)({history:M(v,i),searchValue:""}),O=m()(x,2),_=O[0],E=O[1],C=(0,r.useState)(null),S=m()(C,2),P=S[0],D=S[1],T=(0,r.useMemo)(function(){return y()(D,250)},[D]),R=function(e){var t=[e].concat(u()(_.history));E(function(e){return F(F({},e),{},{history:t})})},I=function(e){t(e)},z=function(e){e.children&&e.children.length>0?R(e):I(e)},L=_.history[0],B=L.children||[],U=_.history.length-1,V=l(b()(L,"children")),H=function(e){return o(e,U)},q=L.title||s;return r.createElement("span",{ref:k,className:c()(d()({},"styles__title-container--without-title___HEYQL",!q))},a?r.createElement(a,{title:q,showBack:_.history.length>1,onClickBack:function(){var e=p()(_.history),t=e[0],n=e.slice(1);return E(function(e){return F(F({},e),{},{history:n})}),t}}):null,U>0?L.header?L.header:"function"==typeof v.childrenHeader?v.childrenHeader(U):v.childrenHeader:v.header,r.createElement(n,null,i&&U>0?r.createElement(j,{radioPosition:f,item:V,onClick:z,isSelected:H(V),ellipsis:h,noDivider:w}):null,g&&0===U&&r.createElement("div",{className:c()("u-ml-1 u-mb-half",d()({"u-mr-1":q},"styles__search-container--without-title___3P2fe",!q))},r.createElement(N.default,{placeholder:g.placeholderSearch,value:_.searchValue,onChange:function(e){var t=null==g?void 0:g.onSearch;if(t){var n=e.target.value,r=t(n);E(function(e){return F(F({},e),{},{searchValue:n})}),T(r)}},onClear:function(){E(function(e){return F(F({},e),{},{searchValue:""})}),T(null)}})),P?0===P.length?r.createElement(A.default,{variant:"body1",className:"u-flex u-flex-justify-center u-mb-1 "},g.noDataLabel):P.map(function(e,t){return r.createElement(j,{radioPosition:f,key:e.key||e.title,item:e,onClick:z,isSelected:H(e),isLast:t===P.length-1,ellipsis:h,noDivider:w})}):B.map(function(e,t){return r.createElement(j,{radioPosition:f,key:e.key||e.title,item:e,onClick:z,isSelected:H(e),isLast:t===B.length-1,ellipsis:h,noDivider:w})})))};L.defaultProps={ContentComponent:I.default,HeaderComponent:null,transformParentItem:function(e){return e},radioPosition:"right"};var B=k().shape({focusedId:k().string,header:k().node,icon:k().element,key:k().string,title:k().node,description:k().node,children:k().array,info:k().node,action:k().shape({Component:k().func,props:k().object})});L.propTypes={radioPosition:k().oneOf(["left","right"]),onSelect:k().func.isRequired,isSelected:k().func.isRequired,options:k().shape({header:k().node,childrenHeader:k().oneOfType([k().node,k().func]),children:k().arrayOf(B)}),canSelectParent:k().bool,transformParentItem:k().func,searchOptions:k().shape({placeholderSearch:k().string.isRequired,noDataLabel:k().string.isRequired,onSearch:k().func.isRequired}),ellipsis:k().bool,noDivider:k().bool,ContentComponent:k().elementType};var U=n(49204),V=n(41483),H=n(80486),q=n(74710),W=n(74079),G=function(e){var t=e.title,n=e.showBack,a=e.onClickBack;return t?r.createElement(r.Fragment,null,r.createElement(U.A,{className:c()("u-h-3",{"u-pl-half u-pr-3":n})},n&&r.createElement(q.default,{onClick:a},r.createElement(O.default,{icon:W.A,rotate:-90})),r.createElement(A.default,{className:"u-w-100",variant:"h6",align:"center"},t)),r.createElement(x.default,null)):null};let Z=function(e){var t;return r.createElement(V.A,i()({},null==e||null==(t=e.componentsProps)?void 0:t.bottomsheet,{backdrop:!0,onClose:e.onClose}),r.createElement(H.A,{disableGutters:!0},r.createElement(L,i()({HeaderComponent:G},e))))};var K=n(51286),Q=n(67781),Y=n(52129),J=n(10230),$=n(41827),X=n(35062),ee=n(42837),et=function(e){var t=e.onClickBack,n=e.showBack,a=e.title,i=(0,K.A)({open:!0,onClose:!0}).dialogTitleProps;return a?r.createElement(Y.A,i,r.createElement(ee.$,null,n&&r.createElement(ee.E,{className:"styles__Modal__back___qxUn_"},r.createElement(q.default,{size:"medium",onClick:t},r.createElement(O.default,{icon:X.A}))),r.createElement(ee.Bd,{className:"u-ellipsis"},a))):null},en=function(e){var t=e.children;return r.createElement(J.A,{className:"u-p-0"},r.createElement(I.default,null,t))};let er=function(e){var t=(0,K.A)({open:!0}).dialogProps;return r.createElement($.default,i()({},t,{onClose:e.onClose}),r.createElement(Q.A,{onClick:e.onClose,"data-testid":"modal-close-button-nested-select"}),r.createElement(L,i()({HeaderComponent:et,ContentComponent:en},e)))},ea=function(e){var t=(0,D.default)().isMobile;return r.createElement(t?Z:er,e)}},32859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(3148).A},1358:function(e,t,n){"use strict";n.r(t),n.d(t,{locales:()=>g,default:()=>b});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(22056),s=n.n(c),u=n(96540),l=n(76819),d=n(90774),f=n(74710),p=n(1042);let h=function(e){return u.createElement("svg",a()({viewBox:"0 0 16 16"},e),u.createElement("path",{d:"M10.982 8.337L9.927 7.282c.11-.57-.054-1.103-.49-1.6-.437-.497-1-.69-1.692-.582L6.691 4.046c.206-.097.415-.17.627-.219.212-.048.44-.072.682-.072.91 0 1.682.318 2.318.954a3.16 3.16 0 01.955 2.318c0 .243-.024.47-.073.682a3.085 3.085 0 01-.218.628zm2.327 2.29L12.255 9.61c.46-.351.87-.736 1.227-1.154.357-.418.664-.894.918-1.428a7.15 7.15 0 00-2.61-2.918C10.659 3.39 9.395 3.027 8 3.027a7.04 7.04 0 00-2.036.291L4.836 2.191A8.059 8.059 0 018 1.573c1.83 0 3.46.506 4.89 1.518A8.656 8.656 0 0116 7.027a8.508 8.508 0 01-1.1 1.991 8.003 8.003 0 01-1.59 1.61zm.364 4.473l-3.055-3.018a8.737 8.737 0 01-1.282.3c-.43.067-.875.1-1.336.1-1.83 0-3.46-.506-4.89-1.518A8.656 8.656 0 010 7.027a8.62 8.62 0 01.964-1.79A8.374 8.374 0 012.29 3.755l-2-2.037L1.309.7l13.382 13.382-1.018 1.018zM3.309 4.773a7.81 7.81 0 00-.964 1.036c-.29.376-.539.782-.745 1.218a7.15 7.15 0 002.61 2.919c1.132.72 2.396 1.082 3.79 1.082.242 0 .479-.016.71-.046.23-.03.466-.064.708-.1l-.654-.69a3.395 3.395 0 01-.382.08A2.57 2.57 0 018 10.3c-.91 0-1.682-.318-2.318-.954-.637-.637-.955-1.41-.955-2.319 0-.133.01-.26.028-.381.018-.122.045-.249.081-.382L3.31 4.773z"}))};var m=n(2589),v=n(57759);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g={en:{"password-field":{show:"Show password",hide:"Hide password"}},fr:{"password-field":{show:"Afficher le mot de passe",hide:"Masquer le mot de passe"}},ru:{"password-field":{show:"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",hide:"Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"}},vi:{"password-field":{show:"Hiá»ƒn thá»‹ máº­t kháº©u",hide:"áº¨n máº­t kháº©u"}}};let b=(0,l.withOnlyLocales)(g)(function(e){var t=(0,l.useI18n)().t,n=(0,u.useState)(!0),r=s()(n,2),i=r[0],c=r[1];return u.createElement(v.default,a()({variant:"outlined",type:i?"password":"text"},e,{InputProps:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({endAdornment:u.createElement(m.default,{position:"end"},u.createElement(f.default,{label:t(i?"password-field.show":"password-field.hide"),disabled:e.disabled,onClick:function(){return c(!i)},edge:"end"},u.createElement(d.default,{icon:i?p.A:h})))},e.InputProps)}))})},90474:function(e,t,n){"use strict";n.d(t,{A:()=>x});var r=n(26396),a=n.n(r),i=n(16193),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(28101),m=n(30589),v=n(82096),y=["className","variant","severity","children","direction","position"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=(0,v.A)(function(e){return{topArrow:{borderLeft:"0.75rem solid transparent",borderRight:"0.75rem solid transparent",borderBottom:function(t){var n=t.variant,r=t.severity;return"0.75rem solid ".concat((0,m.Ol)({theme:e,severity:r})[n])},position:"absolute",top:"-0.75rem",left:function(e){return e.position},marginLeft:"-0.75rem"},bottomArrow:{borderLeft:"0.75rem solid transparent",borderRight:"0.75rem solid transparent",borderTop:function(t){var n=t.variant,r=t.severity;return"0.75rem solid ".concat((0,m.Ol)({theme:e,severity:r})[n])},position:"absolute",bottom:"-0.75rem",left:function(e){return e.position},marginLeft:"-0.75rem"},leftArrow:{borderTop:"0.75rem solid transparent",borderBottom:"0.75rem solid transparent",borderRight:function(t){var n=t.variant,r=t.severity;return"0.75rem solid ".concat((0,m.Ol)({theme:e,severity:r})[n])},position:"absolute",left:"-0.75rem",top:function(e){return e.position},marginTop:"-0.75rem"},rightArrow:{borderTop:"0.75rem solid transparent",borderBottom:"0.75rem solid transparent",borderLeft:function(t){var n=t.variant,r=t.severity;return"0.75rem solid ".concat((0,m.Ol)({theme:e,severity:r})[n])},position:"absolute",right:"-0.75rem",top:function(e){return e.position},marginTop:"-0.75rem"},topAlert:{marginTop:"0.75rem"},bottomAlert:{marginBottom:"0.75rem"},leftAlert:{marginLeft:"0.75rem"},rightAlert:{marginRight:"0.75rem"}}}),k=(0,p.forwardRef)(function(e,t){var n=e.className,r=e.variant,a=e.severity,i=e.children,c=e.direction,u=e.position,d=s()(e,y),f=w({variant:r,severity:a,position:u});return p.createElement(h.default,o()({ref:t,className:l()(n,f["".concat(c,"Alert")],"u-pos-relative"),variant:r,severity:a},d),i,p.createElement("span",{className:f["".concat(c,"Arrow")]}))});k.displayName="PointerAlert",k.propTypes=b(b({},h.AlertPropTypes),{},{direction:f().oneOf(["top","right","bottom","left"]),position:f().string}),k.defaultProps=b(b({},h.AlertDefaultProps),{},{direction:"bottom",position:"50%"});let x=k},51757:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(81773).A},13292:function(e,t,n){"use strict";n.r(t),n.d(t,{CircularProgress:()=>a.A,LinearProgress:()=>r.A});var r=n(52314),a=n(83182)},29781:function(e,t,n){"use strict";n.d(t,{A:()=>d});var r=n(16193),a=n.n(r),i=n(79288),o=n(96540),c=n(90774);let s=function(e){return o.createElement("svg",a()({viewBox:"0 0 16 16"},e),o.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"}),o.createElement("path",{d:"M8 12a4 4 0 100-8 4 4 0 000 8z"}))},u=function(e){return o.createElement("svg",a()({viewBox:"0 0 16 16"},e),o.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"}))};var l=function(e){return o.createElement(i.A,a()({},e,{icon:o.createElement(c.default,{icon:u}),checkedIcon:o.createElement(c.default,{icon:s})}))};l.defaultProps={color:"primary"};let d=l},5379:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(22056),s=n.n(c),u=n(39892),l=n.n(u),d=n(4103),f=n.n(d),p=n(38221),h=n.n(p),m=n(73294),v=n.n(m),y=n(96540),g=n(76819),b={en:{SearchBar:{placeholder:"Search"}},fr:{SearchBar:{placeholder:"Rechercher"}},ru:{SearchBar:{placeholder:"ÐŸÐ¾Ð¸ÑÐº"}},vi:{SearchBar:{placeholder:"T\xecm kiáº¿m"}}};(0,g.withOnlyLocales)(b);let w=n(49206).A;var k=n(90774),x=n(74710),O=n(53811),_=n(13691);let E=n(70639).A;var C=n(32859),S=n(39274),P=n(82096),A=["placeholder","icon","size","type","label","componentsProps","disabledClear","disabledFocus","disabledHover","className","defaultValue","value","elevation","disabled","onChange","onClear","onFocus","onBlur"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R={small:40,medium:48,large:56,auto:"auto"},j={small:14,medium:16,large:16,auto:16},M={small:20,medium:24,large:28,auto:24},I=(0,P.A)(function(e){return{root:{display:"flex",boxSizing:"border-box",position:"relative",alignItems:"center",height:function(e){return R[e.size]},flex:"auto",borderRadius:function(e){return M[e.size]},borderStyle:"solid",borderWidth:1,borderColor:"transparent",backgroundColor:e.palette.background.default,"&:hover":{"&:not($disabled):not($focused)":{"& $focusHighlight":{opacity:1}}}},flat:{backgroundColor:e.palette.background.default},inputBase:{flex:1,fontSize:function(e){return j[e.size]},paddingLeft:function(e){return!e.icon&&"1rem"}},buttonBase:{flex:1,justifyContent:"start",height:"100%",borderRadius:99},typography:{color:"currentColor",opacity:.42,paddingLeft:function(e){return!e.icon&&"1rem"}},icon:{color:e.palette.text.secondary,padding:"0 1rem"},commonHighlight:{overflow:"hidden",position:"absolute",top:-1,right:-1,bottom:-1,left:-1,borderRadius:"inherit",opacity:0,transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})},focusHighlight:{pointerEvents:"none",backgroundColor:e.palette.action.hover},disableHighlight:{backgroundColor:e.palette.action.disabled},focused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.background.paper},disabled:{"& $icon":{color:e.palette.text.disabled},"& $disableHighlight":{opacity:1}}}}),N=(0,y.forwardRef)(function(e,t){var n,r,i=e.placeholder,c=e.icon,u=e.size,d=e.type,p=e.label,m=e.componentsProps,v=e.disabledClear,b=e.disabledFocus,_=e.disabledHover,P=e.className,D=e.defaultValue,R=e.value,j=e.elevation,M=e.disabled,N=e.onChange,z=e.onClear,F=e.onFocus,L=e.onBlur,B=l()(e,A),U=(0,g.useI18n)().t,V=I({size:u,type:d,icon:c}),H=(0,y.useState)(D),q=s()(H,2),W=q[0],G=q[1],Z=(0,y.useState)(!1),K=s()(Z,2),Q=K[0],Y=K[1],J=i||U("SearchBar.placeholder"),$=p||U("SearchBar.placeholder"),X=R||W,ee=void 0===R,et=(0,y.useMemo)(function(){return h()(N,375)},[N]),en=function(e){N(T(T({},e),{},{target:T(T({},e.target),{},{value:""})})),z(e),G("")};return y.createElement(C.default,a()({component:"form",elevation:j,className:f()(P,V.root,(n={},o()(n,V.flat,!j),o()(n,V.elevation,j),o()(n,V.focused,Q&&!b),o()(n,V.disabled,M),n)),ref:t},B),"button"===d?y.createElement(w,{className:V.buttonBase},c&&y.createElement(k.default,{className:V.icon,icon:c}),"string"==typeof $?y.createElement(S.default,{className:V.typography},$):$):y.createElement(y.Fragment,null,c&&y.createElement(k.default,{className:V.icon,icon:c}),y.createElement(E,a()({},null==m?void 0:m.inputBase,{className:f()(V.inputBase,null==m||null==(r=m.inputBase)?void 0:r.className),placeholder:M?null:J,value:M?J:X,disabled:M,"aria-label":J,onChange:function(e){if(!ee)return N(e);var t=e.target.value;t.length>=1?(et(e),G(t)):en(e)},onFocus:function(e){F(e),Y(!0)},onBlur:function(e){L(e),Y(!1)}}))),X&&!v&&y.createElement(x.default,{size:"medium",onClick:en},y.createElement(k.default,{icon:O.default})),!_&&y.createElement("span",{className:f()(V.commonHighlight,V.focusHighlight)}),M&&y.createElement("span",{className:f()(V.commonHighlight,V.disableHighlight)}))});N.displayName="SearchBar",N.defaultProps={elevation:1,icon:_.default,size:"small",type:"search",disabledClear:!1,disabledFocus:!1,disabledHover:!1,defaultValue:"",onChange:function(){},onFocus:function(){},onClear:function(){},onBlur:function(){}},N.propTypes={className:v().string,type:v().oneOf(["button","search"]),icon:k.iconPropType,size:v().oneOf(["small","medium","large","auto"]),componentsProps:v().shape({inputBase:v().object}),value:v().string,defaultValue:v().string,disabledClear:v().bool,disabledFocus:v().bool,disabledHover:v().bool,elevation:v().number,placeholder:v().string,label:v().oneOfType([v().string,v().func,v().object]),disabled:v().bool,onChange:v().func,onFocus:v().func,onClear:v().func,onBlur:v().func};let z=(0,y.forwardRef)(function(e,t){return(0,g.useExtendI18n)(b),y.createElement(N,a()({},e,{ref:t}))})},420:function(e,t,n){"use strict";n.d(t,{A:()=>y});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=n(9080),p=["selectProps","innerProps"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e){var t=e.selectProps.onControlClicked,n=e.innerProps,r=s()(e,p),i=m(m({},n),{},{onClick:t,onTouchStart:t});return d.createElement(f.c.Control,a()({},r,{innerProps:i}))};v.propTypes={selectProps:l().object.isRequired};let y=v},43882:function(e,t,n){"use strict";n.d(t,{c$:()=>U,xO:()=>H,Db:()=>V,Ay:()=>G,fP:()=>B});var r=n(82274),a=n.n(r),i=n(65044),o=n.n(i),c=n(41972),s=n.n(c),u=n(56994),l=n.n(u),d=n(65611),f=n.n(d),p=n(18337),h=n.n(p),m=n(39892),v=n.n(m),y=n(16193),g=n.n(y),b=n(26396),w=n.n(b),k=n(4103),x=n.n(k),O=n(73294),_=n.n(O),E=n(96540),C=n(9080),S=n(70577),P=n(420),A=n(90774),D=n(39700),T=n(16035);let R=function(e){return E.createElement("svg",g()({viewBox:"0 0 16 16"},e),E.createElement("path",{d:"M3.41 11.705L8 7.125l4.59 4.58 1.41-1.41-6-6-6 6 1.41 1.41z"}))};var j=n(71231),M=["actions"],I=["className","components","disabled","fullwidth","styles","breakpoints","classNamePrefix","name"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){w()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F={tiny:"2rem",medium:"2.5rem",large:"3rem"},L=function(e,t){if(!(e&&t))return{};var n=e.style.paddingTop||"0px",r=e.style.paddingBottom||"0px";return{menuList:function(a){var i=(a.paddingTop||0)+(a.paddingBottom||0),o=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-i;return z(z({},a),{},{maxHeight:"calc(".concat(o,"px - ").concat(n," - ").concat(r,")")})}}},B=function(e){return function(t){var n=t.innerProps,r=t.innerRef,a=t.children;return E.createElement("div",g()({},n,{ref:r}),e,E.createElement("div",{className:"styles__select-control__input___1xDlj"},a))}},U=function(e){var t,n=e.children,r=e.isSelected,a=e.isFocused,i=e.isDisabled,o=e.innerProps,c=e.innerRef,s=e.labelComponent,u=e.withCheckbox;return E.createElement("div",g()({},o,{ref:c,className:x()("styles__select-option___ov_IT",(t={},w()(t,"styles__select-option--selected___R3_ES",r&&!u),w()(t,"styles__select-option--focused___1Vpjv",a),w()(t,"styles__select-option--disabled___1du57",i),t))}),u&&E.createElement("input",{type:"checkbox",readOnly:!0,checked:r,className:"styles__select-option__checkbox___15WVE"}),E.createElement("span",{className:"styles__select-option__label___1Xi5R"},E.createElement("span",{className:"u-ellipsis"},s||n),!!s&&n),!u&&E.createElement("span",{className:"styles__select-option__checkmark___ChXXs"},r&&E.createElement(A.default,{icon:T.A,color:"var(--primaryColor)",className:"u-ph-half"})))};U.propTypes={withCheckbox:_().bool,labelComponent:_().node},U.defaultProps={withCheckbox:!1};var V=function(e){var t=g()({},e);return E.createElement(U,g()({},t,{withCheckbox:!0}))};V.propTypes={};var H=function(e){var t=e.actions,n=v()(e,M);return E.createElement(U,g()({},n,{labelComponent:n.children}),E.createElement("span",{className:"styles__select-option__actions___2WOjb"},t.map(function(e,t){return E.createElement(A.default,g()({},e.iconProps,{key:t,icon:e.icon,color:n.isFocused?"var(--iconTextColor)":"var(--hintTextColor)",className:"u-ph-half",onClick:function(t){t.stopPropagation(),e.onClick(n)}}))})))};H.propTypes={actions:_().arrayOf(_().shape({icon:_().string,onClick:_().func,iconProps:_().object}))},H.defaultProps={actions:[]};var q={Control:P.A,DropdownIndicator:function(e){return E.createElement(C.c.DropdownIndicator,e,E.createElement(A.default,{icon:e.selectProps.menuIsOpen?R:D.A,color:"var(--iconTextColor)",width:"20",height:"16"}))},Option:U},W=function(e){l()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h()(r);return e=t?Reflect.construct(n,arguments,h()(this).constructor):n.apply(this,arguments),f()(this,e)});function r(e){var t;return a()(this,r),(t=n.call(this,e)).state={isOpen:!1},t.element=null,t.handleRef=t.handleRef.bind(s()(t)),t.handleOpen=t.handleOpen.bind(s()(t)),t.handleClose=t.handleClose.bind(s()(t)),t}return o()(r,[{key:"handleOpen",value:function(){this.refreshMenuStyle(),this.setState({isOpen:!0})}},{key:"refreshMenuStyle",value:function(){var e;this.props.container&&this.controlRef&&(this.menuStyle=L((e=this.props.container)&&e.current||e,this.controlRef))}},{key:"handleClose",value:function(){this.setState({isOpen:!1})}},{key:"handleRef",value:function(e){var t=this.props.inputRef;e&&e.select&&(e.select.controlRef&&(this.controlRef=e.select.controlRef),e.select.inputRef&&"function"==typeof t&&t(e.select.inputRef))}},{key:"render",value:function(){var e,t,n=this.props,r=n.className,a=n.components,i=n.disabled,o=n.fullwidth,c=n.styles,s=n.breakpoints.isMobile,u=n.classNamePrefix,l=n.name,d=v()(n,I),f=this.state.isOpen&&s;return E.createElement(S.Ay,g()({ref:this.handleRef,components:a?z(z({},q),a):q,styles:z(z(z({},(e=this.props,{control:function(t,n){return z(z({},t),{},{backgroundColor:e.disabled?"transparent":"var(--paperBackgroundColor)",border:e.inset?".125rem solid var(--paperBackgroundColor)":".0625rem solid ".concat(n.isFocused?"var(--primaryColor)":"var(--borderMainColor)"),":hover":{borderColor:e.inset?"var(--paperBackgroundColor)":"var(--hintTextColor)",backgroundColor:e.inset?"var(--defaultBackgroundColor)":"var(--paperBackgroundColor)",cursor:"pointer"},borderRadius:".1875rem",boxShadow:"unset",height:F[e.size],minHeight:F[e.size]})},placeholder:function(e){return z(z({},e),{},{color:"var(--secondaryTextColor)"})},dropdownIndicator:function(e){return z(z({},e),{},{marginRight:".75rem",height:".875rem",width:".875rem",padding:0})},indicatorSeparator:function(){return{display:"none"}},valueContainer:function(e){return z(z({},e),{},{color:"var(--primaryTextColor)"})},singleValue:function(e){return z(z({},e),{},{color:"var(--primaryTextColor)"})},multiValue:function(e){return z(z({},e),{},{backgroundColor:"var(--hintTextColor)"})},menu:function(e){return z(z({},e),{},{backgroundColor:"var(--paperBackgroundColor)",zIndex:10})}})),c),this.menuStyle||{}),onMenuOpen:this.handleOpen,onMenuClose:this.handleClose},d,{isDisabled:i,className:x()((t={},w()(t,"styles__select__overlay___3H8Jy",f),w()(t,"styles__select--autowidth___16AEp",!o),w()(t,"styles__select--disabled___1W3en",i),w()(t,"styles__select--fullwidth___2l_xM",o),t),r),classNamePrefix:u||"",selectProps:{name:l}}))}}]),r}(E.Component);W.propTypes={container:_().object,components:_().object,disabled:_().bool,fullwidth:_().bool,inset:_().bool,name:_().string,inputRef:_().func,size:_().oneOf(["tiny","medium","large"]),styles:_().object},W.defaultProps={components:{},fullwidth:!1,inset:!1,size:"large",styles:{}};let G=(0,j.default)()(W)},71842:function(e,t,n){"use strict";n.r(t),n.d(t,{ActionsOption:()=>a.xO,mergeStyles:()=>r.Zq,createFilter:()=>r.HI,default:()=>a.Ay,NonceProvider:()=>r.he,reactSelectControl:()=>a.fP,components:()=>r.dK,ControlDefault:()=>k.A,SelectBoxWithFixedOptions:()=>w,defaultTheme:()=>r.zQ,CheckboxOption:()=>a.Db,Option:()=>a.c$});var r=n(70577),a=n(43882),i=n(26396),o=n.n(i),c=n(16193),s=n.n(c),u=n(94394),l=n.n(u),d=n(96540),f=n(9080);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=function(e){return d.createElement(f.c.Group,s()({},e,{className:e.data.isFixed?"styles__FixedGroup___2izTc":"styles__Group___J6s7k"}))},v=function(e){return d.createElement(f.c.MenuList,s()({},e,{className:"styles__MenuList___1H_pH"}))},y=function(){return null},g=function(e){var t=l()(e,function(e){return e.fixed?"fixed":"normal"}),n=t.fixed,r=t.normal;return[{label:"normal",options:void 0===r?[]:r},{label:"fixed",isFixed:!0,options:void 0===n?[]:n}]},b=function(e){return d.createElement(a.Ay,s()({},e,{options:g(e.options),styles:h({},e.styles),components:h({MenuList:v,GroupHeading:y,Group:m},e.components)}))};b.defaultProps={styles:{},components:{}};let w=b;var k=n(420)},55540:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(22488).A},79293:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(73294),a=n.n(r),i=n(96540),o=n(82092),c=n(27282),s=n(72637),u=n(38143),l=n(55540),d=function(e){var t=e.hasSecondary,n=e.divider,r=e.gutters;return i.createElement(i.Fragment,null,i.createElement(c.default,{gutters:r},i.createElement(s.default,null,i.createElement(l.default,{className:"u-bdrs-4",variant:"rect",width:32,height:32})),i.createElement(u.default,{primary:i.createElement(l.default,{width:"75%",height:13}),secondary:t?i.createElement(l.default,{width:"37%",height:13}):void 0})),n&&i.createElement(o.default,null))};d.propTypes={hasSecondary:a().bool,divider:a().bool,gutters:a().string};let f=d},60076:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(10716).A},32736:function(e,t,n){"use strict";n.d(t,{A:()=>d});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(60527),s=n(96540),u=["children"],l=(0,s.forwardRef)(function(e,t){var n=e.children,r=o()(e,u);return s.createElement(c.A,a()({ref:t,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r),n)});l.displayName="Snackbar",l.defaultProps={autoHideDuration:2e3};let d=l},39968:function(e,t,n){"use strict";n.r(t),n.d(t,{Spinner:()=>h,default:()=>m});var r=n(26396),a=n.n(r),i=n(4103),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(76819),d=n(90774),f=n(56706),p=n(39274),h=function(e){var t,n=e.t,r=e.loadingType,i=e.middle,c=e.noMargin,s=e.color,l=e.size,h=e.className;return u.createElement("div",{className:o()("styles__c-spinner___1snK7",(t={},a()(t,"styles__c-spinner--middle___RwyII",i),a()(t,"styles__c-spinner--nomargin___13JyW",c),t),h)},u.createElement(d.default,{icon:f.A,color:s,spin:!0,size:{tiny:8,small:12,medium:16,large:24,xlarge:36,xxlarge:80}[l]}),r&&u.createElement(p.default,{variant:"body1",color:"textSecondary",component:"p"},n("loading.".concat(r))))};h.propTypes={loadingType:s().string,middle:s().bool,noMargin:s().bool,color:s().string,size:s().oneOf(["tiny","small","medium","large","xlarge","xxlarge"]),className:s().string},h.defaultProps={loadingType:"",middle:!1,noMargin:!1,color:"var(--primaryColor)",size:"medium",className:""};let m=(0,l.translate)()(h)},95037:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>v,spacingProp:()=>m});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=["spacing","tag"],p={"Stack--m":"styles__Stack--m___1tSpV","Stack--xs":"styles__Stack--xs___2R5lW","Stack--s":"styles__Stack--s___22WMg","Stack--l":"styles__Stack--l___3oxCJ","Stack--xl":"styles__Stack--xl___3qy-m","Stack--xxl":"styles__Stack--xxl___2KAsb"},h=function(e){var t=e.spacing,n=e.tag,r=o()(e,f);return d.createElement(n,a()({},r,{className:s()(r.className,t&&p["Stack--"+t])}))},m=l().oneOf(["xs","s","m","l","xl","xxl"]);h.propTypes={spacing:m},h.defaultProps={spacing:"m",tag:"div"};let v=h},60439:function(e,t,n){"use strict";n.d(t,{A:()=>d});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(64794),s=n(96540),u=n(90774),l=["icon"];let d=function(e){var t=e.icon,n=o()(e,l),r=s.createElement("span",{className:"cozySwitchThumb"},!!t&&s.createElement(u.default,{icon:t,size:14}));return s.createElement(c.A,a()({},n,{icon:r,checkedIcon:r}))}},95678:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=n(67264).A},15133:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(79764).A},83181:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(24896).A},88245:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=n(90652).A},69640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(90648),s=n(96540),u=n(32859);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let d=(0,s.forwardRef)(function(e,t){return s.createElement(c.A,a()({},e,{ref:t,component:u.default,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({zIndex:"var(--zIndex-app)"},e.style),elevation:0,square:!0}))})},38599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(65594),s=n(4103),u=n.n(s),l=n(96540),d=["disabled","className"],f=(0,l.forwardRef)(function(e,t){var n=e.disabled,r=e.className,i=o()(e,d);return l.createElement(c.A,a()({},i,{className:u()(r,{disabled:n}),disabled:n,ref:t}))});f.displayName="TableRow";let p=f},11319:function(e,t,n){"use strict";n.d(t,{A:()=>v});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4918),s=n(4103),u=n.n(s),l=n(73294),d=n.n(l),f=n(96540),p=n(24242),h=["className","variant","narrowed","segmented","children"],m=(0,f.forwardRef)(function(e,t){var n=e.className,r=e.variant,i=e.narrowed,s=e.segmented,l=e.children,d=o()(e,h),m=(0,p.default)().isMobile;return f.createElement(c.A,a()({ref:t,className:u()(n,{segmented:s}),variant:m&&"standard"===r?"fullWidth":r},d),f.Children.map(l,function(e){if(e)return f.cloneElement(e,{className:u()(e.props.className,{narrowed:i,segmented:s})})}))});m.displayName="Tabs",m.defaultProps={variant:"standard",narrowed:!1,segmented:!1},m.propTypes={className:d().string,variant:d().oneOf(["standard","fullWidth","scrollable"]),narrowed:d().bool,segmented:d().bool};let v=m},57759:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(26396),a=n.n(r),i=n(16193),o=n.n(i),c=n(39892),s=n.n(c),u=n(40703),l=n(96540),d=n(22056),f=n.n(d),p=n(55364),h=n.n(p),m=n(73294),v=n.n(m),y=function(e,t){var n=new Set(e);return n.has(t)?n.delete(t):n.add(t),Array.from(n)},g=function(e,t){var n;return null==(n=e.find(function(e){return e.value===t}))?void 0:n.label},b=n(647),w=n(68946),k=n(71973),x=n(90774),O=n(39700),_=n(2589),E=n(72637),C=n(38143),S=n(29781),P=["id","name","options","disabled","value","children","onClick","onChange"],A=(0,l.forwardRef)(function(e,t){var n=e.id,r=e.name,a=e.options,i=e.disabled,c=e.value,d=e.children,p=e.onClick,m=e.onChange,v=s()(e,P),A=Array.isArray(c),D=(0,l.useState)({label:"",value:A?[]:""}),T=f()(D,2),R=T[0],j=T[1],M=(0,l.useState)(!1),I=f()(M,2),N=I[0],z=I[1],F=A?c.map(function(e){return g(a,e)}).join(", "):g(a,c),L=function(e){var t=e.value,n=e.children,r=e.onClick;return function(e){var a=A?y(R.value,t):t;null==r||r(h()({},e,{target:{value:a}})),j({label:n,value:a}),null==m||m({target:{value:a}})}};return(0,l.useEffect)(function(){j({label:F||"",value:c||(A?[]:"")})},[F,c,A]),l.createElement(l.Fragment,null,l.createElement(u.A,{id:n,style:{display:"none"},type:"hidden",name:r,value:R.value}),l.createElement(u.A,o()({},v,{ref:t,type:"button","aria-controls":"simple-menu","aria-haspopup":"true",name:"dummy",value:R.label,disabled:i,inputProps:{className:"u-ta-left"},InputProps:{endAdornment:l.createElement(_.default,{position:"end"},l.createElement(x.default,{icon:O.A,rotate:180*!!N,color:i?"var(--disabledTextColor)":"var(--iconTextColor)"}))},onClick:function(){z(!0),null==p||p()}})),N&&l.createElement(w.A,{open:!0,autoClose:!A,onClose:function(){z(!1)}},l.Children.map(d,function(e){return l.isValidElement(e)?l.createElement(b.A,o()({},e.props,{size:"small",autoFocus:A?e.props.value===c[0]:e.props.value===c,onClick:L(e.props)}),l.createElement(E.default,null,A?l.createElement(k.default,{"aria-hidden":"true",tabIndex:"-1",checked:R.value.includes(e.props.value)}):l.createElement(S.A,{"aria-hidden":"true",tabIndex:"-1",checked:e.props.value===R.value})),l.createElement(C.default,{primary:e.props.children})):null})))});A.displayName="MobileSelect",A.propTypes={name:v().string,options:v().array,disabled:v().bool,value:v().oneOfType([v().string,v().array]),children:v().oneOfType([v().node,v().arrayOf(v().node)]),onClick:v().func,onChange:v().func};var D=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},T=function(){var e,t,n;return(null==(e=window)||null==(t=e.crypto)||null==(n=t.randomUUID)?void 0:n.call(t))||D()},R=n(24242),j=["select","SelectProps","options","children"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=(0,l.forwardRef)(function(e,t){var n=e.select,r=e.SelectProps,a=e.options,i=e.children,c=s()(e,j),d=T();return(0,R.useBreakpoints)().isMobile&&n&&a?l.createElement(A,o()({ref:t,id:d,options:a},c),i):l.createElement(u.A,o()({ref:t,id:d,select:n,SelectProps:I(I({},r),{},{IconComponent:function(e){return l.createElement(x.default,o()({},e,{icon:O.A,color:c.disabled?"var(--disabledTextColor)":"var(--iconTextColor)"}))}})},c),i)});N.displayName="TextField";let z=N},20221:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=["className","disabled","placeholder","children","error","size","fullwidth"],m={"c-textarea":"styles__c-textarea___D7EEH","is-error":"styles__is-error___1kGLj","c-textarea--tiny":"styles__c-textarea--tiny___3fmPW","c-textarea--medium":"styles__c-textarea--medium___T8f3b","c-textarea--fullwidth":"styles__c-textarea--fullwidth___Ih_mg"},v=p.forwardRef(function(e,t){var n,r=e.className,i=e.disabled,c=e.placeholder,u=e.children,d=e.error,f=e.size,v=e.fullwidth,y=s()(e,h);return p.createElement("textarea",a()({ref:t,"aria-disabled":i,disabled:i,placeholder:c,className:l()(m["c-textarea"],(n={},o()(n,m["is-error"],d),o()(n,m["c-textarea--".concat(f)],f),o()(n,m["c-textarea--fullwidth"],v),n),r)},y),u)});v.propTypes={children:f().node,disabled:f().bool,placeholder:f().string,className:f().string,error:f().bool,size:f().oneOf(["tiny","medium"]),fullwidth:f().bool,onChange:f().func,onKeyUp:f().func},v.defaultProps={placeholder:"",error:!1,fullwidth:!1};let y=v},24891:function(e,t,n){"use strict";n.r(t),n.d(t,{TileDescription:()=>y,TileFooter:()=>w,TileIcon:()=>k,TileSubtitle:()=>b,TileTitle:()=>g,default:()=>x});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(39274),m=["children","className","tag","isSecondary"],v=function(e){var t=e.children,n=e.className,r=e.tag,i=e.isSecondary,c=s()(e,m);return p.createElement(r,a()({className:l()("styles__Tile___2SqRi",o()({},"styles__Tile-secondary___2zYdn",i),n)},c),t)},y=function(e){var t=e.children,n=e.className;return p.createElement("div",{className:l()("styles__Tile-desc___3lPj6",n)},t)},g=function(e){var t=e.children,n=e.className,r=e.isMultiline;return p.createElement(h.default,{variant:"h6",className:l()("styles__Tile-title___3gbq-",o()({},"styles__Tile-title-multiline___17HPx",r),n)},t)},b=function(e){var t=e.children;return p.createElement(h.default,{variant:"caption",className:"styles__Tile-developer___2GOfB"},t)},w=function(e){var t=e.children,n=e.className,r=e.isAccent;return p.createElement(h.default,{variant:"caption",className:l()("styles__Tile-status___33VkE",o()({},"styles__Tile-status-accent___an9au",r),n)},t)},k=function(e){var t=e.children;return p.createElement("div",{className:"styles__Tile-icon-wrapper___24AzZ"},t)};g.propTypes={className:f().string,isMultiline:f().bool},g.defaultProps={isMultiline:!1},w.propTypes={className:f().string,isAccent:f().bool},w.defaultProps={isAccent:!1},v.propTypes={className:f().string,isSecondary:f().bool,tag:f().string},v.defaultProps={isSecondary:!1,tag:"div"};let x=v},39274:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(54392),s=n(96540),u=["color","variant","children"];let l=(0,s.forwardRef)(function(e,t){var n=e.color,r=e.variant,i=e.children,l=o()(e,u);return s.createElement(c.A,a()({ref:t,variant:r,color:n||("caption"===r?"textSecondary":"textPrimary")},l),i)})},24203:function(e,t,n){"use strict";n.d(t,{D:()=>u});var r=n(26232),a=n(7127),i=n(18340),o=n(47670),c=n(71118),s=function(e){var t=document.getElementById("sidebar");return t?getComputedStyle(t).getPropertyValue("background-color"):e.palette.background.paper},u=(0,a.isFlagshipApp)()||i.isRsg?function(){var e=(0,r.A)(),t=(0,c.useCozyTheme)().isLight;(0,o.useSetFlagshipUI)({bottomBackground:e.palette.background.paper,bottomTheme:t?"dark":"light",topOverlay:"rgba(0, 0, 0, 0.5)",topBackground:e.palette.background.paper,topTheme:"light"},{bottomBackground:s(e),bottomTheme:t?"dark":"light",topOverlay:"transparent",topBackground:e.palette.background.paper,topTheme:t?"dark":"light"},"cozy-ui/ActionMenu")}:function(){}},59930:function(e,t,n){"use strict";n.d(t,{b:()=>l});var r=n(4103),a=n.n(r),i=n(73294),o=n.n(i),c=n(96540),s=n(95037),u=n(42837),l=function(e){var t=e.left,n=e.children,r=e.right,i=e.onClick,o=e.className,s=e.contentSpacing;return c.createElement(u.$,{className:a()("styles__c-actionmenu-item___WzUJQ",o),onClick:i,align:"top"},t&&c.createElement(u.E,{className:"u-mh-1"},t),c.createElement(u.Bd,{className:a()(t?"u-mr-1":"u-mh-1","u-stack-".concat(s))},n),r&&c.createElement(u.E,{className:"u-mr-1"},r))};l.propTypes={left:o().node,right:o().node,children:o().node,onClick:o().func,className:o().string,contentSpacing:s.spacingProp},l.defaultProps={contentSpacing:"xs"}},76179:function(e,t,n){"use strict";n.r(t),n.d(t,{ActionMenuRadio:()=>S,ActionMenuItemWrapper:()=>b,default:()=>$,ActionsItems:()=>G,ActionMenuWrapper:()=>U,ActionMenuHeader:()=>d,ActionMenuWithClose:()=>D,ActionMenuItem:()=>f.b});var r=n(26396),a=n.n(r),i=n(4103),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(24203),d=function(e){var t=e.children,n=e.className;return u.createElement("div",{className:o()("styles__c-actionmenu-header___2p_ke",n)},t)};d.propTypes={children:s().node,className:s().string};var f=n(59930),p=n(16193),h=n.n(p),m=n(90774),v=n(39274),y=(0,n(82096).A)(function(e){return{disabledItem:{cursor:"default","&:hover":{backgroundColor:"initial"}},disabledIcon:{fill:e.palette.text.disabled},disabledTypography:{color:e.palette.text.disabled}}}),g=function(e){var t=e.icon,n=e.className,r=e.isEnabled,i=e.componentsProps,c=e.children,s=e.onClick,l=y();return u.createElement(f.b,{className:o()("u-flex-items-center ".concat(n),a()({},l.disabledItem,!r)),left:t&&u.createElement(m.default,h()({icon:t,className:o()(a()({},l.disabledIcon,!r))},null==i?void 0:i.iconProps)),onClick:s},u.createElement(v.default,h()({className:o()(a()({},l.disabledTypography,!r))},null==i?void 0:i.typographyProps),c))};g.defaultProps={className:"",isEnabled:!0,componentsProps:{}},g.propTypes={icon:m.iconPropType,className:s().string,isEnabled:s().bool,componentsProps:s().shape({iconProps:s().object,typographyProps:s().object}),children:s().node,onClick:s().func};let b=g;var w=n(39892),k=n.n(w),x=n(98036),O=n(35855),_=["className","value","name","label","error","disabled","style","gutter","onChange","checked"],E=(0,O.A)(),C=function(e){var t,n=e.className,r=e.value,i=e.name,c=e.label,s=e.error,l=e.disabled,d=e.style,f=e.gutter,p=e.onChange,m=e.checked,v=k()(e,_);E('The Radio component is deprecated, please use `<Radios />` instead. You can replace `<Radio value="" label="" />` by `<FormControlLabel value="" label="" control={<Radios />} />`. See documentation for more details.');var y=(0,x.A)(),g=m,b=i;y&&(void 0===g&&(g=y.value===e.value),void 0===b&&(b=y.name));var w=p||y&&y.onChange||function(){};return u.createElement("label",{className:o()("styles__c-input-radio___1f4CB",(t={},a()(t,"styles__c-input-radio--noGutter___2gFTH",!1===f),a()(t,"styles__is-error___5jyha",s),t),n),"aria-disabled":l,style:d},u.createElement("input",h()({type:"radio",value:r,name:b,disabled:l,onChange:w,checked:g},v)),u.createElement("span",null,c))};C.propTypes={className:s().string,value:s().string,name:s().string,error:s().bool,disabled:s().bool,label:s().string},C.defaultProps={error:!1,gutter:!0};var S=function(e){return u.createElement(C,h()({},e,{className:"styles__c-actionmenu-radio___38gls"}))},P=["onClose","children"],A=(0,u.forwardRef)(function(e,t){var n=e.onClose,r=e.children,a=k()(e,P);return u.createElement($,h()({anchorElRef:t,onClose:n},a),u.Children.map(r,function(e){return(0,u.isValidElement)(e)?(0,u.cloneElement)(e,{onClose:n}):null}))});A.displayName="ActionMenuWithClose";let D=A;var T=n(22056),R=n.n(T),j=n(43292),M=n(57346);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let z=function(e){var t=e.anchorElRef,n=e.popperOptions,r=e.placement,a=e.preventOverflow,i=e.onClose,o=e.children,c=(0,u.useState)(null),s=R()(c,2),l=s[0],d=s[1],f=t?t.current:null,p=n||{placement:r,modifiers:a?void 0:[{name:"preventOverflow",enabled:!1},{name:"hide",enabled:!1}]},m=(0,M.E)(f,l,p),v=m.styles,y=m.attributes;return u.createElement("div",h()({ref:d,style:N(N({},v.popper),{},{zIndex:"var(--zIndex-popover)"})},y.popper),u.createElement(j.A,{onClickAway:function(e){f.contains(e.target)||i(e)}},o))};var F=n(41483),L=n(56100),B=n(24242);let U=function(e){var t=e.onClose,n=e.anchorElRef,r=e.popperOptions,a=e.placement,i=e.preventOverflow,o=e.children;return(0,B.default)().isMobile?u.createElement(F.A,{skipAnimation:(0,L.default)(),backdrop:!0,onClose:t},o):u.createElement(z,{anchorElRef:n,popperOptions:r,onClose:t,placement:a,preventOverflow:i},o)};var V=n(76819),H=function(e){return Object.keys(e)[0]},q=function(e,t){var n="";return e.filter(function(e){var n=Object.values(e)[0];return!n.displayCondition||n.displayCondition([t])}).map(function(e){var t=H(e);return n===t?(n=t,null):(n=t,e)}).filter(Boolean).filter(function(e,t,n){return"hr"!==H(e)||t!==n.length-1})},W=function(e){var t=e.doc,n=e.actions,r=e.isLast,a=e.setIsRenaming,i=e.onClose,o=(0,V.useI18n)().t;return(0,u.useMemo)(function(){return q(n,t)},[n,t]).map(function(e,n){var c=H(e),s=Object.values(e)[0],l=s.Component,d=s.action,f=s.isEnabled;return u.createElement(l,{key:c+n,className:"u-flex-items-center",isEnabled:f,docs:t?[t]:[],onClick:function(){d&&d([t],o,r),"rename"===c&&a(!0),i&&i()}})})};W.propTypes={doc:s().object,actions:s().array,isLast:s().bool,setIsRenaming:s().func,onClose:s().func};let G=W;var Z=(0,O.A)(),K=(0,O.A)(),Q=(0,O.A)(),Y=(0,O.A)(),J=function(e){var t=e.className,n=e.anchorElRef,r=e.autoclose,i=e.popperOptions,c=e.children,s=e.onClose,f=e.placement,p=e.preventOverflow,h=e.containerElRef;f&&K("<ActionMenu placement /> is deprecated, use <ActionMenu popperOptions={{ placement }} /> instead"),p&&Q("<ActionMenu preventOverflow /> is deprecated, use <ActionMenu popperOptions={{ modifiers }} /> instead"),h&&Y("<ActionMenu containerElRef /> is not needed anymore, it can be removed."),Z("The ActionMenu component has been deprecated and should be replaced by ActionsMenu. More infos: https://docs.cozy.io/cozy-ui/react/#!/ActionsMenu");var m=(0,B.default)().isMobile,v=u.createRef();return(0,l.D)(),u.createElement("div",{className:t,ref:v,onClick:r?s:null},u.createElement(U,{anchorElRef:n||v,popperOptions:i,onClose:s,placement:f,preventOverflow:p},u.createElement("div",{className:o()("styles__c-actionmenu___IUGX7",a()({},"styles__c-actionmenu--inline___1RWrO",!m))},u.Children.map(c,function(e){return e&&e.type===d&&!m?null:e}))))};J.propTypes={className:s().string,anchorElRef:s().object,autoclose:s().bool,popperOptions:s().shape({placement:s().oneOf(["bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"])}),children:s().node,onClose:s().func,placement:s().string,preventOverflow:s().bool,containerElRef:s().object},J.defaultProps={popperOptions:{placement:"bottom-start"},autoclose:!1};let $=J},19679:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>I});var r,a,i,o=n(82274),c=n.n(o),s=n(65044),u=n.n(s),l=n(41972),d=n.n(l),f=n(56994),p=n.n(f),h=n(65611),m=n.n(h),v=n(18337),y=n.n(v),g=n(26396),b=n.n(g),w=n(21259),k=n.n(w),x=n(73294),O=n.n(x),_=n(96540),E=n(4103),C=n.n(E),S=n(56211),P={"c-btn--alert-error":"styles__c-btn--alert-error___3uH5i","c-btn--alert-info":"styles__c-btn--alert-info___1xAkg","c-btn--alert-success":"styles__c-btn--alert-success___3PgiM","c-alert":"styles__c-alert___dJvZ8","c-alert-wrapper":"styles__c-alert-wrapper___1VWFK","c-alert--hidden":"styles__c-alert--hidden___2HD9e","c-alert-title":"styles__c-alert-title___229Am","c-alert--error":"styles__c-alert--error___g5tIs","c-alert--success":"styles__c-alert--success___2DGDO","c-alert--info":"styles__c-alert--info___2EDwe",spin:"styles__spin___10b55",shake:"styles__shake___JTDyQ"},A=function(e){p()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y()(r);return e=t?Reflect.construct(n,arguments,y()(this).constructor):n.apply(this,arguments),m()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),b()(d()(e),"state",{hidden:!0}),b()(d()(e),"notifyClosed",function(){e.props.onClose()}),b()(d()(e),"close",function(){e.closeTimer&&clearTimeout(e.closeTimer),e.beginClosing()}),b()(d()(e),"buttonAction",function(){var t=e.props.buttonAction;"function"==typeof t&&t(e.close)}),e}return u()(r,[{key:"computeDuration",value:function(){var e=this.props.message.split(/\W/).filter(Boolean);return Math.max(this.props.minDuration,e.length/3*1e3)}},{key:"componentDidMount",value:function(){var e=this;this.props.duration!==1/0&&(this.closeTimer=setTimeout(function(){e.beginClosing()},"auto"===this.props.duration?this.computeDuration():this.props.duration)),setTimeout(function(){e.setState({hidden:!1})},20)}},{key:"beginClosing",value:function(){this.base.addEventListener("transitionend",this.notifyClosed,!1),this.setState({hidden:!0})}},{key:"componentWillUnmount",value:function(){this.base.removeEventListener("transitionend",this.notifyClosed,!1),this.setState({hidden:!1}),this.closeTimer&&clearTimeout(this.closeTimer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.message,r=t.type,a=t.buttonText,i=this.state.hidden;return _.createElement("div",{ref:function(t){return e.base=t},className:C()(P["c-alert"],i?P["c-alert--hidden"]:""),role:"alert"},_.createElement("div",{className:C()(P["c-alert-wrapper"],P["c-alert--".concat(r)])},_.createElement("p",null,n),a&&_.createElement(S.default,{onClick:this.buttonAction,className:P["c-btn--alert-".concat(r)],label:a,size:"tiny"})))}}]),r}(_.Component);A.propTypes={type:O().oneOf(["success","info","error"]),message:O().string.isRequired,onClose:O().func,buttonText:O().string,buttonAction:O().func},A.defaultProps={type:"info",onClose:function(){},buttonText:void 0,buttonAction:function(){},duration:"auto"};var D=n(40961);let T=function(e){var t=e.into,n=e.children,r=document.querySelector(t);return D.createPortal(n,r)};var R=0,j=(r=[],a=[],i=function(){a.forEach(function(e){return e(r)})},{addNotification:function(e){return e.id=R++,r=[].concat(k()(r),[e]),i(),e},removeNotification:function(e){var t=e.id,n=r.findIndex(function(e){return e.id===t});if(-1!==n){var a=r[n];return r=[].concat(k()(r.slice(0,n)),k()(r.slice(n+1))),i(),a}},subscribe:function(e){a.push(e)},reset:function(){r=[],i()}}),M=function(e){p()(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y()(r);return e=t?Reflect.construct(n,arguments,y()(this).constructor):n.apply(this,arguments),m()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),b()(d()(e),"state",{notifications:[]}),b()(d()(e),"onStoreEvent",function(t){e.setState({notifications:t})}),b()(d()(e),"handleClose",function(e){j.removeNotification(e)}),e}return u()(r,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),j.subscribe(this.onStoreEvent)}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.into,a=this.state.notifications;return _.createElement(T,{into:r},a.map(function(t){return _.createElement(A,{type:t.type,key:t.id,message:n?n(t.msg,t.options):t.msg,onClose:function(){return e.handleClose(t)},buttonText:t.options&&t.options.buttonText,buttonAction:t.options&&t.options.buttonAction,duration:t.options&&t.options.duration,minDuration:2e3})}))}}],[{key:"reset",value:function(){j.reset()}},{key:"info",value:function(e,t){return j.addNotification({type:"info",msg:e,options:t})}},{key:"success",value:function(e,t){return j.addNotification({type:"success",msg:e,options:t})}},{key:"error",value:function(e,t){return j.addNotification({type:"error",msg:e,options:t})}},{key:"removeNotification",value:function(e){return j.removeNotification(e)}}]),r}(_.Component);M.propTypes={t:O().func,into:O().string},M.defaultProps={into:"body"};let I=M},56211:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:()=>E,ButtonLink:()=>C,default:()=>S});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(26396),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=n(90774),m=n(56706),v=["busy","disabled"],y=["children","icon","iconOnly","label","subtle","className","extension","round","size","theme","align","extraRight","tag"],g={"c-btn":"styles__c-btn___3kXsk","c-btn--regular":"styles__c-btn--regular___1ilYT","c-btn--ghost":"styles__c-btn--ghost___Md7mm","c-btn--highlight":"styles__c-btn--highlight___GlDOj","c-btn--alpha":"styles__c-btn--alpha___2-bRT","c-btn--action":"styles__c-btn--action___3z98K","c-btn--close":"styles__c-btn--close___C19bl","c-btn--danger":"styles__c-btn--danger___wzHFo","c-btn--secondary":"styles__c-btn--secondary___1hLVM","c-btn--danger-outline":"styles__c-btn--danger-outline___BCng5","c-btn--text":"styles__c-btn--text___33vmu","c-btn--left":"styles__c-btn--left___3f1zH","c-btn--center":"styles__c-btn--center___Nny0n","c-btn--right":"styles__c-btn--right___1B9Tn","c-btn--tiny":"styles__c-btn--tiny___fK37G","c-btn--small":"styles__c-btn--small___9JKyq","c-btn--large":"styles__c-btn--large___3PnsT","c-btn--full":"styles__c-btn--full___1VumB","c-btn--narrow":"styles__c-btn--narrow___erKsd","c-btn--round":"styles__c-btn--round___35GfW","c-btn--subtle":"styles__c-btn--subtle___2rRQ0",spin:"styles__spin___3VrS0",shake:"styles__shake___1yyjR"},b=function(e){var t,n=e.className,r=e.extension,a=e.size,i=e.theme,o=e.variant,c=e.round,u=e.align;return l()(g["c-btn"],(t={},s()(t,g["c-btn--".concat(i)],i),s()(t,g["c-btn--".concat(a)],"normal"!==a),s()(t,g["c-btn--".concat(o)],o),s()(t,g["c-btn--".concat(r)],r),s()(t,g["c-btn--".concat(u)],u),s()(t,g["c-btn--round"],c),t),n)},w=function(e){return function(t){var n=t.busy,r=t.disabled,a=o()(t,v);return n&&(a["aria-busy"]=!0),r&&(a["aria-disabled"]=!0),"button"===e&&r&&(a.disabled=!0),a}},k={button:w("button"),a:w("a")},x=function(e){return e},O={tiny:8,small:12,large:18},_=function(e){var t=e.children,n=e.icon,r=e.iconOnly,i=e.label,c=e.subtle,s=e.className,u=e.extension,l=e.round,d=e.size,f=e.theme,v=e.align,g=e.extraRight,w=e.tag,_=o()(e,y),E=k[w]||x,C=r?i:null;return p.createElement(w,a()({},E(_),{className:b({extension:u,align:v,round:l,size:d,theme:f,className:s,variant:c&&"subtle"}),title:C}),p.createElement("span",null,h.default.isProperIcon(n)?p.createElement(h.default,{size:O[d],icon:n,"aria-hidden":!0,focusable:"false"}):n,i&&p.createElement("span",{className:r?"u-visuallyhidden":null},i),t,g&&p.createElement("span",{className:"u-ml-auto"},g),_.busy&&p.createElement(h.default,{size:O[d],icon:m.A,spin:!0,className:"u-ml-half","aria-hidden":!0,focusable:"false"})))},E=function(e){return p.createElement(_,e)},C=function(e){return p.createElement(_,e)};let S=function(e){return e.tag?p.createElement(_,e):p.createElement(E,e)};E.propTypes={children:f().node,label:f().node.isRequired,icon:f().oneOfType([f().node,h.iconPropType]),iconOnly:f().bool,theme:f().string,size:f().oneOf(["tiny","small","large","normal"]),extension:f().oneOf(["narrow","full"]),align:f().oneOf(["left","right","center"]),round:f().bool,className:f().string,onClick:f().func,extraRight:f().PropTypes.node,busy:f().bool,disabled:f().bool,type:f().oneOf(["button","reset","submit"]),subtle:f().bool},E.defaultProps={type:"submit",tag:"button",size:"normal",align:"center"},C.defaultProps={tag:"a"}},42837:function(e,t,n){"use strict";n.d(t,{$:()=>g,Bd:()=>w,E:()=>b});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=["children","className","align"],m=["children","className","style"],v=["children","className","style"],y={media:"styles__media___1rIBu","media--top":"styles__media--top___1t0j5","media--bottom":"styles__media--bottom___XsQQe",bd:"styles__bd___3SAX2",img:"styles__img___3sztD"},g=function(e){var t=e.children,n=e.className,r=e.align,i=s()(e,h);return p.createElement("div",a()({className:l()(y.media,o()({},y["media--"+r],r&&"middle"!==r),n)},i),t)};g.propTypes={align:f().oneOf(["top","middle","bottom"])};var b=function(e){var t=e.children,n=e.className,r=e.style,i=s()(e,m);return p.createElement("div",a()({className:l()(y.img,n),style:r},i),t)},w=function(e){var t=e.children,n=e.className,r=e.style,i=s()(e,v);return p.createElement("div",a()({className:l()(y.bd,n),style:r},i),t)}},81041:function(e,t,n){"use strict";n.r(t),n.d(t,{Bd:()=>r.Bd,Img:()=>r.E,Media:()=>r.$});var r=n(42837)},26273:function(e,t,n){"use strict";n.r(t),n.d(t,{Table:()=>g,TableBody:()=>w,TableCell:()=>x,TableHead:()=>b,TableHeader:()=>O,TableRow:()=>k});var r=n(16193),a=n.n(r),i=n(39892),o=n.n(i),c=n(4103),s=n.n(c),u=n(73294),l=n.n(u),d=n(96540),f=["className"],p=["className"],h=["className"],m=["className"],v=["className"],y=["className"],g=d.forwardRef(function(e,t){var n=e.className,r=o()(e,f);return d.createElement("div",a()({className:s()("styles__Table___39nEw",n)},r,{ref:t}))}),b=d.forwardRef(function(e,t){var n=e.className,r=o()(e,p);return d.createElement("div",a()({className:s()("styles__TableHead___3ZqIs",n)},r,{ref:t}))}),w=d.forwardRef(function(e,t){var n=e.className,r=o()(e,h);return d.createElement("div",a()({className:s()("styles__TableBody___4ThMV",n)},r,{ref:t}))}),k=d.forwardRef(function(e,t){var n=e.className,r=o()(e,m);return d.createElement("div",a()({className:s()("styles__TableRow___UyGEc",n)},r,{ref:t}))}),x=d.forwardRef(function(e,t){var n=e.className,r=o()(e,v);return d.createElement("div",a()({className:s()("styles__TableCell___3vgVE",n)},r,{ref:t}))}),O=d.forwardRef(function(e,t){var n=e.className,r=o()(e,y);return d.createElement("div",a()({className:s()("styles__TableHeader___ERsVK",n)},r,{ref:t}))});g.propTypes={className:l().string},b.propTypes={className:l().string},w.propTypes={className:l().string},k.propTypes={className:l().string},x.propTypes={className:l().string},O.propTypes={className:l().string}},98712:function(e,t,n){"use strict";n.d(t,{Ay:()=>u,Ps:()=>c,bF:()=>s});var r=n(22056),a=n.n(r),i=n(73916),o=n.n(i),c=function(e,t){var n=t||window.innerWidth;return o()(e,function(e){var t=a()(e,2),r=t[0],i=t[1];return n>=r&&(void 0===i||n<=i)})},s=function(){try{return window.self!==window.top}catch(e){return!0}};let u={isExtraLarge:[1201],isLarge:[1024,1200],isMedium:[769,1023],isSmall:[544,768],isTiny:[0,543],isDesktop:[1024],isTablet:[769,1023],isMobile:[0,768]}},35855:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r=function(){var e=!1;return function(t){e||console.warn(t),e=!0}}},56100:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});let r=function(){return navigator&&navigator.userAgent&&navigator.userAgent.includes("Argos")}},21977:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")?e.current:e}n.d(t,{D:()=>r})},71231:function(e,t,n){"use strict";n.r(t),n.d(t,{breakpointsPropTypes:()=>k,default:()=>x});var r=n(16193),a=n.n(r),i=n(82274),o=n.n(i),c=n(65044),s=n.n(c),u=n(56994),l=n.n(u),d=n(65611),f=n.n(d),p=n(18337),h=n.n(p),m=n(7350),v=n.n(m),y=n(73294),g=n.n(y),b=n(96540),w=n(98712),k=g().shape(Object.keys(w.Ay).reduce(function(e,t){return e[t]=g().bool.isRequired,e},{}));let x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.Ay;return function(t){var n=function(n){l()(c,n);var r,i=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(c);return e=r?Reflect.construct(t,arguments,h()(this).constructor):t.apply(this,arguments),f()(this,e)});function c(t){var n;return o()(this,c),(n=i.call(this,t)).state={breakpoints:(0,w.Ps)(e)},n.checkBreakpoints=v()(function(){n.setState({breakpoints:(0,w.Ps)(e)})},100,{trailing:!0}),n}return s()(c,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkBreakpoints)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkBreakpoints)}},{key:"render",value:function(){var e=this.props,n=this.state.breakpoints;return b.createElement(t,a()({},e,{breakpoints:n}))}}]),c}(b.Component);return n.displayName="withBreakpoints(".concat(t.displayName||t.name,")"),n}}},73112:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(96540),a=n(21977);let i=function(e,t,n){(0,r.useEffect)(function(){var r=(0,a.D)(e);if(r&&t&&n)return r.addEventListener(t,n),function(){r.removeEventListener(t,n)}},[t,n,e])}},52591:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(79092),a=n.n(r),i=n(22056),o=n.n(i),c=n(92207),s=n.n(c),u=n(96540);let l=function(e,t,n){if(!e.plugins||!e.plugins.realtime)return void console.error("[useRealtime] The provided CozyClient instance does not have a RealtimePlugin registered");var r=function(){Object.entries(t).forEach(function(t){var n,r=o()(t,2),i=r[0];Object.entries(r[1]).forEach((n=a()(s().mark(function t(n){var r,a,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=o()(n,2))[0],c=r[1],t.prev=1,t.next=4,e.plugins.realtime.subscribe(a,i,c);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to subscribe to ".concat(a," event on ").concat(i,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return n.apply(this,arguments)}))})},i=function(){Object.entries(t).forEach(function(t){var n,r=o()(t,2),i=r[0];Object.entries(r[1]).forEach((n=a()(s().mark(function t(n){var r,a,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=o()(n,2))[0],c=r[1],t.prev=1,t.next=4,e.plugins.realtime.unsubscribe(a,i,c);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to unsubscribe from ".concat(a," event on ").concat(i,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return n.apply(this,arguments)}))})};(0,u.useEffect)(function(){return r(),i},n)}},18340:function(e,t,n){"use strict";n.r(t),n.d(t,{addFlagshipElements:()=>a,getFlagshipMetadata:()=>c,isRsg:()=>o,removeFlagshipElements:()=>i,setRsgFlagshipElements:()=>s});var r=n(7127),a=function(){var e=document.getElementsByTagName("body")[0];e.style.setProperty("--flagship-top-height","40px"),e.style.setProperty("--flagship-top-bgcolor","white"),e.style.setProperty("--flagship-top-overlay","transparent"),e.style.setProperty("--flagship-top-color","black"),e.style.setProperty("--flagship-bottom-height","40px"),e.style.setProperty("--flagship-bottom-bgcolor","white"),e.style.setProperty("--flagship-bottom-overlay","transparent"),e.style.setProperty("--flagship-bottom-color","black"),e.classList.add("flagship-app");var t=document.createElement("div");t.setAttribute("id","flagshipStatusBar"),t.style.cssText="position:fixed;top:0;height:var(--flagship-top-height);z-index:10000000;color:var(--flagship-top-color);background-color:var(--flagship-top-bgcolor);width:100%;display:flex;align-items:center;justify-content:center";var n=document.createElement("div");n.setAttribute("id","flagshipStatusBarOverlay"),n.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;background-color:var(--flagship-top-overlay)",t.appendChild(n);var r=document.createElement("div");r.setAttribute("id","flagshipStatusBarText"),r.innerText="Flagship Top Status Bar with clock",t.appendChild(r);var a=document.createElement("div");a.setAttribute("id","flagshipNavBar"),a.style.cssText="position:fixed;bottom:0;height:var(--flagship-bottom-height);z-index:10000000;color:var(--flagship-bottom-color);background-color:var(--flagship-bottom-bgcolor);width:100%;display:flex;align-items:center;justify-content:center";var i=document.createElement("div");i.setAttribute("id","flagshipNavBarOverlay"),i.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;background-color:var(--flagship-bottom-overlay)",a.appendChild(i);var o=document.createElement("div");o.setAttribute("id","flagshipNavBarText"),o.innerText="Flagship Nav Bar",a.appendChild(o);var c=document.getElementById("rsg-root");document.body.insertBefore(t,c),document.body.insertBefore(a,c)},i=function(){var e,t,n=document.getElementsByTagName("body")[0];n.style.removeProperty("--flagship-top-height"),n.style.removeProperty("--flagship-top-bgcolor"),n.style.removeProperty("--flagship-top-overlay"),n.style.removeProperty("--flagship-top-color"),n.style.removeProperty("--flagship-bottom-height"),n.style.removeProperty("--flagship-bottom-bgcolor"),n.style.removeProperty("--flagship-bottom-overlay"),n.style.removeProperty("--flagship-bottom-color"),n.classList.remove("flagship-app"),null==(e=document.getElementById("flagshipStatusBar"))||e.remove(),null==(t=document.getElementById("flagshipNavBar"))||t.remove()},o=!!document.getElementById("rsg-root"),c=o?function(){var e,t=(null==(e=JSON.parse(localStorage.getItem("flagship-app")))?void 0:e.contained)==="on";return{immersive:!t,statusBarHeight:40*!t,navbarHeight:40*!t}}:r.getFlagshipMetadata,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topBackground,n=e.topOverlay,r=e.topTheme,a=e.bottomBackground,i=e.bottomOverlay,c=e.bottomTheme;if(o){var s=document.getElementsByTagName("body")[0];t&&s.style.setProperty("--flagship-top-bgcolor",t),n&&s.style.setProperty("--flagship-top-overlay",n),r&&s.style.setProperty("--flagship-top-color","dark"===r?"black":"white"),a&&s.style.setProperty("--flagship-bottom-bgcolor",a),i&&s.style.setProperty("--flagship-bottom-overlay",i),c&&s.style.setProperty("--flagship-bottom-color","dark"===c?"black":"white")}}},47670:function(e,t,n){"use strict";n.r(t),n.d(t,{ThemeColor:()=>a,parseArg:()=>v,useSetFlagshipUI:()=>y});var r,a,i=n(83488),o=n.n(i),c=n(62193),s=n.n(c),u=n(23805),l=n.n(u),d=n(71086),f=n.n(d),p=n(96540),h=n(84660),m=n(18340);(r=a||(a={})).Dark="dark",r.Light="light";var v=function(e,t,n){var r=l()(t)?f()(t,o()):void 0,a=!s()(r)&&r;(0,m.setRsgFlagshipElements)(r),e&&a&&e.call("setFlagshipUI",a,n)},y=function(e,t,n){var r=(0,h.useWebviewIntent)();(0,p.useEffect)(function(){return v(r,e,"".concat(n||"unknown"," (onMount)")),function(){return v(r,t,"".concat(n||"unknown"," (onUnmount)"))}},[r])}},89253:function(e,t,n){"use strict";n.r(t),n.d(t,{nameToColor:()=>a});var r=Object.values(n(98175).O3).filter(Boolean),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Array.from(e.toUpperCase()).map(function(e){return e.charCodeAt(0)}).reduce(function(e,t){return e+t},0)%r.length;return r[t]}},84235:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(4103),l=n.n(u),d=n(73294),f=n.n(d),p=n(96540),h=["autoComplete","disabled","type","id","className","value","placeholder","error","size","fullwidth"],m={"c-input-text":"styles__c-input-text___1Tl4E","is-error":"styles__is-error___wKsQv","c-input-text--tiny":"styles__c-input-text--tiny___wubKz","c-input-text--medium":"styles__c-input-text--medium___1ISo1","c-input-text--large":"styles__c-input-text--large___2sSPx","c-input-text--fullwidth":"styles__c-input-text--fullwidth___cqKU6"},v=(0,p.forwardRef)(function(e,t){var n,r=e.autoComplete,i=e.disabled,c=e.type,u=e.id,d=e.className,f=e.value,v=e.placeholder,y=e.error,g=e.size,b=e.fullwidth,w=s()(e,h);return p.createElement("input",a()({"aria-disabled":i,autoComplete:r,type:c,id:u,ref:t,className:l()(m["c-input-text"],(n={},o()(n,m["is-error"],y),o()(n,m["c-input-text--".concat(g)],g),o()(n,m["c-input-text--fullwidth"],b),n),d),disabled:i,placeholder:v,value:f,spellCheck:!1},w))});v.displayName="Input",v.propTypes={autoComplete:f().string,disabled:f().bool,type:f().oneOf(["date","email","number","password","text","url","tel"]),id:f().string,className:f().string,value:f().oneOfType([f().number,f().string]),placeholder:f().string,error:f().bool,size:f().oneOf(["tiny","medium","large"]),fullwidth:f().bool,onChange:f().func,onKeyUp:f().func},v.defaultProps={type:"text",error:!1,fullwidth:!1,size:"large"};let y=v},84805:function(e,t,n){"use strict";n.d(t,{A:()=>r});let r={black:"var(--black)",white:"var(--white)",paleGrey:"var(--paleGrey)",silver:"var(--silver)",coolGrey:"var(--coolGrey)",slateGrey:"var(--slateGrey)",charcoalGrey:"var(--charcoalGrey)",overlay:"var(--overlay)",primaryColor:"var(--primaryColor)",primaryColorLight:"var(--primaryColorLight)",primaryContrastTextColor:"var(--primaryContrastTextColor)",success:"var(--successColor)",warning:"var(--warningColor)",error:"var(--errorColor)",info:"var(--infoColor)",errorBackground:"var(--errorBackground)",primaryBackgroundLight:"var(--primaryBackgroundLight)",neutralBackground:"var(--paleGrey)",zircon:"#F5FAFF",frenchPass:"#C2DCFF",dodgerBlue:"#297EF2",scienceBlue:"#0B61D6",puertoRico:"#0DCBCF",grannyApple:"#DEF7E7",emerald:"#35CE68",malachite:"#08b442",seafoamGreen:"#3DA67E",brightSun:"#FFC644",texasRose:"#FFAE5F",chablis:"#FFF2F2",yourPink:"#FDCBCB",fuchsia:"#FC4C83",pomegranate:"#F52D2D",monza:"#DD0505",portage:"#9169F2",azure:"#1FA8F1",melon:"#FD7461",blazeOrange:"#FC6D00",mango:"#FF962F",pumpkinOrange:"#FF7F1B",lavender:"#C2ADF4",darkPeriwinkle:"#6984CE",purpley:"#7F6BEE",lightishPurple:"#B449E7",barney:"#922BC2",weirdGreen:"#40DE8E"}},4493:function(e,t,n){"use strict";n.r(t),n.d(t,{AlertContext:()=>w,useAlert:()=>k,default:()=>O});var r=n(16193),a=n.n(r),i=n(26396),o=n.n(i),c=n(39892),s=n.n(c),u=n(22056),l=n.n(u),d=n(96540);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(e,t){return function(n,r){var a=e.noClickAway,i=e.noTimeOut;if(("clickaway"!==r||!a)&&("timeout"!==r||!i))return t(p(p({},e),{},{open:!1}))}},m=n(28101),v=n(89123),y=n(32736),g=["open","message","title","duration","noTimeOut","noClickAway"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var w=(0,d.createContext)(),k=function(){var e=(0,d.useContext)(w);if(!e)throw Error("useAlert must be used within a AlertProvider");return e},x={title:"",message:"",duration:null,open:!1};let O=d.memo(function(e){var t=e.children,n=(0,d.useState)(x),r=l()(n,2),i=r[0],c=r[1],u=i.open,f=i.message,p=i.title,k=i.duration,O=(i.noTimeOut,i.noClickAway,s()(i,g)),_=(0,d.useMemo)(function(){return{showAlert:function(e){c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({open:!0},e))}}},[]);return d.createElement(w.Provider,{value:_},t,d.createElement(y.A,{open:u,autoHideDuration:k,onClose:h(i,c)},d.createElement(m.default,a()({variant:"filled",elevation:6,onClose:function(e){return h(i,c)(e,"click")}},O),p&&d.createElement(v.default,null,p),f)))})},24242:function(e,t,n){"use strict";n.r(t),n.d(t,{BreakpointsProvider:()=>v,default:()=>g,useBreakpoints:()=>y});var r=n(22056),a=n.n(r),i=n(7350),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(98712),d=function(e){var t=e.parentBasedIframe,n=(0,u.useState)(!1),r=a()(n,2),i=r[0],o=r[1],c=t&&(0,l.bF)();return(0,u.useEffect)(function(){var e=function(e){"UI-breakpoints-needParentBreakpoints"===e.data&&o(!0)};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[]),(0,u.useEffect)(function(){c&&window.parent.postMessage("UI-breakpoints-needParentBreakpoints","*")},[c]),{hasIframe:i}},f=function(){return window.frames[1].postMessage("UI-breakpoints-value:".concat(window.innerWidth),"*")},p=function(e){var t=e.hasIframe;(0,u.useEffect)(function(){t&&f()},[t]),(0,u.useEffect)(function(){var e=o()(function(){t&&f()},100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[t])},h=function(e){var t=e.parentBasedIframe,n=(0,u.useState)(),r=a()(n,2),i=r[0],o=r[1],c=t&&(0,l.bF)();return(0,u.useEffect)(function(){var e=function(e){var t,n;if(c&&"string"==typeof e.data&&null!=(t=(n=e.data).includes)&&t.call(n,"UI-breakpoints-value:")){var r=e.data.split(":")[1];o((0,l.Ps)(l.Ay,r))}};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[c]),{parentBreakpoints:i}},m=(0,u.createContext)(null),v=function(e){var t=e.parentBasedIframe,n=e.children,r=(0,u.useState)((0,l.Ps)(l.Ay)),i=a()(r,2),c=i[0],s=i[1];p({hasIframe:d({parentBasedIframe:t}).hasIframe});var f=h({parentBasedIframe:t}).parentBreakpoints;return(0,u.useEffect)(function(){var e=o()(function(){s((0,l.Ps)(l.Ay))},100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),u.createElement(m.Provider,{value:f||c},n)};v.defaultProps={parentBasedIframe:!1},v.propTypes={parentBasedIframe:s().bool};var y=function(){var e=(0,u.useContext)(m);if(null===e)throw Error("Cannot use useBreakpoints without BreakpointsProvider. The component must have a BreakpointsProvider above it.");return e};let g=y},71118:function(e,t,n){"use strict";n.r(t),n.d(t,{useCozyTheme:()=>F,default:()=>B,CozyThemeContext:()=>z});var r=n(26396),a=n.n(r),i=n(4103),o=n.n(i),c=n(73294),s=n.n(c),u=n(96540),l=n(40918),d=n.n(l),f=n(30589),p=n(55364),h=n.n(p),m=n(89995),v={light:{normal:{action:{hoverOpacity:.04,selectedOpacity:.08,disabledOpacity:.32,focusOpacity:.12,activatedOpacity:.12,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.32,ghostOpacity:.48},background:{contrastOpacity:.12}},inverted:{action:{hoverOpacity:.08,selectedOpacity:.16,disabledOpacity:.32,focusOpacity:.25,activatedOpacity:.24,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.48,ghostOpacity:.48},background:{contrastOpacity:.24}}},dark:{normal:{action:{hoverOpacity:.08,selectedOpacity:.16,disabledOpacity:.32,focusOpacity:.24,activatedOpacity:.24,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.48,ghostOpacity:.48},background:{contrastOpacity:.24}},inverted:{action:{hoverOpacity:.04,selectedOpacity:.08,disabledOpacity:.32,focusOpacity:.12,activatedOpacity:.12,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.32,ghostOpacity:.48},background:{contrastOpacity:.12}}}},y=function(e,t){var n={type:e,variant:t,primary:{light:(0,m.N)("primaryColorLight",e,t),main:(0,m.N)("primaryColor",e,t),dark:(0,m.N)("primaryColorDark",e,t),contrastText:(0,m.N)("primaryContrastTextColor",e,t)},secondary:{light:(0,m.N)("secondaryColorLight",e,t),main:(0,m.N)("secondaryColor",e,t),dark:(0,m.N)("secondaryColorDark",e,t),contrastText:(0,m.N)("secondaryContrastTextColor",e,t)},error:{light:(0,m.N)("errorColorLight",e,t),main:(0,m.N)("errorColor",e,t),dark:(0,m.N)("errorColorDark",e,t),contrastText:(0,m.N)("errorColorContrastText",e,t)},warning:{light:(0,m.N)("warningColorLight",e,t),main:(0,m.N)("warningColor",e,t),dark:(0,m.N)("warningColorDark",e,t),contrastText:(0,m.N)("warningColorContrastText",e,t)},success:{light:(0,m.N)("successColorLight",e,t),main:(0,m.N)("successColor",e,t),dark:(0,m.N)("successColorDark",e,t),contrastText:(0,m.N)("successColorContrastText",e,t)},info:{light:(0,m.N)("infoColorLight",e,t),main:(0,m.N)("infoColor",e,t),dark:(0,m.N)("infoColorDark",e,t),contrastText:(0,m.N)("infoColorContrastText",e,t)},text:{primary:(0,m.N)("primaryTextColor",e,t),secondary:(0,m.N)("secondaryTextColor",e,t),disabled:(0,m.N)("disabledTextColor",e,t),hint:(0,m.N)("hintTextColor",e,t),icon:(0,m.N)("iconTextColor",e,t)},grey:{50:(0,m.N)("grey50",e,t),100:(0,m.N)("grey100",e,t),200:(0,m.N)("grey200",e,t),300:(0,m.N)("grey300",e,t),400:(0,m.N)("grey400",e,t),500:(0,m.N)("grey500",e,t),600:(0,m.N)("grey600",e,t),700:(0,m.N)("grey700",e,t),800:(0,m.N)("grey800",e,t),900:(0,m.N)("grey900",e,t),A100:(0,m.N)("greyA100",e,t),A200:(0,m.N)("greyA200",e,t),A400:(0,m.N)("greyA400",e,t),A700:(0,m.N)("greyA700",e,t)},divider:(0,m.N)("dividerColor",e,t),action:{active:(0,m.N)("actionColorActive",e,t),hover:(0,m.N)("actionColorHover",e,t),selected:(0,m.N)("actionColorSelected",e,t),disabled:(0,m.N)("actionColorDisabled",e,t),disabledBackground:(0,m.N)("actionColorDisabledBackground",e,t),focus:(0,m.N)("actionColorFocus",e,t),ghost:(0,m.N)("actionColorGhost",e,t),hoverGhost:(0,m.N)("actionColorHoverGhost",e,t)},border:{main:(0,m.N)("borderMainColor",e,t),disabled:(0,m.N)("borderDisabledColor",e,t),ghost:(0,m.N)("borderGhostColor",e,t),ghostDisabled:(0,m.N)("borderGhostDisabledColor",e,t)},background:{default:(0,m.N)("defaultBackgroundColor",e,t),paper:(0,m.N)("paperBackgroundColor",e,t),contrast:(0,m.N)("contrastBackgroundColor",e,t),selected:"#F5FAFF"}};return h()(n,v[e][t])},g=n(19773);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=function(e){var t,n,r,i;return{MuiAppBar:{colorDefault:{backgroundColor:e.palette.grey.A400,color:e.palette.primary.contrastText}},MuiSelect:{iconOutlined:{top:"auto",right:14},outlined:{"&&":{paddingRight:39}}},MuiOutlinedInput:{root:{borderRadius:4,"&$disabled":{background:e.palette.background.contrast},"&$focused $notchedOutline":{borderWidth:"0.0625rem"},"&$error $notchedOutline":{borderColor:(0,g.X4)(e.palette.error.main,e.palette.border.opacity)},"&$focused&$error $notchedOutline":{borderColor:e.palette.error.main},"&:hover $notchedOutline":{borderColor:e.palette.text.hint},"&:hover&$error $notchedOutline":{borderColor:e.palette.error.main}},notchedOutline:{borderColor:e.palette.border.main,transition:"border-color ".concat(e.transitions.duration.shorter,"ms")},input:{textAlign:"left",padding:"18.5px 16px"},inputMarginDense:{paddingTop:14,paddingBottom:15}},MuiInputLabel:{outlined:{"&$marginDense":{transform:"translate(14px, 14px) scale(1)"},"&:not($shrink)":{"&$error":{color:e.palette.text.secondary}}}},MuiToggleButtonGroup:{groupedHorizontal:{"&.rounded":{marginRight:12,"&:last-child":{marginRight:0},"&:not(:first-child)":{borderTopLeftRadius:"inherit",borderBottomLeftRadius:"inherit",marginLeft:"inherit",borderLeft:"inherit"},"&:not(:last-child)":{"&.rounded":{borderTopRightRadius:"inherit",borderBottomRightRadius:"inherit"}}}}},MuiToggleButton:{root:{borderRadius:0,color:e.palette.text.secondary,border:"1px solid ".concat(e.palette.border.main),padding:15,"&$selected":{color:e.palette.text.primary,backgroundColor:"transparent","&:not($disabled)":{"&.customColor":{"&-primary":{color:e.palette.primary.main}}}},"&$disabled":{color:e.palette.text.disabled},"&.rounded":{border:0,borderRadius:e.shape.borderRadius,padding:"10px 12px","&$selected":{backgroundColor:e.palette.action.selected,"&:not($disabled)":{"&.customColor":{"&-primary":{color:e.palette.text.primary,backgroundColor:(0,g.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{textDecoration:"none",backgroundColor:(0,g.X4)(e.palette.primary.main,e.palette.action.activatedOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}}}},sizeSmall:{padding:11,"&.rounded":{padding:"7px 10px"}},sizeLarge:{padding:19,"&.rounded":{padding:12}}},MuiButton:{root:{borderRadius:100,lineHeight:"normal",padding:"10px 24px","&.customSize":{"&-default":{height:"2.5rem"},"&-auto":{minHeight:"2.5rem"}},"&.ghost":{border:0,"&:hover":{border:0}}},sizeSmall:{padding:"10px 16px","&.customSize":{"&-default":{height:"2.25rem"},"&-auto":{minHeight:"2.25rem"}},"&$text":{padding:"8px 16px"}},sizeLarge:{padding:"14px 32px","&.customSize":{"&-default":{height:"3rem"},"&-auto":{minHeight:"3rem"}},"&$text":{padding:"14px 10px"}},text:{minWidth:"auto",padding:"10px 8px","&:not($disabled)":{"&.customColor":{"&-success":(0,f.Tr)(e,"success"),"&-warning":(0,f.Tr)(e,"warning"),"&-error":(0,f.Tr)(e,"error"),"&-info":(0,f.Tr)(e,"info")}}},outlined:{"&:not($disabled)":{"&.ghost":{backgroundColor:(0,g.X4)(e.palette.primary.main,.25),"&:hover":{backgroundColor:(0,g.e$)((0,g.X4)(e.palette.primary.main,.25),.1),"@media (hover: none)":{backgroundColor:(0,g.X4)(e.palette.primary.main,.25)}}},"&.customColor":{"&-primary":{color:e.palette.primary.main,borderColor:e.palette.primary.main,"&:hover":{backgroundColor:(0,g.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&.ghost":{color:e.palette.text.primary,borderColor:e.palette.background.default}},"&-success":(0,f.I3)(e,"success"),"&-warning":(0,f.I3)(e,"warning"),"&-error":(0,f.I3)(e,"error"),"&-info":(0,f.I3)(e,"info")}}},contained:{boxShadow:0,"&:not($disabled)":{"&.customColor":{"&-success":(0,f.$n)(e,"success"),"&-warning":(0,f.$n)(e,"warning"),"&-error":(0,f.$n)(e,"error"),"&-info":(0,f.$n)(e,"info")}}},startIcon:{marginLeft:"0 !important"}},MuiTabs:{root:{"&.segmented":{borderRadius:"99px",backgroundColor:e.palette.background.contrast,overflow:"visible",minHeight:"2.5rem","& $indicator":{top:"1px",height:"calc(100% - 2px)",transform:"scale(0.99)",borderRadius:"99px",zIndex:0,boxShadow:e.shadows[1],backgroundColor:e.palette.background.paper},"& $fixed":{overflow:"visible !important"},"& $scrollButtons":{borderRadius:"99px"}}}},MuiTab:{root:w(w({},e.typography.subtitle2),{},{"&:hover":{color:e.palette.text.primary,opacity:1},"&:focus":{color:e.palette.text.primary},"&.narrowed":a()({minWidth:"auto"},e.breakpoints.up("sm"),{minWidth:"auto"}),"&.segmented":w(w({},e.typography.body2),{},{textTransform:"initial",zIndex:1,borderRadius:"99px",minHeight:"2.5rem","&$selected":{color:e.palette.text.primary}})})},MuiAccordion:{rounded:{borderRadius:e.shape.borderRadius},root:{boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.08)",borderWidth:"0.0625rem",borderStyle:"solid",borderColor:e.palette.border.main,overflow:"hidden",marginBottom:"1rem"}},MuiAccordionSummary:{expanded:{},root:{backgroundColor:e.palette.grey[100],textTransform:"uppercase",fontWeight:"bold",fontSize:"0.875rem",minHeight:"3.5rem",padding:0,color:e.palette.text.primary,"&$expanded":{minHeight:"3.5rem"}},expandIcon:{order:0,"&&":{marginLeft:"0.3125rem"},transform:"rotate(-90deg)","&$expanded":{marginLeft:"0.3125rem",transform:"rotate(0)"}},content:{margin:"0.75rem 0",paddingLeft:"0.5rem",paddingRight:"0.25rem",order:1,"& > :last-child":{paddingRight:0},"&$expanded":{margin:"0.75rem 0"}}},MuiAccordionDetails:{root:{padding:0,borderTop:"0.0625rem solid ".concat(e.palette.border.main)}},MuiStepConnector:{line:{borderColor:e.palette.divider}},MuiStepContent:{root:{borderColor:e.palette.divider}},MuiStepLabel:{label:w(w({},e.typography.body1),{},{"&$active":w({},e.typography.h6),"&$completed":w({},e.typography.h6)})},MuiListItemIcon:{root:{minWidth:"auto",width:32,height:32,alignItems:"center",justifyContent:"center",color:e.palette.text.icon}},MuiListItem:{root:{gap:16,paddingTop:12,paddingBottom:12,minHeight:56,"&.small":{paddingTop:8,paddingBottom:8,minHeight:48},"&.large":{paddingTop:16,paddingBottom:16,minHeight:64},"&.cozyActionsItem":{wordBreak:"break-word"}},dense:{paddingTop:8,paddingBottom:8,minHeight:48,"&.small":{paddingTop:4,paddingBottom:4,minHeight:40},"&.large":{paddingTop:12,paddingBottom:12,minHeight:56}}},MuiListSubheader:{root:w(w({},e.typography.subtitle2),{},{paddingBottom:8,paddingTop:8,marginBottom:"0.5rem",backgroundColor:e.palette.background.contrast}),sticky:{backgroundColor:e.palette.background.default}},MuiListItemText:{root:{marginTop:1,marginBottom:1},multiline:{marginTop:1,marginBottom:1},secondary:{marginTop:1}},MuiListItemSecondaryAction:{root:{right:0}},MuiMenu:{paper:{maxWidth:320}},MuiMenuItem:{root:(t={whiteSpace:"normal",overflow:"auto",wordBreak:"break-word",paddingTop:4,paddingBottom:4},a()(t,e.breakpoints.up("sm"),{minHeight:40}),a()(t,"&.cozyActionsItem",{minWidth:256}),a()(t,"& .cozyListItemIcon",{width:16,height:16}),t),gutters:{paddingLeft:16,paddingRight:16}},MuiTableHead:{root:{backgroundColor:e.palette.background.paper,"&.virtualized":{"& .virtualizedCheckbox":{opacity:0,"&.checked":{opacity:1},"&:hover":{opacity:1}},"&:hover":{"& .virtualizedCheckbox":{opacity:.5}}}}},MuiTableRow:{root:{"&.disabled":{cursor:"pointer",pointerEvents:"none",opacity:.5},"&.virtualized":{"& .virtualizedCheckbox":{opacity:0,"&.visible":{opacity:.5},"&.checked":{opacity:1},"&:hover":{opacity:1}},"&:hover":{"& .virtualizedCheckbox":{opacity:.5}}}}},MuiTableCell:{root:{padding:"8px 4px"},head:w(w({},e.typography.subtitle2),{},{color:e.palette.text.secondary,lineHeight:1.292}),body:{color:e.palette.text.secondary,height:"2rem"},sizeSmall:w(w({},e.typography.subtitle2),{},{paddingBottom:0,paddingTop:0,outline:"1px solid ".concat(e.palette.background.default),borderBottom:"none",backgroundColor:e.palette.background.default}),paddingCheckbox:{width:32,padding:0},stickyHeader:{backgroundColor:e.palette.background.paper}},MuiTableSortLabel:{root:{padding:"8px 0",color:e.palette.text.secondary},icon:{fontSize:14}},MuiFormLabel:{root:{color:e.palette.text.secondary,"&$disabled&$error":{color:e.palette.text.disabled}}},MuiFormHelperText:{root:{fontStyle:"italic",fontSize:"0.875rem",marginTop:4,"&$disabled&$error":{color:e.palette.text.disabled}}},MuiDialog:{paper:{width:"100%","&.small":a()({maxWidth:"480px"},e.breakpoints.down("md"),{margin:"16px",padding:"0 8px 8px",height:"auto",maxHeight:"calc(100% - 32px)",borderRadius:"6px","& .divider--dialog":{marginLeft:"-8px",marginRight:"-8px"}}),"&.medium":{maxWidth:"544px"},"&.large":{maxWidth:"800px"},"&.full":{maxWidth:"100%"}},scrollPaper:{"&.alignTop":{alignItems:"start"}},paperFullScreen:{"&.small":{maxWidth:"100%"},"&.medium":{maxWidth:"100%"},"&.large":{maxWidth:"100%"},"& .cozyDialogActions":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat((0,f.fY)("bottom"),")")},'& [class*="DialogCloseButton"]':{transform:"translateY(".concat((0,f.fY)("top"),")")},'& [class*="DialogBackButton"]':{transform:"translateY(".concat((0,f.fY)("top"),")")},".flagship-app & .cozyDialogTitle":{paddingTop:"calc(".concat((0,f.fY)("top")," + 0.75rem) !important")},".flagship-app & .cozyDialogContent":{marginBottom:"".concat((0,f.fY)("bottom")," !important")}}},MuiDialogTitle:{root:w(w({},e.typography.h3),{},(n={boxSizing:"border-box",width:"100%",padding:"1.5rem 2rem"},a()(n,e.breakpoints.down("sm"),w(w({},e.typography.h4),{},{padding:"0.75rem 1rem"})),a()(n,"&.dialogTitleWithBack",a()({paddingLeft:"4rem"},e.breakpoints.down("sm"),{paddingLeft:"3rem"})),a()(n,"&.dialogTitleWithClose",a()({paddingRight:"4rem"},e.breakpoints.down("sm"),{paddingRight:"3rem"})),a()(n,"&.dialogTitleFluid",{paddingTop:0}),n))},MuiDialogContent:{root:(r={padding:"24px 32px 0"},a()(r,e.breakpoints.down("sm"),{padding:"24px 16px 0"}),a()(r,"&.disableGutters",{padding:0,"& .dialogContentInner":{marginBottom:0},"& .dialogTitleFluidContainer":{marginLeft:0,marginRight:0,marginTop:0}}),a()(r,"& .dialogContentInner",{marginBottom:"24px","&.withFluidActions":a()({},e.breakpoints.down("sm"),{marginBottom:0,display:"flex",flexDirection:"column",height:"100%","& .dialogContentWrapper":{flexGrow:1,"&:not(.withActions)":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat((0,f.fY)("bottom")," + 16px)")}},"& .cozyDialogActions":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat((0,f.fY)("bottom")," + 16px)")}}),"& .dialogTitleFluidContainer":a()({marginLeft:"-2rem",marginRight:"-2rem"},e.breakpoints.down("sm"),{marginLeft:"-1rem",marginRight:"-1rem",marginTop:"-0.75rem"})}),r)},MuiDialogActions:{root:(i={margin:"16px 32px",padding:0},a()(i,e.breakpoints.down("sm"),{margin:"8px 16px","& button":{flexGrow:1}}),a()(i,"&.dialogActionsFluid",{margin:"24px 0 0"}),a()(i,"&.columnLayout",{display:"flex",flexDirection:"column-reverse","& button":{width:"100%",margin:0,"&:not(:first-child)":{marginBottom:"8px"}}}),a()(i,"&:not(.columnLayout) > :not(:first-child):not(:first-child)",{marginLeft:4}),i)},MuiDivider:{inset:{marginLeft:64,"&.divider--dialog":{marginLeft:80}}},MuiAvatarGroup:{root:{"& > div:last-child":{boxShadow:"inset 0px 0px 0px 1px ".concat(e.palette.border.main)}},avatar:{border:"2px solid ".concat(e.palette.background.paper)}},MuiAvatar:{root:{fontWeight:600,"&.size":{"&-xs":{width:16,height:16,fontSize:8,"& svg":{width:10,height:10}},"&-s":{width:24,height:24,fontSize:11,"& svg":{width:16,height:16}},"&-m":{width:32,height:32,fontSize:16,"& svg":{width:20,height:20}},"&-l":{width:48,height:48,fontSize:24,"& svg":{width:28,height:28}},"&-xl":{width:64,height:64,fontSize:32,"& svg":{width:36,height:36}}},"&.disabled":{color:e.palette.primary.contrastText,background:"var(--silver)","& img":{filter:"grayscale(1) brightness(2)",opacity:.5}},"&.displayInline":{display:"inline-flex"},"&.border":{border:"2px solid ".concat(e.palette.background.paper)},"&.innerBorder":{boxShadow:"inset 0px 0px 0px 1px ".concat(e.palette.border.main)}},colorDefault:{backgroundColor:e.palette.background.paper,color:e.palette.text.secondary}},MuiCheckbox:{root:{padding:8,"&.small":{padding:6}},colorSecondary:{"&$checked":{color:e.palette.error.main}}},MuiSwitch:{root:{width:56,height:40,padding:"6px 1px",justifyContent:"center"},checked:{"& + $track$track":{opacity:1}},switchBase:{padding:5,top:5,left:5,color:e.palette.text.icon,"& .cozySwitchThumb":{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:"50%",boxShadow:e.shadows[1],backgroundColor:e.palette.common.white},"&$checked":{transform:"translateX(15px)"}},thumb:{width:20,height:20,backgroundColor:e.palette.common.white},track:{width:44,height:"100%",borderRadius:100,opacity:1,backgroundColor:e.palette.text.disabled},colorPrimary:{"&$disabled + $track":{opacity:1,backgroundColor:e.palette.action.disabledBackground}},colorSecondary:{"&$checked":{color:e.palette.success.main,"&$disabled + $track":{opacity:1,backgroundColor:e.palette.action.disabledBackground},"& + $track":{backgroundColor:e.palette.success.main}}},disabled:{"&$checked + $track":{backgroundColor:e.palette.action.disabledBackground},"& .cozySwitchThumb":{backgroundColor:e.palette.background.default},"& $thumb":{backgroundColor:e.palette.common.white}}},MuiLinearProgress:{root:{height:3},colorPrimary:{backgroundColor:e.palette.divider}},MuiTooltip:{tooltip:{backgroundColor:(0,g.X4)(e.palette.grey[800],.9),fontSize:"1rem",lineHeight:"1.3",borderRadius:"4px",padding:"8px 12px"}},MuiIconButton:{root:{color:e.palette.text.secondary,"&.small":{padding:8},"&.medium":{padding:12},"&.large":{padding:16},"&.xlarge":{padding:20},"&.dialogIconButton":{backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:e.palette.action.selected}},"&.cozyStyles":{"&-error":{color:e.palette.error.main,"&:hover":{backgroundColor:(0,g.X4)(e.palette.error.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}},MuiBadge:{badge:{boxSizing:"content-box",padding:0,borderRadius:"100%","&.badgeBorder":{border:"2px solid ".concat(e.palette.background.paper)},"&.badgeSizeLarge":{fontSize:".6875rem",height:"1rem",minWidth:"1rem"},"&.badgeSizeMedium":{height:".875rem",minWidth:".875rem",fontSize:".625rem"},"&.badgeSizeSmall":{height:".75rem",minWidth:".75rem",fontSize:".5rem"}},colorPrimary:{"&.colorSuccess":{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText},"&.colorWarning":{backgroundColor:e.palette.warning.main,color:e.palette.warning.contrastText},"&.colorInfo":{backgroundColor:e.palette.info.main,color:e.palette.info.contrastText}},anchorOriginTopRightRectangular:{transform:"scale(1) translate(37%, -37%)"},anchorOriginBottomRightRectangular:{transform:"scale(1) translate(37%, 37%)"},anchorOriginBottomLeftRectangular:{transform:"scale(1) translate(-37%, 37%)"},anchorOriginTopLeftRectangular:{transform:"scale(1) translate(-37%, -37%)"},dot:{borderRadius:"100%",padding:0,"&.badgeSizeLarge":{height:".625rem",minWidth:".625rem"},"&.badgeSizeMedium":{height:".5rem",minWidth:".5rem"},"&.badgeSizeSmall":{height:".375rem",minWidth:".375rem"}}},MuiRadio:{root:{padding:"12px","&$disabled svg":{borderRadius:"50%",backgroundColor:e.palette.background.contrast,fill:e.palette.border.disabled},"&:not($checked) svg":{fill:e.palette.border.main}},colorPrimary:{"&$checked svg":{fill:e.palette.primary.main},"&$disabled&$checked svg":{fill:e.palette.text.disabled}},colorSecondary:{"&$checked svg":{fill:e.palette.error.main},"&$disabled&$checked svg":{fill:e.palette.text.disabled}}},MuiChip:{root:{"&.noLabel":{width:"32px","& $label":{display:"none"},"& $icon":{margin:0}},"&.customColor":{"&-primary":(0,f.AG)(e,"primary"),"&-success":(0,f.AG)(e,"success"),"&-error":(0,f.AG)(e,"error"),"&-warning":(0,f.AG)(e,"warning"),"&-info":(0,f.AG)(e,"info")}}},MuiAlert:{root:{padding:"8px 16px","&.cozyStyles":{"&-primary":(0,f.O1)(e,"primary"),"&-secondary":(0,f.O1)(e,"secondary"),"&-success":(0,f.O1)(e,"success"),"&-error":(0,f.O1)(e,"error"),"&-warning":(0,f.O1)(e,"warning"),"&-info":(0,f.O1)(e,"info")},"& $icon":{paddingTop:"9px"},"&.block":{flexWrap:"wrap","& $action":{width:"100%",paddingLeft:0,justifyContent:"end"}}},message:{flex:"auto",display:"flex",alignItems:"center",flexWrap:"wrap"},action:{marginRight:"-8px"}},MuiAlertTitle:{root:{width:"100%",fontWeight:"bold"}},MuiSnackbarContent:{root:{padding:"4px 12px",backgroundColor:e.palette.grey[600]}},MuiFab:{root:{borderRadius:28,width:96,height:96,color:e.palette.text.primary,backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:(0,g.e$)(e.palette.background.paper,.05)},"@media (hover: none)":{backgroundColor:e.palette.background.paper}},primary:{color:e.palette.primary.dark,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:(0,g.e$)(e.palette.primary.light,.05),"@media (hover: none)":{backgroundColor:e.palette.primary.light}}},extended:{borderRadius:16,height:56,minWidth:56,padding:"0 20px","&$sizeSmall":{borderRadius:16,height:42,minWidth:42,padding:"0 12px"},"&$sizeMedium":{borderRadius:16,height:48,minWidth:48,padding:"0 16px"}},sizeSmall:{borderRadius:12},sizeMedium:{borderRadius:16,width:56,height:56}},MuiMobileStepper:{root:{background:"transparent",height:40,padding:0},dot:{backgroundColor:"transparent",width:"10px",height:"10px",margin:"0 3px",border:"1px solid ".concat(e.palette.border.main),boxSizing:"border-box"},dotActive:{border:"none"}}}},x=function(e){return h()(k(e),{MuiLinearProgress:{colorPrimary:{backgroundColor:"rgba(255,255,255,0.2)"},colorSecondary:{backgroundColor:"rgba(255,255,255,0.2)"}},MuiSnackbarContent:{root:{backgroundColor:e.palette.grey[200]}},MuiTabs:{root:{"&.segmented":{"& $indicator":{backgroundColor:e.palette.primary.main}}}},MuiTab:{root:{"&.segmented":{"&$selected":{color:e.palette.primary.contrastText}}}},MuiSwitch:{switchBase:{color:e.palette.grey[100]},colorPrimary:{"&$checked":{"& + $track":{backgroundColor:e.palette.success.dark}}},colorSecondary:{"&$checked":{"& + $track":{backgroundColor:e.palette.success.dark}}}}})},O=n(56100),_=n(48603);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(e){var t;return{light:{normal:k(e),inverted:x(e)},dark:{normal:(t=e,h()(k(t),{MuiAppBar:{colorDefault:{backgroundColor:t.palette.primary.main}}})),inverted:x(e)}}},P=C({shape:{borderRadius:6},breakpoints:{values:{xs:0,sm:480,md:768,lg:1023,xl:1200}},zIndex:{modal:"var(--zIndex-modal)"},textShadows:["none","0px 2px 8px rgba(29, 33, 42, 0.16), 0px 0px 1px rgba(29, 33, 42, 0.48)"]},(0,O.default)()&&{transitions:{create:function(){return"none"}}}),A=function(e,t){(0,m.b)(e,t);var n=y(e,t),r=(0,_.A)(C(C({},P),{},{typography:{fontFamily:"var(--primaryFont)",h1:{fontSize:45,fontWeight:600,lineHeight:1.087},h2:{fontSize:32,fontWeight:600,lineHeight:1.313},h3:{fontSize:24,fontWeight:600,lineHeight:1.167},h4:{fontSize:22,fontWeight:600,lineHeight:1.167},h5:{fontSize:16,fontWeight:600,lineHeight:1.313,letterSpacing:"0.15px"},h6:{fontSize:14,fontWeight:500,lineHeight:1.313,letterSpacing:"0.1px"},subtitle1:{fontSize:14,fontWeight:500,lineHeight:1.358,letterSpacing:"0.1px"},subtitle2:{fontSize:14,fontWeight:600,lineHeight:1.334,letterSpacing:"0.25px"},body1:{fontSize:16,fontWeight:400,lineHeight:1.313,letterSpacing:"-0.15px"},body2:{fontSize:14,fontWeight:500,lineHeight:1.313,letterSpacing:"0.25px"},button:{fontSize:16,fontWeight:500,lineHeight:1.313,textTransform:"inherit"},caption:{fontSize:12,fontWeight:500,lineHeight:1.313,letterSpacing:"0.5px"},overline:{fontSize:11,fontWeight:500,lineHeight:"16px",letterSpacing:"0.5px",textTransform:"inherit"}},shadows:(0,f.mS)(e,t),type:e,variant:t,palette:n})),a=S(r)[e][t];return C(C({},r),{},{overrides:a})},D={light:{normal:A("light","normal"),inverted:A("light","inverted")},dark:{normal:A("dark","normal"),inverted:A("dark","inverted")}},T=function(e,t){var n,r=null==(n=D[e])?void 0:n[t];if(!r){var a=Object.keys(D).join(", ");throw Error("[MuiCozyTheme] Unknown theme variant: ".concat(t,". Possible variants are ").concat(a))}return r},R=n(65429),j=function(e){var t=e.type,n=e.variant,r=e.children,a=T(t,n);return u.createElement(R.A,{theme:a},r)};j.propTypes={type:s().oneOf(["light","dark"]),variant:s().oneOf(["normal","inverted"])},j.defaultProps={type:"light",variant:"normal"};var M=n(56424);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z=(0,u.createContext)(),F=function(){var e=(0,u.useContext)(z);return e||(d()("error","`CozyThemeContext` is missing. `useCozyTheme()` must be used within a `<CozyTheme>`. `light normal` is returned as fallback value."),{type:"light",variant:"normal",isLight:!0})},L=function(e){var t,n=e.type,r=e.variant,i=e.className,c=e.ignoreItself,s=e.children,l=localStorage.getItem("ui-theme-type"),d=localStorage.getItem("ui-theme-variant"),f=(0,M.A)("(prefers-color-scheme: dark)",N(N({},void 0),{},{noSsr:!0}))?"dark":"light",p=["light","dark"].includes(n)?n:void 0,h=l||p||f,m=d||r;return u.createElement(z.Provider,{value:{type:h,variant:m,isLight:"light"===h}},u.createElement(j,{type:h,variant:m},u.createElement("div",{className:o()(i,(t={},a()(t,"TwakeTheme--".concat(h,"-").concat(m),!!m),a()(t,"u-dc",c),t))},s)))};L.propTypes={type:s().oneOf(["light","dark","auto"]),variant:s().oneOf(["normal","inverted"]),ignoreItself:s().bool,className:s().string,children:s().node},L.defaultProps={variant:"normal",ignoreItself:!0};let B=L},81396:function(e,t,n){"use strict";n.r(t),n.d(t,{EncryptedContext:()=>a,default:()=>o,useEncrypted:()=>i});var r=n(96540),a=r.createContext(),i=function(){var e=(0,r.useContext)(a);if(!e)throw Error("useEncrypted must be used within a EncryptedProvider");return e};let o=r.memo(function(e){var t=e.url,n=e.children;return r.createElement(a.Provider,{value:{url:t}},n)})},52245:function(e,t,n){"use strict";n.r(t),n.d(t,{MuiThemeProvider:()=>r.sA,ServerStyleSheets:()=>r.bW,StylesProvider:()=>r.W$,ThemeProvider:()=>r.NP,alpha:()=>r.X4,createGenerateClassName:()=>r.$D,createMuiTheme:()=>r.Dk,createStyles:()=>r.rU,createTheme:()=>r.an,darken:()=>r.e$,decomposeColor:()=>r.rP,duration:()=>r.p0,easing:()=>r.cz,emphasize:()=>r.tL,fade:()=>r.Rv,getContrastRatio:()=>r.eM,getLuminance:()=>r.J1,hexToRgb:()=>r.E2,hslToRgb:()=>r.YL,jssPreset:()=>r._4,lighten:()=>r.a,makeStyles:()=>r.n9,recomposeColor:()=>r.X0,responsiveFontSizes:()=>r.Q1,rgbToHex:()=>r.Ob,styled:()=>r.I4,unstable_createMuiStrictModeTheme:()=>r.qP,useTheme:()=>r.DP,withStyles:()=>r.Xy,withTheme:()=>r.SL});var r=n(54900)},89995:function(e,t,n){"use strict";n.d(t,{N:()=>c,b:()=>i});var r=function(e,t){return"TwakeTheme--".concat(e,"-").concat(t)},a=function(e,t){var n=r(e,t);return document.getElementsByClassName(n)[0]},i=function(e,t){if(!a(e,t)){var n=document.createElement("div");n.className=r(e,t),n.style.display="none",document.body.prepend(n)}},o=function(e,t,n){var r=a(t,n);return window.getComputedStyle(r).getPropertyValue("--".concat(e)).trim()},c=function(e,t,n){return o(e,t,n)}},49491:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(84747),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65569)),c=n(1522);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.default=function(){var e=(0,c.useViewer)(),t=e.file,n=e.isPublic,r=e.isReadOnly,s=(0,o.default)({panelBlocksSpecs:(0,o.getPanelBlocksSpecs)(n),file:t});return s.map(function(e,o){return a.default.createElement(i.BottomSheetItem,{key:o,disableGutters:!0,disableElevation:o===s.length-1},a.default.createElement(e,{file:t,isPublic:n,isReadOnly:r}))})}},18624:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=r(n(96540)),s=n(76819),u=n(42895),l=r(n(36040)),d=r(n(90774)),f=r(n(74710)),p=r(n(98427)),h=r(n(19679)),m=function(e){var t,n=e.file,r=e.variant,o=(0,u.useClient)(),m=(0,s.useI18n)().t,v=c.default.createElement(d.default,{icon:p.default}),y=m("Viewer.download"),g=(t=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.collection("io.cozy.files").download(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h.default.info("Viewer.error.generic");case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(){return t.apply(this,arguments)});return"iconButton"===r?c.default.createElement(f.default,{className:"u-white","aria-label":y,onClick:g},v):"buttonIcon"===r?c.default.createElement(l.default,{variant:"secondary",label:v,"aria-label":y,onClick:g}):c.default.createElement(l.default,{fullWidth:!0,variant:"secondary",startIcon:v,label:y,onClick:g})};m.propTypes={file:o.default.object,variant:o.default.oneOf(["default","iconButton","buttonIcon"])},m.defaultProptypes={variant:"default"},t.default=m},8588:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=n(96540),o=n(44015),c=function(e){var t=e.children,n=e.file;return t?(0,o.mapToAllChildren)(t,function(e){return(0,i.cloneElement)(e,{file:n})}):null};c.displayName="FooterActionButtons",c.propTypes={children:a.default.oneOfType([a.default.node,a.default.arrayOf(a.default.node)]),file:a.default.object},t.default=c},76026:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53978)),i=r(n(5556)),o=p(n(96540)),c=p(n(84747)),s=n(52245),u=r(n(49491)),l=n(44015),d=n(1522);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var h=(0,s.makeStyles)(function(e){return{footer:{display:"flex",alignItems:"center",width:"calc(100% - 2rem)",height:"100%",paddingLeft:"1rem",paddingRight:"1rem",borderTop:"1px solid ".concat(e.palette.divider),columnGap:"0.5rem"},bottomSheetHeader:{columnGap:"0.5rem"}}}),m=function(e){var t=e.toolbarRef,n=e.children,r=e.isDisplayChildrenDirectly,i=h(),s=(0,d.useViewer)(),f=s.file,p=s.isPublic,m=(0,o.useMemo)(function(){return{ref:t}},[t]),v=(0,l.extractChildrenCompByName)({children:n,file:f,name:"FooterActionButtons"});return o.default.createElement(c.default,{toolbarProps:m,portalProps:{disablePortal:!0},settings:{isOpenMin:!0,mediumHeightRatio:p?void 0:.5}},r?n:o.default.createElement(o.default.Fragment,null,o.default.createElement(c.BottomSheetHeader,{className:(0,a.default)("u-ph-1 u-pb-1",i.bottomSheetHeader)},v),o.default.createElement(u.default,null)))};m.propTypes={toolbarRef:i.default.object,children:i.default.oneOfType([i.default.node,i.default.arrayOf(i.default.node)]),isDisplayChildrenDirectly:i.default.bool},t.default=m},42623:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=r(n(96540)),s=n(76819),u=n(42895),l=n(50134),d=n(7127),f=r(n(36040)),p=r(n(90774)),h=r(n(74710)),m=r(n(26151)),v=r(n(8179)),y=r(n(19679)),g=(0,d.isIOS)()?v.default:m.default,b=function(e){var t,n=e.file,r=e.variant,o=e.onClick,d=(0,s.useI18n)().t,m=(0,u.useClient)(),v=c.default.createElement(p.default,{icon:g}),b=d("Viewer.actions.forward"),w=(t=(0,i.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.makeSharingLink)(m,[t.id]);case 3:n=e.sent,r={title:d("Viewer.share.title",{name:t.name}),text:d("Viewer.share.text",{name:t.name}),url:n},navigator.share(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y.default.error("Viewer.share.error",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return t.apply(this,arguments)}),k=function(){o?o():w(n)};return"iconButton"===r?c.default.createElement(h.default,{className:"u-white","aria-label":b,onClick:k},v):"buttonIcon"===r?c.default.createElement(f.default,{variant:"secondary",label:v,"aria-label":b,onClick:k}):c.default.createElement(f.default,{fullWidth:!0,variant:"secondary",startIcon:v,"data-testid":"openFileButton",label:b,onClick:k})};b.propTypes={file:o.default.object.isRequired,variant:o.default.oneOf(["default","iconButton","buttonIcon"]),onClick:o.default.func},b.defaultProptypes={variant:"default"},t.default=b},66138:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=n(42895),u=r(n(18624)),l=r(n(42623)),d=n(44015),f=["file"],p=function(e){var t=e.file,n=(0,i.default)(e,f),r=(0,s.useClient)(),o=(0,d.shouldBeForwardButton)(r)?l.default:u.default;return c.default.createElement(o,(0,a.default)({file:t},n))};p.propTypes={file:o.default.object},t.default=p},69310:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(31398),c=r(n(90774)),s=r(n(74710)),u=r(n(91292)),l=n(25552),d=function(e){var t=e.className,n=e.file,r=e.variant,a=(0,l.useShareModal)().setShowShareModal;return"iconButton"===r?i.default.createElement(s.default,{className:"u-white",onClick:function(){return a(!0)}},i.default.createElement(c.default,{icon:u.default})):i.default.createElement(o.ShareButton,{className:t,fullWidth:!0,useShortLabel:!0,docId:n.id,onClick:function(){return a(!0)}})};d.propTypes={file:a.default.object,variant:a.default.oneOf(["default","iconButton"])},d.defaultProptypes={variant:"default"},t.default=d},44015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldBeForwardButton=t.mapToAllChildren=t.extractChildrenCompByName=void 0;var r=n(96540);t.shouldBeForwardButton=function(e){var t,n=(null==e||null==(t=e.appMetadata)?void 0:t.slug)==="drive";return!!navigator.share&&!n},t.mapToAllChildren=function e(t,n){return r.Children.map(t,function(t){if(!(0,r.isValidElement)(t))return t;var a=t.props.children;return a?(0,r.cloneElement)(t,{children:e(a,n)}):n(t)})},t.extractChildrenCompByName=function(e){var t=e.children,n=e.file,a=e.name,i=r.Children.toArray(t).find(function(e){return e.type.name===a||e.type.displayName===a})||null;return(0,r.isValidElement)(i)?(0,r.cloneElement)(i,{file:n}):null}},60254:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(76819),c=n(42895),s=n(39046),u=n(84660),l=r(n(56211)),d=n(13877),f=function(e){var t=e.client,n=e.file,r=e.url,a=(0,o.useI18n)().t,c=(0,u.useWebviewIntent)();return i.default.createElement(l.default,{onClick:function(){return(0,s.downloadFile)({client:t,file:n,url:r,webviewIntent:c})},label:a("Viewer.download")})};f.propTypes={client:a.default.object.isRequired,file:d.FileDoctype,url:a.default.string},t.default=(0,c.withClient)(f)},38813:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(90774)),o=r(n(14196)),c=r(n(13612)),s=r(n(88382)),u=r(n(4799)),l=r(n(82150)),d=r(n(21452)),f=r(n(82706)),p=r(n(29650));t.default=function(e){var t;switch(e.type){case"bin":t=o.default;break;case"code":t=c.default;break;case"spreadsheet":t=l.default;break;case"slide":t=d.default;break;case"text":t=f.default;break;case"zip":t=p.default;break;case"pdf":t=u.default;break;default:t=s.default}return a.default.createElement(i.default,{icon:t,width:160,height:140})}},53455:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(13877),c=r(n(60254)),s=r(n(38813)),u=function(e){var t=e.file,n=e.url,r=e.renderFallbackExtraContent;return i.default.createElement("div",{className:"styles__viewer-noviewer___3HRGf","data-testid":"no-viewer"},i.default.createElement(s.default,{type:t.class}),i.default.createElement("p",{className:"styles__viewer-filename___1-DIz"},t.name),r(t,n))};u.propTypes={file:o.FileDoctype.isRequired,renderFallbackExtraContent:a.default.func,url:a.default.string},u.defaultProps={renderFallbackExtraContent:function(e,t){return i.default.createElement(c.default,{file:e,url:t})}},t.default=u},30464:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=r(n(53455))},45522:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(22056)),s=r(n(53978)),u=r(n(5556)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),d=n(84976),f=n(76819),p=n(42895),h=n(7806),m=n(39046),v=r(n(94619)),y=r(n(40918)),g=r(n(36040)),b=r(n(90774)),w=r(n(74710)),k=r(n(32043)),x=r(n(31482)),O=r(n(91152)),_=r(n(27324)),E=r(n(32859)),C=r(n(95037)),S=r(n(39274)),P=n(4493),A=n(47675),D=n(94613),T=n(1522);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=function(e){var t,n,r=e.className,i=(0,f.useI18n)().t,u=(0,p.useClient)(),R=(0,T.useViewer)(),j=R.file,I=R.setIsOpenAiAssistant,N=(0,P.useAlert)().showAlert,z=(0,l.useState)(!0),F=(0,c.default)(z,2),L=F[0],B=F[1],U=(0,l.useState)(""),V=(0,c.default)(U,2),H=V[0],q=V[1],W=(0,l.useState)(null),G=(0,c.default)(W,2),Z=G[0],K=G[1],Q=(0,d.useLocation)(),Y=(0,d.useNavigate)(),J=(0,l.useRef)(null),$=(0,l.useRef)(null),X=(0,l.useRef)((null==j?void 0:j._id)||null),ee=function(){var e;I(!1),null!=Q&&null!=(e=Q.state)&&e.showAIAssistant&&Y("..")},et=(t=(0,o.default)(a.default.mark(function e(t){var n,r,i,o,c,s,u,l,d,f,p;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.file,o=void 0!==(i=t.stream)&&i,c=t.model,e.prev=1,e.next=4,(0,m.fetchBlobFileById)(n,null==r?void 0:r._id);case 4:return s=e.sent,e.next=7,(0,h.extractText)(n,s,{name:r.name,mime:r.mime});case 7:if(u=e.sent,!(null!=(l=(0,v.default)("drive.summary"))&&l.maxTokens&&(0,D.roughTokensEstimation)(u)>l.maxTokens)){e.next=13;break}throw(d=Error("DOCUMENT_TOO_LARGE")).code="DOCUMENT_TOO_LARGE",d;case 13:return f=[{role:"system",content:A.SUMMARY_SYSTEM_PROMPT},{role:"user",content:(0,A.getSummaryUserPrompt)(u)}],e.next=16,(0,h.chatCompletion)(n,f,{stream:o,model:c});case 16:return p=e.sent,e.abrupt("return",p);case 20:throw e.prev=20,e.t0=e.catch(1),y.default.error("Error when summarizing file:",e.t0),e.t0;case 24:case"end":return e.stop()}},e,null,[[1,20]])})),function(e){return t.apply(this,arguments)}),en=(n=(0,o.default)(a.default.mark(function e(t,n,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.collection("io.cozy.files").updateMetadataAttribute(n,M(M({},t),{},{description:r}));case 3:J.current=n,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y.default.error("Error when persisting summary to file metadata:",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e,t,r){return n.apply(this,arguments)});(0,l.useEffect)(function(){X.current=(null==j?void 0:j._id)||null},[j]);var er=(0,l.useCallback)((0,o.default)(a.default.mark(function e(){var t,n,r,o,c,s,l,d,f=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]&&f[0],n=null==j?void 0:j._id){e.next=4;break}return e.abrupt("return");case 4:if(!(!t&&(J.current===n||$.current===n))){e.next=6;break}return e.abrupt("return");case 6:return $.current=n,B(!0),K(null),e.prev=9,e.next=12,et({client:u,file:j,stream:!1});case 12:if(l=(null==(s=e.sent)?void 0:s.content)||(null==s||null==(r=s.choices)||null==(o=r[0])||null==(c=o.message)?void 0:c.content),X.current===n){e.next=16;break}return e.abrupt("return");case 16:return q(l),d=j.metadata||{},e.next=20,en(d,n,l);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),X.current===n&&K("DOCUMENT_TOO_LARGE"===e.t0.code?i("Viewer.ai.error.documentTooLarge"):i("Viewer.ai.error.summary"));case 25:return e.prev=25,$.current===n&&($.current=null),X.current===n&&B(!1),e.finish(25);case 29:case"end":return e.stop()}},e,null,[[9,22,25,29]])})),[u,j,i]);return(0,l.useEffect)(function(){er()},[er]),l.default.createElement(l.default.Fragment,null,l.default.createElement(C.default,{spacing:"s",className:(0,s.default)("u-flex u-flex-column u-h-100",r)},l.default.createElement(E.default,{className:(0,s.default)({"u-flex-grow-1":!L}),elevation:2,square:!0},l.default.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-between u-h-3 u-ph-1 u-flex-shrink-0"},l.default.createElement(S.default,{variant:"h4"},l.default.createElement(b.default,{icon:k.default})," ",i("Viewer.ai.panelTitle")),l.default.createElement(w.default,{"aria-label":"Close AI Assistant",onClick:ee},l.default.createElement(b.default,{icon:O.default}))),!L&&l.default.createElement(C.default,{spacing:"s",className:"u-ph-1"},l.default.createElement("div",null,l.default.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-between u-mb-1"},l.default.createElement(S.default,{variant:"subtitle1"},i("Viewer.ai.bodyText")),l.default.createElement("div",{className:"u-flex"},l.default.createElement(w.default,{size:"small",onClick:function(){J.current=null,er(!0)}},l.default.createElement(b.default,{icon:_.default})),H&&l.default.createElement(w.default,{size:"small",onClick:function(){H&&(navigator.clipboard.writeText(H),N({message:i("Viewer.ai.copied"),severity:"success"}))}},l.default.createElement(b.default,{icon:x.default})))),l.default.createElement(S.default,{className:"u-mb-1"},Z?l.default.createElement("span",{style:{color:"var(--errorColor)"}},Z):H),!L&&H&&l.default.createElement(S.default,{variant:"caption",color:"textSecondary"},i("Viewer.ai.footerText"))))),L?l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"styles__loaderContainer___RuLAO"},l.default.createElement("div",{className:"styles__loaderBar___2_kw1"})),l.default.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-between u-ph-1"},l.default.createElement(S.default,{variant:"body1",className:"u-flex u-flex-items-center"},l.default.createElement(b.default,{icon:k.default,color:"var(--primaryColor)",className:"u-mr-1"}),i("Viewer.ai.loadingText")),l.default.createElement(g.default,{size:"small",variant:"text",color:"default",label:i("Viewer.ai.stop"),onClick:ee}))):null))};I.propTypes={isLoading:u.default.bool,summary:u.default.string,onStop:u.default.func,onSend:u.default.func},I.defaultProps={isLoading:!1,summary:""},t.default=I},47675:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSummaryUserPrompt=t.SUMMARY_SYSTEM_PROMPT=void 0,t.SUMMARY_SYSTEM_PROMPT="You are a concise and reliable text summarizer.\n\nYour goal:\n- Produce a clear and accurate summary of the provided content\n- Keep the original meaning and key information only\n- Remove redundancy, examples, anecdotes, and minor details\n\nWriting rules:\n- Keep the same language as the provided input. For example, if it's french, keep french\n- Be concise and use simple phrasing\n- Do not add new information\n- Do not guess what is not explicitly stated\n\nOutput:\n- A single coherent paragraph unless otherwise specified\n- Do not add any extra information or interpret anything beyond the explicit task",t.getSummaryUserPrompt=function(e){return"Summarize the following content:\n\n".concat(e)}},82746:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=h(n(96540)),o=n(76819),c=r(n(90774)),s=r(n(31482)),u=r(n(87681)),l=r(n(39274)),d=h(n(76179)),f=r(n(78668));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var m=(0,i.forwardRef)(function(e,t){var n=e.actions,r=e.isEditable,a=e.onClose,p=(0,o.useI18n)().t;return i.default.createElement(d.default,{className:"styles__ActionMenuDesktop-ActionMenu___xxTwZ",onClose:a,anchorElRef:t},r&&i.default.createElement(f.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:n.edit.path},onComplete:a,onDismiss:a},i.default.createElement(d.ActionMenuItem,{left:i.default.createElement(c.default,{icon:u.default,color:"var(--iconTextColor)"})},i.default.createElement(l.default,null,p("Viewer.panel.qualification.actions.edit")))),i.default.createElement(d.ActionMenuItem,{onClick:n.copy.onClick,left:i.default.createElement(c.default,{icon:s.default,color:"var(--iconTextColor)"})},i.default.createElement(l.default,null,p("Viewer.panel.qualification.actions.copy"))))});m.displayName="ActionMenuDesktop",m.propTypes={actions:a.default.shape({copy:a.default.object,edit:a.default.object}),isEditable:a.default.bool,onClose:a.default.func},t.default=m},62:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(76819),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(84747)),s=r(n(90774)),u=r(n(31482)),l=r(n(87681)),d=r(n(70879)),f=r(n(27282)),p=r(n(72637)),h=r(n(38143)),m=r(n(78668));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(e){var t=e.actions,n=e.isEditable,r=e.onClose,a=(0,o.useI18n)().t;return i.default.createElement(c.default,{backdrop:!0,onClose:r},i.default.createElement(c.BottomSheetItem,{disableGutters:!0},i.default.createElement(d.default,null,n&&i.default.createElement(m.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:t.edit.path},onComplete:r,onDismiss:r},i.default.createElement(f.default,{button:!0},i.default.createElement(p.default,null,i.default.createElement(s.default,{icon:l.default})),i.default.createElement(h.default,{primary:a("Viewer.panel.qualification.actions.edit")}))),i.default.createElement(f.default,{button:!0,onClick:t.copy.onClick},i.default.createElement(p.default,null,i.default.createElement(s.default,{icon:u.default})),i.default.createElement(h.default,{primary:a("Viewer.panel.qualification.actions.copyClipboard")})))))};y.propTypes={actions:a.default.shape({copy:a.default.object,edit:a.default.object}),isEditable:a.default.bool,onClose:a.default.func},t.default=y},43125:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(4493),l=r(n(24242)),d=r(n(82746)),f=r(n(62)),p=n(94613),h=n(1522);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var v=(0,c.forwardRef)(function(e,t){var n,r=e.optionFile,o=e.isReadOnly,m=e.onClose,v=r.name,y=r.value,g=(0,l.default)().isMobile,b=(0,h.useViewer)().file,w=(0,s.useI18n)().t,k=(0,u.useAlert)().showAlert,x=(0,p.isEditableAttribute)(v,b)&&!o,O="contact"===v?"".concat(b.metadata.qualification.label,"/").concat(b._id,"/edit/contact"):"".concat(b.metadata.qualification.label,"/").concat(b._id,"/edit/information?metadata=").concat(r.name),_=(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(y);case 3:k({message:w("Viewer.snackbar.copiedToClipboard.success"),severity:"success",variant:"filled",icon:!1}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),k({message:w("Viewer.snackbar.copiedToClipboard.error"),severity:"error",variant:"filled",icon:!1});case 9:m();case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return n.apply(this,arguments)});return g?c.default.createElement(f.default,{actions:{copy:{onClick:_},edit:{path:O}},isEditable:x,onClose:m}):c.default.createElement(d.default,{ref:t,actions:{copy:{onClick:_},edit:{path:O}},isEditable:x,onClose:m})});v.displayName="ActionMenuWrapper",v.propTypes={file:o.default.object,optionFile:o.default.shape({name:o.default.string,value:o.default.oneOfType([o.default.string,o.default.number])}),isReadOnly:o.default.bool,onClose:o.default.func},t.default=v},74306:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(61448)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(42895),l=r(n(41190)),d=n(88396),f=r(n(1990)),p=r(n(90774)),h=r(n(74710)),m=r(n(37341)),v=r(n(95567)),y=r(n(93583)),g=r(n(65603)),b=r(n(64007)),w=r(n(61674)),k=r(n(82428)),x=r(n(70879)),O=r(n(27282)),_=r(n(72637)),E=r(n(77148)),C=r(n(38143)),S=n(90072),P=n(38668);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}var D=function(e){var t=e.file,n=e.isPublic,r=e.t,o=(0,c.useState)(!1),P=(0,a.default)(o,2),A=P[0],D=P[1],T=(0,s.useI18n)(),R=T.f,j=T.lang,M=(0,u.useClient)(),I=(0,S.makeFormat)(t),N=(0,S.makePath)(t),z=(0,S.makeSize)(t.size),F=R(t.created_at,(0,S.makeDate)(j)),L=R(t.updated_at,(0,S.makeDate)(j)),B=(0,i.default)(t,"metadata.carbonCopy"),U=(0,i.default)(t,"metadata.electronicSafe"),V=(0,c.useRef)(),H=(0,d.makeActions)([d.viewInDrive],{client:M});return c.default.createElement(x.default,null,c.default.createElement(O.default,null,c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:g.default})),c.default.createElement(C.default,{primary:r("Viewer.panel.informations.format.title",{format:I}),secondary:r("Viewer.panel.informations.format.subtitle")})),c.default.createElement(O.default,null,c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:k.default})),c.default.createElement(C.default,{primary:z,secondary:r("Viewer.panel.informations.size")})),c.default.createElement(O.default,null,c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:b.default})),c.default.createElement(C.default,{primary:N,secondary:r("Viewer.panel.informations.location")}),!n&&c.default.createElement(E.default,null,c.default.createElement(h.default,{ref:V,onClick:function(){return D(function(e){return!e})}},c.default.createElement(p.default,{icon:y.default})))),A&&c.default.createElement(l.default,{ref:V,open:!0,docs:[t],actions:H,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoClose:!0,onClose:function(){return D(!1)}},c.default.createElement(f.default,null,c.default.createElement(C.default,{primary:r("Viewer.panel.informations.location"),primaryTypographyProps:{align:"center",variant:"h6"}}))),c.default.createElement(O.default,null,c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:m.default})),c.default.createElement(C.default,{primary:F,secondary:r("Viewer.panel.informations.creation")})),c.default.createElement(O.default,null,c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:m.default})),c.default.createElement(C.default,{primary:L,secondary:r("Viewer.panel.informations.modification")})),B&&c.default.createElement(O.default,{ellipsis:!1},c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:v.default})),c.default.createElement(C.default,{primary:r("Viewer.panel.certifications.carbonCopy.title"),secondary:r("Viewer.panel.certifications.carbonCopy.caption")})),U&&c.default.createElement(O.default,{ellipsis:!1},c.default.createElement(_.default,null,c.default.createElement(p.default,{icon:w.default})),c.default.createElement(C.default,{primary:r("Viewer.panel.certifications.electronicSafe.title"),secondary:r("Viewer.panel.certifications.electronicSafe.caption")})))};D.propTypes={file:o.default.object.isRequired,isPublic:o.default.bool,t:o.default.func},t.default=(0,P.withViewerLocales)(D)},55746:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53978)),i=r(n(96540)),o=r(n(32859)),c=r(n(95037)),s=r(n(39274)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(65569)),l=n(38668),d=n(1522);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.default=(0,l.withViewerLocales)(function(e){var t=e.t,n=(0,d.useViewer)(),r=n.file,l=n.isPublic,f=n.componentsProps,p=n.isReadOnly,h=(0,u.default)({panelBlocksSpecs:(0,u.getPanelBlocksSpecs)(l,null==f?void 0:f.panel),file:r});return i.default.createElement(c.default,{spacing:"s",className:(0,a.default)("u-flex u-flex-column u-h-100")},i.default.createElement(o.default,{className:"u-flex u-flex-items-center u-h-3 u-ph-2 u-flex-shrink-0",elevation:2,square:!0},i.default.createElement(s.default,{variant:"h4"},t("Viewer.panel.title"))),h.map(function(e,t){return i.default.createElement(o.default,{key:t,className:(0,a.default)({"u-flex-grow-1":t===h.length-1}),elevation:2,square:!0},i.default.createElement(e,{file:r,isPublic:l,isReadOnly:p}))}))})},86144:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22056)),i=r(n(5556)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),c=n(36755),s=n(39046),u=n(95948),l=r(n(82092)),d=r(n(70879)),f=r(n(44732)),p=r(n(43125)),h=r(n(51976)),m=r(n(61906)),v=r(n(97422)),y=r(n(92286)),g=r(n(79213)),b=r(n(75580)),w=n(90072),k=r(n(21316)),x=n(38668);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var _={contact:h.default,date:m.default,information:v.default,other:y.default,bills:v.default},E=function(e){var t=e.file,n=e.isReadOnly,r=t.metadata,i=(0,o.useRef)([]),h=(0,o.useState)(!1),m=(0,a.default)(h,2),v=m[0],y=m[1],x=(0,o.useState)({id:"",name:"",value:""}),O=(0,a.default)(x,2),E=O[0],C=O[1],S=(0,w.makeFormattedMetadataQualification)(t,void 0===r?{}:r),P=(0,s.hasQualifications)(t)&&S.length>1,A=function(e,t,n){C(function(r){return r.value?{id:"",name:"",value:""}:{id:e,name:t,value:n}})};return(0,o.useEffect)(function(){i.current=S.map(function(e,t){var n;return null!=(n=i.current[t])?n:(0,o.createRef)()})},[S]),o.default.createElement(o.default.Fragment,null,(0,u.isExpiringSoon)(t)&&!(0,w.isExpirationAlertHidden)(t)&&o.default.createElement(k.default,null),(0,c.hasSupportedQualification)(t)?o.default.createElement(g.default,{file:t,isReadOnly:n,onClick:function(){return y(!0)}}):o.default.createElement(b.default,{file:t,isReadOnly:n,onClick:function(){return y(!0)}}),v&&o.default.createElement(f.default,{file:t,onClose:function(){return y(!1)}}),P&&o.default.createElement(d.default,null,S.map(function(e,r){var a=e.name,c=_[(0,u.getMetadataQualificationType)(a)],s=(0,w.makeHideDivider)(S,r);return o.default.createElement(o.Fragment,{key:r},o.default.createElement(c,{file:t,isReadOnly:n,ref:i.current[r],formattedMetadataQualification:e,toggleActionsMenu:function(e){return A(r,a,e)}}),!s&&o.default.createElement(l.default,{component:"li",variant:"inset"}))}),E.name&&o.default.createElement(p.default,{ref:i.current[E.id],optionFile:E,isReadOnly:n,onClose:function(){C({id:"",name:"",value:""})}})))};E.propTypes={file:i.default.object.isRequired},t.default=(0,x.withViewerLocales)(E)},51976:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(95948),l=n(88396),d=r(n(90774)),f=r(n(74710)),p=r(n(93583)),h=r(n(70804)),m=r(n(27282)),v=r(n(72637)),y=r(n(77148)),g=r(n(39968)),b=n(4493),w=r(n(81273)),k=r(n(78668)),x=r(n(32148));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var _=(0,c.forwardRef)(function(e,t){var n,r=e.file,o=e.isReadOnly,O=e.toggleActionsMenu,_=(0,s.useI18n)().lang,E=(0,x.default)(r),C=E.contacts,S=E.isLoadingContacts,P=(0,b.useAlert)().showAlert;if(S)return c.default.createElement(m.default,null,c.default.createElement(g.default,{color:"var(--secondaryTextColor)"}));var A=(0,u.formatContactValue)(C);if(!A)return null;var D=(0,u.getTranslatedNameForContact)({lang:_}),T=r.metadata.qualification.label,R=(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.copyToClipboard)().action(void 0,{showAlert:P,copyValue:A});case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return c.default.createElement(c.default.Fragment,null,c.default.createElement(k.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:"".concat(T,"/").concat(r._id,"/edit/contact")},disabled:!!A||o},c.default.createElement(m.default,{button:!!A||!o,onClick:R},c.default.createElement(v.default,null,c.default.createElement(d.default,{icon:h.default})),c.default.createElement(w.default,{primary:D,secondary:A}),c.default.createElement(y.default,null,c.default.createElement(f.default,{ref:t,onClick:function(){return O("contact",A)}},c.default.createElement(d.default,{icon:p.default}))))))});_.displayName="QualificationListItemContact",_.propTypes={file:o.default.object.isRequired,isReadOnly:o.default.bool},t.default=_},61906:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(95948),l=n(88396),d=r(n(90774)),f=r(n(74710)),p=r(n(37341)),h=r(n(93583)),m=r(n(83393)),v=r(n(27282)),y=r(n(72637)),g=r(n(77148)),b=r(n(39274)),w=n(4493),k=r(n(81273)),x=r(n(58733)),O=r(n(78668));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var E=(0,c.forwardRef)(function(e,t){var n,r=e.file,o=e.isReadOnly,_=e.formattedMetadataQualification,E=e.toggleActionsMenu,C=(0,s.useI18n)(),S=C.f,P=C.lang,A=(0,w.useAlert)().showAlert,D=_.name,T=_.value,R=r.metadata.qualification.label,j=(0,u.getTranslatedNameForDateMetadata)(D,{lang:P}),M=(0,u.formatDateMetadataValue)(T,{f:S,lang:P}),I="expirationDate"===D,N=(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.copyToClipboard)().action(void 0,{showAlert:A,copyValue:T});case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return c.default.createElement(O.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:"".concat(R,"/").concat(r._id,"/edit/information?metadata=").concat(D)},disabled:!!T||o},c.default.createElement(v.default,{button:!!T||!o,onClick:N},c.default.createElement(y.default,null,c.default.createElement(d.default,{icon:p.default})),c.default.createElement(k.default,{primary:T?j:void 0,secondary:T?c.default.createElement(c.default.Fragment,null,c.default.createElement(b.default,{component:"span",variant:"inherit"},M),I&&((0,u.isExpired)(r)||(0,u.isExpiringSoon)(r))&&c.default.createElement(c.default.Fragment,null,c.default.createElement(b.default,{component:"span",variant:"inherit"}," \xb7 "),c.default.createElement(x.default,null))):j,disabled:!T}),T?c.default.createElement(g.default,null,c.default.createElement(f.default,{ref:t,onClick:function(){return E(M)}},c.default.createElement(d.default,{icon:h.default}))):!o&&c.default.createElement(y.default,null,c.default.createElement(d.default,{icon:m.default,color:"var(--secondaryTextColor)"}))))});E.displayName="QualificationListItemDate",E.propTypes={file:o.default.object.isRequired,isReadOnly:o.default.bool,formattedMetadataQualification:o.default.shape({name:o.default.string,value:o.default.string}).isRequired,toggleActionsMenu:o.default.func.isRequired},t.default=E},97422:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(95948),l=n(88396),d=r(n(90774)),f=r(n(74710)),p=r(n(31214)),h=r(n(90240)),m=r(n(34737)),v=r(n(93583)),y=r(n(92198)),g=r(n(95674)),b=r(n(806)),w=r(n(83393)),k=r(n(27282)),x=r(n(72637)),O=r(n(77148)),_=r(n(36444)),E=n(4493),C=r(n(81273)),S=r(n(78668));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}var A=[b.default,b.default,g.default,y.default,m.default,y.default,h.default,b.default,b.default,p.default],D=(0,c.forwardRef)(function(e,t){var n,r=e.formattedMetadataQualification,o=e.file,p=e.isReadOnly,h=e.toggleActionsMenu,m=(0,s.useI18n)().lang,y=(0,E.useAlert)().showAlert,g=r.name,b=r.value,P=o.metadata.qualification.label,D=(0,u.getTranslatedNameForInformationMetadata)(g,{lang:m,qualificationLabel:P}),T=(0,u.formatInformationMetadataValue)(b,{lang:m,name:g,qualificationLabel:P}),R=A[u.KNOWN_INFORMATION_METADATA_NAMES.findIndex(function(e){return e===g})],j=D===g?c.default.createElement(_.default,{text:g}):D,M=(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.copyToClipboard)().action(void 0,{showAlert:y,copyValue:b});case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return c.default.createElement(S.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:"".concat(P,"/").concat(o._id,"/edit/information?metadata=").concat(g)},disabled:!!b||p},c.default.createElement(k.default,{button:!!b||!p,onClick:M},c.default.createElement(x.default,null,c.default.createElement(d.default,{icon:R})),c.default.createElement(C.default,{primary:b?j:void 0,secondary:b?T:j,disabled:!b}),b?c.default.createElement(O.default,null,c.default.createElement(f.default,{ref:t,onClick:function(){return h(b)},"data-testid":"toggleActionsMenuBtn"},c.default.createElement(d.default,{icon:v.default}))):!p&&c.default.createElement(x.default,null,c.default.createElement(d.default,{icon:w.default,color:"var(--secondaryTextColor)"}))))});D.displayName="QualificationListItemNumber",D.propTypes={file:o.default.object.isRequired,isReadOnly:o.default.bool,formattedMetadataQualification:o.default.shape({name:o.default.string,value:o.default.oneOfType([o.default.string,o.default.number])}).isRequired,toggleActionsMenu:o.default.func.isRequired},t.default=D},92286:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(5556)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),s=n(76819),u=n(95948),l=n(88396),d=r(n(90774)),f=r(n(74710)),p=r(n(93583)),h=r(n(6173)),m=r(n(83393)),v=r(n(27282)),y=r(n(72637)),g=r(n(77148)),b=r(n(36444)),w=n(4493),k=r(n(81273)),x=r(n(78668));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var _=(0,c.forwardRef)(function(e,t){var n,r=e.file,o=e.isReadOnly,O=e.formattedMetadataQualification,_=e.toggleActionsMenu,E=(0,s.useI18n)().lang,C=(0,w.useAlert)().showAlert,S=O.name,P=O.value,A=r.metadata.qualification.label;if(!P)return null;var D=(0,u.getTranslatedNameForOtherMetadata)(S,{lang:E}),T=(0,u.formatOtherMetadataValue)(P,{lang:E,name:S}),R=(n=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.copyToClipboard)().action(void 0,{showAlert:C,copyValue:P});case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return c.default.createElement(x.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:"".concat(A,"/").concat(r._id,"/edit/information?metadata=").concat(S)},disabled:!!P||o},c.default.createElement(v.default,{button:!!P||!o,onClick:R},c.default.createElement(y.default,null,c.default.createElement(d.default,{icon:h.default})),c.default.createElement(k.default,{primary:P?D:void 0,secondary:P?c.default.createElement(b.default,{text:T}):D}),P?c.default.createElement(g.default,null,c.default.createElement(f.default,{ref:t,onClick:function(){return _(T)}},c.default.createElement(d.default,{icon:p.default}))):!o&&c.default.createElement(y.default,null,c.default.createElement(d.default,{icon:m.default,color:"var(--secondaryTextColor)"}))))});_.displayName="QualificationListItemOther",_.propTypes={file:o.default.object.isRequired,isReadOnly:o.default.bool,formattedMetadataQualification:o.default.shape({name:o.default.string,value:o.default.string}).isRequired,toggleActionsMenu:o.default.func.isRequired},t.default=_},79213:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(76819),c=n(95948),s=r(n(90774)),u=r(n(83393)),l=r(n(27282)),d=r(n(72637)),f=r(n(38143)),p=r(n(36444)),h=r(n(56878)),m=n(90072),v=function(e){var t=e.file,n=e.isReadOnly,r=e.onClick,a=(0,o.useI18n)().lang,v=t.metadata.qualification.label,y=(0,c.formatOtherMetadataValue)(v,{lang:a,name:"qualification"});return i.default.createElement(l.default,{size:"large",divider:!0,button:(0,m.canEditQualification)(t,n),onClick:(0,m.canEditQualification)(t,n)?r:void 0},i.default.createElement(d.default,null,i.default.createElement(h.default,{qualification:v})),i.default.createElement(f.default,{primary:i.default.createElement(p.default,{text:y}),primaryTypographyProps:{variant:"h6"}}),(0,m.canEditQualification)(t,n)&&i.default.createElement(d.default,null,i.default.createElement(s.default,{icon:u.default,color:"var(--secondaryTextColor)"})))};v.displayName="QualificationListItemQualification",v.propTypes={file:a.default.object,onClick:a.default.func},t.default=v},75580:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=r(n(90774)),c=r(n(59007)),s=r(n(83393)),u=r(n(70879)),l=r(n(27282)),d=r(n(72637)),f=r(n(38143)),p=n(38668),h=n(90072),m=function(e){var t=e.file,n=e.isReadOnly,r=e.t,a=e.onClick;return i.default.createElement(u.default,null,i.default.createElement(l.default,{button:(0,h.canEditQualification)(t,n),onClick:(0,h.canEditQualification)(t,n)?a:void 0},i.default.createElement(d.default,null,i.default.createElement(o.default,{icon:c.default})),i.default.createElement(f.default,{style:{color:"var(--disabledTextColor)"},primaryTypographyProps:{color:"inherit"},secondaryTypographyProps:{color:"inherit"},primary:r("Viewer.panel.qualification.empty.primary"),secondary:r("Viewer.panel.qualification.empty.secondary")}),(0,h.canEditQualification)(t,n)&&i.default.createElement(d.default,null,i.default.createElement(o.default,{icon:s.default,color:"var(--secondaryTextColor)"}))))};m.propTypes={onClick:a.default.func},t.default=(0,p.withViewerLocales)(m)},81273:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(38143)),u=r(n(39274)),l=["primary","secondary","disabled"],d=function(e){var t=e.primary,n=e.secondary,r=e.disabled,o=(0,i.default)(e,l);return c.default.createElement(s.default,(0,a.default)({},o,{disableTypography:!0,primary:c.default.createElement(u.default,{variant:"caption"},t),secondary:c.default.createElement(u.default,{component:"div",variant:"body1",style:r?{color:"var(--disabledTextColor)"}:void 0},n)}))};d.propTypes={primary:o.default.string,secondary:o.default.oneOfType([o.default.string,o.default.node]).isRequired,disabled:o.default.bool},t.default=d},14793:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=n(31398),c=r(n(90774)),s=r(n(83393)),u=r(n(70879)),l=r(n(27282)),d=r(n(72637)),f=r(n(38143)),p=r(n(39968)),h=n(38668),m=n(25552),v=function(e){var t=e.file,n=e.t,r=(0,m.useShareModal)().setShowShareModal,a=(0,o.useSharingContext)(),h=a.isOwner,v=a.getDocumentPermissions,y=a.getSharingLink,g=a.allLoaded,b=(0,a.getRecipients)(t._id),w=v(t._id),k=y(t._id),x=h(t._id);return i.default.createElement(i.default.Fragment,null,i.default.createElement(l.default,{size:"large",divider:!0,button:!0,onClick:function(){return r(!0)}},i.default.createElement(f.default,{primary:i.default.createElement(i.default.Fragment,null,n("Viewer.panel.sharing"),!g&&i.default.createElement(p.default,{className:"u-ml-half",noMargin:!0})),primaryTypographyProps:{variant:"h6"}}),i.default.createElement(d.default,null,i.default.createElement(c.default,{icon:s.default,color:"var(--secondaryTextColor)"}))),i.default.createElement(u.default,null,i.default.createElement(o.LinkRecipientLite,{permissions:w,link:k}),b.length>0?b.map(function(e){return i.default.createElement(o.MemberRecipientLite,{key:e.index,recipient:e,isOwner:x})}):i.default.createElement(o.OwnerRecipientDefaultLite,null)))};v.propTypes={file:a.default.object.isRequired,t:a.default.func},t.default=(0,h.withViewerLocales)(v)},7573:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=r(n(5556)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),u=r(n(41190)),l=n(88396),d=r(n(1990)),f=r(n(90774)),p=r(n(74710)),h=r(n(93583)),m=r(n(83393)),v=r(n(18704)),y=r(n(70879)),g=r(n(27282)),b=r(n(72637)),w=r(n(77148)),k=r(n(38143)),x=n(4493),O=r(n(81273)),_=r(n(30789)),E=n(38668);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var S=function(e){var t,n,r=e.file,c=e.isReadOnly,E=e.t,C=(0,s.useState)(!1),S=(0,o.default)(C,2),P=S[0],A=S[1],D=(0,s.useState)(!1),T=(0,o.default)(D,2),R=T[0],j=T[1],M=(0,s.useRef)(),I=(0,x.useAlert)().showAlert,N=E("Viewer.panel.summary"),z=null==(n=r.metadata)?void 0:n.description,F=(0,l.makeActions)([l.copyToClipboard,!c&&l.editAttribute]),L=(t=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:if(!z){e.next=7;break}return e.next=5,(0,l.copyToClipboard)().action(void 0,{showAlert:I,copyValue:z});case 5:e.next=8;break;case 7:A(!0);case 8:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return s.default.createElement(y.default,null,s.default.createElement(g.default,{button:!c,onClick:L},s.default.createElement(b.default,null,s.default.createElement(f.default,{icon:v.default})),s.default.createElement(O.default,{style:{wordBreak:"break-word"},primary:z?N:void 0,secondary:z||N,disabled:!z}),z?s.default.createElement(w.default,null,s.default.createElement(p.default,{ref:M,onClick:function(){return j(function(e){return!e})}},s.default.createElement(f.default,{icon:h.default}))):!c&&s.default.createElement(b.default,null,s.default.createElement(f.default,{icon:m.default,color:"var(--secondaryTextColor)"}))),P&&s.default.createElement(_.default,{file:r,onClose:function(){return A(!1)}}),R&&s.default.createElement(u.default,{ref:M,open:!0,docs:[r],actions:F,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoClose:!0,componentsProps:{actionsItems:{actionOptions:{showAlert:I,copyValue:z,editAttributeCallback:function(){return A(!0)}}}},onClose:function(){return j(!1)}},s.default.createElement(d.default,null,s.default.createElement(k.default,{primary:N,primaryTypographyProps:{align:"center",variant:"h6"}}))))};S.propTypes={file:c.default.object.isRequired,t:c.default.func},t.default=(0,E.withViewerLocales)(S)},30789:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(22056)),s=r(n(5556)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),l=n(42895),d=r(n(36040)),f=n(89184),p=r(n(57759)),h=n(38668);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(e){var t,n,r=e.file,i=e.t,s=e.onClose,h=(0,u.useState)(null==(n=r.metadata)?void 0:n.description),m=(0,c.default)(h,2),v=m[0],g=m[1],b=(0,u.useState)(!1),w=(0,c.default)(b,2),k=w[0],x=w[1],O=(0,l.useClient)(),_=(t=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,O.collection("io.cozy.files").updateMetadataAttribute(r._id,y(y({},r.metadata),{},{description:v}));case 3:s();case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return u.default.createElement(f.ConfirmDialog,{open:!0,title:i("Viewer.panel.summary"),content:u.default.createElement(p.default,{multiline:!0,value:v,rows:4,autoFocus:!0,fullWidth:!0,required:!0,variant:"outlined",onChange:function(e){return g(e.target.value)}}),actions:u.default.createElement(u.default.Fragment,null,u.default.createElement(d.default,{className:"u-miw-4",variant:"secondary",label:i("Viewer.cancel"),onClick:s}),u.default.createElement(d.default,{className:"u-miw-4",label:i("Viewer.ok"),busy:k,onClick:_})),onClose:s})};g.propTypes={file:s.default.object.isRequired,t:s.default.func,onClose:s.default.func},t.default=(0,h.withViewerLocales)(g)},65569:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getPanelBlocksSpecs=t.default=void 0;var a=n(39046),i=r(n(6228)),o=r(n(74306)),c=r(n(86144)),s=r(n(14793)),u=r(n(7573));t.getPanelBlocksSpecs=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return{qualifications:{condition:function(){var e;return!(null!=t&&null!=(e=t.qualifications)&&e.disabled)},component:c.default},summary:{condition:function(){var e;return!(null!=t&&null!=(e=t.summary)&&e.disabled)},component:u.default},konnector:{condition:function(n){var r;return!(null!=t&&null!=(r=t.konnector)&&r.disabled)&&(0,a.isFromKonnector)(n)&&!e},component:i.default},informations:{condition:function(){var e;return!(null!=t&&null!=(e=t.informations)&&e.disabled)},component:o.default},sharing:{condition:function(){var n;return!(null!=t&&null!=(n=t.sharing)&&n.disabled)&&!e},component:s.default}}},t.default=function(e){var t=e.panelBlocksSpecs,n=e.file,r=[];return Object.values(t).forEach(function(e){e.condition(n)&&r.push(e.component)}),r}},90072:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.metadataByQualificationLabel=t.makeSize=t.makePath=t.makeHideDivider=t.makeFormattedMetadataQualification=t.makeFormat=t.makeDate=t.isExpirationAlertHidden=t.canEditQualification=void 0;var a=r(n(58156)),i=n(39046),o=n(95948);t.makeFormat=function(e){return((0,i.splitFilename)(e).extension.replace(".","")||e.class).toUpperCase()},t.makeDate=function(e){return"fr"===e?"dd LLL yyyy \xe0 HH:mm":"LLL dd yyyy at HH:mm"},t.makeSize=function(e){if(!+e)return"0";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])},t.makePath=function(e){var t;return null==(t=e.path)?void 0:t.replace("/".concat(e.name),"")},t.makeHideDivider=function(e,t){var n=e.at(-1),r=t===e.length-1,a=t===e.length-2;return r||a&&"contact"===n.name};var c={accommodation_proof:["issueDate"],bank_details:["number","bicNumber"],bank_statement:["referencedDate"],birth_certificate:[],caf:["number","issueDate"],car_insurance:[],condition_report:["date"],diploma:["referencedDate"],divorce:[],driver_license:["number","country","AObtentionDate","BObtentionDate","CObtentionDate","DObtentionDate","expirationDate","noticePeriod"],electoral_card:["referencedDate"],employment_center_certificate:["referencedDate"],energy_invoice:["issueDate"],expense_claim:["referencedDate"],family_record_book:[],fidelity_card:["number","expirationDate","noticePeriod"],health_certificate:["referencedDate"],health_insurance_card:["expirationDate","noticePeriod"],house_insurance:["referencedDate"],identity_photo:["shootingDate"],isp_invoice:["issueDate"],lease:["date"],loan_agreement:["issueDate"],national_health_insurance_card:["number","issueDate"],national_health_insurance_right_certificate:["referencedDate"],national_id_card:["number","country","expirationDate","noticePeriod"],note_activity_document:[],note_family_document:[],note_finance:[],note_health_document:[],note_house_document:[],note_identity_document:[],note_invoice:[],note_transport_document:[],note_work_document:[],other_activity_document:["date"],other_administrative_document:["referencedDate"],other_bank_document:["date"],other_family_document:["date"],other_health_document:["date"],other_house_document:["date"],other_identity_document:["date"],other_invoice:["issueDate"],other_revenue:["referencedDate"],other_transport_document:["date"],other_work_document:["date"],pacs:["referencedDate"],passport:["country","number","expirationDate","noticePeriod"],pay_sheet:["number","netSocialAmount","employerName","referencedDate"],payment_proof_family_allowance:["number","issueDate"],phone_invoice:["issueDate"],pregnancy_medical_certificate:["referencedDate"],prescription:["referencedDate"],real_estate_tax:["number","referencedDate"],rent_receipt:["referencedDate"],residence_permit:["country","number","expirationDate","noticePeriod"],resume:["referencedDate"],school_attendance_certificate:["referencedDate"],school_insurance_certificate:["referencedDate"],single_parent_benefit:["referencedDate"],student_card:["referencedDate"],tax_certificate:["referencedDate"],tax_notice:["number","refTaxIncome","referencedDate"],tax_return:["number","referencedDate"],tax_timetable:["number","referencedDate"],transport_card:["expirationDate","noticePeriod"],transport_invoice:["issueDate"],unemployment_benefit:["referencedDate"],unfit_for_habitation_declaration:["issueDate"],vehicle_registration:["vehicle.licenseNumber","number","vehicle.confidentialNumber"],water_invoice:["issueDate"],work_contract:["contractType","date"],work_disability_recognition:["referencedDate"],work_quote:[]};t.metadataByQualificationLabel=c,t.makeFormattedMetadataQualification=function(e){var t,n,r,i,s=null==(t=e.metadata)||null==(n=t.qualification)?void 0:n.label,u=null==(r=e.bills)||null==(i=r.data)?void 0:i[0];if(!s)return[];var l=c[s],d=l?l.reduce(function(t,n){return t.push({name:n,value:(0,a.default)(e,"metadata.".concat(n))}),t},[]):[],f=u?o.KNOWN_BILLS_ATTRIBUTES_NAMES.map(function(e){return{name:e,value:u[e]}}):[];return d.concat(f).concat([{name:"contact",value:null}])},t.isExpirationAlertHidden=function(e){var t,n;return null!=(t=null==e||null==(n=e.metadata)?void 0:n.hideExpirationAlert)&&t},t.canEditQualification=function(e,t){return!(0,i.isFromKonnector)(e)&&!t}},45572:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(5556)),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),p=r(n(16160)),h=r(n(94325)),m=n(7562);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(){var e;return(0,a.default)(this,r),e=n.call(this),(0,l.default)((0,o.default)(e),"onKeyUp",function(t){37===t.keyCode?e.onPrevious():39===t.keyCode?e.onNext():27===t.keyCode&&e.onClose()}),(0,l.default)((0,o.default)(e),"onNext",function(){var t=e.props,n=t.files,r=t.currentIndex;if(r!==n.length-1){var a=r+1,i=n[a];e.onChange(i,a)}}),(0,l.default)((0,o.default)(e),"onPrevious",function(){var t=e.props,n=t.files,r=t.currentIndex;if(0!==r){var a=r-1,i=n[a];e.onChange(i,a)}}),(0,l.default)((0,o.default)(e),"onClose",function(){e.props.onCloseRequest&&e.props.onCloseRequest()}),e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp,!1)}},{key:"onChange",value:function(e,t){this.props.onChangeRequest&&this.props.onChangeRequest(e,t)}},{key:"render",value:function(){var e=this.props,t=e.hasPrevious,n=e.hasNext,r=e.toolbarRef,a=e.showNavigation,i=e.renderFallbackExtraContent,o=e.validForPanel,c=e.children,s=e.componentsProps;return f.default.createElement(f.default.Fragment,null,f.default.createElement(h.default,{hasPrevious:t,hasNext:n,toolbarProps:g(g({},s.toolbarProps),{},{toolbarRef:r}),showNavigation:a,showInfoPanel:o,onPrevious:this.onPrevious,onNext:this.onNext,onClose:this.onClose},c,f.default.createElement(p.default,{renderFallbackExtraContent:i,componentsProps:s,onClose:this.onClose})))}}]),r}(f.Component);b.propTypes={hasNext:d.default.bool,hasPrevious:d.default.bool,onCloseRequest:d.default.func,onChangeRequest:d.default.func,toolbarRef:d.default.object,showNavigation:d.default.bool,renderFallbackExtraContent:d.default.func,validForPanel:d.default.bool,componentsProps:d.default.shape({OnlyOfficeViewer:d.default.shape({isEnabled:d.default.bool,opener:d.default.func}),toolbarProps:d.default.shape(m.toolbarPropsPropType)})},t.default=b},68325:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(16193)),o=r(n(79092)),c=r(n(26396)),s=r(n(22056)),u=r(n(39892)),l=r(n(53978)),d=r(n(5556)),f=T(n(96540)),p=n(76819),h=n(42895),m=n(395),v=T(n(31398)),y=r(n(41827)),g=r(n(4493)),b=r(n(24242)),w=r(n(81396)),k=n(13877),x=r(n(45572)),O=r(n(41192)),_=n(188),E=n(7562),C=r(n(25552)),S=r(n(1522)),P=["className","disableFooter","disablePanel","children","componentsProps","isPublic","currentIndex","files","currentURL"],A=["disableModal"];function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(e){var t=e.className,n=e.disableFooter,r=e.disablePanel,c=e.children,d=e.componentsProps,y=e.isPublic,k=e.currentIndex,E=e.files,A=e.currentURL,D=(0,u.default)(e,P),T=(0,f.createRef)(),R=(0,b.default)().isDesktop,M=(0,f.useState)(!0),I=(0,s.default)(M,2),N=I[0],z=I[1],F=(0,h.useClient)();(0,p.useExtendI18n)(_.locales);var L=(0,v.useSharingContext)(),B=L.hasWriteAccess,U=L.hasSharedParent,V=L.allLoaded,H=E[k],q=E.length,W=R&&!r,G=j(j({},d),{},{toolbarProps:j({showToolbar:!0,showClose:!0},null==d?void 0:d.toolbarProps)});return(0,f.useEffect)(function(){var e;(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=6;break}return e.next=3,(0,m.isDocumentReadOnly)({document:H,client:F});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!V||!B(U(H.path)?H.dir_id:H._id);case 7:z(e.t0);case 9:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[F,H,B,U,V,y]),f.default.createElement(S.default,{file:H,isPublic:y,isReadOnly:N,componentsProps:G},f.default.createElement(g.default,null,f.default.createElement(v.default,{client:F,doctype:"io.cozy.files",documentType:"Files",isPublic:y},f.default.createElement(C.default,null,f.default.createElement("div",{id:"viewer-wrapper",className:(0,l.default)("styles__viewer-wrapper___OkRf5",t)},f.default.createElement(w.default,{url:A},f.default.createElement(x.default,(0,i.default)({},D,{currentIndex:k,files:E,currentURL:A,componentsProps:G,hasPrevious:k>0,hasNext:k<q-1,validForPanel:W,toolbarRef:T}),c)),f.default.createElement(O.default,{disableFooter:n,validForPanel:W,toolbarRef:T},c))))))};M.propTypes={files:d.default.arrayOf(k.FileDoctype).isRequired,currentIndex:d.default.number,currentURL:d.default.string,className:d.default.string,onCloseRequest:d.default.func,onChangeRequest:d.default.func,showNavigation:d.default.bool,renderFallbackExtraContent:d.default.func,disablePanel:d.default.bool,disableFooter:d.default.bool,isPublic:d.default.bool,componentsProps:d.default.shape({OnlyOfficeViewer:d.default.shape({isEnabled:d.default.bool,opener:d.default.func}),panel:d.default.shape({qualifications:d.default.shape({disabled:d.default.bool}),summary:d.default.shape({disabled:d.default.bool}),konnector:d.default.shape({disabled:d.default.bool}),informations:d.default.shape({disabled:d.default.bool}),sharing:d.default.shape({disabled:d.default.bool})}),toolbarProps:d.default.shape(E.toolbarPropsPropType)})},M.defaultProps={currentIndex:0,showNavigation:!0};var I=function(e){var t=e.disableModal,n=(0,u.default)(e,A),r=(n.componentsProps||{}).modalProps;return t?f.default.createElement(M,n):f.default.createElement(y.default,void 0===r?{open:!0,fullScreen:!0,fullWidth:!0}:r,f.default.createElement(M,n))};I.defaultProps={componentsProps:{modalProps:{open:!0,fullScreen:!0,fullWidth:!0}}},I.propTypes={disableModal:d.default.bool,componentsProps:d.default.shape({modalProps:d.default.object})},t.default=I},41192:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(84976),c=n(47670),s=n(71118),u=n(52245),l=r(n(76026)),d=r(n(45522)),f=r(n(55746)),p=r(n(53214)),h=r(n(64661)),m=n(1522);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(e){var t=e.disableFooter,n=e.validForPanel,r=e.toolbarRef,a=e.children,v=(0,u.useTheme)(),y=(0,s.useCozyTheme)().isLight,g=(0,m.useViewer)(),b=g.isOpenAiAssistant,w=g.setIsOpenAiAssistant,k=document.querySelector('[class*="sidebar"]'),x=(0,o.useLocation)();return(0,i.useEffect)(function(){var e;null!=x&&null!=(e=x.state)&&e.showAIAssistant&&w(!0)},[x,w]),(0,c.useSetFlagshipUI)({bottomBackground:v.palette.background.paper,bottomTheme:y?"dark":"light"},{bottomBackground:v.palette.background[k?"default":"paper"]}),i.default.createElement(i.default.Fragment,null,b?i.default.createElement(i.default.Fragment,null,!t&&i.default.createElement(p.default,null,i.default.createElement(l.default,{toolbarRef:r,isDisplayChildrenDirectly:!0},i.default.createElement(d.default,null))),n&&i.default.createElement(h.default,null,i.default.createElement(d.default,null))):i.default.createElement(i.default.Fragment,null,!t&&i.default.createElement(p.default,null,i.default.createElement(l.default,{toolbarRef:r},a)),n&&i.default.createElement(h.default,null,i.default.createElement(f.default,null))))};y.propTypes={disableFooter:a.default.bool,validForPanel:a.default.bool,toolbarRef:a.default.object,children:a.default.oneOfType([a.default.node,a.default.arrayOf(a.default.node)])},t.default=y},81119:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(90774)),o=r(n(57611)),c=r(n(56100));t.default=(0,r(n(68722)).default)(function(e){var t=e.file,n=e.url;return a.default.createElement("div",{className:"styles__viewer-audioviewer___dpxUM"},a.default.createElement(i.default,{icon:o.default,width:160,height:140}),a.default.createElement("p",{className:"styles__viewer-filename___1-DIz"},t.name),a.default.createElement("audio",{src:n,controls:"controls",preload:(0,c.default)()?"none":"auto"}))})},50861:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(36040)),o=r(n(86960)),c=r(n(91347)),s=r(n(78668));t.default=(0,n(38668).withViewerLocales)(function(e){var t,n,r=e.file,u=e.t;return a.default.createElement("div",{className:"styles__viewer-noviewer___3HRGf"},a.default.createElement(o.default,{icon:a.default.createElement("img",{src:c.default}),text:u("Viewer.noImage"),componentsProps:{text:{color:"inherit"}}},a.default.createElement(s.default,{action:"OPEN",doctype:"io.cozy.files.paper",options:{path:"".concat(null==(t=r.metadata)||null==(n=t.qualification)?void 0:n.label,"/").concat(r._id)}},a.default.createElement(i.default,{className:"u-mt-1",label:u("Viewer.complete")}))))})},79636:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82274)),i=r(n(65044)),o=r(n(41972)),c=r(n(56994)),s=r(n(65611)),u=r(n(18337)),l=r(n(26396)),d=r(n(47168)),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),p=r(n(47743)),h=r(n(39062)),m=r(n(29966));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,l.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e,t,n){return Math.max(e,Math.min(n,t))};t.default=function(e){(0,c.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(r);return e=t?Reflect.construct(n,arguments,(0,u.default)(this).constructor):n.apply(this,arguments),(0,s.default)(this,e)});function r(e){var t;return(0,a.default)(this,r),t=n.call(this,e),(0,l.default)((0,o.default)(t),"reload",function(){t.setState(function(e){return g(g({},e),{},{loading:!0,canceled:!1})})}),(0,l.default)((0,o.default)(t),"onImageError",function(){t.setState(function(e){return g(g({},e),{},{loading:!1,canceled:!0})})}),(0,l.default)((0,o.default)(t),"onImageLoad",function(){t.setState(function(e){return g(g({},e),{},{loading:!1})})}),(0,l.default)((0,o.default)(t),"onSwipe",function(e){t.state.scale>1||(t.gestures.off("pan"),t.gestures.off("panend"),t.props.onSwipe(e))}),t.state={loading:!0,canceled:!1,scale:1,offsetX:0,offsetY:0,initialOffset:{x:0,y:0},initialScale:0,momentum:{x:0,y:0}},t}return(0,i.default)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.file&&this.props.file&&e.file.id!==this.props.file.id&&(this.tearDownGestures(),this.setState({loading:!0,canceled:!1,scale:1,offsetX:0,offsetY:0}))}},{key:"componentDidMount",value:function(){this.props.gestures&&this.initGestures()}},{key:"componentDidUpdate",value:function(e,t){var n=t.loading&&!this.state.loading&&!this.state.canceled;e.gestures||this.initGestures(),n&&this.setupGestures()}},{key:"componentWillUnmount",value:function(){this.tearDownGestures()}},{key:"tearDownGestures",value:function(){this.gestures&&(this.gestures.off("swipe"),this.gestures.on("swipe",this.props.onSwipe),this.gestures.off("panstart"),this.gestures.off("pinchstart"),this.gestures.off("pinchend"),this.gestures.off("pan"),this.gestures.off("pinch"),this.gestures.off("panend"))}},{key:"initGestures",value:function(){this.gestures=this.props.gestures,this.viewer=this.props.gesturesRef}},{key:"setupGestures",value:function(){var e=this;this.gestures.off("swipe"),this.gestures.on("swipe",this.onSwipe),this.gestures.get("pinch").set({enable:!0}),this.gestures.get("pan").set({direction:d.default.DIRECTION_ALL}),this.gestures.on("panstart",this.prepareForGesture.bind(this)),this.gestures.on("pinchstart",this.prepareForGesture.bind(this)),this.gestures.on("pinchend",this.prepareForGesture.bind(this)),this.gestures.on("pan",function(t){e.setState(function(n){var r=e.computeMaxOffset();return{offsetX:b(-r.x,n.initialOffset.x+t.deltaX/n.scale,r.x),offsetY:b(-r.y,n.initialOffset.y+t.deltaY/n.scale,r.y)}})}),this.gestures.on("pinch",function(t){t.isFinal||e.setState(function(n){var r=b(1/n.initialScale,t.scale,6/n.initialScale),a=e.viewer.getBoundingClientRect(),i={x:(a.right-a.left)/2,y:(a.bottom-a.top)/2},o={x:(i.x-t.center.x)/n.scale,y:(i.y-t.center.y)/n.scale},c={x:o.x*r,y:o.y*r},s={x:c.x-o.x+n.initialOffset.x,y:c.y-o.y+n.initialOffset.y},u=e.computeMaxOffset();return{scale:n.initialScale*r,offsetX:b(-u.x,s.x,u.x),offsetY:b(-u.y,s.y,u.y)}})}),this.gestures.on("panend",function(t){e.setState({momentum:{x:10*t.velocityX,y:10*t.velocityY}},e.applyMomentum.bind(e))})}},{key:"render",value:function(){var e=this;if(this.state.canceled)return f.default.createElement(h.default,{onReload:this.reload});var t=this.props,n=t.file,r=t.url,a=this.state,i=a.scale,o=a.offsetX,c=a.offsetY,s=a.loading,u={transform:"scale(".concat(i,") translate(").concat(o,"px, ").concat(c,"px)")};return f.default.createElement("div",{className:"styles__viewer-imageviewer___2O8pW"},s&&f.default.createElement(m.default,null),n&&f.default.createElement(p.default,{file:n,url:r,linkType:"large",onError:this.onImageError,key:n.id,render:function(t){return f.default.createElement("img",{ref:function(t){return e.photo=t},style:u,alt:n.name,src:t,onLoad:e.onImageLoad})}}))}},{key:"prepareForGesture",value:function(){this.setState(function(e){return{initialScale:e.scale,initialOffset:{x:e.offsetX,y:e.offsetY},momentum:{x:0,y:0}}})}},{key:"applyMomentum",value:function(){var e=this;this.setState(function(t){var n=e.computeMaxOffset();return{offsetX:b(-n.x,t.offsetX+t.momentum.x,n.x),offsetY:b(-n.y,t.offsetY+t.momentum.y,n.y),momentum:{x:.9*t.momentum.x,y:.9*t.momentum.y}}},function(){(Math.abs(e.state.momentum.x)>.1||Math.abs(e.state.momentum.y)>.1)&&requestAnimationFrame(e.applyMomentum.bind(e))})}},{key:"computeMaxOffset",value:function(){if(!this.viewer||!this.photo)return{x:0,y:0};var e=this.viewer.getBoundingClientRect(),t=this.photo.getBoundingClientRect();return{x:Math.max(t.width/2-e.width/2,0)/this.state.scale,y:Math.max(t.height/2-e.height/2,0)/this.state.scale}}}]),r}(f.Component)},39062:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(90774)),o=r(n(5319)),c=r(n(56211));t.default=(0,n(38668).withViewerLocales)(function(e){var t=e.t,n=e.onReload;return a.default.createElement("div",{className:"styles__viewer-canceled___3KRBk"},a.default.createElement(i.default,{icon:o.default,width:160,height:140}),a.default.createElement("h2",null,t("Viewer.error.network")),a.default.createElement(c.default,{onClick:n,label:t("Viewer.retry")}))})},60623:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=r(n(56211)),c=n(13877),s=r(n(30464)),u=n(38668),l=function(e){var t=e.file,n=e.onlyOfficeOpener,r=e.t;return i.default.createElement(s.default,{file:t,renderFallbackExtraContent:function(){return i.default.createElement(o.default,{label:r("Viewer.openInOnlyOffice"),onClick:function(){return n(t)}})}})};l.propTypes={file:c.FileDoctype,onlyOfficeOpener:a.default.func.isRequired},t.default=(0,u.withViewerLocales)(l)},46284:function(e,t,n){"use strict";var r,a=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PdfJsViewer=t.MIN_SCALE=t.MAX_SIZE_FILE=t.MAX_SCALE=t.MAX_PAGES=void 0;var i=a(n(21259)),o=a(n(82274)),c=a(n(65044)),s=a(n(41972)),u=a(n(56994)),l=a(n(65611)),d=a(n(18337)),f=a(n(26396)),p=a(n(53978)),h=a(n(49870)),m=a(n(7350)),v=a(n(5556)),y=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),g=n(61404),b=a(n(30464)),w=a(n(8432)),k=a(n(29966)),x=a(n(68722)),O=n(38668),_=n(1522);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var C="styles__viewer-pdfviewer-page___VvOF3";t.MIN_SCALE=.25,t.MAX_SCALE=3,t.MAX_PAGES=40,t.MAX_SIZE_FILE=0xa00000;var S=function(e){var t=Math.max(1,String(Math.abs(e)).length-1);return{maxWidth:"".concat(t,".5rem")}},P=function(e){(0,u.default)(a,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(a);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function a(){var e;return(0,o.default)(this,a),e=n.call(this),(0,f.default)((0,s.default)(e),"state",{totalPages:1,scale:1,currentPage:1,inputPageValue:1,loaded:!1,errored:!1,width:null,renderAllPages:!1,toolbarDisplayed:!0,keepToolbarDisplayed:!1,isInputPageFocused:!1}),(0,f.default)((0,s.default)(e),"onMouseMove",function(){e.state.toolbarDisplayed||e.setState({toolbarDisplayed:!0}),r&&clearTimeout(r),r=setTimeout(function(){e.setState({toolbarDisplayed:!1})},1e3)}),(0,f.default)((0,s.default)(e),"onKeyUp",function(t){38===t.keyCode?e.previousPage():40===t.keyCode&&e.nextPage(),e.onMouseMove()}),(0,f.default)((0,s.default)(e),"setWrapperSize",function(){var t=e.wrapper?e.wrapper.getBoundingClientRect().width:null;e.setState({width:t})}),(0,f.default)((0,s.default)(e),"onLoadSuccess",function(t){var n=t.numPages;e.setState({totalPages:n,renderAllPages:n<=40&&0xa00000>=parseInt(e.props.file.size,10),loaded:!0}),e.context&&e.context.setPdfPageCount&&e.context.setPdfPageCount(n)}),(0,f.default)((0,s.default)(e),"onLoadError",function(t){console.warn(t),e.setState({errored:!0})}),(0,f.default)((0,s.default)(e),"nextPage",function(){e.setState(function(e){var t=Math.min(e.currentPage+1,e.totalPages);return{currentPage:t,inputPageValue:t}})}),(0,f.default)((0,s.default)(e),"previousPage",function(){e.setState(function(e){var t=Math.max(e.currentPage-1,1);return{currentPage:t,inputPageValue:t}})}),(0,f.default)((0,s.default)(e),"scaleUp",function(){e.setState(function(t){var n=t.scale,r=Math.min(n+.25,3);return r>1&&n<=1&&e.toggleGestures(!1),{scale:r}})}),(0,f.default)((0,s.default)(e),"scaleDown",function(){e.setState(function(t){var n=t.scale,r=Math.max(n-.25,.25);return r<=1&&n>1&&e.toggleGestures(!0),{scale:r}})}),(0,f.default)((0,s.default)(e),"handleInputPageChange",function(t){var n=t.target.value;(""===n||n<=e.state.totalPages&&n>0)&&e.setState({inputPageValue:n})}),(0,f.default)((0,s.default)(e),"handleInputPageKeyDown",function(t){13===t.keyCode&&e.inputRef.current.blur()}),(0,f.default)((0,s.default)(e),"handleInputPageFocus",function(){e.setState({isInputPageFocused:!0,keepToolbarDisplayed:!0})}),(0,f.default)((0,s.default)(e),"handleInputPageBlur",function(){e.setState(function(e){return{keepToolbarDisplayed:!1,isInputPageFocused:!1,inputPageValue:e.inputPageValue?e.inputPageValue:e.currentPage,currentPage:e.inputPageValue?parseInt(e.inputPageValue,10):e.currentPage}})}),e.inputRef=y.default.createRef(),e}return(0,c.default)(a,[{key:"componentDidMount",value:function(){this.setWrapperSize(),this.resizeListener=(0,m.default)(this.setWrapperSize,500),this.mouseMoveListener=(0,m.default)(this.onMouseMove,500),window.addEventListener("resize",this.resizeListener),document.addEventListener("mousemove",this.mouseMoveListener),document.addEventListener("keyup",this.onKeyUp,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeListener),document.removeEventListener("mousemove",this.mouseMoveListener),document.removeEventListener("keyup",this.onKeyUp,!1),r&&clearTimeout(r)}},{key:"toggleGestures",value:function(e){this.props.gestures&&(this.props.gestures.get("swipe").set({enable:e}),this.props.gestures.get("pan").set({enable:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.url,r=t.file,a=t.renderFallbackExtraContent,o=t.t,c=this.state,s=c.loaded,u=c.errored,l=c.totalPages,d=c.currentPage,h=c.inputPageValue,m=c.scale,v=c.width,x=c.renderAllPages,O=c.toolbarDisplayed,_=c.keepToolbarDisplayed,E=c.isInputPageFocused;if(u)return y.default.createElement(b.default,{file:r,renderFallbackExtraContent:a});var P=v&&l>1?v-15:v,A=h||""===h?h:d.toString();return y.default.createElement("div",{className:"styles__viewer-pdfviewer___3MJPk",ref:function(t){return e.wrapper=t},"data-testid":"pdfjs-viewer"},y.default.createElement(g.Document,{file:n,onLoadSuccess:this.onLoadSuccess,onLoadError:this.onLoadError,className:"styles__viewer-pdfviewer-pdf___3R4jL",loading:y.default.createElement(k.default,null)},x?(0,i.default)(Array(l)).map(function(e,t){return y.default.createElement(g.Page,{key:t,pageNumber:t+1,width:P,scale:m,renderAnnotations:!1,className:(0,p.default)("u-mv-1",C)})}):y.default.createElement(g.Page,{pageNumber:d,width:P,scale:m,renderAnnotations:!1,className:C})),s&&y.default.createElement("div",{className:(0,p.default)("styles__viewer-pdfviewer-toolbar___2Eat3","u-p-half",(0,f.default)({},"styles__viewer-pdfviewer-toolbar--hidden___3LBfu",!O&&!_)),onMouseEnter:function(){return!E&&e.setState({keepToolbarDisplayed:!0})},onMouseLeave:function(){return!E&&e.setState({keepToolbarDisplayed:!1})}},!x&&y.default.createElement("span",{className:"u-mh-half"},y.default.createElement(w.default,{icon:"top",onClick:this.previousPage,disabled:1===d,label:o("Viewer.previous")}),y.default.createElement("label",{htmlFor:"input-page"},y.default.createElement("input",{ref:this.inputRef,id:"input-page",className:"styles__viewer-pdfviewer-input-page___9HErK",type:"text",inputMode:"numeric",style:S(l),value:A,onChange:this.handleInputPageChange,onKeyDown:this.handleInputPageKeyDown,onFocus:this.handleInputPageFocus,onBlur:this.handleInputPageBlur}),"/",l),y.default.createElement(w.default,{icon:"bottom",onClick:this.nextPage,disabled:d===l,label:o("Viewer.next")})),y.default.createElement("span",{className:"u-mh-half"},y.default.createElement(w.default,{icon:"dash",onClick:this.scaleDown,disabled:.25===m,label:o("Viewer.scaledown")}),y.default.createElement(w.default,{icon:"plus",onClick:this.scaleUp,disabled:3===m,label:o("Viewer.scaleup")}))))}}]),a}(y.Component);t.PdfJsViewer=P,(0,f.default)(P,"contextType",_.ViewerContext),P.propTypes={url:v.default.string.isRequired,gestures:v.default.object,renderFallbackExtraContent:v.default.func},t.default=(0,h.default)(x.default,O.withViewerLocales)(P)},9477:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PdfMobileViewer=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(22056)),c=r(n(7350)),s=r(n(5556)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),l=n(42895),d=n(39046),f=n(84660),p=r(n(39968)),h=n(4493),m=r(n(47743)),v=n(13877),y=r(n(30464)),g=r(n(60254)),b=n(38668);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}var k=function(e){var t=e.file,n=e.url,r=e.t,s=e.gestures,v=(0,u.useState)(!0),b=(0,o.default)(v,2),w=b[0],k=b[1],x=(0,u.useState)(!1),O=(0,o.default)(x,2),_=O[0],E=O[1],C=(0,u.useRef)(null),S=(0,h.useAlert)().showAlert,P=(0,l.useClient)(),A=(0,f.useWebviewIntent)(),D=function(){k(!1)},T=(0,u.useMemo)(function(){var e;return(0,c.default)((e=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.downloadFile)({client:P,file:t,webviewIntent:A});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),S({message:r("Viewer.error.generic"),severity:"error",variant:"filled",icon:!1});case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(t){return e.apply(this,arguments)}),1e3,{trailing:!1})},[P,S,r,A]);return((0,u.useEffect)(function(){if(s)return s.get("pinch").set({enable:!0}),s.get("press").set({time:1}),s.on("pinchend press",function(e){("pinchend"===e.type||"press"===e.type)&&e.target===C.current&&T(t)}),function(){s.off("pinchend press")}},[P,s,t,T]),_)?u.default.createElement(y.default,{file:t,renderFallbackExtraContent:function(e){return u.default.createElement(g.default,{file:e})}}):u.default.createElement("div",{className:"styles__viewer-pdfMobile___ym7we"},w&&u.default.createElement(p.default,{size:"xxlarge",middle:!0,noMargin:!0}),t&&u.default.createElement(m.default,{file:t,url:n,linkType:"medium",onError:function(){k(!1),E(!0)},key:t.id,render:function(e){return u.default.createElement("img",{ref:C,className:"styles__viewer-pdfMobile--image___3_zsS",alt:t.name,src:e,onLoad:D})}}))};t.PdfMobileViewer=k,k.prototype={file:v.FileDoctype.isRequired,url:s.default.string,gestures:s.default.object},t.default=(0,b.withViewerLocales)(k)},71559:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(58156)),i=r(n(96540)),o=n(42895),c=r(n(29195)),s=n(56211),u=n(13877),l=r(n(30464)),d=n(38668),f=function(e){var t=e.t,n=e.file,r=(0,o.useClient)(),u=(0,o.useFetchShortcut)(r,n.id).shortcutInfos,d="";return u&&(d=new URL((0,a.default)(u,"data.attributes.url"))),i.default.createElement(l.default,{file:n,renderFallbackExtraContent:function(){return i.default.createElement(s.ButtonLink,{label:"".concat(t("Viewer.goto",{url:(0,a.default)(d,"origin","")})),icon:c.default,href:"".concat((0,a.default)(d,"origin","")),target:"_blank"})}})};f.propTypes={file:u.FileDoctype.isRequired},t.default=(0,d.withViewerLocales)(f)},68798:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.isMarkdown=t.default=t.TextViewer=void 0;var a=r(n(92207)),i=r(n(79092)),o=r(n(82274)),c=r(n(65044)),s=r(n(41972)),u=r(n(56994)),l=r(n(65611)),d=r(n(18337)),f=r(n(26396)),p=r(n(53978)),h=r(n(5556)),m=r(n(96540)),v=r(n(75331)),y=n(42895),g=n(13877),b=r(n(30464)),w=r(n(29966)),k=n(94613),x=r(n(68722)),O="styles__viewer-textviewer___1fl1c",_="styles__viewer-textviewer-content___30dhP",E=function(e){var t=e.text;return m.default.createElement(v.default,{className:(0,p.default)(_,"u-p-1"),source:t})},C=function(e){var t=e.text;return m.default.createElement("pre",{className:(0,p.default)(_,"u-mh-auto","u-mv-2"),"data-testid":"viewer-plaintext"},t)},S=function(){return m.default.createElement("div",{className:O,"data-testid":"viewer-spinner"},m.default.createElement(w.default,null))},P=function(e){return"text/markdown"===e.mime||/.md$/.test(e.name)||y.models.file.isNote(e)};t.isMarkdown=P;var A=function(e){(0,u.default)(h,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(h);return e=t?Reflect.construct(n,arguments,(0,d.default)(this).constructor):n.apply(this,arguments),(0,l.default)(this,e)});function h(){var e;(0,o.default)(this,h);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,f.default)((0,s.default)(e),"state",{text:"",isMarkdown:!1,loading:!0,error:null}),(0,f.default)((0,s.default)(e),"_mounted",!1),e}return(0,c.default)(h,[{key:"componentDidMount",value:function(){this._mounted=!0,this.loadFile()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"loadFile",value:(n=(0,i.default)(a.default.mark(function e(){var t,n,r,i,o,c,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this.props).url,r=t.file,e.prev=1,!(0,k.isFileEncrypted)(r)){e.next=8;break}return e.next=5,fetch(n);case 5:i=e.sent,e.next=13;break;case 8:return o=new URL(n).pathname,c=this.props.client.getStackClient(),e.next=12,c.fetch("GET",o);case 12:i=e.sent;case 13:return e.next=15,i.text();case 15:s=e.sent,this._mounted&&this.setState({text:s,isMarkdown:P(r),loading:!1}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.warn(e.t0),this._mounted&&this.setState({loading:!1,error:e.t0});case 23:case"end":return e.stop()}},e,this,[[1,19]])})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=e.text,a=e.isMarkdown,i=this.props,o=i.file,c=i.renderFallbackExtraContent;return t?m.default.createElement(S,null):n?m.default.createElement(b.default,{file:o,renderFallbackExtraContent:c}):m.default.createElement("div",{className:O},m.default.createElement("h2",{className:(0,p.default)("styles__viewer-filename___1-DIz","u-mt-3","u-mb-1")},o.name),a?m.default.createElement(E,{text:r}):m.default.createElement(C,{text:r}))}}]),h}(m.default.Component);t.TextViewer=A,A.propTypes={client:h.default.object.isRequired,url:h.default.string.isRequired,file:g.FileDoctype.isRequired,renderFallbackExtraContent:h.default.func},t.default=(0,x.default)((0,y.withClient)(A))},68706:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540));t.default=(0,r(n(68722)).default)(function(e){var t=e.file,n=e.url;return a.default.createElement("div",{className:"styles__viewer-videoviewer___3yUQ5"},a.default.createElement("video",{src:n,controls:"controls"}),a.default.createElement("p",{className:"styles__viewer-filename___1-DIz"},t.name))})},21316:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(26396)),o=r(n(79092)),c=r(n(22056)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),u=n(76819),l=n(42895),d=n(95948),f=r(n(28101)),p=r(n(36040)),h=r(n(29411)),m=r(n(39274)),v=n(38668),y=n(1522);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=(0,v.withViewerLocales)(function(){var e,t=(0,u.useI18n)(),n=t.t,r=t.lang,i=(0,l.useClient)(),v=(0,y.useViewer)().file,g=(0,s.useState)(!1),b=(0,c.default)(g,2),k=b[0],x=b[1],O=(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,i.collection("io.cozy.files").updateMetadataAttribute(v.id,w(w({},v.metadata),{},{hideExpirationAlert:!0}));case 3:x(!1);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),_=(0,d.computeExpirationDate)(v),E=(0,d.isForeignPaper)(v)?null:(0,d.computeExpirationNoticeLink)(v);return s.default.createElement(f.default,{severity:"warning",block:!0,action:s.default.createElement(p.default,{color:"warning",variant:"text",size:"small",busy:k,label:n("Viewer.panel.expiration.dismiss"),onClick:O}),className:"u-mt-1 u-mh-1"},s.default.createElement(m.default,{component:"span",variant:"inherit"},s.default.createElement(m.default,{component:"span",variant:"inherit"},(0,d.makeExpirationDescription)(_,{lang:r})),E&&s.default.createElement(s.default.Fragment,null,s.default.createElement(m.default,{component:"span",variant:"inherit"}," : "),s.default.createElement(h.default,{href:E,rel:"noreferrer",target:"_blank",className:"u-warning"},new URL(E).hostname))))})},58733:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=n(76819),o=n(42895),c=r(n(39274)),s=n(1522),u=o.models.paper,l=u.computeExpirationDate,d=u.isExpired,f=u.makeExpiredMessage,p=u.makeExpiresInMessage;t.default=function(){var e=(0,i.useI18n)().lang,t=(0,s.useViewer)().file;if(d(t))return a.default.createElement(c.default,{component:"span",variant:"inherit",color:"error"},f({lang:e}));var n=l(t);return a.default.createElement(c.default,{component:"span",variant:"inherit",className:"u-warning"},p(n,{lang:e}))}},53214:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(24242));t.default=function(e){var t=e.children;return(0,i.default)().isDesktop?null:a.default.createElement("div",{className:"styles__viewer-footer___iGv8J"},t)}},64661:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.infoWidth=t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o="22rem";t.infoWidth=o;var c={width:o,backgroundColor:"var(--defaultBackgroundColor)"},s=function(e){var t=e.children;return i.default.createElement("div",{style:c,className:"u-h-100 u-ov-auto"},t)};s.propTypes={classes:a.default.object,children:a.default.element},t.default=s},78668:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(39892)),o=r(n(5556)),c=r(n(96540)),s=r(n(34642)),u=["action","doctype","options","disabled","children"],l=function(e){var t=e.action,n=e.doctype,r=e.options,o=e.disabled,l=e.children,d=(0,i.default)(e,u);return o?l:c.default.createElement(s.default,(0,a.default)({},d,{action:t,doctype:n,options:r,showCloseButton:!1,iframeProps:{spinnerProps:{className:"u-m-0",middle:!0,color:"white"}},fullScreen:!0,fullWidth:!0,PaperComponent:"div"}),l)};l.propTypes={action:o.default.string,doctype:o.default.string,options:o.default.object,disabled:o.default.bool,children:o.default.oneOfType([o.default.node,o.default.arrayOf(o.default.node)])},t.default=l},28503:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(53978)),o=r(n(5556)),c=r(n(96540)),s=r(n(90774)),u=r(n(31100)),l=function(e){var t=e.className,n=e.hidden,r=e.onMouseEnter,o=e.onMouseLeave,l=e.onClick;return c.default.createElement("div",{role:"button",className:(0,i.default)(t,"styles__viewer-nav___3V03k",(0,a.default)({},"styles__viewer-nav--visible___4GLTe",!n)),onClick:l,onMouseEnter:r,onMouseLeave:o},c.default.createElement(s.default,{icon:u.default,size:"32",className:"styles__viewer-nav-arrow___Z0ykc"}))};l.propTypes={className:o.default.string.isRequired,hidden:o.default.bool.isRequired,onMouseEnter:o.default.func.isRequired,onMouseLeave:o.default.func.isRequired,onClick:o.default.func.isRequired},t.default=l},8432:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5556)),i=r(n(96540)),o=r(n(36040)),c=r(n(90774)),s=function(e){var t=e.icon,n=e.onClick,r=e.disabled,a=e.label;return i.default.createElement(o.default,{variant:"text",color:"secondary",className:"u-p-half u-m-half u-mah-2",icon:t,onClick:n,disabled:r,label:i.default.createElement(c.default,{icon:t,size:16}),"aria-label":a,disableRipple:!0})};s.propTypes={icon:a.default.string.isRequired,onClick:a.default.func.isRequired,disabled:a.default.bool,label:a.default.string.isRequired},t.default=s},55999:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53978)),i=r(n(5556)),o=r(n(96540)),c=n(76819),s=r(n(94619)),u=r(n(36040)),l=r(n(90774)),d=r(n(18704)),f=n(94613),p=n(1522),h="styles__viewer-ai-summarise-btn___2YOrl",m=function(e){var t=e.onPaywallRedirect,n=e.className,r=(0,c.useI18n)().t,i=(0,p.useViewer)(),m=i.setIsOpenAiAssistant,v=i.file,y=i.pdfPageCount,g=(0,s.default)("ai.enabled"),b=(0,s.default)("ai.available"),w=(0,f.isFileSummaryCompatible)(v,{pageCount:y});return b&&w?o.default.createElement(u.default,{variant:"text",startIcon:o.default.createElement(l.default,{icon:d.default,className:(0,a.default)(h)}),"aria-label":r("Viewer.summariseWithAi"),label:r("Viewer.summariseWithAi"),onClick:function(){!g&&t?t():m(!0)},className:(0,a.default)(h,n)}):null};m.propTypes={onPaywallRedirect:i.default.func},t.default=m},30554:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(53978)),o=r(n(5556)),c=r(n(96540)),s=n(76819),u=n(42895),l=n(39046),d=n(84660),f=n(31398),p=n(88396),h=r(n(36040)),m=r(n(90774)),v=r(n(74710)),y=r(n(98427)),g=r(n(60610)),b=r(n(36444)),w=r(n(39274)),k=r(n(71231)),x=n(81396),O=r(n(55999)),_=n(34479),E=n(44015),C=n(25552),S=n(1522),P=function(e){var t=e.hidden,n=e.onMouseEnter,r=e.onMouseLeave,o=e.onClose,k=e.toolbarRef,P=e.breakpoints.isDesktop,A=e.children,D=e.showFilePath,T=e.onPaywallRedirect,R=(0,u.useClient)(),j=(0,s.useI18n)().t,M=(0,d.useWebviewIntent)(),I=(0,S.useViewer)().file,N=(0,f.useSharingInfos)(),z=N.isSharingShortcutCreated,F=N.addSharingLink,L=N.loading,B=(0,f.useSharingContext)().isOwner,U=(0,C.useShareModal)().setShowShareModal,V=(0,x.useEncrypted)().url,H="/preview"===window.location.pathname,q=(0,E.extractChildrenCompByName)({children:A,file:I,name:"ToolbarButtons"});return c.default.createElement("div",{ref:k,"data-testid":"viewer-toolbar",className:(0,i.default)("styles__viewer-toolbar___1GLOA",(0,a.default)({},"styles__viewer-toolbar--hidden___Zq97m",t)),onMouseEnter:n,onMouseLeave:r},o&&c.default.createElement(v.default,{className:(0,i.default)({"u-white":P}),onClick:o},c.default.createElement(m.default,{icon:g.default})),c.default.createElement("div",{className:"u-pl-half u-ov-auto u-w-100"},c.default.createElement(w.default,{variant:P?"h3":"h4",color:P?"inherit":"textPrimary",noWrap:!0},c.default.createElement(b.default,{text:I.name})),D?c.default.createElement(_.ToolbarFilePath,null):null),P&&c.default.createElement("div",{className:"u-flex u-flex-items-center"},!H&&!B(I._id)&&c.default.createElement(f.ShareButton,{className:"u-white",fullWidth:!0,useShortLabel:!0,docId:I._id,onClick:function(){return U(!0)}}),H&&!L&&!z&&c.default.createElement(f.OpenSharingLinkButton,{link:F,isSharingShortcutCreated:z,variant:"text",className:"u-white",color:"default",isShortLabel:!0}),c.default.createElement(O.default,{onPaywallRedirect:T}),c.default.createElement(h.default,{className:"u-white",variant:"text","aria-label":j("Viewer.download"),label:j("Viewer.download"),startIcon:c.default.createElement(m.default,{icon:y.default}),onClick:function(){return(0,p.download)({client:R,encryptedUrl:V,downloadFile:l.downloadFile}).action([I],{webviewIntent:M,driveId:I.driveId})}})),q)};P.propTypes={hidden:o.default.bool,onMouseEnter:o.default.func.isRequired,onMouseLeave:o.default.func.isRequired,onClose:o.default.func,showFilePath:o.default.bool,onPaywallRedirect:o.default.func},t.default=(0,k.default)()(P)},73077:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),i=r(n(8588)),o=function(e){return a.default.createElement(i.default,e)};o.displayName="ToolbarButtons",t.default=o},34479:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarFilePath=void 0;var a=r(n(26396)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(42895),c=n(39046),s=r(n(36154)),u=r(n(29411)),l=r(n(24242)),d=r(n(21696)),f=n(94613),p=n(1522),h=n(75584);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.ToolbarFilePath=function(){var e=(0,o.useClient)(),t=(0,l.default)().isDesktop,n=(0,p.useViewer)().file,r=(0,f.normalizeAndSpreadAttributes)(n),a=(0,h.buildFileByIdQuery)(r.dir_id),m=(0,o.useQuery)(a.definition,y(y({},a.options),{},{enabled:!!r.dir_id})),v=(0,i.useMemo)(function(){return m.data?(0,c.ensureFilePath)(r,m.data):void 0},[r,m.data]);if(v){var g="drive",b=v.driveId?"/shareddrive/".concat(v.driveId,"/").concat(v.dir_id):"/folder/".concat(v.dir_id),w=(0,f.removeFilenameFromPath)(v.path),k=(0,f.makeWebLink)({client:e,path:b,slug:g});return t&&k?i.default.createElement(d.default,{app:{slug:g},nativePath:b,href:k},function(e){var t=e.href,n=e.onClick;return i.default.createElement(u.default,{href:t,onClick:n,color:"inherit"},i.default.createElement(s.default,{className:"u-white"},w))}):i.default.createElement(s.default,{className:t?"u-white":null},w)}return null}},16160:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.getViewerComponentName=t.default=void 0;var a=r(n(5556)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(39046),c=n(7127),s=r(n(71231)),u=n(81396),l=r(n(30464)),d=r(n(81119)),f=r(n(50861)),p=r(n(79636)),h=r(n(60623)),m=r(n(46284)),v=r(n(9477)),y=r(n(71559)),g=r(n(68798)),b=r(n(68706)),w=n(1522);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}var x=function(e){var t,n;return null==(t=e.metadata)||null==(n=t.paperProps)?void 0:n.isBlank},O=function(e){var t=e.file,n=e.isDesktop,r=e.isOnlyOfficeEnabled;switch(t.class){case"shortcut":return y.default;case"image":return p.default;case"audio":return d.default;case"video":return(0,c.isMobile)()?l.default:b.default;case"pdf":return x(t)?f.default:n?m.default:v.default;case"text":return(0,o.isPlainText)(t.mime,t.name)?g.default:r?h.default:l.default;case"slide":case"spreadsheet":return r?h.default:l.default;default:return l.default}};t.getViewerComponentName=O;var _=(0,s.default)()(function(e){var t,n,r=e.onClose,a=e.renderFallbackExtraContent,o=e.gestures,c=e.gesturesRef,s=e.onSwipe,l=e.breakpoints.isDesktop,d=e.componentsProps,f=(0,w.useViewer)().file,p=null==d||null==(t=d.OnlyOfficeViewer)?void 0:t.isEnabled,h=null==d||null==(n=d.OnlyOfficeViewer)?void 0:n.opener,m=(0,u.useEncrypted)().url,v=(0,i.useMemo)(function(){return O({file:f,isDesktop:l,isOnlyOfficeEnabled:p})},[f,l,p]);return i.default.createElement(v,{file:f,url:m,renderFallbackExtraContent:a,gestures:o,gesturesRef:c,onlyOfficeOpener:h,onSwipe:s,onClose:r})});_.propTypes={onClose:a.default.func.isRequired,renderFallbackExtraContent:a.default.func,gestures:a.default.object,gesturesRef:a.default.object,onSwipe:a.default.func,componentsProps:a.default.object},_.displayName="ViewerByFile",t.default=_},94325:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(82274)),o=r(n(65044)),c=r(n(41972)),s=r(n(56994)),u=r(n(65611)),l=r(n(18337)),d=r(n(26396)),f=r(n(53978)),p=r(n(47168)),h=r(n(5556)),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),v=n(24242),y=n(52245),g=n(64661),b=r(n(28503)),w=r(n(30554)),k=n(7562),x=n(1522);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var _={"viewer-nav":"styles__viewer-nav___3V03k","viewer-nav--visible":"styles__viewer-nav--visible___4GLTe","viewer-nav--previous":"styles__viewer-nav--previous___2LsMS","viewer-nav-arrow":"styles__viewer-nav-arrow___Z0ykc","viewer-nav--next":"styles__viewer-nav--next___3mBHi","viewer-controls":"styles__viewer-controls___2lf-z","--expanded":"styles__--expanded___1sp4Q","viewer-toolbar":"styles__viewer-toolbar___1GLOA","viewer-toolbar--hidden":"styles__viewer-toolbar--hidden___Zq97m","viewer-footer":"styles__viewer-footer___iGv8J","viewer-ai-summarise-btn":"styles__viewer-ai-summarise-btn___2YOrl"},E=function(e){(0,s.default)(r,e);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(r);return e=t?Reflect.construct(n,arguments,(0,l.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,e)});function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,d.default)((0,c.default)(e),"state",{hidden:!1,gestures:null}),(0,d.default)((0,c.default)(e),"_mounted",!1),(0,d.default)((0,c.default)(e),"showControls",function(){e._mounted&&(e.setState({hidden:!1}),e.hideAfterDelay(),document.removeEventListener("mousemove",e.showControls),document.addEventListener("mousemove",e.hideAfterDelay))}),(0,d.default)((0,c.default)(e),"hideControls",function(){e._mounted&&(e.setState({hidden:!0}),document.removeEventListener("mousemove",e.hideAfterDelay),document.addEventListener("mousemove",e.showControls))}),(0,d.default)((0,c.default)(e),"hideAfterDelay",function(){clearTimeout(e.hideTimeout),e.hideTimeout=setTimeout(function(){e.hideControls()},3e3)}),(0,d.default)((0,c.default)(e),"onSwipe",function(t){t.direction===p.default.DIRECTION_LEFT?e.props.onNext():t.direction===p.default.DIRECTION_RIGHT&&e.props.onPrevious()}),(0,d.default)((0,c.default)(e),"initGestures",function(){var t=new p.default(e.wrapped,e.props.isDesktop?{cssProps:{userSelect:"auto"}}:{});return e.props.isDesktop||t.on("swipe",e.onSwipe),t}),e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this._mounted=!0,clearTimeout(this.hideTimeout),this.hideAfterDelay();var e=this.initGestures();this.setState({gestures:e})}},{key:"componentWillUnmount",value:function(){this._mounted=!1,clearTimeout(this.hideTimeout),this.state.gestures&&this.state.gestures.destroy()}},{key:"renderChildren",value:function(e){var t=this;return e?m.default.Children.map(e,function(e){var n,r;if((null==e||null==(n=e.type)?void 0:n.name)==="ViewerByFile"||(null==e||null==(r=e.type)?void 0:r.displayName)==="ViewerByFile")return m.default.cloneElement(e,{gestures:t.state.gestures,gesturesRef:t.wrapped,onSwipe:t.onSwipe})}):null}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.onClose,a=n.hasPrevious,i=n.hasNext,o=n.onPrevious,c=n.onNext,s=n.expanded,u=n.toolbarProps,l=n.showNavigation,p=n.showInfoPanel,h=n.children,v=n.classes,y=n.isDesktop,g=u.showToolbar,k=u.showClose,x=u.toolbarRef,O=u.showFilePath,E=u.onPaywallRedirect,C=this.state.hidden;return m.default.createElement("div",{className:(0,f.default)(_["viewer-controls"],(e={},(0,d.default)(e,_["viewer-controls--expanded"],s),(0,d.default)(e,v.viewerControlsWithInfo,p),e)),ref:function(e){t.wrapped=e}},g&&m.default.createElement(w.default,{toolbarRef:x,showFilePath:O,onMouseEnter:this.showControls,onMouseLeave:this.hideControls,onClose:k?r:void 0,onPaywallRedirect:E},h),l&&y&&a&&m.default.createElement(b.default,{className:_["viewer-nav--previous"],hidden:C,onMouseEnter:this.showControls,onMouseLeave:this.hideControls,onClick:o}),this.renderChildren(h),l&&y&&i&&m.default.createElement(b.default,{className:_["viewer-nav--next"],hidden:C,onMouseEnter:this.showControls,onMouseLeave:this.hideControls,onClick:c}))}}]),r}(m.Component);E.propTypes={isDesktop:h.default.bool,onClose:h.default.func.isRequired,hasPrevious:h.default.bool.isRequired,hasNext:h.default.bool.isRequired,onPrevious:h.default.func.isRequired,onNext:h.default.func.isRequired,expanded:h.default.bool.isRequired,toolbarProps:h.default.shape(k.toolbarPropsPropType),showNavigation:h.default.bool.isRequired,showInfoPanel:h.default.bool},t.default=(0,y.withStyles)(function(){return{viewerControlsWithInfo:{width:"calc(100% - ".concat(g.infoWidth,") !important")}}})(function(e){var t=(0,x.useViewer)().file,n=(0,v.useBreakpoints)().isDesktop,r=t&&"image"===t.class;return m.default.createElement(E,(0,a.default)({expanded:r,isDesktop:n},e))})},29966:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16193)),i=r(n(96540)),o=r(n(39968)),c=n(24242);t.default=function(){var e=(0,c.useBreakpoints)().isDesktop;return i.default.createElement(o.default,(0,a.default)({size:"xxlarge",middle:!0,noMargin:!0},e&&{color:"white"}))}},94613:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.roughTokensEstimation=t.removeFilenameFromPath=t.normalizeAndSpreadAttributes=t.makeWebLink=t.isFileSummaryCompatible=t.isFileEncrypted=t.isEditableAttribute=t.formatDate=void 0;var a=r(n(26396)),i=n(42895),o=n(39046),c=r(n(94619));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.isFileEncrypted=function(e){return(0,o.isEncrypted)(e)},t.formatDate=function(e){var t=e.f,n=e.lang,r=e.date;return t(r,"en"===n?"LL/dd/yyyy":"dd/LL/yyyy")},t.isEditableAttribute=function(e,t){return!["datetime","qualification"].includes(e)&&("issueDate"===e&&!(0,o.isFromKonnector)(t)||"issueDate"!==e)},t.normalizeAndSpreadAttributes=function(e){var t=(0,o.normalize)(e);return u(u({},t),null==t?void 0:t.attributes)},t.makeWebLink=function(e){var t=e.client,n=e.slug,r=e.path;try{var a=new URL(t.getStackClient().uri),o=t.getInstanceOptions().subdomain;return(0,i.generateWebLink)({pathname:"/",cozyUrl:a.origin,slug:n,hash:r,subDomainType:o})}catch(e){return null}},t.removeFilenameFromPath=function(e){var t=e.substring(0,e.lastIndexOf("/"));return""===t?"/":t},t.roughTokensEstimation=function(e){return Math.ceil(e.length/4)},t.isFileSummaryCompatible=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pageCount:null};if(!e||!e.mime)return!1;var n=(0,c.default)("drive.summary");if(!n||!Array.isArray(n.types)||0===n.types.length)return!1;var r=e.mime.toLowerCase();return!!n.types.some(function(e){var t=e.toLowerCase();if(t.endsWith("/*")){var n=t.slice(0,-2);return r.startsWith(n+"/")}return r===t})&&(!n.pageLimit||null===t.pageCount||void 0===t.pageCount||t.pageCount>0&&t.pageCount<=n.pageLimit)}},68722:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(92207)),i=r(n(16193)),o=r(n(79092)),c=r(n(82274)),s=r(n(65044)),u=r(n(41972)),l=r(n(56994)),d=r(n(65611)),f=r(n(18337)),p=r(n(26396)),h=r(n(5556)),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),v=r(n(39062)),y=r(n(29966)),g=n(94613);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,p.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x="LOADING",O="LOADED",_="FAILED";t.default=function(e){var t;return t=function(t){(0,l.default)(b,t);var n,r,h=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,f.default)(b);return e=n?Reflect.construct(t,arguments,(0,f.default)(this).constructor):t.apply(this,arguments),(0,d.default)(this,e)});function b(){var e;(0,c.default)(this,b);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=h.call.apply(h,[this].concat(n)),(0,p.default)((0,u.default)(e),"state",{status:x,downloadUrl:null}),(0,p.default)((0,u.default)(e),"reset",function(){e.clearTimeout(),e.setState({status:x,downloadUrl:null})}),e}return(0,s.default)(b,[{key:"UNSAFE_componentWillMount",value:function(){this.loadDownloadUrl()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(e.file.id!==this.props.file.id||e.url!==this.props.url)&&this.reset()}},{key:"componentDidUpdate",value:function(){this.state.status!==x||this.timeout||this.loadDownloadUrl()}},{key:"loadDownloadUrl",value:(r=(0,o.default)(a.default.mark(function e(){var t,n,r,i,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this.props).file,r=t.url,this.timeout=setTimeout(function(){return o.setState(function(e){return k(k({},e),{},{status:_})})},6e3),e.prev=2,!(0,g.isFileEncrypted)(n)){e.next=6;break}return r&&(this.clearTimeout(),this.setState({downloadUrl:r,status:O})),e.abrupt("return");case 6:return e.next=8,this.getDownloadLink(n);case 8:i=e.sent,this.clearTimeout(),this.setState({downloadUrl:i,status:O}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.clearTimeout(),this.setState(function(e){return k(k({},e),{},{status:_})});case 17:case"end":return e.stop()}},e,this,[[2,13]])})),function(){return r.apply(this,arguments)})},{key:"getDownloadLink",value:function(e){return this.context.client.collection("io.cozy.files",{driveId:e.driveId}).getDownloadLinkById(e._id,e.name)}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearTimeout(this.timeout),this.timeout=null})},{key:"render",value:function(){return this.state.status===x?m.default.createElement(y.default,null):this.state.status===_?m.default.createElement(v.default,{onReload:this.reset}):m.default.createElement(e,(0,i.default)({},this.props,{url:this.state.downloadUrl}))}}]),b}(m.Component),(0,p.default)(t,"contextTypes",{client:h.default.object.isRequired}),t}},38668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withViewerLocales=void 0;var r=n(76819),a=n(188);t.withViewerLocales=(0,r.withLocales)(a.locales)},32148:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26396)),i=r(n(39892)),o=n(42895),c=n(75584),s=["data"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=function(e){var t=(0,o.getReferencedBy)(e,"io.cozy.contacts").map(function(e){return e.id}),n=t.length>0,r=(0,c.buildContactByIdsQuery)(t),a=(0,o.useQuery)(r.definition,l(l({},r.options),{},{enabled:n})),u=a.data,d=(0,i.default)(a,s);return{contacts:u,isLoadingContacts:n&&((0,o.isQueryLoading)(d)||d.hasMore)}}},77608:function(e,t,n){"use strict";var r=n(95709);t.default=void 0;var a=r(n(68325));r(n(45572)),n(7562),r(n(73077)),r(n(8588)),r(n(42623)),r(n(66138)),r(n(69310)),t.default=a.default},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=t.getViewerI18n=void 0;var r=n(76819),a={en:{Viewer:{actions:{download:"Download",forward:"Send"},alert:{preparing:"Preparing your filesâ€¦"},close:"close",cancel:"Cancel",ok:"Ok",download:"Download",complete:"Complete the document",noImage:"No image",error:{downloadFile:{offline:"You should be connected to download this file"},generic:"An error occurred when opening this file, please try again.",missing:"This file is missing",network:"This file could not be loaded. Do you have a working internet connection right now?"},goto:"Go to %{url}",next:"Next",openWith:"Open with...",openInOnlyOffice:"Open with Only Office",panel:{summary:"Summary",sharing:"Who has access?",informations:{format:{title:"%{format} Document",subtitle:"Format"},size:"Size",location:"Location",creation:"Creation",modification:"Last modification"},certifications:{carbonCopy:{title:"Carbon Copy",caption:'Indicates whether the document is defined as "authentic and original" by Twake Workplace, the host of your Twake, as it can claim that it comes directly from a third-party service, without having undergone any modification.'},electronicSafe:{title:"Electronic Safe",caption:"Indicates whether the original document is secured by your personal digital safe with the certifications that give it probative value and a 50-year retention guarantee beyond its deposit."}},qualification:{empty:{primary:"Document type",secondary:"Bills, contract, identity card..."},actions:{copy:"Copy",copyClipboard:"Copy to clipboard",edit:"Edit"}},expiration:{dismiss:"I understood"},title:"Useful information"},previous:"Previous",retry:"Retry",scaledown:"Zoom out",scaleup:"Zoom in",share:{title:"Link to my document %{name}",text:"Here is a link to my document %{name}: ",error:"Problem with link recovery: %{error}",success:"Your file has been shared with success"},snackbar:{copiedToClipboard:{success:"Copied to clipboard",error:"Cannot copy to clipboard"}},summariseWithAi:"Summarise",ai:{panelTitle:"AI Assistant",bodyText:"Summary",error:{summary:"Failed to generate summary. Please try again.",documentTooLarge:"This document is too large to summarize. Please try with a shorter document."},copied:"Summary copied to clipboard",footerText:"This content is generated by AI and may contain errors.",stop:"Stop",loadingText:"Summarizing content"}}},fr:{Viewer:{actions:{download:"T\xe9l\xe9charger",forward:"Envoyer"},alert:{preparing:"Preparation de vos fichiersâ€¦"},close:"Fermer",cancel:"Annuler",ok:"Ok",download:"T\xe9l\xe9charger",complete:"Compl\xe9ter le document",noImage:"Aucune image",error:{downloadFile:{offline:"Vous devez \xeatre connect\xe9 pour t\xe9l\xe9charger ce fichier"},generic:"Une erreur s'est produite lors de l'ouverture de ce fichier, veuillez r\xe9essayer.",missing:"Le fichier est manquant",network:"Ce fichier n'a pas pu \xeatre charg\xe9. Avez-vous une connexion internet qui fonctionne actuellement ?"},goto:"Ouvrir %{url}",next:"Suivante",openWith:"Ouvrir avec...",openInOnlyOffice:"Ouvrir avec Only Office",panel:{summary:"R\xe9sum\xe9",sharing:"Qui a acc\xe8s ?",informations:{format:{title:"Document %{format}",subtitle:"Format"},size:"Taille",location:"Emplacement",creation:"Cr\xe9ation",modification:"Derni\xe8re modification"},certifications:{carbonCopy:{title:"Copie conforme",caption:"Le document est d\xe9fini \"authentique et original\" par Twake Workplace, l'h\xe9bergeur de votre Twake, car il peut affirmer qu'il provient directement des services de son \xe9metteur sans avoir subi aucune modification."},electronicSafe:{title:"Coffre-fort \xe9lectronique",caption:"Indique si le document original est s\xe9curis\xe9 par votre coffre-fort num\xe9rique personnel avec les certifications qui lui conf\xe8rent une valeur probante et une garantie de conservation de 50 ans au-del\xe0 de son d\xe9p\xf4t."}},qualification:{empty:{primary:"Type de document",secondary:"Facture, contrat, carte d'identit\xe9..."},actions:{copy:"Copier",copyClipboard:"Copier dans le presse-papier",edit:"Modifier"}},expiration:{dismiss:"J'ai compris"},title:"Informations utiles"},previous:"Pr\xe9c\xe9dente",retry:"R\xe9essayer",scaledown:"Zoom arri\xe8re",scaleup:"Zoom avant",share:{title:"Lien vers mon document %{name}",text:"Voici un lien vers mon document %{name} : ",error:"Probl\xe8me avec la r\xe9cup\xe9ration du lien : %{error}",success:"Votre fichier a \xe9t\xe9 partag\xe9 avec succ\xe8s"},snackbar:{copiedToClipboard:{success:"Copi\xe9 dans le presse-papier",error:"Impossible de copier dans le presse-papier"}},summariseWithAi:"R\xe9sumer",ai:{panelTitle:"Assistant AI",bodyText:"R\xe9sum\xe9",error:{summary:"\xc9chec de la g\xe9n\xe9ration du r\xe9sum\xe9. Veuillez r\xe9essayer.",documentTooLarge:"Ce document est trop volumineux pour \xeatre r\xe9sum\xe9. Veuillez essayer avec un document plus court."},copied:"R\xe9sum\xe9 copi\xe9 dans le presse-papier",footerText:"Ce contenu est g\xe9n\xe9r\xe9 par AI et peut contenir des erreurs.",stop:"Arr\xeater",loadingText:"R\xe9sum\xe9 en cours"}}},ru:{Viewer:{actions:{download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",forward:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ"},alert:{preparing:"ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²â€¦"},close:"Ð·Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",ok:"Ok",download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",complete:"Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚",noImage:"ÐÐµÑ‚ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ",error:{downloadFile:{offline:"Ð”Ð»Ñ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ñƒ"},generic:"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ð¸ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",missing:"Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð» Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚",network:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð». Ð£ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐµ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ?"},goto:"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº %{url}",next:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹",openWith:"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ...",openInOnlyOffice:"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Only Office",panel:{summary:"Ð¡Ð²Ð¾Ð´ÐºÐ°",sharing:"Ð£ ÐºÐ¾Ð³Ð¾ ÐµÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿?",informations:{format:{title:"Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{format}",subtitle:"Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚"},size:"Ð Ð°Ð·Ð¼ÐµÑ€",location:"Ð Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",creation:"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ",modification:"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ"},certifications:{carbonCopy:{title:"ÐšÐ¾Ð¿Ð¸Ñ",caption:"Ð£ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ Ð»Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ \xabÐ°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð¸ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼\xbb ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Twake Workplace. ÐœÑ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð¸Ð» Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð¾Ñ‚ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½ÐµÐ³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ° Ð±ÐµÐ· ÐºÐ°ÐºÐ¸Ñ…-Ð»Ð¸Ð±Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹."},electronicSafe:{title:"Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÑÐµÐ¹Ñ„",caption:"Ð£ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½ Ð»Ð¸ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð²Ð°ÑˆÐ¸Ð¼ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ñ‹Ð¼ ÑÐµÐ¹Ñ„Ð¾Ð¼ Ñ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°Ð¼Ð¸, Ð¿Ñ€Ð¸Ð´Ð°ÑŽÑ‰Ð¸Ð¼Ð¸ ÐµÐ¼Ñƒ Ð´Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ ÑÐ¸Ð»Ñƒ Ð¸ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸ÑŽ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 50 Ð»ÐµÑ‚ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ð¼ÐµÑ‰ÐµÐ½Ð¸Ñ."}},qualification:{empty:{primary:"Ð¢Ð¸Ð¿ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°",secondary:"Ð¡Ñ‡ÐµÑ‚Ð°, Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€, ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÐµÐ½Ð¸Ðµ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸..."},actions:{copy:"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",copyClipboard:"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°",edit:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"}},expiration:{dismiss:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},title:"ÐŸÐ¾Ð»ÐµÐ·Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ"},previous:"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹",retry:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ",scaledown:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚ÑŒ",scaleup:"Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ",share:{title:"Ð¡ÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¼Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}",text:"Ð’Ð¾Ñ‚ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¼Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}: ",error:"ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸ÐµÐ¼ ÑÑÑ‹Ð»ÐºÐ¸: %{error}",success:"Ð’Ð°Ñˆ Ñ„Ð°Ð¹Ð» ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½"},snackbar:{copiedToClipboard:{success:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°",error:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°"}},summariseWithAi:"Ð ÐµÐ·ÑŽÐ¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",ai:{panelTitle:"AI-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚",bodyText:"Ð ÐµÐ·ÑŽÐ¼Ðµ",error:{summary:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑŽÐ¼Ðµ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",documentTooLarge:"Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð´Ð»Ñ Ñ€ÐµÐ·ÑŽÐ¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð¼."},copied:"Ð ÐµÐ·ÑŽÐ¼Ðµ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°",footerText:"Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½ AI Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.",stop:"ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",loadingText:"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑŽÐ¼Ðµ"}}},vi:{Viewer:{actions:{download:"Táº£i xuá»‘ng",forward:"Gá»­i"},alert:{preparing:"Äang chuáº©n bá»‹ tá»‡p cá»§a báº¡nâ€¦"},close:"Ä‘\xf3ng",cancel:"Há»§y",ok:"Ok",download:"Táº£i xuá»‘ng",complete:"Ho\xe0n th\xe0nh t\xe0i liá»‡u",noImage:"Kh\xf4ng c\xf3 h\xecnh áº£nh",error:{downloadFile:{offline:"Báº¡n cáº§n pháº£i káº¿t ná»‘i Ä‘á»ƒ táº£i tá»‡p n\xe0y"},generic:"Ä\xe3 xáº£y ra lá»—i khi má»Ÿ tá»‡p n\xe0y, vui l\xf2ng thá»­ láº¡i.",missing:"Tá»‡p n\xe0y bá»‹ thiáº¿u",network:"Kh\xf4ng thá»ƒ táº£i tá»‡p n\xe0y. Báº¡n c\xf3 káº¿t ná»‘i internet hoáº¡t Ä‘á»™ng kh\xf4ng?"},goto:"Truy cáº­p %{url}",next:"Tiáº¿p theo",openWith:"Má»Ÿ báº±ng...",openInOnlyOffice:"Má»Ÿ báº±ng Only Office",panel:{summary:"T\xf3m táº¯t",sharing:"Ai c\xf3 quyá»n truy cáº­p?",informations:{format:{title:"T\xe0i liá»‡u %{format}",subtitle:"Äá»‹nh dáº¡ng"},size:"K\xedch thÆ°á»›c",location:"Vá»‹ tr\xed",creation:"Ng\xe0y táº¡o",modification:"Láº§n sá»­a Ä‘á»•i cuá»‘i c\xf9ng"},certifications:{carbonCopy:{title:"Báº£n sao",caption:'Cho biáº¿t liá»‡u t\xe0i liá»‡u c\xf3 Ä‘Æ°á»£c Twake Workplace, m\xe1y chá»§ cá»§a Twake, Ä‘á»‹nh nghÄ©a l\xe0 "ch\xednh x\xe1c v\xe0 nguy\xean báº£n" hay kh\xf4ng, v\xec n\xf3 c\xf3 thá»ƒ kháº³ng Ä‘á»‹nh ráº±ng n\xf3 Ä‘áº¿n trá»±c tiáº¿p tá»« dá»‹ch vá»¥ cá»§a b\xean thá»© ba, m\xe0 kh\xf4ng tráº£i qua báº¥t ká»³ sá»­a Ä‘á»•i n\xe0o.'},electronicSafe:{title:"Kho Ä‘iá»‡n tá»­ an to\xe0n",caption:"Cho biáº¿t liá»‡u t\xe0i liá»‡u gá»‘c c\xf3 Ä‘Æ°á»£c báº£o máº­t bá»Ÿi kho ká»¹ thuáº­t sá»‘ c\xe1 nh\xe2n cá»§a báº¡n vá»›i c\xe1c chá»©ng nháº­n mang láº¡i gi\xe1 trá»‹ chá»©ng cá»© v\xe0 Ä‘áº£m báº£o lÆ°u giá»¯ 50 nÄƒm sau khi gá»­i hay kh\xf4ng."}},qualification:{empty:{primary:"Loáº¡i t\xe0i liá»‡u",secondary:"H\xf3a Ä‘Æ¡n, há»£p Ä‘á»“ng, tháº» cÄƒn cÆ°á»›c..."},actions:{copy:"Sao ch\xe9p",copyClipboard:"Sao ch\xe9p v\xe0o khay nhá»› táº¡m",edit:"Chá»‰nh sá»­a"}},expiration:{dismiss:"T\xf4i Ä‘\xe3 hiá»ƒu"},title:"Th\xf4ng tin há»¯u \xedch"},previous:"TrÆ°á»›c Ä‘\xf3",retry:"Thá»­ láº¡i",scaledown:"Thu nhá»",scaleup:"Ph\xf3ng to",share:{title:"Li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u cá»§a t\xf4i %{name}",text:"Ä\xe2y l\xe0 li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u cá»§a t\xf4i %{name}: ",error:"Sá»± cá»‘ vá»›i kh\xf4i phá»¥c li\xean káº¿t: %{error}",success:"Tá»‡p cá»§a báº¡n Ä‘\xe3 Ä‘Æ°á»£c chia sáº» th\xe0nh c\xf4ng"},snackbar:{copiedToClipboard:{success:"Ä\xe3 sao ch\xe9p v\xe0o khay nhá»› táº¡m",error:"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m"}},summariseWithAi:"T\xf3m táº¯t",ai:{panelTitle:"Trá»£ l\xfd AI",bodyText:"T\xf3m táº¯t",error:{summary:"Kh\xf4ng thá»ƒ táº¡o t\xf3m táº¯t. Vui l\xf2ng thá»­ láº¡i.",documentTooLarge:"T\xe0i liá»‡u n\xe0y qu\xe1 lá»›n Ä‘á»ƒ t\xf3m táº¯t. Vui l\xf2ng thá»­ vá»›i t\xe0i liá»‡u ngáº¯n hÆ¡n."},copied:"Ä\xe3 sao ch\xe9p t\xf3m táº¯t v\xe0o khay nhá»› táº¡m",footerText:"Ná»™i dung n\xe0y Ä‘Æ°á»£c táº¡o bá»Ÿi AI v\xe0 c\xf3 thá»ƒ chá»©a lá»—i.",stop:"Dá»«ng",loadingText:"Äang t\xf3m táº¯t ná»™i dung"}}}};t.locales=a,t.getViewerI18n=function(){return(0,r.getI18n)(void 0,function(e){return a[e]})}},7562:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.toolbarPropsPropType=void 0;var a=r(n(5556));t.toolbarPropsPropType={showToolbar:a.default.bool,showClose:a.default.bool,toolbarRef:a.default.object,showFilePath:a.default.bool}},25552:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useShareModal=t.default=t.ShareModalContext=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540)),o=n(31398),c=n(1522);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=i.default.createContext();t.ShareModalContext=u,t.useShareModal=function(){var e=(0,i.useContext)(u);if(!e)throw Error("useShareModal must be used within a ShareModalProvider");return e},t.default=i.default.memo(function(e){var t=e.children,n=(0,c.useViewer)().file,r=(0,i.useState)(!1),s=(0,a.default)(r,2),l=s[0],d=s[1],f=(0,i.useMemo)(function(){return{setShowShareModal:d}},[]);return i.default.createElement(u.Provider,{value:f},t,l&&i.default.createElement(o.ShareModal,{document:n,documentType:"Files",sharingDesc:n.name,onClose:function(){return d(!1)}}))})},1522:function(e,t,n){"use strict";var r=n(95709);Object.defineProperty(t,"__esModule",{value:!0}),t.useViewer=t.default=t.ViewerContext=void 0;var a=r(n(22056)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(96540));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var c=i.default.createContext();t.ViewerContext=c,t.useViewer=function(){var e=(0,i.useContext)(c);if(!e)throw Error("useViewer must be used within a ViewerProvider");return e},t.default=i.default.memo(function(e){var t=e.file,n=e.isPublic,r=e.isReadOnly,o=e.componentsProps,s=e.children,u=(0,i.useState)(!1),l=(0,a.default)(u,2),d=l[0],f=l[1],p=(0,i.useState)(null),h=(0,a.default)(p,2),m=h[0],v=h[1];return i.default.createElement(c.Provider,{value:{file:t,isPublic:n,componentsProps:o,isReadOnly:r,isOpenAiAssistant:d,setIsOpenAiAssistant:f,pdfPageCount:m,setPdfPageCount:v}},s)})},75584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFileByIdQuery=t.buildContactByIdsQuery=void 0;var r=n(42895),a=r.fetchPolicies.olderThan(3e4);t.buildContactByIdsQuery=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{definition:function(){return(0,r.Q)("io.cozy.contacts").getByIds(e)},options:{as:"io.cozy.contacts/".concat(e.join("")),fetchPolicy:a}}},t.buildFileByIdQuery=function(e){return{definition:function(){return(0,r.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),fetchPolicy:a,singleDocData:!0}}}},91347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(74848);n(96540);let a=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:128,height:128,fill:"none",viewBox:"0 0 128 128",...e,children:[(0,r.jsx)("path",{fill:"#B3D3FF",d:"M0 4a4 4 0 0 1 4-4h25.333a2.667 2.667 0 1 1 0 5.333h-24v24a2.667 2.667 0 1 1-5.333 0zM0 124a4 4 0 0 0 4 4h25.333a2.667 2.667 0 0 0 0-5.333h-24v-24a2.667 2.667 0 1 0-5.333 0zM124 0a4 4 0 0 1 4 4v25.333a2.667 2.667 0 0 1-5.333 0v-24h-24a2.667 2.667 0 1 1 0-5.333zM128 98.667V124a4 4 0 0 1-4 4H98.667a2.667 2.667 0 0 1 0-5.333h24v-24a2.667 2.667 0 1 1 5.333 0M30.088 89.146c-.579 2.734-1.012 5.325-.579 7.772.723 4.318 4.192 6.045 8.528 7.052 1.88.432 4.047.72 5.782.864 8.672 1.007 23.27 1.439 32.087 2.302 2.746.432 5.492.576 8.094.72h3.18c1.012.144 2.023.144 3.035.144 4.914 0 6.504-3.022 7.083-7.052.144-.576.289-1.152.433-1.871v-1.008c0-.432 0-.863.145-1.151.578-2.735 1.011-5.47 1.445-8.204 0-.288.145-.72.145-1.007.867-4.318 4.191-22.885 5.637-36.845 1.011-5.182 3.758-14.825-1.879-17.847-3.325-1.727-55.503-6.189-57.67-6.333-2.747-.144-4.337.72-5.204 2.303-.723.72-1.012 1.727-1.301 3.022-1.156 3.31-8.672 50.518-8.961 57.139"}),(0,r.jsx)("path",{fill:"#297EF2",d:"M28.255 88.63c-.291 2.716-.437 5.289.146 7.719 1.166 4.144 4.955 5.574 9.328 6.002 2.04.286 4.08.286 5.83.286 8.745.143 20.696-.286 29.587-.286 2.769.143 5.538.143 8.307-.142 1.166 0 2.332 0 3.207-.143 1.02 0 2.04 0 3.06-.143 4.956-.429 6.122-3.716 6.268-7.576.145-.714.291-1.286.291-2.143 0-.286 0-.715-.146-1 0-.43 0-.858.146-1.144.292-2.716.437-5.431.583-8.29v-1c.437-4.288 1.895-23.012 1.895-37.019.437-5.002 2.186-14.864-3.79-17.294-3.498-1.43-53.49-1.143-55.821-1-2.77.142-4.227 1.143-5.102 2.715-.582.715-.874 1.858-1.02 3.145-.437 3.43-3.352 50.739-2.769 57.313"}),(0,r.jsx)("path",{fill:"#B3D3FF",d:"M27.35 89.02c.142 2.718.429 5.292 1.288 7.58 1.72 4.004 5.586 4.862 9.884 4.719 2.005 0 4.01-.286 5.729-.572 8.594-1.144 17.475-1.43 26.069-2.717a72 72 0 0 0 8.02-1.287c1.147-.286 2.15-.43 3.009-.715 1.002-.143 2.005-.286 2.864-.572 4.727-1.144 5.444-4.434 5.014-8.438v-2.002c0-.286-.144-.715-.287-.858 0-.429 0-.858-.143-1.144-.143-2.717-.286-5.434-.716-8.294 0-.286 0-.715-.143-1.001-.287-4.29-1.576-23.024-3.581-36.895-.287-5.149 0-15.16-6.16-16.732-3.58-.858-49.559 4.576-51.85 5.005-2.579.572-4.011 1.716-4.44 3.432-.574.858-.574 1.86-.574 3.29.43 3.431 4.584 50.766 6.016 57.201"}),(0,r.jsx)("path",{fill:"#297EF2",fillRule:"evenodd",d:"M35.796 40.772c5.385-.575 10.805-1.113 16.226-1.652s10.841-1.077 16.226-1.651c2.297-.287 2.01-3.877-.287-3.59-10.77 1.005-21.683 2.154-32.452 3.303-2.441.143-2.01 3.733.287 3.59m10.777 6.616c-1.413.18-3.85.489-9.629 1.138-2.297.287-2.584-3.303-.43-3.59 1.99-.257 3.573-.463 4.85-.63 3.76-.488 4.88-.634 6.005-.727.477-.04.955-.07 1.635-.113.826-.052 1.95-.123 3.736-.253 2.297-.144 2.728 3.446.43 3.59l-.53.038c-2.793.203-3.693.268-4.59.367-.425.046-.85.1-1.477.18m-3.085 7.938c3.77-.315 7.578-.633 11.262-1.2 2.298-.287 1.867-3.877-.43-3.59-3.101.477-6.29.734-9.469.99-2.563.206-5.12.412-7.62.733-2.44.144-1.866 3.877.431 3.59 1.916-.197 3.866-.36 5.826-.523m18.729 11.867c-7.898.43-9.62.574-23.693 1.866-2.297.288-2.585-3.302-.287-3.59 10.557-1.248 14.294-1.42 19.298-1.65h.002c1.325-.06 2.74-.126 4.393-.216 2.297-.144 2.584 3.446.287 3.59m-20.78 13.915-1.19.157c-2.297.287-1.867 3.877.431 3.59 8.503-.868 10.348-1.107 12.472-1.381 1.391-.18 2.902-.376 6.482-.773 2.298-.287 2.01-3.877-.43-3.59-8.828.815-11.105 1.116-17.765 1.996m-2.626-7.597c10.77-1.149 21.683-2.298 32.452-3.303 2.298-.287 2.728 3.303.287 3.59-5.384.574-10.805 1.113-16.226 1.651-5.42.539-10.84 1.077-16.226 1.652-2.297.287-2.584-3.303-.287-3.59",clipRule:"evenodd"})]})},16920:function(e){"use strict";e.exports=["apps","context"]},44513:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Show menu drawer","profile":"Profile","appearance":"Appearance","plans":"Plans","permissions":"Permissions","connectedDevices":"Connected devices","connections":"Connections","storage":"Storage","storage_phrase":"%{diskUsage} GB of %{diskQuota} GB used","help":"FAQ","contact":"Contact us","logout":"Log out","soon":"soon","termsOfService":"Terms of Service","legalNotice":"Legal notice","error_UnavailableStack":"The stack is unreachable (connection timed-out).","error_UnauthorizedStack":"Some permissions are missing, the application can\'t access the requested resource on the stack.","no_apps":"No applications found on the Cozy.","menu":{"apps":"Apps","settings":"Settings","home_mobile":"Back to dashboard...","home":"Back to dashboard","home_title":"Home"},"Categories":{"cozy":"Cozy apps","partners":"Partners apps","ptnb":"expPTNB","others":"Other apps"},"permsModal":{"title":"Access your whole Cozy from your application","description":"Authorize %{app} to display your Cozy applications on this device","button":"Authorize access"},"comingSoon":{"store":{"title":"The Store application will be available soon in your Cozy.","description":"Thanks to Cozy Store you will be able to install the applications that you want in your Cozy."}},"banner":{"tos-updated":{"description":"To comply with the GDPR, Cozy Cloud has updated its Terms of Services that have taken effect on May 25, 2018","CTA":"Read now"},"moved":{"description":"The Cozy has been moved to a new address"}},"userMenu":{"addAccount":"Add account","manageProfile":"Manage profile","createBusinessAccount":"Create business account","storage":"Storage","storageAvailable":"%{smart_count} GB available","logOut":"Log out"}}')},75522:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Mostrar el menu lateral","profile":"Perfil","connectedDevices":"Aparatos conectados","storage":"Espacio en el disco","storage_phrase":"%{diskUsage} Go de %{diskQuota} Go","view_offers":"Ver ofertas","view_my_offer":"Mi oferta","help":"Ayuda","logout":"Desconectar","soon":"pronto","error_UnavailableStack":"Conexi\xf3n a la stack imposible ( se agot\xf3 el tiempo para la conexi\xf3n ).","error_UnauthorizedStack":"Faltan algunos permisos, la aplicaci\xf3n no puede acceder a los recursos solicitados.","no_apps":"No se han encontrado aplicaciones en su Cozy.","menu":{"apps":"Aplicaciones","settings":"Par\xe1metros","home_mobile":"Regresar a Inicio...","home":"Regresar a Inicio","home_title":"Inicio"},"Categories":{"cozy":"Aplicaciones Cozy","partners":"Aplicaciones de asociados","ptnb":"expPTNB","others":"Otras aplicaciones"},"permsModal":{"title":"Acceder a su Cozy desde su aplicaci\xf3n","description":"Autorizar a %{app} para mostrar sus aplicaciones Cozy en este aparato","button":"Autorizar el acceso"},"comingSoon":{"store":{"title":"En breve, la aplicaci\xf3n Store estar\xe1 disponible en su Cozy","description":"Gracias a Cozy Store usted podr\xe1 instalar en su Cozy las aplicaciones que desee."}},"banner":{"tos-updated":{"description":"Para cumplir con el RGPD, Cozy Cloud ha actualizado sus Condiciones de utilizaci\xf3n que entraron en vigor desde el 25 de mayo de 2018.","CTA":"Leerlo ahora"}}}')},46522:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Afficher le menu lat\xe9ral","profile":"Profil","appearance":"Apparence","plans":"Offres et options","permissions":"Permissions","connectedDevices":"Appareils connect\xe9s","connections":"Connexions","storage":"Stockage","storage_phrase":"%{diskUsage} Go sur %{diskQuota} Go","help":"Manuel d\'utilisation","contact":"Nous contacter","logout":"D\xe9connexion","soon":"\xe0 venir","termsOfService":"Conditions g\xe9n\xe9rales dâ€™utilisation","legalNotice":"Mentions l\xe9gales","error_UnavailableStack":"Connexion \xe0 la stack impossible (connection timed-out)","error_UnauthorizedStack":"Des permissions sont manquante, l\'application ne peut acc\xe9der aux ressources demand\xe9es.","no_apps":"Pas d\'applications Cozy trouv\xe9es.","menu":{"apps":"Applications","settings":"Param\xe8tres","home_mobile":"Retour vers le tableau de bord...","home":"Retour vers le tableau de bord","home_title":"Accueil "},"Categories":{"cozy":"Apps Cozy","partners":"Exp\xe9rimentation MesInfos","ptnb":"Exp\xe9rimentation Carnet du logement","others":"Autres apps"},"permsModal":{"title":"Acc\xe9der \xe0 ton Cozy \xe0 partir de ton application","description":"Autoriser %{app} \xe0 afficher les applications de ton Cozy sur cet appareil","button":"Autoriser l\'acc\xe8s"},"comingSoon":{"store":{"title":"L\'application Store sera bient\xf4t disponible dans votre Cozy","description":"Gr\xe2ce \xe0 cozy Store vous pourrez installer les applications que vous souhaitez sur votre Cozy."}},"banner":{"tos-updated":{"description":"Dans le cadre du RGPD, Cozy Cloud met \xe0 jour ses Conditions G\xe9n\xe9rales d\'Utilisation qui ont pris effet le 25 Mai 2018","CTA":"Lire maintenant"},"moved":{"description":"Ce Cozy a \xe9t\xe9 d\xe9plac\xe9 vers une nouvelle adresse"}},"userMenu":{"addAccount":"Ajouter un compte","manageProfile":"G\xe9rer mon profil","createBusinessAccount":"Cr\xe9er un compte entreprise","storage":"Stockage","storageAvailable":"%{smart_count} Go disponible","logOut":"Se d\xe9connecter"}}')},39811:function(e){"use strict";e.exports=JSON.parse('{"drawer":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¼ÐµÐ½ÑŽ","profile":"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ","appearance":"Ð’Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð²Ð¸Ð´","plans":"Ð¢Ð°Ñ€Ð¸Ñ„Ñ‹","permissions":"Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ","connectedDevices":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ðµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°","connections":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","storage":"Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ","storage_phrase":"Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¾ %{diskUsage} Ð“Ð‘ Ð¸Ð· %{diskQuota} Ð“Ð‘","help":"Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹","contact":"Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð½Ð°Ð¼Ð¸","logout":"Ð’Ñ‹Ð¹Ñ‚Ð¸","soon":"ÑÐºÐ¾Ñ€Ð¾","termsOfService":"Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ","legalNotice":"Ð®Ñ€Ð¸Ð´Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ","error_UnavailableStack":"Ð¡Ñ‚ÐµÐº Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ (Ð¸ÑÑ‚ÐµÐºÐ»Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ).","error_UnauthorizedStack":"ÐÐµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹, Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼Ð¾Ð¼Ñƒ Ñ€ÐµÑÑƒÑ€ÑÑƒ Ð² ÑÑ‚ÐµÐºÐµ.","no_apps":"Ð’ Ð²Ð°ÑˆÐµÐ¼ Cozy Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹.","menu":{"apps":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ","settings":"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸","home_mobile":"ÐÐ°Ð·Ð°Ð´ Ð² Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ...","home":"ÐÐ°Ð·Ð°Ð´ Ð² Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ","home_title":"Ð“Ð»Ð°Ð²Ð½Ð°Ñ"},"Categories":{"cozy":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Cozy","partners":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð¾Ð²","ptnb":"expPTNB","others":"Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},"permsModal":{"title":"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼Ñƒ Cozy Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ","description":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ %{app} Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Cozy Ð½Ð° ÑÑ‚Ð¾Ð¼ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ","button":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿"},"comingSoon":{"store":{"title":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÐœÐ°Ð³Ð°Ð·Ð¸Ð½ ÑÐºÐ¾Ñ€Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð² Ð²Ð°ÑˆÐµÐ¼ Cozy.","description":"Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ Cozy Store Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ Ð² ÑÐ²Ð¾Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð½ÑƒÐ¶Ð½Ñ‹Ðµ Ð²Ð°Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ."}},"banner":{"tos-updated":{"description":"Ð”Ð»Ñ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ GDPR, Cozy Cloud Ð¾Ð±Ð½Ð¾Ð²Ð¸Ð» ÑÐ²Ð¾Ð¸ Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²ÑÑ‚ÑƒÐ¿Ð¸Ð»Ð¸ Ð² ÑÐ¸Ð»Ñƒ 25 Ð¼Ð°Ñ 2018 Ð³Ð¾Ð´Ð°.","CTA":"ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÐµÐ¹Ñ‡Ð°Ñ"},"moved":{"description":"Cozy Ð±Ñ‹Ð» Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½ Ð½Ð° Ð½Ð¾Ð²Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ"}},"userMenu":{"addAccount":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚","manageProfile":"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¼","createBusinessAccount":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð¸Ð·Ð½ÐµÑ-Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚","storage":"Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ","storageAvailable":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ %{smart_count} Ð“Ð‘","logOut":"Ð’Ñ‹Ð¹Ñ‚Ð¸"}}')},81523:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Hiá»ƒn thá»‹ ngÄƒn k\xe9o menu","profile":"Há»“ sÆ¡","appearance":"Giao diá»‡n","plans":"G\xf3i dá»‹ch vá»¥","permissions":"Quyá»n","connectedDevices":"Thiáº¿t bá»‹ Ä‘\xe3 káº¿t ná»‘i","connections":"Káº¿t ná»‘i","storage":"LÆ°u trá»¯","storage_phrase":"Ä\xe3 sá»­ dá»¥ng %{diskUsage} GB tr\xean tá»•ng sá»‘ %{diskQuota} GB","help":"C\xe2u há»i thÆ°á»ng gáº·p","contact":"Li\xean há»‡ vá»›i ch\xfang t\xf4i","logout":"ÄÄƒng xuáº¥t","soon":"sáº¯p ra máº¯t","termsOfService":"Äiá»u khoáº£n dá»‹ch vá»¥","legalNotice":"Th\xf4ng b\xe1o ph\xe1p l\xfd","error_UnavailableStack":"NgÄƒn xáº¿p kh\xf4ng thá»ƒ truy cáº­p (háº¿t thá»i gian chá» káº¿t ná»‘i).","error_UnauthorizedStack":"Thiáº¿u má»™t sá»‘ quyá»n, á»©ng dá»¥ng kh\xf4ng thá»ƒ truy cáº­p t\xe0i nguy\xean Ä‘Æ°á»£c y\xeau cáº§u tr\xean ngÄƒn xáº¿p.","no_apps":"Kh\xf4ng t\xecm tháº¥y á»©ng dá»¥ng n\xe0o tr\xean Cozy.","menu":{"apps":"á»¨ng dá»¥ng","settings":"C\xe0i Ä‘áº·t","home_mobile":"Quay láº¡i trang tá»•ng quan...","home":"Quay láº¡i trang tá»•ng quan","home_title":"Trang chá»§"},"Categories":{"cozy":"á»¨ng dá»¥ng Cozy","partners":"á»¨ng dá»¥ng cá»§a Ä‘á»‘i t\xe1c","ptnb":"expPTNB","others":"á»¨ng dá»¥ng kh\xe1c"},"permsModal":{"title":"Truy cáº­p to\xe0n bá»™ Cozy cá»§a báº¡n tá»« á»©ng dá»¥ng","description":"Cho ph\xe9p %{app} hiá»ƒn thá»‹ c\xe1c á»©ng dá»¥ng Cozy cá»§a báº¡n tr\xean thiáº¿t bá»‹ n\xe0y","button":"Cho ph\xe9p truy cáº­p"},"comingSoon":{"store":{"title":"á»¨ng dá»¥ng Cá»­a h\xe0ng sáº½ sá»›m c\xf3 tr\xean Cozy cá»§a báº¡n.","description":"Nhá» Cozy Store, báº¡n sáº½ c\xf3 thá»ƒ c\xe0i Ä‘áº·t c\xe1c á»©ng dá»¥ng m\xe0 báº¡n muá»‘n trong Cozy cá»§a m\xecnh."}},"banner":{"tos-updated":{"description":"Äá»ƒ tu\xe2n thá»§ GDPR, Cozy Cloud Ä‘\xe3 cáº­p nháº­t Äiá»u khoáº£n dá»‹ch vá»¥ c\xf3 hiá»‡u lá»±c tá»« ng\xe0y 25 th\xe1ng 5 nÄƒm 2018","CTA":"Äá»c ngay"},"moved":{"description":"Cozy Ä‘\xe3 Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n má»™t Ä‘á»‹a chá»‰ má»›i"}},"userMenu":{"addAccount":"Th\xeam t\xe0i khoáº£n","manageProfile":"Quáº£n l\xfd há»“ sÆ¡","createBusinessAccount":"Táº¡o t\xe0i khoáº£n doanh nghiá»‡p","storage":"LÆ°u trá»¯","storageAvailable":"C\xf2n trá»‘ng %{smart_count} GB","logOut":"ÄÄƒng xuáº¥t"}}')},81722:function(e){"use strict";e.exports=JSON.parse('{"qualifications":[{"label":"identity_photo","purpose":"attestation","subjects":["identity"]},{"label":"national_id_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"passport","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"residence_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"immigration","subjects":["permit","identity"]},{"label":"family_record_book","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"birth_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity","family"]},{"label":"driver_license","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["permit","driving"]},{"label":"other_identity_document","purpose":"attestation","subjects":["identity"]},{"label":"wedding","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"pacs","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"divorce","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"large_family_card","purpose":"attestation","sourceCategory":"transport","subjects":["right"]},{"label":"caf","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["right"]},{"label":"other_family_document","subjects":["family"]},{"label":"diploma","purpose":"attestation","sourceCategory":"education","subjects":["achievement"]},{"label":"work_contract","purpose":"contract","sourceCategory":"employer","subjects":["work","employment"]},{"label":"pay_sheet","purpose":"attestation","sourceCategory":"employer","subjects":["work","revenues"]},{"label":"fidelity_card","sourceCategory":"shopping"},{"label":"single_parent_benefit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["revenues"]},{"label":"transport_card","sourceCategory":"transport","subjects":["vehicule"]},{"label":"electoral_card","sourceCategory":"gov"},{"label":"employment_center_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["employment"]},{"label":"unemployment_benefit","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"pension","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"other_revenue","purpose":"attestation","subjects":["revenues"]},{"label":"gradebook","purpose":"report","sourceCategory":"education","subjects":["history"]},{"label":"student_card","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","employment","education"]},{"label":"resume","purpose":"description","subjects":["employment"]},{"label":"motivation_letter","purpose":"description","subjects":["employment"]},{"label":"other_work_document","purpose":"employment"},{"label":"health_book","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"health_certificate","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"pregnancy_medical_certificate","purpose":"attestation","sourceCategory":"health","subjects":["pregnancy"]},{"label":"work_disability_recognition","purpose":"attestation","sourceCategory":"health","subjects":["right"]},{"label":"national_health_insurance_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["insurance"]},{"label":"national_health_insurance_right_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["right","insurance"]},{"label":"health_insurance_card","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"health","subjects":["insurance"]},{"label":"prescription","purpose":"attestation","sourceCategory":"health","subjects":["right","medecine"]},{"label":"health_invoice","purpose":"invoice","sourceCategory":"health"},{"label":"other_health_document","subjects":["health"]},{"label":"vehicle_registration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["vehicule","identity","right"]},{"label":"car_insurance","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"transport","subjects":["insurance","car"]},{"label":"mechanic_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"transport_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"other_transport_document","sourceCategory":"transport"},{"label":"house_sale_agreeement","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"real_estate_tax","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["tax","house"]},{"label":"building_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["permit","house"]},{"label":"technical_diagnostic_record","purpose":"report","sourceCategory":"real_estate","subjects":["compliance","house"]},{"label":"lease","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"rent_receipt","purpose":"invoice","sourceCategory":"real_estate","subjects":["house"]},{"label":"house_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance","house"]},{"label":"work_quote","purpose":"description","sourceCategory":"building","subjects":["building","house"]},{"label":"work_invoice","purpose":"invoice","sourceCategory":"building","subjects":["building","house"]},{"label":"other_house_document","subjects":["house"]},{"label":"phone_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"mobile"},{"label":"isp_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"internet","subjects":["subscription"]},{"label":"telecom_invoice","purpose":"invoice","sourceCategory":"telecom"},{"label":"energy_invoice","purpose":"invoice","sourceCategory":"energy"},{"label":"water_invoice","purpose":"invoice","sourceCategory":"water"},{"label":"energy_contract","purpose":"contract","sourceCategory":"energy"},{"label":"appliance_invoice","purpose":"invoice","sourceCategory":"retail"},{"label":"web_service_invoice","purpose":"invoice","sourceCategory":"web"},{"label":"restaurant_invoice","purpose":"invoice","sourceCategory":"alimentation"},{"label":"grocery_invoice","purpose":"invoice","sourceCategory":"shopping"},{"label":"other_invoice","purpose":"invoice"},{"label":"tax_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["tax"]},{"label":"tax_return","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_notice","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_timetable","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"other_tax_document","subjects":["tax"]},{"label":"bank_details","purpose":"attestation","sourceCategory":"bank","subjects":["bank_account"]},{"label":"bank_statement","purpose":"report","sourceCategory":"bank","subjects":["history"]},{"label":"loan_agreement","purpose":"contract","sourceCategory":"bank"},{"label":"other_bank_document","sourceCategory":"bank"},{"label":"receipt","purpose":"report"},{"label":"payment_proof_family_allowance","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["subvention"]},{"label":"school_attendance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","education"]},{"label":"school_insurance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["education","insurance"]},{"label":"unfit_for_habitation_declaration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["compliance"]},{"label":"accommodation_proof","purpose":"attestation","sourceCategory":"individual","subjects":["address"]},{"label":"citizen_registration_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["achievement","education"]},{"label":"personal_sporting_licence","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"other_activity_document","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"real_estate_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance"]},{"label":"person_insurance","purpose":"contract","sourceCategory":"insurance","subjects":["insurance"]},{"label":"other_administrative_document"},{"label":"expense_claim","purpose":"invoice"},{"label":"fine","purpose":"invoice","sourceCategory":"gov"},{"label":"condition_report","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"note_identity_document"},{"label":"note_family_document"},{"label":"note_work_document"},{"label":"note_health_document"},{"label":"note_house_document"},{"label":"note_transport_document"},{"label":"note_activity_document"},{"label":"note_finance"},{"label":"note_invoice"}],"purposeKnownValues":["attestation","contract","invoice","report","description","evaluation","employment"],"sourceCategoryKnownValues":["bank","insurance","retail","telecom","energy","water","health","gov","association","education","employer","transport","goods","alimentation","building","real_estate","web","individual","shopping"],"sourceSubCategoryKnownValues":["civil_registration","immigration","transport","family","tax","health","real_estate","mobile","internet","citizen","sport"],"subjectsKnownValues":["identity","permit","family","address","driving","right","subvention","achievement","degree","work","employment","revenues","history","insurance","medical_act","vehicule","car","moto","truck","boat","subscription","buy/sale","house","compliance","building","food","real_estate","tax","address","education","statement","course","internet","phone","vaccine","capacity","health","drugs","child","pregnancy","bank_account"]}')},5573:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"Emirian","AF":"Afghan","AG":"Antiguans","AL":"Albanian","AM":"Armenian","AO":"Angolan","AR":"Argentinean","AT":"Austrian","AU":"Australian","AX":"\xc5land Islands","AZ":"Azerbaijani","BA":"Bosnian - Herzegovinian","BB":"Barbadian","BD":"Bangladeshi","BE":"Belgian","BF":"Burkinabe","BG":"Bulgarian","BH":"Bahraini","BI":"Burundian","BJ":"Beninese","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Bruneian","BO":"Bolivian","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazilian","BS":"Bahamian","BT":"Bhutanese","BV":"Bouvet Island","BW":"Batswana","BY":"Belarusian","BZ":"Belizean","CA":"Canadian","CC":"Cocos (Keeling) Islands","CD":"Congolese (Democratic Republic of the Congo)","CF":"Central African","CG":"Congolese (Republic of the Congo)","CH":"Swiss","CI":"Ivorian","CK":"Cook Islands","CL":"Chilean","CM":"Cameroonian","CN":"Chinese","CO":"Colombian","CR":"Costa Rican","CU":"Cuban","CV":"Cape Verdean","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cypriot","CZ":"Czech","DE":"German","DJ":"Djibouti","DK":"Danish","DM":"Dominican (Dominica)","DO":"Dominican (Dominican Republic)","DZ":"Algerian","EC":"Ecuadorean","EE":"Estonian","EG":"Egyptian","EH":"Western Sahara","ER":"Eritrean","ES":"Spanish","ET":"Ethiopian","FI":"Finnish","FJ":"Fijian","FK":"Falkland Islands (Malvinas)","FM":"Micronesian","FO":"Faroe Islands","FR":"French","GA":"Gabonese","GB":"British","GD":"Grenadian","GE":"Georgian","GF":"French (French Guiana)","GG":"Guernsey","GH":"Ghanaian","GI":"Gibraltar","GL":"Greenland","GM":"Gambian","GN":"Guinean","GP":"Guadeloupe","GQ":"Equatorial Guinean","GR":"Greek","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemalan","GU":"Guam","GW":"Guinea-Bissauan","GY":"Guyanese","HK":"Hong Kong","HM":"Heard Island and Mcdonald Islands","HN":"Honduran","HR":"Croatian","HT":"Haitian","HU":"Hungarian","ID":"Indonesian","IE":"Irish","IL":"Israeli","IM":"Manx","IN":"Indian","IO":"British Indian Ocean Territory","IQ":"Iraqi","IR":"Iranian","IS":"Icelandic","IT":"Italian","JE":"Jersey","JM":"Jamaican","JO":"Jordanian","JP":"Japanese","KE":"Kenyan","KG":"Kyrgyz","KH":"Cambodian","KI":"I-Kiribati","KM":"Comoran","KN":"Kittian and Nevisian","KP":"North Korean","KR":"South Korean","KW":"Kuwaiti","KY":"Cayman Islands","KZ":"Kazakhstani","LA":"Laotian","LB":"Lebanese","LC":"Saint Lucian","LI":"Liechtensteiner","LK":"Sri Lankan","LR":"Liberian","LS":"Mosotho","LT":"Lithuanian","LU":"Luxembourger","LV":"Latvian","LY":"Libyan","MA":"Moroccan","MC":"Monacan","MD":"Moldovan","ME":"Montenegrin","MF":"Saint Martin (French part)","MG":"Malagasy","MH":"Marshallese","MK":"Macedonian","ML":"Malian","MM":"Burmese","MN":"Mongolian","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritanian","MS":"Montserrat","MT":"Maltese","MU":"Mauritian","MV":"Maldivan","MW":"Malawian","MX":"Mexican","MY":"Malaysian","MZ":"Mozambican","NA":"Namibian","NC":"New Caledonia","NE":"Nigerien","NF":"Norfolk Island","NG":"Nigerian","NI":"Nicaraguan","NL":"Dutch","NO":"Norwegian","NP":"Nepalese","NR":"Nauruan","NU":"Niue","NZ":"New Zealander","OM":"Omani","PA":"Panamanian","PE":"Peruvian","PF":"French (French Polynesia)","PG":"Papua New Guinea","PH":"Filipino","PK":"Pakistani","PL":"Polish","PM":"Saint Pierre and Miquelon","PN":"Pitcairn","PR":"Puerto Rico","PS":"Palestinian Territory, Occupied","PT":"Portuguese","PW":"Palauan","PY":"Paraguayan","QA":"Qatari","RE":"Reunion","RO":"Romanian","RS":"Serbian","RU":"Russian","RW":"Rwandan","SA":"Saudi","SB":"Solomon Islander","SC":"Seychellois","SD":"Sudanese","SE":"Swedish","SG":"Singaporean","SH":"Saint Helena","SI":"Slovenian","SJ":"Svalbard and Jan Mayen","SK":"Slovakian","SL":"Sierra Leonean","SM":"San Marinese","SN":"Senegalese","SO":"Somali","SR":"Surinamer","SS":"South Sudan","ST":"Sao Tomean","SV":"Salvadoran","SX":"Sint Maarten (Dutch part)","SY":"Syrian","SZ":"Swazi","TC":"Turks and Caicos Islands","TD":"Chadian","TF":"French (French Southern Territories)","TG":"Togolese","TH":"Thai","TJ":"Tajik","TK":"Tokelau","TL":"East Timorese","TM":"Turkmenistan","TN":"Tunisian","TO":"Tongan","TR":"Turkish","TT":"Trinidadian or Tobagonian","TV":"Tuvaluan","TW":"Taiwanese","TZ":"Tanzanian","UA":"Ukrainian","UG":"Ugandan","UM":"United States Minor Outlying Islands","US":"American","UY":"Uruguayan","UZ":"Uzbekistani","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuelan","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnamese","VU":"Vanuatu","WF":"Welsh","WS":"Samoan","YE":"Yemenite","YT":"Mayotte","ZA":"South African","ZM":"Zambian","ZW":"Zimbabwean"},"countries":{"AD":"Andorra","AE":"United Arab Emirates","AF":"Afghanistan","AG":"Antigua and Barbuda","AL":"Albania","AM":"Armenia","AO":"Angola","AR":"Argentina","AT":"Austria","AU":"Australia","AX":"\xc5land Islands","AZ":"Azerbaijan","BA":"Bosnia and Herzegovina","BB":"Barbados","BD":"Bangladesh","BE":"Belgium","BF":"Burkina Faso","BG":"Bulgaria","BH":"Bahrain","BI":"Burundi","BJ":"Benin","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Brunei Darussalam","BO":"Bolivia","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazil","BS":"Bahamas","BT":"Bhutan","BV":"Bouvet Island","BW":"Botswana","BY":"Belarus","BZ":"Belize","CA":"Canada","CC":"Cocos (Keeling) Islands","CD":"Democratic Republic of the Congo","CF":"Central African Republic","CG":"Republic of the Congo","CH":"Switzerland","CI":"Ivory Coast","CK":"Cook Islands","CL":"Chile","CM":"Cameroon","CN":"People\'s Republic of China","CO":"Colombia","CR":"Costa Rica","CU":"Cuba","CV":"Cape Verde","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cyprus","CZ":"Czech Republic","DE":"Germany","DJ":"Djibouti","DK":"Denmark","DM":"Dominica","DO":"Dominican Republic","DZ":"Algeria","EC":"Ecuador","EE":"Estonia","EG":"Egypt","EH":"Western Sahara","ER":"Eritrea","ES":"Spain","ET":"Ethiopia","FI":"Finland","FJ":"Fiji","FK":"Falkland Islands (Malvinas)","FM":"Micronesia, Federated States of","FO":"Faroe Islands","FR":"France","GA":"Gabon","GB":"United Kingdom","GD":"Grenada","GE":"Georgia","GF":"French Guiana","GG":"Guernsey","GH":"Ghana","GI":"Gibraltar","GL":"Greenland","GM":"Gambia","GN":"Guinea","GP":"Guadeloupe","GQ":"Equatorial Guinea","GR":"Greece","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemala","GU":"Guam","GW":"Guinea-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"Heard Island and McDonald Islands","HN":"Honduras","HR":"Croatia","HT":"Haiti","HU":"Hungary","ID":"Indonesia","IE":"Ireland","IL":"Israel","IM":"Isle of Man","IN":"India","IO":"British Indian Ocean Territory","IQ":"Iraq","IR":"Iran","IS":"Iceland","IT":"Italy","JE":"Jersey","JM":"Jamaica","JO":"Jordan","JP":"Japan","KE":"Kenya","KG":"Kyrgyzstan","KH":"Cambodia","KI":"Kiribati","KM":"Comoros","KN":"Saint Kitts and Nevis","KP":"North Korea","KR":"South Korea","KW":"Kuwait","KY":"Cayman Islands","KZ":"Kazakhstan","LA":"Lao People\'s Democratic Republic","LB":"Lebanon","LC":"Saint Lucia","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Liberia","LS":"Lesotho","LT":"Lithuania","LU":"Luxembourg","LV":"Latvia","LY":"Libya","MA":"Morocco","MC":"Monaco","MD":"Moldova, Republic of","ME":"Montenegro","MF":"Saint Martin (French part)","MG":"Madagascar","MH":"Marshall Islands","MK":"North Macedonia","ML":"Mali","MM":"Myanmar","MN":"Mongolia","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritania","MS":"Montserrat","MT":"Malta","MU":"Mauritius","MV":"Maldives","MW":"Malawi","MX":"Mexico","MY":"Malaysia","MZ":"Mozambique","NA":"Namibia","NC":"New Caledonia","NE":"Niger","NF":"Norfolk Island","NG":"Nigeria","NI":"Nicaragua","NL":"Netherlands","NO":"Norway","NP":"Nepal","NR":"Nauru","NU":"Niue","NZ":"New Zealand","OM":"Oman","PA":"Panama","PE":"Peru","PF":"French Polynesia","PG":"Papua New Guinea","PH":"Philippines","PK":"Pakistan","PL":"Poland","PM":"Saint Pierre and Miquelon","PN":"Pitcairn Islands","PR":"Puerto Rico","PS":"Palestine","PT":"Portugal","PW":"Palau","PY":"Paraguay","QA":"Qatar","RE":"Reunion","RO":"Romania","RS":"Serbia","RU":"Russia","RW":"Rwanda","SA":"Saudi Arabia","SB":"Solomon Islands","SC":"Seychelles","SD":"Sudan","SE":"Sweden","SG":"Singapore","SH":"Saint Helena","SI":"Slovenia","SJ":"Svalbard and Jan Mayen","SK":"Slovakia","SL":"Sierra Leone","SM":"San Marino","SN":"Senegal","SO":"Somalia","SR":"Suriname","SS":"South Sudan","ST":"Sao Tome and Principe","SV":"El Salvador","SX":"Sint Maarten (Dutch part)","SY":"Syrian Arab Republic","SZ":"Eswatini","TC":"Turks and Caicos Islands","TD":"Chad","TF":"French Southern Territories","TG":"Togo","TH":"Thailand","TJ":"Tajikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkmenistan","TN":"Tunisia","TO":"Tonga","TR":"Turkey","TT":"Trinidad and Tobago","TV":"Tuvalu","TW":"Taiwan","TZ":"United Republic of Tanzania","UA":"Ukraine","UG":"Uganda","UM":"United States Minor Outlying Islands","US":"United States of America","UY":"Uruguay","UZ":"Uzbekistan","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuela","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis and Futuna","WS":"Samoa","YE":"Yemen","YT":"Mayotte","ZA":"South Africa","ZM":"Zambia","ZW":"Zimbabwe"}}')},85990:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"\xc9mirien","AF":"Afghan","AG":"Antiguayen","AL":"Albanais","AM":"Arm\xe9nien","AO":"Angolais","AR":"Argentin","AT":"Autrichien","AU":"Australien","AX":"\xceles Aland","AZ":"Azerba\xefdjanais","BA":"Bosnien","BB":"Barbadien","BD":"Bangladais","BE":"Belge","BF":"Burkinab\xe9","BG":"Bulgare","BH":"Bahre\xefnien","BI":"Burundais","BJ":"B\xe9ninois","BL":"Saint-Barth\xe9lemy","BM":"Bermudien","BN":"Brun\xe9ien","BO":"Bolivien","BQ":"Pays-Bas Carib\xe9ens","BR":"Br\xe9silien","BS":"Bahamien","BT":"Bhoutanais","BV":"\xcele Bouvet","BW":"Botswanais","BY":"Bi\xe9lorusse","BZ":"B\xe9lizien","CA":"Canadien","CC":"\xceles Cocos","CD":"Congolais (R\xe9publique d\xe9mocratique du Congo)","CF":"Centrafricain","CG":"Congolais (R\xe9publique du Congo)","CH":"Suisse","CI":"Ivoirien","CK":"\xceles Cook","CL":"Chilien","CM":"Camerounais","CN":"Chinois","CO":"Colombien","CR":"Costaricain","CU":"Cubain","CV":"Cap verdien","CW":"Curacien","CX":"L\'\xeele Christmas","CY":"Chypriote","CZ":"Tch\xe8que","DE":"Allemand","DJ":"Djiboutien","DK":"Danois","DM":"Dominicain (Dominique)","DO":"Dominicain (R\xe9publique dominicaine)","DZ":"Alg\xe9rien","EC":"\xc9quatorien","EE":"Estonien","EG":"\xc9gyptien","EH":"Sahara Occidental","ER":"\xc9rythr\xe9en","ES":"Espagnol","ET":"\xc9thiopien","FI":"Finlandais","FJ":"Fidjien","FK":"Malouin","FM":"Micron\xe9sien","FO":"F\xe9ro\xefen","FR":"Fran\xe7ais","GA":"Gabonais","GB":"Britannique","GD":"Grenadien","GE":"G\xe9orgien","GF":"Fran\xe7ais (Guyane)","GG":"Guernesiais","GH":"Ghan\xe9en","GI":"Gibraltariens","GL":"Groenlandais","GM":"Gambien","GN":"Guin\xe9en","GP":"Guadeloup\xe9en","GQ":"\xc9quato-guin\xe9en","GR":"Grec","GS":"G\xe9orgie du Sud et les \xeeles Sandwich du Sud","GT":"Guat\xe9malt\xe8que","GU":"Guam","GW":"Bissaoguin\xe9en","GY":"Guyanais","HK":"Hongkongais","HM":"\xceles Heard-et-MacDonald","HN":"Hondurien","HR":"Croate","HT":"Ha\xeftien","HU":"Hongrois","ID":"Indon\xe9sien","IE":"Irlandais","IL":"Isra\xe9lien","IM":"\xcele de Man","IN":"Indien","IO":"Territoire britannique de l\'oc\xe9an Indien","IQ":"Irakien","IR":"Iranien","IS":"Islandais","IT":"Italien","JE":"Jersiais","JM":"Jama\xefquain","JO":"Jordanien","JP":"Japonais","KE":"K\xe9nyan","KG":"Kirghiz","KH":"Cambodgien","KI":"Kiribatiens","KM":"Comorien","KN":"Afro-Kittitien et Afro-Nevisien","KP":"Nord cor\xe9en","KR":"Sud cor\xe9en","KW":"Kowe\xeftien","KY":"Ca\xefmanien","KZ":"Kazakhstanais","LA":"Laotien","LB":"Libanais","LC":"Saint-Lucien","LI":"Liechtensteinois","LK":"Sri Lankais","LR":"Liberian","LS":"Mosotho","LT":"Lituanien","LU":"Luxembourgeois","LV":"Letton","LY":"Libyen","MA":"Marocain","MC":"Mon\xe9gasque","MD":"Moldave","ME":"Mont\xe9n\xe9grin","MF":"Saint-Martinois (France)","MG":"Malgache","MH":"Marshallais","MK":"Mac\xe9donien","ML":"Malien","MM":"Birman","MN":"Mongol","MO":"Macan\xe9en","MP":"\xceles Mariannes du Nord","MQ":"Martiniquais","MR":"Mauritanien","MS":"Montserratien","MT":"Maltais","MU":"Mauricien","MV":"Maldivien","MW":"Malawien","MX":"Mexicain","MY":"Malaisien","MZ":"Mozambicain","NA":"Namibien","NC":"N\xe9o-Cal\xe9donien","NE":"Nig\xe9rien","NF":"Norfolkais","NG":"Nig\xe9rian","NI":"Nicaraguayen","NL":"N\xe9erlandais","NO":"Norv\xe9gien","NP":"N\xe9palais","NR":"Nauruan","NU":"Niu\xe9en","NZ":"N\xe9o-Z\xe9landais","OM":"Omanais","PA":"Panam\xe9en","PE":"P\xe9ruvien","PF":"Fran\xe7ais (Polyn\xe9sie fran\xe7aise)","PG":"Papouasien","PH":"Philippin","PK":"Pakistanais","PL":"Polonais","PM":"Saint-Pierrais ou Miquelonais","PN":"\xceles Pitcairn","PR":"Portoricain","PS":"Territoires Palestiniens, Occup\xe9s","PT":"Portugais","PW":"Palauan","PY":"Paraguayen","QA":"Qatarien","RE":"R\xe9unionnais","RO":"Roumain","RS":"Serbe","RU":"Russe","RW":"Rwandais","SA":"Saoudien","SB":"Salomonais","SC":"Seychellois","SD":"Soudanais","SE":"Su\xe9dois","SG":"Singapourien","SH":"Sainte H\xe9l\xe8ne","SI":"Slov\xe8ne","SJ":"Svalbard et Jan Mayen","SK":"Slovaque","SL":"Sierra L\xe9onais","SM":"Saint-Marinais","SN":"S\xe9n\xe9galais","SO":"Somalien","SR":"Surinamais","SS":"Sud-Soudanais","ST":"Santom\xe9en","SV":"Salvadorien","SX":"Saint-Martinois (Pays-Bas)","SY":"Syrien","SZ":"Swazi","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchadien","TF":"Fran\xe7ais (TAAF)","TG":"Togolais","TH":"Tha\xeflandais","TJ":"Tadjik","TK":"Tok\xe9laou","TL":"Est-Timorais","TM":"Turkm\xe8ne","TN":"Tunisien","TO":"Tongien","TR":"Turc","TT":"Trinidadien ou Tobagonien","TV":"Tuvalais","TW":"Ta\xefwanais","TZ":"Tanzanien","UA":"Ukrainien","UG":"Ougandais","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"Am\xe9ricain","UY":"Uruguayen","UZ":"Ouzbek","VA":"Saint-Si\xe8ge (\xc9tat de la cit\xe9 du Vatican)","VC":"Vincentais","VE":"V\xe9n\xe9zu\xe9lien","VG":"\xceles Vierges Britanniques","VI":"\xceles Vierges Am\xe9ricaines","VN":"Vietnamien","VU":"Vanuatais","WF":"Gallois","WS":"Samoan","YE":"Y\xe9m\xe9nite","YT":"Mahorais","ZA":"Sud Africain","ZM":"Zambien","ZW":"Zimbabw\xe9en"},"countries":{"AD":"Andorre","AE":"\xc9mirats Arabes Unis","AF":"Afghanistan","AG":"Antigua-et-Barbuda","AL":"Albanie","AM":"Arm\xe9nie","AO":"Angola","AR":"Argentine","AT":"Autriche","AU":"Australie","AX":"\xc5land","AZ":"Azerba\xefdjan","BA":"Bosnie-Herz\xe9govine","BB":"Barbade","BD":"Bangladesh","BE":"Belgique","BF":"Burkina Faso","BG":"Bulgarie","BH":"Bahre\xefn","BI":"Burundi","BJ":"B\xe9nin","BL":"Saint-Barth\xe9lemy","BM":"Bermudes","BN":"Brunei Darussalam","BO":"Bolivie","BQ":"Bonaire, Saint-Eustache et Saba","BR":"Br\xe9sil","BS":"Bahamas","BT":"Bhoutan","BV":"\xcele Bouvet","BW":"Botswana","BY":"Bi\xe9lorussie","BZ":"Belize","CA":"Canada","CC":"\xceles Cocos","CD":"R\xe9publique d\xe9mocratique du Congo","CF":"R\xe9publique Centrafricaine","CG":"R\xe9publique du Congo","CH":"Suisse","CI":"C\xf4te-d\'Ivoire","CK":"\xceles Cook","CL":"Chili","CM":"Cameroun","CN":"Chine","CO":"Colombie","CR":"Costa Rica","CU":"Cuba","CV":"Cap-Vert","CW":"Cura\xe7ao","CX":"\xcele Christmas","CY":"Chypre","CZ":"R\xe9publique Tch\xe8que","DE":"Allemagne","DJ":"Djibouti","DK":"Danemark","DM":"Dominique","DO":"R\xe9publique Dominicaine","DZ":"Alg\xe9rie","EC":"\xc9quateur","EE":"Estonie","EG":"\xc9gypte","EH":"Sahara occidental","ER":"\xc9rythr\xe9e","ES":"Espagne","ET":"\xc9thiopie","FI":"Finlande","FJ":"Fidji","FK":"\xceles Malouines","FM":"Micron\xe9sie","FO":"\xceles F\xe9ro\xe9","FR":"France","GA":"Gabon","GB":"Royaume-Uni","GD":"Grenade","GE":"G\xe9orgie","GF":"Guyane fran\xe7aise","GG":"Guernesey","GH":"Ghana","GI":"Gibraltar","GL":"Groenland","GM":"Gambie","GN":"Guin\xe9e","GP":"Guadeloupe","GQ":"Guin\xe9e \xe9quatoriale","GR":"Gr\xe8ce","GS":"G\xe9orgie du Sud-et-les \xceles Sandwich du Sud","GT":"Guatemala","GU":"Guam","GW":"Guin\xe9e-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"\xceles Heard-et-MacDonald","HN":"Honduras","HR":"Croatie","HT":"Ha\xefti","HU":"Hongrie","ID":"Indon\xe9sie","IE":"Irlande","IL":"Isra\xebl","IM":"\xcele de Man","IN":"Inde","IO":"Oc\xe9an Indien Britannique","IQ":"Irak","IR":"Iran","IS":"Islande","IT":"Italie","JE":"Jersey","JM":"Jama\xefque","JO":"Jordanie","JP":"Japon","KE":"Kenya","KG":"Kirghizistan","KH":"Cambodge","KI":"Kiribati","KM":"Comores","KN":"Saint-Christophe-et-Ni\xe9v\xe8s","KP":"Cor\xe9e du Nord","KR":"Cor\xe9e du Sud","KW":"Kowe\xeft","KY":"\xceles Ca\xefmans","KZ":"Kazakhstan","LA":"Laos","LB":"Liban","LC":"Sainte-Lucie","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Lib\xe9ria","LS":"Lesotho","LT":"Lituanie","LU":"Luxembourg","LV":"Lettonie","LY":"Libye","MA":"Maroc","MC":"Monaco","MD":"Moldavie","ME":"Mont\xe9n\xe9gro","MF":"Saint-Martin (partie fran\xe7aise)","MG":"Madagascar","MH":"\xceles Marshall","MK":"Mac\xe9doine du Nord","ML":"Mali","MM":"Myanmar","MN":"Mongolie","MO":"Macao","MP":"\xceles Mariannes du Nord","MQ":"Martinique","MR":"Mauritanie","MS":"Montserrat","MT":"Malte","MU":"Maurice","MV":"Maldives","MW":"Malawi","MX":"Mexique","MY":"Malaisie","MZ":"Mozambique","NA":"Namibie","NC":"Nouvelle-Cal\xe9donie","NE":"Niger","NF":"\xcele Norfolk","NG":"Nig\xe9ria","NI":"Nicaragua","NL":"Pays-Bas","NO":"Norv\xe8ge","NP":"N\xe9pal","NR":"Nauru","NU":"Niu\xe9","NZ":"Nouvelle-Z\xe9lande","OM":"Oman","PA":"Panama","PE":"P\xe9rou","PF":"Polyn\xe9sie fran\xe7aise","PG":"Papouasie-Nouvelle-Guin\xe9e","PH":"Philippines","PK":"Pakistan","PL":"Pologne","PM":"Saint-Pierre-et-Miquelon","PN":"\xceles Pitcairn","PR":"Porto Rico","PS":"Palestine","PT":"Portugal","PW":"Palaos","PY":"Paraguay","QA":"Qatar","RE":"R\xe9union","RO":"Roumanie","RS":"Serbie","RU":"Russie","RW":"Rwanda","SA":"Arabie Saoudite","SB":"\xceles Salomon","SC":"Seychelles","SD":"Soudan","SE":"Su\xe8de","SG":"Singapour","SH":"Sainte-H\xe9l\xe8ne","SI":"Slov\xe9nie","SJ":"Svalbard et \xcele Jan Mayen","SK":"Slovaquie","SL":"Sierra Leone","SM":"Saint-Marin","SN":"S\xe9n\xe9gal","SO":"Somalie","SR":"Suriname","SS":"Soudan du Sud","ST":"S\xe3o Tom\xe9-et-Principe","SV":"El Salvador","SX":"Saint-Martin (partie n\xe9erlandaise)","SY":"Syrie","SZ":"Royaume d\'Eswatini","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchad","TF":"Terres australes fran\xe7aises","TG":"Togo","TH":"Tha\xeflande","TJ":"Tadjikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkm\xe9nistan","TN":"Tunisie","TO":"Tonga","TR":"Turquie","TT":"Trinit\xe9-et-Tobago","TV":"Tuvalu","TW":"Ta\xefwan","TZ":"R\xe9publique unie de Tanzanie","UA":"Ukraine","UG":"Ouganda","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"\xc9tats-Unis d\'Am\xe9rique","UY":"Uruguay","UZ":"Ouzb\xe9kistan","VA":"Saint-Si\xe8ge (Vatican)","VC":"Saint-Vincent-et-les-Grenadines","VE":"Venezuela","VG":"\xceles vierges britanniques","VI":"\xceles vierges am\xe9ricaines","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis-et-Futuna","WS":"Samoa","YE":"Y\xe9men","YT":"Mayotte","ZA":"Afrique du Sud","ZM":"Zambie","ZW":"Zimbabwe"}}')},87834:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"Foreign"},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Describe","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionality. Please, try again later.","uploading":"You are already uploading a file. Please wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully described your file! "},"items":{"accommodation_proof":"Proof of accommodation |||| Proof of accommodations","appliance_invoice":"Appliance invoice |||| Appliance invoices","bank_details":"Bank detail |||| Bank details","bank_statement":"Bank statement |||| Bank statements","birth_certificate":"Birth certificate |||| Birth certificates","building_permit":"Building permit |||| Building permits","caf":"Social benefit rate |||| Social benefit rates","car_insurance":"Car insurance certificate |||| Car insurance certificates","citizen_registration_certificate":"Certificate of citizen registration |||| Certificates of citizen registration","condition_report":"Condition report |||| Condition reports","diploma":"Diploma |||| Diplomas","divorce":"Divorce |||| Divorces","driver_license":"Driving license |||| Driving licenses","electoral_card":"Electoral card |||| Electoral cards","employment_center_certificate":"Employment center certificate |||| Employment center certificates","energy_contract":"Energy provider contract |||| Energy provider contracts","energy_invoice":"Energy invoice |||| Energy invoices","expense_claim":"Expense claim |||| Expense claims","family_record_book":"Family record book |||| Family record books","family":"Family","fidelity_card":"Benefit card |||| Benefit cards","fine":"Fine |||| Fines","gradebook":"Gradebook |||| Gradebooks","grocery_invoice":"Grocery invoice |||| Grocery invoices","health_book":"Health book |||| Health books","health_certificate":"Health/Vaccination certificate |||| Health/Vaccination certificates","health_insurance_card":"Insurance card |||| Insurance cards","health_invoice":"Health invoice |||| Health invoices","health":"Health","home":"Home","house_insurance":"Home insurance |||| Home insurances","house_sale_agreeement":"House sale agreement |||| House sale agreements","identity_photo":"Identity photo |||| Identity photos","identity":"Identity","invoice":"Invoice |||| Invoices","isp_invoice":"ISP invoice |||| ISP invoices","large_family_card":" Large Family Card |||| Large Family Cards","lease":"Lease |||| Leases","loan_agreement":"Loan agreement |||| Loan agreements","mechanic_invoice":"Repair bill |||| Repair bills","motivation_letter":"Motivation letter |||| Motivation letters","national_health_insurance_card":"National health insurance card |||| National health insurance cards","national_health_insurance_right_certificate":"National health insurance right certificate |||| National health insurance right certificates","national_id_card":"ID card |||| ID cards","note_identity_document":"Note Identity |||| Notes Identity","note_family_document":"Note Family |||| Notes Family","note_work_document":"Note Work & Study |||| Notes Work & Study","note_health_document":"Note Health |||| Notes Health","note_house_document":"Note Home |||| Notes Home","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activities |||| Notes Activities","note_finance":"Note Finance |||| Notes Finance","note_invoice":"Note Invoice |||| Notes Invoice","other_activity_document":"Other activities document |||| Other activities documents","other_bank_document":"Other financial document |||| Other financial documents","other_family_document":"Other family document |||| Other family documents","other_health_document":"Other health document |||| Other health documents","other_house_document":"Other house document |||| Other house documents","other_identity_document":"Other document of identity |||| Other documents of identity","other_invoice":"Other invoice |||| Other invoices","other_revenue":"Other revenue |||| Other revenues","other_tax_document":"Other tax document |||| Other tax documents","other_transport_document":"Other transport document |||| Other transport documents","other_work_document":"Other work document |||| Other work documents","other_administrative_document":"Other administrative document |||| Other administrative documents","others":"Others","pacs":"Civil union |||| Civil unions","passport":"Passeport |||| Passeports","pay_sheet":"Pay sheet |||| Pay sheets","payment_proof_family_allowance":"family allowance payment proof |||| family allowance payment proofs","pension":"Pension |||| Pensions","person_insurance":"Individual insurance certificate |||| Individual insurance certificates","personal_sporting_licence":"Sporting licence |||| Sporting licences","phone_invoice":"Phone invoice |||| Phone invoices","pregnancy_medical_certificate":"Certificate of pregnancy |||| Certificates of pregnancy","prescription":"Prescription |||| Prescriptions","real_estate_insurance":"Real estate insurance certificate |||| Real estate insurance certificates","real_estate_tax":"Real estate tax |||| Real estate taxes","receipt":"Receipt |||| Receipts","rent_receipt":"Rent receipt |||| Rent receipts","residence_permit":"Residence permit |||| Residence permits","restaurant_invoice":"Restaurant invoice |||| Restaurant invoices","resume":"Resume |||| Resumes","school_attendance_certificate":"Certificate of school attendance |||| Certificates of school attendance","school_insurance_certificate":"Certificate of school insurance |||| Certificates of school insurance","single_parent_benefit":"Single parent benefit |||| Single parent benefits","student_card":"Student card |||| Student cards","tax_certificate":"Tax certificate |||| Tax certificates","tax_notice":"Tax notice |||| Tax notices","tax_return":"Tax return |||| Tax returns","tax_timetable":"Payment Plans Installment Agreement |||| Payment Plans Installment Agreements","technical_diagnostic_record":"Technical diagnostic record |||| Technical diagnostic records","telecom_invoice":"Telecom invoice |||| Telecom invoices","transport_card":"Transport card |||| Transport cards","transport_invoice":"Transport invoice |||| Transport invoices","transport":"Transport","unemployment_benefit":"Unemployment benefit |||| Unemployment benefits","unfit_for_habitation_declaration":"Declaration of unfit for habitation |||| Declarations of unfit for habitation","vehicle_registration":"Vehicle registration |||| Vehicle registrations","water_invoice":"Water invoice |||| Water invoices","web_service_invoice":"Web service invoice |||| Web service invoices","wedding":"Wedding contract |||| Wedding contracts","work_contract":"Work contract |||| Work contracts","work_disability_recognition":"Recognition of disability |||| Recognitions of disability","work_invoice":"Work invoice |||| Work invoices","work_quote":"Work quote |||| Work quotes","work_study":"Work & Study"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternate","internship":"Internship","other":"Other"},"noticePeriod":{"oneWeek":"1 week before","oneMonth":"1 month before","threeMonth":"3 months before","oneYear":"1 year before","custom":"Custom","noAlert":"Do not be alerted"}},"themes":{"none":"None","activity":"Activities","family":"Family","finance":"Finance","health":"Health","home":"Home","identity":"Identity","invoice":"Invoice","others":"Others","transport":"Transport","undefined":"Undefined","work_study":"Work & Study"},"expiration":{"expired":"Expired","expiresIn":"Expires in %{duration}","description":"This document expires in %{duration}, consider renewing it"},"qualification":{"date":{"title":{"datetime":"Added on","AObtentionDate":"License A, delivered on","BObtentionDate":"License B, delivered on","CObtentionDate":"License C, delivered on","DObtentionDate":"License D, delivered on","issueDate":"Delivered on","expirationDate":"Expiration date","referencedDate":"Referenced date","shootingDate":"Shooting date","obtentionDate":"Date obtained","date":"Document date"}},"information":{"title":{"fine":{"number":"Amount of the fine"},"fidelity_card":{"number":"Card number"},"caf":{"number":"CAF file number"},"payment_proof_family_allowance":{"number":"CAF file number"},"vehicle":{"licenseNumber":"Vehicle registration number","confidentialNumber":"Confidential vehicle registration code"},"vehicle_registration":{"number":"Vehicle registration number (VIN)"},"national_id_card":{"number":"National ID card number"},"bank_details":{"number":"IBAN number"},"passport":{"number":"Passport number"},"driver_license":{"number":"License number"},"residence_permit":{"number":"License number"},"national_health_insurance_card":{"number":"National health insurance card number"},"pay_sheet":{"number":"Gross remuneration"},"tax_return":{"number":"Reference tax number"},"tax_notice":{"number":"Reference tax number"},"real_estate_tax":{"number":"Reference tax number"},"tax_timetable":{"number":"Reference tax number"},"country":"Document issuing country","refTaxIncome":"Reference tax income","contractType":"Contract type","noticePeriod":"Expiration alert","netSocialAmount":"Net social amount","employerName":"Name of employer","employer":"Name of employer","amount":"Amount of expenditure","subtype":"Purpose of expenditure","bicNumber":"BIC number"},"day":"day |||| days"},"contact":"Owner","page":"Side of the document","front":"Front side","back":"Back side","qualification":"Qualification","noInfo":"No information"}},"MagicFolders":{"administrative":"Administrative","photos":"Photos"}}')},71153:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"\xc9tranger"},"Scan":{"scan_a_doc":"Num\xe9riser un doc","save_doc":"Enregistrer le document","filename":"Nom du fichier","save":"Sauvegarder","cancel":"Annuler","qualify":"Qualifier","apply":"Appliquer","error":{"offline":"Vous \xeates actuellement d\xe9connect\xe9, vous ne pouvez donc pas utiliser cette fonctionnalit\xe9. Connectez-vous \xe0 internet et recommencez. ","uploading":"Vous avez d\xe9j\xe0 un fichier en cours de t\xe9l\xe9chargement. Attendez la fin et recommencez.","generic":"Un probl\xe8me est survenu. Veuillez r\xe9essayer. "},"successful":{"qualified_ok":"Vous venez de qualifier votre fichier avec succ\xe8s !"},"items":{"accommodation_proof":"Attestation d\'h\xe9bergement |||| Attestations d\'h\xe9bergement","appliance_invoice":"Facture d\'\xe9lectrom\xe9nager |||| Factures d\'\xe9lectrom\xe9nager","bank_details":"RIB","bank_statement":"Relev\xe9 de compte |||| Relev\xe9s de compte","birth_certificate":"Acte de naissance |||| Actes de naissance","building_permit":"Permis de construire","caf":"Attestation de quotient familial CAF |||| Attestations de quotient familial CAF","car_insurance":"Attestation d\'assurance auto |||| Attestations d\'assurance auto","citizen_registration_certificate":"Attestation de recensement citoyen |||| Attestations de recensement citoyen","condition_report":"\xc9tat des lieux - Entr\xe9e/Sortie |||| \xc9tats des lieux - Entr\xe9e/Sortie","diploma":"Dipl\xf4me |||| Dipl\xf4mes","divorce":"Attestation de divorce |||| Attestations de divorce","driver_license":"Permis de conduire","electoral_card":"Carte \xe9lectorale |||| Cartes \xe9lectorales","employment_center_certificate":"Attestation de France Travail |||| Attestations de France Travail","energy_contract":"Contrat de fournisseur d\'\xe9nergies |||| Contrats de fournisseur d\'\xe9nergies","energy_invoice":"Facture d\'\xe9nergie |||| Factures d\'\xe9nergie","expense_claim":"Note de frais |||| Notes de frais","family_record_book":"Livret de famille |||| Livrets de famille","family":"Famille","fidelity_card":"Carte avantage |||| Cartes avantages","fine":"Amende |||| Amendes","gradebook":"Bulletin de notes |||| Bulletins de notes","grocery_invoice":"Facture de courses |||| Factures de courses","health_book":"Carnet de sant\xe9 |||| Carnets de sant\xe9","health_certificate":"Certificat de sant\xe9/vaccination |||| Certificats de sant\xe9/vaccination","health_insurance_card":"Carte de mutuelle |||| Cartes de mutuelle","health_invoice":"Facture m\xe9dicale |||| Factures m\xe9dicales","health":"Sant\xe9","home":"Logement","house_insurance":"Assurance logement |||| Assurances logement","house_sale_agreeement":"Compromis de vente","identity_photo":"Photo d\'identit\xe9 |||| Photos d\'identit\xe9","identity":"Identit\xe9","invoice":"Facture |||| Factures","isp_invoice":"Facture d\'internet |||| Factures d\'internet","large_family_card":"Carte famille nombreuse |||| Cartes famille nombreuse","lease":"Bail |||| Baux","loan_agreement":"Contrat de pr\xeat |||| Contrats de pr\xeat","mechanic_invoice":"Facture de r\xe9paration |||| Factures de r\xe9paration","motivation_letter":"Lettre de motivation |||| Lettres de motivation","national_health_insurance_card":"Carte vitale |||| Cartes vitales","national_health_insurance_right_certificate":"Attestation de droits de l\'Assurance Maladie |||| Attestations de droits de l\'Assurance Maladie","national_id_card":"Carte d\'identit\xe9 |||| Cartes d\'identit\xe9","note_identity_document":"Note Identit\xe9 |||| Notes Identit\xe9","note_family_document":"Note Famille |||| Notes Famille","note_work_document":"Note Travail & \xc9tudes |||| Notes Travail & \xc9tudes","note_health_document":"Note Sant\xe9 |||| Notes Sant\xe9","note_house_document":"Note Logement |||| Notes Logement","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activit\xe9s & loisirs |||| Notes Activit\xe9s & loisirs","note_finance":"Note Finances |||| Notes Finances","note_invoice":"Note Factures |||| Notes Factures","other_activity_document":"Autre document de loisirs |||| Autres documents de loisirs","other_bank_document":"Autre document financier |||| Autres documents financiers","other_family_document":"Autre document de famille |||| Autres documents de famille","other_health_document":"Autre document de sant\xe9 |||| Autres documents de sant\xe9","other_house_document":"Autre document de logement |||| Autres documents de logement","other_identity_document":"Autre document d\'identit\xe9 |||| Autres documents d\'identit\xe9","other_invoice":"Autre facture |||| Autres factures","other_revenue":"Autre revenu |||| Autres revenus","other_tax_document":"Imp\xf4ts - Autre document |||| Imp\xf4ts - Autres documents","other_transport_document":"Autre document de transport |||| Autres documents de transport","other_work_document":"Autre document de travail |||| Autres documents de travail","other_administrative_document":"Autre document administratif |||| Autres documents administratifs","others":"Autres","pacs":"Attestation de PACS |||| Attestations de PACS","passport":"Passeport |||| Passeports","pay_sheet":"Fiche de paie |||| Fiches de paie","payment_proof_family_allowance":"Attestation de paiement CAF |||| Attestations de paiement CAF","pension":"Retraite |||| Retraites","person_insurance":"Attestation d\'assurance individuelle |||| Attestations d\'assurance individuelle","personal_sporting_licence":"Licence sportive |||| Licences sportives","phone_invoice":"Facture de t\xe9l\xe9phone |||| Factures de t\xe9l\xe9phone","pregnancy_medical_certificate":"Certificat de grossesse |||| Certificats de grossesse","prescription":"Ordonnance |||| Ordonnances","real_estate_insurance":"Attestation d\'assurance immobili\xe8re |||| Attestations d\'assurance immobili\xe8re","real_estate_tax":"Imp\xf4ts - Taxe fonci\xe8re |||| Imp\xf4ts - Taxes fonci\xe8res","receipt":"Accus\xe9 de r\xe9ception |||| Accus\xe9s de r\xe9ception","rent_receipt":"Quittance de loyer |||| Quittances de loyer","residence_permit":"Titre de s\xe9jour |||| Titres de s\xe9jour","restaurant_invoice":"Facture de restaurant |||| Factures de restaurant","resume":"CV","school_attendance_certificate":"Certificat de scolarit\xe9 |||| Certificats de scolarit\xe9","school_insurance_certificate":"Attestation d\'assurance scolaire |||| Attestations d\'assurance scolaire","single_parent_benefit":"Allocation parent isol\xe9 |||| Allocations parent isol\xe9","student_card":"Carte d\'\xe9tudiant |||| Cartes d\'\xe9tudiant","tax_certificate":"Attestation fiscale |||| Attestations fiscales","tax_notice":"Imp\xf4ts - Avis d\'imposition","tax_return":"Imp\xf4ts - D\xe9claration de revenus |||| Imp\xf4ts - D\xe9clarations de revenus","tax_timetable":"Imp\xf4ts - Ech\xe9ancier |||| Imp\xf4ts - Ech\xe9anciers","technical_diagnostic_record":"Dossier de diagnostic technique |||| Dossiers de diagnostic technique","telecom_invoice":"Facture de t\xe9l\xe9com |||| Factures de t\xe9l\xe9com","transport_card":"Carte de transport |||| Cartes de transport","transport_invoice":"Facture de transport |||| Factures de transport","transport":"Transport","unemployment_benefit":"Allocation ch\xf4mage |||| Allocations ch\xf4mage","unfit_for_habitation_declaration":"Arr\xeat\xe9 d\'insalubrit\xe9 |||| Arr\xeat\xe9s d\'insalubrit\xe9","vehicle_registration":"Carte grise |||| Cartes grises","water_invoice":"Facture d\'eau |||| Factures d\'eau","web_service_invoice":"Facture de service web |||| Factures de service web","wedding":"Contrat de mariage |||| Contrats de mariage","work_contract":"Contrat de travail |||| Contrats de travail","work_disability_recognition":"Reconnaissance de handicap - RQTH |||| Reconnaissances de handicap - RQTH","work_invoice":"Facture de travaux |||| Factures de travaux","work_quote":"Devis de travaux","work_study":"Travail & \xc9tudes"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternance","internship":"Stage","other":"Autre"},"noticePeriod":{"oneWeek":"1 semaine avant","oneMonth":"1 mois avant","threeMonth":"3 mois avant","oneYear":"1 an avant","custom":"Personnalis\xe9","noAlert":"Ne pas \xeatre alert\xe9"}},"themes":{"none":"Aucun","activity":"Activit\xe9s & loisirs","family":"Famille","finance":"Finances","health":"Sant\xe9","home":"Logement","identity":"Identit\xe9","invoice":"Factures","others":"Autres","transport":"Transport","undefined":"Ind\xe9fini","work_study":"Travail & \xc9tudes"},"expiration":{"expired":"Expir\xe9","expiresIn":"Expire dans %{duration}","description":"Ce document expire dans %{duration}, pensez \xe0 le renouveler"},"qualification":{"date":{"title":{"datetime":"Ajout\xe9 le","AObtentionDate":"Permis A, d\xe9livr\xe9 le","BObtentionDate":"Permis B, d\xe9livr\xe9 le","CObtentionDate":"Permis C, d\xe9livr\xe9 le","DObtentionDate":"Permis D, d\xe9livr\xe9 le","issueDate":"D\xe9livr\xe9 le","expirationDate":"Date d\'expiration","referencedDate":"Date de r\xe9f\xe9rence","shootingDate":"Date de prise de vue","obtentionDate":"Date d\'obtention","date":"Date du document"}},"information":{"title":{"fine":{"number":"Montant de l\'amende"},"fidelity_card":{"number":"Num\xe9ro de la carte"},"caf":{"number":"Num\xe9ro de dossier CAF"},"payment_proof_family_allowance":{"number":"Num\xe9ro de dossier CAF"},"vehicle":{"licenseNumber":"Num\xe9ro d\'immatriculation","confidentialNumber":"Code confidentiel de la carte grise"},"vehicle_registration":{"number":"Num\xe9ro de la carte grise (VIN)"},"national_id_card":{"number":"Num\xe9ro de la carte d\'identit\xe9"},"bank_details":{"number":"Num\xe9ro d\'IBAN"},"passport":{"number":"Num\xe9ro du passeport"},"driver_license":{"number":"Num\xe9ro du permis"},"residence_permit":{"number":"Num\xe9ro du permis"},"national_health_insurance_card":{"number":"Num\xe9ro de s\xe9curit\xe9 sociale"},"pay_sheet":{"number":"R\xe9mun\xe9ration brute"},"tax_return":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_notice":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"real_estate_tax":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_timetable":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"country":"Pays \xe9metteur du document","refTaxIncome":"Revenu fiscal de r\xe9f\xe9rence","contractType":"Type de contrat","noticePeriod":"Alerte dâ€™expiration","netSocialAmount":"Montant net social","employerName":"Nom de l\'employeur","employer":"Nom de l\'employeur","amount":"Montant de la d\xe9pense","subtype":"Objet de la d\xe9pense","bicNumber":"Num\xe9ro BIC"},"day":"jour |||| jours"},"contact":"Titulaire","page":"Face du document","front":"Face avant","back":"Face arri\xe8re","qualification":"Qualification","noInfo":"Non renseign\xe9(e)"}},"MagicFolders":{"administrative":"Administratif","photos":"Photos"}}')},93343:function(e){"use strict";e.exports=JSON.parse('{"close":"Close","back":"Go back","badges":{"warning":"Warning"},"accountForm":{"submit":{"label":"Connect"},"fields":{"optional":"(optional)"},"password":{"show":"Show","hide":"Hide"},"disconnect":{"button":"Disconnect this account"},"installFlagship":{"label":"Install Twake on mobile"},"cannotConnectModal":{"title":"You can\'t connect?","content":"You can check your login or reset your password on the [%{vendorName}](%{vendorLink})\'s website.","noAccount":"If you do not have an account you will need to create one on the [%{vendorName}](%{vendorLink})\'s website."},"cannotConnectLink":"I can\'t connect","notClientSide":"To synchronize your %{name} data in your Twake you must use the Twake app on your phone or tablet.","clientSide":{"title":"Connect to your Twake","submit":"Connect","description":"Connect %{name} to your Twake to synchronize your account and retrieve all your data. "}},"contracts":{"headers":{"bankAccounts":"Bank accounts","default":"Contracts"},"deleted":"Deleted","no-contracts":"No contracts anymore","handle-synchronization":"Handle my synchronizations","desynchronized":{"message":"you have desynchronized this account on %{date}","dateFormat":"LL/dd/yy"}},"contractForm":{"details":"Details","sharing":"Sharing","back-to-accounts":"Back to accounts","update":"Update","delete":"Reset","deleting":"Resetting...","confirm-deletion":{"description":"This will also delete your transactions along with bill links. If you do not wish to reimport your banking data at the next scheduled synchronization, you\'ll have to remove the connection.","confirm":"Confirm account deletion","title":"Are you definitive ?"},"deletion_error":"An error occurred while group deletion.","label":"Label","owner":"Owner","addOwnerBtn":"Add an owner","removeOwnerBtn":"Remove this owner","ownerPlaceholder":"Select an owner","bank":"Bank","number":"Number","type":"Type","apply":"Apply","success":"Account updated successfully","failure":"Error while updating the account","removeAccountBtn":"Remove the account","listPlaceholder":"Search a contact","listEmptyMessage":"No contact found","addContactLabel":"Add a contact","cancel":"Cancel","imported":"Synchronized account"},"card":{"launchTrigger":{"button":{"label":"Synchronize"},"configure":"Configure","connect":"Connect","success":"Successful synchronization","error":"An error occured.","frequency":{"label":"Frequency:","hourly":"Each hour","daily":"Once a day","weekly":"Once a week","monthly":"Once a month","undefined":"Manually"},"lastSync":{"label":"Update:","syncing":"Data recoveryâ€¦","unknown":"Last sync. unknown","afterSomeTimes":"Sync. %{times} ago","format":"LL/dd/yyyy","disconnected":"Disconnected","justNow":"Sync. just now"},"runningAlert":{"title":"Don\'t Close Your App!","body":"For the data recovery to be complete, the phone must remain turned on. However, you can continue to browse within the mobile app as long as it stays active in the foreground.","button":"I understand"}},"appLink":{"drive":{"title":"Your documents","description":"This service retrieves your latest documents and keeps a complete back-up for you.","button":"Open the documents","install":"Discover Twake Drive"},"contacts":{"title":"Your contacts","description":"This service synchronizes all your contacts for you.","button":"Open contacts","install":"Discover Twake Contacts"},"banks":{"title":"Your banking data","description":"This service retrieves and keeps a complete record of your latest banking operations for you.","button":"Access bank accounts","install":"Discover Twake Banks"},"coachco2":{"title":"Apps to go further","description":"The following apps are able to use privately this kind of data inside your Twake.","button":"Coach CO2","install":"Discover CoachCO2"}},"information":{"title":"Useful information","websiteLink":"Open the website","store":"See in Twake Workplace Store","storeDescription":"Access the description of this app"}},"default":{"dateFormat":"LL/dd/yyyy","baseDir":"/Administrative"},"error":{"application-not-found":"This app doesn\'t exist","reconnect-via-form":"Reconnect","job":{"DISK_QUOTA_EXCEEDED":{"title":"Storage full","description":"This service cannot fetch your documents now. Please remove some files or go to **Settings > Storage** to get more free space."},"CHALLENGE_ASKED":{"title":"Challenge required","description":"The website requires a second authentification factor. You may re-run the connector manually to provide the code and continue to retrieve your data."},"OAUTH_CANCELED":{"title":"Canceled","description":"We could not add your bank since you canceled the connection. Click \\"Add your bank\\" one more time to try again."},"LOGIN_FAILED":{"title":"Incorrect or expired credentials","description":"Sorry, your login or password are invalid or are expired. You may check your credentials on [%{name}](%{link}) website before updating."},"LOGIN_FAILED.NEEDS_SECRET":{"title":"Additional information needed","description":"An additional field must be filled in to connect your service. You may re-run the connector manually to provide the information."},"LOGIN_FAILED.TOO_MANY_ATTEMPTS":{"title":"Temporarily blocked","description":"Too many attempts occured. Please update your credentials on [%{name}](%{link}) website and update the konnector later on."},"MAINTENANCE":{"title":"Unavailable website","description":"It seems that the [%{name}](%{link}) website is unavailable or the konnector must be updated. Please rerun the connector later or visit our online help."},"NOT_EXISTING_DIRECTORY":{"title":"Missing destination folder","description":"It seems that this account\'s destination folder has been deleted. Please restore it by disconnecting this account and then reconnect again."},"TERMS_VERSION_MISMATCH":{"title":"Latest Terms of Service non accepted","description":"%{name} seems to have updated its Terms Of Service. Please check that the service is up to date. It this error still occurs, please contact us at [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR":{"title":"Connection error","description":"An unknown error has occurred. You can try to update your data. If the problem persists, please contact us at [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR.PARTIAL_SYNC":{"title":"Connection error","description":"The synchronization is complete but some elements may be missing"},"USER_ACTION_NEEDED":{"title":"Action needed on the provider\'s website","description":"It seems that the [%{name}](%{link}) website requires you to log in and to complete a specific action. Please re-run the connector once you have settled the issue on the website."},"USER_ACTION_NEEDED.OAUTH_OUTDATED":{"title":"Access renewal required","description":"The [%{name}](%{link}) service requires you to renew your authentication. Please disconnect and reconnect your account %{name} to this application. No data will be lost."},"USER_ACTION_NEEDED.ACCOUNT_REMOVED":{"title":"Unavailable account","description":"It seems that your account is no longer active. Please check your account on [%{name}](%{link}) before retry."},"USER_ACTION_NEEDED.CHANGE_PASSWORD":{"title":"Password update required","description":"It seems that the [%{name}](%{link}) website requires you to log in and update your password. Please rerun the connector once you have settled the issue on the website."},"USER_ACTION_NEEDED.PERMISSIONS_CHANGED":{"title":"New permissions needed","description":"You connector was updated and the permissions changed. Please validate them before launching the connector again."},"USER_ACTION_NEEDED.SCA_REQUIRED":{"title":"Renewal of authentication  required","description":"It seems that %{name} requires a login recheck for the synchronisation to work. Please re-run the connector to start the verification process. You will receive a one-time password or a validation process on your bank application or website."},"USER_ACTION_NEEDED.TWOFA_EXPIRED":{"title":"Authentication renewal required","description":"The last connexion to the service failed; please launch it again. You may have to provide a validation code."},"USER_ACTION_NEEDED.WEBAUTH_REQUIRED":{"title":"Authentication on vendor website required","description":"It seems that [%{name}](%{link}) requires you to log in on their website for the synchronisation to work. Please re-run the connector once you have settled the issue on the website."},"USER_ACTION_NEEDED.WRONG_TWOFA_CODE":{"title":"Incorrect strong authentication code","description":"The second-factor code provided is incorrect, please start again."},"USER_ACTION_NEEDED.CGU_FORM":{"title":"New terms of service validation needed","description":"It seems that a new validation of terms of service is needed. Please validate them on the [%{name}](%{link}) website and synchronize again."},"VENDOR_DOWN":{"title":"Unavailable service","description":"It seems that the [%{name}](%{link}) service is unavailable at the moment. Please rerun the connector later."},"VENDOR_DOWN.BANK_DOWN":{"title":"Unavailable bank website","description":"Access to the [%{name}](%{link}) customer area is currently unavailable. Please rerun the connector later"},"VENDOR_DOWN.LINXO_DOWN":{"title":"Unavailable service","description":"It seems that we are experiencing overload with our bank konnectors at the moment. Please rerun the connector later."},"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED":{"title":"This account already exists","description":"Your possible modification of the list of synchronized accounts will be taken into account within a few minutes."},"WRONG_ACCOUNT_IDENTIFIER":{"title":"These are the wrong identifiers","description":"You submitted the wrong identifier which are not associated to this account"}}},"fields":{"answer":{"label":"Secret answer"},"birthdate":{"label":"Birth date","placeholder":"mm/dd/yyyy"},"code":{"label":"Confidential code"},"date":{"label":"Date","placeholder":"mm/dd/yyyy"},"email":{"label":"Email address"},"firstname":{"label":"First name"},"lastname":{"label":"Last name"},"login":{"label":"Login"},"password":{"label":"Password"},"phone":{"label":"Phone number"},"two_fa_code":{"label":"Strong authentication code"}},"folder":{"administrative":"Administrative","photos":"Photos"},"infos":{"konnectorUpdate":{"title":"An update is available for this service.","body":{"regular":"Perform this update to keep fetching your data and to have the latest features:","blocking":"Update it to keep fetching your data:"},"button":{"label":"See update"}}},"legacy":{"fields":{"access_token":{"label":"Access token"},"accessTokenSecret":{"label":"Access token secret"},"accountName":{"label":"Account name"},"agreement":{"label":"I agree"},"apikey":{"label":"Api key"},"appKey":{"label":"Application Key"},"appSecret":{"label":"Application Secret"},"authCode":{"label":"Auth code"},"bank_identifier":{"label":"Bank identifier (optional)"},"branchName":{"label":"Branch"},"cardNumber":{"label":"Card Number"},"consumerKey":{"label":"Consumer Key"},"consumerSecret":{"label":"Consumer Secret"},"dob":{"label":"Date of birth"},"folderPath":{"label":"Folder path"},"identifier":{"label":"Identifier"},"loginUrl":{"label":"Login URL"},"namePath":{"label":"Folder name"},"new_identifier":{"label":"Identifier"},"phoneNumber":{"label":"Phone number"},"profileName":{"label":"Profile Name"},"refreshToken":{"label":"Refresh Token"},"secret":{"label":"Password"},"timeout":{"label":"Delay (ms)"},"token":{"label":"Token"},"tricountUrl":{"label":"Tricount URL"}}},"modal":{"aria-label":"Connector configuration","konnector":{"error":{"title":"Unable to retrieve your account","description":"The account cannot be retrieved (%{message}).","button":"Close"}},"accounts":{"title":"Select a %{name} account","error":{"title":"Error","description":"Unable to retrieve your account(s)","retry":"Retry"}},"tabs":{"data":"Data","configuration":"Configuration"},"addAccount":{"title":"Connect to %{name}","button":"Add an account"},"deleteBIConnection":{"title":"Bank disconnect","description":"Your request has been recorded. It will be effective in a short moment. Previously imported data will not be deleted.","confirm-deletion":"Close"},"deleteAccount":{"title":"Disconnection","description":"Your account will be disconnected, but already imported data will be kept.","confirm":"Disconnect","cancel":"Cancel"},"updateAccount":{"general-subheader":"General","identifiers":"Identifiers","delete-account-success":"Account has been disconnected","delete-account-error":"Account could not be disconnected, please retry later or contact our support."}},"oauth":{"banking":{"connect":{"label":"Add your bank"},"reconnect":{"label":"Reconnect"}},"reconnect":{"label":"Reconnect"},"connect":{"description":"Connect %{name} to your Twake to synchronize your account and automatically retrieve all your data.","label":"Connect","submit":"Connect","title":"Connect to your Twake"},"window":{"title":"OAuth"}},"triggerSuccessMessage":{"button":{"label":"Close"},"description":"Your data will be available in a few minutes and the next ones will follow automatically.","figure":{"alt":"connected"},"title":"Successful configuration!"},"twoFAForm":{"modal-label":"Two factor authentication form","providers":{"default":"Enter the code sent to you by e-mail or SMS","email":"Enter the code sent to you by e-mail","sms":"Enter the code sent to you by SMS","app_code":"Enter the one-time code to generate in ${name} mobile app","app":"Use your provider\'s app to continue authentication"},"desc-2fa":"You need to open your provider\'s app to confirm your authentication. In some cases, you will have to validate two times.","desc_1":"This code enables you to finish your connexion.","desc_2":"The second code received on your mobile phone or by email enables you to finalize your connexion.","code":{"label_1":"code","label_2":"Second code"},"retry":"Invalid code, please re-enter.","CTA":"Validate"},"account":{"success":{"title":"Successful configuration!","connect":"Your data will be available in a few minutes and the next ones will follow automatically.","banksLinkText":"See my accounts in %{appName}","driveLinkText":"Open the folder in Twake Drive","button":"Close"}},"maintenance":{"noService":"Service interrupted","explanationTitle":"What is going on?"},"suggestions":{"title":"Import your data from %{name}","data":"Installing %{name} will automatically import the following data:","why":"Why is %{name} suggested to me?","reason_bank":"%{name} has been detected in one of your bank transactions. Don\'t worry, no one else can access this information","install":"Install","silence":"Don\'t suggest it again"},"dataType":{"none":"%{name} won\'t access any of your personal data","activity":"Your activities","appointment":"Your appointments","bankTransactions":"Your bank transactions","bankAccounts":"Your bank accounts","bill":"Your bills","bloodPressure":"Your blood pressure","calendar":"Your calendars","certificate":"Your certificates","commit":"Your commits","consumption":"Your consumption","contact":"Your contacts","contract":"Your contracts","courseMaterial":"Your course materials","document":"Your documents","event":"Your events","family":"Your family informations","geopoint":"Your geolocations","heartbeat":"Your heartbeats","home":"Your home informations","phonecommunicationlog":"Your phone communications log","picture":"Your pictures","podcast":"Your podcasts","profile":"Your client profile","refund":"Your refunds","sinister":"Your sinisters","sleepTime":"Your sleep time","stepsNumber":"Your number of steps","temperature":"Your temperature data","travelDate":"Your travel dates","tweet":"Your tweets","videostream":"Your videos","weight":"Your weights"},"vaultCiphersList":{"title":"From which account do you want to import your data?","otherAccount":"From another accountâ€¦"},"triggerManager":{"confirmationModal":{"title":"Update credentials?","description":"Your previous credentials will be definitively lost. Add a new account to keep them.","primaryText":"Update","secondaryText":"Cancel"}},"connectionBackdrop":{"connecting":"Connection in progress","progress":"Establishing a connection to %{name} can take up to 30 seconds..."},"disconnectedAccountModal":{"disconnected-help":"This account is disconnected. Your data has been kept. If you want to restart the synchronisation, please reconfigure your account with the \\"Add a bank\\" button."},"konnectorBlock":{"open":"Open the website","store":{"primary":"See in Twake Workplace store","secondary":"Access the description of this app"},"disconnected":"Disconnected","inMaintenance":"In maintenance","hasNewVersionAvailable":"New version available","fatalError":"An error occurred while recovering the service. If this problem persists, do not hesitate to contact us at [%{name}](%{link})"},"datacards":{"trips":{"title":"Last trips","caption":"See your 5 most recent trips retrieved on %{konnectorName}","modes":{"AIR_OR_HSR":"Plane","BICYCLING":"Bike","BUS":"Bus","CAR":"Car","IN_VEHICLE":"Vehicle","TRAIN":"Train","UNKNOWN":"Unknown","WALKING":"Walking","ON_FOOT":"Walking","RUNNING":"Running"}},"files":{"title":"Your documents","imported":"Imported on %{date}","caption":"This service retrieves your latest documents and keeps a complete back-up for you."}}}')},26108:function(e){"use strict";e.exports=JSON.parse('{"close":"Fermer","back":"Revenir","badges":{"warning":"Warning"},"accountForm":{"submit":{"label":"Connecter"},"fields":{"optional":"(Optionnel)"},"password":{"show":"Voir","hide":"Cacher"},"disconnect":{"button":"D\xe9connecter le compte"},"installFlagship":{"label":"Installer Twake sur mobile"},"cannotConnectModal":{"title":"Vous ne parvenez pas \xe0 vous connecter ?","content":"Vous pouvez v\xe9rifier vos identifiants ou r\xe9initialiser votre mot de passe sur le site [%{vendorName}](%{vendorLink}).","noAccount":"Si vous n\'avez pas de compte il vous faudra en cr\xe9er un sur le site [%{vendorName}](%{vendorLink})."},"cannotConnectLink":"Je ne parviens pas \xe0 me connecter","notClientSide":"Pour synchroniser vos donn\xe9es %{name} dans votre Twake vous devez utiliser l\'application Twake de votre t\xe9l\xe9phone ou tablette.","clientSide":{"title":"Connecter \xe0 mon Twake","submit":"Connecter","description":"Connectez %{name} \xe0 votre Twake pour synchroniser votre compte et r\xe9cup\xe9rer vos donn\xe9es."}},"contracts":{"headers":{"bankAccounts":"Comptes et livrets d\'\xe9pargne","default":"Contrats"},"deleted":"Supprim\xe9","no-contracts":"Vous n\'avez plus de contrats","handle-synchronization":"G\xe9rer mes synchronisations","desynchronized":{"message":"vous avez d\xe9synchronis\xe9 ce compte le %{date}","dateFormat":"dd/LL/yy"}},"contractForm":{"details":"D\xe9tails","sharing":"Partage","back-to-accounts":"Revenir aux comptes","update":"Modifier","delete":"Effacer","deleting":"Effacement...","confirm-deletion":{"description":"Cette action supprimera les mouvements d\xe9j\xe0 import\xe9s. D\xe9connectez \xe9galement votre compte si vous ne souhaitez pas r\xe9importer vos donn\xe9es \xe0 la prochaine connexion.","confirm":"Confirmer la suppression","title":"\xcates-vous s\xfbr ?"},"deletion_error":"Une erreur est survenue lors de la suppression du compte.","label":"Libell\xe9","owner":"Titulaire","addOwnerBtn":"Ajouter un titulaire","removeOwnerBtn":"Supprimer ce titulaire","ownerPlaceholder":"S\xe9lectionner un titulaire","bank":"Banque","number":"Num\xe9ro","type":"Type","apply":"Appliquer","success":"Compte mis \xe0 jour avec succ\xe8s","failure":"Erreur lors de la mise \xe0 jour du compte","removeAccountBtn":"Effacer le compte","listPlaceholder":"Rechercher un contact","listEmptyMessage":"Aucun contact trouv\xe9","addContactLabel":"Cr\xe9er un contact","cancel":"Annuler","imported":"Compte synchronis\xe9"},"card":{"launchTrigger":{"button":{"label":"Synchroniser"},"configure":"Configurer","connect":"Se connecter","success":"Synchronisation r\xe9ussie","error":"Une erreur est survenue.","frequency":{"label":"Fr\xe9quence :","hourly":"Une fois par heure","daily":"Journalier","weekly":"Hebdomadaire","monthly":"Mensuel","undefined":"Manuellement"},"lastSync":{"label":"Synchronis\xe9 :","syncing":"R\xe9cup\xe9ration des donn\xe9esâ€¦","unknown":"Derni\xe8re sync. inconnue","afterSomeTimes":"Sync. il y a %{times}","format":"dd/LL/yyyy","disconnected":"D\xe9connect\xe9","justNow":"Sync. \xe0 l\'instant"},"runningAlert":{"title":"Ne fermez pas votre app !","body":"Pour que la r\xe9cup\xe9ration de vos donn\xe9es soit compl\xe8te, le t\xe9l\xe9phone doit rester allum\xe9. Vous pouvez cependant continuer \xe0 naviguer dans l\'app mobile tant qu\'elle reste active au premier plan.","button":"J\'ai compris"}},"appLink":{"drive":{"title":"Vos documents","description":"Ce service r\xe9cup\xe8re vos derniers documents et en sauvegarde l\'historique complet \xe0 votre place.","button":"Ouvrir les documents","install":"D\xe9couvrir Twake Drive"},"contacts":{"title":"Vos contacts","description":"Ce service synchronise l\'ensemble de vos contacts \xe0 votre place.","button":"Acc\xe9der aux contacts","install":"D\xe9couvrir Twake Contacts"},"banks":{"title":"Vos donn\xe9es bancaires","description":"Ce service r\xe9cup\xe8re vos derni\xe8res lignes bancaires et en sauvegarde l\'historique complet \xe0 votre place.","button":"Acc\xe9der aux comptes bancaires","install":"D\xe9couvrir Twake Banks"},"coachco2":{"title":"Applications pour aller plus loin","description":"Les applications suivantes proposent d\'utiliser ces donn\xe9es en toute confidentialit\xe9 au sein de votre Twake","button":"Coach CO2","install":"D\xe9couvrir Coach CO2"}},"information":{"title":"Informations utiles","websiteLink":"Ouvrir le site","store":"Voir dans le Store Twake Workplace","storeDescription":"Acc\xe8s \xe0 la fiche descriptive de cette application"}},"default":{"dateFormat":"dd/LL/yyyy","baseDir":"/Administratif"},"error":{"application-not-found":"Cette application n\'existe pas","reconnect-via-form":"Se reconnecter","job":{"DISK_QUOTA_EXCEEDED":{"title":"Espace Disque plein","description":"Actuellement, le service ne peut plus r\xe9cup\xe9rer vos documents.\\nLib\xe9rez de l\'espace en supprimant des fichiers ou rendez-vous dans **Param\xe8tres > Stockage** pour augmenter votre espace de stockage."},"CHALLENGE_ASKED":{"title":"Second facteur dâ€™authentification demand\xe9","description":"Le site demande une authentification forte \xe0 deux facteurs. Vous devez synchroniser manuellement le service pour valider votre authentification et continuer \xe0 r\xe9cup\xe9rer vos donn\xe9es."},"OAUTH_CANCELED":{"title":"Annul\xe9","description":"Nous n\'avons pas pu ajouter votre banque car vous avez annul\xe9 la connexion. Cliquez sur \\"Ajouter votre banque\\" encore une fois pour faire un nouvel essai."},"LOGIN_FAILED":{"title":"Identifiants erron\xe9s ou expir\xe9s","description":"Votre identifiant et/ou mot de passe ne semblent pas corrects. Merci de les v\xe9rifier sur le site [%{name}](%{link}) avant de r\xe9essayer."},"LOGIN_FAILED.NEEDS_SECRET":{"title":"Information additionnelle requise","description":"Un champ additionnel doit \xeatre rempli pour v\xe9rifier vos identifiants."},"LOGIN_FAILED.TOO_MANY_ATTEMPTS":{"title":"Temporairement bloqu\xe9","description":"Trop de tentatives erron\xe9es ont eu lieu. Merci de modifier votre mot de passe sur le site [%{name}](%{link}) avant de synchroniser \xe0 nouveau vos donn\xe9es."},"MAINTENANCE":{"title":"Site non disponible","description":"Il semble que le site [%{name}](%{link}) soit indisponible. Merci de synchroniser ult\xe9rieurement ou de consulter notre aide en ligne."},"NOT_EXISTING_DIRECTORY":{"title":"Dossier de destination manquant","description":"Il semble que le dossier de destination pour ce compte ait \xe9t\xe9 supprim\xe9. Merci de le restaurer en d\xe9connectant ce compte puis en le reconnectant \xe0 nouveau."},"TERMS_VERSION_MISMATCH":{"title":"Nouvelles CGUs \xe0 accepter","description":"Il semblerait que %{name} ait mis \xe0 jour ses Conditions G\xe9n\xe9rales d\'Utilisation. Merci de valider ces derni\xe8res sur le site [%{name}](%{link}) avant de synchroniser \xe0 nouveau vos donn\xe9es."},"UNKNOWN_ERROR":{"title":"Erreur de Connexion","description":"Une erreur inconnue est survenue. Vous pouvez essayer de synchroniser \xe0 nouveau vos donn\xe9es. Si le probl\xe8me persiste, n\'h\xe9sitez pas \xe0 nous contacter via [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR.PARTIAL_SYNC":{"title":"Erreur de Connexion","description":"La synchronisation est termin\xe9 mais certains \xe9l\xe9ments peuvent manquer"},"USER_ACTION_NEEDED":{"title":"Action n\xe9cessaire chez le fournisseur","description":"Il semble que [%{name}](%{link}) ait besoin de rev\xe9rifier votre connexion. Connectez-vous sur [%{name}](%{link}) avant de synchroniser \xe0 nouveau vos donn\xe9es."},"USER_ACTION_NEEDED.OAUTH_OUTDATED":{"title":"Renouvellement de lâ€™authentification requis","description":"Le service [%{name}](%{link}) demande d\'autoriser \xe0 nouveau votre acc\xe8s. Merci de d\xe9connecter puis reconnecter votre compte %{name} sur cette application. Aucune donn\xe9e ne sera perdue."},"USER_ACTION_NEEDED.ACCOUNT_REMOVED":{"title":"Compte client non accessible","description":"Il semble que votre compte ne soit plus actif. Merci de v\xe9rifier son statut sur le site [%{name}](%{link}) avant de r\xe9essayer."},"USER_ACTION_NEEDED.CHANGE_PASSWORD":{"title":"Renouvellement de mot de passe demand\xe9","description":"Il semble que le site [%{name}](%{link}) ait besoin que vous vous y authentifiiez pour renouveler votre mot de passe. Merci de renouveler votre mot de passe avant de synchroniser vos donn\xe9es."},"USER_ACTION_NEEDED.PERMISSIONS_CHANGED":{"title":"Validation des nouvelles permissions n\xe9cessaire","description":"Votre service a \xe9t\xe9 mis \xe0 jour et les permissions n\xe9cessaires ont chang\xe9. Merci de valider les nouvelles permissions avant de synchroniser vos donn\xe9es."},"USER_ACTION_NEEDED.SCA_REQUIRED":{"title":"Renouvellement d\'authentification demand\xe9","description":"Il semble que %{name} ait besoin de rev\xe9rifier votre connexion afin d\'autoriser une nouvelle synchronisation de vos comptes. Merci de synchroniser votre service, cela d\xe9clenchera la demande aupr\xe8s de votre banque. Vous recevrez un code \xe0 usage unique ou une demande sur l\'espace client ou l\'application de votre banque."},"USER_ACTION_NEEDED.TWOFA_EXPIRED":{"title":"Renouvellement de lâ€™authentification demand\xe9","description":"La derni\xe8re connexion au service a \xe9chou\xe9; merci de la relancer.\\nIl vous faudra peut-\xeatre renseigner un code de validation."},"USER_ACTION_NEEDED.WEBAUTH_REQUIRED":{"title":"Authentification sur le site web demand\xe9e","description":"Il semble que [%{name}](%{link}) ait besoin que vous vous authentifiiez \xe0 leur site web pour que la synchronisation refonctionne. Merci de vous authentifier sur le site avant de synchroniser vos donn\xe9es."},"USER_ACTION_NEEDED.WRONG_TWOFA_CODE":{"title":"Le code fourni ne semble pas correct","description":"Le second facteur dâ€™authentification fourni est incorrect, veuillez recommencer."},"USER_ACTION_NEEDED.CGU_FORM":{"title":"Des nouvelles conditions g\xe9n\xe9rales d\'utilisation sont \xe0 valider","description":"Il semble que le service ait de nouvelles conditions g\xe9n\xe9rales d\'utilisation \xe0 valider. Merci de valider ces derni\xe8res sur le site [%{name}](%{link}) puis de synchroniser \xe0 nouveau."},"VENDOR_DOWN":{"title":"Service non disponible","description":"Il semble que le service [%{name}](%{link}) ne nous ait pas r\xe9pondu dans les temps. Vous pouvez tenter de synchroniser vos donn\xe9es manuellement maintenant ou ult\xe9rieurement."},"VENDOR_DOWN.BANK_DOWN":{"title":"Site non disponible","description":"L\'acc\xe8s \xe0 l\'espace client de [%{name}](%{link}) est actuellement indisponible, veuillez vous reconnecter plus tard"},"VENDOR_DOWN.LINXO_DOWN":{"title":"Service non disponible","description":"Il semble que le service [%{name}](%{link}) ne nous ait pas r\xe9pondu dans les temps. Vous pouvez tenter de synchroniser vos donn\xe9es manuellement maintenant ou ult\xe9rieurement."},"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED":{"title":"Ce compte est d\xe9j\xe0 configur\xe9","description":"Votre \xe9ventuelle modification de la liste des comptes synchronis\xe9s sera prise en compte sous quelques minutes."},"WRONG_ACCOUNT_IDENTIFIER":{"title":"Mauvais identifiants","description":"Vous avez saisi des identifiant qui ne sont pas associ\xe9s \xe0 ce compte"}}},"fields":{"answer":{"label":"R\xe9ponse secr\xe8te"},"birthdate":{"label":"Date de naissance","placeholder":"jj/mm/aaaa"},"code":{"label":"Code confidentiel"},"date":{"label":"Date","placeholder":"jj/mm/aaaa"},"email":{"label":"Adresse e-mail"},"firstname":{"label":"Pr\xe9nom"},"lastname":{"label":"Nom de famille"},"login":{"label":"Identifiant"},"password":{"label":"Mot de passe"},"phone":{"label":"Num\xe9ro de t\xe9l\xe9phone"},"two_fa_code":{"label":"Second facteur dâ€™authentification"}},"folder":{"administrative":"Administratif","photos":"Photos"},"infos":{"konnectorUpdate":{"title":"Une mise \xe0 jour est disponible pour ce service.","body":{"regular":"Effectuez la mise \xe0 jour pour continuer \xe0 r\xe9cup\xe9rer vos donn\xe9es et profiter des derni\xe8res fonctionnalit\xe9s.","blocking":"Mettez-le \xe0 jour pour continuer \xe0 r\xe9cup\xe9rer vos donn\xe9es."},"button":{"label":"Voir la mise \xe0 jour"}}},"legacy":{"fields":{"access_token":{"label":"Jeton d\'acc\xe8s"},"accessTokenSecret":{"label":"Jeton d\'acc\xe8s secret"},"accountName":{"label":"Nom du compte"},"agreement":{"label":"J\'accepte"},"apikey":{"label":"Cl\xe9 d\'API"},"appKey":{"label":"Cl\xe9 d\'application"},"appSecret":{"label":"Secret d\'application"},"authCode":{"label":"Code Auth"},"bank_identifier":{"label":"Identifiant Banque (optionnel)"},"branchName":{"label":"Agence"},"cardNumber":{"label":"Num\xe9ro de carte"},"consumerKey":{"label":"Cl\xe9 client"},"consumerSecret":{"label":"Secret client"},"dob":{"label":"Date de naissance"},"folderPath":{"label":"Chemin du dossier"},"identifier":{"label":"Identifiant"},"loginUrl":{"label":"URL du login"},"namePath":{"label":"Nom du dossier"},"new_identifier":{"label":"Identifiant"},"phoneNumber":{"label":"Num\xe9ro de t\xe9l\xe9phone"},"profileName":{"label":"Nom du profil"},"refreshToken":{"label":"Jeton de rafra\xeechissement"},"secret":{"label":"Mot de passe"},"timeout":{"label":"D\xe9lai (ms)"},"token":{"label":"Jeton"},"tricountUrl":{"label":"URL de Tricount"}}},"modal":{"aria-label":"Configuration","konnector":{"error":{"title":"Impossible de r\xe9cup\xe9rer le compte","description":"Le compte n\'a pas pu \xeatre r\xe9cup\xe9r\xe9 (%{message})","button":"Fermer"}},"accounts":{"title":"S\xe9lectionner un compte %{name} ","error":{"title":"Erreur","description":"Impossible de charger vos comptes","retry":"R\xe9essayer"}},"tabs":{"data":"Donn\xe9es","configuration":"Configuration"},"addAccount":{"title":"Connexion \xe0 %{name}","button":"Ajouter un compte"},"deleteBIConnection":{"title":"D\xe9connexion de votre banque","description":"La d\xe9connexion de votre banque a bien \xe9t\xe9 prise en compte et sera effective dans quelques instants. Les donn\xe9es pr\xe9c\xe9demment import\xe9es seront conserv\xe9es.","confirm-deletion":"Fermer"},"deleteAccount":{"title":"D\xe9connexion","description":"Vous serez d\xe9connect\xe9 de ce compte, mais les donn\xe9es d\xe9j\xe0 import\xe9es seront conserv\xe9es.","confirm":"D\xe9connecter","cancel":"Annuler"},"updateAccount":{"general-subheader":"G\xe9n\xe9ral","identifiers":"Identifiants","delete-account-success":"Le compte a \xe9t\xe9 d\xe9connect\xe9","delete-account-error":"Le compte n\'a pas pu \xeatre d\xe9connect\xe9, merci de r\xe9essayer plus tard, ou contactez notre support."}},"oauth":{"banking":{"connect":{"label":"Ajouter votre banque"},"reconnect":{"label":"Se reconnecter"}},"reconnect":{"label":"Se reconnecter"},"connect":{"description":"Connectez %{name} \xe0 votre Twake pour synchroniser votre compte et r\xe9cup\xe9rer automatiquement vos donn\xe9es.","label":"Ajouter un compte","submit":"Connecter","title":"Connecter \xe0 mon Twake"},"window":{"title":"OAuth"}},"triggerSuccessMessage":{"button":{"label":"Fermer"},"description":"Vos donn\xe9es existantes seront disponibles dans quelques minutes et les prochaines suivront automatiquement.","figure":{"alt":"Connect\xe9"},"title":"Configuration r\xe9ussie !"},"twoFAForm":{"modal-label":"Formulaire d\'authentification \xe0 deux facteurs","providers":{"default":"Saisissez le code qui vous a \xe9t\xe9 envoy\xe9 par e-mail ou SMS.","email":"Saisissez le code qui vous a \xe9t\xe9 envoy\xe9 par e-mail.","sms":"Saisissez le code qui vous a \xe9t\xe9 envoy\xe9 par SMS.","app_code":"Entrez un code \xe0 usage unique \xe0 g\xe9n\xe9rer depuis l\'application mobile %{name}.","app":"Utilisez l\'application de votre service pour continuer \xe0 vous connecter"},"desc-2fa":" Vous devez ouvrir l\'application de votre banque pour confirmer votre identit\xe9. Dans certains cas, vous devrez valider deux fois la demande.","desc_1":"Ce code re\xe7u sur votre mobile ou par email vous permet de valider votre connexion.","desc_2":"Ce second code re\xe7u sur votre mobile ou par email vous permet de finaliser votre connexion.","code":{"label_1":"code","label_2":"Second code"},"retry":"Code invalide, veuillez le ressaisir.","CTA":"Valider"},"account":{"success":{"title":"Configuration r\xe9ussie !","connect":"Vos donn\xe9es existantes seront disponibles dans quelques minutes et les prochaines suivront automatiquement.","banksLinkText":"Voir mes comptes dans %{appName}","driveLinkText":"Ouvrir le dossier dans %{appName}","button":"Fermer"}},"maintenance":{"noService":"Service interrompu","explanationTitle":"Que se passe-t-il ?"},"suggestions":{"title":"Importer mes donn\xe9es %{name}","data":"Installer %{name} importera automatiquement les donn\xe9es suivantes :","why":"Pourquoi %{name} mâ€™est propos\xe9 ?","reason_bank":"%{name} a \xe9t\xe9 d\xe9tect\xe9 \xe0 partir de vos d\xe9penses bancaires. Pas dâ€™inqui\xe9tude, personne \xe0 part vous ne peut avoir acc\xe8s \xe0 cette\xa0 information.","install":"Installer","silence":"Ne plus me proposer"},"dataType":{"none":"%{name} n\'acc\xe8dera \xe0 aucune de vos donn\xe9es personnelles.","activity":"Vos activit\xe9s","appointment":"Vos rendez-vous","bankTransactions":"Vos mouvements bancaires","bankAccounts":"Vos comptes bancaires","bill":"Vos factures","bloodPressure":"Votre pression art\xe9rielle","calendar":"Vos calendriers","certificate":"Vos attestations","commit":"Vos commits","consumption":"Votre consommation","contact":"Vos contacts","contract":"Vos contrats","courseMaterial":"Vos supports de cours","document":"Vos documents","event":"Vos \xe9v\xe8nements","family":"Informations sur votre foyer","geopoint":"Vos g\xe9olocalisations","heartbeat":"Votre rythme cardiaque","home":"Informations sur votre domicile","phonecommunicationlog":"Votre journal d\'appels","picture":"Vos images","podcast":"Vos podcasts","profile":"Votre profil client","refund":"Vos remboursements","sinister":"Vos sinistres","sleepTime":"Votre temps de sommeil","stepsNumber":"Vos nombres de pas","temperature":"Vos donn\xe9es de temp\xe9rature","travelDate":"Vos s\xe9jours et voyages","tweet":"Vos tweets","videostream":"Vos vid\xe9os","weight":"Votre poids"},"vaultCiphersList":{"title":"Depuis quel compte souhaitez vous importer vos donn\xe9es ?","otherAccount":"Depuis un autre compteâ€¦"},"triggerManager":{"confirmationModal":{"title":"Mettre \xe0 jour les identifiants ?","description":"Vos identifiants pr\xe9c\xe9dents seront perdus. Ajoutez un nouveau compte pour les conserver.","primaryText":"Mettre \xe0 jour","secondaryText":"Annuler"}},"connectionBackdrop":{"connecting":"Connexion en cours","progress":"\xc9tablissement de la connexion \xe0 %{name}, cela peut prendre jusqu\'\xe0 30 secondes.."},"disconnectedAccountModal":{"disconnected-help":"Vous avez d\xe9connect\xe9 votre compte. Vous conservez l\'historique de vos donn\xe9es d\xe9j\xe0 import\xe9es. Si vous souhaitez reprendre la connexion, reconfigurez votre compte depuis le bouton \\"Ajouter une banque\\"."},"konnectorBlock":{"open":"Ouvrir le site","store":{"primary":"Voir dans le store Twake Workplace","secondary":"Acc\xe8s \xe0 la fiche descriptive de cette app"},"disconnected":"D\xe9connect\xe9","inMaintenance":"En maintenance","hasNewVersionAvailable":"Nouvelle version disponible","fatalError":"Une erreur est survenue \xe0 la r\xe9cup\xe9ration du service. Si ce probl\xe8me persiste, n\'h\xe9sitez pas \xe0 nous contacter \xe0 [%{name}](%{link})"},"datacards":{"trips":{"title":"Derniers trajets","caption":"Visualisez vos 5 trajets les plus r\xe9cents r\xe9cup\xe9r\xe9s sur %{konnectorName}","modes":{"AIR_OR_HSR":"Avion","BICYCLING":"V\xe9lo","BUS":"Bus","CAR":"Voiture","IN_VEHICLE":"V\xe9hicule","TRAIN":"Train","UNKNOWN":"Non reconnu","WALKING":"Marche","ON_FOOT":"Marche","RUNNING":"Course"}},"files":{"title":"Vos documents","imported":"Import\xe9 le %{date}","caption":"Ce service r\xe9cup\xe8re vos derniers documents et garde une sauvegarde compl\xe8te pour vous."}}}')},21325:function(e){"use strict";e.exports=JSON.parse('{"close":"Sluiten","back":"Ga terug","badges":{"warning":"Waarschuwing"},"accountForm":{"submit":{"label":"Koppelen"},"fields":{"optional":"(optioneel)"},"password":{"show":"Tonen","hide":"Verbergen"},"disconnect":{"button":"Rekening loskoppelen"},"installFlagship":{"label":"Installeer Cozy op je telefoon"},"cannotConnectModal":{"title":"Kun je geen verbinding maken?","content":"Controleer je inloggegevens of herstel je wachtwoord op de website van [%{vendorName}](%{vendorLink}).","noAccount":"Als je nog geen account hebt, maak die dan aan op de website van [%{vendorName}](%{vendorLink})."},"cannotConnectLink":"Ik kan geen verbinding maken","notClientSide":"Installeer de Cozy-app op je telefoon of tablet om je %{name}-gegevens te synchroniseren.","clientSide":{"title":"Koppelen aan mijn Cozy","submit":"Koppelen","description":"Koppel %{name} aan je Cozy om te synchroniseren met je account en automatisch al je gegevens op te halen."}},"contracts":{"headers":{"bankAccounts":"Bankrekeningen","default":"Contracten"},"deleted":"Verwijderd","no-contracts":"Er zijn geen contracten meer","handle-synchronization":"Synchronisaties beheren","desynchronized":{"message":"je hebt de synchroniastie met dit account stopgezet op %{date}","dateFormat":"dd-LL-yyyy"}},"contractForm":{"details":"Details","sharing":"Delen","back-to-accounts":"Terug naar rekeningen","update":"Bijwerken","delete":"Standaardwaarden","deleting":"Bezig met herstellenâ€¦","confirm-deletion":{"description":"Hiermee worden tevens je transacties en rekeningkoppelingen verwijderd. Als je je bankgegevens niet opnieuw wilt importeren tijdens de volgende geplande synchronisatie, verwijder dan de koppeling.","confirm":"Rekeningverwijdering bevestigen","title":"Weet je het zeker?"},"deletion_error":"Er is een fout opgetreden tijdens het verwijderen van de groep.","label":"Label","owner":"Eigenaar","addOwnerBtn":"Eigenaar toevoegen","removeOwnerBtn":"Eigenaar verwijderen","ownerPlaceholder":"Kies een eigenaar","bank":"Bank","number":"Nummer","type":"Soort","apply":"Toepassen","success":"De rekening is bijgewerkt","failure":"Fout tijdens bijwerken van rekening","removeAccountBtn":"Rekening verwijderen","listPlaceholder":"Zoeken naar contactpersoon","listEmptyMessage":"Geen contactpersoon gevonden","addContactLabel":"Contactpersoon toevoegen","cancel":"Annuleren","imported":"Gesynchroniseerd account"},"card":{"launchTrigger":{"button":{"label":"Synchroniseren"},"configure":"Instellen","connect":"Koppelen","success":"De synchronisatie is voltooid","error":"Er is een fout opgetreden.","frequency":{"label":"Frequentie:","hourly":"Elk uur","daily":"Elke dag","weekly":"Elke week","monthly":"Elke maand","undefined":"Handmatig"},"lastSync":{"label":"Bijwerken:","syncing":"Gegevensherstelâ€¦","unknown":"Onbekend","afterSomeTimes":"%{times} geleden gesynchroniseerd","format":"dd-LL-yyyy","disconnected":"Losgekoppeld","justNow":"Zojuist gesynchroniseerd"},"runningAlert":{"title":"Sluit de app niet!","body":"De telefoon moet aan blijven om het proces te kunnen voltooien. Je kunt echter gebruik blijven maken van de app.","button":"Ik begrijp het"}},"appLink":{"drive":{"title":"Mijn documenten","description":"Deze dienst haalt je recentste documenten op en maakt er een volledige back-up van.","button":"Documenten openen","install":"Ontdek Cozy Schijf"},"contacts":{"title":"Mijn contactpersonen","description":"Deze dienst synchroniseert al je contactpersonen.","button":"Contactpersonen tonen","install":"Ontdek Cozy Contactpersonen"},"banks":{"title":"Mijn bankgegevens","description":"Deze dienst haalt al je bankgegevens op en maakt er een handig overzicht van.","button":"Bankrekeningen tonen","install":"Ontdek Cozy Banken"},"coachco2":{"title":"Apps die verdergaan","description":"De volgende apps maken gebruik van je anonieme Cozy-gegevens.","button":"Coach CO2","install":"Ontdek CoachCO2"}},"information":{"title":"Nuttige informatie","websiteLink":"De website openen","store":"Zie in de Cozy Cloud Store","storeDescription":"Ga naar de beschrijving van deze app"}},"default":{"dateFormat":"dd-LL-yyyy","baseDir":"/Administratief"},"error":{"application-not-found":"Deze app bestaat niet","reconnect-via-form":"Opnieuw koppelen","job":{"DISK_QUOTA_EXCEEDED":{"title":"Geen vrije ruimte meer","description":"De dienst kan je documenten momenteel niet ophalen. Verwijder enkele bestanden of ga naar **Instellingen --\x3e Opslag** om meer vrije ruimte te verkrijgen."},"CHALLENGE_ASKED":{"title":"Tweede stap vereist","description":"Deze website vereist een tweede authenticatiemethode. Doorloop het proces opnieuw om de code op te geven en je gegevens op te halen."},"OAUTH_CANCELED":{"title":"Afgebroken","description":"Je bank kan niet worden toegevoegd omdat je de koppeling hebt afgebroken. Klik op â€˜Bank toevoegenâ€™ op het opnieuw te proberen."},"LOGIN_FAILED":{"title":"Onjuiste of verouderde inloggegevens","description":"Je inloggegevens zijn onjuist of verlopen. Controleer je inloggegevens op [%{name}](%{link}) voordat je ze bijwerkt."},"LOGIN_FAILED.NEEDS_SECRET":{"title":"Aanvullende informatie benodigd","description":"Er is een aanvullende stap gevraagd om de dienst te koppelen. Doorloop het proces opnieuw om de gevraagde gegevens in te voeren."},"LOGIN_FAILED.TOO_MANY_ATTEMPTS":{"title":"Tijdelijk geblokkeerd","description":"Te veel pogingen. Werk je gegevens bij op [%{name}](%{link}) en werk de connector later bij."},"MAINTENANCE":{"title":"Website is niet beschikbaar","description":"Het lijkt er op dat [%{name}](%{link}) niet beschikbaar is of de verbinding moet worden bijgewerkt. Doorloop het proces later opnieuw of bekijk onze online-hulp."},"NOT_EXISTING_DIRECTORY":{"title":"Bestemming ontbreekt","description":"Het lijkt er op dat de map niet aanwezig is op de bestemming. Herstel deze door je account opnieuw te koppelen."},"TERMS_VERSION_MISMATCH":{"title":"Recentste algemene voorwaarden niet geaccepteerd","description":"Het lijkt er op dat %{name} haar algemene voorwaarden heeft bijgewerkt. Controleer of de dienst is bijgewerkt. Als de fout blijft optreden, neem dan contact met ons op via [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR":{"title":"Verbindingsfout","description":"Er is een onbekende fout opgetreden. Probeer of het helpt om je gegevens bij te werken. Als dat niet helpt, neem dan contact met ons op via [%{supportMail}](mailto:%{supportMail})."},"USER_ACTION_NEEDED":{"title":"Actie benodigd op website van dienst","description":"Het lijkt er op dat [%{name}](%{link}) vereist dat je inlogt en een specifieke actie uitvoert. Verhelp het probleem en doorloop het proces opnieuw."},"USER_ACTION_NEEDED.OAUTH_OUTDATED":{"title":"Nieuwe goedkeuring vereist","description":"[%{name}](%{link}) vereist dat je de toegang opnieuw goedkeurt. Koppel je account \'%{name}\' opnieuw - er gaan geen gegevens verloren."},"USER_ACTION_NEEDED.ACCOUNT_REMOVED":{"title":"Account is niet beschikbaar","description":"Het lijkt er op dat je account niet meer beschikbaar is. Controleer je account op [%{name}](%{link}) voordat je het opnieuw probeert."},"USER_ACTION_NEEDED.CHANGE_PASSWORD":{"title":"Wachtwoord moet worden bijgewerkt","description":"Het lijkt er op dat [%{name}](%{link}) vereist dat je wachtwoord moet worden bijgewerkt. Verhelp het probleem en doorloop het proces opnieuw."},"USER_ACTION_NEEDED.PERMISSIONS_CHANGED":{"title":"Nieuwe machtigingen benodigd","description":"De connector is bijgewerkt en heeft nieuwe machtigingen nodig. Keur deze goed en doorloop het proces opnieuw."},"USER_ACTION_NEEDED.SCA_REQUIRED":{"title":"Nieuwe goedkeuring vereist","description":"Het lijkt er op dat [%{name}](%{link}) vereist dat je inlogt om te kunnen synchroniseren. Verhelp het probleem en doorloop het proces opnieuw."},"USER_ACTION_NEEDED.TWOFA_EXPIRED":{"title":"Nieuwe goedkeuring vereist","description":"De recentste verbindingspoging is mislukt. Probeer het opnieuw en geef desgewenst een goedkeuringscode op."},"USER_ACTION_NEEDED.WEBAUTH_REQUIRED":{"title":"Goedkeuring op website van dienst vereist","description":"Het lijkt er op dat [%{name}](%{link}) vereist dat je inlogt om te kunnen synchroniseren. Verhelp het probleem en doorloop het proces opnieuw."},"USER_ACTION_NEEDED.WRONG_TWOFA_CODE":{"title":"Onjuiste authenticatiecode","description":"De opgegeven authenticatiecode is onjuist. Probeer het opnieuw."},"VENDOR_DOWN":{"title":"Dienst is niet beschikbaar","description":"Het lijkt er op dat [%{name}](%{link}) niet beschikbaar is. Doorloop het proces later opnieuw."},"VENDOR_DOWN.BANK_DOWN":{"title":"Banksite is niet beschikbaar","description":"Het lijkt er op dat [%{name}](%{link}) niet beschikbaar is. Doorloop het proces later opnieuw."},"VENDOR_DOWN.LINXO_DOWN":{"title":"Dienst is niet beschikbaar","description":"Het lijkt er op dat de bankconnectors overbelast zijn. Doorloop het proces later opnieuw."},"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED":{"title":"Dit account is al toegevoegd","description":"Je mogelijke aanpassing aan de accountlijst wordt binnen een paar minuten doorgevoerd."}}},"fields":{"answer":{"label":"Geheim antwoord"},"birthdate":{"label":"Geboortedatum","placeholder":"dd-mm-yyyy"},"code":{"label":"Geheime code"},"date":{"label":"Datum","placeholder":"dd-mm-yyyy"},"email":{"label":"E-mailadres"},"firstname":{"label":"Voornaam"},"lastname":{"label":"Achternaam"},"login":{"label":"Gebruikersnaam"},"password":{"label":"Wachtwoord"},"phone":{"label":"Telefoonnummer"},"two_fa_code":{"label":"Authenticatiecode"}},"folder":{"administrative":"Administratief","photos":"Foto\'s"},"infos":{"konnectorUpdate":{"title":"Er is een update beschikbaar voor deze dienst.","body":{"regular":"Voer de update uit om je gegevens op te kunnen blijven halen en over de nieuwste functies te beschikken:","blocking":"Voer de update uit om je gegevens op te kunnen blijven halen:"},"button":{"label":"Update bekijken"}}},"legacy":{"fields":{"access_token":{"label":"Toegangssleutel"},"accessTokenSecret":{"label":"Toegangssleutelgeheim"},"accountName":{"label":"Accountnaam"},"agreement":{"label":"Ik ga akkoord"},"apikey":{"label":"API-sleutel"},"appKey":{"label":"Appsleutel"},"appSecret":{"label":"Appgeheim"},"authCode":{"label":"Auth.code"},"bank_identifier":{"label":"Bankidentificatie (optioneel)"},"branchName":{"label":"Filiaal"},"cardNumber":{"label":"Kaartnummer"},"consumerKey":{"label":"Klantsleutel"},"consumerSecret":{"label":"Klantgeheim"},"dob":{"label":"Geboortedatum"},"folderPath":{"label":"Mappad"},"identifier":{"label":"Identificatie"},"loginUrl":{"label":"Inlog-url"},"namePath":{"label":"Mapnaam"},"new_identifier":{"label":"Identificatie"},"phoneNumber":{"label":"Telefoonnummer"},"profileName":{"label":"Profielnaam"},"refreshToken":{"label":"Toegangssleutel vernieuwen"},"secret":{"label":"Wachtwoord"},"timeout":{"label":"Vertraging (in ms)"},"token":{"label":"Toegangssleutel"},"tricountUrl":{"label":"Tricount-url"}}},"modal":{"aria-label":"Connector instellen","konnector":{"error":{"title":"Je account kan niet worden opgehaald","description":"Je account kan niet worden opgehaald (%{message}).","button":"Sluiten"}},"accounts":{"title":"Kies een %{name}-account","error":{"title":"Fout","description":"Je account(s) kan/kunnen niet worden opgehaald","retry":"Opnieuw proberen"}},"tabs":{"data":"Gegevens","configuration":"Instellen"},"addAccount":{"title":"%{name} koppelen","button":"Account toevoegen"},"deleteBIConnection":{"title":"Loskoppelen","description":"Je verzoek is genoteerd en wordt over enkele ogenblikken uitgevoerd. Eerder ge\xefmporteerde gegevens worden niet verwijderd.","confirm-deletion":"Sluiten"},"deleteAccount":{"title":"Loskoppelen","description":"Je account wordt losgekoppeld, maar belangrijke gegevens worden bewaard","confirm":"Loskoppelen","cancel":"Annuleren"},"updateAccount":{"general-subheader":"Algemeen","identifiers":"Identificaties","delete-account-success":"Het account is losgekoppeld","delete-account-error":"Het account kan niet worden losgekoppeld. Probeer het later opnieuw of neem contact op met ons ondersteuningsteam."}},"oauth":{"banking":{"connect":{"label":"Bank toevoegen"},"reconnect":{"label":"Opnieuw koppelen"}},"reconnect":{"label":"Opnieuw koppelen"},"connect":{"description":"Koppel %{name} aan je Cozy om te synchroniseren met je account en automatisch al je gegevens op te halen.","label":"Koppelen","submit":"Koppelen","title":"Koppelen aan mijn Cozy"},"window":{"title":"OAuth"}},"triggerSuccessMessage":{"button":{"label":"Sluiten"},"description":"Je gegevens zijn over een paar minuten beschikbaar op je Cozy en worden voortaan automatisch bijgewerkt.","figure":{"alt":"gekoppeld"},"title":"Instellen voltooid!"},"twoFAForm":{"modal-label":"Authenticatie in twee stappen","providers":{"default":"Voer de code in die je per e-mail of sms hebt ontvangen","email":"Voer de code in die je per e-mail hebt ontvangen","sms":"Voer de code in die je per sms hebt ontvangen","app_code":"Voer de eenmalige code in die je kunt aanmaken in ${name}","app":"Open de app van de dienst om de koppeling goed te keuren."},"desc-2fa":"Open de app van de dienst om de koppeling goed te keuren. In sommige gevallen moet je twee keer toestemming geven.","desc_1":"Met deze code kun je de koppeling bevestigen.","desc_2":"De tweede code, om de koppeling te bevestigen, ontvang je op je telefoon of per e-mail.","code":{"label_1":"code","label_2":"Tweede code"},"retry":"Ongeldige code - probeer het opnieuw.","CTA":"Verifi\xebren"},"account":{"success":{"title":"Instellen voltooid!","connect":"Je gegevens zijn over een paar minuten beschikbaar op je Cozy en worden voortaan automatisch bijgewerkt.","banksLinkText":"Accounts bekijken in %{appName}","driveLinkText":"Map openen in Cozy Schijf","button":"Sluiten"}},"maintenance":{"noService":"Dienst is onderbroken","explanationTitle":"Wat gebeurt er allemaal?"},"suggestions":{"title":"Gegevens importeren uit %{name}","data":"Door %{name} te installeren worden de volgende gegevens automatisch ge\xefmporteerd:","why":"Waarom is %{name} aanbevolen?","reason_bank":"%{name} is aangetroffen in \xe9\xe9n van je bankoverschrijvingen. Geen zorgen: niemand anders heeft toegang tot deze informatie.","install":"Installeren","silence":"Niet meer aanbevelen"},"dataType":{"none":"%{name} heeft geen toegang tot je persoonlijke gegevens","activity":"Mijn activiteiten","appointment":"Mijn afspraken","bankTransactions":"Mijn bankoverschrijvingen","bankAccounts":"Mijn bankrekeningen","bill":"Mijn rekeningen","bloodPressure":"Mijn bloeddruk","calendar":"Mijn agenda\'s","certificate":"Mijn certificaten","commit":"Mijn commits","consumption":"Mijn consumpties","contact":"Mijn contactpersonen","contract":"Mijn contracten","courseMaterial":"Mijn cursusmateriaal","document":"Mijn documenten","event":"Mijn gebeurtenissen","family":"Mijn gezinsinformatie","geopoint":"Mijn geolocaties","heartbeat":"Mijn hartslagen","home":"Mijn woninginformatie","phonecommunicationlog":"Mijn oproepgeschiedenis","picture":"Mijn afbeeldingen","podcast":"Mijn podcasts","profile":"Mijn klantprofiel","refund":"Mijn terugbetalingen","sinister":"Mijn sinisters","sleepTime":"Mijn slaaptijd","stepsNumber":"Mijn wandelstappen","temperature":"Mijn temperatuurgegevens","travelDate":"Mijn reisdatums","tweet":"Mijn tweets","videostream":"Mijn video\'s","weight":"Mijn gewicht"},"vaultCiphersList":{"title":"Vanuit welk account wil je je gegevens importeren?","otherAccount":"Uit ander accountâ€¦"},"triggerManager":{"confirmationModal":{"title":"Inloggegevens bijwerken?","description":"Je vorige inloggegevens worden gewist - voeg een nieuw account toe om ze te bewaren.","primaryText":"Bijwerken","secondaryText":"Annuleren"}},"connectionBackdrop":{"connecting":"Bezig met verbindenâ€¦","progress":"We zoeken %{name} op - dit kan max. 30 seconden durenâ€¦"},"disconnectedAccountModal":{"disconnected-help":"Dit account is losgekoppeld, maar je gegevens zijn bewaard. Als je opnieuw wilt synchroniseren, stel dan je account opnieuw in middels de knop \'Bank toevoegen\'."},"konnectorBlock":{"account":"Klantaccount","disconnected":"Losgekoppeld","inMaintenance":"Onderhoudswerkzaamheden","hasNewVersionAvailable":"Nieuwe versie beschikbaar","fatalError":"Er is een fout opgetreden bij het herstellen van de dienst. Als het probleem zich blijft voordoen, neem dan contact met ons op via [%{name}](%{link})"},"datacards":{"trips":{"title":"Recente reizen","caption":"Bekijk je 5 recentste reizen van %{konnectorName}","modes":{"AIR_OR_HSR":"Vliegtuig","BICYCLING":"Fiets","CAR":"Auto","SUBWAY":"Metro","TRAIN":"Trein","UNKNOWN":"","WALKING":"Wandelen"}},"files":{"title":"Mijn documenten","imported":"Ge\xefmporteerd op %{date}","caption":"Deze dienst haalt je recentste documenten op en maakt er een volledige back-up van."}}}')},19337:function(e){"use strict";e.exports=JSON.parse('{"close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ","back":"ÐÐ°Ð·Ð°Ð´","badges":{"warning":"ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ"},"accountForm":{"submit":{"label":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ"},"fields":{"optional":"(Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)"},"password":{"show":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ","hide":"Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ"},"disconnect":{"button":"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"},"installFlagship":{"label":"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Twake Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹"},"cannotConnectModal":{"title":"ÐÐµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ?","content":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [%{vendorName}](%{vendorLink}).","noAccount":"Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ Ð½ÐµÑ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°, Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [%{vendorName}](%{vendorLink})."},"cannotConnectLink":"ÐÐµ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ","notClientSide":"Ð”Ð»Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð²Ð°ÑˆÐµÐ³Ð¾ %{name} Ð² Twake Ð²Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Twake Ð½Ð° Ð²Ð°ÑˆÐµÐ¼ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ðµ Ð¸Ð»Ð¸ Ð¿Ð»Ð°Ð½ÑˆÐµÑ‚Ðµ.","clientSide":{"title":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº Ð²Ð°ÑˆÐµÐ¼Ñƒ Twake","submit":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","description":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ %{name} Ðº Twake, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ."}},"contracts":{"headers":{"bankAccounts":"Ð‘Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ ÑÑ‡ÐµÑ‚Ð°","default":"ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ‹"},"deleted":"Ð£Ð´Ð°Ð»ÐµÐ½","no-contracts":"ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð² Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½ÐµÑ‚","handle-synchronization":"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹","desynchronized":{"message":"Ð²Ñ‹ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ð»Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑŽ ÑÑ‚Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° %{date}","dateFormat":"Ð´Ð´.Ð¼Ð¼.Ð³Ð³"}},"contractForm":{"details":"Ð”ÐµÑ‚Ð°Ð»Ð¸","sharing":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","back-to-accounts":"ÐÐ°Ð·Ð°Ð´ Ðº Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ð¼","update":"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ","delete":"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ","deleting":"Ð¡Ð±Ñ€Ð¾Ñ...","confirm-deletion":{"description":"Ð­Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¶Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ Ð²Ð°ÑˆÐ¸ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸ Ð²Ð¼ÐµÑÑ‚Ðµ ÑÐ¾ ÑÐ²ÑÐ·ÑÐ¼Ð¸ ÑÑ‡ÐµÑ‚Ð¾Ð². Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð½Ðµ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð·Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸, Ð²Ð°Ð¼ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ÑÑ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ.","confirm":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°","title":"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹?"},"deletion_error":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹.","label":"ÐœÐµÑ‚ÐºÐ°","owner":"Ð’Ð»Ð°Ð´ÐµÐ»ÐµÑ†","addOwnerBtn":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°","removeOwnerBtn":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°","ownerPlaceholder":"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°","bank":"Ð‘Ð°Ð½Ðº","number":"ÐÐ¾Ð¼ÐµÑ€","type":"Ð¢Ð¸Ð¿","apply":"ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ","success":"ÐÐºÐºÐ°ÑƒÐ½Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½","failure":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°","removeAccountBtn":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚","listPlaceholder":"ÐÐ°Ð¹Ñ‚Ð¸ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚","listEmptyMessage":"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹","addContactLabel":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚","cancel":"ÐžÑ‚Ð¼ÐµÐ½Ð°","imported":"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"},"card":{"launchTrigger":{"button":{"label":"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"},"configure":"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ","connect":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","success":"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾","error":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°.","frequency":{"label":"Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð°:","hourly":"ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‡Ð°Ñ","daily":"Ð Ð°Ð· Ð² Ð´ÐµÐ½ÑŒ","weekly":"Ð Ð°Ð· Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ","monthly":"Ð Ð°Ð· Ð² Ð¼ÐµÑÑÑ†","undefined":"Ð’Ñ€ÑƒÑ‡Ð½ÑƒÑŽ"},"lastSync":{"label":"ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:","syncing":"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…â€¦","unknown":"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ ÑÐ¸Ð½Ñ…Ñ€. Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°","afterSomeTimes":"Ð¡Ð¸Ð½Ñ…Ñ€. %{times} Ð½Ð°Ð·Ð°Ð´","format":"Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³","disconnected":"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½","justNow":"Ð¡Ð¸Ð½Ñ…Ñ€. Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾"},"runningAlert":{"title":"ÐÐµ Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ!","body":"Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±Ñ‹Ð»Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ‹Ð¼. ÐžÐ´Ð½Ð°ÐºÐ¾ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼, Ð¿Ð¾ÐºÐ° Ð¾Ð½Ð¾ Ð¾ÑÑ‚Ð°ÐµÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼ Ð½Ð° Ð¿ÐµÑ€ÐµÐ´Ð½ÐµÐ¼ Ð¿Ð»Ð°Ð½Ðµ.","button":"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"}},"appLink":{"drive":{"title":"Ð’Ð°ÑˆÐ¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹","description":"Ð­Ñ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð²Ð°ÑˆÐ¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ.","button":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹","install":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Twake Drive"},"contacts":{"title":"Ð’Ð°ÑˆÐ¸ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹","description":"Ð­Ñ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð²ÑÐµ Ð²Ð°ÑˆÐ¸ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹.","button":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹","install":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Twake Contacts"},"banks":{"title":"Ð’Ð°ÑˆÐ¸ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ","description":"Ð­Ñ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð¸ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸ÑÑ….","button":"Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ð¼ ÑÑ‡ÐµÑ‚Ð°Ð¼","install":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Twake Banks"},"coachco2":{"title":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ ÑƒÐ³Ð»ÑƒÐ±Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°","description":"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¸Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°.","button":"Coach CO2","install":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ CoachCO2"}},"information":{"title":"ÐŸÐ¾Ð»ÐµÐ·Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ","websiteLink":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ°Ð¹Ñ‚","store":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Twake Workplace Store","storeDescription":"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÑŽ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"}},"default":{"dateFormat":"Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³","baseDir":"/ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ"},"error":{"application-not-found":"Ð­Ñ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚","reconnect-via-form":"ÐŸÐµÑ€ÐµÐ¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","job":{"DISK_QUOTA_EXCEEDED":{"title":"Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾","description":"Ð¡ÐµÐ¹Ñ‡Ð°Ñ ÑÑ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑƒÐ´Ð°Ð»Ð¸Ñ‚Ðµ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ > Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ**, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾ÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¼ÐµÑÑ‚Ð¾."},"CHALLENGE_ASKED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ","description":"Ð’ÐµÐ±-ÑÐ°Ð¹Ñ‚ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð´Ð²ÑƒÑ…Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð½ÑƒÑŽ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ð²ÐµÑÑ‚Ð¸ ÐºÐ¾Ð´ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…."},"OAUTH_CANCELED":{"title":"ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾","description":"ÐœÑ‹ Ð½Ðµ ÑÐ¼Ð¾Ð³Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð°Ñˆ Ð±Ð°Ð½Ðº, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð²Ñ‹ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ð»Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ \\"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð±Ð°Ð½Ðº\\" ÐµÑ‰Ðµ Ñ€Ð°Ð·, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°."},"LOGIN_FAILED":{"title":"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð¸Ð»Ð¸ ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ","description":"Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚Ðµ, Ð²Ð°Ñˆ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð½ÐµÐ´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹ Ð¸Ð»Ð¸ ÑƒÑÑ‚Ð°Ñ€ÐµÐ»Ð¸. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸Ñ… Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [%{name}](%{link}) Ð¿ÐµÑ€ÐµÐ´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼."},"LOGIN_FAILED.NEEDS_SECRET":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ","description":"ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ."},"LOGIN_FAILED.TOO_MANY_ATTEMPTS":{"title":"Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½","description":"Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐ¸ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [%{name}](%{link}) Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ð¾Ð·Ð¶Ðµ."},"MAINTENANCE":{"title":"Ð¡Ð°Ð¹Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ ÑÐ°Ð¹Ñ‚ [%{name}](%{link}) Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¸Ð»Ð¸ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ð¾Ð·Ð¶Ðµ Ð¸Ð»Ð¸ Ð¿Ð¾ÑÐµÑ‚Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸."},"NOT_EXISTING_DIRECTORY":{"title":"ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ†ÐµÐ»ÐµÐ²Ð°Ñ Ð¿Ð°Ð¿ÐºÐ°","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ Ñ†ÐµÐ»ÐµÐ²Ð°Ñ Ð¿Ð°Ð¿ÐºÐ° Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð±Ñ‹Ð»Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð°. Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÐµÐµ, Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ð² ÑÑ‚Ð¾Ñ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚, Ð° Ð·Ð°Ñ‚ÐµÐ¼ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ð² ÑÐ½Ð¾Ð²Ð°."},"TERMS_VERSION_MISMATCH":{"title":"ÐÐ¾Ð²Ñ‹Ðµ Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð½Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ñ‹","description":"%{name}, Ð¿Ð¾Ñ…Ð¾Ð¶Ðµ, Ð¾Ð±Ð½Ð¾Ð²Ð¸Ð» ÑÐ²Ð¾Ð¸ Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ ÑÐµÑ€Ð²Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½. Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR":{"title":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","description":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ. Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR.PARTIAL_SYNC":{"title":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","description":"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°, Ð½Ð¾ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ"},"USER_ACTION_NEEDED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÑ‚Ð°Ð²Ñ‰Ð¸ÐºÐ°","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ ÑÐ°Ð¹Ñ‚ [%{name}](%{link}) Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ñ‚ Ð²Ð°Ñ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ ÑÐ½Ð¾Ð²Ð°, Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ."},"USER_ACTION_NEEDED.OAUTH_OUTDATED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","description":"Ð¡ÐµÑ€Ð²Ð¸Ñ [%{name}](%{link}) Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ñ‚ Ð²Ð°Ñ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð¸ ÑÐ½Ð¾Ð²Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ %{name}. Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ñ‹."},"USER_ACTION_NEEDED.ACCOUNT_REMOVED":{"title":"ÐÐºÐºÐ°ÑƒÐ½Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ Ð²Ð°Ñˆ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð°ÐºÑ‚Ð¸Ð²ÐµÐ½. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐµÐ³Ð¾ Ð½Ð° [%{name}](%{link}) Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¾Ð¹."},"USER_ACTION_NEEDED.CHANGE_PASSWORD":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ ÑÐ°Ð¹Ñ‚ [%{name}](%{link}) Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ñ‚ Ð²Ð°Ñ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ð°Ñˆ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ ÑÐ½Ð¾Ð²Ð°, Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ."},"USER_ACTION_NEEDED.PERMISSIONS_CHANGED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ Ð½Ð¾Ð²Ñ‹Ðµ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ","description":"Ð’Ð°Ñˆ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð±Ñ‹Ð» Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½, Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ÑÑŒ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€Ð°."},"USER_ACTION_NEEDED.SCA_REQUIRED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ %{name} Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð²Ñ…Ð¾Ð´Ð° Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ ÑÐ½Ð¾Ð²Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸. Ð’Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¾Ð´Ð½Ð¾Ñ€Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð² Ð²Ð°ÑˆÐµÐ¼ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ."},"USER_ACTION_NEEDED.TWOFA_EXPIRED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸","description":"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ€Ð²Ð¸ÑÑƒ Ð½Ðµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ; Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐµÐ³Ð¾ ÑÐ½Ð¾Ð²Ð°. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð²Ð°Ð¼ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ÑÑ Ð²Ð²ÐµÑÑ‚Ð¸ ÐºÐ¾Ð´ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ."},"USER_ACTION_NEEDED.WEBAUTH_REQUIRED":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÑ‚Ð°Ð²Ñ‰Ð¸ÐºÐ°","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ [%{name}](%{link}) Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð½Ð° Ð¸Ñ… ÑÐ°Ð¹Ñ‚ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ ÑÐ½Ð¾Ð²Ð°, Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ."},"USER_ACTION_NEEDED.WRONG_TWOFA_CODE":{"title":"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð´Ð²ÑƒÑ…Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸","description":"ÐŸÑ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð° Ð½ÐµÐ²ÐµÑ€ÐµÐ½, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ð°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð·Ð°Ð½Ð¾Ð²Ð¾."},"USER_ACTION_NEEDED.CGU_FORM":{"title":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [%{name}](%{link}) Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°."},"VENDOR_DOWN":{"title":"Ð¡ÐµÑ€Ð²Ð¸Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ ÑÐµÑ€Ð²Ð¸Ñ [%{name}](%{link}) Ð² Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ð¾Ð·Ð¶Ðµ."},"VENDOR_DOWN.BANK_DOWN":{"title":"Ð¡Ð°Ð¹Ñ‚ Ð±Ð°Ð½ÐºÐ° Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½","description":"Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð² Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚ [%{name}](%{link}) Ð² Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ð¾Ð·Ð¶Ðµ"},"VENDOR_DOWN.LINXO_DOWN":{"title":"Ð¡ÐµÑ€Ð²Ð¸Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½","description":"ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñ‡Ñ‚Ð¾ Ð² Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð¼Ñ‹ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ·ÐºÑƒ Ñ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ð¼Ð¸ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€Ð°Ð¼Ð¸. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ð¾Ð·Ð¶Ðµ."},"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED":{"title":"Ð­Ñ‚Ð¾Ñ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚","description":"Ð’Ð°ÑˆÐ¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² ÑÐ¿Ð¸ÑÐºÐµ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð² Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÑ‡Ñ‚ÐµÐ½Ñ‹ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð¼Ð¸Ð½ÑƒÑ‚."},"WRONG_ACCOUNT_IDENTIFIER":{"title":"Ð­Ñ‚Ð¾ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ","description":"Ð’Ñ‹ ÑƒÐºÐ°Ð·Ð°Ð»Ð¸ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð½Ðµ ÑÐ²ÑÐ·Ð°Ð½ Ñ ÑÑ‚Ð¸Ð¼ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð¼"}}},"fields":{"answer":{"label":"Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚"},"birthdate":{"label":"Ð”Ð°Ñ‚Ð° Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ","placeholder":"Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³"},"code":{"label":"ÐšÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´"},"date":{"label":"Ð”Ð°Ñ‚Ð°","placeholder":"Ð´Ð´.Ð¼Ð¼.Ð³Ð³Ð³Ð³"},"email":{"label":"ÐÐ´Ñ€ÐµÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹"},"firstname":{"label":"Ð˜Ð¼Ñ"},"lastname":{"label":"Ð¤Ð°Ð¼Ð¸Ð»Ð¸Ñ"},"login":{"label":"Ð›Ð¾Ð³Ð¸Ð½"},"password":{"label":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ"},"phone":{"label":"ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°"},"two_fa_code":{"label":"ÐšÐ¾Ð´ ÑÑ‚Ñ€Ð¾Ð³Ð¾Ð¹ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸"}},"folder":{"administrative":"ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ","photos":"Ð¤Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¸"},"infos":{"konnectorUpdate":{"title":"Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ.","body":{"regular":"Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÑÑ‚Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¸Ð¼ÐµÑ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:","blocking":"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÐµÐ³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ:"},"button":{"label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ"}}},"legacy":{"fields":{"access_token":{"label":"Ð¢Ð¾ÐºÐµÐ½ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°"},"accessTokenSecret":{"label":"Ð¡ÐµÐºÑ€ÐµÑ‚ Ñ‚Ð¾ÐºÐµÐ½Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°"},"accountName":{"label":"Ð˜Ð¼Ñ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°"},"agreement":{"label":"Ð¯ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"},"apikey":{"label":"API-ÐºÐ»ÑŽÑ‡"},"appKey":{"label":"ÐšÐ»ÑŽÑ‡ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},"appSecret":{"label":"Ð¡ÐµÐºÑ€ÐµÑ‚ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},"authCode":{"label":"ÐšÐ¾Ð´ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸"},"bank_identifier":{"label":"Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð±Ð°Ð½ÐºÐ° (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)"},"branchName":{"label":"ÐžÑ‚Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ"},"cardNumber":{"label":"ÐÐ¾Ð¼ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ñ‹"},"consumerKey":{"label":"ÐŸÐ¾Ñ‚Ñ€ÐµÐ±Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÐºÐ»ÑŽÑ‡"},"consumerSecret":{"label":"ÐŸÐ¾Ñ‚Ñ€ÐµÐ±Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÑÐµÐºÑ€ÐµÑ‚"},"dob":{"label":"Ð”Ð°Ñ‚Ð° Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ"},"folderPath":{"label":"ÐŸÑƒÑ‚ÑŒ Ðº Ð¿Ð°Ð¿ÐºÐµ"},"identifier":{"label":"Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€"},"loginUrl":{"label":"URL Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð°"},"namePath":{"label":"Ð˜Ð¼Ñ Ð¿Ð°Ð¿ÐºÐ¸"},"new_identifier":{"label":"Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€"},"phoneNumber":{"label":"ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°"},"profileName":{"label":"Ð˜Ð¼Ñ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ"},"refreshToken":{"label":"Ð¢Ð¾ÐºÐµÐ½ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ"},"secret":{"label":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ"},"timeout":{"label":"Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° (Ð¼Ñ)"},"token":{"label":"Ð¢Ð¾ÐºÐµÐ½"},"tricountUrl":{"label":"URL Tricount"}}},"modal":{"aria-label":"ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ð½ÐµÐºÑ‚Ð¾Ñ€Ð°","konnector":{"error":{"title":"ÐÐµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²Ð°Ñˆ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚","description":"ÐÐºÐºÐ°ÑƒÐ½Ñ‚ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ (%{message}).","button":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},"accounts":{"title":"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ %{name}","error":{"title":"ÐžÑˆÐ¸Ð±ÐºÐ°","description":"ÐÐµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²Ð°Ñˆ(Ð¸) Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚(Ñ‹)","retry":"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ"}},"tabs":{"data":"Ð”Ð°Ð½Ð½Ñ‹Ðµ","configuration":"ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ"},"addAccount":{"title":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ðº %{name}","button":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"},"deleteBIConnection":{"title":"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð±Ð°Ð½ÐºÐ°","description":"Ð’Ð°Ñˆ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½. ÐžÐ½ Ð²ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ Ð² ÑÐ¸Ð»Ñƒ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ. Ð Ð°Ð½ÐµÐµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹.","confirm-deletion":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},"deleteAccount":{"title":"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ","description":"Ð’Ð°Ñˆ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½, Ð½Ð¾ ÑƒÐ¶Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹.","confirm":"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","cancel":"ÐžÑ‚Ð¼ÐµÐ½Ð°"},"updateAccount":{"general-subheader":"ÐžÐ±Ñ‰ÐµÐµ","identifiers":"Ð£Ñ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ","delete-account-success":"ÐÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½","delete-account-error":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚, Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÑƒ Ð¿Ð¾Ð·Ð¶Ðµ Ð¸Ð»Ð¸ ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°ÑˆÐµÐ¹ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹."}},"oauth":{"banking":{"connect":{"label":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð±Ð°Ð½Ðº"},"reconnect":{"label":"ÐŸÐµÑ€ÐµÐ¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ"}},"reconnect":{"label":"ÐŸÐµÑ€ÐµÐ¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ"},"connect":{"description":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ %{name} Ðº Ð²Ð°ÑˆÐµÐ¼Ñƒ Twake, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð²ÑÐµ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ.","label":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","submit":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ","title":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº Ð²Ð°ÑˆÐµÐ¼Ñƒ Twake"},"window":{"title":"OAuth"}},"triggerSuccessMessage":{"button":{"label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},"description":"Ð’Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚, Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.","figure":{"alt":"Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½"},"title":"ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð°!"},"twoFAForm":{"modal-label":"Ð¤Ð¾Ñ€Ð¼Ð° Ð´Ð²ÑƒÑ…Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð½Ð¾Ð¹ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸","providers":{"default":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ð°Ð¼ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Ð¸Ð»Ð¸ SMS","email":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ð°Ð¼ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","sms":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ð°Ð¼ Ð¿Ð¾ SMS","app_code":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¾Ð´Ð½Ð¾Ñ€Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð² Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ ${name}","app":"Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð¾ÑÑ‚Ð°Ð²Ñ‰Ð¸ÐºÐ° Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ñ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸"},"desc-2fa":"Ð’Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÑ‚Ð°Ð²Ñ‰Ð¸ÐºÐ°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ. Ð’ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ… Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð²Ð°Ð¶Ð´Ñ‹.","desc_1":"Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð´ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð²Ð°Ð¼ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð²Ñ…Ð¾Ð´.","desc_2":"Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ ÐºÐ¾Ð´, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð½Ð° Ð²Ð°Ñˆ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ð¸Ð»Ð¸ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ, Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð²Ð°Ð¼ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð²Ð°Ñˆ Ð²Ñ…Ð¾Ð´.","code":{"label_1":"ÐºÐ¾Ð´","label_2":"Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ ÐºÐ¾Ð´"},"retry":"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ¾Ð´, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","CTA":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ"},"account":{"success":{"title":"ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð°!","connect":"Ð’Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚, Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.","banksLinkText":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¼Ð¾Ð¸ ÑÑ‡ÐµÑ‚Ð° Ð² %{appName}","driveLinkText":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ Ð² Twake Drive","button":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},"maintenance":{"noService":"ÐžÐ±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾","explanationTitle":"Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚?"},"suggestions":{"title":"Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· %{name}","data":"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° %{name} Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:","why":"ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¼Ð½Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ %{name}?","reason_bank":"%{name} Ð±Ñ‹Ð» Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½ Ð² Ð¾Ð´Ð½Ð¾Ð¹ Ð¸Ð· Ð²Ð°ÑˆÐ¸Ñ… Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ñ… Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¹. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, Ð½Ð¸ÐºÑ‚Ð¾ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð½Ðµ Ð¸Ð¼ÐµÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº ÑÑ‚Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸","install":"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ","silence":"Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°Ñ‚ÑŒ"},"dataType":{"none":"%{name} Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð²Ð°ÑˆÐ¸Ð¼ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ð¼","activity":"Ð’Ð°ÑˆÐ¸ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸","appointment":"Ð’Ð°ÑˆÐ¸ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸","bankTransactions":"Ð’Ð°ÑˆÐ¸ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸","bankAccounts":"Ð’Ð°ÑˆÐ¸ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ðµ ÑÑ‡ÐµÑ‚Ð°","bill":"Ð’Ð°ÑˆÐ¸ ÑÑ‡ÐµÑ‚Ð°","bloodPressure":"Ð’Ð°ÑˆÐµ Ð°Ñ€Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð´Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ","calendar":"Ð’Ð°ÑˆÐ¸ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ð¸","certificate":"Ð’Ð°ÑˆÐ¸ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹","commit":"Ð’Ð°ÑˆÐ¸ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹","consumption":"Ð’Ð°ÑˆÐµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ðµ","contact":"Ð’Ð°ÑˆÐ¸ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹","contract":"Ð’Ð°ÑˆÐ¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ‹","courseMaterial":"Ð’Ð°ÑˆÐ¸ ÑƒÑ‡ÐµÐ±Ð½Ñ‹Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹","document":"Ð’Ð°ÑˆÐ¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹","event":"Ð’Ð°ÑˆÐ¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ","family":"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²Ð°ÑˆÐµÐ¹ ÑÐµÐ¼ÑŒÐµ","geopoint":"Ð’Ð°ÑˆÐ¸ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸","heartbeat":"Ð’Ð°ÑˆÐµ ÑÐµÑ€Ð´Ñ†ÐµÐ±Ð¸ÐµÐ½Ð¸Ðµ","home":"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²Ð°ÑˆÐµÐ¼ Ð´Ð¾Ð¼Ðµ","phonecommunicationlog":"Ð–ÑƒÑ€Ð½Ð°Ð» Ð²Ð°ÑˆÐ¸Ñ… Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¹","picture":"Ð’Ð°ÑˆÐ¸ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¸","podcast":"Ð’Ð°ÑˆÐ¸ Ð¿Ð¾Ð´ÐºÐ°ÑÑ‚Ñ‹","profile":"Ð’Ð°Ñˆ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ","refund":"Ð’Ð°ÑˆÐ¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‚Ñ‹","sinister":"Ð’Ð°ÑˆÐ¸ ÑÑ‚Ñ€Ð°Ñ…Ð¾Ð²Ñ‹Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¸","sleepTime":"Ð’Ð°ÑˆÐµ Ð²Ñ€ÐµÐ¼Ñ ÑÐ½Ð°","stepsNumber":"Ð’Ð°ÑˆÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑˆÐ°Ð³Ð¾Ð²","temperature":"Ð’Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ðµ","travelDate":"Ð’Ð°ÑˆÐ¸ Ð´Ð°Ñ‚Ñ‹ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº","tweet":"Ð’Ð°ÑˆÐ¸ Ñ‚Ð²Ð¸Ñ‚Ñ‹","videostream":"Ð’Ð°ÑˆÐ¸ Ð²Ð¸Ð´ÐµÐ¾","weight":"Ð’Ð°Ñˆ Ð²ÐµÑ"},"vaultCiphersList":{"title":"Ð˜Ð· ÐºÐ°ÐºÐ¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ?","otherAccount":"Ð˜Ð· Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°â€¦"},"triggerManager":{"confirmationModal":{"title":"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ?","description":"Ð’Ð°ÑˆÐ¸ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÑ‚ÐµÑ€ÑÐ½Ñ‹. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ñ….","primaryText":"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ","secondaryText":"ÐžÑ‚Ð¼ÐµÐ½Ð°"}},"connectionBackdrop":{"connecting":"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ","progress":"Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ñ %{name} Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð°Ð½ÑÑ‚ÑŒ Ð´Ð¾ 30 ÑÐµÐºÑƒÐ½Ð´..."},"disconnectedAccountModal":{"disconnected-help":"Ð­Ñ‚Ð¾Ñ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½. Ð’Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹. Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð²Ð¾Ð·Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑŽ, Ð¿ÐµÑ€ÐµÐ½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð²Ð°Ñˆ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ½Ð¾Ð¿ÐºÐ¸ \\"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð±Ð°Ð½Ðº\\"."},"konnectorBlock":{"open":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ°Ð¹Ñ‚","store":{"primary":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Twake Workplace store","secondary":"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÑŽ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ"},"disconnected":"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½","inMaintenance":"ÐÐ° Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¸","hasNewVersionAvailable":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð½Ð¾Ð²Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ","fatalError":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°. Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ [%{name}](%{link})"},"datacards":{"trips":{"title":"ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð¿Ð¾ÐµÐ·Ð´ÐºÐ¸","caption":"5 Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ñ… Ð¸Ð· %{konnectorName}","modes":{"AIR_OR_HSR":"Ð¡Ð°Ð¼Ð¾Ð»ÐµÑ‚","BICYCLING":"Ð’ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´","BUS":"ÐÐ²Ñ‚Ð¾Ð±ÑƒÑ","CAR":"ÐÐ²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÑŒ","IN_VEHICLE":"Ð¢Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚Ð½Ð¾Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾","TRAIN":"ÐŸÐ¾ÐµÐ·Ð´","UNKNOWN":"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾","WALKING":"ÐŸÐµÑˆÐºÐ¾Ð¼","ON_FOOT":"ÐŸÐµÑˆÐºÐ¾Ð¼","RUNNING":"Ð‘ÐµÐ³"}},"files":{"title":"Ð’Ð°ÑˆÐ¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹","imported":"Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ %{date}","caption":"Ð­Ñ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð²Ð°ÑˆÐ¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ."}}}')},2369:function(e){"use strict";e.exports=JSON.parse('{"close":"Ä\xf3ng","back":"Quay láº¡i","badges":{"warning":"Cáº£nh b\xe1o"},"accountForm":{"submit":{"label":"Káº¿t ná»‘i"},"fields":{"optional":"(t\xf9y chá»n)"},"password":{"show":"Hiá»‡n","hide":"áº¨n"},"disconnect":{"button":"Ngáº¯t káº¿t ná»‘i t\xe0i khoáº£n n\xe0y"},"installFlagship":{"label":"C\xe0i Ä‘áº·t Twake tr\xean di Ä‘á»™ng"},"cannotConnectModal":{"title":"Báº¡n kh\xf4ng thá»ƒ káº¿t ná»‘i?","content":"Báº¡n c\xf3 thá»ƒ kiá»ƒm tra th\xf4ng tin Ä‘Äƒng nháº­p hoáº·c Ä‘áº·t láº¡i máº­t kháº©u cá»§a m\xecnh tr\xean trang web cá»§a [%{vendorName}](%{vendorLink}).","noAccount":"Náº¿u báº¡n kh\xf4ng c\xf3 t\xe0i khoáº£n, báº¡n sáº½ cáº§n táº¡o má»™t t\xe0i khoáº£n tr\xean trang web cá»§a [%{vendorName}](%{vendorLink})."},"cannotConnectLink":"T\xf4i kh\xf4ng thá»ƒ káº¿t ná»‘i","notClientSide":"Äá»ƒ Ä‘á»“ng bá»™ h\xf3a dá»¯ liá»‡u %{name} cá»§a báº¡n trong Twake, báº¡n pháº£i sá»­ dá»¥ng á»©ng dá»¥ng Twake tr\xean Ä‘iá»‡n thoáº¡i hoáº·c m\xe1y t\xednh báº£ng cá»§a m\xecnh.","clientSide":{"title":"Káº¿t ná»‘i vá»›i Twake cá»§a báº¡n","submit":"Káº¿t ná»‘i","description":"Káº¿t ná»‘i %{name} vá»›i Twake cá»§a báº¡n Ä‘á»ƒ Ä‘á»“ng bá»™ h\xf3a t\xe0i khoáº£n v\xe0 truy xuáº¥t táº¥t cáº£ dá»¯ liá»‡u cá»§a báº¡n. "}},"contracts":{"headers":{"bankAccounts":"T\xe0i khoáº£n ng\xe2n h\xe0ng","default":"Há»£p Ä‘á»“ng"},"deleted":"Ä\xe3 x\xf3a","no-contracts":"Kh\xf4ng c\xf2n há»£p Ä‘á»“ng n\xe0o","handle-synchronization":"Xá»­ l\xfd c\xe1c Ä‘á»“ng bá»™ h\xf3a cá»§a t\xf4i","desynchronized":{"message":"báº¡n Ä‘\xe3 ngáº¯t Ä‘á»“ng bá»™ t\xe0i khoáº£n n\xe0y v\xe0o %{date}","dateFormat":"LL/dd/yy"}},"contractForm":{"details":"Chi tiáº¿t","sharing":"Chia sáº»","back-to-accounts":"Quay láº¡i t\xe0i khoáº£n","update":"Cáº­p nháº­t","delete":"Äáº·t láº¡i","deleting":"Äang Ä‘áº·t láº¡i...","confirm-deletion":{"description":"Äiá»u n\xe0y cÅ©ng sáº½ x\xf3a c\xe1c giao dá»‹ch cá»§a báº¡n c\xf9ng vá»›i c\xe1c li\xean káº¿t h\xf3a Ä‘Æ¡n. Náº¿u báº¡n kh\xf4ng muá»‘n nháº­p láº¡i dá»¯ liá»‡u ng\xe2n h\xe0ng cá»§a m\xecnh trong láº§n Ä‘á»“ng bá»™ h\xf3a theo lá»‹ch tr\xecnh tiáº¿p theo, báº¡n sáº½ pháº£i x\xf3a káº¿t ná»‘i.","confirm":"X\xe1c nháº­n x\xf3a t\xe0i khoáº£n","title":"Báº¡n c\xf3 cháº¯c cháº¯n kh\xf4ng?"},"deletion_error":"Ä\xe3 xáº£y ra lá»—i khi x\xf3a nh\xf3m.","label":"Nh\xe3n","owner":"Chá»§ sá»Ÿ há»¯u","addOwnerBtn":"Th\xeam chá»§ sá»Ÿ há»¯u","removeOwnerBtn":"X\xf3a chá»§ sá»Ÿ há»¯u n\xe0y","ownerPlaceholder":"Chá»n chá»§ sá»Ÿ há»¯u","bank":"Ng\xe2n h\xe0ng","number":"Sá»‘","type":"Loáº¡i","apply":"\xc1p dá»¥ng","success":"T\xe0i khoáº£n Ä‘\xe3 Ä‘Æ°á»£c cáº­p nháº­t th\xe0nh c\xf4ng","failure":"Lá»—i khi cáº­p nháº­t t\xe0i khoáº£n","removeAccountBtn":"X\xf3a t\xe0i khoáº£n","listPlaceholder":"T\xecm kiáº¿m má»™t li\xean há»‡","listEmptyMessage":"Kh\xf4ng t\xecm tháº¥y li\xean há»‡ n\xe0o","addContactLabel":"Th\xeam má»™t li\xean há»‡","cancel":"Há»§y","imported":"T\xe0i khoáº£n Ä‘\xe3 Ä‘Æ°á»£c Ä‘á»“ng bá»™ h\xf3a"},"card":{"launchTrigger":{"button":{"label":"Äá»“ng bá»™ h\xf3a"},"configure":"Cáº¥u h\xecnh","connect":"Káº¿t ná»‘i","success":"Äá»“ng bá»™ h\xf3a th\xe0nh c\xf4ng","error":"Ä\xe3 xáº£y ra lá»—i.","frequency":{"label":"Táº§n suáº¥t:","hourly":"Má»—i giá»","daily":"Má»—i ng\xe0y má»™t láº§n","weekly":"Má»—i tuáº§n má»™t láº§n","monthly":"Má»—i th\xe1ng má»™t láº§n","undefined":"Thá»§ c\xf4ng"},"lastSync":{"label":"Cáº­p nháº­t:","syncing":"Äang kh\xf4i phá»¥c dá»¯ liá»‡uâ€¦","unknown":"Äá»“ng bá»™ láº§n cuá»‘i kh\xf4ng x\xe1c Ä‘á»‹nh","afterSomeTimes":"Äá»“ng bá»™ c\xe1ch Ä‘\xe2y %{times}","format":"LL/dd/yyyy","disconnected":"Ä\xe3 ngáº¯t káº¿t ná»‘i","justNow":"Ä\xe3 Ä‘á»“ng bá»™ ngay b\xe2y giá»"},"runningAlert":{"title":"Äá»«ng Ä‘\xf3ng á»©ng dá»¥ng cá»§a báº¡n!","body":"Äá»ƒ viá»‡c kh\xf4i phá»¥c dá»¯ liá»‡u ho\xe0n táº¥t, Ä‘iá»‡n thoáº¡i pháº£i Ä‘Æ°á»£c báº­t. Tuy nhi\xean, báº¡n c\xf3 thá»ƒ tiáº¿p tá»¥c duyá»‡t trong á»©ng dá»¥ng di Ä‘á»™ng miá»…n l\xe0 n\xf3 váº«n hoáº¡t Ä‘á»™ng á»Ÿ cháº¿ Ä‘á»™ ná»n trÆ°á»›c.","button":"T\xf4i hiá»ƒu rá»“i"}},"appLink":{"drive":{"title":"T\xe0i liá»‡u cá»§a báº¡n","description":"Dá»‹ch vá»¥ n\xe0y truy xuáº¥t c\xe1c t\xe0i liá»‡u má»›i nháº¥t cá»§a báº¡n v\xe0 giá»¯ má»™t báº£n sao lÆ°u Ä‘áº§y Ä‘á»§ cho báº¡n.","button":"Má»Ÿ t\xe0i liá»‡u","install":"Kh\xe1m ph\xe1 Twake Drive"},"contacts":{"title":"Danh báº¡ cá»§a báº¡n","description":"Dá»‹ch vá»¥ n\xe0y Ä‘á»“ng bá»™ h\xf3a táº¥t cáº£ danh báº¡ cá»§a báº¡n.","button":"Má»Ÿ danh báº¡","install":"Kh\xe1m ph\xe1 Twake Contacts"},"banks":{"title":"Dá»¯ liá»‡u ng\xe2n h\xe0ng cá»§a báº¡n","description":"Dá»‹ch vá»¥ n\xe0y truy xuáº¥t v\xe0 lÆ°u giá»¯ má»™t báº£n ghi Ä‘áº§y Ä‘á»§ vá» c\xe1c hoáº¡t Ä‘á»™ng ng\xe2n h\xe0ng má»›i nháº¥t cá»§a báº¡n.","button":"Truy cáº­p t\xe0i khoáº£n ng\xe2n h\xe0ng","install":"Kh\xe1m ph\xe1 Twake Banks"},"coachco2":{"title":"á»¨ng dá»¥ng Ä‘á»ƒ tiáº¿n xa hÆ¡n","description":"C\xe1c á»©ng dá»¥ng sau Ä‘\xe2y c\xf3 thá»ƒ sá»­ dá»¥ng dá»¯ liá»‡u n\xe0y má»™t c\xe1ch ri\xeang tÆ° trong Twake cá»§a báº¡n.","button":"Coach CO2","install":"Kh\xe1m ph\xe1 CoachCO2"}},"information":{"title":"Th\xf4ng tin há»¯u \xedch","websiteLink":"Má»Ÿ trang web","store":"Xem trong Twake Workplace Store","storeDescription":"Truy cáº­p m\xf4 táº£ cá»§a á»©ng dá»¥ng n\xe0y"}},"default":{"dateFormat":"LL/dd/yyyy","baseDir":"/Administrative"},"error":{"application-not-found":"á»¨ng dá»¥ng n\xe0y kh\xf4ng tá»“n táº¡i","reconnect-via-form":"Káº¿t ná»‘i láº¡i","job":{"DISK_QUOTA_EXCEEDED":{"title":"Bá»™ nhá»› Ä‘áº§y","description":"Dá»‹ch vá»¥ n\xe0y kh\xf4ng thá»ƒ t\xecm náº¡p t\xe0i liá»‡u cá»§a báº¡n ngay b\xe2y giá». Vui l\xf2ng x\xf3a má»™t sá»‘ tá»‡p hoáº·c v\xe0o **C\xe0i Ä‘áº·t > LÆ°u trá»¯** Ä‘á»ƒ c\xf3 th\xeam dung lÆ°á»£ng trá»‘ng."},"CHALLENGE_ASKED":{"title":"Y\xeau cáº§u x\xe1c thá»±c","description":"Trang web y\xeau cáº§u má»™t yáº¿u tá»‘ x\xe1c thá»±c thá»© hai. Báº¡n c\xf3 thá»ƒ cháº¡y láº¡i tr\xecnh káº¿t ná»‘i thá»§ c\xf4ng Ä‘á»ƒ cung cáº¥p m\xe3 v\xe0 tiáº¿p tá»¥c truy xuáº¥t dá»¯ liá»‡u cá»§a m\xecnh."},"OAUTH_CANCELED":{"title":"Ä\xe3 há»§y","description":"Ch\xfang t\xf4i kh\xf4ng thá»ƒ th\xeam ng\xe2n h\xe0ng cá»§a báº¡n v\xec báº¡n Ä‘\xe3 há»§y káº¿t ná»‘i. Nháº¥p v\xe0o \\"Th\xeam ng\xe2n h\xe0ng cá»§a báº¡n\\" má»™t láº§n ná»¯a Ä‘á»ƒ thá»­ láº¡i."},"LOGIN_FAILED":{"title":"Th\xf4ng tin Ä‘Äƒng nháº­p kh\xf4ng ch\xednh x\xe1c hoáº·c Ä‘\xe3 háº¿t háº¡n","description":"Xin lá»—i, th\xf4ng tin Ä‘Äƒng nháº­p hoáº·c máº­t kháº©u cá»§a báº¡n kh\xf4ng há»£p lá»‡ hoáº·c Ä‘\xe3 háº¿t háº¡n. Báº¡n c\xf3 thá»ƒ kiá»ƒm tra th\xf4ng tin Ä‘Äƒng nháº­p cá»§a m\xecnh tr\xean trang web [%{name}](%{link}) trÆ°á»›c khi cáº­p nháº­t."},"LOGIN_FAILED.NEEDS_SECRET":{"title":"Cáº§n th\xeam th\xf4ng tin bá»• sung","description":"Má»™t trÆ°á»ng bá»• sung pháº£i Ä‘Æ°á»£c Ä‘iá»n v\xe0o Ä‘á»ƒ káº¿t ná»‘i dá»‹ch vá»¥ cá»§a báº¡n. Báº¡n c\xf3 thá»ƒ cháº¡y láº¡i tr\xecnh káº¿t ná»‘i thá»§ c\xf4ng Ä‘á»ƒ cung cáº¥p th\xf4ng tin."},"LOGIN_FAILED.TOO_MANY_ATTEMPTS":{"title":"Táº¡m thá»i bá»‹ cháº·n","description":"Ä\xe3 c\xf3 qu\xe1 nhiá»u láº§n thá»­. Vui l\xf2ng cáº­p nháº­t th\xf4ng tin Ä‘Äƒng nháº­p cá»§a báº¡n tr\xean trang web [%{name}](%{link}) v\xe0 cáº­p nháº­t tr\xecnh káº¿t ná»‘i sau."},"MAINTENANCE":{"title":"Trang web kh\xf4ng kháº£ dá»¥ng","description":"DÆ°á»ng nhÆ° trang web [%{name}](%{link}) kh\xf4ng kháº£ dá»¥ng hoáº·c tr\xecnh káº¿t ná»‘i pháº£i Ä‘Æ°á»£c cáº­p nháº­t. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau hoáº·c truy cáº­p trá»£ gi\xfap trá»±c tuyáº¿n cá»§a ch\xfang t\xf4i."},"NOT_EXISTING_DIRECTORY":{"title":"ThÆ° má»¥c Ä‘\xedch bá»‹ thiáº¿u","description":"DÆ°á»ng nhÆ° thÆ° má»¥c Ä‘\xedch cá»§a t\xe0i khoáº£n n\xe0y Ä‘\xe3 bá»‹ x\xf3a. Vui l\xf2ng kh\xf4i phá»¥c n\xf3 báº±ng c\xe1ch ngáº¯t káº¿t ná»‘i t\xe0i khoáº£n n\xe0y v\xe0 sau Ä‘\xf3 káº¿t ná»‘i láº¡i."},"TERMS_VERSION_MISMATCH":{"title":"Äiá»u khoáº£n dá»‹ch vá»¥ má»›i nháº¥t kh\xf4ng Ä‘Æ°á»£c cháº¥p nháº­n","description":"%{name} dÆ°á»ng nhÆ° Ä‘\xe3 cáº­p nháº­t Äiá»u khoáº£n dá»‹ch vá»¥ cá»§a m\xecnh. Vui l\xf2ng kiá»ƒm tra xem dá»‹ch vá»¥ Ä‘\xe3 Ä‘Æ°á»£c cáº­p nháº­t chÆ°a. Náº¿u lá»—i n\xe0y váº«n xáº£y ra, vui l\xf2ng li\xean há»‡ vá»›i ch\xfang t\xf4i táº¡i [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR":{"title":"Lá»—i káº¿t ná»‘i","description":"Ä\xe3 xáº£y ra lá»—i kh\xf4ng x\xe1c Ä‘á»‹nh. Báº¡n c\xf3 thá»ƒ thá»­ cáº­p nháº­t dá»¯ liá»‡u cá»§a m\xecnh. Náº¿u sá»± cá»‘ váº«n tiáº¿p diá»…n, vui l\xf2ng li\xean há»‡ vá»›i ch\xfang t\xf4i táº¡i [%{supportMail}](mailto:%{supportMail})."},"UNKNOWN_ERROR.PARTIAL_SYNC":{"title":"Lá»—i káº¿t ná»‘i","description":"Viá»‡c Ä‘á»“ng bá»™ h\xf3a Ä‘\xe3 ho\xe0n táº¥t nhÆ°ng má»™t sá»‘ pháº§n tá»­ c\xf3 thá»ƒ bá»‹ thiáº¿u"},"USER_ACTION_NEEDED":{"title":"Cáº§n h\xe0nh Ä‘á»™ng tr\xean trang web cá»§a nh\xe0 cung cáº¥p","description":"DÆ°á»ng nhÆ° trang web [%{name}](%{link}) y\xeau cáº§u báº¡n Ä‘Äƒng nháº­p v\xe0 ho\xe0n th\xe0nh má»™t h\xe0nh Ä‘á»™ng cá»¥ thá»ƒ. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau khi báº¡n Ä‘\xe3 giáº£i quyáº¿t váº¥n Ä‘á» tr\xean trang web."},"USER_ACTION_NEEDED.OAUTH_OUTDATED":{"title":"Y\xeau cáº§u gia háº¡n quyá»n truy cáº­p","description":"Dá»‹ch vá»¥ [%{name}](%{link}) y\xeau cáº§u báº¡n gia háº¡n x\xe1c thá»±c cá»§a m\xecnh. Vui l\xf2ng ngáº¯t káº¿t ná»‘i v\xe0 káº¿t ná»‘i láº¡i t\xe0i khoáº£n %{name} vá»›i á»©ng dá»¥ng n\xe0y. Kh\xf4ng c\xf3 dá»¯ liá»‡u n\xe0o sáº½ bá»‹ máº¥t."},"USER_ACTION_NEEDED.ACCOUNT_REMOVED":{"title":"T\xe0i khoáº£n kh\xf4ng kháº£ dá»¥ng","description":"DÆ°á»ng nhÆ° t\xe0i khoáº£n cá»§a báº¡n kh\xf4ng c\xf2n hoáº¡t Ä‘á»™ng. Vui l\xf2ng kiá»ƒm tra t\xe0i khoáº£n cá»§a báº¡n tr\xean [%{name}](%{link}) trÆ°á»›c khi thá»­ láº¡i."},"USER_ACTION_NEEDED.CHANGE_PASSWORD":{"title":"Y\xeau cáº§u cáº­p nháº­t máº­t kháº©u","description":"DÆ°á»ng nhÆ° trang web [%{name}](%{link}) y\xeau cáº§u báº¡n Ä‘Äƒng nháº­p v\xe0 cáº­p nháº­t máº­t kháº©u. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau khi báº¡n Ä‘\xe3 giáº£i quyáº¿t váº¥n Ä‘á» tr\xean trang web."},"USER_ACTION_NEEDED.PERMISSIONS_CHANGED":{"title":"New permissions needed","description":"You connector was updated and the permissions changed. Please validate them before launching the connector again."},"USER_ACTION_NEEDED.SCA_REQUIRED":{"title":"Y\xeau cáº§u gia háº¡n x\xe1c thá»±c","description":"DÆ°á»ng nhÆ° %{name} y\xeau cáº§u kiá»ƒm tra láº¡i th\xf4ng tin Ä‘Äƒng nháº­p Ä‘á»ƒ Ä‘á»“ng bá»™ h\xf3a hoáº¡t Ä‘á»™ng. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i Ä‘á»ƒ báº¯t Ä‘áº§u qu\xe1 tr\xecnh x\xe1c minh. Báº¡n sáº½ nháº­n Ä‘Æ°á»£c máº­t kháº©u d\xf9ng má»™t láº§n hoáº·c má»™t quy tr\xecnh x\xe1c thá»±c tr\xean á»©ng dá»¥ng hoáº·c trang web ng\xe2n h\xe0ng cá»§a báº¡n."}}},"USER_ACTION_NEEDED.TWOFA_EXPIRED":{"title":"Y\xeau cáº§u gia háº¡n x\xe1c thá»±c","description":"Káº¿t ná»‘i cuá»‘i c\xf9ng vá»›i dá»‹ch vá»¥ Ä‘\xe3 tháº¥t báº¡i; vui l\xf2ng khá»Ÿi cháº¡y láº¡i. Báº¡n c\xf3 thá»ƒ pháº£i cung cáº¥p m\xe3 x\xe1c thá»±c."},"USER_ACTION_NEEDED.WEBAUTH_REQUIRED":{"title":"Y\xeau cáº§u x\xe1c thá»±c tr\xean trang web cá»§a nh\xe0 cung cáº¥p","description":"DÆ°á»ng nhÆ° [%{name}](%{link}) y\xeau cáº§u báº¡n Ä‘Äƒng nháº­p tr\xean trang web cá»§a há» Ä‘á»ƒ Ä‘á»“ng bá»™ h\xf3a hoáº¡t Ä‘á»™ng. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau khi báº¡n Ä‘\xe3 giáº£i quyáº¿t váº¥n Ä‘á» tr\xean trang web."},"USER_ACTION_NEEDED.WRONG_TWOFA_CODE":{"title":"M\xe3 x\xe1c thá»±c máº¡nh kh\xf4ng ch\xednh x\xe1c","description":"M\xe3 x\xe1c thá»±c hai yáº¿u tá»‘ Ä‘Æ°á»£c cung cáº¥p kh\xf4ng ch\xednh x\xe1c, vui l\xf2ng báº¯t Ä‘áº§u láº¡i."},"USER_ACTION_NEEDED.CGU_FORM":{"title":"Cáº§n x\xe1c thá»±c c\xe1c Ä‘iá»u khoáº£n dá»‹ch vá»¥ má»›i","description":"DÆ°á»ng nhÆ° cáº§n x\xe1c thá»±c c\xe1c Ä‘iá»u khoáº£n dá»‹ch vá»¥ má»›i. Vui l\xf2ng x\xe1c thá»±c ch\xfang tr\xean trang web [%{name}](%{link}) v\xe0 Ä‘á»“ng bá»™ h\xf3a láº¡i."},"VENDOR_DOWN":{"title":"Dá»‹ch vá»¥ kh\xf4ng kháº£ dá»¥ng","description":"DÆ°á»ng nhÆ° dá»‹ch vá»¥ [%{name}](%{link}) hiá»‡n kh\xf4ng kháº£ dá»¥ng. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau."},"VENDOR_DOWN.BANK_DOWN":{"title":"Trang web ng\xe2n h\xe0ng kh\xf4ng kháº£ dá»¥ng","description":"Truy cáº­p v\xe0o khu vá»±c kh\xe1ch h\xe0ng cá»§a [%{name}](%{link}) hiá»‡n kh\xf4ng kháº£ dá»¥ng. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau."},"VENDOR_DOWN.LINXO_DOWN":{"title":"Dá»‹ch vá»¥ kh\xf4ng kháº£ dá»¥ng","description":"DÆ°á»ng nhÆ° ch\xfang t\xf4i Ä‘ang gáº·p t\xecnh tráº¡ng qu\xe1 táº£i vá»›i c\xe1c tr\xecnh káº¿t ná»‘i ng\xe2n h\xe0ng cá»§a m\xecnh. Vui l\xf2ng cháº¡y láº¡i tr\xecnh káº¿t ná»‘i sau."},"ACCOUNT_WITH_SAME_IDENTIFIER_ALREADY_DEFINED":{"title":"T\xe0i khoáº£n n\xe0y Ä‘\xe3 tá»“n táº¡i","description":"Viá»‡c sá»­a Ä‘á»•i danh s\xe1ch c\xe1c t\xe0i khoáº£n Ä‘\xe3 Ä‘á»“ng bá»™ h\xf3a cá»§a báº¡n sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n trong v\xf2ng v\xe0i ph\xfat."},"WRONG_ACCOUNT_IDENTIFIER":{"title":"Ä\xe2y l\xe0 c\xe1c m\xe3 Ä‘á»‹nh danh sai","description":"Báº¡n Ä‘\xe3 gá»­i m\xe3 Ä‘á»‹nh danh sai kh\xf4ng li\xean káº¿t vá»›i t\xe0i khoáº£n n\xe0y."},"fields":{"answer":{"label":"C\xe2u tráº£ lá»i b\xed máº­t"},"birthdate":{"label":"Ng\xe0y sinh","placeholder":"mm/dd/yyyy"},"code":{"label":"M\xe3 báº£o máº­t"},"date":{"label":"Ng\xe0y","placeholder":"mm/dd/yyyy"},"email":{"label":"Äá»‹a chá»‰ email"},"firstname":{"label":"T\xean"},"lastname":{"label":"Há»"},"login":{"label":"ÄÄƒng nháº­p"},"password":{"label":"Máº­t kháº©u"},"phone":{"label":"Sá»‘ Ä‘iá»‡n thoáº¡i"},"two_fa_code":{"label":"M\xe3 x\xe1c thá»±c máº¡nh"}},"folder":{"administrative":"H\xe0nh ch\xednh","photos":"áº¢nh"},"infos":{"konnectorUpdate":{"title":"C\xf3 báº£n cáº­p nháº­t cho dá»‹ch vá»¥ n\xe0y.","body":{"regular":"Thá»±c hiá»‡n báº£n cáº­p nháº­t n\xe0y Ä‘á»ƒ tiáº¿p tá»¥c t\xecm náº¡p dá»¯ liá»‡u cá»§a báº¡n v\xe0 c\xf3 c\xe1c t\xednh nÄƒng má»›i nháº¥t:","blocking":"Cáº­p nháº­t n\xf3 Ä‘á»ƒ tiáº¿p tá»¥c t\xecm náº¡p dá»¯ liá»‡u cá»§a báº¡n:"},"button":{"label":"Xem báº£n cáº­p nháº­t"}}},"legacy":{"fields":{"access_token":{"label":"M\xe3 th\xf4ng b\xe1o truy cáº­p"},"accessTokenSecret":{"label":"M\xe3 b\xed máº­t m\xe3 th\xf4ng b\xe1o truy cáº­p"},"accountName":{"label":"T\xean t\xe0i khoáº£n"},"agreement":{"label":"T\xf4i Ä‘á»“ng \xfd"},"apikey":{"label":"Kh\xf3a API"},"appKey":{"label":"Kh\xf3a á»©ng dá»¥ng"},"appSecret":{"label":"M\xe3 b\xed máº­t á»©ng dá»¥ng"},"authCode":{"label":"M\xe3 x\xe1c thá»±c"},"bank_identifier":{"label":"M\xe3 Ä‘á»‹nh danh ng\xe2n h\xe0ng (t\xf9y chá»n)"},"branchName":{"label":"Chi nh\xe1nh"},"cardNumber":{"label":"Sá»‘ tháº»"},"consumerKey":{"label":"Kh\xf3a ngÆ°á»i ti\xeau d\xf9ng"},"consumerSecret":{"label":"M\xe3 b\xed máº­t ngÆ°á»i ti\xeau d\xf9ng"},"dob":{"label":"Ng\xe0y sinh"},"folderPath":{"label":"ÄÆ°á»ng dáº«n thÆ° má»¥c"},"identifier":{"label":"M\xe3 Ä‘á»‹nh danh"},"loginUrl":{"label":"URL Ä‘Äƒng nháº­p"},"namePath":{"label":"T\xean thÆ° má»¥c"},"new_identifier":{"label":"M\xe3 Ä‘á»‹nh danh"},"phoneNumber":{"label":"Sá»‘ Ä‘iá»‡n thoáº¡i"},"profileName":{"label":"T\xean há»“ sÆ¡"},"refreshToken":{"label":"M\xe3 th\xf4ng b\xe1o l\xe0m má»›i"},"secret":{"label":"Máº­t kháº©u"},"timeout":{"label":"Äá»™ trá»… (ms)"},"token":{"label":"M\xe3 th\xf4ng b\xe1o"},"tricountUrl":{"label":"URL Tricount"}}},"modal":{"aria-label":"Cáº¥u h\xecnh tr\xecnh káº¿t ná»‘i","konnector":{"error":{"title":"Kh\xf4ng thá»ƒ truy xuáº¥t t\xe0i khoáº£n cá»§a báº¡n","description":"Kh\xf4ng thá»ƒ truy xuáº¥t t\xe0i khoáº£n (%{message}).","button":"Ä\xf3ng"}},"accounts":{"title":"Chá»n má»™t t\xe0i khoáº£n %{name}","error":{"title":"Lá»—i","description":"Kh\xf4ng thá»ƒ truy xuáº¥t (c\xe1c) t\xe0i khoáº£n cá»§a báº¡n","retry":"Thá»­ láº¡i"}},"tabs":{"data":"Dá»¯ liá»‡u","configuration":"Cáº¥u h\xecnh"},"addAccount":{"title":"Káº¿t ná»‘i vá»›i %{name}","button":"Th\xeam má»™t t\xe0i khoáº£n"},"deleteBIConnection":{"title":"Ngáº¯t káº¿t ná»‘i ng\xe2n h\xe0ng","description":"Y\xeau cáº§u cá»§a báº¡n Ä‘\xe3 Ä‘Æ°á»£c ghi láº¡i. N\xf3 sáº½ c\xf3 hiá»‡u lá»±c trong gi\xe2y l\xe1t. Dá»¯ liá»‡u Ä‘\xe3 nháº­p trÆ°á»›c Ä‘\xf3 sáº½ kh\xf4ng bá»‹ x\xf3a.","confirm-deletion":"Ä\xf3ng"},"deleteAccount":{"title":"Ngáº¯t káº¿t ná»‘i","description":"T\xe0i khoáº£n cá»§a báº¡n sáº½ bá»‹ ngáº¯t káº¿t ná»‘i, nhÆ°ng dá»¯ liá»‡u Ä‘\xe3 Ä‘Æ°á»£c nháº­p sáº½ Ä‘Æ°á»£c giá»¯ láº¡i.","confirm":"Ngáº¯t káº¿t ná»‘i","cancel":"Há»§y"},"updateAccount":{"general-subheader":"Chung","identifiers":"M\xe3 Ä‘á»‹nh danh","delete-account-success":"T\xe0i khoáº£n Ä‘\xe3 bá»‹ ngáº¯t káº¿t ná»‘i","delete-account-error":"Kh\xf4ng thá»ƒ ngáº¯t káº¿t ná»‘i t\xe0i khoáº£n, vui l\xf2ng thá»­ láº¡i sau hoáº·c li\xean há»‡ vá»›i bá»™ pháº­n há»— trá»£ cá»§a ch\xfang t\xf4i."}},"oauth":{"banking":{"connect":{"label":"Th\xeam ng\xe2n h\xe0ng cá»§a báº¡n"},"reconnect":{"label":"Káº¿t ná»‘i láº¡i"}},"reconnect":{"label":"Káº¿t ná»‘i láº¡i"},"connect":{"description":"Káº¿t ná»‘i %{name} vá»›i Twake cá»§a báº¡n Ä‘á»ƒ Ä‘á»“ng bá»™ h\xf3a t\xe0i khoáº£n v\xe0 tá»± Ä‘á»™ng truy xuáº¥t táº¥t cáº£ dá»¯ liá»‡u cá»§a báº¡n.","label":"Káº¿t ná»‘i","submit":"Káº¿t ná»‘i","title":"Káº¿t ná»‘i vá»›i Twake cá»§a báº¡n"},"window":{"title":"OAuth"}},"triggerSuccessMessage":{"button":{"label":"Ä\xf3ng"},"description":"Dá»¯ liá»‡u cá»§a báº¡n sáº½ c\xf3 sáºµn trong v\xe0i ph\xfat v\xe0 nhá»¯ng dá»¯ liá»‡u tiáº¿p theo sáº½ tá»± Ä‘á»™ng theo sau.","figure":{"alt":"Ä‘\xe3 káº¿t ná»‘i"},"title":"Cáº¥u h\xecnh th\xe0nh c\xf4ng!"},"twoFAForm":{"modal-label":"Biá»ƒu máº«u x\xe1c thá»±c hai yáº¿u tá»‘","providers":{"default":"Nháº­p m\xe3 Ä‘Æ°á»£c gá»­i cho báº¡n qua e-mail hoáº·c SMS","email":"Nháº­p m\xe3 Ä‘Æ°á»£c gá»­i cho báº¡n qua e-mail","sms":"Nháº­p m\xe3 Ä‘Æ°á»£c gá»­i cho báº¡n qua SMS","app_code":"Nháº­p m\xe3 d\xf9ng má»™t láº§n Ä‘á»ƒ táº¡o trong á»©ng dá»¥ng di Ä‘á»™ng ${name}","app":"Sá»­ dá»¥ng á»©ng dá»¥ng cá»§a nh\xe0 cung cáº¥p Ä‘á»ƒ tiáº¿p tá»¥c x\xe1c thá»±c"},"desc-2fa":"Báº¡n cáº§n má»Ÿ á»©ng dá»¥ng cá»§a nh\xe0 cung cáº¥p Ä‘á»ƒ x\xe1c nháº­n x\xe1c thá»±c cá»§a m\xecnh. Trong má»™t sá»‘ trÆ°á»ng há»£p, báº¡n sáº½ pháº£i x\xe1c thá»±c hai láº§n.","desc_1":"M\xe3 n\xe0y cho ph\xe9p báº¡n ho\xe0n th\xe0nh káº¿t ná»‘i cá»§a m\xecnh.","desc_2":"M\xe3 thá»© hai nháº­n Ä‘Æ°á»£c tr\xean Ä‘iá»‡n thoáº¡i di Ä‘á»™ng hoáº·c qua email cá»§a báº¡n cho ph\xe9p báº¡n ho\xe0n táº¥t káº¿t ná»‘i cá»§a m\xecnh.","code":{"label_1":"m\xe3","label_2":"M\xe3 thá»© hai"},"retry":"M\xe3 kh\xf4ng há»£p lá»‡, vui l\xf2ng nháº­p láº¡i.","CTA":"X\xe1c thá»±c"},"account":{"success":{"title":"Cáº¥u h\xecnh th\xe0nh c\xf4ng!","connect":"Dá»¯ liá»‡u cá»§a báº¡n sáº½ c\xf3 sáºµn trong v\xe0i ph\xfat v\xe0 nhá»¯ng dá»¯ liá»‡u tiáº¿p theo sáº½ tá»± Ä‘á»™ng theo sau.","banksLinkText":"Xem t\xe0i khoáº£n cá»§a t\xf4i trong %{appName}","driveLinkText":"Má»Ÿ thÆ° má»¥c trong Twake Drive","button":"Ä\xf3ng"}},"maintenance":{"noService":"Dá»‹ch vá»¥ bá»‹ gi\xe1n Ä‘oáº¡n","explanationTitle":"C\xf3 chuyá»‡n g\xec Ä‘ang xáº£y ra váº­y?"},"suggestions":{"title":"Nháº­p dá»¯ liá»‡u cá»§a báº¡n tá»« %{name}","data":"C\xe0i Ä‘áº·t %{name} sáº½ tá»± Ä‘á»™ng nháº­p c\xe1c dá»¯ liá»‡u sau:","why":"Táº¡i sao %{name} Ä‘Æ°á»£c Ä‘á» xuáº¥t cho t\xf4i?","reason_bank":"%{name} Ä‘\xe3 Ä‘Æ°á»£c ph\xe1t hiá»‡n trong má»™t trong c\xe1c giao dá»‹ch ng\xe2n h\xe0ng cá»§a báº¡n. Äá»«ng lo, kh\xf4ng ai kh\xe1c c\xf3 thá»ƒ truy cáº­p th\xf4ng tin n\xe0y","install":"C\xe0i Ä‘áº·t","silence":"Kh\xf4ng Ä‘á» xuáº¥t láº¡i"},"dataType":{"none":"%{name} sáº½ kh\xf4ng truy cáº­p báº¥t ká»³ dá»¯ liá»‡u c\xe1 nh\xe2n n\xe0o cá»§a báº¡n","activity":"C\xe1c hoáº¡t Ä‘á»™ng cá»§a báº¡n","appointment":"C\xe1c cuá»™c háº¹n cá»§a báº¡n","bankTransactions":"C\xe1c giao dá»‹ch ng\xe2n h\xe0ng cá»§a báº¡n","bankAccounts":"C\xe1c t\xe0i khoáº£n ng\xe2n h\xe0ng cá»§a báº¡n","bill":"C\xe1c h\xf3a Ä‘Æ¡n cá»§a báº¡n","bloodPressure":"Huyáº¿t \xe1p cá»§a báº¡n","calendar":"C\xe1c lá»‹ch cá»§a báº¡n","certificate":"C\xe1c chá»©ng chá»‰ cá»§a báº¡n","commit":"C\xe1c cam káº¿t cá»§a báº¡n","consumption":"LÆ°á»£ng ti\xeau thá»¥ cá»§a báº¡n","contact":"Danh báº¡ cá»§a báº¡n","contract":"C\xe1c há»£p Ä‘á»“ng cá»§a báº¡n","courseMaterial":"T\xe0i liá»‡u kh\xf3a há»c cá»§a báº¡n","document":"T\xe0i liá»‡u cá»§a báº¡n","event":"C\xe1c sá»± kiá»‡n cá»§a báº¡n","family":"Th\xf4ng tin gia Ä‘\xecnh cá»§a báº¡n","geopoint":"Vá»‹ tr\xed Ä‘á»‹a l\xfd cá»§a báº¡n","heartbeat":"Nhá»‹p tim cá»§a báº¡n","home":"Th\xf4ng tin nh\xe0 cá»§a báº¡n","phonecommunicationlog":"Nháº­t k\xfd li\xean láº¡c Ä‘iá»‡n thoáº¡i cá»§a báº¡n","picture":"áº¢nh cá»§a báº¡n","podcast":"Podcast cá»§a báº¡n","profile":"Há»“ sÆ¡ kh\xe1ch h\xe0ng cá»§a báº¡n","refund":"C\xe1c khoáº£n ho\xe0n tiá»n cá»§a báº¡n","sinister":"C\xe1c vá»¥ viá»‡c cá»§a báº¡n","sleepTime":"Thá»i gian ngá»§ cá»§a báº¡n","stepsNumber":"Sá»‘ bÆ°á»›c cá»§a báº¡n","temperature":"Dá»¯ liá»‡u nhiá»‡t Ä‘á»™ cá»§a báº¡n","travelDate":"Ng\xe0y Ä‘i láº¡i cá»§a báº¡n","tweet":"C\xe1c tweet cá»§a báº¡n","videostream":"C\xe1c video cá»§a báº¡n","weight":"C\xe2n náº·ng cá»§a báº¡n"},"vaultCiphersList":{"title":"Báº¡n muá»‘n nháº­p dá»¯ liá»‡u cá»§a m\xecnh tá»« t\xe0i khoáº£n n\xe0o?","otherAccount":"Tá»« má»™t t\xe0i khoáº£n kh\xe1câ€¦"},"triggerManager":{"confirmationModal":{"title":"Cáº­p nháº­t th\xf4ng tin Ä‘Äƒng nháº­p?","description":"Th\xf4ng tin Ä‘Äƒng nháº­p trÆ°á»›c Ä‘\xf3 cá»§a báº¡n sáº½ bá»‹ máº¥t vÄ©nh viá»…n. Th\xeam má»™t t\xe0i khoáº£n má»›i Ä‘á»ƒ giá»¯ ch\xfang.","primaryText":"Cáº­p nháº­t","secondaryText":"Há»§y"}},"connectionBackdrop":{"connecting":"Äang káº¿t ná»‘i","progress":"Thiáº¿t láº­p káº¿t ná»‘i vá»›i %{name} c\xf3 thá»ƒ máº¥t Ä‘áº¿n 30 gi\xe2y..."},"disconnectedAccountModal":{"disconnected-help":"T\xe0i khoáº£n n\xe0y Ä‘\xe3 bá»‹ ngáº¯t káº¿t ná»‘i. Dá»¯ liá»‡u cá»§a báº¡n Ä‘\xe3 Ä‘Æ°á»£c giá»¯ láº¡i. Náº¿u báº¡n muá»‘n khá»Ÿi Ä‘á»™ng láº¡i qu\xe1 tr\xecnh Ä‘á»“ng bá»™ h\xf3a, vui l\xf2ng cáº¥u h\xecnh láº¡i t\xe0i khoáº£n cá»§a báº¡n báº±ng n\xfat \\"Th\xeam ng\xe2n h\xe0ng\\"."},"konnectorBlock":{"open":"Má»Ÿ trang web","store":{"primary":"Xem trong cá»­a h\xe0ng Twake Workplace","secondary":"Truy cáº­p m\xf4 táº£ cá»§a á»©ng dá»¥ng n\xe0y"},"disconnected":"Ä\xe3 ngáº¯t káº¿t ná»‘i","inMaintenance":"Äang báº£o tr\xec","hasNewVersionAvailable":"C\xf3 phi\xean báº£n má»›i","fatalError":"Ä\xe3 xáº£y ra lá»—i khi kh\xf4i phá»¥c dá»‹ch vá»¥. Náº¿u váº¥n Ä‘á» n\xe0y váº«n tiáº¿p diá»…n, Ä‘á»«ng ngáº§n ngáº¡i li\xean há»‡ vá»›i ch\xfang t\xf4i táº¡i [%{name}](%{link})"},"datacards":{"trips":{"title":"C\xe1c chuyáº¿n Ä‘i gáº§n Ä‘\xe2y","caption":"Xem 5 chuyáº¿n Ä‘i gáº§n Ä‘\xe2y nháº¥t cá»§a báº¡n Ä‘Æ°á»£c truy xuáº¥t tr\xean %{konnectorName}","modes":{"AIR_OR_HSR":"M\xe1y bay","BICYCLING":"Xe Ä‘áº¡p","BUS":"Xe bu\xfdt","CAR":"Xe hÆ¡i","IN_VEHICLE":"PhÆ°Æ¡ng tiá»‡n","TRAIN":"T\xe0u há»a","UNKNOWN":"Kh\xf4ng x\xe1c Ä‘á»‹nh","WALKING":"Äi bá»™","ON_FOOT":"Äi bá»™","RUNNING":"Cháº¡y"}},"files":{"title":"T\xe0i liá»‡u cá»§a báº¡n","imported":"Ä\xe3 nháº­p v\xe0o %{date}","caption":"Dá»‹ch vá»¥ n\xe0y truy xuáº¥t c\xe1c t\xe0i liá»‡u má»›i nháº¥t cá»§a báº¡n v\xe0 giá»¯ má»™t báº£n sao lÆ°u Ä‘áº§y Ä‘á»§ cho báº¡n."}}}')},51996:function(e){"use strict";e.exports=JSON.parse('{"qualifications":[{"label":"identity_photo","purpose":"attestation","subjects":["identity"]},{"label":"national_id_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"passport","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"residence_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"immigration","subjects":["permit","identity"]},{"label":"family_record_book","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"birth_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity","family"]},{"label":"driver_license","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["permit","driving"]},{"label":"other_identity_document","purpose":"attestation","subjects":["identity"]},{"label":"wedding","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"pacs","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"divorce","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"large_family_card","purpose":"attestation","sourceCategory":"transport","subjects":["right"]},{"label":"caf","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["right"]},{"label":"other_family_document","subjects":["family"]},{"label":"diploma","purpose":"attestation","sourceCategory":"education","subjects":["achievement"]},{"label":"work_contract","purpose":"contract","sourceCategory":"employer","subjects":["work","employment"]},{"label":"pay_sheet","purpose":"attestation","sourceCategory":"employer","subjects":["work","revenues"]},{"label":"fidelity_card","sourceCategory":"shopping"},{"label":"single_parent_benefit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["revenues"]},{"label":"transport_card","sourceCategory":"transport","subjects":["vehicule"]},{"label":"electoral_card","sourceCategory":"gov"},{"label":"employment_center_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["employment"]},{"label":"unemployment_benefit","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"pension","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"other_revenue","purpose":"attestation","subjects":["revenues"]},{"label":"gradebook","purpose":"report","sourceCategory":"education","subjects":["history"]},{"label":"student_card","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","employment","education"]},{"label":"resume","purpose":"description","subjects":["employment"]},{"label":"motivation_letter","purpose":"description","subjects":["employment"]},{"label":"other_work_document","purpose":"employment"},{"label":"health_book","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"health_certificate","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"pregnancy_medical_certificate","purpose":"attestation","sourceCategory":"health","subjects":["pregnancy"]},{"label":"work_disability_recognition","purpose":"attestation","sourceCategory":"health","subjects":["right"]},{"label":"national_health_insurance_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["insurance"]},{"label":"national_health_insurance_right_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["right","insurance"]},{"label":"health_insurance_card","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"health","subjects":["insurance"]},{"label":"prescription","purpose":"attestation","sourceCategory":"health","subjects":["right","medecine"]},{"label":"health_invoice","purpose":"invoice","sourceCategory":"health"},{"label":"other_health_document","subjects":["health"]},{"label":"vehicle_registration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["vehicule","identity","right"]},{"label":"car_insurance","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"transport","subjects":["insurance","car"]},{"label":"mechanic_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"transport_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"other_transport_document","sourceCategory":"transport"},{"label":"house_sale_agreeement","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"real_estate_tax","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["tax","house"]},{"label":"building_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["permit","house"]},{"label":"technical_diagnostic_record","purpose":"report","sourceCategory":"real_estate","subjects":["compliance","house"]},{"label":"lease","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"rent_receipt","purpose":"invoice","sourceCategory":"real_estate","subjects":["house"]},{"label":"house_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance","house"]},{"label":"work_quote","purpose":"description","sourceCategory":"building","subjects":["building","house"]},{"label":"work_invoice","purpose":"invoice","sourceCategory":"building","subjects":["building","house"]},{"label":"other_house_document","subjects":["house"]},{"label":"phone_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"mobile"},{"label":"isp_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"internet","subjects":["subscription"]},{"label":"telecom_invoice","purpose":"invoice","sourceCategory":"telecom"},{"label":"energy_invoice","purpose":"invoice","sourceCategory":"energy"},{"label":"water_invoice","purpose":"invoice","sourceCategory":"water"},{"label":"energy_contract","purpose":"contract","sourceCategory":"energy"},{"label":"appliance_invoice","purpose":"invoice","sourceCategory":"retail"},{"label":"web_service_invoice","purpose":"invoice","sourceCategory":"web"},{"label":"restaurant_invoice","purpose":"invoice","sourceCategory":"alimentation"},{"label":"grocery_invoice","purpose":"invoice","sourceCategory":"shopping"},{"label":"other_invoice","purpose":"invoice"},{"label":"tax_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["tax"]},{"label":"tax_return","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_notice","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_timetable","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"other_tax_document","subjects":["tax"]},{"label":"bank_details","purpose":"attestation","sourceCategory":"bank","subjects":["bank_account"]},{"label":"bank_statement","purpose":"report","sourceCategory":"bank","subjects":["history"]},{"label":"loan_agreement","purpose":"contract","sourceCategory":"bank"},{"label":"other_bank_document","sourceCategory":"bank"},{"label":"receipt","purpose":"report"},{"label":"payment_proof_family_allowance","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["subvention"]},{"label":"school_attendance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","education"]},{"label":"school_insurance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["education","insurance"]},{"label":"unfit_for_habitation_declaration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["compliance"]},{"label":"accommodation_proof","purpose":"attestation","sourceCategory":"individual","subjects":["address"]},{"label":"citizen_registration_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["achievement","education"]},{"label":"personal_sporting_licence","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"other_activity_document","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"real_estate_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance"]},{"label":"person_insurance","purpose":"contract","sourceCategory":"insurance","subjects":["insurance"]},{"label":"other_administrative_document"},{"label":"expense_claim","purpose":"invoice"},{"label":"fine","purpose":"invoice","sourceCategory":"gov"},{"label":"condition_report","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"note_identity_document"},{"label":"note_family_document"},{"label":"note_work_document"},{"label":"note_health_document"},{"label":"note_house_document"},{"label":"note_transport_document"},{"label":"note_activity_document"},{"label":"note_finance"},{"label":"note_invoice"}],"purposeKnownValues":["attestation","contract","invoice","report","description","evaluation","employment"],"sourceCategoryKnownValues":["bank","insurance","retail","telecom","energy","water","health","gov","association","education","employer","transport","goods","alimentation","building","real_estate","web","individual","shopping"],"sourceSubCategoryKnownValues":["civil_registration","immigration","transport","family","tax","health","real_estate","mobile","internet","citizen","sport"],"subjectsKnownValues":["identity","permit","family","address","driving","right","subvention","achievement","degree","work","employment","revenues","history","insurance","medical_act","vehicule","car","moto","truck","boat","subscription","buy/sale","house","compliance","building","food","real_estate","tax","address","education","statement","course","internet","phone","vaccine","capacity","health","drugs","child","pregnancy","bank_account"]}')},45383:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"Emirian","AF":"Afghan","AG":"Antiguans","AL":"Albanian","AM":"Armenian","AO":"Angolan","AR":"Argentinean","AT":"Austrian","AU":"Australian","AX":"\xc5land Islands","AZ":"Azerbaijani","BA":"Bosnian - Herzegovinian","BB":"Barbadian","BD":"Bangladeshi","BE":"Belgian","BF":"Burkinabe","BG":"Bulgarian","BH":"Bahraini","BI":"Burundian","BJ":"Beninese","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Bruneian","BO":"Bolivian","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazilian","BS":"Bahamian","BT":"Bhutanese","BV":"Bouvet Island","BW":"Batswana","BY":"Belarusian","BZ":"Belizean","CA":"Canadian","CC":"Cocos (Keeling) Islands","CD":"Congolese (Democratic Republic of the Congo)","CF":"Central African","CG":"Congolese (Republic of the Congo)","CH":"Swiss","CI":"Ivorian","CK":"Cook Islands","CL":"Chilean","CM":"Cameroonian","CN":"Chinese","CO":"Colombian","CR":"Costa Rican","CU":"Cuban","CV":"Cape Verdean","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cypriot","CZ":"Czech","DE":"German","DJ":"Djibouti","DK":"Danish","DM":"Dominican (Dominica)","DO":"Dominican (Dominican Republic)","DZ":"Algerian","EC":"Ecuadorean","EE":"Estonian","EG":"Egyptian","EH":"Western Sahara","ER":"Eritrean","ES":"Spanish","ET":"Ethiopian","FI":"Finnish","FJ":"Fijian","FK":"Falkland Islands (Malvinas)","FM":"Micronesian","FO":"Faroe Islands","FR":"French","GA":"Gabonese","GB":"British","GD":"Grenadian","GE":"Georgian","GF":"French (French Guiana)","GG":"Guernsey","GH":"Ghanaian","GI":"Gibraltar","GL":"Greenland","GM":"Gambian","GN":"Guinean","GP":"Guadeloupe","GQ":"Equatorial Guinean","GR":"Greek","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemalan","GU":"Guam","GW":"Guinea-Bissauan","GY":"Guyanese","HK":"Hong Kong","HM":"Heard Island and Mcdonald Islands","HN":"Honduran","HR":"Croatian","HT":"Haitian","HU":"Hungarian","ID":"Indonesian","IE":"Irish","IL":"Israeli","IM":"Manx","IN":"Indian","IO":"British Indian Ocean Territory","IQ":"Iraqi","IR":"Iranian","IS":"Icelandic","IT":"Italian","JE":"Jersey","JM":"Jamaican","JO":"Jordanian","JP":"Japanese","KE":"Kenyan","KG":"Kyrgyz","KH":"Cambodian","KI":"I-Kiribati","KM":"Comoran","KN":"Kittian and Nevisian","KP":"North Korean","KR":"South Korean","KW":"Kuwaiti","KY":"Cayman Islands","KZ":"Kazakhstani","LA":"Laotian","LB":"Lebanese","LC":"Saint Lucian","LI":"Liechtensteiner","LK":"Sri Lankan","LR":"Liberian","LS":"Mosotho","LT":"Lithuanian","LU":"Luxembourger","LV":"Latvian","LY":"Libyan","MA":"Moroccan","MC":"Monacan","MD":"Moldovan","ME":"Montenegrin","MF":"Saint Martin (French part)","MG":"Malagasy","MH":"Marshallese","MK":"Macedonian","ML":"Malian","MM":"Burmese","MN":"Mongolian","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritanian","MS":"Montserrat","MT":"Maltese","MU":"Mauritian","MV":"Maldivan","MW":"Malawian","MX":"Mexican","MY":"Malaysian","MZ":"Mozambican","NA":"Namibian","NC":"New Caledonia","NE":"Nigerien","NF":"Norfolk Island","NG":"Nigerian","NI":"Nicaraguan","NL":"Dutch","NO":"Norwegian","NP":"Nepalese","NR":"Nauruan","NU":"Niue","NZ":"New Zealander","OM":"Omani","PA":"Panamanian","PE":"Peruvian","PF":"French (French Polynesia)","PG":"Papua New Guinea","PH":"Filipino","PK":"Pakistani","PL":"Polish","PM":"Saint Pierre and Miquelon","PN":"Pitcairn","PR":"Puerto Rico","PS":"Palestinian Territory, Occupied","PT":"Portuguese","PW":"Palauan","PY":"Paraguayan","QA":"Qatari","RE":"Reunion","RO":"Romanian","RS":"Serbian","RU":"Russian","RW":"Rwandan","SA":"Saudi","SB":"Solomon Islander","SC":"Seychellois","SD":"Sudanese","SE":"Swedish","SG":"Singaporean","SH":"Saint Helena","SI":"Slovenian","SJ":"Svalbard and Jan Mayen","SK":"Slovakian","SL":"Sierra Leonean","SM":"San Marinese","SN":"Senegalese","SO":"Somali","SR":"Surinamer","SS":"South Sudan","ST":"Sao Tomean","SV":"Salvadoran","SX":"Sint Maarten (Dutch part)","SY":"Syrian","SZ":"Swazi","TC":"Turks and Caicos Islands","TD":"Chadian","TF":"French (French Southern Territories)","TG":"Togolese","TH":"Thai","TJ":"Tajik","TK":"Tokelau","TL":"East Timorese","TM":"Turkmenistan","TN":"Tunisian","TO":"Tongan","TR":"Turkish","TT":"Trinidadian or Tobagonian","TV":"Tuvaluan","TW":"Taiwanese","TZ":"Tanzanian","UA":"Ukrainian","UG":"Ugandan","UM":"United States Minor Outlying Islands","US":"American","UY":"Uruguayan","UZ":"Uzbekistani","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuelan","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnamese","VU":"Vanuatu","WF":"Welsh","WS":"Samoan","YE":"Yemenite","YT":"Mayotte","ZA":"South African","ZM":"Zambian","ZW":"Zimbabwean"},"countries":{"AD":"Andorra","AE":"United Arab Emirates","AF":"Afghanistan","AG":"Antigua and Barbuda","AL":"Albania","AM":"Armenia","AO":"Angola","AR":"Argentina","AT":"Austria","AU":"Australia","AX":"\xc5land Islands","AZ":"Azerbaijan","BA":"Bosnia and Herzegovina","BB":"Barbados","BD":"Bangladesh","BE":"Belgium","BF":"Burkina Faso","BG":"Bulgaria","BH":"Bahrain","BI":"Burundi","BJ":"Benin","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Brunei Darussalam","BO":"Bolivia","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazil","BS":"Bahamas","BT":"Bhutan","BV":"Bouvet Island","BW":"Botswana","BY":"Belarus","BZ":"Belize","CA":"Canada","CC":"Cocos (Keeling) Islands","CD":"Democratic Republic of the Congo","CF":"Central African Republic","CG":"Republic of the Congo","CH":"Switzerland","CI":"Ivory Coast","CK":"Cook Islands","CL":"Chile","CM":"Cameroon","CN":"People\'s Republic of China","CO":"Colombia","CR":"Costa Rica","CU":"Cuba","CV":"Cape Verde","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cyprus","CZ":"Czech Republic","DE":"Germany","DJ":"Djibouti","DK":"Denmark","DM":"Dominica","DO":"Dominican Republic","DZ":"Algeria","EC":"Ecuador","EE":"Estonia","EG":"Egypt","EH":"Western Sahara","ER":"Eritrea","ES":"Spain","ET":"Ethiopia","FI":"Finland","FJ":"Fiji","FK":"Falkland Islands (Malvinas)","FM":"Micronesia, Federated States of","FO":"Faroe Islands","FR":"France","GA":"Gabon","GB":"United Kingdom","GD":"Grenada","GE":"Georgia","GF":"French Guiana","GG":"Guernsey","GH":"Ghana","GI":"Gibraltar","GL":"Greenland","GM":"Gambia","GN":"Guinea","GP":"Guadeloupe","GQ":"Equatorial Guinea","GR":"Greece","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemala","GU":"Guam","GW":"Guinea-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"Heard Island and McDonald Islands","HN":"Honduras","HR":"Croatia","HT":"Haiti","HU":"Hungary","ID":"Indonesia","IE":"Ireland","IL":"Israel","IM":"Isle of Man","IN":"India","IO":"British Indian Ocean Territory","IQ":"Iraq","IR":"Iran","IS":"Iceland","IT":"Italy","JE":"Jersey","JM":"Jamaica","JO":"Jordan","JP":"Japan","KE":"Kenya","KG":"Kyrgyzstan","KH":"Cambodia","KI":"Kiribati","KM":"Comoros","KN":"Saint Kitts and Nevis","KP":"North Korea","KR":"South Korea","KW":"Kuwait","KY":"Cayman Islands","KZ":"Kazakhstan","LA":"Lao People\'s Democratic Republic","LB":"Lebanon","LC":"Saint Lucia","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Liberia","LS":"Lesotho","LT":"Lithuania","LU":"Luxembourg","LV":"Latvia","LY":"Libya","MA":"Morocco","MC":"Monaco","MD":"Moldova, Republic of","ME":"Montenegro","MF":"Saint Martin (French part)","MG":"Madagascar","MH":"Marshall Islands","MK":"North Macedonia","ML":"Mali","MM":"Myanmar","MN":"Mongolia","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritania","MS":"Montserrat","MT":"Malta","MU":"Mauritius","MV":"Maldives","MW":"Malawi","MX":"Mexico","MY":"Malaysia","MZ":"Mozambique","NA":"Namibia","NC":"New Caledonia","NE":"Niger","NF":"Norfolk Island","NG":"Nigeria","NI":"Nicaragua","NL":"Netherlands","NO":"Norway","NP":"Nepal","NR":"Nauru","NU":"Niue","NZ":"New Zealand","OM":"Oman","PA":"Panama","PE":"Peru","PF":"French Polynesia","PG":"Papua New Guinea","PH":"Philippines","PK":"Pakistan","PL":"Poland","PM":"Saint Pierre and Miquelon","PN":"Pitcairn Islands","PR":"Puerto Rico","PS":"Palestine","PT":"Portugal","PW":"Palau","PY":"Paraguay","QA":"Qatar","RE":"Reunion","RO":"Romania","RS":"Serbia","RU":"Russia","RW":"Rwanda","SA":"Saudi Arabia","SB":"Solomon Islands","SC":"Seychelles","SD":"Sudan","SE":"Sweden","SG":"Singapore","SH":"Saint Helena","SI":"Slovenia","SJ":"Svalbard and Jan Mayen","SK":"Slovakia","SL":"Sierra Leone","SM":"San Marino","SN":"Senegal","SO":"Somalia","SR":"Suriname","SS":"South Sudan","ST":"Sao Tome and Principe","SV":"El Salvador","SX":"Sint Maarten (Dutch part)","SY":"Syrian Arab Republic","SZ":"Eswatini","TC":"Turks and Caicos Islands","TD":"Chad","TF":"French Southern Territories","TG":"Togo","TH":"Thailand","TJ":"Tajikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkmenistan","TN":"Tunisia","TO":"Tonga","TR":"Turkey","TT":"Trinidad and Tobago","TV":"Tuvalu","TW":"Taiwan","TZ":"United Republic of Tanzania","UA":"Ukraine","UG":"Uganda","UM":"United States Minor Outlying Islands","US":"United States of America","UY":"Uruguay","UZ":"Uzbekistan","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuela","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis and Futuna","WS":"Samoa","YE":"Yemen","YT":"Mayotte","ZA":"South Africa","ZM":"Zambia","ZW":"Zimbabwe"}}')},82356:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"\xc9mirien","AF":"Afghan","AG":"Antiguayen","AL":"Albanais","AM":"Arm\xe9nien","AO":"Angolais","AR":"Argentin","AT":"Autrichien","AU":"Australien","AX":"\xceles Aland","AZ":"Azerba\xefdjanais","BA":"Bosnien","BB":"Barbadien","BD":"Bangladais","BE":"Belge","BF":"Burkinab\xe9","BG":"Bulgare","BH":"Bahre\xefnien","BI":"Burundais","BJ":"B\xe9ninois","BL":"Saint-Barth\xe9lemy","BM":"Bermudien","BN":"Brun\xe9ien","BO":"Bolivien","BQ":"Pays-Bas Carib\xe9ens","BR":"Br\xe9silien","BS":"Bahamien","BT":"Bhoutanais","BV":"\xcele Bouvet","BW":"Botswanais","BY":"Bi\xe9lorusse","BZ":"B\xe9lizien","CA":"Canadien","CC":"\xceles Cocos","CD":"Congolais (R\xe9publique d\xe9mocratique du Congo)","CF":"Centrafricain","CG":"Congolais (R\xe9publique du Congo)","CH":"Suisse","CI":"Ivoirien","CK":"\xceles Cook","CL":"Chilien","CM":"Camerounais","CN":"Chinois","CO":"Colombien","CR":"Costaricain","CU":"Cubain","CV":"Cap verdien","CW":"Curacien","CX":"L\'\xeele Christmas","CY":"Chypriote","CZ":"Tch\xe8que","DE":"Allemand","DJ":"Djiboutien","DK":"Danois","DM":"Dominicain (Dominique)","DO":"Dominicain (R\xe9publique dominicaine)","DZ":"Alg\xe9rien","EC":"\xc9quatorien","EE":"Estonien","EG":"\xc9gyptien","EH":"Sahara Occidental","ER":"\xc9rythr\xe9en","ES":"Espagnol","ET":"\xc9thiopien","FI":"Finlandais","FJ":"Fidjien","FK":"Malouin","FM":"Micron\xe9sien","FO":"F\xe9ro\xefen","FR":"Fran\xe7ais","GA":"Gabonais","GB":"Britannique","GD":"Grenadien","GE":"G\xe9orgien","GF":"Fran\xe7ais (Guyane)","GG":"Guernesiais","GH":"Ghan\xe9en","GI":"Gibraltariens","GL":"Groenlandais","GM":"Gambien","GN":"Guin\xe9en","GP":"Guadeloup\xe9en","GQ":"\xc9quato-guin\xe9en","GR":"Grec","GS":"G\xe9orgie du Sud et les \xeeles Sandwich du Sud","GT":"Guat\xe9malt\xe8que","GU":"Guam","GW":"Bissaoguin\xe9en","GY":"Guyanais","HK":"Hongkongais","HM":"\xceles Heard-et-MacDonald","HN":"Hondurien","HR":"Croate","HT":"Ha\xeftien","HU":"Hongrois","ID":"Indon\xe9sien","IE":"Irlandais","IL":"Isra\xe9lien","IM":"\xcele de Man","IN":"Indien","IO":"Territoire britannique de l\'oc\xe9an Indien","IQ":"Irakien","IR":"Iranien","IS":"Islandais","IT":"Italien","JE":"Jersiais","JM":"Jama\xefquain","JO":"Jordanien","JP":"Japonais","KE":"K\xe9nyan","KG":"Kirghiz","KH":"Cambodgien","KI":"Kiribatiens","KM":"Comorien","KN":"Afro-Kittitien et Afro-Nevisien","KP":"Nord cor\xe9en","KR":"Sud cor\xe9en","KW":"Kowe\xeftien","KY":"Ca\xefmanien","KZ":"Kazakhstanais","LA":"Laotien","LB":"Libanais","LC":"Saint-Lucien","LI":"Liechtensteinois","LK":"Sri Lankais","LR":"Liberian","LS":"Mosotho","LT":"Lituanien","LU":"Luxembourgeois","LV":"Letton","LY":"Libyen","MA":"Marocain","MC":"Mon\xe9gasque","MD":"Moldave","ME":"Mont\xe9n\xe9grin","MF":"Saint-Martinois (France)","MG":"Malgache","MH":"Marshallais","MK":"Mac\xe9donien","ML":"Malien","MM":"Birman","MN":"Mongol","MO":"Macan\xe9en","MP":"\xceles Mariannes du Nord","MQ":"Martiniquais","MR":"Mauritanien","MS":"Montserratien","MT":"Maltais","MU":"Mauricien","MV":"Maldivien","MW":"Malawien","MX":"Mexicain","MY":"Malaisien","MZ":"Mozambicain","NA":"Namibien","NC":"N\xe9o-Cal\xe9donien","NE":"Nig\xe9rien","NF":"Norfolkais","NG":"Nig\xe9rian","NI":"Nicaraguayen","NL":"N\xe9erlandais","NO":"Norv\xe9gien","NP":"N\xe9palais","NR":"Nauruan","NU":"Niu\xe9en","NZ":"N\xe9o-Z\xe9landais","OM":"Omanais","PA":"Panam\xe9en","PE":"P\xe9ruvien","PF":"Fran\xe7ais (Polyn\xe9sie fran\xe7aise)","PG":"Papouasien","PH":"Philippin","PK":"Pakistanais","PL":"Polonais","PM":"Saint-Pierrais ou Miquelonais","PN":"\xceles Pitcairn","PR":"Portoricain","PS":"Territoires Palestiniens, Occup\xe9s","PT":"Portugais","PW":"Palauan","PY":"Paraguayen","QA":"Qatarien","RE":"R\xe9unionnais","RO":"Roumain","RS":"Serbe","RU":"Russe","RW":"Rwandais","SA":"Saoudien","SB":"Salomonais","SC":"Seychellois","SD":"Soudanais","SE":"Su\xe9dois","SG":"Singapourien","SH":"Sainte H\xe9l\xe8ne","SI":"Slov\xe8ne","SJ":"Svalbard et Jan Mayen","SK":"Slovaque","SL":"Sierra L\xe9onais","SM":"Saint-Marinais","SN":"S\xe9n\xe9galais","SO":"Somalien","SR":"Surinamais","SS":"Sud-Soudanais","ST":"Santom\xe9en","SV":"Salvadorien","SX":"Saint-Martinois (Pays-Bas)","SY":"Syrien","SZ":"Swazi","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchadien","TF":"Fran\xe7ais (TAAF)","TG":"Togolais","TH":"Tha\xeflandais","TJ":"Tadjik","TK":"Tok\xe9laou","TL":"Est-Timorais","TM":"Turkm\xe8ne","TN":"Tunisien","TO":"Tongien","TR":"Turc","TT":"Trinidadien ou Tobagonien","TV":"Tuvalais","TW":"Ta\xefwanais","TZ":"Tanzanien","UA":"Ukrainien","UG":"Ougandais","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"Am\xe9ricain","UY":"Uruguayen","UZ":"Ouzbek","VA":"Saint-Si\xe8ge (\xc9tat de la cit\xe9 du Vatican)","VC":"Vincentais","VE":"V\xe9n\xe9zu\xe9lien","VG":"\xceles Vierges Britanniques","VI":"\xceles Vierges Am\xe9ricaines","VN":"Vietnamien","VU":"Vanuatais","WF":"Gallois","WS":"Samoan","YE":"Y\xe9m\xe9nite","YT":"Mahorais","ZA":"Sud Africain","ZM":"Zambien","ZW":"Zimbabw\xe9en"},"countries":{"AD":"Andorre","AE":"\xc9mirats Arabes Unis","AF":"Afghanistan","AG":"Antigua-et-Barbuda","AL":"Albanie","AM":"Arm\xe9nie","AO":"Angola","AR":"Argentine","AT":"Autriche","AU":"Australie","AX":"\xc5land","AZ":"Azerba\xefdjan","BA":"Bosnie-Herz\xe9govine","BB":"Barbade","BD":"Bangladesh","BE":"Belgique","BF":"Burkina Faso","BG":"Bulgarie","BH":"Bahre\xefn","BI":"Burundi","BJ":"B\xe9nin","BL":"Saint-Barth\xe9lemy","BM":"Bermudes","BN":"Brunei Darussalam","BO":"Bolivie","BQ":"Bonaire, Saint-Eustache et Saba","BR":"Br\xe9sil","BS":"Bahamas","BT":"Bhoutan","BV":"\xcele Bouvet","BW":"Botswana","BY":"Bi\xe9lorussie","BZ":"Belize","CA":"Canada","CC":"\xceles Cocos","CD":"R\xe9publique d\xe9mocratique du Congo","CF":"R\xe9publique Centrafricaine","CG":"R\xe9publique du Congo","CH":"Suisse","CI":"C\xf4te-d\'Ivoire","CK":"\xceles Cook","CL":"Chili","CM":"Cameroun","CN":"Chine","CO":"Colombie","CR":"Costa Rica","CU":"Cuba","CV":"Cap-Vert","CW":"Cura\xe7ao","CX":"\xcele Christmas","CY":"Chypre","CZ":"R\xe9publique Tch\xe8que","DE":"Allemagne","DJ":"Djibouti","DK":"Danemark","DM":"Dominique","DO":"R\xe9publique Dominicaine","DZ":"Alg\xe9rie","EC":"\xc9quateur","EE":"Estonie","EG":"\xc9gypte","EH":"Sahara occidental","ER":"\xc9rythr\xe9e","ES":"Espagne","ET":"\xc9thiopie","FI":"Finlande","FJ":"Fidji","FK":"\xceles Malouines","FM":"Micron\xe9sie","FO":"\xceles F\xe9ro\xe9","FR":"France","GA":"Gabon","GB":"Royaume-Uni","GD":"Grenade","GE":"G\xe9orgie","GF":"Guyane fran\xe7aise","GG":"Guernesey","GH":"Ghana","GI":"Gibraltar","GL":"Groenland","GM":"Gambie","GN":"Guin\xe9e","GP":"Guadeloupe","GQ":"Guin\xe9e \xe9quatoriale","GR":"Gr\xe8ce","GS":"G\xe9orgie du Sud-et-les \xceles Sandwich du Sud","GT":"Guatemala","GU":"Guam","GW":"Guin\xe9e-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"\xceles Heard-et-MacDonald","HN":"Honduras","HR":"Croatie","HT":"Ha\xefti","HU":"Hongrie","ID":"Indon\xe9sie","IE":"Irlande","IL":"Isra\xebl","IM":"\xcele de Man","IN":"Inde","IO":"Oc\xe9an Indien Britannique","IQ":"Irak","IR":"Iran","IS":"Islande","IT":"Italie","JE":"Jersey","JM":"Jama\xefque","JO":"Jordanie","JP":"Japon","KE":"Kenya","KG":"Kirghizistan","KH":"Cambodge","KI":"Kiribati","KM":"Comores","KN":"Saint-Christophe-et-Ni\xe9v\xe8s","KP":"Cor\xe9e du Nord","KR":"Cor\xe9e du Sud","KW":"Kowe\xeft","KY":"\xceles Ca\xefmans","KZ":"Kazakhstan","LA":"Laos","LB":"Liban","LC":"Sainte-Lucie","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Lib\xe9ria","LS":"Lesotho","LT":"Lituanie","LU":"Luxembourg","LV":"Lettonie","LY":"Libye","MA":"Maroc","MC":"Monaco","MD":"Moldavie","ME":"Mont\xe9n\xe9gro","MF":"Saint-Martin (partie fran\xe7aise)","MG":"Madagascar","MH":"\xceles Marshall","MK":"Mac\xe9doine du Nord","ML":"Mali","MM":"Myanmar","MN":"Mongolie","MO":"Macao","MP":"\xceles Mariannes du Nord","MQ":"Martinique","MR":"Mauritanie","MS":"Montserrat","MT":"Malte","MU":"Maurice","MV":"Maldives","MW":"Malawi","MX":"Mexique","MY":"Malaisie","MZ":"Mozambique","NA":"Namibie","NC":"Nouvelle-Cal\xe9donie","NE":"Niger","NF":"\xcele Norfolk","NG":"Nig\xe9ria","NI":"Nicaragua","NL":"Pays-Bas","NO":"Norv\xe8ge","NP":"N\xe9pal","NR":"Nauru","NU":"Niu\xe9","NZ":"Nouvelle-Z\xe9lande","OM":"Oman","PA":"Panama","PE":"P\xe9rou","PF":"Polyn\xe9sie fran\xe7aise","PG":"Papouasie-Nouvelle-Guin\xe9e","PH":"Philippines","PK":"Pakistan","PL":"Pologne","PM":"Saint-Pierre-et-Miquelon","PN":"\xceles Pitcairn","PR":"Porto Rico","PS":"Palestine","PT":"Portugal","PW":"Palaos","PY":"Paraguay","QA":"Qatar","RE":"R\xe9union","RO":"Roumanie","RS":"Serbie","RU":"Russie","RW":"Rwanda","SA":"Arabie Saoudite","SB":"\xceles Salomon","SC":"Seychelles","SD":"Soudan","SE":"Su\xe8de","SG":"Singapour","SH":"Sainte-H\xe9l\xe8ne","SI":"Slov\xe9nie","SJ":"Svalbard et \xcele Jan Mayen","SK":"Slovaquie","SL":"Sierra Leone","SM":"Saint-Marin","SN":"S\xe9n\xe9gal","SO":"Somalie","SR":"Suriname","SS":"Soudan du Sud","ST":"S\xe3o Tom\xe9-et-Principe","SV":"El Salvador","SX":"Saint-Martin (partie n\xe9erlandaise)","SY":"Syrie","SZ":"Royaume d\'Eswatini","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchad","TF":"Terres australes fran\xe7aises","TG":"Togo","TH":"Tha\xeflande","TJ":"Tadjikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkm\xe9nistan","TN":"Tunisie","TO":"Tonga","TR":"Turquie","TT":"Trinit\xe9-et-Tobago","TV":"Tuvalu","TW":"Ta\xefwan","TZ":"R\xe9publique unie de Tanzanie","UA":"Ukraine","UG":"Ouganda","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"\xc9tats-Unis d\'Am\xe9rique","UY":"Uruguay","UZ":"Ouzb\xe9kistan","VA":"Saint-Si\xe8ge (Vatican)","VC":"Saint-Vincent-et-les-Grenadines","VE":"Venezuela","VG":"\xceles vierges britanniques","VI":"\xceles vierges am\xe9ricaines","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis-et-Futuna","WS":"Samoa","YE":"Y\xe9men","YT":"Mayotte","ZA":"Afrique du Sud","ZM":"Zambie","ZW":"Zimbabwe"}}')},96100:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"Foreign"},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Describe","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionality. Please, try again later.","uploading":"You are already uploading a file. Please wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully described your file! "},"items":{"accommodation_proof":"Proof of accommodation |||| Proof of accommodations","appliance_invoice":"Appliance invoice |||| Appliance invoices","bank_details":"Bank detail |||| Bank details","bank_statement":"Bank statement |||| Bank statements","birth_certificate":"Birth certificate |||| Birth certificates","building_permit":"Building permit |||| Building permits","caf":"Social benefit rate |||| Social benefit rates","car_insurance":"Car insurance certificate |||| Car insurance certificates","citizen_registration_certificate":"Certificate of citizen registration |||| Certificates of citizen registration","condition_report":"Condition report |||| Condition reports","diploma":"Diploma |||| Diplomas","divorce":"Divorce |||| Divorces","driver_license":"Driving license |||| Driving licenses","electoral_card":"Electoral card |||| Electoral cards","employment_center_certificate":"Employment center certificate |||| Employment center certificates","energy_contract":"Energy provider contract |||| Energy provider contracts","energy_invoice":"Energy invoice |||| Energy invoices","expense_claim":"Expense claim |||| Expense claims","family_record_book":"Family record book |||| Family record books","family":"Family","fidelity_card":"Benefit card |||| Benefit cards","fine":"Fine |||| Fines","gradebook":"Gradebook |||| Gradebooks","grocery_invoice":"Grocery invoice |||| Grocery invoices","health_book":"Health book |||| Health books","health_certificate":"Health/Vaccination certificate |||| Health/Vaccination certificates","health_insurance_card":"Insurance card |||| Insurance cards","health_invoice":"Health invoice |||| Health invoices","health":"Health","home":"Home","house_insurance":"Home insurance |||| Home insurances","house_sale_agreeement":"House sale agreement |||| House sale agreements","identity_photo":"Identity photo |||| Identity photos","identity":"Identity","invoice":"Invoice |||| Invoices","isp_invoice":"ISP invoice |||| ISP invoices","large_family_card":" Large Family Card |||| Large Family Cards","lease":"Lease |||| Leases","loan_agreement":"Loan agreement |||| Loan agreements","mechanic_invoice":"Repair bill |||| Repair bills","motivation_letter":"Motivation letter |||| Motivation letters","national_health_insurance_card":"National health insurance card |||| National health insurance cards","national_health_insurance_right_certificate":"National health insurance right certificate |||| National health insurance right certificates","national_id_card":"ID card |||| ID cards","note_identity_document":"Note Identity |||| Notes Identity","note_family_document":"Note Family |||| Notes Family","note_work_document":"Note Work & Study |||| Notes Work & Study","note_health_document":"Note Health |||| Notes Health","note_house_document":"Note Home |||| Notes Home","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activities |||| Notes Activities","note_finance":"Note Finance |||| Notes Finance","note_invoice":"Note Invoice |||| Notes Invoice","other_activity_document":"Other activities document |||| Other activities documents","other_bank_document":"Other financial document |||| Other financial documents","other_family_document":"Other family document |||| Other family documents","other_health_document":"Other health document |||| Other health documents","other_house_document":"Other house document |||| Other house documents","other_identity_document":"Other document of identity |||| Other documents of identity","other_invoice":"Other invoice |||| Other invoices","other_revenue":"Other revenue |||| Other revenues","other_tax_document":"Other tax document |||| Other tax documents","other_transport_document":"Other transport document |||| Other transport documents","other_work_document":"Other work document |||| Other work documents","other_administrative_document":"Other administrative document |||| Other administrative documents","others":"Others","pacs":"Civil union |||| Civil unions","passport":"Passeport |||| Passeports","pay_sheet":"Pay sheet |||| Pay sheets","payment_proof_family_allowance":"family allowance payment proof |||| family allowance payment proofs","pension":"Pension |||| Pensions","person_insurance":"Individual insurance certificate |||| Individual insurance certificates","personal_sporting_licence":"Sporting licence |||| Sporting licences","phone_invoice":"Phone invoice |||| Phone invoices","pregnancy_medical_certificate":"Certificate of pregnancy |||| Certificates of pregnancy","prescription":"Prescription |||| Prescriptions","real_estate_insurance":"Real estate insurance certificate |||| Real estate insurance certificates","real_estate_tax":"Real estate tax |||| Real estate taxes","receipt":"Receipt |||| Receipts","rent_receipt":"Rent receipt |||| Rent receipts","residence_permit":"Residence permit |||| Residence permits","restaurant_invoice":"Restaurant invoice |||| Restaurant invoices","resume":"Resume |||| Resumes","school_attendance_certificate":"Certificate of school attendance |||| Certificates of school attendance","school_insurance_certificate":"Certificate of school insurance |||| Certificates of school insurance","single_parent_benefit":"Single parent benefit |||| Single parent benefits","student_card":"Student card |||| Student cards","tax_certificate":"Tax certificate |||| Tax certificates","tax_notice":"Tax notice |||| Tax notices","tax_return":"Tax return |||| Tax returns","tax_timetable":"Payment Plans Installment Agreement |||| Payment Plans Installment Agreements","technical_diagnostic_record":"Technical diagnostic record |||| Technical diagnostic records","telecom_invoice":"Telecom invoice |||| Telecom invoices","transport_card":"Transport card |||| Transport cards","transport_invoice":"Transport invoice |||| Transport invoices","transport":"Transport","unemployment_benefit":"Unemployment benefit |||| Unemployment benefits","unfit_for_habitation_declaration":"Declaration of unfit for habitation |||| Declarations of unfit for habitation","vehicle_registration":"Vehicle registration |||| Vehicle registrations","water_invoice":"Water invoice |||| Water invoices","web_service_invoice":"Web service invoice |||| Web service invoices","wedding":"Wedding contract |||| Wedding contracts","work_contract":"Work contract |||| Work contracts","work_disability_recognition":"Recognition of disability |||| Recognitions of disability","work_invoice":"Work invoice |||| Work invoices","work_quote":"Work quote |||| Work quotes","work_study":"Work & Study"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternate","internship":"Internship","other":"Other"},"noticePeriod":{"oneWeek":"1 week before","oneMonth":"1 month before","threeMonth":"3 months before","oneYear":"1 year before","custom":"Custom","noAlert":"Do not be alerted"}},"themes":{"none":"None","activity":"Activities","family":"Family","finance":"Finance","health":"Health","home":"Home","identity":"Identity","invoice":"Invoice","others":"Others","transport":"Transport","undefined":"Undefined","work_study":"Work & Study"},"expiration":{"expired":"Expired","expiresIn":"Expires in %{duration}","description":"This document expires in %{duration}, consider renewing it"},"qualification":{"date":{"title":{"datetime":"Added on","AObtentionDate":"License A, delivered on","BObtentionDate":"License B, delivered on","CObtentionDate":"License C, delivered on","DObtentionDate":"License D, delivered on","issueDate":"Delivered on","expirationDate":"Expiration date","referencedDate":"Referenced date","shootingDate":"Shooting date","obtentionDate":"Date obtained","date":"Document date"}},"information":{"title":{"fine":{"number":"Amount of the fine"},"fidelity_card":{"number":"Card number"},"caf":{"number":"CAF file number"},"payment_proof_family_allowance":{"number":"CAF file number"},"vehicle":{"licenseNumber":"Vehicle registration number","confidentialNumber":"Confidential vehicle registration code"},"vehicle_registration":{"number":"Vehicle registration number (VIN)"},"national_id_card":{"number":"National ID card number"},"bank_details":{"number":"IBAN number"},"passport":{"number":"Passport number"},"driver_license":{"number":"License number"},"residence_permit":{"number":"License number"},"national_health_insurance_card":{"number":"National health insurance card number"},"pay_sheet":{"number":"Gross remuneration"},"tax_return":{"number":"Reference tax number"},"tax_notice":{"number":"Reference tax number"},"real_estate_tax":{"number":"Reference tax number"},"tax_timetable":{"number":"Reference tax number"},"country":"Document issuing country","refTaxIncome":"Reference tax income","contractType":"Contract type","noticePeriod":"Expiration alert","netSocialAmount":"Net social amount","employerName":"Name of employer","employer":"Name of employer","amount":"Amount of expenditure","subtype":"Purpose of expenditure","bicNumber":"BIC number"},"day":"day |||| days"},"contact":"Owner","page":"Side of the document","front":"Front side","back":"Back side","qualification":"Qualification","noInfo":"No information"}},"MagicFolders":{"administrative":"Administrative","photos":"Photos"}}')},23967:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"\xc9tranger"},"Scan":{"scan_a_doc":"Num\xe9riser un doc","save_doc":"Enregistrer le document","filename":"Nom du fichier","save":"Sauvegarder","cancel":"Annuler","qualify":"Qualifier","apply":"Appliquer","error":{"offline":"Vous \xeates actuellement d\xe9connect\xe9, vous ne pouvez donc pas utiliser cette fonctionnalit\xe9. Connectez-vous \xe0 internet et recommencez. ","uploading":"Vous avez d\xe9j\xe0 un fichier en cours de t\xe9l\xe9chargement. Attendez la fin et recommencez.","generic":"Un probl\xe8me est survenu. Veuillez r\xe9essayer. "},"successful":{"qualified_ok":"Vous venez de qualifier votre fichier avec succ\xe8s !"},"items":{"accommodation_proof":"Attestation d\'h\xe9bergement |||| Attestations d\'h\xe9bergement","appliance_invoice":"Facture d\'\xe9lectrom\xe9nager |||| Factures d\'\xe9lectrom\xe9nager","bank_details":"RIB","bank_statement":"Relev\xe9 de compte |||| Relev\xe9s de compte","birth_certificate":"Acte de naissance |||| Actes de naissance","building_permit":"Permis de construire","caf":"Attestation de quotient familial CAF |||| Attestations de quotient familial CAF","car_insurance":"Attestation d\'assurance auto |||| Attestations d\'assurance auto","citizen_registration_certificate":"Attestation de recensement citoyen |||| Attestations de recensement citoyen","condition_report":"\xc9tat des lieux - Entr\xe9e/Sortie |||| \xc9tats des lieux - Entr\xe9e/Sortie","diploma":"Dipl\xf4me |||| Dipl\xf4mes","divorce":"Attestation de divorce |||| Attestations de divorce","driver_license":"Permis de conduire","electoral_card":"Carte \xe9lectorale |||| Cartes \xe9lectorales","employment_center_certificate":"Attestation de France Travail |||| Attestations de France Travail","energy_contract":"Contrat de fournisseur d\'\xe9nergies |||| Contrats de fournisseur d\'\xe9nergies","energy_invoice":"Facture d\'\xe9nergie |||| Factures d\'\xe9nergie","expense_claim":"Note de frais |||| Notes de frais","family_record_book":"Livret de famille |||| Livrets de famille","family":"Famille","fidelity_card":"Carte avantage |||| Cartes avantages","fine":"Amende |||| Amendes","gradebook":"Bulletin de notes |||| Bulletins de notes","grocery_invoice":"Facture de courses |||| Factures de courses","health_book":"Carnet de sant\xe9 |||| Carnets de sant\xe9","health_certificate":"Certificat de sant\xe9/vaccination |||| Certificats de sant\xe9/vaccination","health_insurance_card":"Carte de mutuelle |||| Cartes de mutuelle","health_invoice":"Facture m\xe9dicale |||| Factures m\xe9dicales","health":"Sant\xe9","home":"Logement","house_insurance":"Assurance logement |||| Assurances logement","house_sale_agreeement":"Compromis de vente","identity_photo":"Photo d\'identit\xe9 |||| Photos d\'identit\xe9","identity":"Identit\xe9","invoice":"Facture |||| Factures","isp_invoice":"Facture d\'internet |||| Factures d\'internet","large_family_card":"Carte famille nombreuse |||| Cartes famille nombreuse","lease":"Bail |||| Baux","loan_agreement":"Contrat de pr\xeat |||| Contrats de pr\xeat","mechanic_invoice":"Facture de r\xe9paration |||| Factures de r\xe9paration","motivation_letter":"Lettre de motivation |||| Lettres de motivation","national_health_insurance_card":"Carte vitale |||| Cartes vitales","national_health_insurance_right_certificate":"Attestation de droits de l\'Assurance Maladie |||| Attestations de droits de l\'Assurance Maladie","national_id_card":"Carte d\'identit\xe9 |||| Cartes d\'identit\xe9","note_identity_document":"Note Identit\xe9 |||| Notes Identit\xe9","note_family_document":"Note Famille |||| Notes Famille","note_work_document":"Note Travail & \xc9tudes |||| Notes Travail & \xc9tudes","note_health_document":"Note Sant\xe9 |||| Notes Sant\xe9","note_house_document":"Note Logement |||| Notes Logement","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activit\xe9s & loisirs |||| Notes Activit\xe9s & loisirs","note_finance":"Note Finances |||| Notes Finances","note_invoice":"Note Factures |||| Notes Factures","other_activity_document":"Autre document de loisirs |||| Autres documents de loisirs","other_bank_document":"Autre document financier |||| Autres documents financiers","other_family_document":"Autre document de famille |||| Autres documents de famille","other_health_document":"Autre document de sant\xe9 |||| Autres documents de sant\xe9","other_house_document":"Autre document de logement |||| Autres documents de logement","other_identity_document":"Autre document d\'identit\xe9 |||| Autres documents d\'identit\xe9","other_invoice":"Autre facture |||| Autres factures","other_revenue":"Autre revenu |||| Autres revenus","other_tax_document":"Imp\xf4ts - Autre document |||| Imp\xf4ts - Autres documents","other_transport_document":"Autre document de transport |||| Autres documents de transport","other_work_document":"Autre document de travail |||| Autres documents de travail","other_administrative_document":"Autre document administratif |||| Autres documents administratifs","others":"Autres","pacs":"Attestation de PACS |||| Attestations de PACS","passport":"Passeport |||| Passeports","pay_sheet":"Fiche de paie |||| Fiches de paie","payment_proof_family_allowance":"Attestation de paiement CAF |||| Attestations de paiement CAF","pension":"Retraite |||| Retraites","person_insurance":"Attestation d\'assurance individuelle |||| Attestations d\'assurance individuelle","personal_sporting_licence":"Licence sportive |||| Licences sportives","phone_invoice":"Facture de t\xe9l\xe9phone |||| Factures de t\xe9l\xe9phone","pregnancy_medical_certificate":"Certificat de grossesse |||| Certificats de grossesse","prescription":"Ordonnance |||| Ordonnances","real_estate_insurance":"Attestation d\'assurance immobili\xe8re |||| Attestations d\'assurance immobili\xe8re","real_estate_tax":"Imp\xf4ts - Taxe fonci\xe8re |||| Imp\xf4ts - Taxes fonci\xe8res","receipt":"Accus\xe9 de r\xe9ception |||| Accus\xe9s de r\xe9ception","rent_receipt":"Quittance de loyer |||| Quittances de loyer","residence_permit":"Titre de s\xe9jour |||| Titres de s\xe9jour","restaurant_invoice":"Facture de restaurant |||| Factures de restaurant","resume":"CV","school_attendance_certificate":"Certificat de scolarit\xe9 |||| Certificats de scolarit\xe9","school_insurance_certificate":"Attestation d\'assurance scolaire |||| Attestations d\'assurance scolaire","single_parent_benefit":"Allocation parent isol\xe9 |||| Allocations parent isol\xe9","student_card":"Carte d\'\xe9tudiant |||| Cartes d\'\xe9tudiant","tax_certificate":"Attestation fiscale |||| Attestations fiscales","tax_notice":"Imp\xf4ts - Avis d\'imposition","tax_return":"Imp\xf4ts - D\xe9claration de revenus |||| Imp\xf4ts - D\xe9clarations de revenus","tax_timetable":"Imp\xf4ts - Ech\xe9ancier |||| Imp\xf4ts - Ech\xe9anciers","technical_diagnostic_record":"Dossier de diagnostic technique |||| Dossiers de diagnostic technique","telecom_invoice":"Facture de t\xe9l\xe9com |||| Factures de t\xe9l\xe9com","transport_card":"Carte de transport |||| Cartes de transport","transport_invoice":"Facture de transport |||| Factures de transport","transport":"Transport","unemployment_benefit":"Allocation ch\xf4mage |||| Allocations ch\xf4mage","unfit_for_habitation_declaration":"Arr\xeat\xe9 d\'insalubrit\xe9 |||| Arr\xeat\xe9s d\'insalubrit\xe9","vehicle_registration":"Carte grise |||| Cartes grises","water_invoice":"Facture d\'eau |||| Factures d\'eau","web_service_invoice":"Facture de service web |||| Factures de service web","wedding":"Contrat de mariage |||| Contrats de mariage","work_contract":"Contrat de travail |||| Contrats de travail","work_disability_recognition":"Reconnaissance de handicap - RQTH |||| Reconnaissances de handicap - RQTH","work_invoice":"Facture de travaux |||| Factures de travaux","work_quote":"Devis de travaux","work_study":"Travail & \xc9tudes"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternance","internship":"Stage","other":"Autre"},"noticePeriod":{"oneWeek":"1 semaine avant","oneMonth":"1 mois avant","threeMonth":"3 mois avant","oneYear":"1 an avant","custom":"Personnalis\xe9","noAlert":"Ne pas \xeatre alert\xe9"}},"themes":{"none":"Aucun","activity":"Activit\xe9s & loisirs","family":"Famille","finance":"Finances","health":"Sant\xe9","home":"Logement","identity":"Identit\xe9","invoice":"Factures","others":"Autres","transport":"Transport","undefined":"Ind\xe9fini","work_study":"Travail & \xc9tudes"},"expiration":{"expired":"Expir\xe9","expiresIn":"Expire dans %{duration}","description":"Ce document expire dans %{duration}, pensez \xe0 le renouveler"},"qualification":{"date":{"title":{"datetime":"Ajout\xe9 le","AObtentionDate":"Permis A, d\xe9livr\xe9 le","BObtentionDate":"Permis B, d\xe9livr\xe9 le","CObtentionDate":"Permis C, d\xe9livr\xe9 le","DObtentionDate":"Permis D, d\xe9livr\xe9 le","issueDate":"D\xe9livr\xe9 le","expirationDate":"Date d\'expiration","referencedDate":"Date de r\xe9f\xe9rence","shootingDate":"Date de prise de vue","obtentionDate":"Date d\'obtention","date":"Date du document"}},"information":{"title":{"fine":{"number":"Montant de l\'amende"},"fidelity_card":{"number":"Num\xe9ro de la carte"},"caf":{"number":"Num\xe9ro de dossier CAF"},"payment_proof_family_allowance":{"number":"Num\xe9ro de dossier CAF"},"vehicle":{"licenseNumber":"Num\xe9ro d\'immatriculation","confidentialNumber":"Code confidentiel de la carte grise"},"vehicle_registration":{"number":"Num\xe9ro de la carte grise (VIN)"},"national_id_card":{"number":"Num\xe9ro de la carte d\'identit\xe9"},"bank_details":{"number":"Num\xe9ro d\'IBAN"},"passport":{"number":"Num\xe9ro du passeport"},"driver_license":{"number":"Num\xe9ro du permis"},"residence_permit":{"number":"Num\xe9ro du permis"},"national_health_insurance_card":{"number":"Num\xe9ro de s\xe9curit\xe9 sociale"},"pay_sheet":{"number":"R\xe9mun\xe9ration brute"},"tax_return":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_notice":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"real_estate_tax":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_timetable":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"country":"Pays \xe9metteur du document","refTaxIncome":"Revenu fiscal de r\xe9f\xe9rence","contractType":"Type de contrat","noticePeriod":"Alerte dâ€™expiration","netSocialAmount":"Montant net social","employerName":"Nom de l\'employeur","employer":"Nom de l\'employeur","amount":"Montant de la d\xe9pense","subtype":"Objet de la d\xe9pense","bicNumber":"Num\xe9ro BIC"},"day":"jour |||| jours"},"contact":"Titulaire","page":"Face du document","front":"Face avant","back":"Face arri\xe8re","qualification":"Qualification","noInfo":"Non renseign\xe9(e)"}},"MagicFolders":{"administrative":"Administratif","photos":"Photos"}}')},90123:function(e){"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},54625:function(e){"use strict";e.exports=JSON.parse('{"loading":{"sharing":"Loading in progress"},"Share":{"status":{"owner":"Owner","pending":"Invitation sent","seen":"Invitation seen","ready":"Accepted","refused":"Refused","mail-not-sent":"Sending invitation mail...","revoked":"Error","unregistered":"Error"},"type":{"one-way":"Can view","two-way":"Can change","desc":{"one-way":"Contacts can view, download, and add the content to their Twake. If they add the content to their Twake, they will get updates you make to the content, but they won\'t be able to update it.","two-way":"Contacts can update, delete and add the content to their Twake. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","anyoneWithTheLink":"Anyone with the link","linkWithPassword":"Anyone with a password","expires":"Until %{date}","accessCount":"%{count} people have access"},"create-cozy":"Create |||| Create my Twake","members":{"count":"%{smart_count} member |||| %{smart_count} members","others":"and 1 otherâ€¦ |||| and %{smart_count} othersâ€¦","otherContacts":"other contact |||| other contacts"},"contacts":{"whoHasAccess":"Who has access?","permissionRequired":{"title":"Save your contacts in your Twake?","desc":"Authorize the application to access to your Twake\'s contacts: you\'ll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"},"defaultDisplayName":"Anonymous"},"twoStepsConfirmation":{"title":"Confirm contact\'s identity","titleReject":"Reject contact","confirm":"Confirm","reject":"Reject","cancel":"Cancel","verify":"Verify","contactAreWaitingForConfirmation":"Some contacts are waiting for your confirmation. Confirm their identities to allow them to access items you shared with them.||||%{smart_count} contacts are waiting for your confirmation. Confirm their identities to allow them to access items you shared with them.","confirmRejection":"Do you really want to reject contact %{userName} (%{userEmail})?"},"loadingError":"Loading error","banner":{"shared_from":"The items below are displayed from ![avatar](%{image}) **%{name}**\'s Twake. You can add a link to this share in your Twake","whats_cozy":"Twake is a secure digital home for all your data, hosted in France - ","know_more":"More information","sync_to_mine":"Synchronise |||| Synchronise in my Twake","add_to_mine":"Add |||| Add to my Twake","close":"Close"},"permissionLink":{"title":"Allow anyone with the link to:","seeFile":"See file","modifyFile":"Modify file","seeFolder":"See folder","modifyFolder":"Modify folder","readDescription":"Link holders can only read or download content.","writeDescription":"Link holders can alter and delete content.","deactivate":"Deactivate link","cancel":"Cancel","confirm":"OK"},"errors":{"errors":{"groupMemberAlreadyInSharing":"%{groupName} members have already been invited with %{sharingRights} rights. It is not possible to invite the same contact twice with different rights. |||| Contacts have already been invited with %{sharingRights} rights. It is not possible to invite the same contact twice with different rights.","contactAlreadyInSharing":"%{contactName} has already been invited in a group with %{sharingRights} rights. It is not possible to invite the same contact twice with different rights. |||| Contacts have already been invited with %{sharingRights} rights. It is not possible to invite the same contact twice with different rights.","sharingRights":{"readOnly":"read","readWrite":"write"}}},"send":"Send..."},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share \\"%{name}\\"","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Twake. You will get updates by the owner, but you won\'t be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Twake. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","shared":"Shared","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","sharedByLink":"Shared by link","shareByLink":{"create":"Generate a link","send":"Send link","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard","permserror":"An error occurred while changing the permissions of the link, please try again.","shareDescription":"Here is the link to the document %{name}:"},"shareByEmail":{"subtitle":"By email","emailPlaceholder":"Add contacts or groups","send":"Send","singleContactSuccess":"You sent an invite to %{email}.","contactSuccess":"You sent an invite to %{smart_count} contact. |||| You sent an invite to %{smart_count} contacts.","singleGroupSuccess":"You sent an invite to the members of the %{groupName} group.","groupSuccess":"You sent an invite to the members of %{smart_count} group. |||| You sent an invite to the members of %{smart_count} groups.","contactAndGroupSuccess":"You sent an invite to %{nbContact} contacts and the members of %{nbGroup} groups.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}}},"Notes":{"share":{"cta":"Share","title":"Share \\"%{name}\\"","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Twake. You will get updates by the owner, but you won\'t be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Twake. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","shared":"Shared","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"create":"Generate a link","send":"Send link","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard","permserror":"An error occurred while changing the permissions of the link, please try again.","shareDescription":"Here is the link to the document %{name}:"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","singleContactSuccess":"You sent an invite to %{email}.","contactSuccess":"You sent an invite to %{smart_count} contact. |||| You sent an invite to %{smart_count} contacts.","singleGroupSuccess":"You sent an invite to the members of the %{groupName} group.","groupSuccess":"You sent an invite to the members of %{smart_count} group. |||| You sent an invite to the members of %{smart_count} groups.","contactAndGroupSuccess":"You sent an invite to %{nbContact} contacts and the members of %{nbGroup} groups.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder","note":"note"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the note share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}}},"Albums":{"share":{"cta":"Share","title":"Share  \\"%{name}\\" with others","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Read only","rw":"Read/write"},"sharedByMe":"Shared","shared":"Shared","sharedWithMe":"Shared with me","shareByLink":{"create":"Generate a link","send":"Send link","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard","permserror":"An error occurred while changing the permissions of the link, please try again.","fetchFailed":"Woops! It seems your connectivity is limited, try again later when it gets better.","shareDescription":"Here is the link to the album %{name}:"},"shareByEmail":{"title":"By email","subtitle":"By email","email":"email","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","singleContactSuccess":"You sent an invite to %{email}.","contactSuccess":"You sent an invite to %{smart_count} contact. |||| You sent an invite to %{smart_count} contacts.","singleGroupSuccess":"You sent an invite to the members of the %{groupName} group.","groupSuccess":"You sent an invite to the members of %{smart_count} group. |||| You sent an invite to the members of %{smart_count} groups.","contactAndGroupSuccess":"You sent an invite to %{nbContact} contacts and the members of %{nbGroup} groups.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!"},"unshare":{"title":"Remove from album","success":"You removed this shared album from %{email}."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"Who has access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the album share link, please try again.","revoke":"An error occurred when revoking the album share link, please try again."}}},"Organizations":{"share":{"cta":"Share","title":"Share \\"%{name}\\"","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Twake. You will get updates by the owner, but you won\'t be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Twake. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","shared":"Shared","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","sharedByLink":"Shared by link","shareByLink":{"create":"Generate a link","send":"Send link","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard","permserror":"An error occurred while changing the permissions of the link, please try again.","shareDescription":"Here is the link to the document %{name}:"},"shareByEmail":{"subtitle":"By email","email":"Send to:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","singleContactSuccess":"You sent an invite to %{email}.","contactSuccess":"You sent an invite to %{smart_count} contact. |||| You sent an invite to %{smart_count} contacts.","singleGroupSuccess":"You sent an invite to the members of the %{groupName} group.","groupSuccess":"You sent an invite to the members of %{smart_count} group. |||| You sent an invite to the members of %{smart_count} groups.","contactAndGroupSuccess":"You sent an invite to %{nbContact} contacts and the members of %{nbGroup} groups.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"fingerprint":{"instruction":"For security reasons, please verify **%{userName} (%{userEmail})**\'s identity. To do this, contact **%{userName}** via the means of communication of your choice (call, text message, instant messaging app...) and verify their security code.<br><br>Every Twake user has a security code that they can find using their web application. Their security code must correspond to:","instruction2":"If it is the case, then you can confirm this contact who will be considered as secure for your next sharings."}},"ConfirmRecipientModal":{"title":"%{smart_count} contact waiting for confirmation |||| %{smart_count} contacts waiting for confirmation","intruction":"Verify identity of their Twake in order to give them access content you shared with them."},"ShareRecipientsLimitModal":{"title":"Problem with your sharing","content":"You cannot share %{documentName} with more than %{limit} members.","confirm":"I understand"},"RevokeMemberItem":{"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won\'t be synchrnoized anymore.","sharedDriveDesc":"Your contact will no longer be able to access the data."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won\'t be updated between your Twake anymore."}},"RevokeSharedDriveMemberItem":{"revoke":{"title":"Remove"}},"GroupRecipient":{"secondary":"%{memberCount} member |||| %{memberCount} members","secondary_you":"including you"},"RevokeGroupItem":{"revoke":{"title":"Remove group from sharing","desc":"Group members will keep a copy but the changes won\'t be synchrnoized anymore.","sharedDriveDesc":"Group members will no longer be able to access the data."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won\'t be updated between your Twake anymore."}},"GroupRecipientDetail":{"subtitle":"Managed by %{ownerName}","empty":{"content":"Your contact group is empty! Quickly add members to start sharing your valuable documents with them!","action":"Open Contacts"},"withAccess":{"title":"Access to item"},"withoutAccess":{"title":"No access","status":{"mail-not-sent":"Invitation failed","revoked":"Sharing revoked"},"addEmail":"Enter an email address to invite the contact"}},"ShareRestrictionModal":{"title":"Sharing link","action":{"confirm":"Confirm"},"invalidPasswordMessage":"%{smart_count} character is missing |||| %{smart_count} characters are missings"},"BoxDate":{"label":"Deadline","text":"Remove access after a deadline"},"BoxPassword":{"label":"Password","text":"Limit access with a password"},"BoxEditingRights":{"editTitle":"Editing rights","readOnlyTitle":"Reading rights","editSubText":"People with access to the link can modify the content","readOnlySubText":"People who have access to the link can only view the content"},"copyReminderContent":{"success":"Copied to clipboard","error":"Cannot copy to clipboard"},"shareFile":{"error":"Problem with link recovery: %{error}","text":"Link to my document %{name}: |||| Link to my documents %{name}: ","title":"Link to my document %{name} |||| Link to my documents %{name}"},"SharedDrive":{"sharedDriveModal":{"title":"New shared drive","nameLabel":"Drive name","add":"Add","cancel":"Cancel","create":"Create","save":"Save","addPeople":"Add people to the shared drive :","successNotification":"Shared drive has been added","errorNotification":"Error during shared drive creation","successNotificationUpdate":"Your shared drive has been modified","errorNotificationUpdate":"Error durring shared drive modification"}}}')},40282:function(e){"use strict";e.exports=JSON.parse('{"loading":{"sharing":"Chargement en cours"},"Share":{"status":{"owner":"Propri\xe9taire","pending":"Invitation envoy\xe9e","seen":"Partage consult\xe9","ready":"Accept\xe9","refused":"Refus\xe9","mail-not-sent":"Envoi du mail d\'invitation...","revoked":"Erreur","unregistered":"Erreur"},"type":{"one-way":"Peut consulter","two-way":"Peut modifier","desc":{"one-way":"Les contacts peuvent consulter, t\xe9l\xe9charger, et ajouter le contenu \xe0 leur Twake. En cas dâ€™ajout \xe0 leur Twake, ils recevront vos modifications sur le contenu mais ils ne pourront pas le modifier.","two-way":"Les contacts peuvent modifier, supprimer et ajouter le contenu \xe0 leur Twake. Les modifications sur le contenu seront r\xe9percut\xe9es automatiquement entre vos Twake."}},"locked-type-file":"Bient\xf4t : vous pourrez changer la permission donn\xe9e sur le fichier.","locked-type-folder":"Bient\xf4t : vous pourrez changer la permission donn\xe9e sur le dossier.","recipients":{"you":"Vous","anyoneWithTheLink":"N\'importe qui avec le lien","linkWithPassword":"N\'importe qui avec un mot de passe","expires":"Jusqu\'au %{date}","accessCount":"%{count} personnes y ont acc\xe8s"},"create-cozy":"Cr\xe9er |||| Cr\xe9er mon Twake","members":{"count":"%{smart_count} membre |||| %{smart_count} membres","others":"et 1 autreâ€¦ |||| et %{smart_count} autresâ€¦","otherContacts":"autre contact |||| autres contacts"},"contacts":{"whoHasAccess":"Qui a acc\xe8s ?","permissionRequired":{"title":"Enregistrer vos contacts dans votre Twake ?","desc":"Autorisez l\'application \xe0 acc\xe9der aux contacts de votre Twake : vous pourrez les s\xe9lectionner la prochaine fois.","action":"Autoriser l\'acc\xe8s","success":"L\'application a acc\xe8s \xe0 vos contacts"},"defaultDisplayName":"Anonyme"},"twoStepsConfirmation":{"title":"Confirmer l\'identit\xe9 du contact","titleReject":"Refuser le contact","confirm":"Confirmer","reject":"Refuser","cancel":"Annuler","verify":"V\xe9rifier","contactAreWaitingForConfirmation":"%{smart_count} contact en attente de confirmation. Confirmer son identit\xe9 pour lui permettre dâ€™acc\xe9der aux \xe9l\xe9ments que vous avez partag\xe9 avec lui.||||%{smart_count} contacts en attente de confirmation. Confirmer leur identit\xe9 pour leur permettre dâ€™acc\xe9der aux \xe9l\xe9ments que vous avez partag\xe9 avec eux.","confirmRejection":"\xcates-vous s\xfbr de vouloir refuser le contact %{userName} (%{userEmail})?"},"loadingError":"Erreur de chargement","banner":{"shared_from":"Les \xe9l\xe9ments ci-dessous sont affich\xe9s depuis le Twake de ![avatar](%{image}) **%{name}**. Vous pouvez ajouter un lien vers ce partage dans votre Twake.","whats_cozy":"Twake est un domicile num\xe9rique s\xe9curis\xe9 pour toutes vos donn\xe9es, h\xe9berg\xe9 en France - ","know_more":"En savoir plus","sync_to_mine":"Synchroniser |||| Synchroniser dans mon Twake","add_to_mine":"Ajouter |||| Ajouter \xe0 mon Twake","close":"Fermer"},"permissionLink":{"title":"Autoriser n\'importe qui avec le lien \xe0 :","seeFile":"Consulter le fichier","modifyFile":"Modifier le fichier","seeFolder":"Consulter le dossier","modifyFolder":"Modifier le dossier","readDescription":"Les d\xe9tenteurs du lien peuvent uniquement consulter ou t\xe9l\xe9charger le contenu.","writeDescription":"Les d\xe9tenteurs du lien peuvent modifier et supprimer le contenu.","deactivate":"D\xe9sactiver le lien","cancel":"Annuler","confirm":"OK"},"errors":{"groupMemberAlreadyInSharing":"Des membres de %{groupName} ont d\xe9j\xe0 \xe9t\xe9 invit\xe9s avec des droits de %{sharingRights}. Impossible dâ€™inviter 2 fois le m\xeame contact avec des droits diff\xe9rents. |||| Des contacts ont d\xe9j\xe0 \xe9t\xe9 invit\xe9s avec des droits de %{sharingRights}. Impossible dâ€™inviter 2 fois le m\xeame contact avec des droits diff\xe9rents.","contactAlreadyInSharing":"%{contactName} a d\xe9j\xe0 \xe9t\xe9 invit\xe9 dans un groupe avec des droits de %{sharingRights}. Impossible dâ€™inviter 2 fois le m\xeame contact avec des droits diff\xe9rents. |||| Des contacts ont d\xe9j\xe0 \xe9t\xe9 invit\xe9s avec des droits de %{sharingRights}. Impossible dâ€™inviter 2 fois le m\xeame contact avec des droits diff\xe9rents.","sharingRights":{"readOnly":"lecture","readWrite":"modification"}},"send":"Envoyer..."},"Sharings":{"unavailable":{"title":"Ravi de vous revoir !","message":"Connectez-vous \xe0 Internet pour faire apparaitre la liste de vos r\xe9cents partages."}},"Files":{"share":{"cta":"Partager","title":"Partager \xab %{name} \xbb","details":{"title":"D\xe9tails du partage","createdAt":"Depuis le %{date}","ro":"Peut consulter","rw":"Peut modifier","desc":{"ro":"Vous pouvez consulter, t\xe9l\xe9charger, et ajouter ce contenu \xe0 votre Twake. Vous recevrez les modifications faites par le propri\xe9taire, mais vous ne pourrez pas le modifier.","rw":"Vous pouvez consulter, modifier et supprimer du contenu. Les modifications sur le contenu seront r\xe9percut\xe9es automatiquement entre vos Twake."}},"sharedByMe":"Partag\xe9","shared":"Partag\xe9","sharedWithMe":"Partag\xe9 avec moi","sharedBy":"Partag\xe9 par %{name}","shareByLink":{"create":"G\xe9n\xe9rer un lien","send":"Envoyer le lien","copy":"Copier le lien","copied":"Lien copi\xe9 dans le presse-papiers.","failed":"Impossible de copier dans le presse papier","permserror":"Une erreur est survenue lors du changement de permissions du lien, merci de r\xe9essayer.","shareDescription":"Voici le lien de partage du document %{name} :"},"shareByEmail":{"subtitle":"Par email","emailPlaceholder":"Ajouter des contacts ou des groupes","send":"Envoyer","singleContactSuccess":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","contactSuccess":"Vous avez invit\xe9 %{smart_count} contact. |||| Vous avez invit\xe9 %{smart_count} contacts.","singleGroupSuccess":"Vous avez invit\xe9 les membres du groupe %{groupName}.","groupSuccess":"Vous avez invit\xe9 les membres de %{smart_count} groupe. |||| Vous avez invit\xe9 les membres de %{smart_count} groupes.","contactAndGroupSuccess":"Vous avez invit\xe9 %{nbContact} contacts et les membres de %{nbGroup} groupes.","comingsoon":"Bient\xf4t disponible ! Vous pourrez partager un document et vos photos en un seul clic avec votre famille, vos amis, et m\xeame vos collaborateurs. Ne vous inqui\xe9tez pas, on vous pr\xe9vient quand ce sera pr\xeat !","onlyByLink":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","type":{"file":"fichier","folder":"dossier"},"hasSharedParent":"se trouve dans un dossier partag\xe9.","hasSharedChild":"contient un \xe9l\xe9ment partag\xe9."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi\xe9"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"Cr\xe9ation du lienâ€¦","error":{"generic":"Une erreur est survenue lors de la cr\xe9ation du lien de partage, merci de r\xe9essayer","revoke":"Oups, une erreur est survenue. Contactez-nous pour que nous r\xe9solvions la situation au plus vite.\\n"},"specialCase":{"base":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","isInSharedFolder":"se trouve dans un dossier partag\xe9.","hasSharedFolder":"contient un dossier partag\xe9."}}},"Notes":{"share":{"cta":"Partager","title":"Partager \xab %{name} \xbb","details":{"title":"D\xe9tails du partage","createdAt":"Depuis le %{date}","ro":"Peut consulter","rw":"Peut modifier","desc":{"ro":"Vous pouvez consulter, t\xe9l\xe9charger, et ajouter ce contenu \xe0 votre Twake. Vous recevrez les modifications faites par le propri\xe9taire, mais vous ne pourrez pas le modifier.","rw":"Vous pouvez consulter, modifier et supprimer du contenu. Les modifications sur le contenu seront r\xe9percut\xe9es automatiquement entre vos Twake."}},"sharedByMe":"Partag\xe9","shared":"Partag\xe9","sharedWithMe":"Partag\xe9 avec moi","sharedBy":"Partag\xe9 par %{name}","shareByLink":{"create":"G\xe9n\xe9rer un lien","send":"Envoyer le lien","copy":"Copier le lien","copied":"Lien copi\xe9 dans le presse-papiers.","failed":"Impossible de copier dans le presse papier","permserror":"Une erreur est survenue lors du changement de permissions du lien, merci de r\xe9essayer.","shareDescription":"Voici le lien de partage du document %{name} :"},"shareByEmail":{"subtitle":"Par email","email":"\xc0 :","emailPlaceholder":"Saisissez le courriel ou le nom du destinataire.","send":"Envoyer","singleContactSuccess":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","contactSuccess":"Vous avez invit\xe9 %{smart_count} contact. |||| Vous avez invit\xe9 %{smart_count} contacts.","singleGroupSuccess":"Vous avez invit\xe9 les membres du groupe %{groupName}.","groupSuccess":"Vous avez invit\xe9 les membres de %{smart_count} groupe. |||| Vous avez invit\xe9 les membres de %{smart_count} groupes.","contactAndGroupSuccess":"Vous avez invit\xe9 %{nbContact} contacts et les membres de %{nbGroup} groupes.","success":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","comingsoon":"Bient\xf4t disponible ! Vous pourrez partager un document et vos photos en un seul clic avec votre famille, vos amis, et m\xeame vos collaborateurs. Ne vous inqui\xe9tez pas, on vous pr\xe9vient quand ce sera pr\xeat !","onlyByLink":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","type":{"file":"fichier","folder":"dossier","note":"note"},"hasSharedParent":"se trouve dans un dossier partag\xe9.","hasSharedChild":"contient un \xe9l\xe9ment partag\xe9."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi\xe9"},"whoHasAccess":{"title":"1 personne y a acc\xe8s |||| %{smart_count} personnes y ont acc\xe8s"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"Cr\xe9ation du lienâ€¦","error":{"generic":"Une erreur est survenue lors de la cr\xe9ation du lien de partage, merci de r\xe9essayer","revoke":"Oups, une erreur est survenue. Contactez-nous pour que nous r\xe9solvions la situation au plus vite.\\n"},"specialCase":{"base":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","isInSharedFolder":"se trouve dans un dossier partag\xe9.","hasSharedFolder":"contient un dossier partag\xe9."}}},"Albums":{"share":{"cta":"Partager","title":"Partager \xab %{name} \xbb avec d\'autres","details":{"title":"D\xe9tails du partage","createdAt":"Depuis le %{date}","ro":"Permission de lecture","rw":"Permission d\'\xe9criture et de lecture"},"sharedByMe":"Partag\xe9","shared":"Partag\xe9","sharedWithMe":"Partag\xe9 avec moi","shareByLink":{"create":"G\xe9n\xe9rer un lien","send":"Envoyer le lien","copy":"Copier le lien","copied":"Lien copi\xe9 dans le presse-papier","failed":"Impossible de copier dans le presse-papier","permserror":"Une erreur est survenue lors du changement de permissions du lien, merci de r\xe9essayer.","fetchFailed":"Oups ! Il semblerait que votre connexion internet soit limit\xe9e, r\xe9essayez plus tard quand le r\xe9seau sera meilleur.","shareDescription":"Voici le lien de partage de l\'album %{name} :"},"shareByEmail":{"title":"Par e-mail","subtitle":"Par email","email":"e-mail","emailPlaceholder":"Saisissez l\'email ou le nom du destinataire.","send":"Envoyer","singleContactSuccess":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","contactSuccess":"Vous avez invit\xe9 %{smart_count} contact. |||| Vous avez invit\xe9 %{smart_count} contacts.","singleGroupSuccess":"Vous avez invit\xe9 les membres du groupe %{groupName}.","groupSuccess":"Vous avez invit\xe9 les membres de %{smart_count} groupe. |||| Vous avez invit\xe9 les membres de %{smart_count} groupes.","contactAndGroupSuccess":"Vous avez invit\xe9 %{nbContact} contacts et les membres de %{nbGroup} groupes.","success":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","comingsoon":"Bient\xf4t disponible ! Vous pourrez partager vos documents et vos photos en un seul clic avec votre famille, vos amis et m\xeame vos collaborateurs. Ne vous inqui\xe9tez pas, on vous pr\xe9viendra quand ce sera pr\xeat !\\n"},"unshare":{"title":"Arr\xeater le partage avec ce contact","success":"Vous avez cess\xe9 de partager cet album avec %{email}."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi\xe9"},"whoHasAccess":{"title":"Qui a acc\xe8s"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"R\xe9cup\xe9ration du lien...","error":{"generic":"Une erreur est survenue lors de la cr\xe9ation du lien de partage de l\'album, merci de r\xe9essayer","revoke":"Une erreur est survenue lors de la r\xe9vocation du lien de partage de l\'album, merci de r\xe9essayer"}}},"Organizations":{"share":{"cta":"Partager","title":"Partager \xab %{name} \xbb","details":{"title":"D\xe9tails du partage","createdAt":"Depuis le %{date}","ro":"Peut consulter","rw":"Peut modifier","desc":{"ro":"Vous pouvez consulter, t\xe9l\xe9charger, et ajouter ce contenu \xe0 votre Twake. Vous recevrez les modifications faites par le propri\xe9taire, mais vous ne pourrez pas le modifier.","rw":"Vous pouvez consulter, modifier et supprimer du contenu. Les modifications sur le contenu seront r\xe9percut\xe9es automatiquement entre vos Twake."}},"sharedByMe":"Partag\xe9","shared":"Partag\xe9","sharedWithMe":"Partag\xe9 avec moi","sharedBy":"Partag\xe9 par %{name}","shareByLink":{"create":"G\xe9n\xe9rer un lien","send":"Envoyer le lien","copy":"Copier le lien","copied":"Lien copi\xe9 dans le presse-papiers.","failed":"Impossible de copier dans le presse papier","permserror":"Une erreur est survenue lors du changement de permissions du lien, merci de r\xe9essayer.","shareDescription":"Voici le lien de partage du document %{name} :"},"shareByEmail":{"subtitle":"Par email","email":"Envoyer \xe0 :","emailPlaceholder":"Saisissez le courriel ou le nom du destinataire.","send":"Envoyer","singleContactSuccess":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","contactSuccess":"Vous avez invit\xe9 %{smart_count} contact. |||| Vous avez invit\xe9 %{smart_count} contacts.","singleGroupSuccess":"Vous avez invit\xe9 les membres du groupe %{groupName}.","groupSuccess":"Vous avez invit\xe9 les membres de %{smart_count} groupe. |||| Vous avez invit\xe9 les membres de %{smart_count} groupes.","contactAndGroupSuccess":"Vous avez invit\xe9 %{nbContact} contacts et les membres de %{nbGroup} groupes.","comingsoon":"Bient\xf4t disponible ! Vous pourrez partager un document et vos photos en un seul clic avec votre famille, vos amis, et m\xeame vos collaborateurs. Ne vous inqui\xe9tez pas, on vous pr\xe9vient quand ce sera pr\xeat !","onlyByLink":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","type":{"file":"fichier","folder":"dossier"},"hasSharedParent":"se trouve dans un dossier partag\xe9.","hasSharedChild":"contient un \xe9l\xe9ment partag\xe9."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi\xe9"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"Cr\xe9ation du lienâ€¦","error":{"generic":"Une erreur est survenue lors de la cr\xe9ation du lien de partage, merci de r\xe9essayer","revoke":"Oups, une erreur est survenue. Contactez-nous pour que nous r\xe9solvions la situation au plus vite.\\n"},"specialCase":{"base":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","isInSharedFolder":"se trouve dans un dossier partag\xe9.","hasSharedFolder":"contient un dossier partag\xe9."}},"fingerprint":{"instruction":"Par s\xe9curit\xe9, nous vous proposons de v\xe9rifier l\'identit\xe9 de **%{userName} (%{userEmail})**. Pour cela, contactez **%{userName}** par le moyen de votre choix (Appel, SMS, messagerie instantan\xe9e, ...) afin de v\xe9rifier son code de s\xe9curit\xe9.<br><br>Chaque Twake a une phrase de s\xe9curit\xe9 qu\'il peut retrouver dans son interface web. Sa phrase de s\xe9curit\xe9 doit correspondre \xe0\xa0:","instruction2":"Si c\'est bien le cas, vous pouvez confirmer ce contact qui sera alors vu comme s\xe9curis\xe9 pour vos prochains partages."}},"ConfirmRecipientModal":{"title":"%{smart_count} contact en attente de v\xe9rification |||| %{smart_count} contacts en attente de v\xe9rification","intruction":"V\xe9rifier l\'identit\xe9 de leur Twake pour leur permettre d\'acc\xe9der aux \xe9l\xe9ments que vous avez partag\xe9s avec eux."},"ShareRecipientsLimitModal":{"title":"Probl\xe8me au niveau de votre partage","content":"Vous ne pouvez pas partager %{documentName} \xe0 plus de %{limit} membres.","confirm":"J\'ai compris"},"RevokeMemberItem":{"revoke":{"title":"Arr\xeater le partage","desc":"Votre contact conservera une copie mais vos changements ne seront plus synchronis\xe9s.","sharedDriveDesc":"Votre contact ne pourra plus acc\xe9der aux donn\xe9es."},"revokeSelf":{"title":"Arr\xeater le partage","desc":"Vous conservez le contenu mais il ne sera plus mis \xe0 jour entre vos Twake."}},"RevokeSharedDriveMemberItem":{"revoke":{"title":"Supprimer"}},"GroupRecipient":{"secondary":"%{memberCount} membre |||| %{memberCount} membres","secondary_you":"dont vous"},"RevokeGroupItem":{"revoke":{"title":"Arr\xeater le partage pour le groupe","desc":"Les membres du groupe conserveront une copie mais vos changements ne seront plus synchronis\xe9s","sharedDriveDesc":"Les membres du groupe ne pourront plus acc\xe9der aux donn\xe9es."},"revokeSelf":{"title":"Quitter le partage","desc":"Vous conserverez une copie mais vos changements ne seront plus synchronis\xe9s."}},"GroupRecipientDetail":{"subtitle":"G\xe9r\xe9 par %{ownerName}","empty":{"content":"Votre groupe de contacts est vide ! Ajoutez rapidement des membres pour commencer \xe0 leur partager vos pr\xe9cieux documents !","action":"Ouvrir Contacts"},"withAccess":{"title":"Acc\xe8s \xe0 lâ€™\xe9l\xe9ment"},"withoutAccess":{"title":"Aucun acc\xe8s","status":{"mail-not-sent":"Echec de lâ€™invitation","revoked":"Partage r\xe9voqu\xe9"},"addEmail":"Renseigner un email pour pouvoir inviter le contact"}},"ShareRestrictionModal":{"title":"Lien de partage","action":{"confirm":"Valider"},"invalidPasswordMessage":"Il manque %{smart_count} caract\xe8re |||| Il manque %{smart_count} caract\xe8res"},"BoxDate":{"label":"Date limite","text":"Restreindre l\'acc\xe8s apr\xe8s une date limite"},"BoxPassword":{"label":"Mot de passe","text":"Limiter l\'acc\xe8s par un mot de passe"},"BoxEditingRights":{"editTitle":"Droit d\'\xe9dition","readOnlyTitle":"Droit de lecture","editSubText":"Les personnes ayant acc\xe8s au lien peuvent modifier le contenu","readOnlySubText":"Les personnes ayant acc\xe8s au lien peuvent uniquement consulter le contenu"},"copyReminderContent":{"success":"Copi\xe9 dans le presse-papier","error":"Impossible de copier dans le presse-papier"},"shareFile":{"error":"Probl\xe8me avec la r\xe9cup\xe9ration du lien\xa0: %{error}","text":"Voici un lien vers mon document %{name}\xa0: |||| Voici un lien contenant mes documents %{name}\xa0: ","title":"Lien vers mon document %{name} |||| Lien vers mes documents %{name}"},"SharedDrive":{"sharedDriveModal":{"title":"Nouveau drive partag\xe9","nameLabel":"Nom du drive partag\xe9","add":"Ajouter","cancel":"Annuler","create":"Cr\xe9er","save":"Enregistrer","addPeople":"Ajouter des utilisateurs au drive partag\xe9 :","successNotification":"Le drive partag\xe9 a \xe9t\xe9 ajout\xe9","errorNotification":"Erreur lors de la cr\xe9ation du drive partag\xe9","successNotificationUpdate":"Votre drive partag\xe9 a \xe9t\xe9 modifi\xe9","errorNotificationUpdate":"Erreur lors de la modification du drive partag\xe9"}}}')},33571:function(e){"use strict";e.exports=JSON.parse('{"loading":{"sharing":"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°"},"Share":{"status":{"owner":"Ð’Ð»Ð°Ð´ÐµÐ»ÐµÑ†","pending":"ÐŸÑ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾","seen":"ÐŸÑ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾","ready":"ÐŸÑ€Ð¸Ð½ÑÑ‚Ð¾","refused":"ÐžÑ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¾","mail-not-sent":"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð¿Ð¾Ñ‡Ñ‚Ðµ...","revoked":"ÐžÑˆÐ¸Ð±ÐºÐ°","unregistered":"ÐžÑˆÐ¸Ð±ÐºÐ°"},"type":{"one-way":"ÐœÐ¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ","two-way":"ÐœÐ¾Ð¶ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ","desc":{"one-way":"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’ Ñ‚Ð°ÐºÐ¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¾Ð½Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ, Ð½Ð¾ Ð½Ðµ ÑÐ¼Ð¾Ð³ÑƒÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ ÑÐ°Ð¼Ð¸.","two-way":"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ, ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ð¸Ð´Ð½Ñ‹ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ñ…."}},"locked-type-file":"Ð¡ÐºÐ¾Ñ€Ð¾: Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð°.","locked-type-folder":"Ð¡ÐºÐ¾Ñ€Ð¾: Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¿Ð°Ð¿ÐºÐ¸.","recipients":{"you":"Ð’Ñ‹","anyoneWithTheLink":"Ð›ÑŽÐ±Ð¾Ð¹, Ñƒ ÐºÐ¾Ð³Ð¾ ÐµÑÑ‚ÑŒ ÑÑÑ‹Ð»ÐºÐ°","linkWithPassword":"Ð›ÑŽÐ±Ð¾Ð¹ Ñ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼","expires":"Ð”Ð¾ %{date}","accessCount":"%{count} Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð¸Ð¼ÐµÑŽÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿"},"create-cozy":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ |||| Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð¾Ð¹ Twake","members":{"count":"%{smart_count} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº |||| %{smart_count} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ° |||| %{smart_count} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²","others":"Ð¸ 1 Ð´Ñ€ÑƒÐ³Ð¾Ð¹â€¦ |||| Ð¸ %{smart_count} Ð´Ñ€ÑƒÐ³Ð¸Ñ…â€¦","otherContacts":"Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ |||| Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°"},"contacts":{"whoHasAccess":"Ð£ ÐºÐ¾Ð³Ð¾ ÐµÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿?","permissionRequired":{"title":"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð² Ð²Ð°ÑˆÐµÐ¼ Twake?","desc":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼ Ð²Ð°ÑˆÐµÐ³Ð¾ Twake: Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð· Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð¸Ñ….","action":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿","success":"ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸Ð¼ÐµÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð²Ð°ÑˆÐ¸Ð¼ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼"},"defaultDisplayName":"ÐÐ½Ð¾Ð½Ð¸Ð¼"},"twoStepsConfirmation":{"title":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°","titleReject":"ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚","confirm":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ","reject":"ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ","cancel":"ÐžÑ‚Ð¼ÐµÐ½Ð°","verify":"ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ","contactAreWaitingForConfirmation":"ÐÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¶Ð´ÑƒÑ‚ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð¸Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð²Ñ‹ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»Ð¸ÑÑŒ.||||%{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð¶Ð´ÐµÑ‚ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð²Ñ‹ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»Ð¸ÑÑŒ.||||%{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð² Ð¶Ð´ÑƒÑ‚ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð¸Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð²Ñ‹ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»Ð¸ÑÑŒ.","confirmRejection":"Ð’Ñ‹ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¾Ñ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ %{userName} (%{userEmail})?"},"loadingError":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸","banner":{"shared_from":"Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð½Ð¸Ð¶Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ Ð¸Ð· Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ![avatar](%{image}) **%{name}**. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° ÑÑ‚Ð¾Ñ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð² ÑÐ²Ð¾Ð¹ Twake","whats_cozy":"Twake â€” ÑÑ‚Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð²Ð°ÑˆÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð½Ð¾Ðµ Ð²Ð¾ Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ð¸ - ","know_more":"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ","sync_to_mine":"Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ |||| Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¼Ð¾Ð¹ Twake","add_to_mine":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ |||| Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Ð¼Ð¾Ð¹ Twake","close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},"permissionLink":{"title":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð²ÑÐµÐ¼, Ñƒ ÐºÐ¾Ð³Ð¾ ÐµÑÑ‚ÑŒ ÑÑÑ‹Ð»ÐºÐ°:","seeFile":"ÐŸÑ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»","modifyFile":"Ð˜Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ„Ð°Ð¹Ð»","seeFolder":"ÐŸÑ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ","modifyFolder":"Ð˜Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ","readDescription":"ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¸Ð»Ð¸ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ.","writeDescription":"ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¸ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ.","deactivate":"Ð”ÐµÐ°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","cancel":"ÐžÑ‚Ð¼ÐµÐ½Ð°","confirm":"OK"},"errors":{"errors":{"groupMemberAlreadyInSharing":"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ %{groupName} ÑƒÐ¶Ðµ Ð±Ñ‹Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ñ‹ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ %{sharingRights}. ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ð¸ Ñ‚Ð¾Ñ‚ Ð¶Ðµ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸. |||| ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ ÑƒÐ¶Ðµ Ð±Ñ‹Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ñ‹ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ %{sharingRights}. ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ð¸ Ñ‚Ð¾Ñ‚ Ð¶Ðµ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸.","contactAlreadyInSharing":"%{contactName} ÑƒÐ¶Ðµ Ð±Ñ‹Ð» Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ %{sharingRights}. ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ð¸ Ñ‚Ð¾Ñ‚ Ð¶Ðµ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸. |||| ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ ÑƒÐ¶Ðµ Ð±Ñ‹Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ñ‹ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ %{sharingRights}. ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ð¸ Ñ‚Ð¾Ñ‚ Ð¶Ðµ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸.","sharingRights":{"readOnly":"Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ","readWrite":"Ð·Ð°Ð¿Ð¸ÑÑŒ"}}},"send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ°..."},"Sharings":{"unavailable":{"title":"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ","message":"Ð”Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÑÐ¿Ð¸ÑÐºÐ° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… Ð¾Ð±Ñ‰Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ."}},"Files":{"share":{"cta":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ","title":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ \\"%{name}\\"","details":{"title":"Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","createdAt":"%{date}","ro":"ÐœÐ¾Ð¶ÐµÑ‚ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ","rw":"ÐœÐ¾Ð¶ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ","desc":{"ro":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°, Ð½Ð¾ Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ ÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾.","rw":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ, ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ð°ÑˆÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ð¸Ð´Ð½Ñ‹ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼."}},"sharedByMe":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¼Ð½Ð¾Ð¹","shared":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","sharedWithMe":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¼Ð½Ðµ","sharedBy":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ð»ÑÑ(Ð°ÑÑŒ) %{name}","sharedByLink":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ","shareByLink":{"create":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copied":"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","failed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","permserror":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ ÑÑÑ‹Ð»ÐºÐ¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","shareDescription":"Ð’Ð¾Ñ‚ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}:"},"shareByEmail":{"subtitle":"ÐŸÐ¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","emailPlaceholder":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð¸Ð»Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","singleContactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð½Ð° %{email}.","contactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñƒ. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼.","singleGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ %{groupName}.","groupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿.","contactAndGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{nbContact} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼ Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{nbGroup} Ð³Ñ€ÑƒÐ¿Ð¿.","comingsoon":"Ð¡ÐºÐ¾Ñ€Ð¾! Ð’Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ Ð¸ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑÐ¼Ð¸ Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ð¸Ðº Ñ ÑÐµÐ¼ÑŒÐµÐ¹, Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð»Ð»ÐµÐ³Ð°Ð¼Ð¸. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, Ð¼Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ð¼, ÐºÐ¾Ð³Ð´Ð° Ð²ÑÐµ Ð±ÑƒÐ´ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾!","onlyByLink":"Ð­Ñ‚Ð¾Ñ‚ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾","type":{"file":"Ñ„Ð°Ð¹Ð»","folder":"Ð¿Ð°Ð¿ÐºÐ°"},"hasSharedParent":"Ð¾Ð½ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedChild":"Ð¾Ð½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚"},"sharingLink":{"title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","copied":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"},"protectedShare":{"title":"Ð¡ÐºÐ¾Ñ€Ð¾!","desc":"Ð”ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ‡ÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Ñ ÑÐµÐ¼ÑŒÐµÐ¹ Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸!"},"close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ","gettingLink":"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ ÑÑÑ‹Ð»ÐºÐ¸...","error":{"generic":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ñ„Ð°Ð¹Ð»Ñƒ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","revoke":"Ð£Ð¿Ñ, Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¼Ñ‹ Ð¼Ð¾Ð³Ð»Ð¸ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐºÐ¾Ñ€ÐµÐµ."},"specialCase":{"base":"Ð­Ñ‚Ð¾Ñ‚ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½","isInSharedFolder":"Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedFolder":"ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰ÑƒÑŽ Ð¿Ð°Ð¿ÐºÑƒ"}}},"Notes":{"share":{"cta":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ","title":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ \\"%{name}\\"","details":{"title":"Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","createdAt":"%{date}","ro":"ÐœÐ¾Ð¶ÐµÑ‚ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ","rw":"ÐœÐ¾Ð¶ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ","desc":{"ro":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°, Ð½Ð¾ Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ ÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾.","rw":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ, ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ð°ÑˆÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ð¸Ð´Ð½Ñ‹ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Cozy."}},"sharedByMe":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð¼Ð½Ð¾Ð¹","shared":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","sharedWithMe":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¼Ð½Ðµ","sharedBy":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ð»ÑÑ(-Ð°ÑÑŒ) %{name}","shareByLink":{"create":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copied":"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","failed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","permserror":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ ÑÑÑ‹Ð»ÐºÐ¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","shareDescription":"Ð’Ð¾Ñ‚ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}:"},"shareByEmail":{"subtitle":"ÐŸÐ¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","email":"ÐšÐ¾Ð¼Ñƒ:","emailPlaceholder":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹ Ð¸Ð»Ð¸ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","singleContactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð½Ð° %{email}.","contactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñƒ. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼.","singleGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ %{groupName}.","groupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿.","contactAndGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{nbContact} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼ Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{nbGroup} Ð³Ñ€ÑƒÐ¿Ð¿.","comingsoon":"Ð¡ÐºÐ¾Ñ€Ð¾! Ð’Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ Ð¸ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑÐ¼Ð¸ Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ð¸Ðº Ñ ÑÐµÐ¼ÑŒÐµÐ¹, Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð»Ð»ÐµÐ³Ð°Ð¼Ð¸. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, Ð¼Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ð¼, ÐºÐ¾Ð³Ð´Ð° Ð²ÑÐµ Ð±ÑƒÐ´ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾!","onlyByLink":"Ð­Ñ‚Ð¾Ñ‚ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾","type":{"file":"Ñ„Ð°Ð¹Ð»","folder":"Ð¿Ð°Ð¿ÐºÐ°","note":"Ð·Ð°Ð¼ÐµÑ‚ÐºÐ°"},"hasSharedParent":"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedChild":"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚"},"sharingLink":{"title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","copied":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"},"whoHasAccess":{"title":"1 Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð¸Ð¼ÐµÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ |||| %{smart_count} Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð¸Ð¼ÐµÑŽÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿"},"protectedShare":{"title":"Ð¡ÐºÐ¾Ñ€Ð¾!","desc":"Ð”ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ‡ÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Ñ ÑÐµÐ¼ÑŒÐµÐ¹ Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸!"},"close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ","gettingLink":"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ ÑÑÑ‹Ð»ÐºÐ¸...","error":{"generic":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð·Ð°Ð¼ÐµÑ‚ÐºÐµ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","revoke":"Ð£Ð¿Ñ, Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¼Ñ‹ Ð¼Ð¾Ð³Ð»Ð¸ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐºÐ¾Ñ€ÐµÐµ."},"specialCase":{"base":"Ð­Ñ‚Ð¾Ð¹ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½Ð°","isInSharedFolder":"Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedFolder":"ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰ÑƒÑŽ Ð¿Ð°Ð¿ÐºÑƒ"}}},"Albums":{"share":{"cta":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ","title":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ  \\"%{name}\\" Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸","details":{"title":"Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","createdAt":"%{date}","ro":"Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ","rw":"Ð§Ñ‚ÐµÐ½Ð¸Ðµ/Ð·Ð°Ð¿Ð¸ÑÑŒ"},"sharedByMe":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","shared":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","sharedWithMe":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¼Ð½Ðµ","shareByLink":{"create":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copied":"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","failed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","permserror":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ ÑÑÑ‹Ð»ÐºÐ¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","fetchFailed":"Ð£Ð¿Ñ! ÐŸÐ¾Ñ…Ð¾Ð¶Ðµ, Ñƒ Ð²Ð°Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ð°Ñ ÑÐ²ÑÐ·ÑŒ, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ, ÐºÐ¾Ð³Ð´Ð° Ð¾Ð½Ð° ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑÑ.","shareDescription":"Ð’Ð¾Ñ‚ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð°Ð»ÑŒÐ±Ð¾Ð¼ %{name}:"},"shareByEmail":{"title":"ÐŸÐ¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","subtitle":"ÐŸÐ¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","email":"ÑÐ». Ð¿Ð¾Ñ‡Ñ‚Ð°","emailPlaceholder":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹ Ð¸Ð»Ð¸ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","singleContactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð½Ð° %{email}.","contactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñƒ. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼.","singleGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ %{groupName}.","groupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿.","contactAndGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{nbContact} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼ Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{nbGroup} Ð³Ñ€ÑƒÐ¿Ð¿.","comingsoon":"Ð¡ÐºÐ¾Ñ€Ð¾! Ð’Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ Ð¸ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑÐ¼Ð¸ Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ð¸Ðº Ñ ÑÐµÐ¼ÑŒÐµÐ¹, Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð»Ð»ÐµÐ³Ð°Ð¼Ð¸. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, Ð¼Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ð¼, ÐºÐ¾Ð³Ð´Ð° Ð²ÑÐµ Ð±ÑƒÐ´ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾!"},"unshare":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð°","success":"Ð’Ñ‹ ÑƒÐ´Ð°Ð»Ð¸Ð»Ð¸ ÑÑ‚Ð¾Ñ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ Ð°Ð»ÑŒÐ±Ð¾Ð¼ Ñƒ %{email}."},"sharingLink":{"title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","copied":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"},"whoHasAccess":{"title":"Ð£ ÐºÐ¾Ð³Ð¾ ÐµÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿"},"protectedShare":{"title":"Ð¡ÐºÐ¾Ñ€Ð¾!","desc":"Ð”ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ‡ÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Ñ ÑÐµÐ¼ÑŒÐµÐ¹ Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸!"},"close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ","gettingLink":"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ ÑÑÑ‹Ð»ÐºÐ¸...","error":{"generic":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð°Ð»ÑŒÐ±Ð¾Ð¼Ñƒ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","revoke":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð·Ñ‹Ð²Ðµ ÑÑÑ‹Ð»ÐºÐ¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð°Ð»ÑŒÐ±Ð¾Ð¼Ñƒ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°."}}},"Organizations":{"share":{"cta":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ","title":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ \\"%{name}\\"","details":{"title":"Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","createdAt":"%{date}","ro":"ÐœÐ¾Ð¶ÐµÑ‚ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ","rw":"ÐœÐ¾Ð¶ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ","desc":{"ro":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°, Ð½Ð¾ Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ ÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾.","rw":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ, Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ, ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð² ÑÐ²Ð¾Ð¹ Twake. Ð’Ð°ÑˆÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ð¸Ð´Ð½Ñ‹ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹."}},"sharedByMe":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð¼Ð½Ð¾Ð¹","shared":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿","sharedWithMe":"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¼Ð½Ðµ","sharedBy":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ð»ÑÑ(Ð°ÑÑŒ) %{name}","sharedByLink":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ","shareByLink":{"create":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ","copied":"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","failed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","permserror":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ ÑÑÑ‹Ð»ÐºÐ¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","shareDescription":"Ð’Ð¾Ñ‚ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}:"},"shareByEmail":{"subtitle":"ÐŸÐ¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ","email":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ:","emailPlaceholder":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹ Ð¸Ð»Ð¸ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ","send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","singleContactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð½Ð° %{email}.","contactSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñƒ. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼.","singleGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ %{groupName}.","groupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹. |||| Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{smart_count} Ð³Ñ€ÑƒÐ¿Ð¿.","contactAndGroupSuccess":"Ð’Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ %{nbContact} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼ Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ %{nbGroup} Ð³Ñ€ÑƒÐ¿Ð¿.","comingsoon":"Ð¡ÐºÐ¾Ñ€Ð¾! Ð’Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ Ð¸ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑÐ¼Ð¸ Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ð¸Ðº Ñ ÑÐµÐ¼ÑŒÐµÐ¹, Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð»Ð»ÐµÐ³Ð°Ð¼Ð¸. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ, Ð¼Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ð¼, ÐºÐ¾Ð³Ð´Ð° Ð²ÑÐµ Ð±ÑƒÐ´ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾!","onlyByLink":"Ð­Ñ‚Ð¾Ñ‚ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾","type":{"file":"Ñ„Ð°Ð¹Ð»","folder":"Ð¿Ð°Ð¿ÐºÐ°"},"hasSharedParent":"Ð¾Ð½ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedChild":"Ð¾Ð½ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚"},"sharingLink":{"title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","copy":"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","copied":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"},"protectedShare":{"title":"Ð¡ÐºÐ¾Ñ€Ð¾!","desc":"Ð”ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ‡ÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Ñ ÑÐµÐ¼ÑŒÐµÐ¹ Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸!"},"close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ","gettingLink":"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ ÑÑÑ‹Ð»ÐºÐ¸...","error":{"generic":"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ñ„Ð°Ð¹Ð»Ñƒ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.","revoke":"Ð£Ð¿Ñ, Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¼Ñ‹ Ð¼Ð¾Ð³Ð»Ð¸ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐºÐ¾Ñ€ÐµÐµ."},"specialCase":{"base":"Ð­Ñ‚Ð¾Ñ‚ %{type} Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½","isInSharedFolder":"Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð¾Ð±Ñ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ","hasSharedFolder":"ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ð±Ñ‰ÑƒÑŽ Ð¿Ð°Ð¿ÐºÑƒ"}},"fingerprint":{"instruction":"Ð’ Ñ†ÐµÐ»ÑÑ… Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ **%{userName} (%{userEmail})**. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ **%{userName}** Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¼Ñƒ Ð²Ð°Ð¼Ð¸ ÐºÐ°Ð½Ð°Ð»Ñƒ ÑÐ²ÑÐ·Ð¸ (Ð·Ð²Ð¾Ð½Ð¾Ðº, SMS, Ð¼ÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€...) Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¸Ñ… ÐºÐ¾Ð´ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸.<br><br>Ð£ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Twake ÐµÑÑ‚ÑŒ ÐºÐ¾Ð´ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð½Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð½Ð°Ð¹Ñ‚Ð¸ Ð² Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸. Ð˜Ñ… ÐºÐ¾Ð´ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ:","instruction2":"Ð•ÑÐ»Ð¸ ÑÑ‚Ð¾ Ñ‚Ð°Ðº, Ñ‚Ð¾ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒÑÑ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¼ Ð´Ð»Ñ Ð²Ð°ÑˆÐ¸Ñ… Ð±ÑƒÐ´ÑƒÑ‰Ð¸Ñ… Ð¾Ð±Ñ‰Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²."}},"ConfirmRecipientModal":{"title":"%{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð¶Ð´ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ |||| %{smart_count} ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð° Ð¶Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ","intruction":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼ Ð²Ñ‹ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»Ð¸ÑÑŒ."},"ShareRecipientsLimitModal":{"title":"ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð²Ð°ÑˆÐ¸Ð¼ Ð¾Ð±Ñ‰Ð¸Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼","content":"Ð’Ñ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº %{documentName} Ð±Ð¾Ð»ÐµÐµ Ñ‡ÐµÐ¼ %{limit} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼.","confirm":"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},"RevokeMemberItem":{"revoke":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","desc":"Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ ÐºÐ¾Ð¿Ð¸ÑŽ, Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ.","sharedDriveDesc":"Ð’Ð°Ñˆ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼."},"revokeSelf":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¼ÐµÐ½Ñ Ð¸Ð· Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","desc":"Ð’Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ, Ð½Ð¾ Ð¾Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒÑÑ Ð¼ÐµÐ¶Ð´Ñƒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ð¼Ð¸."}},"RevokeSharedDriveMemberItem":{"revoke":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"}},"GroupRecipient":{"secondary":"%{memberCount} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº |||| %{memberCount} ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²","secondary_you":"Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð²Ð°Ñ"},"RevokeGroupItem":{"revoke":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ Ð¸Ð· Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","desc":"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ ÐºÐ¾Ð¿Ð¸ÑŽ, Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ.","sharedDriveDesc":"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ ÑÐ¼Ð¾Ð³ÑƒÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼."},"revokeSelf":{"title":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¼ÐµÐ½Ñ Ð¸Ð· Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","desc":"Ð’Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ, Ð½Ð¾ Ð¾Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒÑÑ Ð¼ÐµÐ¶Ð´Ñƒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°Ð¼Ð¸."}},"GroupRecipientDetail":{"subtitle":"Ð£Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ %{ownerName}","empty":{"content":"Ð’Ð°ÑˆÐ° Ð³Ñ€ÑƒÐ¿Ð¿Ð° ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð² Ð¿ÑƒÑÑ‚Ð°. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð², Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ñ Ð½Ð¸Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸!","action":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹"},"withAccess":{"title":"Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ"},"withoutAccess":{"title":"ÐÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","status":{"mail-not-sent":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ","revoked":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¾Ñ‚Ð¾Ð·Ð²Ð°Ð½"},"addEmail":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ñ‹, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚"}},"ShareRestrictionModal":{"title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°","action":{"confirm":"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ"},"invalidPasswordMessage":"ÐÐµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ %{smart_count} ÑÐ¸Ð¼Ð²Ð¾Ð»Ð° |||| ÐÐµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚ %{smart_count} ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"},"BoxDate":{"label":"Ð¡Ñ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ","text":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¿Ð¾ÑÐ»Ðµ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ñ ÑÑ€Ð¾ÐºÐ°"},"BoxPassword":{"label":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ","text":"ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼"},"BoxEditingRights":{"editTitle":"ÐŸÑ€Ð°Ð²Ð° Ð½Ð° Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ","readOnlyTitle":"ÐŸÑ€Ð°Ð²Ð° Ð½Ð° Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ","editSubText":"Ð›ÑŽÐ´Ð¸ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº ÑÑÑ‹Ð»ÐºÐµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ","readOnlySubText":"Ð›ÑŽÐ´Ð¸ Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº ÑÑÑ‹Ð»ÐºÐµ Ð¼Ð¾Ð³ÑƒÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ"},"copyReminderContent":{"success":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°","error":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°"},"shareFile":{"error":"ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸ÐµÐ¼ ÑÑÑ‹Ð»ÐºÐ¸: %{error}","text":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¼Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name}: |||| Ð¡ÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ð¼Ð¾Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ %{name}: ","title":"Ð¡ÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¼Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ %{name} |||| Ð¡ÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ð¼Ð¾Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ %{name}"},"SharedDrive":{"sharedDriveModal":{"title":"ÐÐ¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ‰Ð¸Ð¹ Ð´Ð¸ÑÐº","nameLabel":"Ð˜Ð¼Ñ Ð´Ð¸ÑÐºÐ°","add":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ","cancel":"ÐžÑ‚Ð¼ÐµÐ½Ð°","create":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ","save":"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ","addPeople":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð»ÑŽÐ´ÐµÐ¹ Ð² Ð¾Ð±Ñ‰Ð¸Ð¹ Ð´Ð¸ÑÐº:","successNotification":"ÐžÐ±Ñ‰Ð¸Ð¹ Ð´Ð¸ÑÐº Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½","errorNotification":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¸ÑÐºÐ°","successNotificationUpdate":"Ð’Ð°Ñˆ Ð¾Ð±Ñ‰Ð¸Ð¹ Ð´Ð¸ÑÐº Ð±Ñ‹Ð» Ð¸Ð·Ð¼ÐµÐ½Ñ‘Ð½","errorNotificationUpdate":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ Ð´Ð¸ÑÐºÐ°"}}}')},91635:function(e){"use strict";e.exports=JSON.parse('{"loading":{"sharing":"Äang táº£i"},"Share":{"status":{"owner":"Chá»§ sá»Ÿ há»¯u","pending":"Ä\xe3 gá»­i lá»i má»i","seen":"Ä\xe3 xem lá»i má»i","ready":"Ä\xe3 cháº¥p nháº­n","refused":"Ä\xe3 tá»« chá»‘i","mail-not-sent":"Äang gá»­i thÆ° má»i...","revoked":"Lá»—i","unregistered":"Lá»—i"},"type":{"one-way":"C\xf3 thá»ƒ xem","two-way":"C\xf3 thá»ƒ thay Ä‘á»•i","desc":{"one-way":"NgÆ°á»i li\xean há»‡ c\xf3 thá»ƒ xem, táº£i xuá»‘ng v\xe0 th\xeam ná»™i dung v\xe0o Twake cá»§a há». Náº¿u há» th\xeam ná»™i dung v\xe0o Twake, há» sáº½ nháº­n Ä‘Æ°á»£c c\xe1c báº£n cáº­p nháº­t m\xe0 báº¡n thá»±c hiá»‡n Ä‘á»‘i vá»›i ná»™i dung, nhÆ°ng há» sáº½ kh\xf4ng thá»ƒ cáº­p nháº­t n\xf3.","two-way":"NgÆ°á»i li\xean há»‡ c\xf3 thá»ƒ cáº­p nháº­t, x\xf3a v\xe0 th\xeam ná»™i dung v\xe0o Twake cá»§a há». C\xe1c báº£n cáº­p nháº­t tr\xean ná»™i dung sáº½ Ä‘Æ°á»£c tháº¥y tr\xean c\xe1c Cozy kh\xe1c."}},"locked-type-file":"Sáº¯p ra máº¯t: báº¡n sáº½ c\xf3 thá»ƒ thay Ä‘á»•i quyá»n m\xe0 báº¡n cáº¥p tr\xean tá»‡p.","locked-type-folder":"Sáº¯p ra máº¯t: báº¡n sáº½ c\xf3 thá»ƒ thay Ä‘á»•i quyá»n m\xe0 báº¡n cáº¥p tr\xean thÆ° má»¥c.","recipients":{"you":"Báº¡n","anyoneWithTheLink":"Báº¥t ká»³ ai c\xf3 li\xean káº¿t","linkWithPassword":"Báº¥t ká»³ ai c\xf3 máº­t kháº©u","expires":"Cho Ä‘áº¿n %{date}","accessCount":"%{count} ngÆ°á»i c\xf3 quyá»n truy cáº­p"},"create-cozy":"Táº¡o |||| Táº¡o Twake cá»§a t\xf4i","members":{"count":"%{smart_count} th\xe0nh vi\xean |||| %{smart_count} th\xe0nh vi\xean","others":"v\xe0 1 ngÆ°á»i kh\xe1câ€¦ |||| v\xe0 %{smart_count} ngÆ°á»i kh\xe1câ€¦","otherContacts":"ngÆ°á»i li\xean há»‡ kh\xe1c |||| ngÆ°á»i li\xean há»‡ kh\xe1c"},"contacts":{"whoHasAccess":"Ai c\xf3 quyá»n truy cáº­p?","permissionRequired":{"title":"LÆ°u danh báº¡ cá»§a báº¡n v\xe0o Twake cá»§a báº¡n?","desc":"Cho ph\xe9p á»©ng dá»¥ng truy cáº­p v\xe0o danh báº¡ Twake cá»§a báº¡n: báº¡n sáº½ c\xf3 thá»ƒ chá»n há» v\xe0o láº§n sau.","action":"Cho ph\xe9p truy cáº­p","success":"á»¨ng dá»¥ng c\xf3 quyá»n truy cáº­p v\xe0o danh báº¡ cá»§a báº¡n"},"defaultDisplayName":"áº¨n danh"},"twoStepsConfirmation":{"title":"X\xe1c nháº­n danh t\xednh ngÆ°á»i li\xean há»‡","titleReject":"Tá»« chá»‘i ngÆ°á»i li\xean há»‡","confirm":"X\xe1c nháº­n","reject":"Tá»« chá»‘i","cancel":"Há»§y","verify":"X\xe1c minh","contactAreWaitingForConfirmation":"Má»™t sá»‘ li\xean há»‡ Ä‘ang chá» x\xe1c nháº­n cá»§a báº¡n. H\xe3y x\xe1c nháº­n danh t\xednh cá»§a há» Ä‘á»ƒ cho ph\xe9p há» truy cáº­p c\xe1c má»¥c báº¡n Ä‘\xe3 chia sáº» vá»›i há».||||%{smart_count} li\xean há»‡ Ä‘ang chá» x\xe1c nháº­n cá»§a báº¡n. H\xe3y x\xe1c nháº­n danh t\xednh cá»§a há» Ä‘á»ƒ cho ph\xe9p há» truy cáº­p c\xe1c má»¥c báº¡n Ä‘\xe3 chia sáº» vá»›i há».","confirmRejection":"Báº¡n c\xf3 thá»±c sá»± muá»‘n tá»« chá»‘i ngÆ°á»i li\xean há»‡ %{userName} (%{userEmail}) kh\xf4ng?"},"loadingError":"Lá»—i táº£i","banner":{"shared_from":"C\xe1c má»¥c dÆ°á»›i Ä‘\xe2y Ä‘Æ°á»£c hiá»ƒn thá»‹ tá»« Twake cá»§a ![avatar](%{image}) **%{name}**. Báº¡n c\xf3 thá»ƒ th\xeam li\xean káº¿t Ä‘áº¿n chia sáº» n\xe0y v\xe0o Twake cá»§a m\xecnh","whats_cozy":"Twake l\xe0 má»™t ng\xf4i nh\xe0 ká»¹ thuáº­t sá»‘ an to\xe0n cho táº¥t cáº£ dá»¯ liá»‡u cá»§a báº¡n, Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i Ph\xe1p - ","know_more":"Th\xf4ng tin th\xeam","sync_to_mine":"Äá»“ng bá»™ h\xf3a |||| Äá»“ng bá»™ h\xf3a v\xe0o Twake cá»§a t\xf4i","add_to_mine":"Th\xeam |||| Th\xeam v\xe0o Twake cá»§a t\xf4i","close":"Ä\xf3ng"},"permissionLink":{"title":"Cho ph\xe9p báº¥t ká»³ ai c\xf3 li\xean káº¿t Ä‘á»ƒ:","seeFile":"Xem tá»‡p","modifyFile":"Sá»­a Ä‘á»•i tá»‡p","seeFolder":"Xem thÆ° má»¥c","modifyFolder":"Sá»­a Ä‘á»•i thÆ° má»¥c","readDescription":"NgÆ°á»i giá»¯ li\xean káº¿t chá»‰ c\xf3 thá»ƒ Ä‘á»c hoáº·c táº£i xuá»‘ng ná»™i dung.","writeDescription":"NgÆ°á»i giá»¯ li\xean káº¿t c\xf3 thá»ƒ thay Ä‘á»•i v\xe0 x\xf3a ná»™i dung.","deactivate":"Há»§y k\xedch hoáº¡t li\xean káº¿t","cancel":"Há»§y","confirm":"OK"},"errors":{"errors":{"groupMemberAlreadyInSharing":"C\xe1c th\xe0nh vi\xean cá»§a %{groupName} Ä‘\xe3 Ä‘Æ°á»£c má»i vá»›i quyá»n %{sharingRights}. Kh\xf4ng thá»ƒ má»i c\xf9ng má»™t ngÆ°á»i li\xean há»‡ hai láº§n vá»›i c\xe1c quyá»n kh\xe1c nhau. |||| C\xe1c li\xean há»‡ Ä‘\xe3 Ä‘Æ°á»£c má»i vá»›i quyá»n %{sharingRights}. Kh\xf4ng thá»ƒ má»i c\xf9ng má»™t ngÆ°á»i li\xean há»‡ hai láº§n vá»›i c\xe1c quyá»n kh\xe1c nhau.","contactAlreadyInSharing":"%{contactName} Ä‘\xe3 Ä‘Æ°á»£c má»i v\xe0o má»™t nh\xf3m vá»›i quyá»n %{sharingRights}. Kh\xf4ng thá»ƒ má»i c\xf9ng má»™t ngÆ°á»i li\xean há»‡ hai láº§n vá»›i c\xe1c quyá»n kh\xe1c nhau. |||| C\xe1c li\xean há»‡ Ä‘\xe3 Ä‘Æ°á»£c má»i vá»›i quyá»n %{sharingRights}. Kh\xf4ng thá»ƒ má»i c\xf9ng má»™t ngÆ°á»i li\xean há»‡ hai láº§n vá»›i c\xe1c quyá»n kh\xe1c nhau.","sharingRights":{"readOnly":"Ä‘á»c","readWrite":"viáº¿t"}}},"send":"Gá»­i..."},"Sharings":{"unavailable":{"title":"Báº­t trá»±c tuyáº¿n!","message":"Cáº§n c\xf3 káº¿t ná»‘i internet Ä‘á»ƒ hiá»ƒn thá»‹ danh s\xe1ch c\xe1c chia sáº» gáº§n Ä‘\xe2y cá»§a báº¡n."}},"Files":{"share":{"cta":"Chia sáº»","title":"Chia sáº» \\"%{name}\\"","details":{"title":"Chi tiáº¿t chia sáº»","createdAt":"V\xe0o %{date}","ro":"C\xf3 thá»ƒ Ä‘á»c","rw":"C\xf3 thá»ƒ thay Ä‘á»•i","desc":{"ro":"Báº¡n c\xf3 thá»ƒ xem, táº£i xuá»‘ng v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. Báº¡n sáº½ nháº­n Ä‘Æ°á»£c c\xe1c báº£n cáº­p nháº­t tá»« chá»§ sá»Ÿ há»¯u, nhÆ°ng báº¡n sáº½ kh\xf4ng thá»ƒ tá»± cáº­p nháº­t ná»™i dung n\xe0y.","rw":"Báº¡n c\xf3 thá»ƒ xem, cáº­p nháº­t, x\xf3a v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. C\xe1c báº£n cáº­p nháº­t báº¡n thá»±c hiá»‡n sáº½ Ä‘Æ°á»£c tháº¥y tr\xean c\xe1c Cozies kh\xe1c."}},"sharedByMe":"ÄÆ°á»£c chia sáº» bá»Ÿi t\xf4i","shared":"Ä\xe3 chia sáº»","sharedWithMe":"ÄÆ°á»£c chia sáº» vá»›i t\xf4i","sharedBy":"ÄÆ°á»£c chia sáº» bá»Ÿi %{name}","sharedByLink":"ÄÆ°á»£c chia sáº» qua li\xean káº¿t","shareByLink":{"create":"Táº¡o má»™t li\xean káº¿t","send":"Gá»­i li\xean káº¿t","copy":"Sao ch\xe9p li\xean káº¿t","copied":"Li\xean káº¿t Ä‘\xe3 Ä‘Æ°á»£c sao ch\xe9p v\xe0o khay nhá»› táº¡m","failed":"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m","permserror":"Ä\xe3 xáº£y ra lá»—i khi thay Ä‘á»•i quyá»n cá»§a li\xean káº¿t, vui l\xf2ng thá»­ láº¡i.","shareDescription":"Ä\xe2y l\xe0 li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u %{name}:"},"shareByEmail":{"subtitle":"Báº±ng email","emailPlaceholder":"Th\xeam li\xean há»‡ hoáº·c nh\xf3m","send":"Gá»­i","singleContactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{email}.","contactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡.","singleGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a nh\xf3m %{groupName}.","groupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m.","contactAndGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{nbContact} li\xean há»‡ v\xe0 c\xe1c th\xe0nh vi\xean cá»§a %{nbGroup} nh\xf3m.","comingsoon":"Sáº¯p ra máº¯t! Báº¡n sáº½ c\xf3 thá»ƒ chia sáº» t\xe0i liá»‡u v\xe0 áº£nh chá»‰ trong má»™t c\xfa nháº¥p chuá»™t vá»›i gia Ä‘\xecnh, báº¡n b\xe8 v\xe0 cáº£ Ä‘á»“ng nghiá»‡p cá»§a m\xecnh. Äá»«ng lo, ch\xfang t\xf4i sáº½ cho báº¡n biáº¿t khi n\xe0o n\xf3 sáºµn s\xe0ng!","onlyByLink":"%{type} n\xe0y chá»‰ c\xf3 thá»ƒ Ä‘Æ°á»£c chia sáº» báº±ng li\xean káº¿t, v\xec","type":{"file":"tá»‡p","folder":"thÆ° má»¥c"},"hasSharedParent":"n\xf3 náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedChild":"n\xf3 chá»©a má»™t pháº§n tá»­ Ä‘\xe3 chia sáº»"},"sharingLink":{"title":"Li\xean káº¿t Ä‘á»ƒ chia sáº»","copy":"Sao ch\xe9p","copied":"Ä\xe3 sao ch\xe9p"},"protectedShare":{"title":"Sáº¯p ra máº¯t!","desc":"Chia sáº» báº¥t cá»© thá»© g\xec qua email vá»›i gia Ä‘\xecnh v\xe0 báº¡n b\xe8 cá»§a báº¡n!"},"close":"Ä\xf3ng","gettingLink":"Äang láº¥y li\xean káº¿t cá»§a báº¡n...","error":{"generic":"Ä\xe3 xáº£y ra lá»—i khi táº¡o li\xean káº¿t chia sáº» tá»‡p, vui l\xf2ng thá»­ láº¡i.","revoke":"á»i, Ä‘\xe3 xáº£y ra lá»—i. Vui l\xf2ng li\xean há»‡ vá»›i ch\xfang t\xf4i Ä‘á»ƒ ch\xfang t\xf4i c\xf3 thá»ƒ kháº¯c phá»¥c sá»± cá»‘ n\xe0y sá»›m nháº¥t c\xf3 thá»ƒ."},"specialCase":{"base":"%{type} n\xe0y kh\xf4ng thá»ƒ Ä‘Æ°á»£c chia sáº» ngoáº¡i trá»« báº±ng li\xean káº¿t v\xec n\xf3","isInSharedFolder":"náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedFolder":"chá»©a má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»"}}},"Notes":{"share":{"cta":"Chia sáº»","title":"Chia sáº» \\"%{name}\\"","details":{"title":"Chi tiáº¿t chia sáº»","createdAt":"V\xe0o %{date}","ro":"C\xf3 thá»ƒ Ä‘á»c","rw":"C\xf3 thá»ƒ thay Ä‘á»•i","desc":{"ro":"Báº¡n c\xf3 thá»ƒ xem, táº£i xuá»‘ng v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. Báº¡n sáº½ nháº­n Ä‘Æ°á»£c c\xe1c báº£n cáº­p nháº­t tá»« chá»§ sá»Ÿ há»¯u, nhÆ°ng báº¡n sáº½ kh\xf4ng thá»ƒ tá»± cáº­p nháº­t ná»™i dung n\xe0y.","rw":"Báº¡n c\xf3 thá»ƒ xem, cáº­p nháº­t, x\xf3a v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. C\xe1c báº£n cáº­p nháº­t báº¡n thá»±c hiá»‡n sáº½ Ä‘Æ°á»£c tháº¥y tr\xean c\xe1c Cozies kh\xe1c."}},"sharedByMe":"ÄÆ°á»£c chia sáº» bá»Ÿi t\xf4i","shared":"Ä\xe3 chia sáº»","sharedWithMe":"ÄÆ°á»£c chia sáº» vá»›i t\xf4i","sharedBy":"ÄÆ°á»£c chia sáº» bá»Ÿi %{name}","shareByLink":{"create":"Táº¡o má»™t li\xean káº¿t","send":"Gá»­i li\xean káº¿t","copy":"Sao ch\xe9p li\xean káº¿t","copied":"Li\xean káº¿t Ä‘\xe3 Ä‘Æ°á»£c sao ch\xe9p v\xe0o khay nhá»› táº¡m","failed":"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m","permserror":"Ä\xe3 xáº£y ra lá»—i khi thay Ä‘á»•i quyá»n cá»§a li\xean káº¿t, vui l\xf2ng thá»­ láº¡i.","shareDescription":"Ä\xe2y l\xe0 li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u %{name}:"},"shareByEmail":{"subtitle":"Báº±ng email","email":"Äáº¿n:","emailPlaceholder":"Nháº­p Ä‘á»‹a chá»‰ email hoáº·c t\xean ngÆ°á»i nháº­n","send":"Gá»­i","singleContactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{email}.","contactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡.","singleGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a nh\xf3m %{groupName}.","groupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m.","contactAndGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{nbContact} li\xean há»‡ v\xe0 c\xe1c th\xe0nh vi\xean cá»§a %{nbGroup} nh\xf3m.","comingsoon":"Sáº¯p ra máº¯t! Báº¡n sáº½ c\xf3 thá»ƒ chia sáº» t\xe0i liá»‡u v\xe0 áº£nh chá»‰ trong má»™t c\xfa nháº¥p chuá»™t vá»›i gia Ä‘\xecnh, báº¡n b\xe8 v\xe0 cáº£ Ä‘á»“ng nghiá»‡p cá»§a m\xecnh. Äá»«ng lo, ch\xfang t\xf4i sáº½ cho báº¡n biáº¿t khi n\xe0o n\xf3 sáºµn s\xe0ng!","onlyByLink":"%{type} n\xe0y chá»‰ c\xf3 thá»ƒ Ä‘Æ°á»£c chia sáº» báº±ng li\xean káº¿t, v\xec","type":{"file":"tá»‡p","folder":"thÆ° má»¥c","note":"ghi ch\xfa"},"hasSharedParent":"n\xf3 náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedChild":"n\xf3 chá»©a má»™t pháº§n tá»­ Ä‘\xe3 chia sáº»"},"sharingLink":{"title":"Li\xean káº¿t Ä‘á»ƒ chia sáº»","copy":"Sao ch\xe9p","copied":"Ä\xe3 sao ch\xe9p"},"whoHasAccess":{"title":"1 ngÆ°á»i c\xf3 quyá»n truy cáº­p |||| %{smart_count} ngÆ°á»i c\xf3 quyá»n truy cáº­p"},"protectedShare":{"title":"Sáº¯p ra máº¯t!","desc":"Chia sáº» báº¥t cá»© thá»© g\xec qua email vá»›i gia Ä‘\xecnh v\xe0 báº¡n b\xe8 cá»§a báº¡n!"},"close":"Ä\xf3ng","gettingLink":"Äang láº¥y li\xean káº¿t cá»§a báº¡n...","error":{"generic":"Ä\xe3 xáº£y ra lá»—i khi táº¡o li\xean káº¿t chia sáº» ghi ch\xfa, vui l\xf2ng thá»­ láº¡i.","revoke":"á»i, Ä‘\xe3 xáº£y ra lá»—i. Vui l\xf2ng li\xean há»‡ vá»›i ch\xfang t\xf4i Ä‘á»ƒ ch\xfang t\xf4i c\xf3 thá»ƒ kháº¯c phá»¥c sá»± cá»‘ n\xe0y sá»›m nháº¥t c\xf3 thá»ƒ."},"specialCase":{"base":"%{type} n\xe0y kh\xf4ng thá»ƒ Ä‘Æ°á»£c chia sáº» ngoáº¡i trá»« báº±ng li\xean káº¿t v\xec n\xf3","isInSharedFolder":"náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedFolder":"chá»©a má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»"}}},"Albums":{"share":{"cta":"Chia sáº»","title":"Chia sáº» \\"%{name}\\" vá»›i nhá»¯ng ngÆ°á»i kh\xe1c","details":{"title":"Chi tiáº¿t chia sáº»","createdAt":"V\xe0o %{date}","ro":"Chá»‰ Ä‘á»c","rw":"Äá»c/ghi"},"sharedByMe":"Ä\xe3 chia sáº»","shared":"Ä\xe3 chia sáº»","sharedWithMe":"ÄÆ°á»£c chia sáº» vá»›i t\xf4i","shareByLink":{"create":"Táº¡o má»™t li\xean káº¿t","send":"Gá»­i li\xean káº¿t","copy":"Sao ch\xe9p li\xean káº¿t","copied":"Li\xean káº¿t Ä‘\xe3 Ä‘Æ°á»£c sao ch\xe9p v\xe0o khay nhá»› táº¡m","failed":"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m","permserror":"Ä\xe3 xáº£y ra lá»—i khi thay Ä‘á»•i quyá»n cá»§a li\xean káº¿t, vui l\xf2ng thá»­ láº¡i.","fetchFailed":"á»i! DÆ°á»ng nhÆ° káº¿t ná»‘i cá»§a báº¡n bá»‹ giá»›i háº¡n, h\xe3y thá»­ láº¡i sau khi káº¿t ná»‘i tá»‘t hÆ¡n.","shareDescription":"Ä\xe2y l\xe0 li\xean káº¿t Ä‘áº¿n album %{name}:"},"shareByEmail":{"title":"Báº±ng email","subtitle":"Báº±ng email","email":"email","emailPlaceholder":"Nháº­p Ä‘á»‹a chá»‰ email hoáº·c t\xean ngÆ°á»i nháº­n","send":"Gá»­i","singleContactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{email}.","contactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡.","singleGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a nh\xf3m %{groupName}.","groupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m.","contactAndGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{nbContact} li\xean há»‡ v\xe0 c\xe1c th\xe0nh vi\xean cá»§a %{nbGroup} nh\xf3m.","comingsoon":"Sáº¯p ra máº¯t! Báº¡n sáº½ c\xf3 thá»ƒ chia sáº» t\xe0i liá»‡u v\xe0 áº£nh chá»‰ trong má»™t c\xfa nháº¥p chuá»™t vá»›i gia Ä‘\xecnh, báº¡n b\xe8 v\xe0 cáº£ Ä‘á»“ng nghiá»‡p cá»§a m\xecnh. Äá»«ng lo, ch\xfang t\xf4i sáº½ cho báº¡n biáº¿t khi n\xe0o n\xf3 sáºµn s\xe0ng!"},"unshare":{"title":"X\xf3a khá»i album","success":"Báº¡n Ä‘\xe3 x\xf3a album Ä‘Æ°á»£c chia sáº» n\xe0y khá»i %{email}."},"sharingLink":{"title":"Li\xean káº¿t Ä‘á»ƒ chia sáº»","copy":"Sao ch\xe9p","copied":"Ä\xe3 sao ch\xe9p"},"whoHasAccess":{"title":"Ai c\xf3 quyá»n truy cáº­p"},"protectedShare":{"title":"Sáº¯p ra máº¯t!","desc":"Chia sáº» báº¥t cá»© thá»© g\xec qua email vá»›i gia Ä‘\xecnh v\xe0 báº¡n b\xe8 cá»§a báº¡n!"},"close":"Ä\xf3ng","gettingLink":"Äang láº¥y li\xean káº¿t cá»§a báº¡n...","error":{"generic":"Ä\xe3 xáº£y ra lá»—i khi táº¡o li\xean káº¿t chia sáº» album, vui l\xf2ng thá»­ láº¡i.","revoke":"Ä\xe3 xáº£y ra lá»—i khi thu há»“i li\xean káº¿t chia sáº» album, vui l\xf2ng thá»­ láº¡i."}}},"Organizations":{"share":{"cta":"Chia sáº»","title":"Chia sáº» \\"%{name}\\"","details":{"title":"Chi tiáº¿t chia sáº»","createdAt":"V\xe0o %{date}","ro":"C\xf3 thá»ƒ Ä‘á»c","rw":"C\xf3 thá»ƒ thay Ä‘á»•i","desc":{"ro":"Báº¡n c\xf3 thá»ƒ xem, táº£i xuá»‘ng v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. Báº¡n sáº½ nháº­n Ä‘Æ°á»£c c\xe1c báº£n cáº­p nháº­t tá»« chá»§ sá»Ÿ há»¯u, nhÆ°ng báº¡n sáº½ kh\xf4ng thá»ƒ tá»± cáº­p nháº­t ná»™i dung n\xe0y.","rw":"Báº¡n c\xf3 thá»ƒ xem, cáº­p nháº­t, x\xf3a v\xe0 th\xeam ná»™i dung n\xe0y v\xe0o Twake cá»§a m\xecnh. C\xe1c báº£n cáº­p nháº­t báº¡n thá»±c hiá»‡n sáº½ Ä‘Æ°á»£c tháº¥y tr\xean c\xe1c Cozies kh\xe1c."}},"sharedByMe":"ÄÆ°á»£c chia sáº» bá»Ÿi t\xf4i","shared":"Ä\xe3 chia sáº»","sharedWithMe":"ÄÆ°á»£c chia sáº» vá»›i t\xf4i","sharedBy":"ÄÆ°á»£c chia sáº» bá»Ÿi %{name}","sharedByLink":"ÄÆ°á»£c chia sáº» qua li\xean káº¿t","shareByLink":{"create":"Táº¡o má»™t li\xean káº¿t","send":"Gá»­i li\xean káº¿t","copy":"Sao ch\xe9p li\xean káº¿t","copied":"Li\xean káº¿t Ä‘\xe3 Ä‘Æ°á»£c sao ch\xe9p v\xe0o khay nhá»› táº¡m","failed":"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m","permserror":"Ä\xe3 xáº£y ra lá»—i khi thay Ä‘á»•i quyá»n cá»§a li\xean káº¿t, vui l\xf2ng thá»­ láº¡i.","shareDescription":"Ä\xe2y l\xe0 li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u %{name}:"},"shareByEmail":{"subtitle":"Báº±ng email","email":"Gá»­i Ä‘áº¿n:","emailPlaceholder":"Nháº­p Ä‘á»‹a chá»‰ email hoáº·c t\xean ngÆ°á»i nháº­n","send":"Gá»­i","singleContactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{email}.","contactSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{smart_count} li\xean há»‡.","singleGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a nh\xf3m %{groupName}.","groupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m. |||| Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n c\xe1c th\xe0nh vi\xean cá»§a %{smart_count} nh\xf3m.","contactAndGroupSuccess":"Báº¡n Ä‘\xe3 gá»­i lá»i má»i Ä‘áº¿n %{nbContact} li\xean há»‡ v\xe0 c\xe1c th\xe0nh vi\xean cá»§a %{nbGroup} nh\xf3m.","comingsoon":"Sáº¯p ra máº¯t! Báº¡n sáº½ c\xf3 thá»ƒ chia sáº» t\xe0i liá»‡u v\xe0 áº£nh chá»‰ trong má»™t c\xfa nháº¥p chuá»™t vá»›i gia Ä‘\xecnh, báº¡n b\xe8 v\xe0 cáº£ Ä‘á»“ng nghiá»‡p cá»§a m\xecnh. Äá»«ng lo, ch\xfang t\xf4i sáº½ cho báº¡n biáº¿t khi n\xe0o n\xf3 sáºµn s\xe0ng!","onlyByLink":"%{type} n\xe0y chá»‰ c\xf3 thá»ƒ Ä‘Æ°á»£c chia sáº» báº±ng li\xean káº¿t, v\xec","type":{"file":"tá»‡p","folder":"thÆ° má»¥c"},"hasSharedParent":"n\xf3 náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedChild":"n\xf3 chá»©a má»™t pháº§n tá»­ Ä‘\xe3 chia sáº»"},"sharingLink":{"title":"Li\xean káº¿t Ä‘á»ƒ chia sáº»","copy":"Sao ch\xe9p","copied":"Ä\xe3 sao ch\xe9p"},"protectedShare":{"title":"Sáº¯p ra máº¯t!","desc":"Chia sáº» báº¥t cá»© thá»© g\xec qua email vá»›i gia Ä‘\xecnh v\xe0 báº¡n b\xe8 cá»§a báº¡n!"},"close":"Ä\xf3ng","gettingLink":"Äang láº¥y li\xean káº¿t cá»§a báº¡n...","error":{"generic":"Ä\xe3 xáº£y ra lá»—i khi táº¡o li\xean káº¿t chia sáº» tá»‡p, vui l\xf2ng thá»­ láº¡i.","revoke":"á»i, Ä‘\xe3 xáº£y ra lá»—i. Vui l\xf2ng li\xean há»‡ vá»›i ch\xfang t\xf4i Ä‘á»ƒ ch\xfang t\xf4i c\xf3 thá»ƒ kháº¯c phá»¥c sá»± cá»‘ n\xe0y sá»›m nháº¥t c\xf3 thá»ƒ."},"specialCase":{"base":"%{type} n\xe0y kh\xf4ng thá»ƒ Ä‘Æ°á»£c chia sáº» ngoáº¡i trá»« báº±ng li\xean káº¿t v\xec n\xf3","isInSharedFolder":"náº±m trong má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»","hasSharedFolder":"chá»©a má»™t thÆ° má»¥c Ä‘\xe3 chia sáº»"}},"fingerprint":{"instruction":"V\xec l\xfd do báº£o máº­t, vui l\xf2ng x\xe1c minh danh t\xednh cá»§a **%{userName} (%{userEmail})**. Äá»ƒ l\xe0m Ä‘iá»u n\xe0y, h\xe3y li\xean há»‡ vá»›i **%{userName}** th\xf4ng qua phÆ°Æ¡ng tiá»‡n li\xean láº¡c m\xe0 báº¡n chá»n (cuá»™c gá»i, tin nháº¯n vÄƒn báº£n, á»©ng dá»¥ng nháº¯n tin tá»©c th\xec...) v\xe0 x\xe1c minh m\xe3 báº£o máº­t cá»§a há».<br><br>Má»—i ngÆ°á»i d\xf9ng Twake Ä‘á»u c\xf3 má»™t m\xe3 báº£o máº­t m\xe0 há» c\xf3 thá»ƒ t\xecm tháº¥y báº±ng á»©ng dá»¥ng web cá»§a m\xecnh. M\xe3 báº£o máº­t cá»§a há» pháº£i tÆ°Æ¡ng á»©ng vá»›i:","instruction2":"Náº¿u Ä‘\xfang nhÆ° váº­y, th\xec báº¡n c\xf3 thá»ƒ x\xe1c nháº­n li\xean há»‡ n\xe0y, ngÆ°á»i sáº½ Ä‘Æ°á»£c coi l\xe0 an to\xe0n cho c\xe1c láº§n chia sáº» tiáº¿p theo cá»§a báº¡n."}},"ConfirmRecipientModal":{"title":"%{smart_count} li\xean há»‡ Ä‘ang chá» x\xe1c nháº­n |||| %{smart_count} li\xean há»‡ Ä‘ang chá» x\xe1c nháº­n","intruction":"X\xe1c minh danh t\xednh Twake cá»§a há» Ä‘á»ƒ cáº¥p cho há» quyá»n truy cáº­p v\xe0o ná»™i dung báº¡n Ä‘\xe3 chia sáº» vá»›i há»."},"ShareRecipientsLimitModal":{"title":"Sá»± cá»‘ vá»›i chia sáº» cá»§a báº¡n","content":"Báº¡n kh\xf4ng thá»ƒ chia sáº» %{documentName} vá»›i nhiá»u hÆ¡n %{limit} th\xe0nh vi\xean.","confirm":"T\xf4i hiá»ƒu rá»“i"},"RevokeMemberItem":{"revoke":{"title":"X\xf3a khá»i chia sáº»","desc":"Li\xean há»‡ n\xe0y sáº½ giá»¯ láº¡i má»™t báº£n sao nhÆ°ng c\xe1c thay Ä‘á»•i sáº½ kh\xf4ng c\xf2n Ä‘Æ°á»£c Ä‘á»“ng bá»™ h\xf3a ná»¯a."},"revokeSelf":{"title":"X\xf3a t\xf4i khá»i chia sáº»","desc":"Báº¡n giá»¯ láº¡i ná»™i dung nhÆ°ng n\xf3 sáº½ kh\xf4ng Ä‘Æ°á»£c cáº­p nháº­t giá»¯a c\xe1c Twake cá»§a báº¡n ná»¯a."}},"RevokeSharedDriveMemberItem":{"revoke":{"title":"X\xf3a"}},"GroupRecipient":{"secondary":"%{memberCount} th\xe0nh vi\xean |||| %{memberCount} th\xe0nh vi\xean","secondary_you":"bao gá»“m cáº£ báº¡n"},"RevokeGroupItem":{"revoke":{"title":"X\xf3a nh\xf3m khá»i chia sáº»","desc":"C\xe1c th\xe0nh vi\xean trong nh\xf3m sáº½ giá»¯ láº¡i má»™t báº£n sao nhÆ°ng c\xe1c thay Ä‘á»•i sáº½ kh\xf4ng c\xf2n Ä‘Æ°á»£c Ä‘á»“ng bá»™ h\xf3a ná»¯a."},"revokeSelf":{"title":"X\xf3a t\xf4i khá»i chia sáº»","desc":"Báº¡n giá»¯ láº¡i ná»™i dung nhÆ°ng n\xf3 sáº½ kh\xf4ng Ä‘Æ°á»£c cáº­p nháº­t giá»¯a c\xe1c Twake cá»§a báº¡n ná»¯a."}},"GroupRecipientDetail":{"subtitle":"ÄÆ°á»£c quáº£n l\xfd bá»Ÿi %{ownerName}","empty":{"content":"Nh\xf3m li\xean há»‡ cá»§a báº¡n trá»‘ng! Nhanh ch\xf3ng th\xeam th\xe0nh vi\xean Ä‘á»ƒ báº¯t Ä‘áº§u chia sáº» c\xe1c t\xe0i liá»‡u qu\xfd gi\xe1 cá»§a báº¡n vá»›i há»!","action":"Má»Ÿ Danh báº¡"},"withAccess":{"title":"Quyá»n truy cáº­p v\xe0o má»¥c"},"withoutAccess":{"title":"Kh\xf4ng c\xf3 quyá»n truy cáº­p","status":{"mail-not-sent":"Gá»­i lá»i má»i kh\xf4ng th\xe0nh c\xf4ng","revoked":"Ä\xe3 thu há»“i chia sáº»"},"addEmail":"Nháº­p Ä‘á»‹a chá»‰ email Ä‘á»ƒ má»i li\xean há»‡"}},"ShareRestrictionModal":{"title":"Li\xean káº¿t chia sáº»","action":{"confirm":"X\xe1c nháº­n"},"invalidPasswordMessage":"Thiáº¿u %{smart_count} k\xfd tá»± |||| Thiáº¿u %{smart_count} k\xfd tá»±"},"BoxDate":{"label":"Thá»i háº¡n","text":"X\xf3a quyá»n truy cáº­p sau má»™t thá»i háº¡n"},"BoxPassword":{"label":"Máº­t kháº©u","text":"Giá»›i háº¡n quyá»n truy cáº­p báº±ng máº­t kháº©u"},"BoxEditingRights":{"editTitle":"Quyá»n chá»‰nh sá»­a","readOnlyTitle":"Quyá»n Ä‘á»c","editSubText":"Nhá»¯ng ngÆ°á»i c\xf3 quyá»n truy cáº­p v\xe0o li\xean káº¿t c\xf3 thá»ƒ sá»­a Ä‘á»•i ná»™i dung","readOnlySubText":"Nhá»¯ng ngÆ°á»i c\xf3 quyá»n truy cáº­p v\xe0o li\xean káº¿t chá»‰ c\xf3 thá»ƒ xem ná»™i dung"},"copyReminderContent":{"success":"Ä\xe3 sao ch\xe9p v\xe0o khay nhá»› táº¡m","error":"Kh\xf4ng thá»ƒ sao ch\xe9p v\xe0o khay nhá»› táº¡m"},"shareFile":{"error":"Sá»± cá»‘ vá»›i viá»‡c kh\xf4i phá»¥c li\xean káº¿t: %{error}","text":"Li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u cá»§a t\xf4i %{name}: |||| Li\xean káº¿t Ä‘áº¿n c\xe1c t\xe0i liá»‡u cá»§a t\xf4i %{name}: ","title":"Li\xean káº¿t Ä‘áº¿n t\xe0i liá»‡u cá»§a t\xf4i %{name} |||| Li\xean káº¿t Ä‘áº¿n c\xe1c t\xe0i liá»‡u cá»§a t\xf4i %{name}"},"SharedDrive":{"sharedDriveModal":{"title":"á»” Ä‘Ä©a Ä‘Æ°á»£c chia sáº» má»›i","nameLabel":"T\xean á»• Ä‘Ä©a","add":"Th\xeam","cancel":"Há»§y","create":"Táº¡o","save":"LÆ°u","addPeople":"Th\xeam ngÆ°á»i v\xe0o á»• Ä‘Ä©a Ä‘Æ°á»£c chia sáº»:","successNotification":"á»” Ä‘Ä©a Ä‘Æ°á»£c chia sáº» Ä‘\xe3 Ä‘Æ°á»£c th\xeam","errorNotification":"Lá»—i trong qu\xe1 tr\xecnh táº¡o á»• Ä‘Ä©a Ä‘Æ°á»£c chia sáº»","successNotificationUpdate":"á»” Ä‘Ä©a Ä‘Æ°á»£c chia sáº» cá»§a báº¡n Ä‘\xe3 Ä‘Æ°á»£c sá»­a Ä‘á»•i","errorNotificationUpdate":"Lá»—i khi sá»­a Ä‘á»•i á»• Ä‘Ä©a Ä‘Æ°á»£c chia sáº»"}}}')}}]);